<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r2484 - trunk/docs/CacheWolf_Doku/docbook2html_xsl
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2484%20-%20trunk/docs/CacheWolf_Doku/docbook2html_xsl&In-Reply-To=%3C201002222318.o1MNI6Uk018894%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002408.html">
   <LINK REL="Next"  HREF="002410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r2484 - trunk/docs/CacheWolf_Doku/docbook2html_xsl</H1>
    <B>pfeffer at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2484%20-%20trunk/docs/CacheWolf_Doku/docbook2html_xsl&In-Reply-To=%3C201002222318.o1MNI6Uk018894%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r2484 - trunk/docs/CacheWolf_Doku/docbook2html_xsl">pfeffer at mail.berlios.de
       </A><BR>
    <I>Tue Feb 23 00:18:06 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002408.html">[Cachewolf-svn] r2483 - in trunk/docs/CacheWolf_Doku: .	docbook2html_xsl
</A></li>
        <LI>Next message: <A HREF="002410.html">[Cachewolf-svn] r2485 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2409">[ date ]</a>
              <a href="thread.html#2409">[ thread ]</a>
              <a href="subject.html#2409">[ subject ]</a>
              <a href="author.html#2409">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: pfeffer
Date: 2010-02-23 00:17:28 +0100 (Tue, 23 Feb 2010)
New Revision: 2484

Added:
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/ChangeLog
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/admon.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/autoidx-ng.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/autoidx.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/autotoc.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/biblio.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/block.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/callout.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/changebars.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk-code.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk-common.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunker.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunkfast.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunktoc.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/component.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/division.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbook.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbookng.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/ebnf.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/footnote.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/formal.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/glossary.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/graphics.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/html-rtf.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/html.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/htmltbl.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/index.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/info.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/inline.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/keywords.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/lists.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/maketoc.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/manifest.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/math.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/oldchunker.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/onechunk.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.ent
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xml
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xweb
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/pi.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-chunk-code.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-chunk.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-docbook.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-onechunk.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/qandaset.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/refentry.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/sections.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/synop.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/table.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/task.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.templates.xml
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.templates.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/toc.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/verbatim.xsl
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/xref.xsl
Log:
automatic ant build: add necessary style sheet files to convert from docbook to html


Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/ChangeLog
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/ChangeLog	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/ChangeLog	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,2254 @@
+2005-02-10  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl: Improve handling of db:link
+
+2005-02-01  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* changebars.xsl: Fixed bug #1111717 missing node parameter.
+
+2005-01-19  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Support refdescriptor
+
+	* refentry.xsl: Support multiple refnamedivs
+
+2005-01-13  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Fixed bug in call to href.target that omitted the context param,
+	which should be set to the index, not the indexterm.
+
+2004-12-31  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl: Support @xml:id as well as @id; added debugging messages to time processing of DocBook-NG documents
+
+	* refentry.xsl: Count refsynopsisdiv as a section for counting section levels; attempt to support refdescriptor
+
+2004-12-26  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Fixed bug in olink target collection about listitems.
+
+2004-12-08  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* admon.xsl: Removed unneeded colspan from graphical admon table cell.
+
+2004-11-23  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl, param.ent, param.xweb: RFE #1069397 Add new parameter simplesect.in.toc
+	
+	  - default value of 0 causes simplesect to be omitted from TOCs
+	  - to cause simplesect to be included in TOCs, you must set the
+	    value of simplesect.in.toc to 1
+	
+	note from Norm:
+	
+	  Simplesect elements aren't supposed to appear in the ToC at
+	  all. Ugh. The Definitive Guide doesn't really explain that
+	  very well.
+	
+	  The use case for simplesect is when, for example, every
+	  chapter in a book ends with &quot;Exercises&quot; or &quot;For More
+	  Information&quot; sections and you don't want those to appear in
+	  the ToC.
+
+	* refentry.xsl: Patch #1057029 - Fix titleabbrev warnings in reference (patch from
+	anatoly techtonik)
+
+	* sections.xsl: Bug #1068455 (Invalid h7, h8, etc. generated for deeply nested sections)
+	
+	::CAUSE
+	  Stylesheet HTML heading-generation didn't anticipate that some
+	  jokers like to nest sections really, really deep. Not naming any
+	  names...
+	
+	::FIX
+	  Refined logic to safely handle documents produced by the &quot;I can
+	  nest sections deeper than you can&quot; crowd
+
+2004-11-19  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Bug #1066753 -- subtitle is severely broken (reported by Sam Steingold)
+	
+	::PROBLEM
+	  In (X)HTML output, subtitle for the simplesect element generates an
+	  h2 head, no matter at what level in the sectioning hiearchy the
+	  simplesect occurs; end up with cases where a simplesect is
+	  output with (for example), an h4 title but a h2 subtitle
+	
+	::CAUSE and FIX
+	  No template for simplesect/subtitle in the set of templates that
+	  call the section.subtitle named template, so stylesheets fell
+	  back to using the titlepage.mode template for subtitle
+	
+	::FIX
+	  Added simplesect/subtitle to the set of templates that
+	  call the section.subtitle named template.
+	
+	::AFFECTS
+	  Only affects (X)HTML output of simplesect/subtitle; nothing else
+
+2004-11-17  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, autoidx.xsl, docbook.xsl, param.ent, param.xweb: 
+	Added new parameter index.prefer.titleabbrev. When set to 1, index references will use titleabbrev instead of title when available.
+
+	* manifest.xsl: Removed reference to index HTML pages from manifest if the output format is HTML Help
+
+2004-11-13  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Fixed bugs in simplesect handling.
+
+2004-11-09  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* synop.xsl: Revert change for tracker #1008804 (command in cmdsynopsis is not indented)
+	Will re-implement (correctly) for next release.
+
+2004-11-08  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Replace &lt;tt&gt;&lt;/tt&gt; output with &lt;code&gt;&lt;/code&gt;
+
+2004-10-30  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* admon.xsl: Change admon.graphic.width template to a mode so that different
+	admonitions can have different graphical widths.
+
+2004-10-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* verbatim.xsl: Deprecated shade.verbatim
+
+2004-10-25  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Request #585543 (Quickref-style reference ToC)
+	
+	Wrapped ToC refentrytitle/refname and refpurpose in
+	span with class values. This makes it possible to style
+	them using a CSS stylesheet containing something like below.
+	
+	Implementing tablular look for FO output will have to wait...
+	
+	div.toc {
+	  padding-bottom: 20px;
+	}
+	
+	div.toc dt, div.toc li {
+	  clear: both;
+	}
+	
+	div.toc span.refentrytitle {
+	  float: left;
+	  text-align: left;
+	}
+	
+	div.toc span.refpurpose {
+	  float: right;
+	  width: 65%;
+	  text-align: left;
+	}
+	
+	hr {
+	  clear: both;
+	}
+
+	* synop.xsl: Feature Request #1008804 (command in cmdsynopsis is not indented)
+	
+	Added some CSS magic to enable the requested effect; this change:
+	
+	  - makes all cmdsynopses monospaced
+	
+	  - creates CSS floats that make a hanging indent (aka tabular
+	    presentation) for cmdysnopsis; command name appears first
+	    column, everything else (arg/group/synopfragment) goes to
+	    second column
+	
+	Probably should also add parameters to toggle behavior on/off...
+
+2004-10-24  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* glossary.xsl: Fixed bug #1031851. Target of link is computed by href.target template.
+
+	* inline.xsl: Fixed bug #977874. Remark/comment is rendered as a block/inline depending on its context.
+
+2004-10-23  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Patch #1037326: Don't generate up link when up=home in chunker
+
+	* inline.xsl: Patch #1027078: Support role=strong on emphasis; use strong/em instead of b/i
+
+2004-10-22  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* component.xsl: Bug #1050205; scale component titles if the component is a child of a section
+
+2004-10-20  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param: Added new parameter hyphenate.verbatim that can be used to turn on &quot;intelligent&quot; wrapping of verbatim environments.
+
+2004-10-17  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl: Bug 992905: fixed ugly interaction between bibliography.collection and bibliography.number
+
+2004-10-14  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* chunk-code.xsl, chunk-common.xsl, manifest.xsl: Bug #1046371 - chunk children of Part
+	
+	Problem:
+	  Glossary, Bibliography, and Index were not getting chunked when
+	  they occurred as children of Part. They should be, because other
+	  components (Chapter, Article, Appendix, etc.) within Part are
+	  chunked.
+	
+	Fix:
+	  Added code to have Part chunked in same manner as Book and
+	  Article.
+	
+	Areas affected:
+	  Chunking (no effect on non-chunked output) + manifest
+	
+	Notes:
+	  Discovered a different bug when testing this (bug #1047151):
+	  content of indexes within components sometimes end up being
+	  identical to content of the master index for the whole division
+	  they are a part of (e.g., the whole Book or Set)
+
+2004-09-20  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Support package element
+
+2004-09-19  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Added a class attribute to anchors for olink cross references.
+
+2004-09-13  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Fixed bug in olink resolution.
+
+2004-08-26  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* autoidx-ng.xsl: Sort language is taken from document not from system environment
+
+2004-08-26  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* param.ent, param.xweb: Added component.label.includes.part.label parameter.
+
+2004-08-19  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param: Numbering and formatting of normal and ulink footnotes has been unifyed.
+
+2004-08-15  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Add support for @renderas to section and sect1 et al headings.
+
+2004-08-14  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Add call to anchor template for seglistitem so it can be linked to.
+
+	* lists.xsl: Added class attributes for segmentedlist elements for table presentation.
+
+	* lists.xsl: Fix bug #983042 to make segmentedlist HTML markup more semantic
+	and available to CSS styles.
+
+2004-08-13  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunk-code.xsl: Fixed bug #967909 incorrect 'next' link for index in chapter.
+
+	* chunk-common.xsl: index is defined as chunk only if $generate.index != 0.
+
+	* chunk-common.xsl, docbook.xsl, graphics.xsl, titlepage.xsl: 
+	Bug 955623: Added user.preroot placeholder template to permit xsl-stylesheet
+	and other PIs and comments to be output before the HTML root element.
+
+	* footnote.xsl: RFE 782817, added support for @label in footnote.
+
+	* titlepage.xsl: Non-chunked legalnotice now gets an &lt;a name=&quot;id&quot;&gt; so it can be
+	referenced with xref or link.
+
+2004-08-12  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl, param.ent, param.xweb: For RFE 790517, added parameter img.src.path as a prefix
+	to HTML img src attributes.
+
+2004-08-11  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl, titlepage.xsl: Added support for 4.3 corpcredit element.
+
+	* chunk-common.xsl: Changed link rel=&quot;home&quot; to rel=&quot;start&quot;, and
+	link rel=&quot;previous&quot; to rel=&quot;prev&quot;, per W3C HTML 4.01 spec.
+
+	* graphics.xsl: Made file extension selection case insensitive.
+
+2004-08-09  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl: Now includes common/olink.xsl after olink rewrite.
+
+	* param.ent, param.xweb, xref.xsl: Rewrote olink templates to support new features.
+
+2004-08-06  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Fixed bug where ximg:getDepth was using $nominal.image.width instead of depth.
+
+	* table.xsl: Fixed Bug #840187 entrytbl needs width=&quot;100%&quot; on the table element.
+
+2004-07-25  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Allow calloutlist to have block content before the first callout
+
+2004-07-18  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* titlepage.xsl: Added collabname in titlepage.mode.
+
+2004-06-26  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunk-code.xsl, graphics.xsl: @fileref now resolves xml:base attributes.
+
+	* graphics.xsl: Changed @fileref processing to support xml:base.
+
+2004-06-20  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* param.ent, param.xweb: Added section.autolabel.max.depth parameter.
+
+2004-06-14  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, autoidx-ng.xsl: Updated i18n indexing method to support new type attribute and index.on.type parameter
+
+2004-06-14  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Added support for xrefstyle attrib in olinks.
+
+2004-06-13  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Removed extraneous 'see' template under teriary seealso processing.
+
+	* autoidx.xsl: Added support for index.on.type to support new type attribute
+	on indexterm an index.
+
+	* chunk-code.xsl: Fixed bug in generated filename for separate TOC chunk.
+
+	* param.ent, param.xweb: Added index.on.type parameter to support new 'type' attribute
+	on indexterms and index.
+
+2004-05-28  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Fix for bug #893438: only first seealso processed.
+
+	* xref.xsl: Remove spurious error messages during xref target collection for olinks.
+
+2004-05-25  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* block.xsl: Move blockquote attributions over a bit
+
+2004-05-17  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Fixed bug in Symbols section when index.on.role value used.
+
+2004-05-16  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* autoidx-ng.xsl: Added support for index.on.role into internatinalized indexing
+
+2004-05-07  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Added 'index' to selected nodes for component.toc. Since it is
+	permitted by the DTD, it should be in the TOC.
+
+2004-04-26  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Fix for procedure not getting an anchor if it has a title.
+
+2004-04-21  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunk-code.xsl: Add make.lot.chunk template to generate separate LoT files.
+
+2004-04-19  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunk-code.xsl: Changed make.lots to support the new chunk.separate.lots parameter.
+
+	* param.ent, param.xweb: Added chunk.separate.lots parameter.
+
+	* xref.xsl: Now reports proper error if $current.docid parameter used
+	but the value is not found in target database.
+
+2004-04-18  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Add support for generating an index containing only
+	those terms with a matching role attribute.
+
+	* param.ent, param.xweb: Added index.on.role parameter.
+
+2004-04-11  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* admon.xsl: Fixed bug #872941 where admonition graphic 'alt' text was not translated.
+
+	* autotoc.xsl: Fixes bug #814589, so that refentry in an appendix is now
+	listed in the table of contents.
+
+	* formal.xsl: Fixed bug #881546 where an HTML table was not getting
+	a generated ID so the link to it from the TOC failed.
+
+	* formal.xsl: Added title parameter to formal.object.heading since the
+	match=&quot;abstract&quot; template is trying to use it with such
+	a parameter.
+
+2004-03-25  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Support default textdata encoding also on files included via imagedata and inlinegraphics.
+
+2004-03-25  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Fix typo in attribute quoting
+
+2004-03-24  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, graphics.xsl, param.ent, param.xweb: 
+	Added Saxon support for encoding attribute on textdata. Added new parameter textdata.default.encoding which specifies encoding when encoding attribute on textdata is missing.
+
+2004-02-13  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl, glossary.xsl, index.xsl: Removed obsolete component.title.mode templates.
+
+2004-01-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Use titleabbrev in ToC
+
+	* biblio.xsl: Support info in bibliography mode; support personblurb as an alternative to authorblurb
+
+	* component.xsl: Support 'info'
+
+	* docbook.xsl: Support DocBook NG by way of the following hack: if we find an NG document, do an identity transform to throw away the NG namespace and then process the result. Requires exsl:node-set().
+
+	* docbookng.xsl: New file.
+
+	* inline.xsl: Support 'tag' as a synonym for 'sgmltag'
+
+	* lists.xsl: Make simpara in callout magic; don't output a p inside the li. Sigh.
+
+	* table.xsl: Support bgcolor and class dbhtml PIs on table rows
+
+	* titlepage.xsl: Support personblurb as a synonym for authorblurb
+
+	* xref.xsl: Support xref to personblurb the same way as authorblurb
+
+2004-01-08  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl: Initial support for bibliolist
+
+	* table.xsl: Abort if there's no @cols
+
+2003-12-31  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* autoidx-ng.xsl: New file.
+
+2003-12-30  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl, xref.xsl: Changed document($bibliography.collection)
+	to document($bibliography.collection,.) so it will
+	look in the current directory instead of
+	the stylesheet directory.
+
+	* graphics.xsl: Fixed test for graphic inside inlineequation.
+
+	* xref.xsl: Added refsection to mode=&quot;xref-to&quot; to support xref to refsection.
+
+2003-12-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Fix ugly performance problem in footer.navigation (thanks again Guillaume du Bourguet)
+
+2003-12-12  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Fix bug [ 841586 ] id-attibute in firstterm prohibits link to glossary.
+
+2003-12-09  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Omit setindex from TOC if $generate.index = 0
+
+2003-12-05  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* table.xsl: Now colwidth=&quot;*&quot; treated as colwidth=&quot;1*&quot; for tablecolumns extension.
+
+2003-12-01  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Processing of listitems now processes and preserves order of comments and PIs.
+
+2003-11-30  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl, changebars.xsl, chunk-code.xsl, chunk-common.xsl, chunk.xsl, chunker.xsl, chunkfast.xsl, chunktoc.xsl, html-rtf.xsl, htmltbl.xsl, maketoc.xsl, manifest.xsl, oldchunker.xsl, onechunk.xsl, profile-chunk.xsl, profile-onechunk.xsl, task.xsl: 
+	Added CVS $Id$ comments.
+
+2003-11-29  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, param.ent, param.xweb: Added new HTML Help parameters from patches by W. Borgert
+
+2003-11-25  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Experimental fix for some xref linking issues in cases where dbhtml 'dir' is used.
+
+2003-11-24  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Fix ugly performance problem with chunking (thanks Guillaume du Bourguet)
+
+	* glossary.xsl: Fix bugs in formatting of glosslist
+
+2003-11-23  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Support code inline
+
+2003-11-02  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Moved call to user.head.content to just before &lt;/head&gt;
+	to give the user the last word.
+
+2003-10-23  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">uid50791 at users.sourceforge.net</A>&gt;
+
+	* chunk-code.xsl: Remove index from Next and Previous when
+	$generate.index = 0.
+
+2003-10-03  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Support stepalternatives
+
+2003-09-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* index.xsl: Handle indexdiv/title properly
+
+	* lists.xsl: Bug #779655: fix PIs and comments in segmented lists
+
+2003-09-27  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* block.xsl, qandaset.xsl: Bug #687783: attempt rudimentary support for blockinfo
+
+2003-09-23  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, html.xsl, manifest.xsl, param.ent, param.xweb: 
+	Added new parameter manifest.in.base.dir which can be used to place manifest file and also project files for HTML Help and Eclipse Help into base.dir. This improvement also fixes bug (feature) #662955.
+
+2003-08-29  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Fixed bug in new toc.line template.
+
+	* chunker.xsl: No change, just new timestamp so html2xhtml.xsl will
+	update it when generate the xhtml version.
+
+2003-08-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Rudimentary support for @dir
+
+2003-08-27  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl, formal.xsl, htmltbl.xsl, table.xsl: Reorganize code for consistency with FO; check for obviously broken tables
+
+	* docbook.xsl, task.xsl: Support task
+
+	* formal.xsl, table.xsl: Support HTML tables
+
+	* inline.xsl: Support uri
+
+	* verbatim.xsl: Support startinglinenumber and continuation on verbatim environments
+
+2003-08-07  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* callout.xsl: Fixed callout numbering bug when &lt;co&gt; inside an inline.
+
+2003-08-04  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* qandaset.xsl: Fixed logic for turning on qandaset/qandadiv TOCs with
+	generate.toc param or dbhtml toc PI.
+
+2003-08-01  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* titlepage.xsl: Moved email in &quot;author&quot; template to appear after the
+	affiliation.
+
+2003-07-31  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, param.xweb: Added missing parameter
+
+2003-07-31  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* qandaset.xsl: Fixed extraneous dot when defaultlabel=qanda.
+
+	* qandaset.xsl: Removed extraneous dot from question in autotoc mode as well
+	when defaultlabel=qanda.
+
+2003-07-25  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* param.ent: Added insert.xref.page.number with value of zero to
+	ensure that xrefstyle attributes don't try to generate
+	a page number reference for HTML output.  This parameter
+	does not show up in the HTML doc because it is not
+	to be changed.
+
+	* param.ent, param.xweb: Added xref.label-title.separator, xref.label-page.separator,
+	and xref.title-page.separator parameters to support the
+	xrefstyle select: feature.
+
+2003-07-22  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, param.ent, param.xweb: Added support for Eclipse Help Platform
+
+	* html.xsl: Moving template to place where it can be reused
+
+2003-07-21  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Added a toc.line template to handle formatting of each
+	line in a TOC, similar to that in the FO side.
+	Makes customizing HTML toc easier.
+
+2003-07-17  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Image depth calculation was using nominal.image.width
+	when it should have been using nominal.image.depth.
+
+2003-07-10  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Added no-op templates for list titleabbrev elements.
+
+2003-07-08  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* maketoc.xsl: Handle refentry with mode=&quot;toc&quot; here since refentry mode=&quot;toc&quot;
+	in autotoc.xsl does not use subtoc. This fixes bug #743612.
+
+2003-06-25  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* block.xsl: Process formalpara/title to variable so can test for last
+	char of any generated text.
+
+2003-06-23  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* refentry.xsl: Added param conditional=&quot;0&quot; to call to 'anchor' template
+	for refsections, so those sections are
+	valid targets for indexterm links as expected by autoidx.xsl.
+
+2003-06-23  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* titlepage.xsl: DocBook 4.2 allows e-mail address inside author element and now is this feature supported also by stylesheets. Not sure whether this solution is the best, but it works.
+
+2003-06-22  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl, param.ent, param.xweb: Added draft.mode parameter.
+
+	* graphics.xsl: Fix bug #733406: ignore.image.scaling misses contentwidth.
+
+2003-06-22  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Added fragment for draft.mode
+
+2003-06-21  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* block.xsl: Make attribution a div not a span
+
+	* chunk-code.xsl: Test part/glossary for chunking
+
+	* html-rtf.xsl: Added remove-empty-div mode
+
+2003-06-19  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Fixed bug 743752 where generate.index=0 and empty index
+	left a dead Index link in the TOC.
+
+	* biblio.xsl: Removed duplicate templates for biblioid.
+
+	* onechunk.xsl, profile-onechunk.xsl: Reset suppress.navigation parameter to 1 to turn off useless nav headers.
+
+2003-05-28  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Fixed bridgehead renderas levels to match section level.
+	This was missed when the section levels were corrected
+	a couple of releases back.
+
+2003-05-18  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* .cvsignore: Ignore profile-chunk-code.xsl
+
+2003-05-12  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile, Makefile.param, profile-chunk.xsl, profile-onechunk.xsl: 
+	Fixed profiling to work with modified chunking code
+
+2003-05-08  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Support glossary, bibliography, and index in components
+
+	* block.xsl: Use a div for the attribution so that it can be styled better with CSS
+
+	* chunk-code.xsl, chunk.xsl: Refactored chunking code so that customization of chunk algorithm and chunk elements is more practical
+
+	* param.xweb: Added fragref for admon.textlabel
+
+2003-05-07  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* admon.xsl: admon.textlabel turned off still outputs a note's title child.
+
+	* admon.xsl: Added admon.textlabel parameter to enable turning off
+	the text label such as Note, Warning.
+
+	* param.ent, param.xweb: Fixed name bug in admon.textlabel.
+
+2003-04-14  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, docbook.xsl: Initial support for timestamp PI. From now you can use &lt;?timestamp format=&quot;Y-m-d H:M:S&quot;?&gt; to get current datetime in your document. More features like localization and exctracting date from CVS tag will follow.
+
+2003-04-13  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* table.xsl: A few bug fixes for the colsep/rowsep code
+
+2003-04-12  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* callout.xsl: Support coref
+
+	* ebnf.xsl: Support ebnf.assignment and ebnf.statement.terminator
+
+	* graphics.xsl: Support textobject/phrase on inlinemediaobject
+
+	* inline.xsl: Support beginpage (does nothing; see TDG)
+
+	* lists.xsl: Support 'start' PI on ordered lists
+
+	* param.ent, param.xweb: Added ebnf.assignment and ebnf.statement.terminator
+
+	* table.xsl: Support bgcolor (instead of entry-bgcolor) PI in table cells; make sure rowsep and colsep don't have any effect on the last row or column
+
+2003-03-26  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* Makefile: wdocbook.xsl obsoleted by w2docbook.xsl, updated globally
+
+2003-03-25  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* Makefile: reverting wdocbook.xsl -&gt; w2docbook.xsl changes
+
+2003-03-24  Michael Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">xmldoc at users.sourceforge.net</A>&gt;
+
+	* Makefile: wrong filename '../../litprog/wdocbook.xsl' broke build, fixed
+
+2003-03-20  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl: Added } to background-image css
+
+2003-02-28  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* glossary.xsl: Added warning when $glossary.collection is not blank, but
+	it cannot open the specified file.
+
+2003-02-26  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* qandaset.xsl: Fixed test of $toc PI to turn on qandaset TOC.
+
+2003-02-21  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Added process.chunk.footnotes to sect2 through 5
+	to fix bug of missing footnotes when chunk level
+	greater than 1.
+
+2003-02-17  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Support subtitle class on section headings (for subtitles, naturally)
+
+2003-02-08  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* glossary.xsl: Fixed bug in glossary.xsl where glosssee and glossseealso were
+	using mode=&quot;xref&quot; instead of mode=&quot;xref-to&quot;.
+
+2003-02-07  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, autotoc.xsl, param.ent, param.xweb: Added paramater toc.max.depth which controls maximal depth of ToC as requested by PHP-DOC group.
+
+2003-02-04  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Added support for elements between variablelist and first
+	varlistentry since DocBook 4.2 supports that now.
+
+	* lists.xsl: Exempted titleabbrev from preamble processing in lists,
+	and fixed variablelist preamble code to use the same syntax
+	as the other lists.
+
+2003-01-30  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* qandaset.xsl: Corrected several references to parameter $qanda.defaultlabel
+	that were missing the &quot;$&quot;.
+
+2003-01-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Check for glossterm.auto.link when linking firstterms; don't output gl. prefix on glossterm links
+
+2003-01-22  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Fix bugs in presentation of graphic width/height
+
+	* inline.xsl: Add class attributes to inline elements
+
+	* xref.xsl: Format chapter and appendix titles consistently in xrefs
+
+2003-01-20  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Bug #663331: add article to section entity
+
+	* biblio.xsl: Bug #640762: Support new biblioentry elements
+
+	* chunk-common.xsl: Bug #648473: don't output the html.ext when using dbhtml filenames
+
+	* footnote.xsl: Support {table.}footnote.number.{format,symbols}
+
+	* glossary.xsl: Support glossentry.show.acronym
+
+	* param.ent, param.xweb: Support xref.with.number.and.title
+
+	* param.ent, param.xweb: Added {table.}footnote.number.{format,symbols}, entry.propagates.style, and glossentry.show.acronym
+
+	* sections.xsl: Don't force a ToC for refentrys
+
+	* table.xsl: Support entry.propagates.style
+
+	* titlepage.templates.xml: SIGNIFICANT changes to the titlepage template setup. See RELEASE-NOTES.
+
+	* xref.xsl: Handle xref to glossentry
+
+2003-01-17  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Output ul list type only if css.decoration is non-zero
+
+	* xref.xsl: Remove duplicated IDs when endterm is used on xref
+
+2003-01-12  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Make sure that indexdivs are properly scoped. I've done this by adding a test to suppress the division if it contains no terms. It seems like there might be a better way, but I can't see it just at the moment
+
+2003-01-08  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: In olink, use document($target.database.document, /) so the
+	olink database location is relative to the document, not
+	the stylesheet.
+
+2003-01-06  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl, index.xsl: Removed unnecessary generate-index-from-terms template in
+	favor of generate-index with scope parameter.
+
+2003-01-02  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl, index.xsl: Rework indexing to avoid XSLT limitation/Saxon bug with context dependencies; finish porting Bob's changes from FO to HTML
+
+	* index.xsl, titlepage.templates.xml, titlepage.xsl: Support setindex (there were all sorts of things wrong with it)
+
+2003-01-01  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl, index.xsl: Make index elements always index the book that contains them (if there is one, otherwise the whole document); setindex always indexes the whole document
+
+	* autotoc.xsl: Support List of Procedures
+
+	* formal.xsl, xref.xsl: Use titleabbrev instead of title in xrefs
+
+	* graphics.xsl: Support ignore.image.scaling parameter; fix bug where 'center' is output for align on img
+
+	* param.ent, param.xweb: New parameters
+
+	* sections.xsl: Don't output section IDs twice when formatting subtitles
+
+2002-12-31  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* callout.xsl: Whitespace
+
+	* graphics.xsl: Support alt text on mediaobjectco
+
+	* inline.xsl: Make lineannotations italic
+
+2002-12-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Now that xrefstyle is official; make it take priority even when use.role.as.xrefstyle is non-zero.
+
+	* xref.xsl: Make endterm on xref higher priority than xreflabel on the target
+
+2002-12-18  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Sorts were being done on primary entries, but without
+	folding upper and lower case together.  Now it does the folding.
+
+	* graphics.xsl: Now uses select.mediaobject.index for selecting mediaobject.
+	Also puts align attribute value on &lt;div&gt; as the comment says
+	it should.
+
+2002-12-17  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param: Fixed build problems with new parameters.
+
+2002-12-17  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* math.xsl: Changed selection of mediaobject to be more consistent using
+	a separate select.mediaobject.index template. Also added
+	text-align to block containing external-graphic in fo output.
+
+2002-12-17  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Fixed build problems with new parameters.
+
+2002-12-13  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* glossary.xsl: Handles missing otherterm targets in glosssee and glossseealso.
+
+2002-12-06  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* block.xsl: Fixed epigraph template to process all the permitted
+	children, not just para.
+
+	* graphics.xsl, param.ent, param.xweb: Enabled selection of imageobject based on role attribute.
+
+2002-12-04  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl, component.xsl, sections.xsl: Added component.toc.separator and section.toc.separator as
+	emtpy templates for customization of transition
+	from TOC to first content.
+
+2002-11-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Make opencircle=circle in itemizedlist marks
+
+2002-11-25  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Made subtitles in sections scale to proper heading level.
+
+2002-11-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* admon.xsl: Align titles on graphical admonitions
+
+	* biblio.xsl, xref.xsl: Support bibliosource; improve numbered bibliography entries and cross-references to them
+
+2002-11-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* table.xsl: Insignificant tweak
+
+2002-11-14  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl: Use xreflabel (if it's present) on bibliography entries
+
+	* component.xsl: Article appendix titles should be top-level titles
+
+	* refentry.xsl: Handle nested refsections
+
+	* table.xsl: Support entrytbl
+
+	* xref.xsl: Whitespace
+
+2002-11-01  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Output anchors for author/editor/othercredit names
+
+	* lists.xsl: Output anchors for simplelist members
+
+2002-10-31  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Support spanning index terms (endofrange/startref)
+
+2002-10-20  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Bug #619474: support errortext element
+
+2002-10-19  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* block.xsl, component.xsl, division.xsl, refentry.xsl, sections.xsl: 
+	Support output of language attribute
+
+	* inline.xsl: Support output of language attribute on foreignphrase and fix bug in glossterm linking
+
+2002-10-09  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Fixed bug in lookup of olink database document baseuri
+	attribute for case of no site map.
+
+2002-10-08  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* formal.xsl: Use table 'tabstyle' attribute for div class
+
+2002-10-06  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Simplify chunk-element-content; no semantic differences
+
+	* chunk.xsl: Reworked chunking for downstream customization; will break any existing customization layer that changes the chunking algorithm
+
+2002-10-04  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl, component.xsl, sections.xsl: Support optional titles on ToCs
+
+	* lists.xsl: Bug #615464: fix typo in compact list spacing
+
+	* param.ent, param.xweb, table.xsl: Made separate parameters for table frame and table cell border properties
+
+	* synop.xsl: Bug #617717: remove spurious hash in anchor name
+
+2002-10-04  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* titlepage.xsl: Fixed bug #618600. Address is now displayed verbatim also on titlepages.
+
+2002-10-02  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Support continuation of orderedlists and inherited numeration in FO
+
+2002-10-01  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Changed section.level template to return a number that matches
+	the section level (sect1 = 1, etc.), and changed other
+	templates to compensate for the change, so the output
+	should be the same as before.
+
+2002-09-27  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Bug #496294: don't index endofrangeentries. They're no longer indexed, but they aren't handled quite right yet either, they don't generate ranges
+
+	* autotoc.xsl: Properly support bridgehead.in.toc parameter
+
+	* biblio.xsl: Related to bug #583282: don't duplicate footnotes in bibliographys either
+
+	* block.xsl, titlepage.xsl: Bug #582192: support revdescription and improve effectiveness of html-rtf by extending the number of places where its used
+
+	* component.xsl: Bug #596599: TOC for article/appendix in chunked HTML
+
+	* docbook.xsl: Make sure chunk always returns zero if we're not chunking
+
+	* formal.xsl: Bug #497603: fixed and added default.float.class
+
+	* glossary.xsl: Bug #583282: footnote duplicated in glossary footer
+
+	* graphics.xsl: Bug #516859: added default.image.width
+
+	* index.xsl: Related to bug #583282: don't duplicate footnotes in indexes either
+
+	* param.ent, param.xweb: Use new parameters
+
+	* synop.xsl: Total rework of funcsynopsis code; now supports a 'tabular' presentation style for 'wide' prototypes; see funcsynopsis.tabular.threshold
+
+2002-09-20  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* changebars.xsl: Address Bug #610660: use system.head.content instead of user.head.content; tone down the intensity of the colors a bit
+
+	* chunk-common.xsl: Call system.head.content in html.head
+
+	* docbook.xsl: Add context to error message about a missing template
+
+	* docbook.xsl: Address Bug #610660: Added system.head.content so that stylesheets can output things before the users css.stylesheet (for example). Also added a title parameter to head.content
+
+	* graphics.xsl: Call the *.head.content templates when writing out long description chunks
+
+	* synop.xsl: Bug #605150: process arg correctly even when it's in a group
+
+	* titlepage.xsl: Call the *.head.content templates when writing out legalnotice chunks
+
+	* titlepage.xsl: Bug #607725: make sure legalnoticelink is correct even when chunking to a different html.dir
+
+2002-09-18  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Use CSS to set viewport characteristics if css.decoration is non-zero, use div instead of p for making graphic a block element; make figure titles the default alt text for images in a figure
+
+	* html-rtf.xsl: Handle XHTML RTFs more completely
+
+2002-09-17  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl: Use local URIs for importing docbook.xsl and chunk-common.xsl
+
+	* qandaset.xsl: Added default table summary to qandaset tables
+
+2002-09-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl, chunkfast.xsl: Attempt to make chunking faster; chunkfast is still experimental
+
+2002-09-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Support indexing in webpages (website DTD). In the long run, this probably isn't a good strategy...
+
+2002-09-06  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* admon.xsl: Output table summary and img alt for graphical admonitions
+
+	* docbook.xsl: Whitespace changes
+
+	* param.ent, param.xweb: Use the new l10n.* parameters
+
+2002-09-04  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Ignore dbhtml dir if the section isn't a chunk
+
+	* chunk.xsl: Make sure chunked ToC/LoT goes in the right base.dir
+
+	* component.xsl: Allow generate.toc parameter to control ToC in article/appendixes
+
+	* graphics.xsl: Use the graphicsize.extension parameter
+
+2002-09-03  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* refentry.xsl: Do something reasonable with refsection; this still needs work
+
+	* table.xsl: Make sure row-level colsep and rowsep values are 'inherited' onto missing cells
+
+2002-08-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* table.xsl: Make inherited attributes work for 'missing' table cells
+
+2002-08-26  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl, param.ent, param.xweb: Made chunk.tocs.and.lots a proper parameter
+
+2002-08-25  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Fixed bug #496281. Refentry is now recognized as target for links from index.
+
+2002-08-22  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param: Index can be alternatively created using HHK file from now. This allows see-also processing and index terms also points to their exact location.
+
+2002-08-22  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Format see/seealso entries correctly
+
+	* autotoc.xsl, chunk-common.xsl, chunk.xsl, component.xsl, division.xsl: 
+	Rework(ing) ToC/LoT generation to support chunking the ToC/LoT; don't output empty rows in navigation tables
+
+2002-08-22  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.ent, param.xweb: Index can be alternatively created using HHK file from now. This allows see-also processing and index terms also points to their exact location.
+
+2002-07-29  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Added valign=&quot;top&quot; attribute to the &lt;col&gt; element
+	for variablelist term column.  I was getting vertically
+	centered alignment for the term.
+
+2002-07-19  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl, inline.xsl, param.ent, param.xweb: Support menuchoice.menu.separator, menuchoice.separator, and bibliography.numbered
+
+2002-07-18  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* block.xsl, lists.xsl, param.ent, param.xweb: Added support for para.propagates.style
+
+	* lists.xsl: Use tr.attributes
+
+	* param.ent, param.xweb: Added html.cellpadding and html.cellspacing
+
+	* table.xsl: Added tr.attributes named template (for odd-row coloring and such) and html.cellpadding and html.cellspacing for table defaults
+
+2002-07-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: When emphasis propagates its role attribute as the HTML span class and a role is provided, don't use &lt;em&gt;
+
+2002-07-16  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Remove 'article' from the catch-all template match in mode=xref-to
+	because it is already covered in another xref-to template,
+	leading to an ambigious selection of template.
+
+2002-07-10  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunker.xsl: Repeat after me: you cannot use xsl:attribute on intruction elements, you cannot use...
+
+	* graphics.xsl: Refactor calls to getWidth() and getDepth() to work around XSLTC bugs
+
+2002-07-09  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl: Don't output square brackets if there's no biblioentry label
+
+	* synop.xsl: Bug #573726: fix cmdsynopsisref formatting
+
+2002-07-08  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Bug #574840: fix bug where some symbol index terms got lost
+
+	* autoidx.xsl: Bug #574841: trim leading and trailing whitespace from primary/secondary/tertiary index terms
+
+	* graphics.xsl: Work-around bug in xsltproc: explicitly cast scale to a number() before comparing it to 1.0
+
+	* html-rtf.xsl, verbatim.xsl: Bug #567130: make sure literallayout children don't get lost
+
+2002-07-08  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Moved the target.database parameter to be the first
+	child in the olink template.
+
+2002-07-07  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl, chunk.xsl: First tentative stab at getting ToCs and LoTs into separate chunks--does not work
+
+	* footnote.xsl: Fix footnotes in table titles
+
+	* lists.xsl: Fix ugly bug: make sure premables to orderedlist and itemizedlist elements are actually formatted
+
+2002-07-06  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Bug fix for inlinegraphic not being inline.
+	The test for setting $viewport to 0 was
+	  test=&quot;inlinegraphic
+	        | ancestor::inlinemediaobject
+	        | ancestor::inlineequation&quot;
+	when it should be:
+	  test=&quot;local-name(.) = 'inlinegraphic'
+	        or ancestor::inlinemediaobject
+	        or ancestor::inlineequation&quot;
+	Now inlinegraphics are inline.
+
+	* xref.xsl: Added $verbose parameter to default xref-to template
+	so olink target collection can be quiet for elements
+	that don't have an xref-to.
+	Also fixed a line break in an olink error message.
+
+2002-07-05  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl: Modified for new stylesheet olink system.
+	Checks the collect.xref.targets parameter and
+	runs the target collection process if selected.
+	Default is to not run the collection process.
+
+	* docbook.xsl: Modified for the new stylesheet olink system.
+	Checks the collect.xref.targets parameter and runs
+	the target data collection process if selected.
+	Default is to not run the collection process.
+
+	* param.ent: Added seven new parameters for the new stylesheet olink system:
+	target.database.document
+	targets.filename
+	collect.xref.targets
+	olink.base.uri
+	use.local.olink.style
+	current.docid
+	olink.doctitle
+
+	* param.ent, param.xweb: Removed references to the chunk.datafile parameter,
+	because Norm removed that parameter due to
+	obsolescence.
+
+	* param.xweb: Added seven parameters for the new stylesheet olink system:
+	target.database.document
+	targets.filename
+	collect.xref.targets
+	olink.base.uri
+	use.local.olink.style
+	current.docid
+	olink.doctitle
+
+	* xref.xsl: Modified to use new stylesheet olinks.
+	Extended the olink template for the new targetdoc and
+	targetptr attributes.
+	Loads the target database into keys for quick lookups.
+
+2002-07-04  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Feature req #525507: support xref to para by using the nearest containing section as the generated text
+
+2002-07-03  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl, param.ent, param.xweb: Use header.rule and footer.rule parameters when building page navigation
+
+	* docbook.xsl: Feature Req #502932: added root.messages template for user defined messages
+
+2002-06-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* formal.xsl, lists.xsl: Make list/procedure titles use gentext and have consisten formatting
+
+2002-06-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Fix footnote context error (Felix Rabe)
+
+2002-06-27  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* footnote.xsl: Make sure function-available is used around the node-set extension function
+
+2002-06-27  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* footnote.xsl: Fixed typo
+
+2002-06-27  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* table.xsl: Whitespace
+
+2002-06-26  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl, xref.xsl: Unwrap nested links
+
+	* table.xsl: Rework the CSS table-border properties so that all three don't have to be specified at once
+
+2002-06-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunker.xsl: Turn off omit-xml-declaration, for what it's worth, in text mode
+
+	* table.xsl: Added PI for cellspacing and cellpadding; also added currently useless Python extension hooks
+
+2002-06-13  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param: Added parameter for disabling HTML output when testing various HTML Help features.
+
+	* Makefile.param: New features. A lot of new features. For HTML Help.
+
+2002-06-13  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunker.xsl: Use the new chunking parameters: NOTE WELL: they are described in param.xweb but actually defined in chunker.xsl to make it independent
+
+2002-06-13  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* chunker.xsl: Modified output attributes for text chunks as Saxon doesn't like empty values for them.
+
+2002-06-13  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* html-rtf.xsl: Renamed a template
+
+	* inline.xsl: Changed test condition for xlink: simple links
+
+	* manifest.xsl, math.xsl, param.ent: Use the new chunking parameters: NOTE WELL: they are described in param.xweb but actually defined in chunker.xsl to make it independent
+
+2002-06-13  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.ent: Added parameter for disabling HTML output when testing various HTML Help features.
+
+	* param.ent: New features. A lot of new features. For HTML Help.
+
+2002-06-13  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Use the new chunking parameters: NOTE WELL: they are described in param.xweb but actually defined in chunker.xsl to make it independent
+
+2002-06-13  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Added parameter for disabling HTML output when testing various HTML Help features.
+
+	* param.xweb: New features. A lot of new features. For HTML Help.
+
+2002-06-12  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl, param.ent, param.xweb: Added new parameters suppress.{footer|header}.navigation for separate control over navigation bar in footer and header.
+
+2002-06-11  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* formal.xsl: Make sure formal objects have an anchor
+
+	* graphics.xsl: Don't put alt on object or embed
+
+	* graphics.xsl: Don't output viewport table if it isn't going to do anything useful
+
+	* graphics.xsl, param.ent, param.xweb: Made new parameters public
+
+	* html-rtf.xsl: Fix list of block elements and support xhtml
+
+	* html-rtf.xsl: When unwrapping; don't produce empty elements if there's no need
+
+	* xref.xsl: Experimental support for xrefstyle
+
+2002-06-09  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl: Feature req #565822: support multiple html.stylesheets
+
+	* docbook.xsl: Patch #565199: fix quotation marks in draft URL generation in CSS
+
+2002-06-06  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl: Add support for HTML META name=description from abstract
+
+	* param.ent, param.xweb: New parameters: generate.meata.abstract and use.role.as.xrefstyle
+
+2002-06-03  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile: Added dependencies for profiling stylesheets
+
+2002-05-23  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl, param.ent, param.xweb: Support for SVG in HTML
+
+	* html-rtf.xsl: Protect calls to extension functions behind function-available tests
+
+2002-05-21  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* qandaset.xsl: Fix anchors for references to QandAEntrys. Output '. ' in some contexts (this is a hack)
+
+2002-05-17  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* onechunk.xsl: Make TOC (and other internal references) all just fragment identifiers...we're making one chunk after all
+
+2002-05-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl, html.xsl: Moved href.target to html.xsl; added href.target.uri (which is functionally equivalent to href.target in the non-chunking case)
+
+2002-05-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl, onechunk.xsl: Fix bugs in onechunk---it wasn't working at all
+
+2002-05-14  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Bug #555809: make sure that a longdesc, if written, gets the correct relative URI
+
+2002-05-13  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Fix inherited directory naming problems when using dbhtml. Add context to site navigation link calls
+
+	* chunk-common.xsl, param.ent, param.xweb: Add extra LINK elements to the HTML HEAD of chunked output (for enhanced site navigation as per Mozilla 1.0)
+
+	* chunker.xsl: Work around relative filename bug in libxslt
+
+	* pi.xsl: Try to avoid x//y in inherited dbhtml dir settings
+
+2002-05-12  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* block.xsl: Support title on blockquote
+
+	* chunk.xsl: Turn off refentry.separator by default when chunking
+
+	* chunk.xsl: Fix ugly prev/next bug introduced by my attempt to work around Xalan problems
+
+	* graphics.xsl: Reworked support for graphic attributes; now support DocBook 4.2CR1 attributes
+
+	* html.xsl: Remove reference to obsolete using.chunker parameter
+
+	* math.xsl: Support MathML by passing it through unchanged
+
+	* param.ent, param.xweb: Added points.per.em; removed obsolete using.chunker
+
+	* table.xsl: Improve support for table borders drawn with CSS (get the semantics right); add support for entry-bgcolor PI
+
+	* verbatim.xsl: Format literal layout elements correctly when linenumbering
+
+	* xref.xsl: Support xref to refnamediv and all elements with titles (at least when they have titles)
+
+2002-05-10  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl: Added support for manifest file as requested by Nik in #552945
+
+2002-05-10  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Remove reference to obsolete using.chunker parameter
+
+2002-05-10  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* manifest.xsl, param.ent, param.xweb: Added support for manifest file as requested by Nik in #552945
+
+2002-05-10  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* pi.xsl: Remove reference to obsolete using.chunker parameter
+
+2002-05-07  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl: The call to write.chunk did not have the $chunk.quietly parameter set.
+	I think I failed to commit that change after testing it in Feb.
+
+	* xref.xsl: Added a template for article in mode=&quot;xref-to&quot; that is similar
+	to the one for chapter.  Now you can use &lt;xref&gt; with a linkend
+	pointing to an article.
+
+2002-05-06  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl, onechunk.xsl: Fix bug #551966 applying onechunk to book
+
+2002-04-30  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl: First attempt to workaround Xalan array-out-of-bounds bug
+
+2002-03-25  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl, chunk-common.xsl, pi.xsl: Handle links across dbhtml-specified relative directories correctly
+
+	* formal.xsl: Support longdesc on tables
+
+	* table.xsl: Use the textobject/phrase for the table summary attribute, if one is present
+
+2002-03-24  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Remove style from longdesc link; added support for textdata in textobject
+
+	* inline.xsl: Support personname
+
+	* xref.xsl: Handle xref to editor, othercredit, and personname
+
+2002-03-21  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl, titlepage.xsl: Support biblioid
+
+2002-03-18  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* Makefile, autotoc.xsl, component.xsl, division.xsl, param.ent, param.xweb, qandaset.xsl, refentry.xsl, sections.xsl: 
+	Replace generate.*.toc and generate.*.lot with single generate.toc parameter.
+
+	* autotoc.xsl: Fix ToC section depth calculation
+
+2002-03-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* synop.xsl: Improve appearance of classsynopsis elements
+
+2002-03-14  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* .cvsignore: Ignore profiling stylesheets
+
+	* Makefile: Make profiling onechunk
+
+	* admon.xsl, autoidx.xsl, autotoc.xsl, biblio.xsl, block.xsl, callout.xsl, changebars.xsl, chunk-common.xsl, chunk.xsl, chunker.xsl, chunktoc.xsl, component.xsl, division.xsl, docbook.xsl, ebnf.xsl, footnote.xsl, formal.xsl, glossary.xsl, graphics.xsl, html-rtf.xsl, html.xsl, index.xsl, info.xsl, inline.xsl, keywords.xsl, lists.xsl, maketoc.xsl, math.xsl, oldchunker.xsl, onechunk.xsl, param.ent, param.xweb, pi.xsl, qandaset.xsl, refentry.xsl, sections.xsl, synop.xsl, table.xsl, titlepage.templates.xml, titlepage.xsl, toc.xsl, verbatim.xsl, xref.xsl: 
+	Whitespace only: change CR/LF back to LF. Norm was a total moron.
+
+	* admon.xsl, autoidx.xsl, autotoc.xsl, biblio.xsl, block.xsl, callout.xsl, changebars.xsl, chunk-common.xsl, chunk.xsl, chunker.xsl, chunktoc.xsl, component.xsl, division.xsl, docbook.xsl, ebnf.xsl, footnote.xsl, formal.xsl, glossary.xsl, graphics.xsl, html-rtf.xsl, html.xsl, index.xsl, info.xsl, inline.xsl, keywords.xsl, lists.xsl, maketoc.xsl, math.xsl, oldchunker.xsl, onechunk.xsl, param.ent, param.xweb, pi.xsl, qandaset.xsl, refentry.xsl, sections.xsl, synop.xsl, table.xsl, titlepage.templates.xml, titlepage.xsl, toc.xsl, verbatim.xsl, xref.xsl: 
+	Whitespace changes only: use PC-style CR/LF because Unix clients choke on this far less often than PC clients choke on the reverse. Grrr.
+
+	* block.xsl: Generate anchors before the formal.object.heading, not within it; support formal.title.placement
+
+	* formal.xsl, lists.xsl, param.ent, param.xweb: Support formal.title.placement
+
+	* lists.xsl, titlepage.xsl: Handle revisionflag a little better on copyrights
+
+	* titlepage.xsl: Generate anchors before the formal.object.heading, not within it
+
+2002-03-13  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* footnote.xsl: Fix debugging error
+
+	* footnote.xsl: Numerate footnotes and table footnotes correctly
+
+	* lists.xsl: Bug #516227: segmentedlist/titles
+
+	* refentry.xsl: Process refsynopsisdiv titles in their own template so they don't get default title processing
+
+	* table.xsl: Make tfoot come out before tbody; even in HTML it's supposed to be that way
+
+	* verbatim.xsl: Improve efficiency of make-verbatim; thanks to Paul Grosso, John Dreystadt, et. al.
+
+2002-03-12  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* callout.xsl: Modified match=&quot;co&quot; template to use its linkends attribute
+	to form a hotlink to the callout element, forming the
+	two-ways links as described in
+	The Definitive Guide.  At this time, only a single linkend
+	value is supported, since HTML doesn't handle multiply-targeted
+	links.
+
+2002-03-11  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* footnote.xsl: Fixed bug #520995. Removed duplicated footnote numbers.
+
+2002-03-10  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl: Support the new generate.id.attributes parameter to prevent generating both div ID and a NAME attributes; also suppress revhistory in bibliographies
+
+	* component.xsl, division.xsl, glossary.xsl, index.xsl, param.ent, param.xweb: 
+	Support the new generate.id.attributes parameter to prevent generating both div ID and a NAME attributes
+
+	* inline.xsl: Use em instead of i for emphasis
+
+	* onechunk.xsl: Update onechunk to the new chunking scheme
+
+2002-03-07  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Modified refentry to use mode=title.markup rather than mode=title
+	so indexterms are not included in the TOC entries for refentry.
+
+2002-03-03  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, param.ent, param.xweb: Added new stylesheet parameters for profiling.
+
+2002-03-01  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile, Makefile.param: First portion of new profiling code. New stylesheet parameters will come later.
+
+2002-03-01  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl: Move stylesheet.result.type out of param and put it explicitly in each stylesheet because it has to be different
+
+	* graphics.xsl: Handle the case where graphics in inlineequations are inline
+
+	* param.ent: Removed stylesheet.result.type reference
+
+	* param.xweb: Added fragref for chunk.quietly
+
+	* titlepage.xsl: Added DIV wrappers to author and authorgroup for CSS styling
+
+2002-02-25  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunker.xsl, chunktoc.xsl, graphics.xsl, param.ent, param.xweb, titlepage.xsl: 
+	Added chunk.quietly parameter and altered the calls
+	to write.chunk to set the 'quiet' param to that value.
+
+2002-02-21  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, math.xsl, param.ent, param.xweb: Better control over delimiters for TeX equations. Added parameter tex.math.delims, when is set to 0, no delimiters (like $ and $$) are output. Same can be done for single equation by &lt;?dbtex delims=&quot;no&quot;?&gt;.
+
+2002-02-20  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Fix toc-depth bug in recursive sections
+
+2002-02-10  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, param.ent, param.xweb: Added parameter htmlhelp.default.topic for overriding default topic to display.
+
+2002-02-09  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, param.ent, param.xweb: Added parameter which controls appearance of root element in HTML Help ToC.
+
+2002-02-07  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl, chunk-common.xsl, chunk.xsl, chunktoc.xsl, maketoc.xsl, param.ent, param.xweb: 
+	Added experimental manual TOC processing for chunking and TOC generation
+
+	* calc-chunks.xsl, chunk-experimental.xsl, expchunk.xsl: 
+	Deleting old experiments
+
+	* docbook.xsl: Tweaked rendering of 'draft' watermark
+
+2002-02-03  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, param.ent, param.xweb: Added parameter htmlhelp.title for manual control over HTML Help title. Improved code for automatic extraction of title from document.
+
+2002-01-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl, param.ent, param.xweb: Support 'draft' watermark
+
+2002-01-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl, block.xsl, docbook.xsl, footnote.xsl: Bug #503271: output biblioentry.item.separator after citetitle
+
+	* block.xsl, footnote.xsl, html-rtf.xsl, param.ent, param.xweb: 
+	Added html.cleanup parameter; if non-zero, do some post-processing of RTFs to improve formatting
+
+2002-01-22  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.ent, param.xweb: Feature request #507087. Added parameter for controling appearance of icons in HTML Help ToC.
+
+2002-01-21  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl: Fixed bug #505683. Changed &lt;I&gt; to &lt;i&gt; to make output compatible with XHTML.
+
+2002-01-10  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl, param.ent, param.xweb: Use the pixels.per.inch parameter
+
+2002-01-09  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Convert graphic widths/depths to pixels
+
+2002-01-08  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl: Make root.filename supercede use.id.as.filename
+
+	* titlepage.xsl: Added template for confsponsor
+
+2002-01-04  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* glossary.xsl, inline.xsl: Make glossary.collection (usually) work when chunking is used; allow the use of glossdivs to be toggled in the document
+
+	* glossary.xsl, inline.xsl, param.ent, param.xweb: First cut at supporting a glossary.collection file
+
+2002-01-03  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* .cvsignore, Makefile.param: Makefile.param is auto generated
+
+	* lists.xsl, param.ent, param.xweb: Use global parameter variablelist.as.table
+
+2002-01-01  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* changebars.xsl: Fix typo
+
+	* chunker.xsl: Use output.method parameter
+
+	* footnote.xsl: Number footnotes in refentrys individually; add priority to match on first para of a footnote
+
+	* lists.xsl: Improve list formatting
+
+	* param.ent, param.xweb: Added new parameters: make.valid.html, refentry.generate.title, and output.method; removed unused parameter callout.unicode.font
+
+	* refentry.xsl: Improve refentry formatting
+
+	* synop.xsl: Made several synopsis elements inline and reworked the formatting code accordingly
+
+	* titlepage.xsl: Fix formatting of copyright with multiple holders
+
+	* xref.xsl: Added target parameter to link
+
+2001-12-15  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl, math.xsl: Improved support for TeX math inside equations.
+
+2001-12-06  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile.param, docbook.xsl, math.xsl, param.ent, param.xweb: 
+	Added support for TeX math in alt element. When using PassiveTeX, TeX equations can be directly passed to TeX. When using HTML, TeX file with code necessary to produce image equivalents of equations is generated.
+
+	* chunk.xsl, chunker.xsl: Template write.text.chunk moved to common place.
+
+2001-12-04  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* Makefile, Makefile.param, chunk.xsl, param.ent, param.xweb: 
+	Fix chunking parameter errors
+
+	* Makefile, Makefile.param, param.ent, param.xweb: Updated parameters and parameter consistency checking
+
+	* changebars.xsl: Feature #481981: support simpara and formalpara in changebars.xsl
+
+	* chunk-experimental.xsl: More hacking
+
+	* chunk.xsl: Feature #477348: support chunk.section.depth (lots and lots of changes here: danger will robinson)
+
+	* xref.xsl: Feature #481793: support xref to refentry
+
+2001-12-02  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* component.xsl: Allow inlines and anchors in titles
+
+2001-12-01  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* changebars.xsl, table.xsl: Bug #472836: @revisionflag and table entries
+
+	* qandaset.xsl: Improve FAQ labeling
+
+2001-11-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Patch #478068: procedures with one step
+
+2001-11-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl, param.ent: Support formatting segmented lists as tables
+
+	* param.ent: Added punct.honorific parameter
+
+2001-11-28  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.ent: Added parameter htmlhelp.hhc.section.depth for controlling depth of sections in a TOC in a left pane of HTML Help viewer.
+
+	* param.ent, param.xweb: Added support for automatic generation of map and context files for HTML Help. Topic names and IDs are marked by special PI &lt;?dbhh topicname=&quot;...&quot; topicid=&quot;...&quot;?&gt;.
+
+2001-11-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Support formatting segmented lists as tables
+
+	* param.xweb: Added punct.honorific parameter
+
+2001-11-28  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Added parameter htmlhelp.hhc.section.depth for controlling depth of sections in a TOC in a left pane of HTML Help viewer.
+
+2001-11-28  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* pi.xsl: Use common pi-attribute template
+
+2001-11-27  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Support tabular presentation of variablelists
+
+	* qandaset.xsl: Format QandASet as a table; there's just no other way to get the formatting right without resorting to absurd hackery
+
+	* refentry.xsl: Fixed typo in refentry separator test
+
+2001-11-18  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* Makefile, glossary.xsl, inline.xsl, param.ent, param.xweb: 
+	Added parameter glossterm.auto.link. When set to 1 links from glossterm to glossentry are created automatically even if there is no linkend attribute on glossterm and id attribute on glossentry.
+
+	* inline.xsl: Baseform attribute is taken into account when autogenerating links for glossterms.
+
+2001-11-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Only output a longdesc link if there's actually a longdesc
+
+	* inline.xsl: Support experimental XLink support
+
+2001-11-12  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-experimental.xsl, chunk.xsl, docbook.xsl, ebnf.xsl, footnote.xsl, inline.xsl, lists.xsl, param.xweb, synop.xsl, toc.xsl, xref.xsl: 
+	Support well-formed documents, use key() instead of id()
+
+	* param.xweb: Added fragref for navig.* params
+
+2001-11-10  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* titlepage.xsl: Fixed formatting of addresses in affiliations in author names
+
+2001-11-09  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Move the obvious ID value from the src:fragment to the refentry in parameter reference pages
+
+2001-11-06  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl: Modified header and footer templates to support option
+	to use graphical icons for navigation.
+
+	* param.ent, param.xweb: Added new parameters supporting the option for graphical
+	icons in navigational headers and footers of chunked html.
+
+2001-11-05  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.ent: Parameters moved to params subdirectory.
+
+2001-11-05  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.ent: Added newline at eof
+
+2001-11-05  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Parameters moved to params subdirectory.
+
+2001-11-03  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl, inline.xsl: Support pubwork=article on citetitle
+
+	* xref.xsl: Remove anchor name on anchor; it erroneously duplicates the html anchor template
+
+2001-10-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* Makefile, graphics.xsl, param.ent, param.xweb: Support HTML longdesc using textobject content
+
+	* table.xsl: Table support improvements
+
+2001-10-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Fix formatting of keycombo
+
+	* param.ent, param.xweb, table.xsl: Fix calculation of rowsep and colsep; added experimental support for table.borders.with.css in HTML; calculation of alignments needs to be added along the same lines
+
+2001-10-14  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* table.xsl: Fixed a number of significant outstanding table problems; I think HTML and FO now format all combinations of spans and missing cells correctly. But the border drawing isn't perfect on FO tables yet.
+
+2001-10-12  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* biblio.xsl: Tweaked bibliography formatting to include the labels
+
+	* param.ent, param.xweb: Fixed some missing references
+
+	* xref.xsl: Tweaked cross reference stuff to prevent square brackets on biblio xrefs from being underlined (it just looks ugly)
+
+2001-10-11  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl, docbook.xsl: Moved autoidx.xsl (and chunker.xsl) directly into docbook.xsl
+
+	* chunk-common.xsl, chunk.xsl: Moved chunk-common into chunk; there's no need for a separate common file anymore
+
+	* chunker.xsl: Removed some out-of-date comments
+
+	* index.xsl: Removed empty generate-index function; we're now using autoidx all the time
+
+	* titlepage.xsl: Moved support for generate.legalnotice.link directly into titlepage.xsl
+
+2001-10-08  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xweb: Added fragrefs for new params
+
+2001-10-07  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* .cvsignore: Added param.html to ignore list
+
+	* .cvsignore, Makefile, param.ent, param.xsl, param.xweb: 
+	Generate params from an xweb file
+
+	* autotoc.xsl, calc-chunks.xsl, chunk-common.xsl, chunk-experimental.xsl, chunker.xsl, ebnf.xsl: 
+	Removed all top-level parameters; they're now all in param.xsl
+
+2001-10-06  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* callout.xsl: Use function-available to select callout extension function
+
+	* component.xsl: Make component ids unconditional
+
+	* graphics.xsl: Use function-available to select text-insert extension function
+
+	* inline.xsl: Make sure all the variants of sgmltag have a class attribute
+
+	* refentry.xsl: Make anchors unconditional, support a separator between refentrys
+
+	* table.xsl: Use function-available to select extension functions
+
+	* titlepage.templates.xml: Added refentry titlepages, but note that refentrys don't usually have one, they usually begin with the Name section
+
+	* titlepage.xsl: Added refentry.titlepage.{recto,verso}.style properties
+
+	* verbatim.xsl: Use function-available to select verbatim extension function
+
+	* xref.xsl: Added names to the link templates so that they can be called that way
+
+	* xtchunk.xsl, xtchunker.xsl: No point keeping the XT files now that I'm using function-available
+
+2001-09-26  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* admon.xsl, biblio.xsl, block.xsl, callout.xsl, component.xsl, division.xsl, ebnf.xsl, formal.xsl, glossary.xsl, graphics.xsl, html.xsl, index.xsl, inline.xsl, lists.xsl, qandaset.xsl, refentry.xsl, sections.xsl, synop.xsl, table.xsl, verbatim.xsl, xref.xsl: 
+	Bug #464487: use (new) anchor template to consistently generate HTML anchors (usually conditionally, in other words, only for elements that actually have an ID)
+
+2001-09-25  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Fix gentext.nav.* templates
+
+	* param.xsl, titlepage.xsl: Support automatic collation of year ranges in copyright
+
+2001-09-24  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* refentry.xsl, synop.xsl: Added some paras to improve spacing
+
+	* verbatim.xsl: Implemented changes suggested by Paul Winder, Sam Brow, and John Dreystadt of Arbortext to make 'make-verbatim' less memory intensive; also added paras to literallayout and address divs for better spacing in NS6
+
+2001-09-22  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* changebars.xsl: sgmltag is an inline
+
+	* chunk-common.xsl: Feature request #439053: support generate.legalnotice.link
+
+	* xref.xsl: Bug #463033: allow xref to list items (in orderedlists) and varlistentrys
+
+	* xref.xsl: Bug #462830: allow %p in templates
+
+2001-09-09  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* onechunk.xsl: New file.
+
+2001-08-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Fix orderedlist numerations
+
+2001-08-25  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Bug #451005: no id anchor for bridgehead
+
+2001-08-14  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Display the ID when gentext cannot be created
+
+2001-08-11  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* param.xsl: Removed the '?' from olink resolver parameter because
+	the olink template will add that (or not, depending on
+	how that template is customized).
+
+2001-08-08  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xsl, verbatim.xsl: Support shade.verbatim parameter
+
+2001-08-05  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xsl: Removed the FormatDingbatCallout classes, they were the same as the FormatUnicodeCallout classes but with a font wrapper. Added a callout.unicode.font parameter to wrap Unicode callouts
+
+2001-08-04  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Add '.' to the autotoc.label.separator; suppress the separator if there is no label
+
+	* chunker.xsl: Added a quiet parameter to suppress the Writing... message
+
+	* refentry.xsl: Don't output anchor for refsect*, the anchor is output as part of the title processing
+
+2001-08-02  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: Allow anchors in section titles
+
+2001-08-02  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: Changed &lt;link&gt; to process its endterm if the element content
+	is empty.
+
+2001-08-01  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* component.xsl: Don't calculate ids where they aren't used; don't put ids on divs because anchors will be output in the component title
+
+	* footnote.xsl: Process simpara in footnote; warn if something unexpected turns up in a footnote
+
+	* formal.xsl: Allow anchors in formal object titles
+
+	* graphics.xsl: Output anchors for images that have IDs
+
+	* lists.xsl: Output anchors for list elements with IDs
+
+	* param.xsl: Leave ../ out of graphics paths by default; that doesn't make sense anymore
+
+	* param.xsl, xref.xsl: First crude beginnings of olink support
+
+	* qandaset.xsl: Remove unnecessary spaces
+
+	* titlepage.templates.xml: Don't suppress othercredit on titlepages
+
+	* titlepage.xsl: Handle othercredits on title pages
+
+2001-07-21  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* block.xsl, param.xsl: Fix title-end punctuation problems on formalparas
+
+2001-07-17  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* graphics.xsl: Fixed bug #442160. Parameter graphic.default.extension is now used also for &lt;graphic&gt; and &lt;inlinegraphic&gt; not only for &lt;imagedata&gt;.
+
+2001-07-17  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* xref.xsl: xref element with endterm attribute now uses normal templates
+	to process the children of the element pointed to by the endterm
+	ID. Formerly it just used the built-in template and rendered
+	just the text nodes.
+
+2001-07-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl, param.xsl: Added phrase.propagates.style and emphasis.propagates.style: if true, wrap a span around phrase and emphasis elements with the role attribute propagated to the class attribute
+
+2001-07-16  Robert Stayton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">bobstayton at users.sourceforge.net</A>&gt;
+
+	* sections.xsl: added null templates for section titleabbrev in normal mode
+
+2001-07-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* table.xsl: Wrap tbody around table footnotes (so that the HTML table model is not broken)
+
+2001-07-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xsl: Make generate.section.toc.level 0 by default
+
+2001-07-10  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk.xsl: Remove extension namespace declarations; they aren't actually used in this module
+
+	* chunker.xsl: Fix EXSLT namespace name for exsl:document element
+
+	* chunker.xsl: Make exsl:document the first choice
+
+	* chunker.xsl, oldchunker.xsl, param.xsl: Move declaration for default.encoding and saxon.character.representation from param.xsl to (old)chunker.xsl so that chunker.xsl can be used by any stylesheet (indepedent of docbook.xsl). Maybe this should get moved to lib...
+
+	* pi.xsl: Irrelevant encoding change
+
+2001-07-09  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Fixed typo in reference to annotate.toc variable
+
+2001-07-08  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* calc-chunks.xsl, chunk-experimental.xsl: Break chunk calculation and chunking into two tasks; *requires* every chunk to have an ID
+
+	* chunker.xsl: Use element-available function not vendor to find chunking elements
+
+	* exsltchunk.xsl, exsltchunker.xsl: These have been integrated into the regular chunker now that it's based on extension-available()
+
+	* keywords.xsl: Tweaked handling of keywords to avoid multiple templates
+
+	* oldchunker.xsl: New file.
+
+	* qandaset.xsl: Improve QandA formatting; make question bold if defaultlabel=none (FR #419315)
+
+	* xref.xsl: Support xref to bridgehead
+
+2001-07-07  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xsl: Added callout.dingbats parameter (for extension support; not really used in HTML)
+
+2001-07-06  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-experimental.xsl, expchunk.xsl: New file.
+
+2001-07-05  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* block.xsl: Whitespace
+
+	* block.xsl, lists.xsl: FR #422097, make a listitem containing a single simpara output an li with only inline content
+
+	* chunk-common.xsl: Patch #428987, use the id of the root element if use.id.as.filename is non-zero; also chunk a /section properly
+
+	* chunk-common.xsl: Patch #418401, add accesskey attributes to HTML navigation
+
+	* param.xsl, sections.xsl: Change semantics of generate.section.toc.level; 0 no longer means ignored it now means less than 1 :-)
+
+	* param.xsl, sections.xsl: SR #431040, added generate.section.toc.level parameter to control depth of sections which get a TOC
+
+	* titlepage.xsl: Patch #415865, output contrib for authors and othercontribs
+
+2001-07-04  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">uid48421 at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Support annotated TOCs
+
+	* biblio.xsl, param.xsl, xref.xsl: Support an external bibliography collection
+
+	* chunk-common.xsl, docbook.xsl, param.xsl: Bug #418968: replaced body.attrs attribute-set with body.attributes template
+
+	* component.xsl, sections.xsl: Remove internal references to *.titlepage.recto.mode and *.titlepage.verso.mode
+
+	* ebnf.xsl: Minor presentation bug fixes
+
+	* xref.xsl: Bug #429011, fix xref to qandset elements
+
+2001-06-22  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl, ebnf.xsl: Support EBNF
+
+	* param.xsl: Remove unused parameter: check.idref
+
+2001-06-21  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl, param.xsl, xref.xsl: Use common code to calculate step numbers; support xref to procedures and steps; added formal.procedures parameter
+
+2001-06-20  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* formal.xsl: Generate formal titles correctly
+
+	* graphics.xsl: Don't put span around inlinemediaobject in programlistings or screens (causes problems with line numbering and callouts)
+
+	* refentry.xsl: Bug 434102: fix refentry inside of chapter and fix refsynopsisdiv formatting in both FO and HTML
+
+	* xref.xsl: Support xref to authorgroup
+
+2001-06-18  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Reordered erroneous test: only link to top-level sections, even if the first one is a chunk
+
+2001-06-17  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* exsltchunk.xsl, exsltchunker.xsl: New file.
+
+2001-06-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* component.xsl: Handle subtitle in articleinfo
+
+2001-06-13  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Make sure the root element gets processed correctly so that it generates the right titlepage
+
+	* component.xsl: Don't output ID attributes on DIVs with required titles since they conflict with the NAME attributes on the subsequently output A tags.
+
+	* docbook.xsl: Pass the current node to user.head.content
+
+	* index.xsl: Updated comment
+
+2001-06-07  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Things preceding steps in procedure are placed before OL list.
+
+2001-06-04  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Fixed typo in compact list support; backed out procedure step changes
+
+	* sections.xsl: Fixed CSS typo; clear: all should be clear: both
+
+2001-06-02  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Fixed bug #424926. Things preceding steps in procedure are not placed inside OL list.
+
+2001-05-23  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* component.xsl: Reorganized templates for clarity
+
+	* graphics.xsl: Fix dup. template bug with is.graphic.*
+
+	* titlepage.xsl: Added template for publisher
+
+2001-05-21  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl: Make the TOC label/title separator a parameter
+
+	* callout.xsl, verbatim.xsl: Move calculation of linenumber.* parameters into the number.rtf.lines template
+
+	* changebars.xsl: Add link and member as inlines
+
+	* sections.xsl: Refactor the section title code
+
+	* titlepage.templates.xml: Reworked titlepage template processing to support use of more interesting
+	predicates.
+	
+	Note: in previous versions, at most one title, subtitle, or titleabbrev
+	element would be processed for each title page. In the new design, if you
+	have multiple title, subtitle, or titleabbrev elements inside an info
+	wrapper (you shouldn't!), they will all be processed.
+
+2001-05-13  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* param.xsl: Fixed ID typo
+
+	* synop.xsl: Fixed synopfragmentref link (suggested by Philippe Martin)
+
+2001-05-12  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autotoc.xsl, param.xsl: Mostly failed attempt to add bridgeheads to the automatic TOC; this option is turned off by default and you should leave it that way.
+
+	* sections.xsl: Calculate the heading level for bridgeheads
+
+2001-05-03  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* lists.xsl: Output anchors for procedures and steps
+
+	* table.xsl: Process head/body/foot in the right order
+
+2001-04-29  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl, chunk.xsl, xtchunk.xsl: Automatically make an index when chunking with a processor other than XT
+
+2001-04-26  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* changebars.xsl: Support a few more elements
+
+	* inline.xsl: Make glossterms hot if they're links. And make them italic.
+
+	* lists.xsl: Improve procedure step/substep enumeration
+
+2001-04-24  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Fix chunking bug
+
+	* chunk-common.xsl: Feature request 416507: added chunk.sections and chunk.first.sections to provide greater chunking flexibility
+
+	* chunker.xsl: Output ID in message
+
+	* glossary.xsl: Fix bug that caused duplicated glossary entries
+
+	* qandaset.xsl: Bug #418100: fix qandaentry anchors; also fixed formatting bug in questions with indexterms
+
+2001-04-21  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* chunker.xsl: Added parameters for changing output encoding in chunked HTML
+
+2001-04-21  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Improve processing of trademarks
+
+2001-04-21  Jirka Kosek &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">kosek at users.sourceforge.net</A>&gt;
+
+	* param.xsl: Added parameters for changing output encoding in chunked HTML
+
+2001-04-20  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* inline.xsl: Restoring accidentally deleted citetitle template
+
+2001-04-18  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* autoidx.xsl: Fix bug: lowercase and uppercase need to be strings (not element names :-)
+
+	* inline.xsl, param.xsl: Bug #413982, easy support for man page CGI links on citerefentry
+
+2001-04-17  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* docbook.xsl, param.xsl: Move label.from.part parameter into param.xsl; default it to 0 so that chapters and appendixes are numbered monotonically throughout a book by default. Moved param.xsl up in the include list, just for good measure
+
+2001-04-16  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* component.xsl: Fix bug in processing of subtitle content on components
+
+	* glossary.xsl, titlepage.templates.xml: Fix formatting of glossarys--things were really broken
+
+	* xref.xsl: Patches Tracker #415439: support title attribute on HTML anchors associated with xrefs
+
+2001-04-15  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Process footnotes correctly when chunking; add summary attribute to navigation tables
+
+	* docbook.xsl: Support inheriting of *info keywords
+
+	* footnote.xsl, sections.xsl: Process footnotes correctly when chunking
+
+	* formal.xsl: Use gentext templates for formal object titles
+
+	* param.xsl: Added new parameters: inherit.keywords, process.source.toc, and process.empty.source.toc; changed the default for spacing.paras to 0
+
+	* table.xsl: Improve support for align attribute on tgroup
+
+	* toc.xsl: Support DocBook toc markup
+
+	* xref.xsl: Make a title attribute on HTML anchors for links to things with titles
+
+2001-04-05  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* table.xsl: Don't translate tgroup align into HTML table align--they don't mean the same thing
+
+	* titlepage.xsl: Suppress titleabbrev on the title page
+
+2001-04-04  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* chunk-common.xsl: Move xsl:message about chunks into the chunker modules
+
+	* chunker.xsl: Support indent and doctype public/system on chunks (for Saxon, anyway, Xalan's multiple-document extension doesn't seem to support this)
+
+	* xtchunker.xsl: Use xsl:choose to support xml, html, and text output methods
+
+2001-04-03  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* callout.xsl: Fix bug 412487, make XSL-generated callout marks honor callout mark parameters
+
+	* chunk-common.xsl: Remove unnecessary xmlns declarations
+
+	* chunker.xsl: Patch to make saxon not produce xml version=1.1 documents
+
+	* param.xsl: Documentation fixes
+
+	* qandaset.xsl: Apply patch 412510 by Jon Willeke, make xref to Question work correctly
+
+	* xref.xsl: Remove unnecessary parameter assignment
+
+2001-04-02  Norman Walsh &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">nwalsh at users.sourceforge.net</A>&gt;
+
+	* .cvsignore, Makefile, admon.xsl, autoidx.xsl, autotoc.xsl, biblio.xsl, block.xsl, callout.xsl, changebars.xsl, chunk-common.xsl, chunk.xsl, chunker.xsl, component.xsl, division.xsl, docbook.xsl, ebnf.xsl, footnote.xsl, formal.xsl, glossary.xsl, graphics.xsl, html.xsl, index.xsl, info.xsl, inline.xsl, keywords.xsl, lists.xsl, math.xsl, param.xsl, pi.xsl, qandaset.xsl, refentry.xsl, sections.xsl, synop.xsl, table.xsl, titlepage.templates.xml, titlepage.xsl, toc.xsl, verbatim.xsl, xref.xsl, xtchunk.xsl, xtchunker.xsl: 
+	New file.
+
+	* Makefile: Use the cvstools version of saxon
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/admon.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/admon.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/admon.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,130 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: admon.xsl,v 1.11 2004/12/08 20:43:51 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;admon.graphic.width&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:text&gt;25&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;note|important|warning|caution|tip&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$admon.graphics != 0&quot;&gt;
+      &lt;xsl:call-template name=&quot;graphical.admonition&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;nongraphical.admonition&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;admon.graphic&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:value-of select=&quot;$admon.graphics.path&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;local-name($node)='note'&quot;&gt;note&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node)='warning'&quot;&gt;warning&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node)='caution'&quot;&gt;caution&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node)='tip'&quot;&gt;tip&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node)='important'&quot;&gt;important&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;note&lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+  &lt;xsl:value-of select=&quot;$admon.graphics.extension&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;graphical.admonition&quot;&gt;
+  &lt;xsl:variable name=&quot;admon.type&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;local-name(.)='note'&quot;&gt;Note&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.)='warning'&quot;&gt;Warning&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.)='caution'&quot;&gt;Caution&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.)='tip'&quot;&gt;Tip&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.)='important'&quot;&gt;Important&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;Note&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;alt&quot;&gt;
+    &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+      &lt;xsl:with-param name=&quot;key&quot; select=&quot;$admon.type&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;$admon.style != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;style&quot;&gt;
+        &lt;xsl:value-of select=&quot;$admon.style&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;table border=&quot;0&quot;&gt;
+      &lt;xsl:attribute name=&quot;summary&quot;&gt;
+        &lt;xsl:value-of select=&quot;$admon.type&quot;/&gt;
+        &lt;xsl:if test=&quot;title&quot;&gt;
+          &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;title&quot;/&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:attribute&gt;
+      &lt;tr&gt;
+        &lt;td rowspan=&quot;2&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;
+          &lt;xsl:attribute name=&quot;width&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;admon.graphic.width&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+          &lt;img alt=&quot;[{$alt}]&quot;&gt;
+            &lt;xsl:attribute name=&quot;src&quot;&gt;
+              &lt;xsl:call-template name=&quot;admon.graphic&quot;/&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/img&gt;
+        &lt;/td&gt;
+        &lt;th align=&quot;left&quot;&gt;
+          &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+          &lt;xsl:if test=&quot;$admon.textlabel != 0 or title&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup&quot;/&gt;
+          &lt;/xsl:if&gt;
+        &lt;/th&gt;
+      &lt;/tr&gt;
+      &lt;tr&gt;
+        &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/td&gt;
+      &lt;/tr&gt;
+    &lt;/table&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;nongraphical.admonition&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;$admon.style&quot;&gt;
+      &lt;xsl:attribute name=&quot;style&quot;&gt;
+        &lt;xsl:value-of select=&quot;$admon.style&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;h3 class=&quot;title&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:if test=&quot;$admon.textlabel != 0 or title&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/h3&gt;
+
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;note/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;important/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;warning/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;caution/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;tip/title&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/autoidx-ng.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/autoidx-ng.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/autoidx-ng.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,99 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;!DOCTYPE xsl:stylesheet [
+
+&lt;!ENTITY lowercase &quot;'abcdefghijklmnopqrstuvwxyz'&quot;&gt;
+&lt;!ENTITY uppercase &quot;'ABCDEFGHIJKLMNOPQRSTUVWXYZ'&quot;&gt;
+
+&lt;!ENTITY primary   'normalize-space(concat(primary/@sortas, primary[not(@sortas)]))'&gt;
+&lt;!ENTITY secondary 'normalize-space(concat(secondary/@sortas, secondary[not(@sortas)]))'&gt;
+&lt;!ENTITY tertiary  'normalize-space(concat(tertiary/@sortas, tertiary[not(@sortas)]))'&gt;
+
+&lt;!ENTITY sep '&quot; &quot;'&gt;
+&lt;!ENTITY scope 'count(ancestor::node()|$scope) = count(ancestor::node())
+                and ($role = @role or $type = @type or
+                (string-length($role) = 0 and string-length($type) = 0))'&gt;
+]&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:fo=&quot;<A HREF="http://www.w3.org/1999/XSL/Format">http://www.w3.org/1999/XSL/Format</A>&quot;
+                version=&quot;1.0&quot;
+                xmlns:func=&quot;<A HREF="http://exslt.org/functions">http://exslt.org/functions</A>&quot;
+                exclude-result-prefixes=&quot;i&quot;
+                xmlns:i=&quot;urn:cz-kosek:functions:index&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: autoidx-ng.xsl,v 1.4 2004/08/26 07:50:09 kosek Exp $
+     ********************************************************************
+
+     This file is part of the DocBook XSL Stylesheet distribution.
+     See ../README or <A HREF="http://docbook.sf.net/">http://docbook.sf.net/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:include href=&quot;../common/autoidx-ng.xsl&quot;/&gt;
+
+&lt;!-- Modified original code is using index group codes instead of just first letter 
+     to gain better grouping --&gt;
+&lt;xsl:template name=&quot;generate-index&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;(ancestor::book|/)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;role&quot;&gt;
+    &lt;xsl:if test=&quot;$index.on.role != 0&quot;&gt;
+      &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;type&quot;&gt;
+    &lt;xsl:if test=&quot;$index.on.type != 0&quot;&gt;
+      &lt;xsl:value-of select=&quot;@type&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;terms&quot;
+                select=&quot;//indexterm[count(.|key('group-code',
+                                                i:group-index(&primary;))[&scope;][1]) = 1
+                                    and not(@class = 'endofrange')]&quot;/&gt;
+
+  &lt;div class=&quot;index&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;$terms&quot; mode=&quot;index-div&quot;&gt;
+      &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+      &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+      &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+      &lt;xsl:sort select=&quot;i:group-index(&primary;)&quot; data-type=&quot;number&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;index-div&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;key&quot;
+                select=&quot;i:group-index(&primary;)&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;lang&quot;&gt;
+    &lt;xsl:call-template name=&quot;l10n.language&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;key('group-code', $key)[&scope;]
+                [count(.|key('primary', &primary;)[&scope;][1]) = 1]&quot;&gt;
+    &lt;div class=&quot;indexdiv&quot;&gt;
+      &lt;h3&gt;
+        &lt;xsl:value-of select=&quot;i:group-letter($key)&quot;/&gt;
+      &lt;/h3&gt;
+      &lt;dl&gt;
+        &lt;xsl:apply-templates select=&quot;key('group-code', $key)[&scope;]
+                                     [count(.|key('primary', &primary;)[&scope;][1])=1]&quot;
+                             mode=&quot;index-primary&quot;&gt;
+          &lt;xsl:sort select=&quot;&primary;&quot; lang=&quot;{$lang}&quot;/&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+          &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+          &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/dl&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/autoidx.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/autoidx.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/autoidx.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,491 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;!DOCTYPE xsl:stylesheet [
+
+&lt;!ENTITY lowercase &quot;'abcdefghijklmnopqrstuvwxyz'&quot;&gt;
+&lt;!ENTITY uppercase &quot;'ABCDEFGHIJKLMNOPQRSTUVWXYZ'&quot;&gt;
+
+&lt;!ENTITY primary   'normalize-space(concat(primary/@sortas, primary[not(@sortas)]))'&gt;
+&lt;!ENTITY secondary 'normalize-space(concat(secondary/@sortas, secondary[not(@sortas)]))'&gt;
+&lt;!ENTITY tertiary  'normalize-space(concat(tertiary/@sortas, tertiary[not(@sortas)]))'&gt;
+
+&lt;!ENTITY section   '(ancestor-or-self::set
+                     |ancestor-or-self::book
+                     |ancestor-or-self::part
+                     |ancestor-or-self::reference
+                     |ancestor-or-self::partintro
+                     |ancestor-or-self::chapter
+                     |ancestor-or-self::appendix
+                     |ancestor-or-self::preface
+                     |ancestor-or-self::article
+                     |ancestor-or-self::section
+                     |ancestor-or-self::sect1
+                     |ancestor-or-self::sect2
+                     |ancestor-or-self::sect3
+                     |ancestor-or-self::sect4
+                     |ancestor-or-self::sect5
+                     |ancestor-or-self::refentry
+                     |ancestor-or-self::refsect1
+                     |ancestor-or-self::refsect2
+                     |ancestor-or-self::refsect3
+                     |ancestor-or-self::simplesect
+                     |ancestor-or-self::bibliography
+                     |ancestor-or-self::glossary
+                     |ancestor-or-self::index
+                     |ancestor-or-self::webpage)[last()]'&gt;
+
+&lt;!ENTITY section.id 'generate-id(&section;)'&gt;
+&lt;!ENTITY sep '&quot; &quot;'&gt;
+&lt;!ENTITY scope 'count(ancestor::node()|$scope) = count(ancestor::node())
+                and ($role = @role or $type = @type or
+                (string-length($role) = 0 and string-length($type) = 0))'&gt;
+]&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version=&quot;1.0&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: autoidx.xsl,v 1.26 2005/01/13 08:52:14 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+&lt;!-- Jeni Tennison gets all the credit for what follows.
+     I think I understand it :-) Anyway, I've hacked it a bit, so the
+     bugs are mine. --&gt;
+
+&lt;xsl:key name=&quot;letter&quot;
+         match=&quot;indexterm&quot;
+         use=&quot;translate(substring(&primary;, 1, 1),&lowercase;,&uppercase;)&quot;/&gt;
+
+&lt;xsl:key name=&quot;primary&quot;
+         match=&quot;indexterm&quot;
+         use=&quot;&primary;&quot;/&gt;
+
+&lt;xsl:key name=&quot;secondary&quot;
+         match=&quot;indexterm&quot;
+         use=&quot;concat(&primary;, &sep;, &secondary;)&quot;/&gt;
+
+&lt;xsl:key name=&quot;tertiary&quot;
+         match=&quot;indexterm&quot;
+         use=&quot;concat(&primary;, &sep;, &secondary;, &sep;, &tertiary;)&quot;/&gt;
+
+&lt;xsl:key name=&quot;endofrange&quot;
+         match=&quot;indexterm[@class='endofrange']&quot;
+         use=&quot;@startref&quot;/&gt;
+
+&lt;xsl:key name=&quot;primary-section&quot;
+         match=&quot;indexterm[not(secondary) and not(see)]&quot;
+         use=&quot;concat(&primary;, &sep;, &amp;section.id;)&quot;/&gt;
+
+&lt;xsl:key name=&quot;secondary-section&quot;
+         match=&quot;indexterm[not(tertiary) and not(see)]&quot;
+         use=&quot;concat(&primary;, &sep;, &secondary;, &sep;, &amp;section.id;)&quot;/&gt;
+
+&lt;xsl:key name=&quot;tertiary-section&quot;
+         match=&quot;indexterm[not(see)]&quot;
+         use=&quot;concat(&primary;, &sep;, &secondary;, &sep;, &tertiary;, &sep;, &amp;section.id;)&quot;/&gt;
+
+&lt;xsl:key name=&quot;see-also&quot;
+         match=&quot;indexterm[seealso]&quot;
+         use=&quot;concat(&primary;, &sep;, &secondary;, &sep;, &tertiary;, &sep;, seealso)&quot;/&gt;
+
+&lt;xsl:key name=&quot;see&quot;
+         match=&quot;indexterm[see]&quot;
+         use=&quot;concat(&primary;, &sep;, &secondary;, &sep;, &tertiary;, &sep;, see)&quot;/&gt;
+
+&lt;xsl:key name=&quot;sections&quot; match=&quot;*[@id]&quot; use=&quot;@id&quot;/&gt;
+
+&lt;xsl:template name=&quot;generate-index&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;(ancestor::book|/)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;role&quot;&gt;
+    &lt;xsl:if test=&quot;$index.on.role != 0&quot;&gt;
+      &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;type&quot;&gt;
+    &lt;xsl:if test=&quot;$index.on.type != 0&quot;&gt;
+      &lt;xsl:value-of select=&quot;@type&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;terms&quot;
+                select=&quot;//indexterm[count(.|key('letter',
+                                                translate(substring(&primary;, 1, 1),
+                                                          &lowercase;,
+                                                          &uppercase;))[&scope;][1]) = 1
+                                    and not(@class = 'endofrange')]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;alphabetical&quot;
+                select=&quot;$terms[contains(concat(&lowercase;, &uppercase;),
+                                        substring(&primary;, 1, 1))]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;others&quot; select=&quot;$terms[not(contains(concat(&lowercase;,
+                                                 &uppercase;),
+                                             substring(&primary;, 1, 1)))]&quot;/&gt;
+  &lt;div class=&quot;index&quot;&gt;
+    &lt;xsl:if test=&quot;$others&quot;&gt;
+      &lt;div class=&quot;indexdiv&quot;&gt;
+        &lt;h3&gt;
+          &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+            &lt;xsl:with-param name=&quot;key&quot; select=&quot;'index symbols'&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/h3&gt;
+        &lt;dl&gt;
+          &lt;xsl:apply-templates select=&quot;$others[count(.|key('primary',
+                                       &primary;)[&scope;][1]) = 1]&quot;
+                               mode=&quot;index-symbol-div&quot;&gt;
+            &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+            &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+            &lt;xsl:sort select=&quot;translate(&primary;, &lowercase;, &uppercase;)&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/dl&gt;
+      &lt;/div&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;$alphabetical[count(.|key('letter',
+                                 translate(substring(&primary;, 1, 1),
+                                           &lowercase;,&uppercase;))[&scope;][1]) = 1]&quot;
+                         mode=&quot;index-div&quot;&gt;
+      &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+      &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+      &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+      &lt;xsl:sort select=&quot;translate(&primary;, &lowercase;, &uppercase;)&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;index-div&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;key&quot;
+                select=&quot;translate(substring(&primary;, 1, 1),&lowercase;,&uppercase;)&quot;/&gt;
+
+  &lt;!-- Make sure that we don't generate a div if there are no terms in scope --&gt;
+  &lt;xsl:if test=&quot;key('letter', $key)[&scope;]
+                [count(.|key('primary', &primary;)[&scope;][1]) = 1]&quot;&gt;
+    &lt;div class=&quot;indexdiv&quot;&gt;
+      &lt;xsl:if test=&quot;contains(concat(&lowercase;, &uppercase;), $key)&quot;&gt;
+        &lt;h3&gt;
+          &lt;xsl:value-of select=&quot;translate($key, &lowercase;, &uppercase;)&quot;/&gt;
+        &lt;/h3&gt;
+      &lt;/xsl:if&gt;
+      &lt;dl&gt;
+        &lt;xsl:apply-templates select=&quot;key('letter', $key)[&scope;]
+                                     [count(.|key('primary', &primary;)[&scope;][1])=1]&quot;
+                             mode=&quot;index-primary&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+          &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+          &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+          &lt;xsl:sort select=&quot;translate(&primary;, &lowercase;, &uppercase;)&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/dl&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;index-symbol-div&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;/&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;key&quot; select=&quot;translate(substring(&primary;, 1, 1),
+                                             &lowercase;,&uppercase;)&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;key('letter', $key)
+                               [&scope;][count(.|key('primary', &primary;)[1]) = 1]&quot;
+                       mode=&quot;index-primary&quot;&gt;
+    &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+    &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+    &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+    &lt;xsl:sort select=&quot;translate(&primary;, &lowercase;, &uppercase;)&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;index-primary&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;key&quot; select=&quot;&primary;&quot;/&gt;
+  &lt;xsl:variable name=&quot;refs&quot; select=&quot;key('primary', $key)[&scope;]&quot;/&gt;
+  &lt;dt&gt;
+    &lt;xsl:value-of select=&quot;primary&quot;/&gt;
+    &lt;xsl:for-each select=&quot;$refs[generate-id() = generate-id(key('primary-section', concat($key, &sep;, &amp;section.id;))[&scope;][1])]&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference&quot;&gt;
+        &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+        &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+        &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:for-each&gt;
+
+    &lt;xsl:if test=&quot;$refs[not(secondary)]/*[self::see]&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$refs[generate-id() = generate-id(key('see', concat(&primary;, &sep;, &sep;, &sep;, see))[&scope;][1])]&quot;
+                           mode=&quot;index-see&quot;&gt;
+        &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+        &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+        &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+        &lt;xsl:sort select=&quot;translate(see, &lowercase;, &uppercase;)&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:if&gt;
+  &lt;/dt&gt;
+  &lt;xsl:if test=&quot;$refs/secondary or $refs[not(secondary)]/*[self::seealso]&quot;&gt;
+    &lt;dd&gt;
+      &lt;dl&gt;
+        &lt;xsl:apply-templates select=&quot;$refs[generate-id() = generate-id(key('see-also', concat(&primary;, &sep;, &sep;, &sep;, seealso))[&scope;][1])]&quot;
+                             mode=&quot;index-seealso&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+          &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+          &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+          &lt;xsl:sort select=&quot;translate(seealso, &lowercase;, &uppercase;)&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+        &lt;xsl:apply-templates select=&quot;$refs[secondary and count(.|key('secondary', concat($key, &sep;, &secondary;))[&scope;][1]) = 1]&quot; 
+                             mode=&quot;index-secondary&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+          &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+          &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+          &lt;xsl:sort select=&quot;translate(&secondary;, &lowercase;, &uppercase;)&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/dl&gt;
+    &lt;/dd&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;index-secondary&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;key&quot; select=&quot;concat(&primary;, &sep;, &secondary;)&quot;/&gt;
+  &lt;xsl:variable name=&quot;refs&quot; select=&quot;key('secondary', $key)[&scope;]&quot;/&gt;
+  &lt;dt&gt;
+    &lt;xsl:value-of select=&quot;secondary&quot;/&gt;
+    &lt;xsl:for-each select=&quot;$refs[generate-id() = generate-id(key('secondary-section', concat($key, &sep;, &amp;section.id;))[&scope;][1])]&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference&quot;&gt;
+        &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+        &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+        &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:for-each&gt;
+
+    &lt;xsl:if test=&quot;$refs[not(tertiary)]/*[self::see]&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$refs[generate-id() = generate-id(key('see', concat(&primary;, &sep;, &secondary;, &sep;, &sep;, see))[&scope;][1])]&quot;
+                           mode=&quot;index-see&quot;&gt;
+        &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+        &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+        &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+        &lt;xsl:sort select=&quot;translate(see, &lowercase;, &uppercase;)&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:if&gt;
+  &lt;/dt&gt;
+  &lt;xsl:if test=&quot;$refs/tertiary or $refs[not(tertiary)]/*[self::seealso]&quot;&gt;
+    &lt;dd&gt;
+      &lt;dl&gt;
+        &lt;xsl:apply-templates select=&quot;$refs[generate-id() = generate-id(key('see-also', concat(&primary;, &sep;, &secondary;, &sep;, &sep;, seealso))[&scope;][1])]&quot;
+                             mode=&quot;index-seealso&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+          &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+          &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+          &lt;xsl:sort select=&quot;translate(seealso, &lowercase;, &uppercase;)&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+        &lt;xsl:apply-templates select=&quot;$refs[tertiary and count(.|key('tertiary', concat($key, &sep;, &tertiary;))[&scope;][1]) = 1]&quot; 
+                             mode=&quot;index-tertiary&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+          &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+          &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+          &lt;xsl:sort select=&quot;translate(&tertiary;, &lowercase;, &uppercase;)&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/dl&gt;
+    &lt;/dd&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;index-tertiary&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;key&quot; select=&quot;concat(&primary;, &sep;, &secondary;, &sep;, &tertiary;)&quot;/&gt;
+  &lt;xsl:variable name=&quot;refs&quot; select=&quot;key('tertiary', $key)[&scope;]&quot;/&gt;
+  &lt;dt&gt;
+    &lt;xsl:value-of select=&quot;tertiary&quot;/&gt;
+    &lt;xsl:for-each select=&quot;$refs[generate-id() = generate-id(key('tertiary-section', concat($key, &sep;, &amp;section.id;))[&scope;][1])]&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference&quot;&gt;
+        &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+        &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+        &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:for-each&gt;
+
+    &lt;xsl:if test=&quot;$refs/see&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$refs[generate-id() = generate-id(key('see', concat(&primary;, &sep;, &secondary;, &sep;, &tertiary;, &sep;, see))[&scope;][1])]&quot;
+                           mode=&quot;index-see&quot;&gt;
+        &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+        &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+        &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+        &lt;xsl:sort select=&quot;translate(see, &lowercase;, &uppercase;)&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:if&gt;
+  &lt;/dt&gt;
+  &lt;xsl:if test=&quot;$refs/seealso&quot;&gt;
+    &lt;dd&gt;
+      &lt;dl&gt;
+        &lt;xsl:apply-templates select=&quot;$refs[generate-id() = generate-id(key('see-also', concat(&primary;, &sep;, &secondary;, &sep;, &tertiary;, &sep;, seealso))[&scope;][1])]&quot;
+                             mode=&quot;index-seealso&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+          &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+          &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+          &lt;xsl:sort select=&quot;translate(seealso, &lowercase;, &uppercase;)&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/dl&gt;
+    &lt;/dd&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;reference&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;separator&quot; select=&quot;', '&quot;/&gt;
+
+  &lt;xsl:value-of select=&quot;$separator&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@zone and string(@zone)&quot;&gt;
+      &lt;xsl:call-template name=&quot;reference&quot;&gt;
+        &lt;xsl:with-param name=&quot;zones&quot; select=&quot;normalize-space(@zone)&quot;/&gt;
+        &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+        &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+        &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;a&gt;
+        &lt;xsl:variable name=&quot;title&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;&section;/titleabbrev and $index.prefer.titleabbrev != 0&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;&section;&quot; mode=&quot;titleabbrev.markup&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:apply-templates select=&quot;&section;&quot; mode=&quot;title.markup&quot;/&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:variable&gt;
+
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;&section;&quot;/&gt;
+            &lt;xsl:with-param name=&quot;context&quot; select=&quot;//index[&scope;][1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+
+        &lt;xsl:value-of select=&quot;$title&quot;/&gt; &lt;!-- text only --&gt;
+      &lt;/a&gt;
+
+      &lt;xsl:if test=&quot;key('endofrange', @id)[&scope;]&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;key('endofrange', @id)[&scope;][last()]&quot;
+                             mode=&quot;reference&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+          &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+          &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+          &lt;xsl:with-param name=&quot;separator&quot; select=&quot;'-'&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;reference&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;zones&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains($zones, ' ')&quot;&gt;
+      &lt;xsl:variable name=&quot;zone&quot; select=&quot;substring-before($zones, ' ')&quot;/&gt;
+      &lt;xsl:variable name=&quot;target&quot; select=&quot;key('sections', $zone)[&scope;]&quot;/&gt;
+
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target[1]&quot;/&gt;
+            &lt;xsl:with-param name=&quot;context&quot; select=&quot;//index[&scope;][1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:apply-templates select=&quot;$target[1]&quot; mode=&quot;index-title-content&quot;/&gt;
+      &lt;/a&gt;
+      &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+      &lt;xsl:call-template name=&quot;reference&quot;&gt;
+        &lt;xsl:with-param name=&quot;zones&quot; select=&quot;substring-after($zones, ' ')&quot;/&gt;
+        &lt;xsl:with-param name=&quot;scope&quot; select=&quot;$scope&quot;/&gt;
+        &lt;xsl:with-param name=&quot;role&quot; select=&quot;$role&quot;/&gt;
+        &lt;xsl:with-param name=&quot;type&quot; select=&quot;$type&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;zone&quot; select=&quot;$zones&quot;/&gt;
+      &lt;xsl:variable name=&quot;target&quot; select=&quot;key('sections', $zone)[&scope;]&quot;/&gt;
+
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target[1]&quot;/&gt;
+            &lt;xsl:with-param name=&quot;context&quot; select=&quot;//index[&scope;][1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:apply-templates select=&quot;$target[1]&quot; mode=&quot;index-title-content&quot;/&gt;
+      &lt;/a&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;index-see&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:text&gt; (&lt;/xsl:text&gt;
+  &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+    &lt;xsl:with-param name=&quot;key&quot; select=&quot;'see'&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+  &lt;xsl:text&gt; &lt;/xsl:text&gt;
+  &lt;xsl:value-of select=&quot;see&quot;/&gt;
+  &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;index-seealso&quot;&gt;
+  &lt;xsl:param name=&quot;scope&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;role&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:for-each select=&quot;seealso&quot;&gt;
+    &lt;xsl:sort select=&quot;translate(., &lowercase;, &uppercase;)&quot;/&gt;
+    &lt;dt&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+      &lt;xsl:with-param name=&quot;key&quot; select=&quot;'seealso'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;.&quot;/&gt;
+    &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;/dt&gt;
+  &lt;/xsl:for-each&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;index-title-content&quot;&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;&section;&quot; mode=&quot;title.markup&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:value-of select=&quot;$title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/autotoc.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/autotoc.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/autotoc.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,598 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: autotoc.xsl,v 1.34 2005/01/19 15:15:31 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:variable name=&quot;toc.listitem.type&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$toc.list.type = 'dl'&quot;&gt;dt&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;li&lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:variable&gt;
+
+&lt;!-- this is just hack because dl and ul aren't completely isomorphic --&gt;
+&lt;xsl:variable name=&quot;toc.dd.type&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$toc.list.type = 'dl'&quot;&gt;dd&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:variable&gt;
+
+&lt;xsl:template name=&quot;make.toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;toc.title.p&quot; select=&quot;true()&quot;/&gt;
+  &lt;xsl:param name=&quot;nodes&quot; select=&quot;/NOT-AN-ELEMENT&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;toc.title&quot;&gt;
+    &lt;xsl:if test=&quot;$toc.title.p&quot;&gt;
+      &lt;p&gt;
+        &lt;b&gt;
+          &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+            &lt;xsl:with-param name=&quot;key&quot;&gt;TableofContents&lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/b&gt;
+      &lt;/p&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$manual.toc != ''&quot;&gt;
+      &lt;xsl:variable name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:variable name=&quot;toc&quot; select=&quot;document($manual.toc, .)&quot;/&gt;
+      &lt;xsl:variable name=&quot;tocentry&quot; select=&quot;$toc//tocentry[@linkend=$id]&quot;/&gt;
+      &lt;xsl:if test=&quot;$tocentry and $tocentry/*&quot;&gt;
+        &lt;div class=&quot;toc&quot;&gt;
+          &lt;xsl:copy-of select=&quot;$toc.title&quot;/&gt;
+          &lt;xsl:element name=&quot;{$toc.list.type}&quot;&gt;
+            &lt;xsl:call-template name=&quot;manual-toc&quot;&gt;
+              &lt;xsl:with-param name=&quot;tocentry&quot; select=&quot;$tocentry/*[1]&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:element&gt;
+        &lt;/div&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:if test=&quot;$nodes&quot;&gt;
+        &lt;div class=&quot;toc&quot;&gt;
+          &lt;xsl:copy-of select=&quot;$toc.title&quot;/&gt;
+          &lt;xsl:element name=&quot;{$toc.list.type}&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;$nodes&quot; mode=&quot;toc&quot;&gt;
+              &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+            &lt;/xsl:apply-templates&gt;
+          &lt;/xsl:element&gt;
+        &lt;/div&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;make.lots&quot;&gt;
+  &lt;xsl:param name=&quot;toc.params&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;toc&quot;/&gt;
+
+  &lt;xsl:if test=&quot;contains($toc.params, 'toc')&quot;&gt;
+    &lt;xsl:copy-of select=&quot;$toc&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;contains($toc.params, 'figure')&quot;&gt;
+    &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+      &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'figure'&quot;/&gt;
+      &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//figure&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;contains($toc.params, 'table')&quot;&gt;
+    &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+      &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'table'&quot;/&gt;
+      &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//table&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;contains($toc.params, 'example')&quot;&gt;
+    &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+      &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'example'&quot;/&gt;
+      &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//example&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;contains($toc.params, 'equation')&quot;&gt;
+    &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+      &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'equation'&quot;/&gt;
+      &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//equation[title]&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;contains($toc.params, 'procedure')&quot;&gt;
+    &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+      &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'procedure'&quot;/&gt;
+      &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//procedure[title]&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+
+&lt;xsl:template name=&quot;set.toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;make.toc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;book|setindex&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;division.toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;make.toc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;part|reference
+                                         |preface|chapter|appendix
+                                         |article
+                                         |bibliography|glossary|index
+                                         |refentry
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;component.toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;toc.title.p&quot; select=&quot;true()&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;make.toc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;$toc.title.p&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;section|sect1
+                                         |simplesect[$simplesect.in.toc != 0]
+                                         |refentry
+                                         |article|bibliography|glossary
+                                         |appendix|index
+                                         |bridgehead[not(@renderas)
+                                                     and $bridgehead.in.toc != 0]
+                                         |.//bridgehead[@renderas='sect1'
+                                                        and $bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;component.toc.separator&quot;&gt;
+  &lt;!-- Customize to output something between
+       component.toc and first output --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;toc.title.p&quot; select=&quot;true()&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;make.toc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;$toc.title.p&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot;
+                    select=&quot;section|sect1|sect2|sect3|sect4|sect5|refentry
+                           |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.toc.separator&quot;&gt;
+  &lt;!-- Customize to output something between
+       section.toc and first output --&gt;
+&lt;/xsl:template&gt;
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;subtoc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;nodes&quot; select=&quot;NOT-AN-ELEMENT&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;subtoc&quot;&gt;
+    &lt;xsl:element name=&quot;{$toc.list.type}&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;toc&quot; select=&quot;$nodes&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:element&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;depth&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'section'&quot;&gt;
+        &lt;xsl:value-of select=&quot;count(ancestor::section) + 1&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'sect1'&quot;&gt;1&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'sect2'&quot;&gt;2&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'sect3'&quot;&gt;3&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'sect4'&quot;&gt;4&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'sect5'&quot;&gt;5&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'refsect1'&quot;&gt;1&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'refsect2'&quot;&gt;2&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'refsect3'&quot;&gt;3&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'simplesect'&quot;&gt;
+        &lt;!-- sigh... --&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'section'&quot;&gt;
+            &lt;xsl:value-of select=&quot;count(ancestor::section)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'sect1'&quot;&gt;2&lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'sect2'&quot;&gt;3&lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'sect3'&quot;&gt;4&lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'sect4'&quot;&gt;5&lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'sect5'&quot;&gt;6&lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'refsect1'&quot;&gt;2&lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'refsect2'&quot;&gt;3&lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;local-name(..) = 'refsect3'&quot;&gt;4&lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;0&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;depth.from.context&quot; select=&quot;count(ancestor::*)-count($toc-context/ancestor::*)&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;subtoc.list&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$toc.dd.type = ''&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$subtoc&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:element name=&quot;{$toc.dd.type}&quot;&gt;
+          &lt;xsl:copy-of select=&quot;$subtoc&quot;/&gt;
+        &lt;/xsl:element&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:element name=&quot;{$toc.listitem.type}&quot;&gt;
+    &lt;xsl:call-template name=&quot;toc.line&quot;&gt;
+      &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:if test=&quot;$toc.listitem.type = 'li'
+                  and $toc.section.depth &gt; $depth and count($nodes)&gt;0
+                  and $toc.max.depth &gt; $depth.from.context&quot;&gt;
+      &lt;xsl:copy-of select=&quot;$subtoc.list&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:element&gt;
+  &lt;xsl:if test=&quot;$toc.listitem.type != 'li'
+                and $toc.section.depth &gt; $depth and count($nodes)&gt;0
+                and $toc.max.depth &gt; $depth.from.context&quot;&gt;
+    &lt;xsl:copy-of select=&quot;$subtoc.list&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;toc.line&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;depth&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:param name=&quot;depth.from.context&quot; select=&quot;8&quot;/&gt;
+
+ &lt;span&gt;
+  &lt;xsl:attribute name=&quot;class&quot;&gt;&lt;xsl:value-of select=&quot;local-name(.)&quot;/&gt;&lt;/xsl:attribute&gt;
+  &lt;a&gt;
+    &lt;xsl:attribute name=&quot;href&quot;&gt;
+      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+        &lt;xsl:with-param name=&quot;context&quot; select=&quot;$toc-context&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:attribute&gt;
+    
+    &lt;xsl:variable name=&quot;label&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;label.markup&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:copy-of select=&quot;$label&quot;/&gt;
+    &lt;xsl:if test=&quot;$label != ''&quot;&gt;
+      &lt;xsl:value-of select=&quot;$autotoc.label.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titleabbrev.markup&quot;/&gt;
+  &lt;/a&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;book&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;part|reference
+                                         |preface|chapter|appendix
+                                         |article
+                                         |bibliography|glossary|index
+                                         |refentry
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;setindex&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- If the setindex tag is not empty, it should be it in the TOC --&gt;
+  &lt;xsl:if test=&quot;* or $generate.index != 0&quot;&gt;
+    &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+      &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;part|reference&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;appendix|chapter|article
+                                         |index|glossary|bibliography
+                                         |preface|reference|refentry
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;preface|chapter|appendix|article&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;section|sect1
+                                         |simplesect[$simplesect.in.toc != 0]
+                                         |refentry
+                                         |glossary|bibliography|index
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect1&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;sect2
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect2&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;sect3
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect3&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;sect4
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect4&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;sect5
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect5&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplesect&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;section&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;section
+                                         |bridgehead[$bridgehead.in.toc != 0]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bridgehead&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$bridgehead.in.toc != 0&quot;&gt;
+    &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+      &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliography|glossary&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;index&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- If the index tag is not empty, it should be it in the TOC --&gt;
+  &lt;xsl:if test=&quot;* or $generate.index != 0&quot;&gt;
+    &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+      &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refentry&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;refmeta&quot; select=&quot;.//refmeta&quot;/&gt;
+  &lt;xsl:variable name=&quot;refentrytitle&quot; select=&quot;$refmeta//refentrytitle&quot;/&gt;
+  &lt;xsl:variable name=&quot;refnamediv&quot; select=&quot;.//refnamediv&quot;/&gt;
+  &lt;xsl:variable name=&quot;refname&quot; select=&quot;$refnamediv//refname&quot;/&gt;
+  &lt;xsl:variable name=&quot;refdesc&quot; select=&quot;$refnamediv//refdescriptor&quot;/&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$refentrytitle&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$refentrytitle[1]&quot;
+			     mode=&quot;titleabbrev.markup&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$refdesc&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$refdesc&quot;
+			     mode=&quot;titleabbrev.markup&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$refname&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$refname[1]&quot;
+			     mode=&quot;titleabbrev.markup&quot;/&gt;
+      &lt;/xsl:when&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:element name=&quot;{$toc.listitem.type}&quot;&gt;
+    &lt;span class='refentrytitle'&gt;
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+      &lt;/a&gt;
+    &lt;/span&gt;
+    &lt;span class='refpurpose'&gt;
+      &lt;xsl:if test=&quot;$annotate.toc != 0&quot;&gt;
+        &lt;xsl:text&gt; - &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;refnamediv/refpurpose&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/span&gt;
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;a&gt;
+    &lt;xsl:attribute name=&quot;href&quot;&gt;
+      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+        &lt;xsl:with-param name=&quot;object&quot; select=&quot;..&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:attribute&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/a&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;manual-toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;tocentry&quot;/&gt;
+
+  &lt;!-- be careful, we don't want to change the current document to the other tree! --&gt;
+
+  &lt;xsl:if test=&quot;$tocentry&quot;&gt;
+    &lt;xsl:variable name=&quot;node&quot; select=&quot;key('id', $tocentry/@linkend)&quot;/&gt;
+
+    &lt;xsl:element name=&quot;{$toc.listitem.type}&quot;&gt;
+      &lt;xsl:variable name=&quot;label&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;label.markup&quot;/&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:copy-of select=&quot;$label&quot;/&gt;
+      &lt;xsl:if test=&quot;$label != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$autotoc.label.separator&quot;/&gt;
+      &lt;/xsl:if&gt;
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$node&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;titleabbrev.markup&quot;/&gt;
+      &lt;/a&gt;
+    &lt;/xsl:element&gt;
+
+    &lt;xsl:if test=&quot;$tocentry/*&quot;&gt;
+      &lt;xsl:element name=&quot;{$toc.list.type}&quot;&gt;
+        &lt;xsl:call-template name=&quot;manual-toc&quot;&gt;
+          &lt;xsl:with-param name=&quot;tocentry&quot; select=&quot;$tocentry/*[1]&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:element&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$tocentry/following-sibling::*&quot;&gt;
+      &lt;xsl:call-template name=&quot;manual-toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;tocentry&quot; select=&quot;$tocentry/following-sibling::*[1]&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;list.of.titles&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;titles&quot; select=&quot;'table'&quot;/&gt;
+  &lt;xsl:param name=&quot;nodes&quot; select=&quot;.//table&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$nodes&quot;&gt;
+    &lt;div class=&quot;list-of-{$titles}s&quot;&gt;
+      &lt;p&gt;
+        &lt;b&gt;
+          &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+            &lt;xsl:with-param name=&quot;key&quot;&gt;
+              &lt;xsl:choose&gt;
+                &lt;xsl:when test=&quot;$titles='table'&quot;&gt;ListofTables&lt;/xsl:when&gt;
+                &lt;xsl:when test=&quot;$titles='figure'&quot;&gt;ListofFigures&lt;/xsl:when&gt;
+                &lt;xsl:when test=&quot;$titles='equation'&quot;&gt;ListofEquations&lt;/xsl:when&gt;
+                &lt;xsl:when test=&quot;$titles='example'&quot;&gt;ListofExamples&lt;/xsl:when&gt;
+                &lt;xsl:when test=&quot;$titles='procedure'&quot;&gt;ListofProcedures&lt;/xsl:when&gt;
+                &lt;xsl:otherwise&gt;ListofUnknown&lt;/xsl:otherwise&gt;
+              &lt;/xsl:choose&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/b&gt;
+      &lt;/p&gt;
+
+      &lt;xsl:element name=&quot;{$toc.list.type}&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$nodes&quot; mode=&quot;toc&quot;&gt;
+          &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/xsl:element&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;figure|table|example|equation|procedure&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:element name=&quot;{$toc.listitem.type}&quot;&gt;
+    &lt;xsl:variable name=&quot;label&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;label.markup&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:copy-of select=&quot;$label&quot;/&gt;
+    &lt;xsl:if test=&quot;$label != ''&quot;&gt;
+      &lt;xsl:value-of select=&quot;$autotoc.label.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;a&gt;
+      &lt;xsl:attribute name=&quot;href&quot;&gt;
+        &lt;xsl:call-template name=&quot;href.target&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titleabbrev.markup&quot;/&gt;
+    &lt;/a&gt;
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/biblio.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/biblio.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/biblio.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1085 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: biblio.xsl,v 1.24 2004/10/17 20:15:55 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;bibliography&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;bibliography.titlepage&quot;/&gt;
+
+    &lt;xsl:apply-templates/&gt;
+
+    &lt;xsl:if test=&quot;not(parent::article)&quot;&gt;
+      &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliography/bibliographyinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;bibliography/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;bibliography/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;bibliography/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;bibliodiv&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliodiv/title&quot;&gt;
+  &lt;h3 class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;..&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/h3&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;bibliolist&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:if test=&quot;blockinfo/title|title&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates select=&quot;*[not(self::blockinfo)
+			           and not(self::title)
+				   and not(self::titleabbrev)
+			           and not(self::biblioentry)
+				   and not(self::bibliomixed)]&quot;/&gt;
+    &lt;dl&gt;
+      &lt;xsl:apply-templates select=&quot;biblioentry|bibliomixed&quot;/&gt;
+    &lt;/dl&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;biblioentry&quot;&gt;
+  &lt;xsl:param name=&quot;label&quot;&gt;
+    &lt;xsl:call-template name=&quot;biblioentry.label&quot;/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;string(.) = ''&quot;&gt;
+      &lt;xsl:variable name=&quot;bib&quot; select=&quot;document($bibliography.collection,.)&quot;/&gt;
+      &lt;xsl:variable name=&quot;entry&quot; select=&quot;$bib/bibliography/*[@id=$id][1]&quot;/&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$entry&quot;&gt;
+	  &lt;xsl:choose&gt;
+	    &lt;xsl:when test=&quot;$bibliography.numbered != 0&quot;&gt;
+	      &lt;xsl:apply-templates select=&quot;$entry&quot;&gt;
+		&lt;xsl:with-param name=&quot;label&quot; select=&quot;$label&quot;/&gt;
+	      &lt;/xsl:apply-templates&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:otherwise&gt;
+	      &lt;xsl:apply-templates select=&quot;$entry&quot;/&gt;
+	    &lt;/xsl:otherwise&gt;
+	  &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:message&gt;
+            &lt;xsl:text&gt;No bibliography entry: &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$id&quot;/&gt;
+            &lt;xsl:text&gt; found in &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$bibliography.collection&quot;/&gt;
+          &lt;/xsl:message&gt;
+          &lt;div class=&quot;{name(.)}&quot;&gt;
+            &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+            &lt;p&gt;
+	      &lt;xsl:copy-of select=&quot;$label&quot;/&gt;
+              &lt;xsl:text&gt;Error: no bibliography entry: &lt;/xsl:text&gt;
+              &lt;xsl:value-of select=&quot;$id&quot;/&gt;
+              &lt;xsl:text&gt; found in &lt;/xsl:text&gt;
+              &lt;xsl:value-of select=&quot;$bibliography.collection&quot;/&gt;
+            &lt;/p&gt;
+          &lt;/div&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+        &lt;p&gt;
+	  &lt;xsl:copy-of select=&quot;$label&quot;/&gt;
+          &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+        &lt;/p&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliomixed&quot;&gt;
+  &lt;xsl:param name=&quot;label&quot;&gt;
+    &lt;xsl:call-template name=&quot;biblioentry.label&quot;/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;string(.) = ''&quot;&gt;
+      &lt;xsl:variable name=&quot;bib&quot; select=&quot;document($bibliography.collection,.)&quot;/&gt;
+      &lt;xsl:variable name=&quot;entry&quot; select=&quot;$bib/bibliography/*[@id=$id][1]&quot;/&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$entry&quot;&gt;
+	  &lt;xsl:choose&gt;
+	    &lt;xsl:when test=&quot;$bibliography.numbered != 0&quot;&gt;
+	      &lt;xsl:apply-templates select=&quot;$entry&quot;&gt;
+		&lt;xsl:with-param name=&quot;label&quot; select=&quot;$label&quot;/&gt;
+	      &lt;/xsl:apply-templates&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:otherwise&gt;
+	      &lt;xsl:apply-templates select=&quot;$entry&quot;/&gt;
+	    &lt;/xsl:otherwise&gt;
+	  &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:message&gt;
+            &lt;xsl:text&gt;No bibliography entry: &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$id&quot;/&gt;
+            &lt;xsl:text&gt; found in &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$bibliography.collection&quot;/&gt;
+          &lt;/xsl:message&gt;
+          &lt;div class=&quot;{name(.)}&quot;&gt;
+            &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+            &lt;p&gt;
+	      &lt;xsl:copy-of select=&quot;$label&quot;/&gt;
+              &lt;xsl:text&gt;Error: no bibliography entry: &lt;/xsl:text&gt;
+              &lt;xsl:value-of select=&quot;$id&quot;/&gt;
+              &lt;xsl:text&gt; found in &lt;/xsl:text&gt;
+              &lt;xsl:value-of select=&quot;$bibliography.collection&quot;/&gt;
+            &lt;/p&gt;
+          &lt;/div&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+        &lt;p class=&quot;{name(.)}&quot;&gt;
+	  &lt;xsl:copy-of select=&quot;$label&quot;/&gt;
+          &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+        &lt;/p&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;biblioentry.label&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$bibliography.numbered != 0&quot;&gt;
+      &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+      &lt;xsl:number from=&quot;bibliography&quot; count=&quot;biblioentry|bibliomixed&quot;
+                  level=&quot;any&quot; format=&quot;1&quot;/&gt;
+      &lt;xsl:text&gt;] &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node/child::*[1]) = 'abbrev'&quot;&gt;
+      &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;$node/abbrev[1]&quot;/&gt;
+      &lt;xsl:text&gt;] &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$node/@xreflabel&quot;&gt;
+      &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$node/@xreflabel&quot;/&gt;
+      &lt;xsl:text&gt;] &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$node/@id&quot;&gt;
+      &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$node/@id&quot;/&gt;
+      &lt;xsl:text&gt;] &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;&lt;!-- nop --&gt;&lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;&lt;!-- try the default mode --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abbrev&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;xsl:if test=&quot;preceding-sibling::*&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;!-- suppressed --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;address&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;affiliation&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;shortaffil&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;jobtitle&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;artheader|articleinfo|info&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;artpagenums&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorblurb|personblurb&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;!-- suppressed --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;person.name.list&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorinitials&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliomisc&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliomset&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ================================================== --&gt;
+
+&lt;xsl:template match=&quot;biblioset&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;biblioset/title|biblioset/citetitle&quot; 
+              mode=&quot;bibliography.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;relation&quot; select=&quot;../@relation&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$relation='article' or @pubwork='article'&quot;&gt;
+      &lt;xsl:call-template name=&quot;gentext.startquote&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+      &lt;xsl:call-template name=&quot;gentext.endquote&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;i&gt;&lt;xsl:apply-templates/&gt;&lt;/i&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+  &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ================================================== --&gt;
+
+&lt;xsl:template match=&quot;bookbiblio&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;citetitle&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@pubwork = 'article'&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext.startquote&quot;/&gt;
+        &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+        &lt;xsl:call-template name=&quot;gentext.endquote&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;collab&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;collabname&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confgroup&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confdates&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;conftitle&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confnum&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confsponsor&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contractnum&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contractsponsor&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contrib&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ================================================== --&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+      &lt;xsl:with-param name=&quot;key&quot; select=&quot;'Copyright'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+    &lt;xsl:call-template name=&quot;dingbat&quot;&gt;
+      &lt;xsl:with-param name=&quot;dingbat&quot;&gt;copyright&lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;year&quot; mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:if test=&quot;holder&quot;&gt;
+      &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+      &lt;xsl:apply-templates select=&quot;holder&quot; mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;year&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;xsl:apply-templates/&gt;&lt;xsl:text&gt;, &lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;year[position()=last()]&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;holder&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ================================================== --&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpcredit&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpname&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;date&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;edition&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;editor&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;firstname&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;honorific&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;invpartnumber&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;isbn&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;issn&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;issuenum&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;lineage&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orgname&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orgdiv&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othername&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pagenums&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;printhistory&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;!-- suppressed --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productname&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productnumber&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;publisher&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;publishername&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubsnumber&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;!-- suppressed; how could this be represented? --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seriesinfo&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seriesvolnums&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;surname&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;i&gt;&lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;&lt;/i&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;titleabbrev&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;volumenum&quot; mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliocoverage|biblioid|bibliorelation|bibliosource&quot;
+              mode=&quot;bibliography.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliography.mode&quot;/&gt;
+    &lt;xsl:value-of select=&quot;$biblioentry.item.separator&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;&lt;!-- try the default mode --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abbrev&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;xsl:if test=&quot;preceding-sibling::*&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;address&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;affiliation&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;shortaffil&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;jobtitle&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;artpagenums&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorblurb|personblurb&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorinitials&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliomisc&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ================================================== --&gt;
+
+&lt;xsl:template match=&quot;bibliomset&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliomset/title|bibliomset/citetitle&quot; 
+              mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;relation&quot; select=&quot;../@relation&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$relation='article' or @pubwork='article'&quot;&gt;
+      &lt;xsl:call-template name=&quot;gentext.startquote&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+      &lt;xsl:call-template name=&quot;gentext.endquote&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;i&gt;&lt;xsl:apply-templates/&gt;&lt;/i&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ================================================== --&gt;
+
+&lt;xsl:template match=&quot;biblioset&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;citetitle&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@pubwork = 'article'&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext.startquote&quot;/&gt;
+        &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+        &lt;xsl:call-template name=&quot;gentext.endquote&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+
+&lt;xsl:template match=&quot;collab&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confgroup&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contractnum&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contractsponsor&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contrib&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpcredit&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpname&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;date&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;edition&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;editor&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;firstname&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;honorific&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;invpartnumber&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;isbn&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;issn&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;issuenum&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;lineage&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orgname&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othername&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pagenums&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;printhistory&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productname&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productnumber&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;publisher&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;publishername&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubsnumber&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;!-- suppressed; how could this be represented? --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seriesvolnums&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;surname&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;titleabbrev&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;volumenum&quot; mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliocoverage|biblioid|bibliorelation|bibliosource&quot;
+              mode=&quot;bibliomixed.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;bibliomixed.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/block.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/block.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/block.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,426 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: block.xsl,v 1.20 2004/05/25 10:37:09 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+&lt;!-- What should we do about styling blockinfo? --&gt;
+
+&lt;xsl:template match=&quot;blockinfo&quot;&gt;
+  &lt;!-- suppress --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;block.object&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;para&quot;&gt;
+  &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+    &lt;xsl:with-param name=&quot;class&quot;&gt;
+      &lt;xsl:if test=&quot;@role and $para.propagates.style != 0&quot;&gt;
+        &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:with-param&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:if test=&quot;position() = 1 and parent::listitem&quot;&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+          &lt;xsl:with-param name=&quot;node&quot; select=&quot;parent::listitem&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;paragraph&quot;&gt;
+  &lt;xsl:param name=&quot;class&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;content&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;p&quot;&gt;
+    &lt;p&gt;
+      &lt;xsl:if test=&quot;$class != ''&quot;&gt;
+        &lt;xsl:attribute name=&quot;class&quot;&gt;
+          &lt;xsl:value-of select=&quot;$class&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+    &lt;/p&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$html.cleanup != 0&quot;&gt;
+      &lt;xsl:call-template name=&quot;unwrap.p&quot;&gt;
+        &lt;xsl:with-param name=&quot;p&quot; select=&quot;$p&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$p&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simpara&quot;&gt;
+  &lt;!-- see also listitem/simpara in lists.xsl --&gt;
+  &lt;p&gt;
+    &lt;xsl:if test=&quot;@role and $para.propagates.style != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;class&quot;&gt;
+        &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;formalpara&quot;&gt;
+  &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+    &lt;xsl:with-param name=&quot;class&quot;&gt;
+      &lt;xsl:if test=&quot;@role and $para.propagates.style != 0&quot;&gt;
+        &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:with-param&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;formalpara/title&quot;&gt;
+  &lt;xsl:variable name=&quot;titleStr&quot;&gt;
+      &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;lastChar&quot;&gt;
+    &lt;xsl:if test=&quot;$titleStr != ''&quot;&gt;
+      &lt;xsl:value-of select=&quot;substring($titleStr,string-length($titleStr),1)&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;b&gt;
+    &lt;xsl:copy-of select=&quot;$titleStr&quot;/&gt;
+    &lt;xsl:if test=&quot;$lastChar != ''
+                  and not(contains($runinhead.title.end.punct, $lastChar))&quot;&gt;
+      &lt;xsl:value-of select=&quot;$runinhead.default.title.end.punct&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+  &lt;/b&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;formalpara/para&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;blockquote&quot;&gt;
+  &lt;div class=&quot;{local-name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;@lang or @xml:lang&quot;&gt;
+      &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;attribution&quot;&gt;
+        &lt;table border=&quot;0&quot; width=&quot;100%&quot;
+               cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; class=&quot;blockquote&quot;
+               summary=&quot;Block quote&quot;&gt;
+          &lt;tr&gt;
+            &lt;td width=&quot;10%&quot; valign=&quot;top&quot;&gt;&#160;&lt;/td&gt;
+            &lt;td width=&quot;80%&quot; valign=&quot;top&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;child::*[local-name(.)!='attribution']&quot;/&gt;
+            &lt;/td&gt;
+            &lt;td width=&quot;10%&quot; valign=&quot;top&quot;&gt;&#160;&lt;/td&gt;
+          &lt;/tr&gt;
+          &lt;tr&gt;
+            &lt;td width=&quot;10%&quot; valign=&quot;top&quot;&gt;&#160;&lt;/td&gt;
+            &lt;td colspan=&quot;2&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;
+              &lt;xsl:text&gt;--&lt;/xsl:text&gt;
+              &lt;xsl:apply-templates select=&quot;attribution&quot;/&gt;
+            &lt;/td&gt;
+          &lt;/tr&gt;
+        &lt;/table&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;blockquote class=&quot;{local-name(.)}&quot;&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/blockquote&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;blockquote/title&quot;&gt;
+  &lt;div class=&quot;blockquote-title&quot;&gt;
+    &lt;p&gt;
+      &lt;b&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/b&gt;
+    &lt;/p&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;epigraph&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;para|simpara|formalpara|literallayout&quot;/&gt;
+      &lt;xsl:if test=&quot;attribution&quot;&gt;
+        &lt;div class=&quot;attribution&quot;&gt;
+          &lt;span&gt;--&lt;xsl:apply-templates select=&quot;attribution&quot;/&gt;&lt;/span&gt;
+        &lt;/div&gt;
+      &lt;/xsl:if&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;attribution&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;&lt;xsl:apply-templates/&gt;&lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;sidebar&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sidebar/title&quot;&gt;
+  &lt;p class=&quot;title&quot;&gt;
+    &lt;b&gt;&lt;xsl:apply-templates/&gt;&lt;/b&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;abstract&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;formal.object.heading&quot;&gt;
+      &lt;xsl:with-param name=&quot;title&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;title.markup&quot;&gt;
+          &lt;xsl:with-param name=&quot;allow-anchors&quot; select=&quot;'1'&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract/title&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;msgset&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgentry&quot;&gt;
+  &lt;xsl:call-template name=&quot;block.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplemsgentry&quot;&gt;
+  &lt;xsl:call-template name=&quot;block.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msg&quot;&gt;
+  &lt;xsl:call-template name=&quot;block.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgmain&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgmain/title&quot;&gt;
+  &lt;b&gt;&lt;xsl:apply-templates/&gt;&lt;/b&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgsub&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgsub/title&quot;&gt;
+  &lt;b&gt;&lt;xsl:apply-templates/&gt;&lt;/b&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgrel&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgrel/title&quot;&gt;
+  &lt;b&gt;&lt;xsl:apply-templates/&gt;&lt;/b&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgtext&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msginfo&quot;&gt;
+  &lt;xsl:call-template name=&quot;block.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msglevel&quot;&gt;
+  &lt;p&gt;
+    &lt;b&gt;
+      &lt;xsl:call-template name=&quot;gentext.template&quot;&gt;
+        &lt;xsl:with-param name=&quot;context&quot; select=&quot;'msgset'&quot;/&gt;
+        &lt;xsl:with-param name=&quot;name&quot; select=&quot;'MsgLevel'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/b&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgorig&quot;&gt;
+  &lt;p&gt;
+    &lt;b&gt;
+      &lt;xsl:call-template name=&quot;gentext.template&quot;&gt;
+        &lt;xsl:with-param name=&quot;context&quot; select=&quot;'msgset'&quot;/&gt;
+        &lt;xsl:with-param name=&quot;name&quot; select=&quot;'MsgOrig'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/b&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgaud&quot;&gt;
+  &lt;p&gt;
+    &lt;b&gt;
+      &lt;xsl:call-template name=&quot;gentext.template&quot;&gt;
+        &lt;xsl:with-param name=&quot;context&quot; select=&quot;'msgset'&quot;/&gt;
+        &lt;xsl:with-param name=&quot;name&quot; select=&quot;'MsgAud'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/b&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgexplan&quot;&gt;
+  &lt;xsl:call-template name=&quot;block.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;msgexplan/title&quot;&gt;
+  &lt;p&gt;&lt;b&gt;&lt;xsl:apply-templates/&gt;&lt;/b&gt;&lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;table border=&quot;0&quot; width=&quot;100%&quot; summary=&quot;Revision history&quot;&gt;
+      &lt;tr&gt;
+        &lt;th align=&quot;left&quot; valign=&quot;top&quot; colspan=&quot;3&quot;&gt;
+          &lt;b&gt;
+            &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+              &lt;xsl:with-param name=&quot;key&quot; select=&quot;'RevHistory'&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/b&gt;
+        &lt;/th&gt;
+      &lt;/tr&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/table&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory/revision&quot;&gt;
+  &lt;xsl:variable name=&quot;revnumber&quot; select=&quot;.//revnumber&quot;/&gt;
+  &lt;xsl:variable name=&quot;revdate&quot;   select=&quot;.//date&quot;/&gt;
+  &lt;xsl:variable name=&quot;revauthor&quot; select=&quot;.//authorinitials&quot;/&gt;
+  &lt;xsl:variable name=&quot;revremark&quot; select=&quot;.//revremark|.//revdescription&quot;/&gt;
+  &lt;tr&gt;
+    &lt;td align=&quot;left&quot;&gt;
+      &lt;xsl:if test=&quot;$revnumber&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+          &lt;xsl:with-param name=&quot;key&quot; select=&quot;'Revision'&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+        &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+        &lt;xsl:apply-templates select=&quot;$revnumber&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/td&gt;
+    &lt;td align=&quot;left&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$revdate&quot;/&gt;
+    &lt;/td&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;count($revauthor)=0&quot;&gt;
+        &lt;td align=&quot;left&quot;&gt;
+          &lt;xsl:call-template name=&quot;dingbat&quot;&gt;
+            &lt;xsl:with-param name=&quot;dingbat&quot;&gt;nbsp&lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/td&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;td align=&quot;left&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$revauthor&quot;/&gt;
+        &lt;/td&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/tr&gt;
+  &lt;xsl:if test=&quot;$revremark&quot;&gt;
+    &lt;tr&gt;
+      &lt;td align=&quot;left&quot; colspan=&quot;3&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$revremark&quot;/&gt;
+      &lt;/td&gt;
+    &lt;/tr&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/revnumber&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/date&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/authorinitials&quot;&gt;
+  &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/authorinitials[1]&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/revremark&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/revdescription&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;ackno&quot;&gt;
+  &lt;p class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;highlights&quot;&gt;
+  &lt;xsl:call-template name=&quot;block.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/callout.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/callout.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/callout.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,197 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:sverb=&quot;<A HREF="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Verbatim">http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Verbatim</A>&quot;
+                xmlns:xverb=&quot;com.nwalsh.xalan.Verbatim&quot;
+                xmlns:lxslt=&quot;<A HREF="http://xml.apache.org/xslt">http://xml.apache.org/xslt</A>&quot;
+                exclude-result-prefixes=&quot;sverb xverb lxslt&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: callout.xsl,v 1.11 2003/08/07 17:04:43 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;lxslt:component prefix=&quot;xverb&quot;
+                 functions=&quot;insertCallouts&quot;/&gt;
+
+&lt;xsl:template match=&quot;programlistingco|screenco&quot;&gt;
+  &lt;xsl:variable name=&quot;verbatim&quot; select=&quot;programlisting|screen&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$use.extensions != '0'
+                    and $callouts.extension != '0'&quot;&gt;
+      &lt;xsl:variable name=&quot;rtf&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$verbatim&quot;&gt;
+          &lt;xsl:with-param name=&quot;suppress-numbers&quot; select=&quot;'1'&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;rtf-with-callouts&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;function-available('sverb:insertCallouts')&quot;&gt;
+            &lt;xsl:copy-of select=&quot;sverb:insertCallouts(areaspec,$rtf)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;function-available('xverb:insertCallouts')&quot;&gt;
+            &lt;xsl:copy-of select=&quot;xverb:insertCallouts(areaspec,$rtf)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:message terminate=&quot;yes&quot;&gt;
+              &lt;xsl:text&gt;No insertCallouts function is available.&lt;/xsl:text&gt;
+            &lt;/xsl:message&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$verbatim/@linenumbering = 'numbered'
+                        and $linenumbering.extension != '0'&quot;&gt;
+          &lt;div class=&quot;{name(.)}&quot;&gt;
+            &lt;xsl:call-template name=&quot;number.rtf.lines&quot;&gt;
+              &lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf-with-callouts&quot;/&gt;
+              &lt;xsl:with-param name=&quot;pi.context&quot;
+                              select=&quot;programlisting|screen&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+            &lt;xsl:apply-templates select=&quot;calloutlist&quot;/&gt;
+          &lt;/div&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;div class=&quot;{name(.)}&quot;&gt;
+            &lt;xsl:copy-of select=&quot;$rtf-with-callouts&quot;/&gt;
+            &lt;xsl:apply-templates select=&quot;calloutlist&quot;/&gt;
+          &lt;/div&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;areaspec|areaset|area&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;areaset&quot; mode=&quot;conumber&quot;&gt;
+  &lt;xsl:number count=&quot;area|areaset&quot; format=&quot;1&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;area&quot; mode=&quot;conumber&quot;&gt;
+  &lt;xsl:number count=&quot;area|areaset&quot; format=&quot;1&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;co&quot; name=&quot;co&quot;&gt;
+  &lt;!-- Support a single linkend in HTML --&gt;
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id', @linkends)&quot;/&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$target&quot;&gt;
+      &lt;a&gt;
+        &lt;xsl:if test=&quot;@id&quot;&gt;
+          &lt;xsl:attribute name=&quot;name&quot;&gt;
+            &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;callout-bug&quot;/&gt;
+      &lt;/a&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;callout-bug&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;coref&quot;&gt;
+  &lt;!-- tricky; this relies on the fact that we can process the &quot;co&quot; that's --&gt;
+  &lt;!-- &quot;over there&quot; as if it were &quot;right here&quot; --&gt;
+
+  &lt;xsl:variable name=&quot;co&quot; select=&quot;key('id', @linkend)&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not($co)&quot;&gt;
+      &lt;xsl:message&gt;
+        &lt;xsl:text&gt;Error: coref link is broken: &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;@linkend&quot;/&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($co) != 'co'&quot;&gt;
+      &lt;xsl:message&gt;
+        &lt;xsl:text&gt;Error: coref doesn't point to a co: &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;@linkend&quot;/&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;$co&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;co&quot; mode=&quot;callout-bug&quot;&gt;
+  &lt;xsl:call-template name=&quot;callout-bug&quot;&gt;
+    &lt;xsl:with-param name=&quot;conum&quot;&gt;
+      &lt;xsl:number count=&quot;co&quot;
+                  level=&quot;any&quot;
+                  from=&quot;programlisting|screen|literallayout|synopsis&quot;
+                  format=&quot;1&quot;/&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;callout-bug&quot;&gt;
+  &lt;xsl:param name=&quot;conum&quot; select='1'/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$callout.graphics != 0
+                    and $conum &lt;= $callout.graphics.number.limit&quot;&gt;
+      &lt;img src=&quot;{$callout.graphics.path}{$conum}{$callout.graphics.extension}&quot;
+           alt=&quot;{$conum}&quot; border=&quot;0&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$callout.unicode != 0
+                    and $conum &lt;= $callout.unicode.number.limit&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$callout.unicode.start.character = 10102&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$conum = 1&quot;&gt;&#10102;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 2&quot;&gt;&#10103;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 3&quot;&gt;&#10104;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 4&quot;&gt;&#10105;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 5&quot;&gt;&#10106;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 6&quot;&gt;&#10107;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 7&quot;&gt;&#10108;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 8&quot;&gt;&#10109;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 9&quot;&gt;&#10110;&lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$conum = 10&quot;&gt;&#10111;&lt;/xsl:when&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:message&gt;
+            &lt;xsl:text&gt;Don't know how to generate Unicode callouts &lt;/xsl:text&gt;
+            &lt;xsl:text&gt;when $callout.unicode.start.character is &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$callout.unicode.start.character&quot;/&gt;
+          &lt;/xsl:message&gt;
+          &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$conum&quot;/&gt;
+          &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$conum&quot;/&gt;
+      &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/changebars.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/changebars.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/changebars.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,98 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version=&quot;1.0&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: changebars.xsl,v 1.12 2005/02/01 07:33:38 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+&lt;xsl:import href=&quot;docbook.xsl&quot;/&gt;
+
+&lt;xsl:param name=&quot;show.revisionflag&quot; select=&quot;'1'&quot;/&gt;
+
+&lt;xsl:template name=&quot;system.head.content&quot;&gt;
+&lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+&lt;style type=&quot;text/css&quot;&gt;
+&lt;xsl:text&gt;
+div.added    { background-color: #ffff99; }
+div.deleted  { text-decoration: line-through;
+               background-color: #FF7F7F; }
+div.changed  { background-color: #99ff99; }
+div.off      {  }
+
+span.added   { background-color: #ffff99; }
+span.deleted { text-decoration: line-through;
+               background-color: #FF7F7F; }
+span.changed { background-color: #99ff99; }
+span.off     {  }
+&lt;/xsl:text&gt;
+&lt;/style&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*[@revisionflag]&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;local-name(.) = 'para'
+                    or local-name(.) = 'simpara'
+                    or local-name(.) = 'formalpara'
+                    or local-name(.) = 'section'
+                    or local-name(.) = 'sect1'
+                    or local-name(.) = 'sect2'
+                    or local-name(.) = 'sect3'
+                    or local-name(.) = 'sect4'
+                    or local-name(.) = 'sect5'
+                    or local-name(.) = 'chapter'
+                    or local-name(.) = 'preface'
+                    or local-name(.) = 'itemizedlist'
+                    or local-name(.) = 'varlistentry'
+                    or local-name(.) = 'glossary'
+                    or local-name(.) = 'bibliography'
+                    or local-name(.) = 'index'
+                    or local-name(.) = 'appendix'&quot;&gt;
+      &lt;div class='{@revisionflag}'&gt;
+	&lt;xsl:apply-imports/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name(.) = 'phrase'
+                    or local-name(.) = 'ulink'
+                    or local-name(.) = 'link'
+                    or local-name(.) = 'filename'
+                    or local-name(.) = 'literal'
+                    or local-name(.) = 'member'
+                    or local-name(.) = 'glossterm'
+                    or local-name(.) = 'sgmltag'
+                    or local-name(.) = 'quote'
+                    or local-name(.) = 'emphasis'
+                    or local-name(.) = 'command'
+                    or local-name(.) = 'xref'&quot;&gt;
+      &lt;span class='{@revisionflag}'&gt;
+	&lt;xsl:apply-imports/&gt;
+      &lt;/span&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name(.) = 'listitem'
+                    or local-name(.) = 'entry'
+                    or local-name(.) = 'title'&quot;&gt;
+      &lt;!-- nop; these are handled directly in the stylesheet --&gt;
+      &lt;xsl:apply-imports/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:message&gt;
+	&lt;xsl:text&gt;Revisionflag on unexpected element: &lt;/xsl:text&gt;
+	&lt;xsl:value-of select=&quot;local-name(.)&quot;/&gt;
+	&lt;xsl:text&gt; (Assuming block)&lt;/xsl:text&gt;
+      &lt;/xsl:message&gt;
+      &lt;div class='{@revisionflag}'&gt;
+	&lt;xsl:apply-imports/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk-code.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk-code.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk-code.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1000 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+                version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;exsl&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: chunk-code.xsl,v 1.10 2004/10/14 17:11:02 xmldoc Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:param name=&quot;onechunk&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;refentry.separator&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.fast&quot; select=&quot;0&quot;/&gt;
+
+&lt;xsl:key name=&quot;genid&quot; match=&quot;*&quot; use=&quot;generate-id()&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:variable name=&quot;chunk.hierarchy&quot;&gt;
+  &lt;xsl:if test=&quot;$chunk.fast != 0&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;function-available('exsl:node-set')&quot;&gt;
+        &lt;xsl:message&gt;Computing chunks...&lt;/xsl:message&gt;
+        &lt;xsl:apply-templates select=&quot;/*&quot; mode=&quot;find.chunks&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:message&gt;
+          &lt;xsl:text&gt;Fast chunking requires exsl:node-set(). &lt;/xsl:text&gt;
+          &lt;xsl:text&gt;Using &quot;slow&quot; chunking.&lt;/xsl:text&gt;
+        &lt;/xsl:message&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:variable&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;find.chunks&quot;&gt;
+  &lt;xsl:variable name=&quot;chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk != 0&quot;&gt;
+      &lt;div class=&quot;{local-name(.)}&quot; id=&quot;{generate-id()}&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;*&quot; mode=&quot;find.chunks&quot;/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;*&quot; mode=&quot;find.chunks&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process-chunk-element&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk.fast != 0 and function-available('exsl:node-set')&quot;&gt;
+      &lt;xsl:variable name=&quot;chunks&quot; select=&quot;exsl:node-set($chunk.hierarchy)//div&quot;/&gt;
+      &lt;xsl:variable name=&quot;genid&quot; select=&quot;generate-id()&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;div&quot; select=&quot;$chunks[@id=$genid]&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;prevdiv&quot;
+                    select=&quot;($div/preceding-sibling::div|$div/preceding::div|$div/parent::div)[last()]&quot;/&gt;
+      &lt;xsl:variable name=&quot;prev&quot; select=&quot;key('genid', $prevdiv/@id)&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;nextdiv&quot;
+                    select=&quot;($div/following-sibling::div|$div/following::div|$div/div)[1]&quot;/&gt;
+      &lt;xsl:variable name=&quot;next&quot; select=&quot;key('genid', $nextdiv/@id)&quot;/&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0 and parent::*&quot;&gt;
+          &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;process-chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+            &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+            &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0 and not(parent::*)&quot;&gt;
+          &lt;xsl:call-template name=&quot;chunk-all-sections&quot;&gt;
+            &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0&quot;&gt;
+          &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$chunk.first.sections = 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;chunk-first-section-with-parent&quot;&gt;
+            &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;chunk-all-sections&quot;&gt;
+            &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process-chunk&quot;&gt;
+  &lt;xsl:param name=&quot;prev&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;next&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;chunkfn&quot;&gt;
+    &lt;xsl:if test=&quot;$ischunk='1'&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chunk-filename&quot; select=&quot;.&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;$ischunk='0'&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;Error &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+      &lt;xsl:text&gt; is not a chunk!&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+      &lt;xsl:with-param name=&quot;base.name&quot; select=&quot;$chunkfn&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:call-template name=&quot;chunk-element-content&quot;&gt;
+        &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+        &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+        &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:with-param&gt;
+    &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chunk-first-section-with-parent&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;!-- These xpath expressions are really hairy. The trick is to pick sections --&gt;
+  &lt;!-- that are not first children and are not the children of first children --&gt;
+
+  &lt;!-- Break these variables into pieces to work around
+       <A HREF="http://nagoya.apache.org/bugzilla/show_bug.cgi?id=6063">http://nagoya.apache.org/bugzilla/show_bug.cgi?id=6063</A> --&gt;
+
+  &lt;xsl:variable name=&quot;prev-v1&quot;
+     select=&quot;(ancestor::sect1[$chunk.section.depth &gt; 0
+                               and preceding-sibling::sect1][1]
+
+             |ancestor::sect2[$chunk.section.depth &gt; 1
+                               and preceding-sibling::sect2
+                               and parent::sect1[preceding-sibling::sect1]][1]
+
+             |ancestor::sect3[$chunk.section.depth &gt; 2
+                               and preceding-sibling::sect3
+                               and parent::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |ancestor::sect4[$chunk.section.depth &gt; 3
+                               and preceding-sibling::sect4
+                               and parent::sect3[preceding-sibling::sect2]
+                               and ancestor::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |ancestor::sect5[$chunk.section.depth &gt; 4
+                               and preceding-sibling::sect5
+                               and parent::sect4[preceding-sibling::sect4]
+                               and ancestor::sect3[preceding-sibling::sect3]
+                               and ancestor::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |ancestor::section[$chunk.section.depth &gt; count(ancestor::section)
+                                and not(ancestor::section[not(preceding-sibling::section)])][1])[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev-v2&quot;
+     select=&quot;(preceding::sect1[$chunk.section.depth &gt; 0
+                               and preceding-sibling::sect1][1]
+
+             |preceding::sect2[$chunk.section.depth &gt; 1
+                               and preceding-sibling::sect2
+                               and parent::sect1[preceding-sibling::sect1]][1]
+
+             |preceding::sect3[$chunk.section.depth &gt; 2
+                               and preceding-sibling::sect3
+                               and parent::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |preceding::sect4[$chunk.section.depth &gt; 3
+                               and preceding-sibling::sect4
+                               and parent::sect3[preceding-sibling::sect2]
+                               and ancestor::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |preceding::sect5[$chunk.section.depth &gt; 4
+                               and preceding-sibling::sect5
+                               and parent::sect4[preceding-sibling::sect4]
+                               and ancestor::sect3[preceding-sibling::sect3]
+                               and ancestor::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |preceding::section[$chunk.section.depth &gt; count(ancestor::section)
+                                 and preceding-sibling::section
+                                 and not(ancestor::section[not(preceding-sibling::section)])][1])[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev&quot;
+    select=&quot;(preceding::book[1]
+             |preceding::preface[1]
+             |preceding::chapter[1]
+             |preceding::appendix[1]
+             |preceding::part[1]
+             |preceding::reference[1]
+             |preceding::refentry[1]
+             |preceding::colophon[1]
+             |preceding::article[1]
+             |preceding::bibliography[parent::article or parent::book or parent::part][1]
+             |preceding::glossary[parent::article or parent::book or parent::part][1]
+             |preceding::index[$generate.index != 0]
+	                       [parent::article or parent::book or parent::part][1]
+             |preceding::setindex[$generate.index != 0][1]
+             |ancestor::set
+             |ancestor::book[1]
+             |ancestor::preface[1]
+             |ancestor::chapter[1]
+             |ancestor::appendix[1]
+             |ancestor::part[1]
+             |ancestor::reference[1]
+             |ancestor::article[1]
+             |$prev-v1
+             |$prev-v2)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next-v1&quot;
+    select=&quot;(following::sect1[$chunk.section.depth &gt; 0
+                               and preceding-sibling::sect1][1]
+
+             |following::sect2[$chunk.section.depth &gt; 1
+                               and preceding-sibling::sect2
+                               and parent::sect1[preceding-sibling::sect1]][1]
+
+             |following::sect3[$chunk.section.depth &gt; 2
+                               and preceding-sibling::sect3
+                               and parent::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |following::sect4[$chunk.section.depth &gt; 3
+                               and preceding-sibling::sect4
+                               and parent::sect3[preceding-sibling::sect2]
+                               and ancestor::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |following::sect5[$chunk.section.depth &gt; 4
+                               and preceding-sibling::sect5
+                               and parent::sect4[preceding-sibling::sect4]
+                               and ancestor::sect3[preceding-sibling::sect3]
+                               and ancestor::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |following::section[$chunk.section.depth &gt; count(ancestor::section)
+                                 and preceding-sibling::section
+                                 and not(ancestor::section[not(preceding-sibling::section)])][1])[1]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next-v2&quot;
+    select=&quot;(descendant::sect1[$chunk.section.depth &gt; 0
+                               and preceding-sibling::sect1][1]
+
+             |descendant::sect2[$chunk.section.depth &gt; 1
+                               and preceding-sibling::sect2
+                               and parent::sect1[preceding-sibling::sect1]][1]
+
+             |descendant::sect3[$chunk.section.depth &gt; 2
+                               and preceding-sibling::sect3
+                               and parent::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |descendant::sect4[$chunk.section.depth &gt; 3
+                               and preceding-sibling::sect4
+                               and parent::sect3[preceding-sibling::sect2]
+                               and ancestor::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |descendant::sect5[$chunk.section.depth &gt; 4
+                               and preceding-sibling::sect5
+                               and parent::sect4[preceding-sibling::sect4]
+                               and ancestor::sect3[preceding-sibling::sect3]
+                               and ancestor::sect2[preceding-sibling::sect2]
+                               and ancestor::sect1[preceding-sibling::sect1]][1]
+
+             |descendant::section[$chunk.section.depth &gt; count(ancestor::section)
+                                 and preceding-sibling::section
+                                 and not(ancestor::section[not(preceding-sibling::section)])])[1]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next&quot;
+    select=&quot;(following::book[1]
+             |following::preface[1]
+             |following::chapter[1]
+             |following::appendix[1]
+             |following::part[1]
+             |following::reference[1]
+             |following::refentry[1]
+             |following::colophon[1]
+             |following::bibliography[parent::article or parent::book or parent::part][1]
+             |following::glossary[parent::article or parent::book or parent::part][1]
+             |following::index[$generate.index != 0]
+	                       [parent::article or parent::book or parent::part][1]
+             |following::article[1]
+             |following::setindex[$generate.index != 0][1]
+             |descendant::book[1]
+             |descendant::preface[1]
+             |descendant::chapter[1]
+             |descendant::appendix[1]
+             |descendant::article[1]
+             |descendant::bibliography[parent::article or parent::book or parent::part][1]
+             |descendant::glossary[parent::article or parent::book or parent::part][1]
+             |descendant::index[$generate.index != 0]
+	                       [parent::article or parent::book or parent::part][1]
+             |descendant::colophon[1]
+             |descendant::setindex[$generate.index != 0][1]
+             |descendant::part[1]
+             |descendant::reference[1]
+             |descendant::refentry[1]
+             |$next-v1
+             |$next-v2)[1]&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;process-chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+    &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chunk-all-sections&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:variable name=&quot;prev-v1&quot;
+    select=&quot;(preceding::sect1[$chunk.section.depth &gt; 0][1]
+             |preceding::sect2[$chunk.section.depth &gt; 1][1]
+             |preceding::sect3[$chunk.section.depth &gt; 2][1]
+             |preceding::sect4[$chunk.section.depth &gt; 3][1]
+             |preceding::sect5[$chunk.section.depth &gt; 4][1]
+             |preceding::section[$chunk.section.depth &gt; count(ancestor::section)][1])[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev-v2&quot;
+    select=&quot;(ancestor::sect1[$chunk.section.depth &gt; 0][1]
+             |ancestor::sect2[$chunk.section.depth &gt; 1][1]
+             |ancestor::sect3[$chunk.section.depth &gt; 2][1]
+             |ancestor::sect4[$chunk.section.depth &gt; 3][1]
+             |ancestor::sect5[$chunk.section.depth &gt; 4][1]
+             |ancestor::section[$chunk.section.depth &gt; count(ancestor::section)][1])[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev&quot;
+    select=&quot;(preceding::book[1]
+             |preceding::preface[1]
+             |preceding::chapter[1]
+             |preceding::appendix[1]
+             |preceding::part[1]
+             |preceding::reference[1]
+             |preceding::refentry[1]
+             |preceding::colophon[1]
+             |preceding::article[1]
+             |preceding::bibliography[parent::article or parent::book or parent::part][1]
+             |preceding::glossary[parent::article or parent::book or parent::part][1]
+             |preceding::index[$generate.index != 0]
+	                       [parent::article or parent::book or parent::part][1]
+             |preceding::setindex[$generate.index != 0][1]
+             |ancestor::set
+             |ancestor::book[1]
+             |ancestor::preface[1]
+             |ancestor::chapter[1]
+             |ancestor::appendix[1]
+             |ancestor::part[1]
+             |ancestor::reference[1]
+             |ancestor::article[1]
+             |$prev-v1
+             |$prev-v2)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next-v1&quot;
+    select=&quot;(following::sect1[$chunk.section.depth &gt; 0][1]
+             |following::sect2[$chunk.section.depth &gt; 1][1]
+             |following::sect3[$chunk.section.depth &gt; 2][1]
+             |following::sect4[$chunk.section.depth &gt; 3][1]
+             |following::sect5[$chunk.section.depth &gt; 4][1]
+             |following::section[$chunk.section.depth &gt; count(ancestor::section)][1])[1]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next-v2&quot;
+    select=&quot;(descendant::sect1[$chunk.section.depth &gt; 0][1]
+             |descendant::sect2[$chunk.section.depth &gt; 1][1]
+             |descendant::sect3[$chunk.section.depth &gt; 2][1]
+             |descendant::sect4[$chunk.section.depth &gt; 3][1]
+             |descendant::sect5[$chunk.section.depth &gt; 4][1]
+             |descendant::section[$chunk.section.depth 
+                                  &gt; count(ancestor::section)][1])[1]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next&quot;
+    select=&quot;(following::book[1]
+             |following::preface[1]
+             |following::chapter[1]
+             |following::appendix[1]
+             |following::part[1]
+             |following::reference[1]
+             |following::refentry[1]
+             |following::colophon[1]
+             |following::bibliography[parent::article or parent::book or parent::part][1]
+             |following::glossary[parent::article or parent::book or parent::part][1]
+             |following::index[$generate.index != 0]
+	                       [parent::article or parent::book][1]
+             |following::article[1]
+             |following::setindex[$generate.index != 0][1]
+             |descendant::book[1]
+             |descendant::preface[1]
+             |descendant::chapter[1]
+             |descendant::appendix[1]
+             |descendant::article[1]
+             |descendant::bibliography[parent::article or parent::book][1]
+             |descendant::glossary[parent::article or parent::book or parent::part][1]
+             |descendant::index[$generate.index != 0]
+	                       [parent::article or parent::book][1]
+             |descendant::colophon[1]
+             |descendant::setindex[$generate.index != 0][1]
+             |descendant::part[1]
+             |descendant::reference[1]
+             |descendant::refentry[1]
+             |$next-v1
+             |$next-v2)[1]&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;process-chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+    &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;/&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$rootid != ''&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;count(key('id',$rootid)) = 0&quot;&gt;
+          &lt;xsl:message terminate=&quot;yes&quot;&gt;
+            &lt;xsl:text&gt;ID '&lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$rootid&quot;/&gt;
+            &lt;xsl:text&gt;' not found in document.&lt;/xsl:text&gt;
+          &lt;/xsl:message&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or
+                        $collect.xref.targets = 'only'&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;key('id', $rootid)&quot;
+                        mode=&quot;collect.targets&quot;/&gt;
+          &lt;/xsl:if&gt;
+          &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;
+                        mode=&quot;process.root&quot;/&gt;
+            &lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;
+                          mode=&quot;collect.tex.math&quot;/&gt;
+            &lt;/xsl:if&gt;
+            &lt;xsl:if test=&quot;$generate.manifest != 0&quot;&gt;
+              &lt;xsl:call-template name=&quot;generate.manifest&quot;&gt;
+                &lt;xsl:with-param name=&quot;node&quot; select=&quot;key('id',$rootid)&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:if&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or
+                    $collect.xref.targets = 'only'&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;collect.targets&quot;/&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;process.root&quot;/&gt;
+        &lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;collect.tex.math&quot;/&gt;
+        &lt;/xsl:if&gt;
+        &lt;xsl:if test=&quot;$generate.manifest != 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;generate.manifest&quot;/&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;process.root&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+
+&lt;xsl:template match=&quot;set|book|part|preface|chapter|appendix
+                     |article
+                     |reference|refentry
+                     |book/glossary|article/glossary|part/glossary
+                     |book/bibliography|article/bibliography|part/bibliography
+                     |colophon&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$onechunk != 0 and parent::*&quot;&gt;
+      &lt;xsl:apply-imports/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;process-chunk-element&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect1|sect2|sect3|sect4|sect5|section&quot;&gt;
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not(parent::*)&quot;&gt;
+      &lt;xsl:call-template name=&quot;process-chunk-element&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$ischunk = 0&quot;&gt;
+      &lt;xsl:apply-imports/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;process-chunk-element&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;setindex
+                     |book/index
+                     |article/index
+                     |part/index&quot;&gt;
+  &lt;!-- some implementations use completely empty index tags to indicate --&gt;
+  &lt;!-- where an automatically generated index should be inserted. so --&gt;
+  &lt;!-- if the index is completely empty, skip it. --&gt;
+  &lt;xsl:if test=&quot;count(*)&gt;0 or $generate.index != '0'&quot;&gt;
+    &lt;xsl:call-template name=&quot;process-chunk-element&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;make.lots&quot;&gt;
+  &lt;xsl:param name=&quot;toc.params&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;toc&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;lots&quot;&gt;
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')&quot;&gt;
+      &lt;xsl:copy-of select=&quot;$toc&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'figure')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'figure'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'figure'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//figure&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'figure'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//figure&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'table')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'table'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'table'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//table&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'table'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//table&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'example')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'example'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'example'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//example&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'example'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//example&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'equation')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'equation'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'equation'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//equation&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'equation'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//equation&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'procedure')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'procedure'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'procedure'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//procedure[title]&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'procedure'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//procedure[title]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;string($lots) != ''&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$chunk.tocs.and.lots != 0 and not(parent::*)&quot;&gt;
+        &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+          &lt;xsl:with-param name=&quot;filename&quot;&gt;
+            &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+              &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+              &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+                &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+                &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;recursive-chunk-filename&quot;&gt;
+                  &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+                &lt;/xsl:apply-templates&gt;
+                &lt;xsl:text&gt;-toc&lt;/xsl:text&gt;
+                &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+              &lt;/xsl:with-param&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:with-param&gt;
+          &lt;xsl:with-param name=&quot;content&quot;&gt;
+            &lt;xsl:call-template name=&quot;chunk-element-content&quot;&gt;
+              &lt;xsl:with-param name=&quot;prev&quot; select=&quot;/foo&quot;/&gt;
+              &lt;xsl:with-param name=&quot;next&quot; select=&quot;/foo&quot;/&gt;
+              &lt;xsl:with-param name=&quot;nav.context&quot; select=&quot;'toc'&quot;/&gt;
+              &lt;xsl:with-param name=&quot;content&quot;&gt;
+                &lt;h1&gt;
+                  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup&quot;/&gt;
+                &lt;/h1&gt;
+                &lt;xsl:copy-of select=&quot;$lots&quot;/&gt;
+              &lt;/xsl:with-param&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:with-param&gt;
+          &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:copy-of select=&quot;$lots&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;make.lot.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;lot&quot;/&gt;
+
+  &lt;xsl:if test=&quot;string($lot) != ''&quot;&gt;
+    &lt;xsl:variable name=&quot;filename&quot;&gt;
+      &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+        &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+        &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+          &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+          &lt;xsl:value-of select=&quot;$type&quot;/&gt;
+          &lt;xsl:text&gt;-toc&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:variable name=&quot;href&quot;&gt;
+      &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+        &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+          &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+          &lt;xsl:value-of select=&quot;$type&quot;/&gt;
+          &lt;xsl:text&gt;-toc&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:call-template name=&quot;chunk-element-content&quot;&gt;
+          &lt;xsl:with-param name=&quot;prev&quot; select=&quot;/foo&quot;/&gt;
+          &lt;xsl:with-param name=&quot;next&quot; select=&quot;/foo&quot;/&gt;
+          &lt;xsl:with-param name=&quot;nav.context&quot; select=&quot;'toc'&quot;/&gt;
+          &lt;xsl:with-param name=&quot;content&quot;&gt;
+            &lt;xsl:copy-of select=&quot;$lot&quot;/&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:with-param&gt;
+      &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;!-- And output a link to this file --&gt;
+    &lt;div&gt;
+      &lt;xsl:attribute name=&quot;class&quot;&gt;
+        &lt;xsl:text&gt;ListofTitles&lt;/xsl:text&gt;
+      &lt;/xsl:attribute&gt;
+      &lt;a href=&quot;{$href}&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+          &lt;xsl:with-param name=&quot;key&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$type='table'&quot;&gt;ListofTables&lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;$type='figure'&quot;&gt;ListofFigures&lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;$type='equation'&quot;&gt;ListofEquations&lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;$type='example'&quot;&gt;ListofExamples&lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;$type='procedure'&quot;&gt;ListofProcedures&lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;ListofUnknown&lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/a&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;in.other.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;chunk&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;is.chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;in.other.chunk: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name($chunk)&quot;/&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name($node)&quot;/&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$chunk = $node&quot;/&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$is.chunk&quot;/&gt;
+  &lt;/xsl:message&gt;
+--&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk = $node&quot;&gt;0&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$is.chunk = 1&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;count($node) = 0&quot;&gt;0&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;in.other.chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;chunk&quot; select=&quot;$chunk&quot;/&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node/parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;footnotes&quot; select=&quot;$node//footnote&quot;/&gt;
+  &lt;xsl:param name=&quot;count&quot; select=&quot;0&quot;/&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;count.footnotes.in.this.chunk: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name($node)&quot;/&gt;
+  &lt;/xsl:message&gt;
+--&gt;
+
+  &lt;xsl:variable name=&quot;in.other.chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;in.other.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;chunk&quot; select=&quot;$node&quot;/&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$footnotes[1]&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;count($footnotes) = 0&quot;&gt;
+      &lt;xsl:value-of select=&quot;$count&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$in.other.chunk != 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot;
+                            select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+            &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$footnotes[1]/ancestor::table
+                        |$footnotes[1]/ancestor::informaltable&quot;&gt;
+          &lt;xsl:call-template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot;
+                            select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+            &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot;
+                            select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+            &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count + 1&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;footnotes&quot; select=&quot;$node//footnote&quot;/&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;process.footnotes.in.this.chunk&lt;/xsl:message&gt;
+--&gt;
+
+  &lt;xsl:variable name=&quot;in.other.chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;in.other.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;chunk&quot; select=&quot;$node&quot;/&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$footnotes[1]&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;count($footnotes) = 0&quot;&gt;
+      &lt;!-- nop --&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$in.other.chunk != 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot;
+                            select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$footnotes[1]/ancestor::table
+                        |$footnotes[1]/ancestor::informaltable&quot;&gt;
+          &lt;xsl:call-template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot;
+                            select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates select=&quot;$footnotes[1]&quot;
+                               mode=&quot;process.footnote.mode&quot;/&gt;
+          &lt;xsl:call-template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot;
+                            select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.footnotes&quot;&gt;
+  &lt;xsl:variable name=&quot;footnotes&quot; select=&quot;.//footnote&quot;/&gt;
+  &lt;xsl:variable name=&quot;fcount&quot;&gt;
+    &lt;xsl:call-template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+      &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt; fcount: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$fcount&quot;/&gt;
+  &lt;/xsl:message&gt;
+--&gt;
+
+  &lt;!-- Only bother to do this if there's at least one non-table footnote --&gt;
+  &lt;xsl:if test=&quot;$fcount &gt; 0&quot;&gt;
+    &lt;div class=&quot;footnotes&quot;&gt;
+      &lt;br/&gt;
+      &lt;hr width=&quot;100&quot; align=&quot;left&quot;/&gt;
+      &lt;xsl:call-template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+        &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.chunk.footnotes&quot;&gt;
+  &lt;xsl:variable name=&quot;is.chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:if test=&quot;$is.chunk = 1&quot;&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+
+&lt;!-- Resolve xml:base attributes --&gt;
+&lt;xsl:template match=&quot;@fileref&quot;&gt;
+  &lt;!-- need a check for absolute urls --&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains(., ':')&quot;&gt;
+      &lt;!-- it has a uri scheme so it is an absolute uri --&gt;
+      &lt;xsl:value-of select=&quot;.&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;!-- its a relative uri --&gt;
+      &lt;xsl:call-template name=&quot;relative-uri&quot;&gt;
+        &lt;xsl:with-param name=&quot;destdir&quot;&gt;
+          &lt;xsl:call-template name=&quot;dbhtml-dir&quot;&gt;
+            &lt;xsl:with-param name=&quot;context&quot; select=&quot;..&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk-common.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk-common.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk-common.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1012 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version=&quot;1.0&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: chunk-common.xsl,v 1.41 2004/10/23 11:51:10 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;!-- returns 1 if $node is a chunk --&gt;
+
+  &lt;!-- ==================================================================== --&gt;
+  &lt;!-- What's a chunk?
+
+       The root element
+       appendix
+       article
+       bibliography  in article or part or book
+       book
+       chapter
+       colophon
+       glossary      in article or part or book
+       index         in article or part or book
+       part
+       preface
+       refentry
+       reference
+       sect{1,2,3,4,5}  if position()&gt;1 &amp;&amp; depth &lt; chunk.section.depth
+       section          if position()&gt;1 &amp;&amp; depth &lt; chunk.section.depth
+       set
+       setindex
+                                                                            --&gt;
+  &lt;!-- ==================================================================== --&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;chunk: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name($node)&quot;/&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$node/@id&quot;/&gt;
+    &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;xsl:text&gt; csd: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$chunk.section.depth&quot;/&gt;
+    &lt;xsl:text&gt; cfs: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$chunk.first.sections&quot;/&gt;
+    &lt;xsl:text&gt; ps: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;count($node/parent::section)&quot;/&gt;
+    &lt;xsl:text&gt; prs: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;count($node/preceding-sibling::section)&quot;/&gt;
+  &lt;/xsl:message&gt;
+--&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not($node/parent::*)&quot;&gt;1&lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;local-name($node) = 'sect1'
+                    and $chunk.section.depth &gt;= 1
+                    and ($chunk.first.sections != 0
+                         or count($node/preceding-sibling::sect1) &gt; 0)&quot;&gt;
+      &lt;xsl:text&gt;1&lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node) = 'sect2'
+                    and $chunk.section.depth &gt;= 2
+                    and ($chunk.first.sections != 0
+                         or count($node/preceding-sibling::sect2) &gt; 0)&quot;&gt;
+      &lt;xsl:call-template name=&quot;chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node/parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node) = 'sect3'
+                    and $chunk.section.depth &gt;= 3
+                    and ($chunk.first.sections != 0
+                         or count($node/preceding-sibling::sect3) &gt; 0)&quot;&gt;
+      &lt;xsl:call-template name=&quot;chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node/parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node) = 'sect4'
+                    and $chunk.section.depth &gt;= 4
+                    and ($chunk.first.sections != 0
+                         or count($node/preceding-sibling::sect4) &gt; 0)&quot;&gt;
+      &lt;xsl:call-template name=&quot;chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node/parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node) = 'sect5'
+                    and $chunk.section.depth &gt;= 5
+                    and ($chunk.first.sections != 0
+                         or count($node/preceding-sibling::sect5) &gt; 0)&quot;&gt;
+      &lt;xsl:call-template name=&quot;chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node/parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($node) = 'section'
+                    and $chunk.section.depth &gt;= count($node/ancestor::section)+1
+                    and ($chunk.first.sections != 0
+                         or count($node/preceding-sibling::section) &gt; 0)&quot;&gt;
+      &lt;xsl:call-template name=&quot;chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node/parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;name($node)='preface'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='chapter'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='appendix'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='article'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='part'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='reference'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='refentry'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='index' and $generate.index != 0
+                    and (name($node/parent::*) = 'article'
+                    or name($node/parent::*) = 'book'
+                    or name($node/parent::*) = 'part'
+                    )&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='bibliography'
+                    and (name($node/parent::*) = 'article'
+                    or name($node/parent::*) = 'book'
+                    or name($node/parent::*) = 'part'
+                    )&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='glossary'
+                    and (name($node/parent::*) = 'article'
+                    or name($node/parent::*) = 'book'
+                    or name($node/parent::*) = 'part'
+                    )&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='colophon'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='book'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='set'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;name($node)='setindex'&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;0&lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;chunk-filename&quot;&gt;
+  &lt;!-- returns the filename of a chunk --&gt;
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;fn&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;recursive-chunk-filename&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:value-of select=&quot;$ischunk&quot;/&gt;
+    &lt;xsl:text&gt; (&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;local-name(.)&quot;/&gt;
+    &lt;xsl:text&gt;) &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$fn&quot;/&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+  &lt;/xsl:message&gt;
+  --&gt;
+
+  &lt;!-- 2003-11-25 by ndw:
+       The following test used to read test=&quot;$ischunk != 0 and $fn != ''&quot;
+       I've removed the ischunk part of the test so that href.to.uri and
+       href.from.uri will be fully qualified even if the source or target
+       isn't a chunk. I *think* that if $fn != '' then it's appropriate
+       to put the directory on the front, even if the element isn't a
+       chunk. I could be wrong. --&gt;
+
+  &lt;xsl:if test=&quot;$fn != ''&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:value-of select=&quot;$fn&quot;/&gt;
+  &lt;!-- You can't add the html.ext here because dbhtml filename= may already --&gt;
+  &lt;!-- have added it. It really does have to be handled in the recursive template --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;recursive-chunk-filename&quot;&gt;
+  &lt;xsl:param name=&quot;recursive&quot; select=&quot;false()&quot;/&gt;
+
+  &lt;!-- returns the filename of a chunk --&gt;
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;dbhtml-filename&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-filename&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$dbhtml-filename != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$dbhtml-filename&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;!-- if this is the root element, use the root.filename --&gt;
+      &lt;xsl:when test=&quot;not(parent::*) and $root.filename != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$root.filename&quot;/&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;!-- if there's no dbhtml filename, and if we're to use IDs as --&gt;
+      &lt;!-- filenames, then use the ID to generate the filename. --&gt;
+      &lt;xsl:when test=&quot;@id and $use.id.as.filename != 0&quot;&gt;
+        &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$ischunk='0'&quot;&gt;
+      &lt;!-- if called on something that isn't a chunk, walk up... --&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;count(parent::*)&gt;0&quot;&gt;
+          &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+            &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;$recursive&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;!-- unless there is no up, in which case return &quot;&quot; --&gt;
+        &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;not($recursive) and $filename != ''&quot;&gt;
+      &lt;!-- if this chunk has an explicit name, use it --&gt;
+      &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::set&quot;&gt;
+      &lt;xsl:value-of select=&quot;$root.filename&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::book&quot;&gt;
+      &lt;xsl:text&gt;bk&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::article&quot;&gt;
+      &lt;xsl:if test=&quot;/set&quot;&gt;
+        &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+        &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+          &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:text&gt;ar&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::preface&quot;&gt;
+      &lt;xsl:if test=&quot;/set&quot;&gt;
+        &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+        &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+          &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:text&gt;pr&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::chapter&quot;&gt;
+      &lt;xsl:if test=&quot;/set&quot;&gt;
+        &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+        &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+          &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:text&gt;ch&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::appendix&quot;&gt;
+      &lt;xsl:if test=&quot;/set&quot;&gt;
+        &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+        &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+          &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:text&gt;ap&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;a&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::part&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;/set&quot;&gt;
+          &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+          &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+            &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+
+      &lt;xsl:text&gt;pt&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::reference&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;/set&quot;&gt;
+          &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+          &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+            &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+
+      &lt;xsl:text&gt;rn&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::refentry&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;parent::reference&quot;&gt;
+          &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+            &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+
+      &lt;xsl:text&gt;re&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::colophon&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;/set&quot;&gt;
+          &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+          &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+            &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+
+      &lt;xsl:text&gt;co&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::sect1
+                    or self::sect2
+                    or self::sect3
+                    or self::sect4
+                    or self::sect5
+                    or self::section&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+        &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+      &lt;xsl:text&gt;s&lt;/xsl:text&gt;
+      &lt;xsl:number format=&quot;01&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::bibliography&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;/set&quot;&gt;
+          &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+          &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+            &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+
+      &lt;xsl:text&gt;bi&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::glossary&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;/set&quot;&gt;
+          &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+          &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+            &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+
+      &lt;xsl:text&gt;go&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::index&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;/set&quot;&gt;
+          &lt;!-- in a set, make sure we inherit the right book info... --&gt;
+          &lt;xsl:apply-templates mode=&quot;recursive-chunk-filename&quot; select=&quot;parent::*&quot;&gt;
+            &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+
+      &lt;xsl:text&gt;ix&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;book&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;self::setindex&quot;&gt;
+      &lt;xsl:text&gt;si&lt;/xsl:text&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;set&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:text&gt;chunk-filename-error-&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+      &lt;xsl:number level=&quot;any&quot; format=&quot;01&quot; from=&quot;set&quot;/&gt;
+      &lt;xsl:if test=&quot;not($recursive)&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;href.target.uri&quot;&gt;
+  &lt;xsl:param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$object&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:apply-templates mode=&quot;chunk-filename&quot; select=&quot;$object&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$ischunk='0'&quot;&gt;
+    &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;$object&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;href.target&quot;&gt;
+  &lt;xsl:param name=&quot;context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;href.to.uri&quot;&gt;
+    &lt;xsl:call-template name=&quot;href.target.uri&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;$object&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;href.from.uri&quot;&gt;
+    &lt;xsl:call-template name=&quot;href.target.uri&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;$context&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  
+  &lt;!--
+  &lt;xsl:message&gt;href.to.uri: &lt;xsl:value-of select=&quot;$href.to.uri&quot;/&gt;&lt;/xsl:message&gt;
+  &lt;xsl:message&gt;href.from.uri: &lt;xsl:value-of select=&quot;$href.from.uri&quot;/&gt;&lt;/xsl:message&gt;
+  --&gt;
+
+  &lt;xsl:variable name=&quot;href.to&quot;&gt;
+    &lt;xsl:call-template name=&quot;trim.common.uri.paths&quot;&gt;
+      &lt;xsl:with-param name=&quot;uriA&quot; select=&quot;$href.to.uri&quot;/&gt;
+      &lt;xsl:with-param name=&quot;uriB&quot; select=&quot;$href.from.uri&quot;/&gt;
+      &lt;xsl:with-param name=&quot;return&quot; select=&quot;'A'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;href.from&quot;&gt;
+    &lt;xsl:call-template name=&quot;trim.common.uri.paths&quot;&gt;
+      &lt;xsl:with-param name=&quot;uriA&quot; select=&quot;$href.to.uri&quot;/&gt;
+      &lt;xsl:with-param name=&quot;uriB&quot; select=&quot;$href.from.uri&quot;/&gt;
+      &lt;xsl:with-param name=&quot;return&quot; select=&quot;'B'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;depth&quot;&gt;
+    &lt;xsl:call-template name=&quot;count.uri.path.depth&quot;&gt;
+      &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$href.from&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;href&quot;&gt;
+    &lt;xsl:call-template name=&quot;copy-string&quot;&gt;
+      &lt;xsl:with-param name=&quot;string&quot; select=&quot;'../'&quot;/&gt;
+      &lt;xsl:with-param name=&quot;count&quot; select=&quot;$depth&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:value-of select=&quot;$href.to&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;In &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt; (&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$href.from&quot;/&gt;
+    &lt;xsl:text&gt;,&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$depth&quot;/&gt;
+    &lt;xsl:text&gt;) &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name($object)&quot;/&gt;
+    &lt;xsl:text&gt; href=&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$href&quot;/&gt;
+  &lt;/xsl:message&gt;
+  --&gt;
+
+  &lt;xsl:value-of select=&quot;$href&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;html.head&quot;&gt;
+  &lt;xsl:param name=&quot;prev&quot; select=&quot;/foo&quot;/&gt;
+  &lt;xsl:param name=&quot;next&quot; select=&quot;/foo&quot;/&gt;
+  &lt;xsl:variable name=&quot;this&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:variable name=&quot;home&quot; select=&quot;/*[1]&quot;/&gt;
+  &lt;xsl:variable name=&quot;up&quot; select=&quot;parent::*&quot;/&gt;
+
+  &lt;head&gt;
+    &lt;xsl:call-template name=&quot;system.head.content&quot;/&gt;
+    &lt;xsl:call-template name=&quot;head.content&quot;/&gt;
+
+    &lt;xsl:if test=&quot;$home&quot;&gt;
+      &lt;link rel=&quot;start&quot;&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$home&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:attribute name=&quot;title&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$home&quot;
+                               mode=&quot;object.title.markup.textonly&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/link&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$up&quot;&gt;
+      &lt;link rel=&quot;up&quot;&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$up&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:attribute name=&quot;title&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$up&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/link&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$prev&quot;&gt;
+      &lt;link rel=&quot;prev&quot;&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$prev&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:attribute name=&quot;title&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$prev&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/link&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$next&quot;&gt;
+      &lt;link rel=&quot;next&quot;&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$next&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:attribute name=&quot;title&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$next&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/link&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$html.extra.head.links != 0&quot;&gt;
+      &lt;xsl:for-each select=&quot;//part
+                            |//reference
+                            |//preface
+                            |//chapter
+                            |//article
+                            |//refentry
+                            |//appendix[not(parent::article)]|appendix
+                            |//glossary[not(parent::article)]|glossary
+                            |//index[not(parent::article)]|index&quot;&gt;
+        &lt;link rel=&quot;{local-name(.)}&quot;&gt;
+          &lt;xsl:attribute name=&quot;href&quot;&gt;
+            &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+              &lt;xsl:with-param name=&quot;context&quot; select=&quot;$this&quot;/&gt;
+              &lt;xsl:with-param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:attribute&gt;
+          &lt;xsl:attribute name=&quot;title&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/link&gt;
+      &lt;/xsl:for-each&gt;
+
+      &lt;xsl:for-each select=&quot;section|sect1|refsection|refsect1&quot;&gt;
+        &lt;link&gt;
+          &lt;xsl:attribute name=&quot;rel&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;local-name($this) = 'section'
+                              or local-name($this) = 'refsection'&quot;&gt;
+                &lt;xsl:value-of select=&quot;'subsection'&quot;/&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;
+                &lt;xsl:value-of select=&quot;'section'&quot;/&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:attribute&gt;
+          &lt;xsl:attribute name=&quot;href&quot;&gt;
+            &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+              &lt;xsl:with-param name=&quot;context&quot; select=&quot;$this&quot;/&gt;
+              &lt;xsl:with-param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:attribute&gt;
+          &lt;xsl:attribute name=&quot;title&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/link&gt;
+      &lt;/xsl:for-each&gt;
+
+      &lt;xsl:for-each select=&quot;sect2|sect3|sect4|sect5|refsect2|refsect3&quot;&gt;
+        &lt;link rel=&quot;subsection&quot;&gt;
+          &lt;xsl:attribute name=&quot;href&quot;&gt;
+            &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+              &lt;xsl:with-param name=&quot;context&quot; select=&quot;$this&quot;/&gt;
+              &lt;xsl:with-param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:attribute&gt;
+          &lt;xsl:attribute name=&quot;title&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/link&gt;
+      &lt;/xsl:for-each&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;user.head.content&quot;/&gt;
+  &lt;/head&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;header.navigation&quot;&gt;
+  &lt;xsl:param name=&quot;prev&quot; select=&quot;/foo&quot;/&gt;
+  &lt;xsl:param name=&quot;next&quot; select=&quot;/foo&quot;/&gt;
+  &lt;xsl:param name=&quot;nav.context&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;home&quot; select=&quot;/*[1]&quot;/&gt;
+  &lt;xsl:variable name=&quot;up&quot; select=&quot;parent::*&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;row1&quot; select=&quot;$navig.showtitles != 0&quot;/&gt;
+  &lt;xsl:variable name=&quot;row2&quot; select=&quot;count($prev) &gt; 0
+                                    or (count($up) &gt; 0 
+					and generate-id($up) != generate-id($home)
+                                        and $navig.showtitles != 0)
+                                    or count($next) &gt; 0&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$suppress.navigation = '0' and $suppress.header.navigation = '0'&quot;&gt;
+    &lt;div class=&quot;navheader&quot;&gt;
+      &lt;xsl:if test=&quot;$row1 or $row2&quot;&gt;
+        &lt;table width=&quot;100%&quot; summary=&quot;Navigation header&quot;&gt;
+          &lt;xsl:if test=&quot;$row1&quot;&gt;
+            &lt;tr&gt;
+              &lt;th colspan=&quot;3&quot; align=&quot;center&quot;&gt;
+                &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup&quot;/&gt;
+              &lt;/th&gt;
+            &lt;/tr&gt;
+          &lt;/xsl:if&gt;
+
+          &lt;xsl:if test=&quot;$row2&quot;&gt;
+            &lt;tr&gt;
+              &lt;td width=&quot;20%&quot; align=&quot;left&quot;&gt;
+                &lt;xsl:if test=&quot;count($prev)&gt;0&quot;&gt;
+                  &lt;a accesskey=&quot;p&quot;&gt;
+                    &lt;xsl:attribute name=&quot;href&quot;&gt;
+                      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                        &lt;xsl:with-param name=&quot;object&quot; select=&quot;$prev&quot;/&gt;
+                      &lt;/xsl:call-template&gt;
+                    &lt;/xsl:attribute&gt;
+                    &lt;xsl:call-template name=&quot;navig.content&quot;&gt;
+                      &lt;xsl:with-param name=&quot;direction&quot; select=&quot;'prev'&quot;/&gt;
+                    &lt;/xsl:call-template&gt;
+                  &lt;/a&gt;
+                &lt;/xsl:if&gt;
+                &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+              &lt;/td&gt;
+              &lt;th width=&quot;60%&quot; align=&quot;center&quot;&gt;
+                &lt;xsl:choose&gt;
+                  &lt;xsl:when test=&quot;count($up) &gt; 0
+				  and generate-id($up) != generate-id($home)
+                                  and $navig.showtitles != 0&quot;&gt;
+                    &lt;xsl:apply-templates select=&quot;$up&quot; mode=&quot;object.title.markup&quot;/&gt;
+                  &lt;/xsl:when&gt;
+                  &lt;xsl:otherwise&gt;&#160;&lt;/xsl:otherwise&gt;
+                &lt;/xsl:choose&gt;
+              &lt;/th&gt;
+              &lt;td width=&quot;20%&quot; align=&quot;right&quot;&gt;
+                &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+                &lt;xsl:if test=&quot;count($next)&gt;0&quot;&gt;
+                  &lt;a accesskey=&quot;n&quot;&gt;
+                    &lt;xsl:attribute name=&quot;href&quot;&gt;
+                      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                        &lt;xsl:with-param name=&quot;object&quot; select=&quot;$next&quot;/&gt;
+                      &lt;/xsl:call-template&gt;
+                    &lt;/xsl:attribute&gt;
+                    &lt;xsl:call-template name=&quot;navig.content&quot;&gt;
+                      &lt;xsl:with-param name=&quot;direction&quot; select=&quot;'next'&quot;/&gt;
+                    &lt;/xsl:call-template&gt;
+                  &lt;/a&gt;
+                &lt;/xsl:if&gt;
+              &lt;/td&gt;
+            &lt;/tr&gt;
+          &lt;/xsl:if&gt;
+        &lt;/table&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:if test=&quot;$header.rule != 0&quot;&gt;
+        &lt;hr/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;footer.navigation&quot;&gt;
+  &lt;xsl:param name=&quot;prev&quot; select=&quot;/foo&quot;/&gt;
+  &lt;xsl:param name=&quot;next&quot; select=&quot;/foo&quot;/&gt;
+  &lt;xsl:param name=&quot;nav.context&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;home&quot; select=&quot;/*[1]&quot;/&gt;
+  &lt;xsl:variable name=&quot;up&quot; select=&quot;parent::*&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;row1&quot; select=&quot;count($prev) &gt; 0
+                                    or count($up) &gt; 0
+                                    or count($next) &gt; 0&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;row2&quot; select=&quot;($prev and $navig.showtitles != 0)
+                                    or (generate-id($home) != generate-id(.)
+                                        or $nav.context = 'toc')
+                                    or ($chunk.tocs.and.lots != 0
+                                        and $nav.context != 'toc')
+                                    or ($next and $navig.showtitles != 0)&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$suppress.navigation = '0' and $suppress.footer.navigation = '0'&quot;&gt;
+    &lt;div class=&quot;navfooter&quot;&gt;
+      &lt;xsl:if test=&quot;$footer.rule != 0&quot;&gt;
+        &lt;hr/&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:if test=&quot;$row1 or $row2&quot;&gt;
+        &lt;table width=&quot;100%&quot; summary=&quot;Navigation footer&quot;&gt;
+          &lt;xsl:if test=&quot;$row1&quot;&gt;
+            &lt;tr&gt;
+              &lt;td width=&quot;40%&quot; align=&quot;left&quot;&gt;
+                &lt;xsl:if test=&quot;count($prev)&gt;0&quot;&gt;
+                  &lt;a accesskey=&quot;p&quot;&gt;
+                    &lt;xsl:attribute name=&quot;href&quot;&gt;
+                      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                        &lt;xsl:with-param name=&quot;object&quot; select=&quot;$prev&quot;/&gt;
+                      &lt;/xsl:call-template&gt;
+                    &lt;/xsl:attribute&gt;
+                    &lt;xsl:call-template name=&quot;navig.content&quot;&gt;
+                      &lt;xsl:with-param name=&quot;direction&quot; select=&quot;'prev'&quot;/&gt;
+                    &lt;/xsl:call-template&gt;
+                  &lt;/a&gt;
+                &lt;/xsl:if&gt;
+                &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+              &lt;/td&gt;
+              &lt;td width=&quot;20%&quot; align=&quot;center&quot;&gt;
+                &lt;xsl:choose&gt;
+                  &lt;xsl:when test=&quot;count($up)&gt;0
+		                  and generate-id($up) != generate-id($home)&quot;&gt;
+		    &lt;a accesskey=&quot;u&quot;&gt;
+                      &lt;xsl:attribute name=&quot;href&quot;&gt;
+                        &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                          &lt;xsl:with-param name=&quot;object&quot; select=&quot;$up&quot;/&gt;
+                        &lt;/xsl:call-template&gt;
+                      &lt;/xsl:attribute&gt;
+                      &lt;xsl:call-template name=&quot;navig.content&quot;&gt;
+                        &lt;xsl:with-param name=&quot;direction&quot; select=&quot;'up'&quot;/&gt;
+                      &lt;/xsl:call-template&gt;
+                    &lt;/a&gt;
+                  &lt;/xsl:when&gt;
+                  &lt;xsl:otherwise&gt;&#160;&lt;/xsl:otherwise&gt;
+                &lt;/xsl:choose&gt;
+              &lt;/td&gt;
+              &lt;td width=&quot;40%&quot; align=&quot;right&quot;&gt;
+                &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+                &lt;xsl:if test=&quot;count($next)&gt;0&quot;&gt;
+                  &lt;a accesskey=&quot;n&quot;&gt;
+                    &lt;xsl:attribute name=&quot;href&quot;&gt;
+                      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                        &lt;xsl:with-param name=&quot;object&quot; select=&quot;$next&quot;/&gt;
+                      &lt;/xsl:call-template&gt;
+                    &lt;/xsl:attribute&gt;
+                    &lt;xsl:call-template name=&quot;navig.content&quot;&gt;
+                      &lt;xsl:with-param name=&quot;direction&quot; select=&quot;'next'&quot;/&gt;
+                    &lt;/xsl:call-template&gt;
+                  &lt;/a&gt;
+                &lt;/xsl:if&gt;
+              &lt;/td&gt;
+            &lt;/tr&gt;
+          &lt;/xsl:if&gt;
+
+          &lt;xsl:if test=&quot;$row2&quot;&gt;
+            &lt;tr&gt;
+              &lt;td width=&quot;40%&quot; align=&quot;left&quot; valign=&quot;top&quot;&gt;
+                &lt;xsl:if test=&quot;$navig.showtitles != 0&quot;&gt;
+                  &lt;xsl:apply-templates select=&quot;$prev&quot; mode=&quot;object.title.markup&quot;/&gt;
+                &lt;/xsl:if&gt;
+                &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+              &lt;/td&gt;
+              &lt;td width=&quot;20%&quot; align=&quot;center&quot;&gt;
+                &lt;xsl:choose&gt;
+                  &lt;xsl:when test=&quot;$home != . or $nav.context = 'toc'&quot;&gt;
+                    &lt;a accesskey=&quot;h&quot;&gt;
+                      &lt;xsl:attribute name=&quot;href&quot;&gt;
+                        &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                          &lt;xsl:with-param name=&quot;object&quot; select=&quot;$home&quot;/&gt;
+                        &lt;/xsl:call-template&gt;
+                      &lt;/xsl:attribute&gt;
+                      &lt;xsl:call-template name=&quot;navig.content&quot;&gt;
+                        &lt;xsl:with-param name=&quot;direction&quot; select=&quot;'home'&quot;/&gt;
+                      &lt;/xsl:call-template&gt;
+                    &lt;/a&gt;
+                    &lt;xsl:if test=&quot;$chunk.tocs.and.lots != 0 and $nav.context != 'toc'&quot;&gt;
+                      &lt;xsl:text&gt;&#160;|&#160;&lt;/xsl:text&gt;
+                    &lt;/xsl:if&gt;
+                  &lt;/xsl:when&gt;
+                  &lt;xsl:otherwise&gt;&#160;&lt;/xsl:otherwise&gt;
+                &lt;/xsl:choose&gt;
+
+                &lt;xsl:if test=&quot;$chunk.tocs.and.lots != 0 and $nav.context != 'toc'&quot;&gt;
+                  &lt;a accesskey=&quot;t&quot;&gt;
+                    &lt;xsl:attribute name=&quot;href&quot;&gt;
+                      &lt;xsl:apply-templates select=&quot;/*[1]&quot;
+                                           mode=&quot;recursive-chunk-filename&quot;/&gt;
+                      &lt;xsl:text&gt;-toc&lt;/xsl:text&gt;
+                      &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+                    &lt;/xsl:attribute&gt;
+                    &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+                      &lt;xsl:with-param name=&quot;key&quot; select=&quot;'nav-toc'&quot;/&gt;
+                    &lt;/xsl:call-template&gt;
+                  &lt;/a&gt;
+                &lt;/xsl:if&gt;
+              &lt;/td&gt;
+              &lt;td width=&quot;40%&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;
+                &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+                &lt;xsl:if test=&quot;$navig.showtitles != 0&quot;&gt;
+                  &lt;xsl:apply-templates select=&quot;$next&quot; mode=&quot;object.title.markup&quot;/&gt;
+                &lt;/xsl:if&gt;
+              &lt;/td&gt;
+            &lt;/tr&gt;
+          &lt;/xsl:if&gt;
+        &lt;/table&gt;
+      &lt;/xsl:if&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;navig.content&quot;&gt;
+    &lt;xsl:param name=&quot;direction&quot; select=&quot;next&quot;/&gt;
+    &lt;xsl:variable name=&quot;navtext&quot;&gt;
+        &lt;xsl:choose&gt;
+	    &lt;xsl:when test=&quot;$direction = 'prev'&quot;&gt;
+		&lt;xsl:call-template name=&quot;gentext.nav.prev&quot;/&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:when test=&quot;$direction = 'next'&quot;&gt;
+		&lt;xsl:call-template name=&quot;gentext.nav.next&quot;/&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:when test=&quot;$direction = 'up'&quot;&gt;
+		&lt;xsl:call-template name=&quot;gentext.nav.up&quot;/&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:when test=&quot;$direction = 'home'&quot;&gt;
+		&lt;xsl:call-template name=&quot;gentext.nav.home&quot;/&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:otherwise&gt;
+		&lt;xsl:text&gt;xxx&lt;/xsl:text&gt;
+	    &lt;/xsl:otherwise&gt;
+	&lt;/xsl:choose&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:choose&gt;
+	&lt;xsl:when test=&quot;$navig.graphics != 0&quot;&gt;
+	    &lt;img&gt;
+		&lt;xsl:attribute name=&quot;src&quot;&gt;
+		    &lt;xsl:value-of select=&quot;$navig.graphics.path&quot;/&gt;
+		    &lt;xsl:value-of select=&quot;$direction&quot;/&gt;
+		    &lt;xsl:value-of select=&quot;$navig.graphics.extension&quot;/&gt;
+		&lt;/xsl:attribute&gt;
+		&lt;xsl:attribute name=&quot;alt&quot;&gt;
+		    &lt;xsl:value-of select=&quot;$navtext&quot;/&gt;
+		&lt;/xsl:attribute&gt;
+	    &lt;/img&gt;
+	&lt;/xsl:when&gt;
+	&lt;xsl:otherwise&gt;
+	    &lt;xsl:value-of select=&quot;$navtext&quot;/&gt;
+	&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;processing-instruction('dbhtml')&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;chunk-element-content&quot;&gt;
+  &lt;xsl:param name=&quot;prev&quot;/&gt;
+  &lt;xsl:param name=&quot;next&quot;/&gt;
+  &lt;xsl:param name=&quot;nav.context&quot;/&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:call-template name=&quot;user.preroot&quot;/&gt;
+
+  &lt;html&gt;
+    &lt;xsl:call-template name=&quot;html.head&quot;&gt;
+      &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+      &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+
+    &lt;body&gt;
+      &lt;xsl:call-template name=&quot;body.attributes&quot;/&gt;
+      &lt;xsl:call-template name=&quot;user.header.navigation&quot;/&gt;
+
+      &lt;xsl:call-template name=&quot;header.navigation&quot;&gt;
+	&lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+	&lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+	&lt;xsl:with-param name=&quot;nav.context&quot; select=&quot;$nav.context&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+
+      &lt;xsl:call-template name=&quot;user.header.content&quot;/&gt;
+
+      &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+
+      &lt;xsl:call-template name=&quot;user.footer.content&quot;/&gt;
+
+      &lt;xsl:call-template name=&quot;footer.navigation&quot;&gt;
+	&lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+	&lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+	&lt;xsl:with-param name=&quot;nav.context&quot; select=&quot;$nav.context&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+
+      &lt;xsl:call-template name=&quot;user.footer.navigation&quot;/&gt;
+    &lt;/body&gt;
+  &lt;/html&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunk.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,40 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+		version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;exsl&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: chunk.xsl,v 1.30 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:import href=&quot;docbook.xsl&quot;/&gt;
+&lt;xsl:import href=&quot;chunk-common.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;manifest.xsl&quot;/&gt;
+
+&lt;!-- Why is chunk-code now xsl:included?
+
+Suppose you want to customize *both* the chunking algorithm used *and* the
+presentation of some elements that may be chunks. In order to do that, you
+must get the order of imports &quot;just right&quot;. The answer is to make your own
+copy of this file, where you replace the initial import of &quot;docbook.xsl&quot;
+with an import of your own base.xsl (that does its own import of docbook.xsl).
+
+Put the templates for changing the presentation of elements in your base.xsl.
+
+Put the templates that control chunking after the include of chunk-code.xsl.
+
+Voila! (Man I hope we can do this better in XSLT 2.0)
+
+--&gt;
+
+&lt;xsl:include href=&quot;chunk-code.xsl&quot;/&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunker.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunker.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunker.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,423 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:saxon=&quot;<A HREF="http://icl.com/saxon">http://icl.com/saxon</A>&quot;
+                xmlns:lxslt=&quot;<A HREF="http://xml.apache.org/xslt">http://xml.apache.org/xslt</A>&quot;
+                xmlns:xalanredirect=&quot;org.apache.xalan.xslt.extensions.Redirect&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+		version=&quot;1.1&quot;
+                exclude-result-prefixes=&quot;doc&quot;
+                extension-element-prefixes=&quot;saxon xalanredirect lxslt exsl&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: chunker.xsl,v 1.24 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- This stylesheet works with XSLT implementations that support --&gt;
+&lt;!-- exsl:document, saxon:output, or xalanredirect:write --&gt;
+&lt;!-- Note: Only Saxon 6.4.2 or later is supported. --&gt;
+
+&lt;xsl:param name=&quot;chunker.output.method&quot; select=&quot;'html'&quot;/&gt;
+&lt;xsl:param name=&quot;chunker.output.encoding&quot; select=&quot;'ISO-8859-1'&quot;/&gt;
+&lt;xsl:param name=&quot;chunker.output.indent&quot; select=&quot;'no'&quot;/&gt;
+&lt;xsl:param name=&quot;chunker.output.omit-xml-declaration&quot; select=&quot;'no'&quot;/&gt;
+&lt;xsl:param name=&quot;chunker.output.standalone&quot; select=&quot;'no'&quot;/&gt;
+&lt;xsl:param name=&quot;chunker.output.doctype-public&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;chunker.output.doctype-system&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;chunker.output.media-type&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;chunker.output.cdata-section-elements&quot; select=&quot;''&quot;/&gt;
+
+&lt;xsl:param name=&quot;saxon.character.representation&quot; select=&quot;'entity;decimal'&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;make-relative-filename&quot;&gt;
+  &lt;xsl:param name=&quot;base.dir&quot; select=&quot;'./'&quot;/&gt;
+  &lt;xsl:param name=&quot;base.name&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;!-- put Saxon first to work around a bug in libxslt --&gt;
+    &lt;xsl:when test=&quot;element-available('saxon:output')&quot;&gt;
+      &lt;!-- Saxon doesn't make the chunks relative --&gt;
+      &lt;xsl:value-of select=&quot;concat($base.dir,$base.name)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;element-available('exsl:document')&quot;&gt;
+      &lt;!-- EXSL document does make the chunks relative, I think --&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;count(parent::*) = 0&quot;&gt;
+          &lt;xsl:value-of select=&quot;concat($base.dir,$base.name)&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:value-of select=&quot;$base.name&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;element-available('xalanredirect:write')&quot;&gt;
+      &lt;!-- Xalan doesn't make the chunks relative --&gt;
+      &lt;xsl:value-of select=&quot;concat($base.dir,$base.name)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+        &lt;xsl:text&gt;Don't know how to chunk with &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;system-property('xsl:vendor')&quot;/&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;write.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;filename&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;quiet&quot; select=&quot;0&quot;/&gt;
+
+  &lt;xsl:param name=&quot;method&quot; select=&quot;$chunker.output.method&quot;/&gt;
+  &lt;xsl:param name=&quot;encoding&quot; select=&quot;$chunker.output.encoding&quot;/&gt;
+  &lt;xsl:param name=&quot;indent&quot; select=&quot;$chunker.output.indent&quot;/&gt;
+  &lt;xsl:param name=&quot;omit-xml-declaration&quot;
+             select=&quot;$chunker.output.omit-xml-declaration&quot;/&gt;
+  &lt;xsl:param name=&quot;standalone&quot; select=&quot;$chunker.output.standalone&quot;/&gt;
+  &lt;xsl:param name=&quot;doctype-public&quot; select=&quot;$chunker.output.doctype-public&quot;/&gt;
+  &lt;xsl:param name=&quot;doctype-system&quot; select=&quot;$chunker.output.doctype-system&quot;/&gt;
+  &lt;xsl:param name=&quot;media-type&quot; select=&quot;$chunker.output.media-type&quot;/&gt;
+  &lt;xsl:param name=&quot;cdata-section-elements&quot;
+             select=&quot;$chunker.output.cdata-section-elements&quot;/&gt;
+
+  &lt;xsl:param name=&quot;content&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$quiet = 0&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;Writing &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+      &lt;xsl:if test=&quot;name(.) != ''&quot;&gt;
+        &lt;xsl:text&gt; for &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+        &lt;xsl:if test=&quot;@id&quot;&gt;
+          &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+          &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;element-available('exsl:document')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;!-- Handle the permutations ... --&gt;
+        &lt;xsl:when test=&quot;$media-type != ''&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$doctype-public != '' and $doctype-system != ''&quot;&gt;
+              &lt;exsl:document href=&quot;{$filename}&quot;
+                             method=&quot;{$method}&quot;
+                             encoding=&quot;{$encoding}&quot;
+                             indent=&quot;{$indent}&quot;
+                             omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                             cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                             media-type=&quot;{$media-type}&quot;
+                             doctype-public=&quot;{$doctype-public}&quot;
+                             doctype-system=&quot;{$doctype-system}&quot;
+                             standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/exsl:document&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$doctype-public != '' and $doctype-system = ''&quot;&gt;
+              &lt;exsl:document href=&quot;{$filename}&quot;
+                             method=&quot;{$method}&quot;
+                             encoding=&quot;{$encoding}&quot;
+                             indent=&quot;{$indent}&quot;
+                             omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                             cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                             media-type=&quot;{$media-type}&quot;
+                             doctype-public=&quot;{$doctype-public}&quot;
+                             standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/exsl:document&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$doctype-public = '' and $doctype-system != ''&quot;&gt;
+              &lt;exsl:document href=&quot;{$filename}&quot;
+                             method=&quot;{$method}&quot;
+                             encoding=&quot;{$encoding}&quot;
+                             indent=&quot;{$indent}&quot;
+                             omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                             cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                             media-type=&quot;{$media-type}&quot;
+                             doctype-system=&quot;{$doctype-system}&quot;
+                             standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/exsl:document&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;&lt;!-- $doctype-public = '' and $doctype-system = ''&quot;&gt; --&gt;
+              &lt;exsl:document href=&quot;{$filename}&quot;
+                             method=&quot;{$method}&quot;
+                             encoding=&quot;{$encoding}&quot;
+                             indent=&quot;{$indent}&quot;
+                             omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                             cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                             media-type=&quot;{$media-type}&quot;
+                             standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/exsl:document&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$doctype-public != '' and $doctype-system != ''&quot;&gt;
+              &lt;exsl:document href=&quot;{$filename}&quot;
+                             method=&quot;{$method}&quot;
+                             encoding=&quot;{$encoding}&quot;
+                             indent=&quot;{$indent}&quot;
+                             omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                             cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                             doctype-public=&quot;{$doctype-public}&quot;
+                             doctype-system=&quot;{$doctype-system}&quot;
+                             standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/exsl:document&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$doctype-public != '' and $doctype-system = ''&quot;&gt;
+              &lt;exsl:document href=&quot;{$filename}&quot;
+                             method=&quot;{$method}&quot;
+                             encoding=&quot;{$encoding}&quot;
+                             indent=&quot;{$indent}&quot;
+                             omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                             cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                             doctype-public=&quot;{$doctype-public}&quot;
+                             standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/exsl:document&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$doctype-public = '' and $doctype-system != ''&quot;&gt;
+              &lt;exsl:document href=&quot;{$filename}&quot;
+                             method=&quot;{$method}&quot;
+                             encoding=&quot;{$encoding}&quot;
+                             indent=&quot;{$indent}&quot;
+                             omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                             cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                             doctype-system=&quot;{$doctype-system}&quot;
+                             standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/exsl:document&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;&lt;!-- $doctype-public = '' and $doctype-system = ''&quot;&gt; --&gt;
+              &lt;exsl:document href=&quot;{$filename}&quot;
+                             method=&quot;{$method}&quot;
+                             encoding=&quot;{$encoding}&quot;
+                             indent=&quot;{$indent}&quot;
+                             omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                             cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                             standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/exsl:document&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;element-available('saxon:output')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;!-- Handle the permutations ... --&gt;
+        &lt;xsl:when test=&quot;$media-type != ''&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$doctype-public != '' and $doctype-system != ''&quot;&gt;
+              &lt;saxon:output saxon:character-representation=&quot;{$saxon.character.representation}&quot;
+                            href=&quot;{$filename}&quot;
+                            method=&quot;{$method}&quot;
+                            encoding=&quot;{$encoding}&quot;
+                            indent=&quot;{$indent}&quot;
+                            omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                            cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                            media-type=&quot;{$media-type}&quot;
+                            doctype-public=&quot;{$doctype-public}&quot;
+                            doctype-system=&quot;{$doctype-system}&quot;
+                            standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/saxon:output&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$doctype-public != '' and $doctype-system = ''&quot;&gt;
+              &lt;saxon:output saxon:character-representation=&quot;{$saxon.character.representation}&quot;
+                            href=&quot;{$filename}&quot;
+                            method=&quot;{$method}&quot;
+                            encoding=&quot;{$encoding}&quot;
+                            indent=&quot;{$indent}&quot;
+                            omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                            cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                            media-type=&quot;{$media-type}&quot;
+                            doctype-public=&quot;{$doctype-public}&quot;
+                            standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/saxon:output&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$doctype-public = '' and $doctype-system != ''&quot;&gt;
+              &lt;saxon:output saxon:character-representation=&quot;{$saxon.character.representation}&quot;
+                            href=&quot;{$filename}&quot;
+                            method=&quot;{$method}&quot;
+                            encoding=&quot;{$encoding}&quot;
+                            indent=&quot;{$indent}&quot;
+                            omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                            cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                            media-type=&quot;{$media-type}&quot;
+                            doctype-system=&quot;{$doctype-system}&quot;
+                            standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/saxon:output&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;&lt;!-- $doctype-public = '' and $doctype-system = ''&quot;&gt; --&gt;
+              &lt;saxon:output saxon:character-representation=&quot;{$saxon.character.representation}&quot;
+                            href=&quot;{$filename}&quot;
+                            method=&quot;{$method}&quot;
+                            encoding=&quot;{$encoding}&quot;
+                            indent=&quot;{$indent}&quot;
+                            omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                            cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                            media-type=&quot;{$media-type}&quot;
+                            standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/saxon:output&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$doctype-public != '' and $doctype-system != ''&quot;&gt;
+              &lt;saxon:output saxon:character-representation=&quot;{$saxon.character.representation}&quot;
+                            href=&quot;{$filename}&quot;
+                            method=&quot;{$method}&quot;
+                            encoding=&quot;{$encoding}&quot;
+                            indent=&quot;{$indent}&quot;
+                            omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                            cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                            doctype-public=&quot;{$doctype-public}&quot;
+                            doctype-system=&quot;{$doctype-system}&quot;
+                            standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/saxon:output&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$doctype-public != '' and $doctype-system = ''&quot;&gt;
+              &lt;saxon:output saxon:character-representation=&quot;{$saxon.character.representation}&quot;
+                            href=&quot;{$filename}&quot;
+                            method=&quot;{$method}&quot;
+                            encoding=&quot;{$encoding}&quot;
+                            indent=&quot;{$indent}&quot;
+                            omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                            cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                            doctype-public=&quot;{$doctype-public}&quot;
+                            standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/saxon:output&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;$doctype-public = '' and $doctype-system != ''&quot;&gt;
+              &lt;saxon:output saxon:character-representation=&quot;{$saxon.character.representation}&quot;
+                            href=&quot;{$filename}&quot;
+                            method=&quot;{$method}&quot;
+                            encoding=&quot;{$encoding}&quot;
+                            indent=&quot;{$indent}&quot;
+                            omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                            cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                            doctype-system=&quot;{$doctype-system}&quot;
+                            standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/saxon:output&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;&lt;!-- $doctype-public = '' and $doctype-system = ''&quot;&gt; --&gt;
+              &lt;saxon:output saxon:character-representation=&quot;{$saxon.character.representation}&quot;
+                            href=&quot;{$filename}&quot;
+                            method=&quot;{$method}&quot;
+                            encoding=&quot;{$encoding}&quot;
+                            indent=&quot;{$indent}&quot;
+                            omit-xml-declaration=&quot;{$omit-xml-declaration}&quot;
+                            cdata-section-elements=&quot;{$cdata-section-elements}&quot;
+                            standalone=&quot;{$standalone}&quot;&gt;
+                &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+              &lt;/saxon:output&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;element-available('xalanredirect:write')&quot;&gt;
+      &lt;!-- Xalan uses xalanredirect --&gt;
+      &lt;xalanredirect:write file=&quot;{$filename}&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/xalanredirect:write&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;!-- it doesn't matter since we won't be making chunks... --&gt;
+      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+        &lt;xsl:text&gt;Can't make chunks with &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;system-property('xsl:vendor')&quot;/&gt;
+        &lt;xsl:text&gt;'s processor.&lt;/xsl:text&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;write.chunk.with.doctype&quot;&gt;
+  &lt;xsl:param name=&quot;filename&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;quiet&quot; select=&quot;0&quot;/&gt;
+
+  &lt;xsl:param name=&quot;method&quot; select=&quot;$chunker.output.method&quot;/&gt;
+  &lt;xsl:param name=&quot;encoding&quot; select=&quot;$chunker.output.encoding&quot;/&gt;
+  &lt;xsl:param name=&quot;indent&quot; select=&quot;$chunker.output.indent&quot;/&gt;
+  &lt;xsl:param name=&quot;omit-xml-declaration&quot;
+             select=&quot;$chunker.output.omit-xml-declaration&quot;/&gt;
+  &lt;xsl:param name=&quot;standalone&quot; select=&quot;$chunker.output.standalone&quot;/&gt;
+  &lt;xsl:param name=&quot;doctype-public&quot; select=&quot;$chunker.output.doctype-public&quot;/&gt;
+  &lt;xsl:param name=&quot;doctype-system&quot; select=&quot;$chunker.output.doctype-system&quot;/&gt;
+  &lt;xsl:param name=&quot;media-type&quot; select=&quot;$chunker.output.media-type&quot;/&gt;
+  &lt;xsl:param name=&quot;cdata-section-elements&quot;
+             select=&quot;$chunker.output.cdata-section-elements&quot;/&gt;
+
+  &lt;xsl:param name=&quot;content&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+    &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$quiet&quot;/&gt;
+    &lt;xsl:with-param name=&quot;method&quot; select=&quot;$method&quot;/&gt;
+    &lt;xsl:with-param name=&quot;encoding&quot; select=&quot;$encoding&quot;/&gt;
+    &lt;xsl:with-param name=&quot;indent&quot; select=&quot;$indent&quot;/&gt;
+    &lt;xsl:with-param name=&quot;omit-xml-declaration&quot; select=&quot;$omit-xml-declaration&quot;/&gt;
+    &lt;xsl:with-param name=&quot;standalone&quot; select=&quot;$standalone&quot;/&gt;
+    &lt;xsl:with-param name=&quot;doctype-public&quot; select=&quot;$doctype-public&quot;/&gt;
+    &lt;xsl:with-param name=&quot;doctype-system&quot; select=&quot;$doctype-system&quot;/&gt;
+    &lt;xsl:with-param name=&quot;media-type&quot; select=&quot;$media-type&quot;/&gt;
+    &lt;xsl:with-param name=&quot;cdata-section-elements&quot; select=&quot;$cdata-section-elements&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;write.text.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;filename&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;quiet&quot; select=&quot;0&quot;/&gt;
+  &lt;xsl:param name=&quot;method&quot; select=&quot;'text'&quot;/&gt;
+  &lt;xsl:param name=&quot;encoding&quot; select=&quot;$chunker.output.encoding&quot;/&gt;
+  &lt;xsl:param name=&quot;media-type&quot; select=&quot;$chunker.output.media-type&quot;/&gt;
+  &lt;xsl:param name=&quot;content&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+    &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$quiet&quot;/&gt;
+    &lt;xsl:with-param name=&quot;method&quot; select=&quot;$method&quot;/&gt;
+    &lt;xsl:with-param name=&quot;encoding&quot; select=&quot;$encoding&quot;/&gt;
+    &lt;xsl:with-param name=&quot;indent&quot; select=&quot;'no'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;omit-xml-declaration&quot; select=&quot;'no'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;standalone&quot; select=&quot;'no'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;doctype-public&quot;/&gt;
+    &lt;xsl:with-param name=&quot;doctype-system&quot;/&gt;
+    &lt;xsl:with-param name=&quot;media-type&quot; select=&quot;$media-type&quot;/&gt;
+    &lt;xsl:with-param name=&quot;cdata-section-elements&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunkfast.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunkfast.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunkfast.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,71 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+		version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;exsl&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: chunkfast.xsl,v 1.2 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:import href=&quot;chunk.xsl&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.fast&quot; select=&quot;1&quot;/&gt;
+
+&lt;xsl:variable name=&quot;chunks&quot; select=&quot;exsl:node-set($chunk.hierarchy)//div&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process-chunk-element&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk.fast != 0 and function-available('exsl:node-set')&quot;&gt;
+      &lt;xsl:variable name=&quot;genid&quot; select=&quot;generate-id()&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;div&quot; select=&quot;$chunks[@id=$genid]&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;prevdiv&quot;
+                    select=&quot;($div/preceding-sibling::div|$div/preceding::div|$div/parent::div)[last()]&quot;/&gt;
+      &lt;xsl:variable name=&quot;prev&quot; select=&quot;key('genid', $prevdiv/@id)&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;nextdiv&quot;
+                    select=&quot;($div/following-sibling::div|$div/following::div|$div/div)[1]&quot;/&gt;
+      &lt;xsl:variable name=&quot;next&quot; select=&quot;key('genid', $nextdiv/@id)&quot;/&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0 and parent::*&quot;&gt;
+          &lt;xsl:apply-imports/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;process-chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+            &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0 and not(parent::*)&quot;&gt;
+          &lt;xsl:call-template name=&quot;chunk-all-sections&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0&quot;&gt;
+          &lt;xsl:apply-imports/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$chunk.first.sections = 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;chunk-first-section-with-parent&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;chunk-all-sections&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunktoc.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunktoc.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/chunktoc.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,243 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+		version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;doc&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: chunktoc.xsl,v 1.5 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:import href=&quot;docbook.xsl&quot;/&gt;
+&lt;xsl:import href=&quot;chunk-common.xsl&quot;/&gt;
+
+&lt;xsl:template name=&quot;chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;!-- returns 1 if $node is a chunk --&gt;
+
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;$node&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;chunks&quot; select=&quot;document($chunk.toc,$node)&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunks//tocentry[@linkend=$id]&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;0&lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;chunk-filename&quot;&gt;
+  &lt;!-- returns the filename of a chunk --&gt;
+
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;chunks&quot; select=&quot;document($chunk.toc,.)&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;chunk&quot; select=&quot;$chunks//tocentry[@linkend=$id]&quot;/&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot; select=&quot;$chunk/processing-instruction('dbhtml')&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk&quot;&gt;
+      &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;parent::*&quot; mode=&quot;chunk-filename&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process-chunk&quot;&gt;
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;chunks&quot; select=&quot;document($chunk.toc,.)&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;chunk&quot; select=&quot;$chunks//tocentry[@linkend=$id]&quot;/&gt;
+  &lt;xsl:variable name=&quot;prev-id&quot;
+                select=&quot;($chunk/preceding::tocentry
+                         |$chunk/ancestor::tocentry)[last()]/@linkend&quot;/&gt;
+  &lt;xsl:variable name=&quot;next-id&quot;
+                select=&quot;($chunk/following::tocentry
+                         |$chunk/child::tocentry)[1]/@linkend&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev&quot; select=&quot;key('id',$prev-id)&quot;/&gt;
+  &lt;xsl:variable name=&quot;next&quot; select=&quot;key('id',$next-id)&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;chunkfn&quot;&gt;
+    &lt;xsl:if test=&quot;$ischunk='1'&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chunk-filename&quot; select=&quot;.&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+      &lt;xsl:with-param name=&quot;base.name&quot; select=&quot;$chunkfn&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$ischunk = 0&quot;&gt;
+      &lt;xsl:apply-imports/&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+        &lt;xsl:with-param name=&quot;content&quot;&gt;
+          &lt;xsl:call-template name=&quot;chunk-element-content&quot;&gt;
+            &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+            &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:with-param&gt;
+        &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;set&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;book&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;book/appendix&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;book/glossary&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;book/bibliography&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;dedication&quot; mode=&quot;dedication&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;preface|chapter&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;part|reference&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refentry&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;colophon&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;article&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;article/appendix&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;article/glossary&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;article/bibliography&quot;&gt;
+  &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect1|sect2|sect3|sect4|sect5|section&quot;&gt;
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$ischunk != 0&quot;&gt;
+      &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-imports/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;setindex
+                     |book/index
+                     |article/index&quot;&gt;
+  &lt;!-- some implementations use completely empty index tags to indicate --&gt;
+  &lt;!-- where an automatically generated index should be inserted. so --&gt;
+  &lt;!-- if the index is completely empty, skip it. --&gt;
+  &lt;xsl:if test=&quot;count(*)&gt;0 or $generate.index != '0'&quot;&gt;
+    &lt;xsl:call-template name=&quot;process-chunk&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;/&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk.toc = ''&quot;&gt;
+      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+        &lt;xsl:text&gt;The chunk.toc file is not set.&lt;/xsl:text&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;$rootid != ''&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;count(key('id',$rootid)) = 0&quot;&gt;
+          &lt;xsl:message terminate=&quot;yes&quot;&gt;
+            &lt;xsl:text&gt;ID '&lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$rootid&quot;/&gt;
+            &lt;xsl:text&gt;' not found in document.&lt;/xsl:text&gt;
+          &lt;/xsl:message&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;process.root&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;process.root&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/component.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/component.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/component.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,423 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: component.xsl,v 1.23 2004/10/22 12:51:26 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;component.title&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;level&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;ancestor::section&quot;&gt;
+	&lt;xsl:value-of select=&quot;count(ancestor::section)+1&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;ancestor::sect5&quot;&gt;6&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;ancestor::sect4&quot;&gt;5&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;ancestor::sect3&quot;&gt;4&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;ancestor::sect2&quot;&gt;3&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;ancestor::sect1&quot;&gt;2&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;!-- Let's handle the case where a component (bibliography, for example)
+       occurs inside a section; will we need parameters for this? --&gt;
+
+  &lt;xsl:element name=&quot;h{$level+1}&quot;&gt;
+    &lt;xsl:attribute name=&quot;class&quot;&gt;title&lt;/xsl:attribute&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+      &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;object.title.markup&quot;&gt;
+      &lt;xsl:with-param name=&quot;allow-anchors&quot; select=&quot;1&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;component.subtitle&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:variable name=&quot;subtitle&quot;
+                select=&quot;($node/docinfo/subtitle
+                        |$node/info/subtitle
+                        |$node/prefaceinfo/subtitle
+                        |$node/chapterinfo/subtitle
+                        |$node/appendixinfo/subtitle
+                        |$node/articleinfo/subtitle
+                        |$node/artheader/subtitle
+                        |$node/subtitle)[1]&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$subtitle&quot;&gt;
+    &lt;h3 class=&quot;subtitle&quot;&gt;
+      &lt;i&gt;
+        &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;object.subtitle.markup&quot;/&gt;
+      &lt;/i&gt;
+    &lt;/h3&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;component.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;dedication&quot; mode=&quot;dedication&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:call-template name=&quot;dedication.titlepage&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;dedication/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.title&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::dedication[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;dedication/subtitle&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.subtitle&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::dedication[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;dedication&quot;&gt;&lt;/xsl:template&gt; &lt;!-- see mode=&quot;dedication&quot; --&gt;
+&lt;xsl:template match=&quot;dedication/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;dedication/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;dedication/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;colophon&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;component.separator&quot;/&gt;
+    &lt;xsl:call-template name=&quot;component.title&quot;/&gt;
+    &lt;xsl:call-template name=&quot;component.subtitle&quot;/&gt;
+
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;colophon/title&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;preface&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;component.separator&quot;/&gt;
+    &lt;xsl:call-template name=&quot;preface.titlepage&quot;/&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')&quot;&gt;
+      &lt;xsl:call-template name=&quot;component.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;component.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;preface/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.title&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::preface[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;preface/subtitle
+                     |preface/prefaceinfo/subtitle
+                     |preface/info/subtitle
+                     |preface/docinfo/subtitle&quot;
+              mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.subtitle&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::preface[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;preface/docinfo|prefaceinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;preface/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;preface/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;preface/subtitle&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;chapter&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;component.separator&quot;/&gt;
+    &lt;xsl:call-template name=&quot;chapter.titlepage&quot;/&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')&quot;&gt;
+      &lt;xsl:call-template name=&quot;component.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;component.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;chapter/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.title&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::chapter[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;chapter/subtitle
+                     |chapter/chapterinfo/subtitle
+                     |chapter/info/subtitle
+                     |chapter/docinfo/subtitle&quot;
+              mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.subtitle&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::chapter[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;chapter/docinfo|chapterinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;chapter/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;chapter/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;chapter/subtitle&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;appendix&quot;&gt;
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;parent::article and $ischunk = 0&quot;&gt;
+        &lt;xsl:call-template name=&quot;section.heading&quot;&gt;
+          &lt;xsl:with-param name=&quot;level&quot; select=&quot;1&quot;/&gt;
+          &lt;xsl:with-param name=&quot;title&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup&quot;/&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;component.separator&quot;/&gt;
+        &lt;xsl:call-template name=&quot;appendix.titlepage&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')&quot;&gt;
+      &lt;xsl:call-template name=&quot;component.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;component.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates/&gt;
+
+    &lt;xsl:if test=&quot;not(parent::article) or $ischunk != 0&quot;&gt;
+      &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;appendix/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.title&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::appendix[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;appendix/subtitle
+                     |appendix/appendixinfo/subtitle
+                     |appendix/info/subtitle
+                     |appendix/docinfo/subtitle&quot;
+              mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.subtitle&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::appendix[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;appendix/docinfo|appendixinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;appendix/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;appendix/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;appendix/subtitle&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;dedication&quot; mode=&quot;component.number&quot;&gt;
+  &lt;xsl:param name=&quot;add.space&quot; select=&quot;false()&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;preface&quot; mode=&quot;component.number&quot;&gt;
+  &lt;xsl:param name=&quot;add.space&quot; select=&quot;false()&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;chapter&quot; mode=&quot;component.number&quot;&gt;
+  &lt;xsl:param name=&quot;add.space&quot; select=&quot;false()&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@label&quot;&gt;
+      &lt;xsl:value-of select=&quot;@label&quot;/&gt;
+      &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+      &lt;xsl:if test=&quot;$add.space&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$chapter.autolabel&quot;&gt;
+      &lt;xsl:number from=&quot;book&quot; count=&quot;chapter&quot; format=&quot;1.&quot;/&gt;
+      &lt;xsl:if test=&quot;$add.space&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;appendix&quot; mode=&quot;component.number&quot;&gt;
+  &lt;xsl:param name=&quot;add.space&quot; select=&quot;false()&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@label&quot;&gt;
+      &lt;xsl:value-of select=&quot;@label&quot;/&gt;
+      &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+      &lt;xsl:if test=&quot;$add.space&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$chapter.autolabel&quot;&gt;
+      &lt;xsl:number from=&quot;book&quot; count=&quot;appendix&quot; format=&quot;A.&quot;/&gt;
+      &lt;xsl:if test=&quot;$add.space&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;article&quot; mode=&quot;component.number&quot;&gt;
+  &lt;xsl:param name=&quot;add.space&quot; select=&quot;false()&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliography&quot; mode=&quot;component.number&quot;&gt;
+  &lt;xsl:param name=&quot;add.space&quot; select=&quot;false()&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossary&quot; mode=&quot;component.number&quot;&gt;
+  &lt;xsl:param name=&quot;add.space&quot; select=&quot;false()&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;index&quot; mode=&quot;component.number&quot;&gt;
+  &lt;xsl:param name=&quot;add.space&quot; select=&quot;false()&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;article&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;article.titlepage&quot;/&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:call-template name=&quot;make.lots&quot;&gt;
+      &lt;xsl:with-param name=&quot;toc.params&quot; select=&quot;$toc.params&quot;/&gt;
+      &lt;xsl:with-param name=&quot;toc&quot;&gt;
+        &lt;xsl:call-template name=&quot;component.toc&quot;&gt;
+          &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;article/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.title&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::article[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;article/subtitle
+                     |article/articleinfo/subtitle
+                     |article/info/subtitle
+                     |article/artheader/subtitle&quot;
+              mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.subtitle&quot;&gt;
+    &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::article[1]&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;article/artheader|article/articleinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;article/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;article/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;article/subtitle&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/division.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/division.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/division.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,175 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: division.xsl,v 1.8 2002/10/19 19:00:13 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;set&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;set.titlepage&quot;/&gt;
+
+    &lt;xsl:call-template name=&quot;make.lots&quot;&gt;
+      &lt;xsl:with-param name=&quot;toc.params&quot;&gt;
+        &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+          &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:with-param&gt;
+      &lt;xsl:with-param name=&quot;toc&quot;&gt;
+        &lt;xsl:call-template name=&quot;set.toc&quot;/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;set/setinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;set/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;set/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;set/subtitle&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;book&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;book.titlepage&quot;/&gt;
+
+    &lt;xsl:apply-templates select=&quot;dedication&quot; mode=&quot;dedication&quot;/&gt;
+
+    &lt;xsl:call-template name=&quot;make.lots&quot;&gt;
+      &lt;xsl:with-param name=&quot;toc.params&quot;&gt;
+        &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+          &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:with-param&gt;
+      &lt;xsl:with-param name=&quot;toc&quot;&gt;
+        &lt;xsl:call-template name=&quot;division.toc&quot;/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;book/bookinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;book/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;book/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;book/subtitle&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;part&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;part.titlepage&quot;/&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;not(partintro) and contains($toc.params, 'toc')&quot;&gt;
+      &lt;xsl:call-template name=&quot;division.toc&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;part&quot; mode=&quot;make.part.toc&quot;&gt;
+  &lt;xsl:call-template name=&quot;division.toc&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;reference&quot; mode=&quot;make.part.toc&quot;&gt;
+  &lt;xsl:call-template name=&quot;division.toc&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;part/docinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;part/partinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;part/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;part/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;part/subtitle&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;partintro&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;partintro.titlepage&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;parent::*&quot;/&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')&quot;&gt;
+      &lt;!-- not ancestor::part because partintro appears in reference --&gt;
+      &lt;xsl:apply-templates select=&quot;parent::*&quot; mode=&quot;make.part.toc&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;partintro/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;partintro/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;partintro/subtitle&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;partintro/title&quot; mode=&quot;partintro.title.mode&quot;&gt;
+  &lt;h2&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/h2&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;partintro/subtitle&quot; mode=&quot;partintro.title.mode&quot;&gt;
+  &lt;h3&gt;
+    &lt;i&gt;&lt;xsl:apply-templates/&gt;&lt;/i&gt;
+  &lt;/h3&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;book&quot; mode=&quot;division.number&quot;&gt;
+  &lt;xsl:number from=&quot;set&quot; count=&quot;book&quot; format=&quot;1.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;part&quot; mode=&quot;division.number&quot;&gt;
+  &lt;xsl:number from=&quot;book&quot; count=&quot;part&quot; format=&quot;I.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbook.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbook.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbook.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,455 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+		xmlns:db=&quot;<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+                exclude-result-prefixes=&quot;db exsl&quot;
+                version='1.0'&gt;
+
+&lt;xsl:output method=&quot;html&quot;
+            encoding=&quot;ISO-8859-1&quot;
+            indent=&quot;yes&quot;/&gt;
+
+&lt;!-- ********************************************************************
+     $Id: docbook.xsl,v 1.35 2005/02/10 13:25:11 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:include href=&quot;../VERSION&quot;/&gt;
+&lt;xsl:include href=&quot;param.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../lib/lib.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/l10n.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/common.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/labels.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/titles.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/subtitles.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/gentext.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/targets.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/olink.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/pi.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;autotoc.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;autoidx.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;lists.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;callout.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;verbatim.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;graphics.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;xref.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;formal.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;table.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;htmltbl.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;sections.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;inline.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;footnote.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;html.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;info.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;keywords.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;division.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;toc.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;index.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;refentry.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;math.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;admon.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;component.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;biblio.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;glossary.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;block.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;task.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;qandaset.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;synop.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;titlepage.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;titlepage.templates.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;pi.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;ebnf.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;chunker.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;html-rtf.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;docbookng.xsl&quot;/&gt;
+
+&lt;xsl:param name=&quot;stylesheet.result.type&quot; select=&quot;'html'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.output&quot; select=&quot;0&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:key name=&quot;id&quot; match=&quot;*&quot; use=&quot;@id|@xml:id&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot;&gt;
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;No template matches &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:if test=&quot;parent::*&quot;&gt;
+      &lt;xsl:text&gt; in &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(parent::*)&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+  &lt;/xsl:message&gt;
+
+  &lt;font color=&quot;red&quot;&gt;
+    &lt;xsl:text&gt;&lt;&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:text&gt;&lt;/&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+  &lt;/font&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()&quot;&gt;
+  &lt;xsl:value-of select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;body.attributes&quot;&gt;
+  &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;white&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;text&quot;&gt;black&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;link&quot;&gt;#0000FF&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;vlink&quot;&gt;#840084&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;alink&quot;&gt;#0000FF&lt;/xsl:attribute&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;title&gt;
+    &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+  &lt;/title&gt;
+
+  &lt;xsl:if test=&quot;$html.stylesheet != ''&quot;&gt;
+    &lt;xsl:call-template name=&quot;output.html.stylesheets&quot;&gt;
+      &lt;xsl:with-param name=&quot;stylesheets&quot; select=&quot;normalize-space($html.stylesheet)&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;$link.mailto.url != ''&quot;&gt;
+    &lt;link rev=&quot;made&quot;
+          href=&quot;{$link.mailto.url}&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;$html.base != ''&quot;&gt;
+    &lt;base href=&quot;{$html.base}&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;meta name=&quot;generator&quot; content=&quot;DocBook XSL Stylesheets V{$VERSION}&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$generate.meta.abstract != 0&quot;&gt;
+    &lt;xsl:variable name=&quot;info&quot; select=&quot;(articleinfo
+                                      |bookinfo
+                                      |prefaceinfo
+                                      |chapterinfo
+                                      |appendixinfo
+                                      |sectioninfo
+                                      |sect1info
+                                      |sect2info
+                                      |sect3info
+                                      |sect4info
+                                      |sect5info
+                                      |referenceinfo
+                                      |refentryinfo
+                                      |partinfo
+                                      |info
+                                      |docinfo)[1]&quot;/&gt;
+    &lt;xsl:if test=&quot;$info and $info/abstract&quot;&gt;
+      &lt;meta name=&quot;description&quot;&gt;
+        &lt;xsl:attribute name=&quot;content&quot;&gt;
+          &lt;xsl:for-each select=&quot;$info/abstract[1]/*&quot;&gt;
+            &lt;xsl:value-of select=&quot;.&quot;/&gt;
+            &lt;xsl:if test=&quot;position() &lt; last()&quot;&gt;
+              &lt;xsl:text&gt; &lt;/xsl:text&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:for-each&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/meta&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;($draft.mode = 'yes' or
+                ($draft.mode = 'maybe' and
+                ancestor-or-self::*[@status][1]/@status = 'draft'))
+                and $draft.watermark.image != ''&quot;&gt;
+    &lt;style type=&quot;text/css&quot;&gt;&lt;xsl:text&gt;
+body { background-image: url('&lt;/xsl:text&gt;
+&lt;xsl:value-of select=&quot;$draft.watermark.image&quot;/&gt;&lt;xsl:text&gt;');
+       background-repeat: no-repeat;
+       background-position: top left;
+       /* The following properties make the watermark &quot;fixed&quot; on the page. */
+       /* I think that's just a bit too distracting for the reader... */
+       /* background-attachment: fixed; */
+       /* background-position: center center; */
+     }&lt;/xsl:text&gt;
+    &lt;/style&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;head.keywords.content&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;output.html.stylesheets&quot;&gt;
+  &lt;xsl:param name=&quot;stylesheets&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains($stylesheets, ' ')&quot;&gt;
+      &lt;link rel=&quot;stylesheet&quot; href=&quot;{substring-before($stylesheets, ' ')}&quot;&gt;
+        &lt;xsl:if test=&quot;$html.stylesheet.type != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;type&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.stylesheet.type&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+      &lt;/link&gt;
+      &lt;xsl:call-template name=&quot;output.html.stylesheets&quot;&gt;
+        &lt;xsl:with-param name=&quot;stylesheets&quot; select=&quot;substring-after($stylesheets, ' ')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$stylesheets != ''&quot;&gt;
+      &lt;link rel=&quot;stylesheet&quot; href=&quot;{$stylesheets}&quot;&gt;
+        &lt;xsl:if test=&quot;$html.stylesheet.type != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;type&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.stylesheet.type&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+      &lt;/link&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;head.keywords.content&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;chapterinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;appendixinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;prefaceinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;bookinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;setinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;articleinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;artheader/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect1info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect2info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect3info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect4info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect5info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect1info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect2info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect3info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;bibliographyinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;glossaryinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;indexinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refentryinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;partinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;referenceinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;docinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$inherit.keywords != 0
+                and parent::*&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;parent::*&quot; mode=&quot;head.keywords.content&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template name=&quot;system.head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- system.head.content is like user.head.content, except that
+       it is called before head.content. This is important because it
+       means, for example, that &lt;style&gt; elements output by system.head.content
+       have a lower CSS precedence than the users stylesheet. --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template name=&quot;user.preroot&quot;&gt;
+  &lt;!-- Pre-root output, can be used to output comments and PIs. --&gt;
+  &lt;!-- This must not output any element content! --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.header.navigation&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.header.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.footer.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.footer.navigation&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;/&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('exsl:node-set')
+                    and namespace-uri(*[1]) = '<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>'&quot;&gt;
+      &lt;!-- Hack! If someone hands us a DocBook NG document, toss the namespace --&gt;
+      &lt;!-- and continue. Someday we may reverse this logic and add the namespace --&gt;
+      &lt;!-- to documents that don't have one. But not before the whole stylesheet --&gt;
+      &lt;!-- has been converted to use namespaces. i.e., don't hold your breath --&gt;
+      &lt;xsl:message&gt;Stripping NS from DocBook-NG document.&lt;/xsl:message&gt;
+      &lt;xsl:variable name=&quot;nons&quot;&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:message&gt;Processing stripped document.&lt;/xsl:message&gt;
+      &lt;xsl:apply-templates select=&quot;exsl:node-set($nons)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+	&lt;xsl:when test=&quot;$rootid != ''&quot;&gt;
+	  &lt;xsl:choose&gt;
+	    &lt;xsl:when test=&quot;count(key('id',$rootid)) = 0&quot;&gt;
+	      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+		&lt;xsl:text&gt;ID '&lt;/xsl:text&gt;
+		&lt;xsl:value-of select=&quot;$rootid&quot;/&gt;
+		&lt;xsl:text&gt;' not found in document.&lt;/xsl:text&gt;
+	      &lt;/xsl:message&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:otherwise&gt;
+	      &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or
+		            $collect.xref.targets = 'only'&quot;&gt;
+		&lt;xsl:apply-templates select=&quot;key('id', $rootid)&quot;
+				     mode=&quot;collect.targets&quot;/&gt;
+	      &lt;/xsl:if&gt;
+	      &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+		&lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;
+				     mode=&quot;process.root&quot;/&gt;
+		&lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+		  &lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;
+				       mode=&quot;collect.tex.math&quot;/&gt;
+		&lt;/xsl:if&gt;
+	      &lt;/xsl:if&gt;
+	    &lt;/xsl:otherwise&gt;
+	  &lt;/xsl:choose&gt;
+	&lt;/xsl:when&gt;
+	&lt;xsl:otherwise&gt;
+	  &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or
+		        $collect.xref.targets = 'only'&quot;&gt;
+	    &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;collect.targets&quot;/&gt;
+	  &lt;/xsl:if&gt;
+	  &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+	    &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;process.root&quot;/&gt;
+	    &lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+	      &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;collect.tex.math&quot;/&gt;
+	    &lt;/xsl:if&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;process.root&quot;&gt;
+  &lt;xsl:variable name=&quot;doc&quot; select=&quot;self::*&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;user.preroot&quot;/&gt;
+  &lt;xsl:call-template name=&quot;root.messages&quot;/&gt;
+
+  &lt;html&gt;
+    &lt;head&gt;
+      &lt;xsl:call-template name=&quot;system.head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;user.head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/head&gt;
+    &lt;body&gt;
+      &lt;xsl:call-template name=&quot;body.attributes&quot;/&gt;
+      &lt;xsl:call-template name=&quot;user.header.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+      &lt;xsl:call-template name=&quot;user.footer.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/body&gt;
+  &lt;/html&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;root.messages&quot;&gt;
+  &lt;!-- redefine this any way you'd like to output messages --&gt;
+  &lt;!-- DO NOT OUTPUT ANYTHING FROM THIS TEMPLATE --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- The default is that we are not chunking... --&gt;
+  &lt;xsl:text&gt;0&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;namespace-uri(.) = '<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>'&quot;&gt;
+      &lt;xsl:element name=&quot;{local-name(.)}&quot;&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:element&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:copy&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;db:link&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:variable xmlns:xlink=&quot;<A HREF="http://www.w3.org/1999/xlink">http://www.w3.org/1999/xlink</A>&quot;
+		name=&quot;href&quot; select=&quot;@xlink:href|@href&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$href != '' and not(starts-with($href,'#'))&quot;&gt;
+      &lt;ulink url=&quot;{$href}&quot;&gt;
+	&lt;xsl:for-each select=&quot;@*&quot;&gt;
+	  &lt;xsl:if test=&quot;local-name(.) != 'href'&quot;&gt;
+	    &lt;xsl:copy/&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:for-each&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/ulink&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$href != '' and starts-with($href,'#')&quot;&gt;
+      &lt;link linkend=&quot;{substring-after($href,'#')}&quot;&gt;
+	&lt;xsl:for-each select=&quot;@*&quot;&gt;
+	  &lt;xsl:if test=&quot;local-name(.) != 'href'&quot;&gt;
+	    &lt;xsl:copy/&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:for-each&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/link&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;link&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/link&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;comment()|processing-instruction()|text()&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbookng.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbookng.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbookng.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,7 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;xsl:template match=&quot;info&quot;/&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/ebnf.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/ebnf.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/ebnf.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,327 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+                exclude-result-prefixes=&quot;doc&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: ebnf.xsl,v 1.9 2003/04/12 21:08:45 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;doc:reference xmlns=&quot;&quot;&gt;
+&lt;referenceinfo&gt;
+&lt;releaseinfo role=&quot;meta&quot;&gt;
+$Id: ebnf.xsl,v 1.9 2003/04/12 21:08:45 nwalsh Exp $
+&lt;/releaseinfo&gt;
+&lt;author&gt;&lt;surname&gt;Walsh&lt;/surname&gt;
+&lt;firstname&gt;Norman&lt;/firstname&gt;&lt;/author&gt;
+&lt;copyright&gt;&lt;year&gt;1999&lt;/year&gt;&lt;year&gt;2000&lt;/year&gt;
+&lt;holder&gt;Norman Walsh&lt;/holder&gt;
+&lt;/copyright&gt;
+&lt;/referenceinfo&gt;
+&lt;title&gt;HTML EBNF Reference&lt;/title&gt;
+
+&lt;partintro&gt;
+&lt;section&gt;&lt;title&gt;Introduction&lt;/title&gt;
+
+&lt;para&gt;This is technical reference documentation for the DocBook XSL
+Stylesheets; it documents (some of) the parameters, templates, and
+other elements of the stylesheets.&lt;/para&gt;
+
+&lt;para&gt;This reference describes the templates and parameters relevant
+to formatting EBNF markup.&lt;/para&gt;
+
+&lt;para&gt;This is not intended to be &lt;quote&gt;user&lt;/quote&gt; documentation.
+It is provided for developers writing customization layers for the
+stylesheets, and for anyone who's interested in &lt;quote&gt;how it
+works&lt;/quote&gt;.&lt;/para&gt;
+
+&lt;para&gt;Although I am trying to be thorough, this documentation is known
+to be incomplete. Don't forget to read the source, too :-)&lt;/para&gt;
+&lt;/section&gt;
+&lt;/partintro&gt;
+&lt;/doc:reference&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;productionset&quot;&gt;
+  &lt;table width=&quot;100%&quot; cellpadding=&quot;5&quot;&gt;
+    &lt;xsl:if test=&quot;$ebnf.table.bgcolor != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;
+	&lt;xsl:value-of select=&quot;$ebnf.table.bgcolor&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;$ebnf.table.border != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;border&quot;&gt;1&lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:attribute name=&quot;class&quot;&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;/xsl:attribute&gt;
+    &lt;xsl:attribute name=&quot;summary&quot;&gt;
+      &lt;xsl:text&gt;EBNF&lt;/xsl:text&gt;
+      &lt;xsl:if test=&quot;title&quot;&gt;
+	&lt;xsl:text&gt; for &lt;/xsl:text&gt;
+	&lt;xsl:value-of select=&quot;title&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:attribute&gt;
+
+    &lt;xsl:if test=&quot;title&quot;&gt;
+      &lt;tr&gt;
+	&lt;th align=&quot;left&quot; valign=&quot;top&quot; class=&quot;{name(.)}&quot;&gt;
+	  &lt;xsl:apply-templates select=&quot;title&quot;/&gt;
+	&lt;/th&gt;
+      &lt;/tr&gt;
+    &lt;/xsl:if&gt;
+    &lt;tr&gt;
+      &lt;td&gt;
+	&lt;table border=&quot;0&quot; width=&quot;99%&quot; cellpadding=&quot;0&quot;&gt;
+	  &lt;xsl:if test=&quot;$ebnf.table.bgcolor != ''&quot;&gt;
+	    &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;
+	      &lt;xsl:value-of select=&quot;$ebnf.table.bgcolor&quot;/&gt;
+	    &lt;/xsl:attribute&gt;
+	  &lt;/xsl:if&gt;
+	  &lt;xsl:attribute name=&quot;class&quot;&gt;
+	    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+	  &lt;/xsl:attribute&gt;
+	  &lt;xsl:attribute name=&quot;summary&quot;&gt;EBNF productions&lt;/xsl:attribute&gt;
+	  &lt;xsl:apply-templates select=&quot;production|productionrecap&quot;/&gt;
+	&lt;/table&gt;
+      &lt;/td&gt;
+    &lt;/tr&gt;
+  &lt;/table&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productionset/title&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;production&quot;&gt;
+  &lt;xsl:param name=&quot;recap&quot; select=&quot;false()&quot;/&gt;
+  &lt;tr&gt;
+    &lt;td align=&quot;left&quot; valign=&quot;top&quot; width=&quot;3%&quot;&gt;
+      &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+      &lt;xsl:number count=&quot;production&quot; level=&quot;any&quot;/&gt;
+      &lt;xsl:text&gt;]&lt;/xsl:text&gt;
+    &lt;/td&gt;
+    &lt;td align=&quot;right&quot; valign=&quot;top&quot; width=&quot;10%&quot;&gt;
+      &lt;xsl:choose&gt;
+	&lt;xsl:when test=&quot;$recap&quot;&gt;
+	  &lt;a&gt;
+	    &lt;xsl:attribute name=&quot;href&quot;&gt;
+	      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+		&lt;xsl:with-param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+	      &lt;/xsl:call-template&gt;
+	    &lt;/xsl:attribute&gt;
+	    &lt;xsl:apply-templates select=&quot;lhs&quot;/&gt;
+	  &lt;/a&gt;
+	&lt;/xsl:when&gt;
+	&lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+	  &lt;xsl:apply-templates select=&quot;lhs&quot;/&gt;
+	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/td&gt;
+    &lt;td valign=&quot;top&quot; width=&quot;5%&quot; align=&quot;center&quot;&gt;
+      &lt;xsl:copy-of select=&quot;$ebnf.assignment&quot;/&gt;
+    &lt;/td&gt;
+    &lt;td valign=&quot;top&quot; width=&quot;52%&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;rhs&quot;/&gt;
+      &lt;xsl:copy-of select=&quot;$ebnf.statement.terminator&quot;/&gt;
+    &lt;/td&gt;
+    &lt;td align=&quot;left&quot; valign=&quot;top&quot; width=&quot;30%&quot;&gt;
+      &lt;xsl:choose&gt;
+	&lt;xsl:when test=&quot;rhs/lineannotation|constraint&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;rhs/lineannotation&quot; mode=&quot;rhslo&quot;/&gt;
+          &lt;xsl:apply-templates select=&quot;constraint&quot;/&gt;
+	&lt;/xsl:when&gt;
+	&lt;xsl:otherwise&gt;
+	  &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/td&gt;
+  &lt;/tr&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productionrecap&quot;&gt;
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+  &lt;xsl:if test=&quot;count($targets)=0&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;Error: no ID for productionrecap linkend: &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;@linkend&quot;/&gt;
+      &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;count($targets)&gt;1&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;Warning: multiple &quot;IDs&quot; for productionrecap linkend: &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;@linkend&quot;/&gt;
+      &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:apply-templates select=&quot;$target&quot;&gt;
+    &lt;xsl:with-param name=&quot;recap&quot; select=&quot;true()&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;lhs&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;rhs&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;xsl:if test=&quot;following-sibling::rhs&quot;&gt;
+    &lt;xsl:text&gt; |&lt;/xsl:text&gt;
+    &lt;br/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;nonterminal&quot;&gt;
+  &lt;xsl:variable name=&quot;linkend&quot;&gt;
+    &lt;xsl:call-template name=&quot;xpointer.idref&quot;&gt;
+      &lt;xsl:with-param name=&quot;xpointer&quot; select=&quot;@def&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;check.id.unique&quot;&gt;
+    &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;$linkend&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+
+  &lt;xsl:call-template name=&quot;check.idref.targets&quot;&gt;
+    &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;$linkend&quot;/&gt;
+    &lt;xsl:with-param name=&quot;element-list&quot;&gt;production&lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+
+  &lt;!-- If you don't provide content, you can't point outside this doc. --&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;*|text()&quot;&gt;&lt;!--nop--&gt;&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:if test=&quot;$linkend = ''&quot;&gt;
+	&lt;xsl:message&gt;
+	  &lt;xsl:text&gt;Non-terminals with no content must point to &lt;/xsl:text&gt;
+	  &lt;xsl:text&gt;production elements in the current document.&lt;/xsl:text&gt;
+	&lt;/xsl:message&gt;
+	&lt;xsl:message&gt;
+	  &lt;xsl:text&gt;Invalid xpointer for empty nt: &lt;/xsl:text&gt;
+	  &lt;xsl:value-of select=&quot;@def&quot;/&gt;
+	&lt;/xsl:message&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:variable name=&quot;href&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$linkend != ''&quot;&gt;
+	&lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id',$linkend)&quot;/&gt;
+	&lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+	&lt;xsl:call-template name=&quot;href.target&quot;&gt;
+	  &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+	&lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+	&lt;xsl:value-of select=&quot;@def&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;a href=&quot;{$href}&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;*|text()&quot;&gt;
+	&lt;xsl:apply-templates/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+	&lt;xsl:choose&gt;
+	  &lt;xsl:when test=&quot;$linkend != ''&quot;&gt;
+	    &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id',$linkend)&quot;/&gt;
+	    &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+	    &lt;xsl:apply-templates select=&quot;$target/lhs&quot;/&gt;
+	  &lt;/xsl:when&gt;
+	  &lt;xsl:otherwise&gt;
+	    &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+	  &lt;/xsl:otherwise&gt;
+	&lt;/xsl:choose&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/a&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;rhs/lineannotation&quot;&gt;
+  &lt;!--nop--&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;rhs/lineannotation&quot; mode=&quot;rhslo&quot;&gt;
+  &lt;xsl:text&gt;/*&#160;&lt;/xsl:text&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;xsl:text&gt;&#160;*/&lt;/xsl:text&gt;
+  &lt;br/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;constraint&quot;&gt;
+  &lt;xsl:call-template name=&quot;check.id.unique&quot;&gt;
+    &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;@linkend&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+
+  &lt;xsl:call-template name=&quot;check.idref.targets&quot;&gt;
+    &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;@linkend&quot;/&gt;
+    &lt;xsl:with-param name=&quot;element-list&quot;&gt;constraintdef&lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+
+  &lt;xsl:variable name=&quot;href&quot;&gt;
+    &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+    &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+    &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:text&gt;[&#160;&lt;/xsl:text&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@role&quot;&gt;
+      &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+      &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+      &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+      &lt;xsl:if test=&quot;$target/@role&quot;&gt;
+	&lt;xsl:value-of select=&quot;$target/@role&quot;/&gt;
+	&lt;xsl:text&gt;: &lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;a href=&quot;{$href}&quot;&gt;
+    &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+    &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;title.markup&quot;/&gt;
+  &lt;/a&gt;
+  &lt;xsl:text&gt;&#160;]&lt;/xsl:text&gt;
+  &lt;xsl:if test=&quot;following-sibling::constraint&quot;&gt;
+    &lt;br/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;constraintdef&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;constraintdef/title&quot;&gt;
+  &lt;p&gt;&lt;b&gt;&lt;xsl:apply-templates/&gt;&lt;/b&gt;&lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/footnote.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/footnote.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/footnote.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,266 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+                exclude-result-prefixes=&quot;exsl&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: footnote.xsl,v 1.17 2004/08/13 02:06:27 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:template match=&quot;footnote&quot;&gt;
+  &lt;xsl:variable name=&quot;name&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;href&quot;&gt;
+    &lt;xsl:text&gt;#ftn.&lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;ancestor::tgroup&quot;&gt;
+      &lt;sup&gt;
+        &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+        &lt;a name=&quot;{$name}&quot; href=&quot;{$href}&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;footnote.number&quot;/&gt;
+        &lt;/a&gt;
+        &lt;xsl:text&gt;]&lt;/xsl:text&gt;
+      &lt;/sup&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;sup&gt;
+        &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+        &lt;a name=&quot;{$name}&quot; href=&quot;{$href}&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;footnote.number&quot;/&gt;
+        &lt;/a&gt;
+        &lt;xsl:text&gt;]&lt;/xsl:text&gt;
+      &lt;/sup&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;footnoteref&quot;&gt;
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+  &lt;xsl:variable name=&quot;footnote&quot; select=&quot;$targets[1]&quot;/&gt;
+  &lt;xsl:variable name=&quot;href&quot;&gt;
+    &lt;xsl:text&gt;#ftn.&lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;$footnote&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;sup&gt;
+    &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+    &lt;a href=&quot;{$href}&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$footnote&quot; mode=&quot;footnote.number&quot;/&gt;
+    &lt;/a&gt;
+    &lt;xsl:text&gt;]&lt;/xsl:text&gt;
+  &lt;/sup&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;footnote&quot; mode=&quot;footnote.number&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;string-length(@label) != 0&quot;&gt;
+      &lt;xsl:value-of select=&quot;@label&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;ancestor::tgroup&quot;&gt;
+      &lt;xsl:variable name=&quot;tfnum&quot;&gt;
+        &lt;xsl:number level=&quot;any&quot; from=&quot;table|informaltable&quot; format=&quot;1&quot;/&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;string-length($table.footnote.number.symbols) &gt;= $tfnum&quot;&gt;
+          &lt;xsl:value-of select=&quot;substring($table.footnote.number.symbols, $tfnum, 1)&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:number level=&quot;any&quot; from=&quot;tgroup&quot;
+                      format=&quot;{$table.footnote.number.format}&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;pfoot&quot; select=&quot;preceding::footnote[not(@label)]&quot;/&gt;
+      &lt;xsl:variable name=&quot;ptfoot&quot; select=&quot;preceding::tgroup//footnote&quot;/&gt;
+      &lt;xsl:variable name=&quot;fnum&quot; select=&quot;count($pfoot) - count($ptfoot) + 1&quot;/&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;string-length($footnote.number.symbols) &gt;= $fnum&quot;&gt;
+          &lt;xsl:value-of select=&quot;substring($footnote.number.symbols, $fnum, 1)&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:number value=&quot;$fnum&quot; format=&quot;{$footnote.number.format}&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;footnote/para[1]|footnote/simpara[1]&quot; priority=&quot;2&quot;&gt;
+  &lt;!-- this only works if the first thing in a footnote is a para, --&gt;
+  &lt;!-- which is ok, because it usually is. --&gt;
+  &lt;xsl:variable name=&quot;name&quot;&gt;
+    &lt;xsl:text&gt;ftn.&lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;ancestor::footnote&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;href&quot;&gt;
+    &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;ancestor::footnote&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;p&gt;
+    &lt;sup&gt;
+      &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+      &lt;a name=&quot;{$name}&quot; href=&quot;{$href}&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;ancestor::footnote&quot;
+                             mode=&quot;footnote.number&quot;/&gt;
+      &lt;/a&gt;
+      &lt;xsl:text&gt;] &lt;/xsl:text&gt;
+    &lt;/sup&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;footnote.body.number&quot;&gt;
+  &lt;xsl:variable name=&quot;name&quot;&gt;
+    &lt;xsl:text&gt;ftn.&lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;ancestor::footnote&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;href&quot;&gt;
+    &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;ancestor::footnote&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;footnote.mark&quot;&gt;
+    &lt;sup&gt;
+      &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+      &lt;a name=&quot;{$name}&quot; href=&quot;{$href}&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;ancestor::footnote&quot;
+                             mode=&quot;footnote.number&quot;/&gt;
+      &lt;/a&gt;
+      &lt;xsl:text&gt;] &lt;/xsl:text&gt;
+    &lt;/sup&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;html&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('exsl:node-set')&quot;&gt;
+      &lt;xsl:variable name=&quot;html-nodes&quot; select=&quot;exsl:node-set($html)&quot;/&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$html-nodes//p&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$html-nodes&quot; mode=&quot;insert.html.p&quot;&gt;
+            &lt;xsl:with-param name=&quot;mark&quot; select=&quot;$footnote.mark&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates select=&quot;$html-nodes&quot; mode=&quot;insert.html.text&quot;&gt;
+            &lt;xsl:with-param name=&quot;mark&quot; select=&quot;$footnote.mark&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$html&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!--
+&lt;xsl:template name=&quot;count-element-from&quot;&gt;
+  &lt;xsl:param name=&quot;from&quot; select=&quot;..&quot;/&gt;
+  &lt;xsl:param name=&quot;to&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;count&quot; select=&quot;0&quot;/&gt;
+  &lt;xsl:param name=&quot;list&quot; select=&quot;$from/following::*[name(.)=name($to)]
+                                 |$from/descendant-or-self::*[name(.)=name($to)]&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not($list)&quot;&gt;
+      &lt;xsl:text&gt;-1&lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$list[1] = $to&quot;&gt;
+      &lt;xsl:value-of select=&quot;$count + 1&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+--&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process.footnotes&quot;&gt;
+  &lt;xsl:variable name=&quot;footnotes&quot; select=&quot;.//footnote&quot;/&gt;
+  &lt;xsl:variable name=&quot;table.footnotes&quot;
+                select=&quot;.//tgroup//footnote&quot;/&gt;
+
+  &lt;!-- Only bother to do this if there's at least one non-table footnote --&gt;
+  &lt;xsl:if test=&quot;count($footnotes)&gt;count($table.footnotes)&quot;&gt;
+    &lt;div class=&quot;footnotes&quot;&gt;
+      &lt;br/&gt;
+      &lt;hr width=&quot;100&quot; align=&quot;left&quot;/&gt;
+      &lt;xsl:apply-templates select=&quot;$footnotes&quot; mode=&quot;process.footnote.mode&quot;/&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.chunk.footnotes&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;footnote&quot; name=&quot;process.footnote&quot; mode=&quot;process.footnote.mode&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;local-name(*[1]) = 'para' or local-name(*[1]) = 'simpara'&quot;&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;$html.cleanup != 0 and function-available('exsl:node-set')&quot;&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;*[1]&quot; mode=&quot;footnote.body.number&quot;/&gt;
+        &lt;xsl:apply-templates select=&quot;*[position() &gt; 1]&quot;/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:message&gt;
+        &lt;xsl:text&gt;Warning: footnote number may not be generated &lt;/xsl:text&gt;
+        &lt;xsl:text&gt;correctly; &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;local-name(*[1])&quot;/&gt;
+        &lt;xsl:text&gt; unexpected as first child of footnote.&lt;/xsl:text&gt;
+      &lt;/xsl:message&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;tgroup//footnote&quot;
+              mode=&quot;process.footnote.mode&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;footnote&quot; mode=&quot;table.footnote.mode&quot;&gt;
+  &lt;xsl:call-template name=&quot;process.footnote&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/formal.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/formal.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/formal.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,342 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: formal.xsl,v 1.18 2004/04/11 22:41:29 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:template name=&quot;formal.object&quot;&gt;
+  &lt;xsl:param name=&quot;placement&quot; select=&quot;'before'&quot;/&gt;
+  &lt;xsl:param name=&quot;class&quot; select=&quot;local-name(.)&quot;/&gt;
+
+  &lt;div class=&quot;{$class}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$placement = 'before'&quot;&gt;
+        &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+        &lt;xsl:apply-templates/&gt;
+
+        &lt;!-- HACK: This doesn't belong inside formal.object; it should be done by --&gt;
+        &lt;!-- the table template, but I want the link to be inside the DIV, so... --&gt;
+        &lt;xsl:if test=&quot;local-name(.) = 'table'&quot;&gt;
+          &lt;xsl:call-template name=&quot;table.longdesc&quot;/&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$spacing.paras != 0&quot;&gt;&lt;p/&gt;&lt;/xsl:if&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:if test=&quot;$spacing.paras != 0&quot;&gt;&lt;p/&gt;&lt;/xsl:if&gt;
+        &lt;xsl:apply-templates/&gt;
+
+        &lt;!-- HACK: This doesn't belong inside formal.object; it should be done by --&gt;
+        &lt;!-- the table template, but I want the link to be inside the DIV, so... --&gt;
+        &lt;xsl:if test=&quot;local-name(.) = 'table'&quot;&gt;
+          &lt;xsl:call-template name=&quot;table.longdesc&quot;/&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;formal.object.heading&quot;&gt;
+  &lt;xsl:param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;$object&quot; mode=&quot;object.title.markup&quot;&gt;
+      &lt;xsl:with-param name=&quot;allow-anchors&quot; select=&quot;1&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;p class=&quot;title&quot;&gt;
+    &lt;b&gt;
+      &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+    &lt;/b&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;informal.object&quot;&gt;
+  &lt;xsl:param name=&quot;class&quot; select=&quot;local-name(.)&quot;/&gt;
+
+  &lt;div class=&quot;{$class}&quot;&gt;
+    &lt;xsl:if test=&quot;$spacing.paras != 0&quot;&gt;&lt;p/&gt;&lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+
+    &lt;!-- HACK: This doesn't belong inside formal.object; it should be done by --&gt;
+    &lt;!-- the table template, but I want the link to be inside the DIV, so... --&gt;
+    &lt;xsl:if test=&quot;local-name(.) = 'informaltable'&quot;&gt;
+      &lt;xsl:call-template name=&quot;table.longdesc&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$spacing.paras != 0&quot;&gt;&lt;p/&gt;&lt;/xsl:if&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;semiformal.object&quot;&gt;
+  &lt;xsl:param name=&quot;placement&quot; select=&quot;'before'&quot;/&gt;
+  &lt;xsl:param name=&quot;class&quot; select=&quot;local-name(.)&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object&quot;&gt;
+        &lt;xsl:with-param name=&quot;placement&quot; select=&quot;$placement&quot;/&gt;
+        &lt;xsl:with-param name=&quot;class&quot; select=&quot;$class&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;informal.object&quot;&gt;
+        &lt;xsl:with-param name=&quot;class&quot; select=&quot;$class&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;figure&quot;&gt;
+  &lt;xsl:variable name=&quot;param.placement&quot;
+                select=&quot;substring-after(normalize-space($formal.title.placement),
+                                        concat(local-name(.), ' '))&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;placement&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;contains($param.placement, ' ')&quot;&gt;
+        &lt;xsl:value-of select=&quot;substring-before($param.placement, ' ')&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$param.placement = ''&quot;&gt;before&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$param.placement&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@float and @float != 0&quot;&gt;
+      &lt;xsl:variable name=&quot;float&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@float = 1&quot;&gt;
+            &lt;xsl:value-of select=&quot;$default.float.class&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;@float&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;div class=&quot;figure-float&quot;&gt;
+        &lt;xsl:if test=&quot;$float = 'left' or $float = 'right'&quot;&gt;
+          &lt;xsl:attribute name=&quot;style&quot;&gt;
+            &lt;xsl:text&gt;float: &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$float&quot;/&gt;
+            &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+        &lt;xsl:call-template name=&quot;formal.object&quot;&gt;
+          &lt;xsl:with-param name=&quot;placement&quot; select=&quot;$placement&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;formal.object&quot;&gt;
+        &lt;xsl:with-param name=&quot;placement&quot; select=&quot;$placement&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;table&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;tgroup|mediaobject|graphic&quot;&gt;
+      &lt;xsl:call-template name=&quot;calsTable&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy&gt;
+        &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:if test=&quot;not(@id)&quot;&gt;
+	  &lt;xsl:attribute name=&quot;id&quot;&gt;
+	    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+	  &lt;/xsl:attribute&gt;
+	&lt;/xsl:if&gt;
+        &lt;xsl:call-template name=&quot;htmlTable&quot;/&gt;
+      &lt;/xsl:copy&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;calsTable&quot;&gt;
+  &lt;xsl:if test=&quot;tgroup/tbody/tr
+                |tgroup/thead/tr
+                |tgroup/tfoot/tr&quot;&gt;
+    &lt;xsl:message terminate=&quot;yes&quot;&gt;Broken table: tr descendent of CALS Table.&lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:variable name=&quot;param.placement&quot;
+                select=&quot;substring-after(normalize-space($formal.title.placement),
+                                        concat(local-name(.), ' '))&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;placement&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;contains($param.placement, ' ')&quot;&gt;
+        &lt;xsl:value-of select=&quot;substring-before($param.placement, ' ')&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$param.placement = ''&quot;&gt;before&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$param.placement&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;formal.object&quot;&gt;
+    &lt;xsl:with-param name=&quot;placement&quot; select=&quot;$placement&quot;/&gt;
+    &lt;xsl:with-param name=&quot;class&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;@tabstyle&quot;&gt;
+          &lt;!-- hack, this will only ever occur on table, not example --&gt;
+          &lt;xsl:value-of select=&quot;@tabstyle&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:value-of select=&quot;local-name(.)&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;htmlTable&quot;&gt;
+  &lt;xsl:if test=&quot;tgroup/tbody/row
+                |tgroup/thead/row
+                |tgroup/tfoot/row&quot;&gt;
+    &lt;xsl:message terminate=&quot;yes&quot;&gt;Broken table: row descendent of HTML table.&lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:apply-templates mode=&quot;htmlTable&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;example&quot;&gt;
+  &lt;xsl:variable name=&quot;param.placement&quot;
+                select=&quot;substring-after(normalize-space($formal.title.placement),
+                                        concat(local-name(.), ' '))&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;placement&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;contains($param.placement, ' ')&quot;&gt;
+        &lt;xsl:value-of select=&quot;substring-before($param.placement, ' ')&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$param.placement = ''&quot;&gt;before&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$param.placement&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;formal.object&quot;&gt;
+    &lt;xsl:with-param name=&quot;placement&quot; select=&quot;$placement&quot;/&gt;
+    &lt;xsl:with-param name=&quot;class&quot; select=&quot;local-name(.)&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;equation&quot;&gt;
+  &lt;xsl:variable name=&quot;param.placement&quot;
+                select=&quot;substring-after(normalize-space($formal.title.placement),
+                                        concat(local-name(.), ' '))&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;placement&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;contains($param.placement, ' ')&quot;&gt;
+        &lt;xsl:value-of select=&quot;substring-before($param.placement, ' ')&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$param.placement = ''&quot;&gt;before&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$param.placement&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;semiformal.object&quot;&gt;
+    &lt;xsl:with-param name=&quot;placement&quot; select=&quot;$placement&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;figure/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;figure/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;table/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;table/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;table/textobject&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;example/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;example/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;equation/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;equation/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;informalfigure&quot;&gt;
+  &lt;xsl:call-template name=&quot;informal.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;informalexample&quot;&gt;
+  &lt;xsl:call-template name=&quot;informal.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;informaltable&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;tgroup|mediaobject|graphic&quot;&gt;
+      &lt;xsl:call-template name=&quot;informal.object&quot;&gt;
+        &lt;xsl:with-param name=&quot;class&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;@tabstyle&quot;&gt;
+              &lt;xsl:value-of select=&quot;@tabstyle&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:value-of select=&quot;local-name(.)&quot;/&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;table&gt;
+        &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+        &lt;xsl:call-template name=&quot;htmlTable&quot;/&gt;
+      &lt;/table&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;informaltable/textobject&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;table.longdesc&quot;&gt;
+  &lt;!-- HACK: This doesn't belong inside formal.objectt; it should be done by --&gt;
+  &lt;!-- the table template, but I want the link to be inside the DIV, so... --&gt;
+  &lt;xsl:variable name=&quot;longdesc.uri&quot;&gt;
+    &lt;xsl:call-template name=&quot;longdesc.uri&quot;&gt;
+      &lt;xsl:with-param name=&quot;mediaobject&quot; select=&quot;.&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;irrelevant&quot;&gt;
+    &lt;!-- write.longdesc returns the filename ... --&gt;
+    &lt;xsl:call-template name=&quot;write.longdesc&quot;&gt;
+      &lt;xsl:with-param name=&quot;mediaobject&quot; select=&quot;.&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;$html.longdesc != 0 and $html.longdesc.link != 0
+                and textobject[not(phrase)]&quot;&gt;
+    &lt;xsl:call-template name=&quot;longdesc.link&quot;&gt;
+      &lt;xsl:with-param name=&quot;longdesc.uri&quot; select=&quot;$longdesc.uri&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;informalequation&quot;&gt;
+  &lt;xsl:call-template name=&quot;informal.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/glossary.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/glossary.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/glossary.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,369 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: glossary.xsl,v 1.18 2004/10/24 09:04:08 kosek Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;glossary&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;glossary.titlepage&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;glossdiv&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;(glossdiv[1]/preceding-sibling::*)&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:apply-templates select=&quot;(glossentry[1]/preceding-sibling::*)&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;glossdiv&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;glossdiv&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;dl&gt;
+          &lt;xsl:apply-templates select=&quot;glossentry&quot;/&gt;
+        &lt;/dl&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:if test=&quot;not(parent::article)&quot;&gt;
+      &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossary/glossaryinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;glossary/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;glossary/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;glossary/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;glosslist&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:if test=&quot;blockinfo/title|title&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;dl&gt;
+      &lt;xsl:apply-templates select=&quot;glossentry&quot;/&gt;
+    &lt;/dl&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;glossdiv&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;(glossentry[1]/preceding-sibling::*)&quot;/&gt;
+
+    &lt;dl&gt;
+      &lt;xsl:apply-templates select=&quot;glossentry&quot;/&gt;
+    &lt;/dl&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossdiv/title&quot;&gt;
+  &lt;h3 class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/h3&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!--
+GlossEntry ::=
+  GlossTerm, Acronym?, Abbrev?,
+  (IndexTerm)*,
+  RevHistory?,
+  (GlossSee | GlossDef+)
+--&gt;
+
+&lt;xsl:template match=&quot;glossentry&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$glossentry.show.acronym = 'primary'&quot;&gt;
+      &lt;dt&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+          &lt;xsl:with-param name=&quot;conditional&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$glossterm.auto.link != 0&quot;&gt;0&lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;acronym|abbrev&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;acronym|abbrev&quot;/&gt;
+            &lt;xsl:text&gt; (&lt;/xsl:text&gt;
+            &lt;xsl:apply-templates select=&quot;glossterm&quot;/&gt;
+            &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:apply-templates select=&quot;glossterm&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/dt&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$glossentry.show.acronym = 'yes'&quot;&gt;
+      &lt;dt&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+          &lt;xsl:with-param name=&quot;conditional&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$glossterm.auto.link != 0&quot;&gt;0&lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+
+        &lt;xsl:apply-templates select=&quot;glossterm&quot;/&gt;
+
+        &lt;xsl:if test=&quot;acronym|abbrev&quot;&gt;
+          &lt;xsl:text&gt; (&lt;/xsl:text&gt;
+          &lt;xsl:apply-templates select=&quot;acronym|abbrev&quot;/&gt;
+          &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+        &lt;/xsl:if&gt;
+      &lt;/dt&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;dt&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+          &lt;xsl:with-param name=&quot;conditional&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$glossterm.auto.link != 0&quot;&gt;0&lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+
+        &lt;xsl:apply-templates select=&quot;glossterm&quot;/&gt;
+      &lt;/dt&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates select=&quot;indexterm|revhistory|glosssee|glossdef&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossentry/glossterm&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;xsl:if test=&quot;following-sibling::glossterm&quot;&gt;, &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossentry/acronym&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;xsl:if test=&quot;following-sibling::acronym|following-sibling::abbrev&quot;&gt;, &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossentry/abbrev&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;xsl:if test=&quot;following-sibling::acronym|following-sibling::abbrev&quot;&gt;, &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossentry/revhistory&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossentry/glosssee&quot;&gt;
+  &lt;xsl:variable name=&quot;otherterm&quot; select=&quot;@otherterm&quot;/&gt;
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;//node()[@id=$otherterm]&quot;/&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+  &lt;dd&gt;
+    &lt;p&gt;
+      &lt;xsl:call-template name=&quot;gentext.template&quot;&gt;
+        &lt;xsl:with-param name=&quot;context&quot; select=&quot;'glossary'&quot;/&gt;
+        &lt;xsl:with-param name=&quot;name&quot; select=&quot;'see'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$target&quot;&gt;
+          &lt;a&gt;
+            &lt;xsl:attribute name=&quot;href&quot;&gt;
+              &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:attribute&gt;
+            &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;xref-to&quot;/&gt;
+          &lt;/a&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$otherterm != '' and not($target)&quot;&gt;
+          &lt;xsl:message&gt;
+            &lt;xsl:text&gt;Warning: glosssee @otherterm reference not found: &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$otherterm&quot;/&gt;
+          &lt;/xsl:message&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+      &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+    &lt;/p&gt;
+  &lt;/dd&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossentry/glossdef&quot;&gt;
+  &lt;dd&gt;
+    &lt;xsl:apply-templates select=&quot;*[local-name(.) != 'glossseealso']&quot;/&gt;
+    &lt;xsl:if test=&quot;glossseealso&quot;&gt;
+      &lt;p&gt;
+        &lt;xsl:call-template name=&quot;gentext.template&quot;&gt;
+          &lt;xsl:with-param name=&quot;context&quot; select=&quot;'glossary'&quot;/&gt;
+          &lt;xsl:with-param name=&quot;name&quot; select=&quot;'seealso'&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+        &lt;xsl:apply-templates select=&quot;glossseealso&quot;/&gt;
+      &lt;/p&gt;
+    &lt;/xsl:if&gt;
+  &lt;/dd&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossseealso&quot;&gt;
+  &lt;xsl:variable name=&quot;otherterm&quot; select=&quot;@otherterm&quot;/&gt;
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;//node()[@id=$otherterm]&quot;/&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$target&quot;&gt;
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;xref-to&quot;/&gt;
+      &lt;/a&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$otherterm != '' and not($target)&quot;&gt;
+      &lt;xsl:message&gt;
+        &lt;xsl:text&gt;Warning: glossseealso @otherterm reference not found: &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$otherterm&quot;/&gt;
+      &lt;/xsl:message&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;position() = last()&quot;&gt;
+      &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- Glossary collection --&gt;
+
+&lt;xsl:template match=&quot;glossary[@role='auto']&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:variable name=&quot;terms&quot; select=&quot;//glossterm[not(parent::glossdef)]|//firstterm&quot;/&gt;
+  &lt;xsl:variable name=&quot;collection&quot; select=&quot;document($glossary.collection, .)&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$glossary.collection = ''&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;Warning: processing automatic glossary &lt;/xsl:text&gt;
+      &lt;xsl:text&gt;without a glossary.collection file.&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;not($collection) and $glossary.collection != ''&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;Warning: processing automatic glossary but unable to &lt;/xsl:text&gt;
+      &lt;xsl:text&gt;open glossary.collection file '&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$glossary.collection&quot;/&gt;
+      &lt;xsl:text&gt;'&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;glossary.titlepage&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;glossdiv and $collection//glossdiv&quot;&gt;
+        &lt;xsl:for-each select=&quot;$collection//glossdiv&quot;&gt;
+          &lt;!-- first see if there are any in this div --&gt;
+          &lt;xsl:variable name=&quot;exist.test&quot;&gt;
+            &lt;xsl:for-each select=&quot;glossentry&quot;&gt;
+              &lt;xsl:variable name=&quot;cterm&quot; select=&quot;glossterm&quot;/&gt;
+              &lt;xsl:if test=&quot;$terms[@baseform = $cterm or . = $cterm]&quot;&gt;
+                &lt;xsl:value-of select=&quot;glossterm&quot;/&gt;
+              &lt;/xsl:if&gt;
+            &lt;/xsl:for-each&gt;
+          &lt;/xsl:variable&gt;
+
+          &lt;xsl:if test=&quot;$exist.test != ''&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;auto-glossary&quot;&gt;
+              &lt;xsl:with-param name=&quot;terms&quot; select=&quot;$terms&quot;/&gt;
+            &lt;/xsl:apply-templates&gt;
+          &lt;/xsl:if&gt;
+        &lt;/xsl:for-each&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;dl&gt;
+          &lt;xsl:for-each select=&quot;$collection//glossentry&quot;&gt;
+            &lt;xsl:variable name=&quot;cterm&quot; select=&quot;glossterm&quot;/&gt;
+            &lt;xsl:if test=&quot;$terms[@baseform = $cterm or . = $cterm]&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;auto-glossary&quot;/&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:for-each&gt;
+        &lt;/dl&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:if test=&quot;not(parent::article)&quot;&gt;
+      &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;auto-glossary&quot;&gt;
+  &lt;!-- pop back out to the default mode for most elements --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossdiv&quot; mode=&quot;auto-glossary&quot;&gt;
+  &lt;xsl:param name=&quot;terms&quot; select=&quot;.&quot;/&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;(glossentry[1]/preceding-sibling::*)&quot;/&gt;
+
+    &lt;dl&gt;
+      &lt;xsl:for-each select=&quot;glossentry&quot;&gt;
+        &lt;xsl:variable name=&quot;cterm&quot; select=&quot;glossterm&quot;/&gt;
+        &lt;xsl:if test=&quot;$terms[@baseform = $cterm or . = $cterm]&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;auto-glossary&quot;/&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:for-each&gt;
+    &lt;/dl&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/graphics.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/graphics.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/graphics.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1185 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:xlink=&quot;<A HREF="http://www.w3.org/1999/xlink">http://www.w3.org/1999/xlink</A>&quot;
+                xmlns:stext=&quot;<A HREF="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.TextFactory">http://nwalsh.com/xslt/ext/com.nwalsh.saxon.TextFactory</A>&quot;
+                xmlns:simg=&quot;<A HREF="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.ImageIntrinsics">http://nwalsh.com/xslt/ext/com.nwalsh.saxon.ImageIntrinsics</A>&quot;
+                xmlns:ximg=&quot;<A HREF="xaln://com.nwalsh.xalan.ImageIntrinsics">xaln://com.nwalsh.xalan.ImageIntrinsics</A>&quot;
+                xmlns:xtext=&quot;com.nwalsh.xalan.Text&quot;
+                xmlns:lxslt=&quot;<A HREF="http://xml.apache.org/xslt">http://xml.apache.org/xslt</A>&quot;
+                exclude-result-prefixes=&quot;xlink stext xtext lxslt simg ximg&quot;
+                extension-element-prefixes=&quot;stext xtext&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: graphics.xsl,v 1.48 2004/08/13 07:35:36 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     Contributors:
+     Colin Paul Adams, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">colin at colina.demon.co.uk</A>&gt;
+
+     ******************************************************************** --&gt;
+
+&lt;lxslt:component prefix=&quot;xtext&quot; elements=&quot;insertfile&quot;/&gt;
+&lt;lxslt:component prefix=&quot;ximg&quot; functions=&quot;new getWidth getDepth&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+&lt;!-- Graphic format tests for the HTML backend --&gt;
+
+&lt;xsl:template name=&quot;is.graphic.format&quot;&gt;
+  &lt;xsl:param name=&quot;format&quot;&gt;&lt;/xsl:param&gt;
+  &lt;xsl:if test=&quot;$format = 'SVG'
+                or $format = 'PNG'
+                or $format = 'JPG'
+                or $format = 'JPEG'
+                or $format = 'linespecific'
+                or $format = 'GIF'
+                or $format = 'GIF87a'
+                or $format = 'GIF89a'
+                or $format = 'BMP'&quot;&gt;1&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;is.graphic.extension&quot;&gt;
+  &lt;xsl:param name=&quot;ext&quot;&gt;&lt;/xsl:param&gt;
+  &lt;xsl:variable name=&quot;lcext&quot; select=&quot;translate($ext,
+                                       'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
+                                       'abcdefghijklmnopqrstuvwxyz')&quot;/&gt;
+  &lt;xsl:if test=&quot;$lcext = 'svg'
+             or $lcext = 'png'
+             or $lcext = 'jpeg'
+             or $lcext = 'jpg'
+             or $lcext = 'avi'
+             or $lcext = 'mpg'
+             or $lcext = 'mpeg'
+             or $lcext = 'qt'
+             or $lcext = 'gif'
+             or $lcext = 'bmp'&quot;&gt;1&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;screenshot&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;screeninfo&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process.image&quot;&gt;
+  &lt;!-- When this template is called, the current node should be  --&gt;
+  &lt;!-- a graphic, inlinegraphic, imagedata, or videodata. All    --&gt;
+  &lt;!-- those elements have the same set of attributes, so we can --&gt;
+  &lt;!-- handle them all in one place.                             --&gt;
+  &lt;xsl:param name=&quot;tag&quot; select=&quot;'img'&quot;/&gt;
+  &lt;xsl:param name=&quot;alt&quot;/&gt;
+  &lt;xsl:param name=&quot;longdesc&quot;/&gt;
+
+  &lt;!-- The HTML img element only supports the notion of content-area
+       scaling; it doesn't support the distinction between a
+       content-area and a viewport-area, so we have to make some
+       compromises.
+
+       1. If only the content-area is specified, everything is fine.
+          (If you ask for a three inch image, that's what you'll get.)
+
+       2. If only the viewport-area is provided:
+          - If scalefit=1, treat it as both the content-area and
+            the viewport-area. (If you ask for an image in a five inch
+            area, we'll make the image five inches to fill that area.)
+          - If scalefit=0, ignore the viewport-area specification.
+
+          Note: this is not quite the right semantic and has the additional
+          problem that it can result in anamorphic scaling, which scalefit
+          should never cause.
+
+       3. If both the content-area and the viewport-area is specified
+          on a graphic element, ignore the viewport-area.
+          (If you ask for a three inch image in a five inch area, we'll assume
+           it's better to give you a three inch image in an unspecified area
+           than a five inch image in a five inch area.
+
+       Relative units also cause problems. As a general rule, the stylesheets
+       are operating too early and too loosely coupled with the rendering engine
+       to know things like the current font size or the actual dimensions of
+       an image. Therefore:
+
+       1. We use a fixed size for pixels, $pixels.per.inch
+
+       2. We use a fixed size for &quot;em&quot;s, $points.per.em
+
+       Percentages are problematic. In the following discussion, we speak
+       of width and contentwidth, but the same issues apply to depth and
+       contentdepth
+
+       1. A width of 50% means &quot;half of the available space for the image.&quot;
+          That's fine. But note that in HTML, this is a dynamic property and
+          the image size will vary if the browser window is resized.
+
+       2. A contentwidth of 50% means &quot;half of the actual image width&quot;. But
+          the stylesheets have no way to assess the image's actual size. Treating
+          this as a width of 50% is one possibility, but it produces behavior
+          (dynamic scaling) that seems entirely out of character with the
+          meaning.
+
+          Instead, the stylesheets define a $nominal.image.width
+          and convert percentages to actual values based on that nominal size.
+
+       Scale can be problematic. Scale applies to the contentwidth, so
+       a scale of 50 when a contentwidth is not specified is analagous to a
+       width of 50%. (If a contentwidth is specified, the scaling factor can
+       be applied to that value and no problem exists.)
+
+       If scale is specified but contentwidth is not supplied, the
+       nominal.image.width is used to calculate a base size
+       for scaling.
+
+       Warning: as a consequence of these decisions, unless the aspect ratio
+       of your image happens to be exactly the same as (nominal width / nominal height),
+       specifying contentwidth=&quot;50%&quot; and contentdepth=&quot;50%&quot; is NOT going to
+       scale the way you expect (or really, the way it should).
+
+       Don't do that. In fact, a percentage value is not recommended for content
+       size at all. Use scale instead.
+
+       Finally, align and valign are troublesome. Horizontal alignment is now
+       supported by wrapping the image in a &lt;div align=&quot;{@align}&quot;&gt; (in block
+       contexts!). I can't think of anything (practical) to do about vertical
+       alignment.
+  --&gt;
+
+  &lt;xsl:variable name=&quot;width-units&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@width&quot;&gt;
+        &lt;xsl:call-template name=&quot;length-units&quot;&gt;
+          &lt;xsl:with-param name=&quot;length&quot; select=&quot;@width&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;not(@depth) and $default.image.width != ''&quot;&gt;
+        &lt;xsl:call-template name=&quot;length-units&quot;&gt;
+          &lt;xsl:with-param name=&quot;length&quot; select=&quot;$default.image.width&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;width&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@width&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;$width-units = '%'&quot;&gt;
+            &lt;xsl:value-of select=&quot;@width&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:call-template name=&quot;length-spec&quot;&gt;
+              &lt;xsl:with-param name=&quot;length&quot; select=&quot;@width&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;not(@depth) and $default.image.width != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$default.image.width&quot;/&gt;
+      &lt;/xsl:when&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;scalefit&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@contentwidth or @contentdepth&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@scale&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@scalefit&quot;&gt;&lt;xsl:value-of select=&quot;@scalefit&quot;/&gt;&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$width != '' or @depth&quot;&gt;1&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;0&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;scale&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;1.0&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@contentwidth or @contentdepth&quot;&gt;1.0&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@scale&quot;&gt;
+        &lt;xsl:value-of select=&quot;@scale div 100.0&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;1.0&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'graphic'
+                      or local-name(.) = 'inlinegraphic'&quot;&gt;
+        &lt;!-- handle legacy graphic and inlinegraphic by new template --&gt; 
+        &lt;xsl:call-template name=&quot;mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;!-- imagedata, videodata, audiodata --&gt;
+        &lt;xsl:call-template name=&quot;mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;..&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;intrinsicwidth&quot;&gt;
+    &lt;!-- This funny compound test works around a bug in XSLTC --&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$use.extensions != 0 and $graphicsize.extension != 0&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;function-available('simg:getWidth')&quot;&gt;
+            &lt;xsl:value-of select=&quot;simg:getWidth(simg:new($filename),
+                                                $nominal.image.width)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;function-available('ximg:getWidth')&quot;&gt;
+            &lt;xsl:value-of select=&quot;ximg:getWidth(ximg:new($filename),
+                                                $nominal.image.width)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$nominal.image.width&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$nominal.image.width&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;intrinsicdepth&quot;&gt;
+    &lt;!-- This funny compound test works around a bug in XSLTC --&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$use.extensions != 0 and $graphicsize.extension != 0&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;function-available('simg:getDepth')&quot;&gt;
+            &lt;xsl:value-of select=&quot;simg:getDepth(simg:new($filename),
+                                                $nominal.image.depth)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;function-available('ximg:getDepth')&quot;&gt;
+            &lt;xsl:value-of select=&quot;ximg:getDepth(ximg:new($filename),
+                                                $nominal.image.depth)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$nominal.image.depth&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$nominal.image.depth&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;contentwidth&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@contentwidth&quot;&gt;
+        &lt;xsl:variable name=&quot;units&quot;&gt;
+          &lt;xsl:call-template name=&quot;length-units&quot;&gt;
+            &lt;xsl:with-param name=&quot;length&quot; select=&quot;@contentwidth&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:variable&gt;
+
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;$units = '%'&quot;&gt;
+            &lt;xsl:variable name=&quot;cmagnitude&quot;&gt;
+              &lt;xsl:call-template name=&quot;length-magnitude&quot;&gt;
+                &lt;xsl:with-param name=&quot;length&quot; select=&quot;@contentwidth&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:variable&gt;
+            &lt;xsl:value-of select=&quot;$intrinsicwidth * $cmagnitude div 100.0&quot;/&gt;
+            &lt;xsl:text&gt;px&lt;/xsl:text&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:call-template name=&quot;length-spec&quot;&gt;
+              &lt;xsl:with-param name=&quot;length&quot; select=&quot;@contentwidth&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$intrinsicwidth&quot;/&gt;
+        &lt;xsl:text&gt;px&lt;/xsl:text&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;scaled.contentwidth&quot;&gt;
+    &lt;xsl:if test=&quot;$contentwidth != ''&quot;&gt;
+      &lt;xsl:variable name=&quot;cwidth.in.points&quot;&gt;
+        &lt;xsl:call-template name=&quot;length-in-points&quot;&gt;
+          &lt;xsl:with-param name=&quot;length&quot; select=&quot;$contentwidth&quot;/&gt;
+          &lt;xsl:with-param name=&quot;pixels.per.inch&quot; select=&quot;$pixels.per.inch&quot;/&gt;
+          &lt;xsl:with-param name=&quot;em.size&quot; select=&quot;$points.per.em&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:value-of select=&quot;$cwidth.in.points div 72.0 * $pixels.per.inch * $scale&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;html.width&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$width-units = '%'&quot;&gt;
+        &lt;xsl:value-of select=&quot;$width&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$width != ''&quot;&gt;
+        &lt;xsl:variable name=&quot;width.in.points&quot;&gt;
+          &lt;xsl:call-template name=&quot;length-in-points&quot;&gt;
+            &lt;xsl:with-param name=&quot;length&quot; select=&quot;$width&quot;/&gt;
+            &lt;xsl:with-param name=&quot;pixels.per.inch&quot; select=&quot;$pixels.per.inch&quot;/&gt;
+            &lt;xsl:with-param name=&quot;em.size&quot; select=&quot;$points.per.em&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:variable&gt;
+        &lt;xsl:value-of select=&quot;round($width.in.points div 72.0 * $pixels.per.inch)&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;contentdepth&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@contentdepth&quot;&gt;
+        &lt;xsl:variable name=&quot;units&quot;&gt;
+          &lt;xsl:call-template name=&quot;length-units&quot;&gt;
+            &lt;xsl:with-param name=&quot;length&quot; select=&quot;@contentdepth&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:variable&gt;
+
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;$units = '%'&quot;&gt;
+            &lt;xsl:variable name=&quot;cmagnitude&quot;&gt;
+              &lt;xsl:call-template name=&quot;length-magnitude&quot;&gt;
+                &lt;xsl:with-param name=&quot;length&quot; select=&quot;@contentdepth&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:variable&gt;
+            &lt;xsl:value-of select=&quot;$intrinsicdepth * $cmagnitude div 100.0&quot;/&gt;
+            &lt;xsl:text&gt;px&lt;/xsl:text&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:call-template name=&quot;length-spec&quot;&gt;
+              &lt;xsl:with-param name=&quot;length&quot; select=&quot;@contentdepth&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$intrinsicdepth&quot;/&gt;
+        &lt;xsl:text&gt;px&lt;/xsl:text&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;scaled.contentdepth&quot;&gt;
+    &lt;xsl:if test=&quot;$contentdepth != ''&quot;&gt;
+      &lt;xsl:variable name=&quot;cdepth.in.points&quot;&gt;
+        &lt;xsl:call-template name=&quot;length-in-points&quot;&gt;
+          &lt;xsl:with-param name=&quot;length&quot; select=&quot;$contentdepth&quot;/&gt;
+          &lt;xsl:with-param name=&quot;pixels.per.inch&quot; select=&quot;$pixels.per.inch&quot;/&gt;
+          &lt;xsl:with-param name=&quot;em.size&quot; select=&quot;$points.per.em&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:value-of select=&quot;$cdepth.in.points div 72.0 * $pixels.per.inch * $scale&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;depth-units&quot;&gt;
+    &lt;xsl:if test=&quot;@depth&quot;&gt;
+      &lt;xsl:call-template name=&quot;length-units&quot;&gt;
+        &lt;xsl:with-param name=&quot;length&quot; select=&quot;@depth&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;depth&quot;&gt;
+    &lt;xsl:if test=&quot;@depth&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$depth-units = '%'&quot;&gt;
+          &lt;xsl:value-of select=&quot;@depth&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;length-spec&quot;&gt;
+            &lt;xsl:with-param name=&quot;length&quot; select=&quot;@depth&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;html.depth&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$depth-units = '%'&quot;&gt;
+        &lt;xsl:value-of select=&quot;$depth&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@depth and @depth != ''&quot;&gt;
+        &lt;xsl:variable name=&quot;depth.in.points&quot;&gt;
+          &lt;xsl:call-template name=&quot;length-in-points&quot;&gt;
+            &lt;xsl:with-param name=&quot;length&quot; select=&quot;$depth&quot;/&gt;
+            &lt;xsl:with-param name=&quot;pixels.per.inch&quot; select=&quot;$pixels.per.inch&quot;/&gt;
+            &lt;xsl:with-param name=&quot;em.size&quot; select=&quot;$points.per.em&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:variable&gt;
+        &lt;xsl:value-of select=&quot;round($depth.in.points div 72.0 * $pixels.per.inch)&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;viewport&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$ignore.image.scaling != 0&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name(.) = 'inlinegraphic'
+                      or ancestor::inlinemediaobject
+                      or ancestor::inlineequation&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$make.graphic.viewport&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;=====================================
+scale: &lt;xsl:value-of select=&quot;$scale&quot;/&gt;, &lt;xsl:value-of select=&quot;$scalefit&quot;/&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">+ at contentwidth</A> &lt;xsl:value-of select=&quot;@contentwidth&quot;/&gt;
+$contentwidth &lt;xsl:value-of select=&quot;$contentwidth&quot;/&gt;
+scaled.contentwidth: &lt;xsl:value-of select=&quot;$scaled.contentwidth&quot;/&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">+ at width</A>: &lt;xsl:value-of select=&quot;@width&quot;/&gt;
+width: &lt;xsl:value-of select=&quot;$width&quot;/&gt;
+html.width: &lt;xsl:value-of select=&quot;$html.width&quot;/&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">+ at contentdepth</A> &lt;xsl:value-of select=&quot;@contentdepth&quot;/&gt;
+$contentdepth &lt;xsl:value-of select=&quot;$contentdepth&quot;/&gt;
+scaled.contentdepth: &lt;xsl:value-of select=&quot;$scaled.contentdepth&quot;/&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">+ at depth</A>: &lt;xsl:value-of select=&quot;@depth&quot;/&gt;
+depth: &lt;xsl:value-of select=&quot;$depth&quot;/&gt;
+html.depth: &lt;xsl:value-of select=&quot;$html.depth&quot;/&gt;
+align: &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+valign: &lt;xsl:value-of select=&quot;@valign&quot;/&gt;&lt;/xsl:message&gt;
+--&gt;
+
+  &lt;xsl:variable name=&quot;img&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@format = 'SVG'&quot;&gt;
+        &lt;object data=&quot;{$filename}&quot; type=&quot;image/svg+xml&quot;&gt;
+          &lt;xsl:call-template name=&quot;process.image.attributes&quot;&gt;
+            &lt;!--xsl:with-param name=&quot;alt&quot; select=&quot;$alt&quot;/ there's no alt here--&gt;
+            &lt;xsl:with-param name=&quot;html.depth&quot; select=&quot;$html.depth&quot;/&gt;
+            &lt;xsl:with-param name=&quot;html.width&quot; select=&quot;$html.width&quot;/&gt;
+            &lt;xsl:with-param name=&quot;longdesc&quot; select=&quot;$longdesc&quot;/&gt;
+            &lt;xsl:with-param name=&quot;scale&quot; select=&quot;$scale&quot;/&gt;
+            &lt;xsl:with-param name=&quot;scalefit&quot; select=&quot;$scalefit&quot;/&gt;
+            &lt;xsl:with-param name=&quot;scaled.contentdepth&quot; select=&quot;$scaled.contentdepth&quot;/&gt;
+            &lt;xsl:with-param name=&quot;scaled.contentwidth&quot; select=&quot;$scaled.contentwidth&quot;/&gt;
+            &lt;xsl:with-param name=&quot;viewport&quot; select=&quot;$viewport&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+          &lt;xsl:if test=&quot;@align&quot;&gt;
+            &lt;xsl:attribute name=&quot;align&quot;&gt;
+                &lt;xsl:choose&gt;
+                  &lt;xsl:when test=&quot;@align = 'center'&quot;&gt;middle&lt;/xsl:when&gt;
+                  &lt;xsl:otherwise&gt;
+                    &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+                  &lt;/xsl:otherwise&gt;
+                &lt;/xsl:choose&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:if&gt;
+          &lt;xsl:if test=&quot;$use.embed.for.svg != 0&quot;&gt;
+            &lt;embed src=&quot;{$filename}&quot; type=&quot;image/svg+xml&quot;&gt;
+              &lt;xsl:call-template name=&quot;process.image.attributes&quot;&gt;
+                &lt;!--xsl:with-param name=&quot;alt&quot; select=&quot;$alt&quot;/ there's no alt here --&gt;
+                &lt;xsl:with-param name=&quot;html.depth&quot; select=&quot;$html.depth&quot;/&gt;
+                &lt;xsl:with-param name=&quot;html.width&quot; select=&quot;$html.width&quot;/&gt;
+                &lt;xsl:with-param name=&quot;longdesc&quot; select=&quot;$longdesc&quot;/&gt;
+                &lt;xsl:with-param name=&quot;scale&quot; select=&quot;$scale&quot;/&gt;
+                &lt;xsl:with-param name=&quot;scalefit&quot; select=&quot;$scalefit&quot;/&gt;
+                &lt;xsl:with-param name=&quot;scaled.contentdepth&quot; select=&quot;$scaled.contentdepth&quot;/&gt;
+                &lt;xsl:with-param name=&quot;scaled.contentwidth&quot; select=&quot;$scaled.contentwidth&quot;/&gt;
+                &lt;xsl:with-param name=&quot;viewport&quot; select=&quot;$viewport&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/embed&gt;
+          &lt;/xsl:if&gt;
+        &lt;/object&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:element name=&quot;{$tag}&quot;&gt;
+          &lt;xsl:attribute name=&quot;src&quot;&gt;
+	    &lt;xsl:choose&gt;
+	      &lt;xsl:when test=&quot;$img.src.path != '' and
+			      $tag = 'img' and
+	                      not(starts-with($filename, '/')) and
+			      not(contains($filename, '://'))&quot;&gt;
+	        &lt;xsl:value-of select=&quot;$img.src.path&quot;/&gt;
+	      &lt;/xsl:when&gt;
+	    &lt;/xsl:choose&gt;
+            &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+
+          &lt;xsl:if test=&quot;@align&quot;&gt;
+            &lt;xsl:attribute name=&quot;align&quot;&gt;
+              &lt;xsl:choose&gt;
+                &lt;xsl:when test=&quot;@align = 'center'&quot;&gt;middle&lt;/xsl:when&gt;
+                &lt;xsl:otherwise&gt;
+                  &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+                &lt;/xsl:otherwise&gt;
+              &lt;/xsl:choose&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:if&gt;
+
+          &lt;xsl:call-template name=&quot;process.image.attributes&quot;&gt;
+            &lt;xsl:with-param name=&quot;alt&quot;&gt;
+              &lt;xsl:choose&gt;
+                &lt;xsl:when test=&quot;$alt != ''&quot;&gt;
+                  &lt;xsl:copy-of select=&quot;$alt&quot;/&gt;
+                &lt;/xsl:when&gt;
+                &lt;xsl:when test=&quot;ancestor::figure&quot;&gt;
+                  &lt;xsl:value-of select=&quot;normalize-space(ancestor::figure/title)&quot;/&gt;
+                &lt;/xsl:when&gt;
+              &lt;/xsl:choose&gt;
+            &lt;/xsl:with-param&gt;
+            &lt;xsl:with-param name=&quot;html.depth&quot; select=&quot;$html.depth&quot;/&gt;
+            &lt;xsl:with-param name=&quot;html.width&quot; select=&quot;$html.width&quot;/&gt;
+            &lt;xsl:with-param name=&quot;longdesc&quot; select=&quot;$longdesc&quot;/&gt;
+            &lt;xsl:with-param name=&quot;scale&quot; select=&quot;$scale&quot;/&gt;
+            &lt;xsl:with-param name=&quot;scalefit&quot; select=&quot;$scalefit&quot;/&gt;
+            &lt;xsl:with-param name=&quot;scaled.contentdepth&quot; select=&quot;$scaled.contentdepth&quot;/&gt;
+            &lt;xsl:with-param name=&quot;scaled.contentwidth&quot; select=&quot;$scaled.contentwidth&quot;/&gt;
+            &lt;xsl:with-param name=&quot;viewport&quot; select=&quot;$viewport&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:element&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+
+  &lt;xsl:variable name=&quot;bgcolor&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;../processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'background-color'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;use.viewport&quot;
+                select=&quot;$viewport != 0
+                        and ($html.width != ''
+                             or ($html.depth != '' and $depth-units != '%')
+                             or $bgcolor != ''
+                             or @valign)&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$use.viewport&quot;&gt;
+      &lt;table border=&quot;0&quot; summary=&quot;manufactured viewport for HTML img&quot;
+             cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
+        &lt;xsl:if test=&quot;$html.width != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;width&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.width&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+        &lt;tr&gt;
+          &lt;xsl:if test=&quot;$html.depth != '' and $depth-units != '%'&quot;&gt;
+            &lt;!-- don't do this for percentages because browsers get confused --&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$css.decoration != 0&quot;&gt;
+                &lt;xsl:attribute name=&quot;style&quot;&gt;
+                  &lt;xsl:text&gt;height: &lt;/xsl:text&gt;
+                  &lt;xsl:value-of select=&quot;$html.depth&quot;/&gt;
+                  &lt;xsl:text&gt;px&lt;/xsl:text&gt;
+                &lt;/xsl:attribute&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;
+                &lt;xsl:attribute name=&quot;height&quot;&gt;
+                  &lt;xsl:value-of select=&quot;$html.depth&quot;/&gt;
+                &lt;/xsl:attribute&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:if&gt;
+          &lt;td&gt;
+            &lt;xsl:if test=&quot;$bgcolor != ''&quot;&gt;
+              &lt;xsl:choose&gt;
+                &lt;xsl:when test=&quot;$css.decoration != 0&quot;&gt;
+                  &lt;xsl:attribute name=&quot;style&quot;&gt;
+                    &lt;xsl:text&gt;background-color: &lt;/xsl:text&gt;
+                    &lt;xsl:value-of select=&quot;$bgcolor&quot;/&gt;
+                  &lt;/xsl:attribute&gt;
+                &lt;/xsl:when&gt;
+                &lt;xsl:otherwise&gt;
+                  &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;
+                    &lt;xsl:value-of select=&quot;$bgcolor&quot;/&gt;
+                  &lt;/xsl:attribute&gt;
+                &lt;/xsl:otherwise&gt;
+              &lt;/xsl:choose&gt;
+            &lt;/xsl:if&gt;
+            &lt;xsl:if test=&quot;@align&quot;&gt;
+              &lt;xsl:attribute name=&quot;align&quot;&gt;
+                &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:if&gt;
+            &lt;xsl:if test=&quot;@valign&quot;&gt;
+              &lt;xsl:attribute name=&quot;valign&quot;&gt;
+                &lt;xsl:value-of select=&quot;@valign&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:if&gt;
+            &lt;xsl:copy-of select=&quot;$img&quot;/&gt;
+          &lt;/td&gt;
+        &lt;/tr&gt;
+      &lt;/table&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$img&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.image.attributes&quot;&gt;
+  &lt;xsl:param name=&quot;alt&quot;/&gt;
+  &lt;xsl:param name=&quot;html.width&quot;/&gt;
+  &lt;xsl:param name=&quot;html.depth&quot;/&gt;
+  &lt;xsl:param name=&quot;longdesc&quot;/&gt;
+  &lt;xsl:param name=&quot;scale&quot;/&gt;
+  &lt;xsl:param name=&quot;scalefit&quot;/&gt;
+  &lt;xsl:param name=&quot;scaled.contentdepth&quot;/&gt;
+  &lt;xsl:param name=&quot;scaled.contentwidth&quot;/&gt;
+  &lt;xsl:param name=&quot;viewport&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@contentwidth or @contentdepth&quot;&gt;
+      &lt;!-- ignore @width/@depth, @scale, and @scalefit if specified --&gt;
+      &lt;xsl:if test=&quot;@contentwidth&quot;&gt;
+        &lt;xsl:attribute name=&quot;width&quot;&gt;
+          &lt;xsl:value-of select=&quot;$scaled.contentwidth&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:if test=&quot;@contentdepth&quot;&gt;
+        &lt;xsl:attribute name=&quot;height&quot;&gt;
+          &lt;xsl:value-of select=&quot;$scaled.contentdepth&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;number($scale) != 1.0&quot;&gt;
+      &lt;!-- scaling is always uniform, so we only have to specify one dimension --&gt;
+      &lt;!-- ignore @scalefit if specified --&gt;
+      &lt;xsl:attribute name=&quot;width&quot;&gt;
+        &lt;xsl:value-of select=&quot;$scaled.contentwidth&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;$scalefit != 0&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;contains($html.width, '%')&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$viewport != 0&quot;&gt;
+              &lt;!-- The *viewport* will be scaled, so use 100% here! --&gt;
+              &lt;xsl:attribute name=&quot;width&quot;&gt;
+                &lt;xsl:value-of select=&quot;'100%'&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:attribute name=&quot;width&quot;&gt;
+                &lt;xsl:value-of select=&quot;$html.width&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+
+        &lt;xsl:when test=&quot;contains($html.depth, '%')&quot;&gt;
+          &lt;!-- HTML doesn't deal with this case very well...do nothing --&gt;
+        &lt;/xsl:when&gt;
+
+        &lt;xsl:when test=&quot;$scaled.contentwidth != '' and $html.width != ''
+                        and $scaled.contentdepth != '' and $html.depth != ''&quot;&gt;
+          &lt;!-- scalefit should not be anamorphic; figure out which direction --&gt;
+          &lt;!-- has the limiting scale factor and scale in that direction --&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$html.width div $scaled.contentwidth &gt;
+                            $html.depth div $scaled.contentdepth&quot;&gt;
+              &lt;xsl:attribute name=&quot;height&quot;&gt;
+                &lt;xsl:value-of select=&quot;$html.depth&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:attribute name=&quot;width&quot;&gt;
+                &lt;xsl:value-of select=&quot;$html.width&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+
+        &lt;xsl:when test=&quot;$scaled.contentwidth != '' and $html.width != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;width&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.width&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:when&gt;
+
+        &lt;xsl:when test=&quot;$scaled.contentdepth != '' and $html.depth != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;height&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.depth&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:when&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:if test=&quot;$alt != ''&quot;&gt;
+    &lt;xsl:attribute name=&quot;alt&quot;&gt;
+      &lt;xsl:value-of select=&quot;$alt&quot;/&gt;
+    &lt;/xsl:attribute&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;$longdesc != ''&quot;&gt;
+    &lt;xsl:attribute name=&quot;longdesc&quot;&gt;
+      &lt;xsl:value-of select=&quot;$longdesc&quot;/&gt;
+    &lt;/xsl:attribute&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;@align and $viewport = 0&quot;&gt;
+    &lt;xsl:attribute name=&quot;align&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;@align = 'center'&quot;&gt;middle&lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:attribute&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;graphic&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;parent::inlineequation&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:call-template name=&quot;process.image&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;div&gt;
+        &lt;xsl:if test=&quot;@align&quot;&gt;
+          &lt;xsl:attribute name=&quot;align&quot;&gt;
+            &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+        &lt;xsl:call-template name=&quot;process.image&quot;/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;inlinegraphic&quot;&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@entityref&quot;&gt;
+        &lt;xsl:value-of select=&quot;unparsed-entity-uri(@entityref)&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:apply-templates select=&quot;@fileref&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;@id&quot;&gt;
+    &lt;a name=&quot;{@id}&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@format='linespecific'&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$use.extensions != '0'
+                        and $textinsert.extension != '0'&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;element-available('stext:insertfile')&quot;&gt;
+              &lt;stext:insertfile href=&quot;{$filename}&quot; encoding=&quot;{$textdata.default.encoding}&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;element-available('xtext:insertfile')&quot;&gt;
+              &lt;xtext:insertfile href=&quot;{$filename}&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:message terminate=&quot;yes&quot;&gt;
+                &lt;xsl:text&gt;No insertfile extension available.&lt;/xsl:text&gt;
+              &lt;/xsl:message&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;a xlink:type=&quot;simple&quot; xlink:show=&quot;embed&quot; xlink:actuate=&quot;onLoad&quot;
+             href=&quot;{$filename}&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;process.image&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;mediaobject|mediaobjectco&quot;&gt;
+
+  &lt;xsl:variable name=&quot;olist&quot; select=&quot;imageobject|imageobjectco
+                     |videoobject|audioobject
+                     |textobject&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;object.index&quot;&gt;
+    &lt;xsl:call-template name=&quot;select.mediaobject.index&quot;&gt;
+      &lt;xsl:with-param name=&quot;olist&quot; select=&quot;$olist&quot;/&gt;
+      &lt;xsl:with-param name=&quot;count&quot; select=&quot;1&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;object&quot; select=&quot;$olist[position() = $object.index]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;align&quot;&gt;
+    &lt;xsl:value-of select=&quot;$object/imagedata[@align][1]/@align&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;$align != '' &quot;&gt;
+      &lt;xsl:attribute name=&quot;align&quot;&gt;
+        &lt;xsl:value-of select=&quot;$align&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@id&quot;&gt;
+      &lt;a name=&quot;{@id}&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;$object&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;caption&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;inlinemediaobject&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;@id&quot;&gt;
+      &lt;a name=&quot;{@id}&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;select.mediaobject&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;programlisting/inlinemediaobject
+                     |screen/inlinemediaobject&quot; priority=&quot;2&quot;&gt;
+  &lt;!-- the additional span causes problems in some cases --&gt;
+  &lt;xsl:call-template name=&quot;select.mediaobject&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;imageobjectco&quot;&gt;
+  &lt;xsl:if test=&quot;@id&quot;&gt;
+    &lt;a name=&quot;{@id}&quot;/&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:apply-templates select=&quot;imageobject&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;calloutlist&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;imageobject&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when xmlns:svg=&quot;<A HREF="http://www.w3.org/2000/svg">http://www.w3.org/2000/svg</A>&quot;
+              test=&quot;svg:*&quot;&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;imagedata&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;imagedata&quot;&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:call-template name=&quot;mediaobject.filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;..&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@format='linespecific'&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$use.extensions != '0'
+                        and $textinsert.extension != '0'&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;element-available('stext:insertfile')&quot;&gt;
+              &lt;stext:insertfile href=&quot;{$filename}&quot; encoding=&quot;{$textdata.default.encoding}&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;element-available('xtext:insertfile')&quot;&gt;
+              &lt;xtext:insertfile href=&quot;{$filename}&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:message terminate=&quot;yes&quot;&gt;
+                &lt;xsl:text&gt;No insertfile extension available.&lt;/xsl:text&gt;
+              &lt;/xsl:message&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;a xlink:type=&quot;simple&quot; xlink:show=&quot;embed&quot; xlink:actuate=&quot;onLoad&quot;
+             href=&quot;{$filename}&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;longdesc.uri&quot;&gt;
+        &lt;xsl:call-template name=&quot;longdesc.uri&quot;&gt;
+          &lt;xsl:with-param name=&quot;mediaobject&quot;
+                          select=&quot;ancestor::imageobject/parent::*&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;phrases&quot;
+                    select=&quot;ancestor::mediaobject/textobject[phrase]
+                            |ancestor::inlinemediaobject/textobject[phrase]
+                            |ancestor::mediaobjectco/textobject[phrase]&quot;/&gt;
+
+      &lt;xsl:call-template name=&quot;process.image&quot;&gt;
+        &lt;xsl:with-param name=&quot;alt&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$phrases[not(@role) or @role!='tex'][1]&quot;/&gt;
+        &lt;/xsl:with-param&gt;
+        &lt;xsl:with-param name=&quot;longdesc&quot;&gt;
+          &lt;xsl:call-template name=&quot;write.longdesc&quot;&gt;
+            &lt;xsl:with-param name=&quot;mediaobject&quot;
+                            select=&quot;ancestor::imageobject/parent::*&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+
+      &lt;xsl:if test=&quot;$html.longdesc != 0 and $html.longdesc.link != 0
+                    and ancestor::imageobject/parent::*/textobject[not(phrase)]&quot;&gt;
+        &lt;xsl:call-template name=&quot;longdesc.link&quot;&gt;
+          &lt;xsl:with-param name=&quot;longdesc.uri&quot; select=&quot;$longdesc.uri&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;longdesc.uri&quot;&gt;
+  &lt;xsl:param name=&quot;mediaobject&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$html.longdesc&quot;&gt;
+    &lt;xsl:if test=&quot;$mediaobject/textobject[not(phrase)]&quot;&gt;
+      &lt;xsl:variable name=&quot;image-id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;$mediaobject&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:variable name=&quot;dbhtml.dir&quot;&gt;
+        &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:variable name=&quot;filename&quot;&gt;
+        &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;base.dir&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$dbhtml.dir != ''&quot;&gt;
+                &lt;xsl:value-of select=&quot;$dbhtml.dir&quot;/&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;
+                &lt;xsl:value-of select=&quot;$base.dir&quot;/&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:with-param&gt;
+          &lt;xsl:with-param name=&quot;base.name&quot;
+                          select=&quot;concat('ld-',$image-id,$html.ext)&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;write.longdesc&quot;&gt;
+  &lt;xsl:param name=&quot;mediaobject&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:if test=&quot;$html.longdesc != 0 and $mediaobject/textobject[not(phrase)]&quot;&gt;
+    &lt;xsl:variable name=&quot;filename&quot;&gt;
+      &lt;xsl:call-template name=&quot;longdesc.uri&quot;&gt;
+        &lt;xsl:with-param name=&quot;mediaobject&quot; select=&quot;$mediaobject&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+
+    &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+      &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:call-template name=&quot;user.preroot&quot;/&gt;
+        &lt;html&gt;
+          &lt;head&gt;
+            &lt;xsl:call-template name=&quot;system.head.content&quot;/&gt;
+            &lt;xsl:call-template name=&quot;head.content&quot;&gt;
+              &lt;xsl:with-param name=&quot;title&quot; select=&quot;'Long Description'&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+            &lt;xsl:call-template name=&quot;user.head.content&quot;/&gt;
+          &lt;/head&gt;
+          &lt;body&gt;
+            &lt;xsl:call-template name=&quot;body.attributes&quot;/&gt;
+            &lt;xsl:for-each select=&quot;$mediaobject/textobject[not(phrase)]&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;./*&quot;/&gt;
+            &lt;/xsl:for-each&gt;
+          &lt;/body&gt;
+        &lt;/html&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;longdesc.link&quot;&gt;
+  &lt;xsl:param name=&quot;longdesc.uri&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;this.uri&quot;&gt;
+    &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+      &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+        &lt;xsl:call-template name=&quot;href.target.uri&quot;/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;href.to&quot;&gt;
+    &lt;xsl:call-template name=&quot;trim.common.uri.paths&quot;&gt;
+      &lt;xsl:with-param name=&quot;uriA&quot; select=&quot;$longdesc.uri&quot;/&gt;
+      &lt;xsl:with-param name=&quot;uriB&quot; select=&quot;$this.uri&quot;/&gt;
+      &lt;xsl:with-param name=&quot;return&quot; select=&quot;'A'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;longdesc-link&quot; align=&quot;right&quot;&gt;
+    &lt;br clear=&quot;all&quot;/&gt;
+    &lt;span class=&quot;longdesc-link&quot;&gt;
+      &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+      &lt;a href=&quot;{$href.to}&quot; target=&quot;longdesc&quot;&gt;D&lt;/a&gt;
+      &lt;xsl:text&gt;]&lt;/xsl:text&gt;
+    &lt;/span&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;videoobject&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;videodata&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;videodata&quot;&gt;
+  &lt;xsl:call-template name=&quot;process.image&quot;&gt;
+    &lt;xsl:with-param name=&quot;tag&quot; select=&quot;'embed'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;alt&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;(../../textobject/phrase)[1]&quot;/&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;audioobject&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;audiodata&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;audiodata&quot;&gt;
+  &lt;xsl:call-template name=&quot;process.image&quot;&gt;
+    &lt;xsl:with-param name=&quot;tag&quot; select=&quot;'embed'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;alt&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;(../../textobject/phrase)[1]&quot;/&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;textobject&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;textdata&quot;&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@entityref&quot;&gt;
+        &lt;xsl:value-of select=&quot;unparsed-entity-uri(@entityref)&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:apply-templates select=&quot;@fileref&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;encoding&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@encoding&quot;&gt;
+        &lt;xsl:value-of select=&quot;@encoding&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$textdata.default.encoding&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$use.extensions != '0'
+                    and $textinsert.extension != '0'&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;element-available('stext:insertfile')&quot;&gt;
+          &lt;stext:insertfile href=&quot;{$filename}&quot; encoding=&quot;{$encoding}&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;element-available('xtext:insertfile')&quot;&gt;
+          &lt;xtext:insertfile href=&quot;{$filename}&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:message terminate=&quot;yes&quot;&gt;
+            &lt;xsl:text&gt;No insertfile extension available.&lt;/xsl:text&gt;
+          &lt;/xsl:message&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;a xlink:type=&quot;simple&quot; xlink:show=&quot;embed&quot; xlink:actuate=&quot;onLoad&quot;
+         href=&quot;{$filename}&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;caption&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+&lt;!-- &quot;Support&quot; for SVG --&gt;
+
+&lt;xsl:template match=&quot;svg:*&quot; xmlns:svg=&quot;<A HREF="http://www.w3.org/2000/svg">http://www.w3.org/2000/svg</A>&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- Resolve xml:base attributes --&gt;
+&lt;xsl:template match=&quot;@fileref&quot;&gt;
+  &lt;!-- need a check for absolute urls --&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains(., ':')&quot;&gt;
+      &lt;!-- it has a uri scheme so it is an absolute uri --&gt;
+      &lt;xsl:value-of select=&quot;.&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;!-- its a relative uri --&gt;
+      &lt;xsl:call-template name=&quot;relative-uri&quot;&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/html-rtf.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/html-rtf.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/html-rtf.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,335 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+                xmlns:set=&quot;<A HREF="http://exslt.org/sets">http://exslt.org/sets</A>&quot;
+                exclude-result-prefixes=&quot;exsl set&quot;
+                version=&quot;1.0&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: html-rtf.xsl,v 1.11 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- This module contains templates that match against HTML nodes. It is used
+     to post-process result tree fragments for some sorts of cleanup.
+     These templates can only ever be fired by a processor that supports
+     exslt:node-set(). --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- insert.html.p mode templates insert a particular RTF at the beginning
+     of the first paragraph in the primary RTF. --&gt;
+
+&lt;xsl:template match=&quot;/&quot; mode=&quot;insert.html.p&quot;&gt;
+  &lt;xsl:param name=&quot;mark&quot; select=&quot;'?'&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;insert.html.p&quot;&gt;
+    &lt;xsl:with-param name=&quot;mark&quot; select=&quot;$mark&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;insert.html.p&quot;&gt;
+  &lt;xsl:param name=&quot;mark&quot; select=&quot;'?'&quot;/&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;insert.html.p&quot;&gt;
+      &lt;xsl:with-param name=&quot;mark&quot; select=&quot;$mark&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template xmlns:html=&quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;
+              match=&quot;html:p|p&quot; mode=&quot;insert.html.p&quot;&gt;
+  &lt;xsl:param name=&quot;mark&quot; select=&quot;'?'&quot;/&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:if test=&quot;not(preceding::p|preceding::html:p)&quot;&gt;
+      &lt;xsl:copy-of select=&quot;$mark&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates mode=&quot;insert.html.p&quot;&gt;
+      &lt;xsl:with-param name=&quot;mark&quot; select=&quot;$mark&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()|processing-instruction()|comment()&quot; mode=&quot;insert.html.p&quot;&gt;
+  &lt;xsl:param name=&quot;mark&quot; select=&quot;'?'&quot;/&gt;
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- insert.html.text mode templates insert a particular RTF at the beginning
+     of the first text-node in the primary RTF. --&gt;
+
+&lt;xsl:template match=&quot;/&quot; mode=&quot;insert.html.text&quot;&gt;
+  &lt;xsl:param name=&quot;mark&quot; select=&quot;'?'&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;insert.html.text&quot;&gt;
+    &lt;xsl:with-param name=&quot;mark&quot; select=&quot;$mark&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;insert.html.text&quot;&gt;
+  &lt;xsl:param name=&quot;mark&quot; select=&quot;'?'&quot;/&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;insert.html.text&quot;&gt;
+      &lt;xsl:with-param name=&quot;mark&quot; select=&quot;$mark&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()|processing-instruction()|comment()&quot; mode=&quot;insert.html.text&quot;&gt;
+  &lt;xsl:param name=&quot;mark&quot; select=&quot;'?'&quot;/&gt;
+
+  &lt;xsl:if test=&quot;not(preceding::text())&quot;&gt;
+    &lt;xsl:copy-of select=&quot;$mark&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;processing-instruction()|comment()&quot; mode=&quot;insert.html.text&quot;&gt;
+  &lt;xsl:param name=&quot;mark&quot; select=&quot;'?'&quot;/&gt;
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- unwrap.p mode templates remove blocks from HTML p elements (and
+     other places where blocks aren't allowed) --&gt;
+
+&lt;xsl:template name=&quot;unwrap.p&quot;&gt;
+  &lt;xsl:param name=&quot;p&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('exsl:node-set')
+                    and function-available('set:leading')
+                    and function-available('set:trailing')&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;exsl:node-set($p)&quot; mode=&quot;unwrap.p&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$p&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template xmlns:html=&quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;
+              match=&quot;html:p|p&quot; mode=&quot;unwrap.p&quot;&gt;
+  &lt;!-- xmlns:html is necessary for the xhtml stylesheet case --&gt;
+  &lt;xsl:variable name=&quot;blocks&quot; xmlns:html=&quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;
+                select=&quot;address|blockquote|div|hr|h1|h2|h3|h4|h5|h6
+                        |layer|p|pre|table|dl|menu|ol|ul|form
+                        |html:address|html:blockquote|html:div|html:hr
+                        |html:h1|html:h2|html:h3|html:h4|html:h5|html:h6
+                        |html:layer|html:p|html:pre|html:table|html:dl
+                        |html:menu|html:ol|html:ul|html:form&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$blocks&quot;&gt;
+      &lt;xsl:call-template name=&quot;unwrap.p.nodes&quot;&gt;
+        &lt;xsl:with-param name=&quot;wrap&quot; select=&quot;.&quot;/&gt;
+        &lt;xsl:with-param name=&quot;first&quot; select=&quot;1&quot;/&gt;
+        &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;node()&quot;/&gt;
+        &lt;xsl:with-param name=&quot;blocks&quot; select=&quot;$blocks&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy&gt;
+        &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+        &lt;xsl:apply-templates mode=&quot;unwrap.p&quot;/&gt;
+      &lt;/xsl:copy&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;unwrap.p&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;unwrap.p&quot;/&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()|processing-instruction()|comment()&quot; mode=&quot;unwrap.p&quot;&gt;
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;unwrap.p.nodes&quot;&gt;
+  &lt;xsl:param name=&quot;wrap&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;first&quot; select=&quot;0&quot;/&gt;
+  &lt;xsl:param name=&quot;nodes&quot;/&gt;
+  &lt;xsl:param name=&quot;blocks&quot;/&gt;
+  &lt;xsl:variable name=&quot;block&quot; select=&quot;$blocks[1]&quot;/&gt;
+
+  &lt;!-- This template should never get called if these functions aren't available --&gt;
+  &lt;!-- but this test is still necessary so that processors don't choke on the --&gt;
+  &lt;!-- function calls if they don't support the set: functions --&gt;
+  &lt;xsl:if test=&quot;function-available('set:leading')
+                and function-available('set:trailing')&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$blocks&quot;&gt;
+        &lt;xsl:variable name=&quot;leading&quot; select=&quot;set:leading($nodes,$block)&quot;/&gt;
+        &lt;xsl:variable name=&quot;trailing&quot; select=&quot;set:trailing($nodes,$block)&quot;/&gt;
+
+        &lt;xsl:if test=&quot;($wrap/@id and $first = 1) or $leading&quot;&gt;
+          &lt;xsl:element name=&quot;{local-name($wrap)}&quot; namespace=&quot;{namespace-uri($wrap)}&quot;&gt;
+            &lt;xsl:for-each select=&quot;$wrap/@*&quot;&gt;
+              &lt;xsl:if test=&quot;$first != 0 or local-name(.) != 'id'&quot;&gt;
+                &lt;xsl:copy/&gt;
+              &lt;/xsl:if&gt;
+            &lt;/xsl:for-each&gt;
+            &lt;xsl:apply-templates select=&quot;$leading&quot; mode=&quot;unwrap.p&quot;/&gt;
+          &lt;/xsl:element&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:apply-templates select=&quot;$block&quot; mode=&quot;unwrap.p&quot;/&gt;
+
+        &lt;xsl:if test=&quot;$trailing&quot;&gt;
+          &lt;xsl:call-template name=&quot;unwrap.p.nodes&quot;&gt;
+            &lt;xsl:with-param name=&quot;wrap&quot; select=&quot;$wrap&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;$trailing&quot;/&gt;
+            &lt;xsl:with-param name=&quot;blocks&quot; select=&quot;$blocks[position() &gt; 1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:when&gt;
+
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:if test=&quot;($wrap/@id and $first = 1) or $nodes&quot;&gt;
+          &lt;xsl:element name=&quot;{local-name($wrap)}&quot; namespace=&quot;{namespace-uri($wrap)}&quot;&gt;
+            &lt;xsl:for-each select=&quot;$wrap/@*&quot;&gt;
+              &lt;xsl:if test=&quot;$first != 0 or local-name(.) != 'id'&quot;&gt;
+                &lt;xsl:copy/&gt;
+              &lt;/xsl:if&gt;
+            &lt;/xsl:for-each&gt;
+            &lt;xsl:apply-templates select=&quot;$nodes&quot; mode=&quot;unwrap.p&quot;/&gt;
+          &lt;/xsl:element&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+&lt;!-- make.verbatim.mode replaces spaces and newlines --&gt;
+
+&lt;xsl:template match=&quot;/&quot; mode=&quot;make.verbatim.mode&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;make.verbatim.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;make.verbatim.mode&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;make.verbatim.mode&quot;/&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;processing-instruction()|comment()&quot; mode=&quot;make.verbatim.mode&quot;&gt;
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()&quot; mode=&quot;make.verbatim.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;text&quot; select=&quot;translate(., ' ', '&#160;')&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not(contains($text, '&amp;#xA;'))&quot;&gt;
+      &lt;xsl:value-of select=&quot;$text&quot;/&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;len&quot; select=&quot;string-length($text)&quot;/&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$len = 1&quot;&gt;
+          &lt;br/&gt;&lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;
+        &lt;/xsl:when&gt;
+
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:variable name=&quot;half&quot; select=&quot;$len div 2&quot;/&gt;
+          &lt;xsl:call-template name=&quot;make-verbatim-recursive&quot;&gt;
+            &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring($text, 1, $half)&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+          &lt;xsl:call-template name=&quot;make-verbatim-recursive&quot;&gt;
+            &lt;xsl:with-param name=&quot;text&quot;
+                            select=&quot;substring($text, ($half + 1), $len)&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+    	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;make-verbatim-recursive&quot;&gt;
+  &lt;xsl:param name=&quot;text&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not(contains($text, '&amp;#xA;'))&quot;&gt;
+      &lt;xsl:value-of select=&quot;$text&quot;/&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;len&quot; select=&quot;string-length($text)&quot;/&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$len = 1&quot;&gt;
+          &lt;br/&gt;&lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;
+        &lt;/xsl:when&gt;
+
+        &lt;xsl:otherwise&gt;
+    	  &lt;xsl:variable name=&quot;half&quot; select=&quot;$len div 2&quot;/&gt;
+          &lt;xsl:call-template name=&quot;make-verbatim-recursive&quot;&gt;
+    	    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring($text, 1, $half)&quot;/&gt;
+    	  &lt;/xsl:call-template&gt;
+    	  &lt;xsl:call-template name=&quot;make-verbatim-recursive&quot;&gt;
+    	    &lt;xsl:with-param name=&quot;text&quot;
+    			    select=&quot;substring($text, ($half + 1), $len)&quot;/&gt;
+    	  &lt;/xsl:call-template&gt;
+    	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- remove.empty.div mode templates remove empty blocks --&gt;
+
+&lt;xsl:template name=&quot;remove.empty.div&quot;&gt;
+  &lt;xsl:param name=&quot;div&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('exsl:node-set')&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;exsl:node-set($div)&quot; mode=&quot;remove.empty.div&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$div&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template xmlns:html=&quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;
+              match=&quot;html:p|p|html:div|div&quot; mode=&quot;remove.empty.div&quot;&gt;
+  &lt;xsl:if test=&quot;node()&quot;&gt;
+    &lt;xsl:copy&gt;
+      &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+      &lt;xsl:apply-templates mode=&quot;remove.empty.div&quot;/&gt;
+    &lt;/xsl:copy&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;remove.empty.div&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;remove.empty.div&quot;/&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()|processing-instruction()|comment()&quot; mode=&quot;remove.empty.div&quot;&gt;
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/html.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/html.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/html.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,90 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: html.xsl,v 1.8 2003/09/23 08:55:42 kosek Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:template name=&quot;anchor&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;conditional&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;$node&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:if test=&quot;$conditional = 0 or $node/@id&quot;&gt;
+    &lt;a name=&quot;{$id}&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;href.target.uri&quot;&gt;
+  &lt;xsl:param name=&quot;context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+  &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+    &lt;xsl:with-param name=&quot;object&quot; select=&quot;$object&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;href.target&quot;&gt;
+  &lt;xsl:param name=&quot;context&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+  &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+    &lt;xsl:with-param name=&quot;object&quot; select=&quot;$object&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;href.target.with.base.dir&quot;&gt;
+  &lt;xsl:param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:if test=&quot;$manifest.in.base.dir = 0&quot;&gt;
+    &lt;xsl:value-of select=&quot;$base.dir&quot;/&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+    &lt;xsl:with-param name=&quot;object&quot; select=&quot;$object&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dingbat&quot;&gt;
+  &lt;xsl:param name=&quot;dingbat&quot;&gt;bullet&lt;/xsl:param&gt;
+  &lt;xsl:call-template name=&quot;dingbat.characters&quot;&gt;
+    &lt;xsl:with-param name=&quot;dingbat&quot; select=&quot;$dingbat&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dingbat.characters&quot;&gt;
+  &lt;!-- now that I'm using the real serializer, all that dingbat malarky --&gt;
+  &lt;!-- isn't necessary anymore... --&gt;
+  &lt;xsl:param name=&quot;dingbat&quot;&gt;bullet&lt;/xsl:param&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$dingbat='bullet'&quot;&gt;&amp;#x2022;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='copyright'&quot;&gt;&amp;#x00A9;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='trademark'&quot;&gt;&amp;#x2122;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='trade'&quot;&gt;&amp;#x2122;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='registered'&quot;&gt;&amp;#x00AE;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='service'&quot;&gt;(SM)&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='nbsp'&quot;&gt;&amp;#x00A0;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='ldquo'&quot;&gt;&amp;#x201C;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='rdquo'&quot;&gt;&amp;#x201D;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='lsquo'&quot;&gt;&amp;#x2018;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='rsquo'&quot;&gt;&amp;#x2019;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='em-dash'&quot;&gt;&amp;#x2014;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='mdash'&quot;&gt;&amp;#x2014;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='en-dash'&quot;&gt;&amp;#x2013;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$dingbat='ndash'&quot;&gt;&amp;#x2013;&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:text&gt;&amp;#x2022;&lt;/xsl:text&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/htmltbl.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/htmltbl.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/htmltbl.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,55 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version=&quot;1.0&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: htmltbl.xsl,v 1.2 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;colgroup&quot; mode=&quot;htmlTable&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;htmlTable&quot;/&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;col&quot; mode=&quot;htmlTable&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;caption&quot; mode=&quot;htmlTable&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+
+    &lt;xsl:apply-templates select=&quot;..&quot; mode=&quot;object.title.markup&quot;&gt;
+      &lt;xsl:with-param name=&quot;allow-anchors&quot; select=&quot;1&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;thead|tbody|tgroup|tr&quot; mode=&quot;htmlTable&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;htmlTable&quot;/&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;th|td&quot; mode=&quot;htmlTable&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates/&gt; &lt;!-- *not* mode=htmlTable --&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/index.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/index.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/index.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,196 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: index.xsl,v 1.14 2004/02/13 21:03:22 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;index&quot;&gt;
+  &lt;!-- some implementations use completely empty index tags to indicate --&gt;
+  &lt;!-- where an automatically generated index should be inserted. so --&gt;
+  &lt;!-- if the index is completely empty, skip it. Unless generate.index --&gt;
+  &lt;!-- is non-zero, in which case, this is where the automatically --&gt;
+  &lt;!-- generated index should go. --&gt;
+
+  &lt;xsl:if test=&quot;count(*)&gt;0 or $generate.index != '0'&quot;&gt;
+    &lt;div class=&quot;{name(.)}&quot;&gt;
+      &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+        &lt;xsl:attribute name=&quot;id&quot;&gt;
+          &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:call-template name=&quot;index.titlepage&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+
+      &lt;xsl:if test=&quot;count(indexentry) = 0 and count(indexdiv) = 0&quot;&gt;
+        &lt;xsl:call-template name=&quot;generate-index&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;(ancestor::book|/)[last()]&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:if test=&quot;not(parent::article)&quot;&gt;
+        &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;setindex&quot;&gt;
+  &lt;!-- some implementations use completely empty index tags to indicate --&gt;
+  &lt;!-- where an automatically generated index should be inserted. so --&gt;
+  &lt;!-- if the index is completely empty, skip it. Unless generate.index --&gt;
+  &lt;!-- is non-zero, in which case, this is where the automatically --&gt;
+  &lt;!-- generated index should go. --&gt;
+
+  &lt;xsl:if test=&quot;count(*)&gt;0 or $generate.index != '0'&quot;&gt;
+    &lt;div class=&quot;{name(.)}&quot;&gt;
+      &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+        &lt;xsl:attribute name=&quot;id&quot;&gt;
+          &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:call-template name=&quot;setindex.titlepage&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+
+      &lt;xsl:if test=&quot;count(indexentry) = 0 and count(indexdiv) = 0&quot;&gt;
+        &lt;xsl:call-template name=&quot;generate-index&quot;&gt;
+          &lt;xsl:with-param name=&quot;scope&quot; select=&quot;/&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:if test=&quot;not(parent::article)&quot;&gt;
+        &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;index/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;index/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;index/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;indexdiv&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;$generate.id.attributes != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;id&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;*[not(self::indexentry)]&quot;/&gt;
+    &lt;dl&gt;
+      &lt;xsl:apply-templates select=&quot;indexentry&quot;/&gt;
+    &lt;/dl&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;indexdiv/title&quot;&gt;
+  &lt;h3 class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/h3&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;indexterm&quot;&gt;
+  &lt;!-- this one must have a name, even if it doesn't have an ID --&gt;
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;a class=&quot;indexterm&quot; name=&quot;{$id}&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;primary|secondary|tertiary|see|seealso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;indexentry&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;primaryie&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;primaryie&quot;&gt;
+  &lt;dt&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/dt&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;following-sibling::secondaryie&quot;&gt;
+      &lt;dd&gt;
+        &lt;dl&gt;
+          &lt;xsl:apply-templates select=&quot;following-sibling::secondaryie&quot;/&gt;
+        &lt;/dl&gt;
+      &lt;/dd&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;following-sibling::seeie
+                    |following-sibling::seealsoie&quot;&gt;
+      &lt;dd&gt;
+        &lt;dl&gt;
+          &lt;xsl:apply-templates select=&quot;following-sibling::seeie
+                                       |following-sibling::seealsoie&quot;/&gt;
+        &lt;/dl&gt;
+      &lt;/dd&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;secondaryie&quot;&gt;
+  &lt;dt&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/dt&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;following-sibling::tertiaryie&quot;&gt;
+      &lt;dd&gt;
+        &lt;dl&gt;
+          &lt;xsl:apply-templates select=&quot;following-sibling::tertiaryie&quot;/&gt;
+        &lt;/dl&gt;
+      &lt;/dd&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;following-sibling::seeie
+                    |following-sibling::seealsoie&quot;&gt;
+      &lt;dd&gt;
+        &lt;dl&gt;
+          &lt;xsl:apply-templates select=&quot;following-sibling::seeie
+                                       |following-sibling::seealsoie&quot;/&gt;
+        &lt;/dl&gt;
+      &lt;/dd&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;tertiaryie&quot;&gt;
+  &lt;dt&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/dt&gt;
+  &lt;xsl:if test=&quot;following-sibling::seeie
+                |following-sibling::seealsoie&quot;&gt;
+    &lt;dd&gt;
+      &lt;dl&gt;
+        &lt;xsl:apply-templates select=&quot;following-sibling::seeie
+                                     |following-sibling::seealsoie&quot;/&gt;
+      &lt;/dl&gt;
+    &lt;/dd&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seeie|seealsoie&quot;&gt;
+  &lt;dt&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/dt&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/info.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/info.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/info.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,53 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: info.xsl,v 1.3 2002/03/14 18:43:36 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- These templates define the &quot;default behavior&quot; for info
+     elements.  Even if you don't process the *info wrappers,
+     some of these elements are needed because the elements are
+     processed from named templates that are called with modes.
+     Since modes aren't sticky, these rules apply. 
+     (TODO: clarify this comment) --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+&lt;!-- called from named templates in a given mode --&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;jobtitle&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orgname&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orgdiv&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/inline.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/inline.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/inline.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1151 @@
+&lt;?xml version='1.0'?&gt;
+&lt;!DOCTYPE xsl:stylesheet [
+  &lt;!ENTITY comment.block.parents &quot;parent::answer|parent::appendix|parent::article|parent::bibliodiv|
+                                  parent::bibliography|parent::blockquote|parent::caution|parent::chapter|
+                                  parent::glossary|parent::glossdiv|parent::important|parent::index|
+                                  parent::indexdiv|parent::listitem|parent::note|parent::orderedlist|
+                                  parent::partintro|parent::preface|parent::procedure|parent::qandadiv|
+                                  parent::qandaset|parent::question|parent::refentry|parent::refnamediv|
+                                  parent::refsect1|parent::refsect2|parent::refsect3|parent::refsection|
+                                  parent::refsynopsisdiv|parent::sect1|parent::sect2|parent::sect3|parent::sect4|
+                                  parent::sect5|parent::section|parent::setindex|parent::sidebar|
+                                  parent::simplesect|parent::taskprerequisites|parent::taskrelated|
+                                  parent::tasksummary|parent::warning&quot;&gt;
+]&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:xlink='<A HREF="http://www.w3.org/1999/xlink">http://www.w3.org/1999/xlink</A>'
+                xmlns:suwl=&quot;<A HREF="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.UnwrapLinks">http://nwalsh.com/xslt/ext/com.nwalsh.saxon.UnwrapLinks</A>&quot;
+                exclude-result-prefixes=&quot;xlink suwl&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: inline.xsl,v 1.40 2004/11/08 10:22:13 xmldoc Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:template name=&quot;simple.xlink&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:variable name=&quot;link&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$node/@xlink:href
+                      and (not($node/@xlink:type) or $node/@xlink:type='simple')&quot;&gt;
+        &lt;a&gt;
+          &lt;xsl:if test=&quot;@xlink.title&quot;&gt;
+            &lt;xsl:attribute name=&quot;title&quot;&gt;
+              &lt;xsl:value-of select=&quot;@xlink:title&quot;/&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:if&gt;
+
+          &lt;xsl:attribute name=&quot;href&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;!-- if the href starts with # and does not contain an &quot;(&quot; --&gt;
+              &lt;!-- or if the href starts with #xpointer(id(, it's just an ID --&gt;
+              &lt;xsl:when test=&quot;starts-with(@xlink:href,'#')
+                              and (not(contains(@xlink:href,'&#40;'))
+                              or starts-with(@xlink:href,'#xpointer&#40;id&#40;'))&quot;&gt;
+                &lt;xsl:variable name=&quot;idref&quot;&gt;
+                  &lt;xsl:call-template name=&quot;xpointer.idref&quot;&gt;
+                    &lt;xsl:with-param name=&quot;xpointer&quot; select=&quot;@xlink:href&quot;/&gt;
+                  &lt;/xsl:call-template&gt;
+                &lt;/xsl:variable&gt;
+
+                &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id',$idref)&quot;/&gt;
+                &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+                &lt;xsl:call-template name=&quot;check.id.unique&quot;&gt;
+                  &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;@linkend&quot;/&gt;
+                &lt;/xsl:call-template&gt;
+
+                &lt;xsl:choose&gt;
+                  &lt;xsl:when test=&quot;count($target) = 0&quot;&gt;
+                    &lt;xsl:message&gt;
+                      &lt;xsl:text&gt;XLink to nonexistent id: &lt;/xsl:text&gt;
+                      &lt;xsl:value-of select=&quot;$idref&quot;/&gt;
+                    &lt;/xsl:message&gt;
+                    &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+                  &lt;/xsl:when&gt;
+                  &lt;xsl:otherwise&gt;
+                    &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                      &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+                    &lt;/xsl:call-template&gt;
+                  &lt;/xsl:otherwise&gt;
+                &lt;/xsl:choose&gt;
+              &lt;/xsl:when&gt;
+
+              &lt;!-- otherwise it's a URI --&gt;
+              &lt;xsl:otherwise&gt;
+                &lt;xsl:value-of select=&quot;@xlink:href&quot;/&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:attribute&gt;
+          &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+        &lt;/a&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('suwl:unwrapLinks')&quot;&gt;
+      &lt;xsl:copy-of select=&quot;suwl:unwrapLinks($link)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$link&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;inline.charseq&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:param&gt;
+  &lt;span class=&quot;{local-name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;@dir&quot;&gt;
+      &lt;xsl:attribute name=&quot;dir&quot;&gt;
+        &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;inline.monoseq&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:param&gt;
+  &lt;code class=&quot;{local-name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;@dir&quot;&gt;
+      &lt;xsl:attribute name=&quot;dir&quot;&gt;
+        &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+  &lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;inline.boldseq&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;span&gt;
+    &lt;xsl:if test=&quot;@dir&quot;&gt;
+      &lt;xsl:attribute name=&quot;dir&quot;&gt;
+        &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;!-- don't put &lt;strong&gt; inside figure, example, or table titles --&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;local-name(..) = 'title'
+                      and (local-name(../..) = 'figure'
+                      or local-name(../..) = 'example'
+                      or local-name(../..) = 'table')&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;strong class=&quot;{local-name(.)}&quot;&gt;
+          &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+        &lt;/strong&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;inline.italicseq&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:param&gt;
+  &lt;em class=&quot;{local-name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;@dir&quot;&gt;
+      &lt;xsl:attribute name=&quot;dir&quot;&gt;
+        &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+  &lt;/em&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;inline.boldmonoseq&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:param&gt;
+  &lt;!-- don't put &lt;strong&gt; inside figure, example, or table titles --&gt;
+  &lt;!-- or other titles that may already be represented with &lt;strong&gt;'s. --&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;local-name(..) = 'title'
+                    and (local-name(../..) = 'figure'
+                         or local-name(../..) = 'example'
+                         or local-name(../..) = 'table'
+                         or local-name(../..) = 'formalpara')&quot;&gt;
+      &lt;code class=&quot;{local-name(.)}&quot;&gt;
+        &lt;xsl:if test=&quot;@dir&quot;&gt;
+          &lt;xsl:attribute name=&quot;dir&quot;&gt;
+            &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/code&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;strong class=&quot;{local-name(.)}&quot;&gt;
+        &lt;code&gt;
+          &lt;xsl:if test=&quot;@dir&quot;&gt;
+            &lt;xsl:attribute name=&quot;dir&quot;&gt;
+              &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:if&gt;
+          &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+        &lt;/code&gt;
+      &lt;/strong&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;inline.italicmonoseq&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:param&gt;
+  &lt;em class=&quot;{local-name(.)}&quot;&gt;
+    &lt;code&gt;
+      &lt;xsl:if test=&quot;@dir&quot;&gt;
+        &lt;xsl:attribute name=&quot;dir&quot;&gt;
+          &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+    &lt;/code&gt;
+  &lt;/em&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;inline.superscriptseq&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:param&gt;
+  &lt;sup&gt;
+    &lt;xsl:if test=&quot;@dir&quot;&gt;
+      &lt;xsl:attribute name=&quot;dir&quot;&gt;
+        &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+  &lt;/sup&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;inline.subscriptseq&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:param&gt;
+  &lt;sub&gt;
+    &lt;xsl:if test=&quot;@dir&quot;&gt;
+      &lt;xsl:attribute name=&quot;dir&quot;&gt;
+        &lt;xsl:value-of select=&quot;@dir&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+  &lt;/sub&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+&lt;!-- some special cases --&gt;
+
+&lt;xsl:template match=&quot;author&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;editor&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorinitials&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;accel&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;action&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;application&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classname&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;exceptionname&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;interfacename&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodname&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;command&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.boldseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;computeroutput&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;constant&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;database&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;errorcode&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;errorname&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;errortype&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;errortext&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;envar&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;filename&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;function&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$function.parens != '0'
+                    and (parameter or function or replaceable)&quot;&gt;
+      &lt;xsl:variable name=&quot;nodes&quot; select=&quot;text()|*&quot;/&gt;
+      &lt;xsl:call-template name=&quot;inline.monoseq&quot;&gt;
+        &lt;xsl:with-param name=&quot;content&quot;&gt;
+          &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+            &lt;xsl:with-param name=&quot;content&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;$nodes[1]&quot;/&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;$nodes[position()&gt;1]&quot;/&gt;
+      &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+     &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;function/parameter&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.italicmonoseq&quot;/&gt;
+  &lt;xsl:if test=&quot;following-sibling::*&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;function/replaceable&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.italicmonoseq&quot;/&gt;
+  &lt;xsl:if test=&quot;following-sibling::*&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;guibutton&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;guiicon&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;guilabel&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;guimenu&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;guimenuitem&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;guisubmenu&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;hardware&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;interface&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;interfacedefinition&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;keycap&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.boldseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;keycode&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;keysym&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;literal&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;code&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;medialabel&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;shortcut&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.boldseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;mousebutton&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;option&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;package&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;parameter&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.italicmonoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;property&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;prompt&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;replaceable&quot; priority=&quot;1&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.italicmonoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;returnvalue&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;structfield&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.italicmonoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;structname&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;symbol&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;systemitem&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;token&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;type&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;userinput&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.boldmonoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abbrev&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;acronym&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;citerefentry&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$citerefentry.link != '0'&quot;&gt;
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;generate.citerefentry.link&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+      &lt;/a&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;generate.citerefentry.link&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;x.generate.citerefentry.link&quot;&gt;
+  &lt;xsl:text&gt;<A HREF="http://example.com/cgi-bin/man.cgi?&lt;/xsl:text">http://example.com/cgi-bin/man.cgi?&lt;/xsl:text</A>&gt;
+  &lt;xsl:value-of select=&quot;refentrytitle&quot;/&gt;
+  &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+  &lt;xsl:value-of select=&quot;manvolnum&quot;/&gt;
+  &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;citetitle&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@pubwork = 'article'&quot;&gt;
+      &lt;xsl:call-template name=&quot;gentext.startquote&quot;/&gt;
+      &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+      &lt;xsl:call-template name=&quot;gentext.endquote&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;emphasis&quot;&gt;
+  &lt;span&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@role and $emphasis.propagates.style != 0&quot;&gt;
+        &lt;xsl:attribute name=&quot;class&quot;&gt;
+          &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:attribute name=&quot;class&quot;&gt;
+          &lt;xsl:text&gt;emphasis&lt;/xsl:text&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@role = 'bold' or @role='strong'&quot;&gt;
+            &lt;!-- backwards compatibility: make bold into b elements, but --&gt;
+            &lt;!-- don't put bold inside figure, example, or table titles --&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;local-name(..) = 'title'
+                              and (local-name(../..) = 'figure'
+                              or local-name(../..) = 'example'
+                              or local-name(../..) = 'table')&quot;&gt;
+                &lt;xsl:apply-templates/&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;
+                &lt;strong&gt;&lt;xsl:apply-templates/&gt;&lt;/strong&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;@role and $emphasis.propagates.style != 0&quot;&gt;
+            &lt;xsl:apply-templates/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;em&gt;&lt;xsl:apply-templates/&gt;&lt;/em&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;foreignphrase&quot;&gt;
+  &lt;span class=&quot;foreignphrase&quot;&gt;
+    &lt;xsl:if test=&quot;@lang or @xml:lang&quot;&gt;
+      &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;markup&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;phrase&quot;&gt;
+  &lt;span&gt;
+    &lt;xsl:if test=&quot;@lang or @xml:lang&quot;&gt;
+      &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@role and $phrase.propagates.style != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;class&quot;&gt;
+        &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simple.xlink&quot;&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;quote&quot;&gt;
+  &lt;xsl:variable name=&quot;depth&quot;&gt;
+    &lt;xsl:call-template name=&quot;dot.count&quot;&gt;
+      &lt;xsl:with-param name=&quot;string&quot;&gt;&lt;xsl:number level=&quot;multiple&quot;/&gt;&lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$depth mod 2 = 0&quot;&gt;
+      &lt;xsl:call-template name=&quot;gentext.startquote&quot;/&gt;
+      &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+      &lt;xsl:call-template name=&quot;gentext.endquote&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;gentext.nestedstartquote&quot;/&gt;
+      &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+      &lt;xsl:call-template name=&quot;gentext.nestedendquote&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varname&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;wordasword&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;lineannotation&quot;&gt;
+  &lt;em class=&quot;{local-name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+  &lt;/em&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;superscript&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.superscriptseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subscript&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.subscriptseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;trademark&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@class = 'copyright'
+                    or @class = 'registered'&quot;&gt;
+      &lt;xsl:call-template name=&quot;dingbat&quot;&gt;
+        &lt;xsl:with-param name=&quot;dingbat&quot; select=&quot;@class&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;@class = 'service'&quot;&gt;
+      &lt;sup&gt;SM&lt;/sup&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;dingbat&quot;&gt;
+        &lt;xsl:with-param name=&quot;dingbat&quot; select=&quot;'trademark'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;firstterm&quot;&gt;
+  &lt;xsl:call-template name=&quot;glossterm&quot;&gt;
+    &lt;xsl:with-param name=&quot;firstterm&quot; select=&quot;1&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossterm&quot; name=&quot;glossterm&quot;&gt;
+  &lt;xsl:param name=&quot;firstterm&quot; select=&quot;0&quot;/&gt;
+
+  &lt;!-- To avoid extra &lt;a name=&quot;&quot;&gt; anchor from inline.italicseq --&gt;
+  &lt;xsl:variable name=&quot;content&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;($firstterm.only.link = 0 or $firstterm = 1) and @linkend&quot;&gt;
+      &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+      &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+      &lt;xsl:call-template name=&quot;check.id.unique&quot;&gt;
+        &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;@linkend&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+
+      &lt;a&gt;
+        &lt;xsl:if test=&quot;@id&quot;&gt;
+          &lt;xsl:attribute name=&quot;name&quot;&gt;
+            &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+
+        &lt;xsl:call-template name=&quot;inline.italicseq&quot;&gt;
+          &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/a&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;not(@linkend)
+                    and ($firstterm.only.link = 0 or $firstterm = 1)
+                    and ($glossterm.auto.link != 0)
+                    and $glossary.collection != ''&quot;&gt;
+      &lt;xsl:variable name=&quot;term&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@baseform&quot;&gt;&lt;xsl:value-of select=&quot;@baseform&quot;/&gt;&lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;&lt;xsl:value-of select=&quot;.&quot;/&gt;&lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;cterm&quot;
+           select=&quot;(document($glossary.collection,.)//glossentry[glossterm=$term])[1]&quot;/&gt;
+
+      &lt;!-- HACK HACK HACK! But it works... --&gt;
+      &lt;!-- You'd need to do more work if you wanted to chunk on glossdiv, though --&gt;
+
+      &lt;xsl:variable name=&quot;glossary&quot; select=&quot;//glossary[@role='auto']&quot;/&gt;
+
+      &lt;xsl:if test=&quot;count($glossary) != 1&quot;&gt;
+        &lt;xsl:message&gt;
+          &lt;xsl:text&gt;Warning: glossary.collection specified, but there are &lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;count($glossary)&quot;/&gt;
+          &lt;xsl:text&gt; automatic glossaries&lt;/xsl:text&gt;
+        &lt;/xsl:message&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:variable name=&quot;glosschunk&quot;&gt;
+        &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;$glossary&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;chunkbase&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;contains($glosschunk, '#')&quot;&gt;
+            &lt;xsl:value-of select=&quot;substring-before($glosschunk, '#')&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$glosschunk&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;not($cterm)&quot;&gt;
+          &lt;xsl:message&gt;
+            &lt;xsl:text&gt;There's no entry for &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$term&quot;/&gt;
+            &lt;xsl:text&gt; in &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$glossary.collection&quot;/&gt;
+          &lt;/xsl:message&gt;
+          &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:variable name=&quot;id&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$cterm/@id&quot;&gt;
+                &lt;xsl:value-of select=&quot;$cterm/@id&quot;/&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;
+                &lt;xsl:value-of select=&quot;generate-id($cterm)&quot;/&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:variable&gt;
+          &lt;a href=&quot;{$chunkbase}#{$id}&quot;&gt;
+            &lt;xsl:call-template name=&quot;inline.italicseq&quot;&gt;
+              &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/a&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;not(@linkend)
+                    and ($firstterm.only.link = 0 or $firstterm = 1)
+                    and $glossterm.auto.link != 0&quot;&gt;
+      &lt;xsl:variable name=&quot;term&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@baseform&quot;&gt;
+            &lt;xsl:value-of select=&quot;normalize-space(@baseform)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;normalize-space(.)&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:variable name=&quot;targets&quot;
+                    select=&quot;//glossentry[normalize-space(glossterm)=$term
+                              or normalize-space(glossterm/@baseform)=$term]&quot;/&gt;
+      &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;count($targets)=0&quot;&gt;
+          &lt;xsl:message&gt;
+            &lt;xsl:text&gt;Error: no glossentry for glossterm: &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;.&quot;/&gt;
+            &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+          &lt;/xsl:message&gt;
+          &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;a&gt;
+            &lt;xsl:if test=&quot;@id&quot;&gt;
+              &lt;xsl:attribute name=&quot;name&quot;&gt;
+                &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:if&gt;
+
+            &lt;xsl:attribute name=&quot;href&quot;&gt;
+              &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+                &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:attribute&gt;
+
+            &lt;xsl:call-template name=&quot;inline.italicseq&quot;&gt;
+              &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/a&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;inline.italicseq&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sgmltag|tag&quot;&gt;
+  &lt;xsl:call-template name=&quot;format.sgmltag&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;format.sgmltag&quot;&gt;
+  &lt;xsl:param name=&quot;class&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@class&quot;&gt;
+        &lt;xsl:value-of select=&quot;@class&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;element&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;code class=&quot;sgmltag-{$class}&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$class='attribute'&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='attvalue'&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='element'&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='endtag'&quot;&gt;
+        &lt;xsl:text&gt;&lt;/&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='genentity'&quot;&gt;
+        &lt;xsl:text&gt;&amp;&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='numcharref'&quot;&gt;
+        &lt;xsl:text&gt;&amp;#&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='paramentity'&quot;&gt;
+        &lt;xsl:text&gt;%&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='pi'&quot;&gt;
+        &lt;xsl:text&gt;&lt;?&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='xmlpi'&quot;&gt;
+        &lt;xsl:text&gt;&lt;?&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;?&gt;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='starttag'&quot;&gt;
+        &lt;xsl:text&gt;&lt;&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='emptytag'&quot;&gt;
+        &lt;xsl:text&gt;&lt;&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;/&gt;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$class='sgmlcomment'&quot;&gt;
+        &lt;xsl:text&gt;&lt;!--&lt;/xsl:text&gt;
+        &lt;xsl:apply-templates/&gt;
+        &lt;xsl:text&gt;--&gt;&lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;email&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:text&gt;&lt;&lt;/xsl:text&gt;
+      &lt;a&gt;
+       &lt;xsl:attribute name=&quot;href&quot;&gt;mailto:&lt;xsl:value-of select=&quot;.&quot;/&gt;&lt;/xsl:attribute&gt;
+       &lt;xsl:apply-templates/&gt;
+      &lt;/a&gt;
+      &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;keycombo&quot;&gt;
+  &lt;xsl:variable name=&quot;action&quot; select=&quot;@action&quot;/&gt;
+  &lt;xsl:variable name=&quot;joinchar&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$action='seq'&quot;&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$action='simul'&quot;&gt;+&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$action='press'&quot;&gt;-&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$action='click'&quot;&gt;-&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$action='double-click'&quot;&gt;-&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$action='other'&quot;&gt;&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;-&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:for-each select=&quot;*&quot;&gt;
+    &lt;xsl:if test=&quot;position()&gt;1&quot;&gt;&lt;xsl:value-of select=&quot;$joinchar&quot;/&gt;&lt;/xsl:if&gt;
+    &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+  &lt;/xsl:for-each&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;uri&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;menuchoice&quot;&gt;
+  &lt;xsl:variable name=&quot;shortcut&quot; select=&quot;./shortcut&quot;/&gt;
+  &lt;xsl:call-template name=&quot;process.menuchoice&quot;/&gt;
+  &lt;xsl:if test=&quot;$shortcut&quot;&gt;
+    &lt;xsl:text&gt; (&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates select=&quot;$shortcut&quot;/&gt;
+    &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.menuchoice&quot;&gt;
+  &lt;xsl:param name=&quot;nodelist&quot; select=&quot;guibutton|guiicon|guilabel|guimenu|guimenuitem|guisubmenu|interface&quot;/&gt;&lt;!-- not(shortcut) --&gt;
+  &lt;xsl:param name=&quot;count&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$count&gt;count($nodelist)&quot;&gt;&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$count=1&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$nodelist[$count=position()]&quot;/&gt;
+      &lt;xsl:call-template name=&quot;process.menuchoice&quot;&gt;
+        &lt;xsl:with-param name=&quot;nodelist&quot; select=&quot;$nodelist&quot;/&gt;
+        &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count+1&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;node&quot; select=&quot;$nodelist[$count=position()]&quot;/&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;name($node)='guimenuitem'
+                        or name($node)='guisubmenu'&quot;&gt;
+          &lt;xsl:value-of select=&quot;$menuchoice.menu.separator&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:value-of select=&quot;$menuchoice.separator&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+      &lt;xsl:apply-templates select=&quot;$node&quot;/&gt;
+      &lt;xsl:call-template name=&quot;process.menuchoice&quot;&gt;
+        &lt;xsl:with-param name=&quot;nodelist&quot; select=&quot;$nodelist&quot;/&gt;
+        &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count+1&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;optional&quot;&gt;
+  &lt;xsl:value-of select=&quot;$arg.choice.opt.open.str&quot;/&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+  &lt;xsl:value-of select=&quot;$arg.choice.opt.close.str&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;citation&quot;&gt;
+  &lt;!-- todo: biblio-citation-check --&gt;
+  &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+  &lt;xsl:text&gt;]&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;comment[&amp;comment.block.parents;]|remark[&amp;comment.block.parents;]&quot;&gt;
+  &lt;xsl:if test=&quot;$show.comments != 0&quot;&gt;
+    &lt;p class=&quot;remark&quot;&gt;&lt;i&gt;&lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;&lt;/i&gt;&lt;/p&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;comment|remark&quot;&gt;
+  &lt;xsl:if test=&quot;$show.comments != 0&quot;&gt;
+    &lt;em&gt;&lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;&lt;/em&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;productname&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+  &lt;xsl:if test=&quot;@class&quot;&gt;
+    &lt;xsl:call-template name=&quot;dingbat&quot;&gt;
+      &lt;xsl:with-param name=&quot;dingbat&quot; select=&quot;@class&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productnumber&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;pob|street|city|state|postcode|country|otheraddr&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;phone|fax&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- in Addresses, for example --&gt;
+&lt;xsl:template match=&quot;honorific|firstname|surname|lineage|othername&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;personname&quot;&gt;
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+  &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;beginpage&quot;&gt;
+  &lt;!-- does nothing; this *is not* markup to force a page break. --&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/keywords.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/keywords.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/keywords.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,35 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: keywords.xsl,v 1.4 2002/03/14 18:43:36 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:template match=&quot;keywordset&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;subjectset&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;keywordset&quot; mode=&quot;html.header&quot;&gt;
+  &lt;meta name=&quot;keywords&quot;&gt;
+    &lt;xsl:attribute name=&quot;content&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;keyword&quot; mode=&quot;html.header&quot;/&gt;
+    &lt;/xsl:attribute&gt;
+  &lt;/meta&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;keyword&quot; mode=&quot;html.header&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;xsl:if test=&quot;following-sibling::keyword&quot;&gt;, &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/lists.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/lists.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/lists.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1087 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: lists.xsl,v 1.46 2004/08/14 08:13:27 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;itemizedlist&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:if test=&quot;title&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;!-- Preserve order of PIs and comments --&gt;
+    &lt;xsl:apply-templates 
+        select=&quot;*[not(self::listitem
+                  or self::title
+                  or self::titleabbrev)]
+                |comment()[not(preceding-sibling::listitem)]
+                |processing-instruction()[not(preceding-sibling::listitem)]&quot;/&gt;
+
+    &lt;ul&gt;
+      &lt;xsl:if test=&quot;$css.decoration != 0&quot;&gt;
+        &lt;xsl:attribute name=&quot;type&quot;&gt;
+          &lt;xsl:call-template name=&quot;list.itemsymbol&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:if test=&quot;@spacing='compact'&quot;&gt;
+        &lt;xsl:attribute name=&quot;compact&quot;&gt;
+          &lt;xsl:value-of select=&quot;@spacing&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:apply-templates 
+            select=&quot;listitem
+                    |comment()[preceding-sibling::listitem]
+                    |processing-instruction()[preceding-sibling::listitem]&quot;/&gt;
+    &lt;/ul&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;itemizedlist/title&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;itemizedlist/listitem&quot;&gt;
+  &lt;xsl:variable name=&quot;mark&quot; select=&quot;../@mark&quot;/&gt;
+  &lt;xsl:variable name=&quot;override&quot; select=&quot;@override&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;usemark&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$override != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$override&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$mark&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;cssmark&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$usemark = 'opencircle'&quot;&gt;circle&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$usemark = 'bullet'&quot;&gt;disc&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$usemark = 'box'&quot;&gt;square&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$usemark&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;li&gt;
+    &lt;xsl:if test=&quot;$css.decoration = '1' and $cssmark != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;style&quot;&gt;
+        &lt;xsl:text&gt;list-style-type: &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$cssmark&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;!-- we can't just drop the anchor in since some browsers (Opera)
+         get confused about line breaks if we do. So if the first child
+         is a para, assume the para will put in the anchor. Otherwise,
+         put the anchor in anyway. --&gt;
+    &lt;xsl:if test=&quot;local-name(child::*[1]) != 'para'&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$show.revisionflag != 0 and @revisionflag&quot;&gt;
+        &lt;div class=&quot;{@revisionflag}&quot;&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/div&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/li&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orderedlist&quot;&gt;
+  &lt;xsl:variable name=&quot;pi-start&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'start'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;start&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@continuation='continues'&quot;&gt;
+        &lt;xsl:call-template name=&quot;orderedlist-starting-number&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$pi-start != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$pi-start&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;numeration&quot;&gt;
+    &lt;xsl:call-template name=&quot;list.numeration&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;type&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$numeration='arabic'&quot;&gt;1&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$numeration='loweralpha'&quot;&gt;a&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$numeration='lowerroman'&quot;&gt;i&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$numeration='upperalpha'&quot;&gt;A&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$numeration='upperroman'&quot;&gt;I&lt;/xsl:when&gt;
+      &lt;!-- What!? This should never happen --&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:message&gt;
+          &lt;xsl:text&gt;Unexpected numeration: &lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$numeration&quot;/&gt;
+        &lt;/xsl:message&gt;
+        &lt;xsl:value-of select=&quot;1&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+    &lt;xsl:if test=&quot;title&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;!-- Preserve order of PIs and comments --&gt;
+    &lt;xsl:apply-templates 
+        select=&quot;*[not(self::listitem
+                  or self::title
+                  or self::titleabbrev)]
+                |comment()[not(preceding-sibling::listitem)]
+                |processing-instruction()[not(preceding-sibling::listitem)]&quot;/&gt;
+
+    &lt;ol&gt;
+      &lt;xsl:if test=&quot;$start != '1'&quot;&gt;
+        &lt;xsl:attribute name=&quot;start&quot;&gt;
+          &lt;xsl:value-of select=&quot;$start&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:if test=&quot;$numeration != ''&quot;&gt;
+        &lt;xsl:attribute name=&quot;type&quot;&gt;
+          &lt;xsl:value-of select=&quot;$type&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:if test=&quot;@spacing='compact'&quot;&gt;
+        &lt;xsl:attribute name=&quot;compact&quot;&gt;
+          &lt;xsl:value-of select=&quot;@spacing&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:apply-templates 
+            select=&quot;listitem
+                    |comment()[preceding-sibling::listitem]
+                    |processing-instruction()[preceding-sibling::listitem]&quot;/&gt;
+    &lt;/ol&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orderedlist/title&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orderedlist/listitem&quot;&gt;
+  &lt;li&gt;
+    &lt;xsl:if test=&quot;@override&quot;&gt;
+      &lt;xsl:attribute name=&quot;value&quot;&gt;
+        &lt;xsl:value-of select=&quot;@override&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;!-- we can't just drop the anchor in since some browsers (Opera)
+         get confused about line breaks if we do. So if the first child
+         is a para, assume the para will put in the anchor. Otherwise,
+         put the anchor in anyway. --&gt;
+    &lt;xsl:if test=&quot;local-name(child::*[1]) != 'para'&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$show.revisionflag != 0 and @revisionflag&quot;&gt;
+        &lt;div class=&quot;{@revisionflag}&quot;&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/div&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/li&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;variablelist&quot;&gt;
+  &lt;xsl:variable name=&quot;pi-presentation&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'list-presentation'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;presentation&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$pi-presentation != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$pi-presentation&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$variablelist.as.table != 0&quot;&gt;
+        &lt;xsl:value-of select=&quot;'table'&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;'list'&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;list-width&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'list-width'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;term-width&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'term-width'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;table-summary&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'table-summary'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:if test=&quot;title&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$presentation = 'table'&quot;&gt;
+        &lt;!-- Preserve order of PIs and comments --&gt;
+        &lt;xsl:apply-templates 
+          select=&quot;*[not(self::varlistentry
+                    or self::title
+                    or self::titleabbrev)]
+                  |comment()[not(preceding-sibling::varlistentry)]
+                  |processing-instruction()[not(preceding-sibling::varlistentry)]&quot;/&gt;
+        &lt;table border=&quot;0&quot;&gt;
+          &lt;xsl:if test=&quot;$list-width != ''&quot;&gt;
+            &lt;xsl:attribute name=&quot;width&quot;&gt;
+              &lt;xsl:value-of select=&quot;$list-width&quot;/&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:if&gt;
+          &lt;xsl:if test=&quot;$table-summary != ''&quot;&gt;
+            &lt;xsl:attribute name=&quot;summary&quot;&gt;
+              &lt;xsl:value-of select=&quot;$table-summary&quot;/&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:if&gt;
+          &lt;col align=&quot;left&quot; valign=&quot;top&quot;&gt;
+            &lt;xsl:if test=&quot;$term-width != ''&quot;&gt;
+              &lt;xsl:attribute name=&quot;width&quot;&gt;
+                &lt;xsl:value-of select=&quot;$term-width&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:if&gt;
+          &lt;/col&gt;
+          &lt;tbody&gt;
+            &lt;xsl:apply-templates mode=&quot;varlist-table&quot;
+              select=&quot;varlistentry
+                      |comment()[preceding-sibling::varlistentry]
+                      |processing-instruction()[preceding-sibling::varlistentry]&quot;/&gt;
+          &lt;/tbody&gt;
+        &lt;/table&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;!-- Preserve order of PIs and comments --&gt;
+        &lt;xsl:apply-templates 
+          select=&quot;*[not(self::varlistentry
+                    or self::title
+                    or self::titleabbrev)]
+                  |comment()[not(preceding-sibling::varlistentry)]
+                  |processing-instruction()[not(preceding-sibling::varlistentry)]&quot;/&gt;
+        &lt;dl&gt;
+          &lt;xsl:apply-templates 
+              select=&quot;varlistentry
+                      |comment()[preceding-sibling::varlistentry]
+                      |processing-instruction()[preceding-sibling::varlistentry]&quot;/&gt;
+        &lt;/dl&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;variablelist/title&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;itemizedlist/titleabbrev|orderedlist/titleabbrev&quot;&gt;
+  &lt;!--nop--&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;variablelist/titleabbrev&quot;&gt;
+  &lt;!--nop--&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;listitem&quot; mode=&quot;xref&quot;&gt;
+  &lt;xsl:number format=&quot;1&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;listitem/simpara&quot; priority=&quot;2&quot;&gt;
+  &lt;!-- If a listitem contains only a single simpara, don't output
+       the &lt;p&gt; wrapper; this has the effect of creating an li
+       with simple text content. --&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not(preceding-sibling::*)
+                    and not (following-sibling::*)&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;p&gt;
+        &lt;xsl:if test=&quot;@role and $para.propagates.style != 0&quot;&gt;
+          &lt;xsl:attribute name=&quot;class&quot;&gt;
+            &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/p&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varlistentry&quot;&gt;
+  &lt;dt&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;term&quot;/&gt;
+  &lt;/dt&gt;
+  &lt;dd&gt;
+    &lt;xsl:apply-templates select=&quot;listitem&quot;/&gt;
+  &lt;/dd&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varlistentry&quot; mode=&quot;varlist-table&quot;&gt;
+  &lt;xsl:variable name=&quot;presentation&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;../processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'term-presentation'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;separator&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;../processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'term-separator'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;tr&gt;
+    &lt;xsl:call-template name=&quot;tr.attributes&quot;&gt;
+      &lt;xsl:with-param name=&quot;rownum&quot;&gt;
+        &lt;xsl:number from=&quot;variablelist&quot; count=&quot;varlistentry&quot;/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+
+    &lt;td&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$presentation = 'bold'&quot;&gt;
+          &lt;b&gt;
+            &lt;xsl:apply-templates select=&quot;term&quot;/&gt;
+            &lt;xsl:value-of select=&quot;$separator&quot;/&gt;
+          &lt;/b&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$presentation = 'italic'&quot;&gt;
+          &lt;i&gt;
+            &lt;xsl:apply-templates select=&quot;term&quot;/&gt;
+            &lt;xsl:value-of select=&quot;$separator&quot;/&gt;
+          &lt;/i&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$presentation = 'bold-italic'&quot;&gt;
+          &lt;b&gt;
+            &lt;i&gt;
+              &lt;xsl:apply-templates select=&quot;term&quot;/&gt;
+              &lt;xsl:value-of select=&quot;$separator&quot;/&gt;
+            &lt;/i&gt;
+          &lt;/b&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates select=&quot;term&quot;/&gt;
+          &lt;xsl:value-of select=&quot;$separator&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/td&gt;
+    &lt;td&gt;
+      &lt;xsl:apply-templates select=&quot;listitem&quot;/&gt;
+    &lt;/td&gt;
+  &lt;/tr&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varlistentry/term&quot;&gt;
+  &lt;span class=&quot;term&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varlistentry/term[position()=last()]&quot; priority=&quot;2&quot;&gt;
+  &lt;span class=&quot;term&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varlistentry/listitem&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$show.revisionflag != 0 and @revisionflag&quot;&gt;
+      &lt;div class=&quot;{@revisionflag}&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;simplelist&quot;&gt;
+  &lt;!-- with no type specified, the default is 'vert' --&gt;
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+  &lt;table class=&quot;simplelist&quot; border=&quot;0&quot; summary=&quot;Simple list&quot;&gt;
+    &lt;xsl:call-template name=&quot;simplelist.vert&quot;&gt;
+      &lt;xsl:with-param name=&quot;cols&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@columns&quot;&gt;
+            &lt;xsl:value-of select=&quot;@columns&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/table&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplelist[@type='inline']&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplelist[@type='horiz']&quot;&gt;
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+  &lt;table class=&quot;simplelist&quot; border=&quot;0&quot; summary=&quot;Simple list&quot;&gt;
+    &lt;xsl:call-template name=&quot;simplelist.horiz&quot;&gt;
+      &lt;xsl:with-param name=&quot;cols&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@columns&quot;&gt;
+            &lt;xsl:value-of select=&quot;@columns&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/table&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplelist[@type='vert']&quot;&gt;
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+  &lt;table class=&quot;simplelist&quot; border=&quot;0&quot; summary=&quot;Simple list&quot;&gt;
+    &lt;xsl:call-template name=&quot;simplelist.vert&quot;&gt;
+      &lt;xsl:with-param name=&quot;cols&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@columns&quot;&gt;
+            &lt;xsl:value-of select=&quot;@columns&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/table&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplelist.horiz&quot;&gt;
+  &lt;xsl:param name=&quot;cols&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;cell&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;members&quot; select=&quot;./member&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$cell &lt;= count($members)&quot;&gt;
+    &lt;tr&gt;
+      &lt;xsl:call-template name=&quot;tr.attributes&quot;&gt;
+        &lt;xsl:with-param name=&quot;row&quot; select=&quot;$members[1]&quot;/&gt;
+        &lt;xsl:with-param name=&quot;rownum&quot; select=&quot;(($cell - 1) div $cols) + 1&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+
+      &lt;xsl:call-template name=&quot;simplelist.horiz.row&quot;&gt;
+        &lt;xsl:with-param name=&quot;cols&quot; select=&quot;$cols&quot;/&gt;
+        &lt;xsl:with-param name=&quot;cell&quot; select=&quot;$cell&quot;/&gt;
+        &lt;xsl:with-param name=&quot;members&quot; select=&quot;$members&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+   &lt;/tr&gt;
+    &lt;xsl:call-template name=&quot;simplelist.horiz&quot;&gt;
+      &lt;xsl:with-param name=&quot;cols&quot; select=&quot;$cols&quot;/&gt;
+      &lt;xsl:with-param name=&quot;cell&quot; select=&quot;$cell + $cols&quot;/&gt;
+      &lt;xsl:with-param name=&quot;members&quot; select=&quot;$members&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplelist.horiz.row&quot;&gt;
+  &lt;xsl:param name=&quot;cols&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;cell&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;members&quot; select=&quot;./member&quot;/&gt;
+  &lt;xsl:param name=&quot;curcol&quot;&gt;1&lt;/xsl:param&gt;
+
+  &lt;xsl:if test=&quot;$curcol &lt;= $cols&quot;&gt;
+    &lt;td&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$members[position()=$cell]&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$members[position()=$cell]&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/td&gt;
+    &lt;xsl:call-template name=&quot;simplelist.horiz.row&quot;&gt;
+      &lt;xsl:with-param name=&quot;cols&quot; select=&quot;$cols&quot;/&gt;
+      &lt;xsl:with-param name=&quot;cell&quot; select=&quot;$cell+1&quot;/&gt;
+      &lt;xsl:with-param name=&quot;members&quot; select=&quot;$members&quot;/&gt;
+      &lt;xsl:with-param name=&quot;curcol&quot; select=&quot;$curcol+1&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplelist.vert&quot;&gt;
+  &lt;xsl:param name=&quot;cols&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;cell&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;members&quot; select=&quot;./member&quot;/&gt;
+  &lt;xsl:param name=&quot;rows&quot;
+             select=&quot;floor((count($members)+$cols - 1) div $cols)&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$cell &lt;= $rows&quot;&gt;
+    &lt;tr&gt;
+      &lt;xsl:call-template name=&quot;tr.attributes&quot;&gt;
+        &lt;xsl:with-param name=&quot;row&quot; select=&quot;$members[1]&quot;/&gt;
+        &lt;xsl:with-param name=&quot;rownum&quot; select=&quot;$cell&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+
+      &lt;xsl:call-template name=&quot;simplelist.vert.row&quot;&gt;
+        &lt;xsl:with-param name=&quot;cols&quot; select=&quot;$cols&quot;/&gt;
+        &lt;xsl:with-param name=&quot;rows&quot; select=&quot;$rows&quot;/&gt;
+        &lt;xsl:with-param name=&quot;cell&quot; select=&quot;$cell&quot;/&gt;
+        &lt;xsl:with-param name=&quot;members&quot; select=&quot;$members&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/tr&gt;
+    &lt;xsl:call-template name=&quot;simplelist.vert&quot;&gt;
+      &lt;xsl:with-param name=&quot;cols&quot; select=&quot;$cols&quot;/&gt;
+      &lt;xsl:with-param name=&quot;cell&quot; select=&quot;$cell+1&quot;/&gt;
+      &lt;xsl:with-param name=&quot;members&quot; select=&quot;$members&quot;/&gt;
+      &lt;xsl:with-param name=&quot;rows&quot; select=&quot;$rows&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplelist.vert.row&quot;&gt;
+  &lt;xsl:param name=&quot;cols&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;rows&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;cell&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;members&quot; select=&quot;./member&quot;/&gt;
+  &lt;xsl:param name=&quot;curcol&quot;&gt;1&lt;/xsl:param&gt;
+
+  &lt;xsl:if test=&quot;$curcol &lt;= $cols&quot;&gt;
+    &lt;td&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$members[position()=$cell]&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$members[position()=$cell]&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/td&gt;
+    &lt;xsl:call-template name=&quot;simplelist.vert.row&quot;&gt;
+      &lt;xsl:with-param name=&quot;cols&quot; select=&quot;$cols&quot;/&gt;
+      &lt;xsl:with-param name=&quot;rows&quot; select=&quot;$rows&quot;/&gt;
+      &lt;xsl:with-param name=&quot;cell&quot; select=&quot;$cell+$rows&quot;/&gt;
+      &lt;xsl:with-param name=&quot;members&quot; select=&quot;$members&quot;/&gt;
+      &lt;xsl:with-param name=&quot;curcol&quot; select=&quot;$curcol+1&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;member&quot;&gt;
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplelist[@type='inline']/member&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplelist[@type='inline']/member[position()=last()]&quot;
+              priority=&quot;2&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;procedure&quot;&gt;
+  &lt;xsl:variable name=&quot;param.placement&quot;
+                select=&quot;substring-after(normalize-space($formal.title.placement),
+                                        concat(local-name(.), ' '))&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;placement&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;contains($param.placement, ' ')&quot;&gt;
+        &lt;xsl:value-of select=&quot;substring-before($param.placement, ' ')&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$param.placement = ''&quot;&gt;before&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$param.placement&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;!-- Preserve order of PIs and comments --&gt;
+  &lt;xsl:variable name=&quot;preamble&quot;
+        select=&quot;*[not(self::step
+                  or self::title
+                  or self::titleabbrev)]
+                |comment()[not(preceding-sibling::step)]
+                |processing-instruction()[not(preceding-sibling::step)]&quot;/&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;conditional&quot;&gt;
+        &lt;xsl:choose&gt;
+	  &lt;xsl:when test=&quot;title&quot;&gt;0&lt;/xsl:when&gt;
+	  &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+	&lt;/xsl:choose&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+
+    &lt;xsl:if test=&quot;title and $placement = 'before'&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;$preamble&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;count(step) = 1&quot;&gt;
+        &lt;ul&gt;
+          &lt;xsl:apply-templates 
+            select=&quot;step
+                    |comment()[preceding-sibling::step]
+                    |processing-instruction()[preceding-sibling::step]&quot;/&gt;
+        &lt;/ul&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;ol&gt;
+          &lt;xsl:attribute name=&quot;type&quot;&gt;
+            &lt;xsl:value-of select=&quot;substring($procedure.step.numeration.formats,1,1)&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+          &lt;xsl:apply-templates 
+            select=&quot;step
+                    |comment()[preceding-sibling::step]
+                    |processing-instruction()[preceding-sibling::step]&quot;/&gt;
+        &lt;/ol&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:if test=&quot;title and $placement != 'before'&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;procedure/title&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;substeps&quot;&gt;
+  &lt;xsl:variable name=&quot;numeration&quot;&gt;
+    &lt;xsl:call-template name=&quot;procedure.step.numeration&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+  &lt;ol type=&quot;{$numeration}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/ol&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;step&quot;&gt;
+  &lt;li&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/li&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;stepalternatives&quot;&gt;
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+  &lt;ul&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/ul&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;step/title&quot;&gt;
+  &lt;p class=&quot;title&quot;&gt;
+    &lt;b&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/b&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;segmentedlist&quot;&gt;
+  &lt;xsl:variable name=&quot;presentation&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'list-presentation'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$presentation = 'table'&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;seglist-table&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$presentation = 'list'&quot;&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$segmentedlist.as.table != 0&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;seglist-table&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;segmentedlist/title&quot;&gt;
+  &lt;div class=&quot;title&quot;&gt;
+    &lt;strong&gt;&lt;span class=&quot;title&quot;&gt;&lt;xsl:apply-templates/&gt;&lt;/span&gt;&lt;/strong&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;segtitle&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;segtitle&quot; mode=&quot;segtitle-in-seg&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seglistitem&quot;&gt;
+  &lt;div class=&quot;seglistitem&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seg&quot;&gt;
+  &lt;xsl:variable name=&quot;segnum&quot; select=&quot;count(preceding-sibling::seg)+1&quot;/&gt;
+  &lt;xsl:variable name=&quot;seglist&quot; select=&quot;ancestor::segmentedlist&quot;/&gt;
+  &lt;xsl:variable name=&quot;segtitles&quot; select=&quot;$seglist/segtitle&quot;/&gt;
+
+  &lt;!--
+     Note: segtitle is only going to be the right thing in a well formed
+     SegmentedList.  If there are too many Segs or too few SegTitles,
+     you'll get something odd...maybe an error
+  --&gt;
+
+  &lt;div class=&quot;seg&quot;&gt;
+    &lt;strong&gt;
+      &lt;span class=&quot;segtitle&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$segtitles[$segnum=position()]&quot;
+                             mode=&quot;segtitle-in-seg&quot;/&gt;
+        &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+      &lt;/span&gt;
+    &lt;/strong&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;segmentedlist&quot; mode=&quot;seglist-table&quot;&gt;
+  &lt;xsl:variable name=&quot;table-summary&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'table-summary'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;list-width&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'list-width'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:apply-templates select=&quot;title&quot;/&gt;
+
+  &lt;table border=&quot;0&quot;&gt;
+    &lt;xsl:if test=&quot;$list-width != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;width&quot;&gt;
+        &lt;xsl:value-of select=&quot;$list-width&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;$table-summary != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;summary&quot;&gt;
+        &lt;xsl:value-of select=&quot;$table-summary&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;thead&gt;
+      &lt;tr class=&quot;segtitle&quot;&gt;
+        &lt;xsl:call-template name=&quot;tr.attributes&quot;&gt;
+          &lt;xsl:with-param name=&quot;row&quot; select=&quot;segtitle[1]&quot;/&gt;
+          &lt;xsl:with-param name=&quot;rownum&quot; select=&quot;1&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+        &lt;xsl:apply-templates select=&quot;segtitle&quot; mode=&quot;seglist-table&quot;/&gt;
+      &lt;/tr&gt;
+    &lt;/thead&gt;
+    &lt;tbody&gt;
+      &lt;xsl:apply-templates select=&quot;seglistitem&quot; mode=&quot;seglist-table&quot;/&gt;
+    &lt;/tbody&gt;
+  &lt;/table&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;segtitle&quot; mode=&quot;seglist-table&quot;&gt;
+  &lt;th&gt;&lt;xsl:apply-templates/&gt;&lt;/th&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seglistitem&quot; mode=&quot;seglist-table&quot;&gt;
+  &lt;xsl:variable name=&quot;seglinum&quot;&gt;
+    &lt;xsl:number from=&quot;segmentedlist&quot; count=&quot;seglistitem&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;tr class=&quot;seglistitem&quot;&gt;
+    &lt;xsl:call-template name=&quot;tr.attributes&quot;&gt;
+      &lt;xsl:with-param name=&quot;rownum&quot; select=&quot;$seglinum + 1&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates mode=&quot;seglist-table&quot;/&gt;
+  &lt;/tr&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seg&quot; mode=&quot;seglist-table&quot;&gt;
+  &lt;td class=&quot;seg&quot;&gt;&lt;xsl:apply-templates/&gt;&lt;/td&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seg[1]&quot; mode=&quot;seglist-table&quot;&gt;
+  &lt;td class=&quot;seg&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::seglistitem&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/td&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;calloutlist&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:if test=&quot;title&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;!-- Preserve order of PIs and comments --&gt;
+    &lt;xsl:apply-templates 
+         select=&quot;*[not(self::callout or self::title or self::titleabbrev)]
+                   |comment()[not(preceding-sibling::callout)]
+		   |processing-instruction()[not(preceding-sibling::callout)]&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$callout.list.table != 0&quot;&gt;
+        &lt;table border=&quot;0&quot; summary=&quot;Callout list&quot;&gt;
+	  &lt;xsl:apply-templates select=&quot;callout
+			        |comment()[preceding-sibling::calllout]
+				|processing-instruction()[preceding-sibling::callout]&quot;/&gt;
+	&lt;/table&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+	&lt;dl compact=&quot;compact&quot;&gt;
+	  &lt;xsl:apply-templates select=&quot;callout
+			        |comment()[preceding-sibling::calllout]
+				|processing-instruction()[preceding-sibling::callout]&quot;/&gt;
+	&lt;/dl&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;calloutlist/title&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;callout&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$callout.list.table != 0&quot;&gt;
+      &lt;tr&gt;
+        &lt;xsl:call-template name=&quot;tr.attributes&quot;&gt;
+          &lt;xsl:with-param name=&quot;rownum&quot;&gt;
+            &lt;xsl:number from=&quot;calloutlist&quot; count=&quot;callout&quot;/&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+
+        &lt;td width=&quot;5%&quot; valign=&quot;top&quot; align=&quot;left&quot;&gt;
+          &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+          &lt;xsl:call-template name=&quot;callout.arearefs&quot;&gt;
+            &lt;xsl:with-param name=&quot;arearefs&quot; select=&quot;@arearefs&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/td&gt;
+        &lt;td valign=&quot;top&quot; align=&quot;left&quot;&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/td&gt;
+      &lt;/tr&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;dt&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+        &lt;xsl:call-template name=&quot;callout.arearefs&quot;&gt;
+          &lt;xsl:with-param name=&quot;arearefs&quot; select=&quot;@arearefs&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/dt&gt;
+      &lt;dd&gt;&lt;xsl:apply-templates/&gt;&lt;/dd&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;callout/simpara&quot; priority=&quot;2&quot;&gt;
+  &lt;!-- If a callout contains only a single simpara, don't output
+       the &lt;p&gt; wrapper; this has the effect of creating an li
+       with simple text content. --&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not(preceding-sibling::*)
+                    and not (following-sibling::*)&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;p&gt;
+        &lt;xsl:if test=&quot;@role and $para.propagates.style != 0&quot;&gt;
+          &lt;xsl:attribute name=&quot;class&quot;&gt;
+            &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/p&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;callout.arearefs&quot;&gt;
+  &lt;xsl:param name=&quot;arearefs&quot;&gt;&lt;/xsl:param&gt;
+  &lt;xsl:if test=&quot;$arearefs!=''&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;substring-before($arearefs,' ')=''&quot;&gt;
+        &lt;xsl:call-template name=&quot;callout.arearef&quot;&gt;
+          &lt;xsl:with-param name=&quot;arearef&quot; select=&quot;$arearefs&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;callout.arearef&quot;&gt;
+          &lt;xsl:with-param name=&quot;arearef&quot;
+                          select=&quot;substring-before($arearefs,' ')&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+    &lt;xsl:call-template name=&quot;callout.arearefs&quot;&gt;
+      &lt;xsl:with-param name=&quot;arearefs&quot;
+                      select=&quot;substring-after($arearefs,' ')&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;callout.arearef&quot;&gt;
+  &lt;xsl:param name=&quot;arearef&quot;&gt;&lt;/xsl:param&gt;
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id',$arearef)&quot;/&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;check.id.unique&quot;&gt;
+    &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;$arearef&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;count($target)=0&quot;&gt;
+      &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($target)='co'&quot;&gt;
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$arearef&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;callout-bug&quot;/&gt;
+      &lt;/a&gt;
+      &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($target)='areaset'&quot;&gt;
+      &lt;xsl:call-template name=&quot;callout-bug&quot;&gt;
+        &lt;xsl:with-param name=&quot;conum&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;conumber&quot;/&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;local-name($target)='area'&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$target/parent::areaset&quot;&gt;
+          &lt;xsl:call-template name=&quot;callout-bug&quot;&gt;
+            &lt;xsl:with-param name=&quot;conum&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;$target/parent::areaset&quot;
+                                   mode=&quot;conumber&quot;/&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;callout-bug&quot;&gt;
+            &lt;xsl:with-param name=&quot;conum&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;conumber&quot;/&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/maketoc.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/maketoc.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/maketoc.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,83 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+		version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;doc&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: maketoc.xsl,v 1.5 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:import href=&quot;docbook.xsl&quot;/&gt;
+&lt;xsl:import href=&quot;chunk.xsl&quot;/&gt;
+
+&lt;xsl:output method=&quot;xml&quot; indent=&quot;no&quot; encoding='utf-8'/&gt;
+
+&lt;xsl:param name=&quot;toc.list.type&quot; select=&quot;'tocentry'&quot;/&gt;
+
+&lt;!-- refentry in autotoc.xsl does not use subtoc, so must
+     handle it explicitly here. --&gt;
+&lt;xsl:template match=&quot;refentry&quot; mode=&quot;toc&quot;&gt;
+  &lt;xsl:param name=&quot;toc-context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;subtoc&quot;&gt;
+    &lt;xsl:with-param name=&quot;toc-context&quot; select=&quot;$toc-context&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+
+&lt;xsl:template name=&quot;subtoc&quot;&gt;
+  &lt;xsl:param name=&quot;nodes&quot; select=&quot;NOT-AN-ELEMENT&quot;/&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chunk-filename&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;$chunk != 0&quot;&gt;
+    &lt;xsl:call-template name=&quot;indent-spaces&quot;/&gt;
+    &lt;tocentry linkend=&quot;{@id}&quot;&gt;
+      &lt;xsl:processing-instruction name=&quot;dbhtml&quot;&gt;
+        &lt;xsl:text&gt;filename=&quot;&lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;
+      &lt;/xsl:processing-instruction&gt;
+      &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates mode=&quot;toc&quot; select=&quot;$nodes&quot;/&gt;
+      &lt;xsl:call-template name=&quot;indent-spaces&quot;/&gt;
+    &lt;/tocentry&gt;
+    &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;indent-spaces&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:text&gt;  &lt;/xsl:text&gt;
+  &lt;xsl:if test=&quot;$node/parent::*&quot;&gt;
+    &lt;xsl:call-template name=&quot;indent-spaces&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node/parent::*&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;/&quot; priority=&quot;-1&quot;&gt;
+  &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;
+  &lt;toc role=&quot;chunk-toc&quot;&gt;
+    &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;toc&quot;/&gt;
+  &lt;/toc&gt;
+  &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/manifest.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/manifest.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/manifest.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,120 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+		version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;doc&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: manifest.xsl,v 1.6 2004/11/17 20:53:00 kosek Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:variable name=&quot;manifest.base.dir&quot;&gt;
+&lt;/xsl:variable&gt;
+
+&lt;xsl:template name=&quot;generate.manifest&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;/&quot;/&gt;
+  &lt;xsl:call-template name=&quot;write.text.chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;filename&quot;&gt;
+      &lt;xsl:if test=&quot;$manifest.in.base.dir != 0&quot;&gt;
+        &lt;xsl:value-of select=&quot;$base.dir&quot;/&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:value-of select=&quot;$manifest&quot;/&gt;
+    &lt;/xsl:with-param&gt;
+    &lt;xsl:with-param name=&quot;method&quot; select=&quot;'text'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;enumerate-files&quot;/&gt;
+    &lt;/xsl:with-param&gt;
+    &lt;xsl:with-param name=&quot;encoding&quot; select=&quot;$chunker.output.encoding&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;set|book|part|preface|chapter|appendix
+                     |article
+                     |reference|refentry
+                     |sect1|sect2|sect3|sect4|sect5
+                     |section
+                     |book/glossary|article/glossary|part/glossary
+                     |book/bibliography|article/bibliography|part/bibliography
+                     |colophon&quot;
+              mode=&quot;enumerate-files&quot;&gt;
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;&lt;xsl:call-template name=&quot;chunk&quot;/&gt;&lt;/xsl:variable&gt;
+  &lt;xsl:if test=&quot;$ischunk='1'&quot;&gt;
+    &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;base.dir&quot;&gt;
+        &lt;xsl:if test=&quot;$manifest.in.base.dir = 0&quot;&gt;
+          &lt;xsl:value-of select=&quot;$base.dir&quot;/&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:with-param&gt;
+      &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+        &lt;xsl:apply-templates mode=&quot;chunk-filename&quot; select=&quot;.&quot;/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:text&gt;&#10;&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:apply-templates select=&quot;*&quot; mode=&quot;enumerate-files&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;book/index|article/index|part/index&quot;
+              mode=&quot;enumerate-files&quot;&gt;
+  &lt;xsl:if test=&quot;$htmlhelp.output != 1&quot;&gt;
+    &lt;xsl:variable name=&quot;ischunk&quot;&gt;&lt;xsl:call-template name=&quot;chunk&quot;/&gt;&lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;$ischunk='1'&quot;&gt;
+      &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+        &lt;xsl:with-param name=&quot;base.dir&quot;&gt;
+          &lt;xsl:if test=&quot;$manifest.in.base.dir = 0&quot;&gt;
+            &lt;xsl:value-of select=&quot;$base.dir&quot;/&gt;
+          &lt;/xsl:if&gt;
+        &lt;/xsl:with-param&gt;
+        &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+          &lt;xsl:apply-templates mode=&quot;chunk-filename&quot; select=&quot;.&quot;/&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:text&gt;&#10;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates select=&quot;*&quot; mode=&quot;enumerate-files&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;enumerate-files&quot;&gt;
+  &lt;xsl:variable name=&quot;id&quot;&gt;&lt;xsl:call-template name=&quot;object.id&quot;/&gt;&lt;/xsl:variable&gt;
+  &lt;xsl:if test=&quot;$generate.legalnotice.link != 0&quot;&gt;
+    &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;base.dir&quot;&gt;
+        &lt;xsl:if test=&quot;$manifest.in.base.dir = 0&quot;&gt;
+          &lt;xsl:value-of select=&quot;$base.dir&quot;/&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:with-param&gt;
+      &lt;xsl:with-param name=&quot;base.name&quot; select=&quot;concat('ln-',$id,$html.ext)&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:text&gt;&#10;&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;mediaobject[imageobject] | inlinemediaobject[imageobject]&quot; mode=&quot;enumerate-files&quot;&gt;
+  &lt;xsl:variable name=&quot;longdesc.uri&quot;&gt;
+    &lt;xsl:call-template name=&quot;longdesc.uri&quot;&gt;
+      &lt;xsl:with-param name=&quot;mediaobject&quot;
+                      select=&quot;.&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;mediaobject&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$html.longdesc != 0 and $mediaobject/textobject[not(phrase)]&quot;&gt;
+    &lt;xsl:call-template name=&quot;longdesc.uri&quot;&gt;
+      &lt;xsl:with-param name=&quot;mediaobject&quot; select=&quot;$mediaobject&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:text&gt;&#10;&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()&quot; mode=&quot;enumerate-files&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/math.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/math.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/math.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,262 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: math.xsl,v 1.9 2002/12/17 00:55:53 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:template match=&quot;inlineequation&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;alt&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- &quot;Support&quot; for MathML --&gt;
+
+&lt;xsl:template match=&quot;mml:*&quot; xmlns:mml=&quot;<A HREF="http://www.w3.org/1998/Math/MathML">http://www.w3.org/1998/Math/MathML</A>&quot;&gt;
+  &lt;xsl:copy&gt;
+    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:copy&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- Support for TeX math in alt --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;collect.tex.math&quot;&gt;
+  &lt;xsl:call-template name=&quot;write.text.chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$tex.math.file&quot;/&gt;
+    &lt;xsl:with-param name=&quot;method&quot; select=&quot;'text'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$tex.math.in.alt = 'plain'&quot;&gt;
+          &lt;xsl:call-template name=&quot;tex.math.plain.head&quot;/&gt;
+          &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;collect.tex.math.plain&quot;/&gt;
+          &lt;xsl:call-template name=&quot;tex.math.plain.tail&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$tex.math.in.alt = 'latex'&quot;&gt;
+          &lt;xsl:call-template name=&quot;tex.math.latex.head&quot;/&gt;
+          &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;collect.tex.math.latex&quot;/&gt;
+          &lt;xsl:call-template name=&quot;tex.math.latex.tail&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:message&gt;
+            Unsupported TeX math notation: 
+            &lt;xsl:value-of select=&quot;$tex.math.in.alt&quot;/&gt;
+          &lt;/xsl:message&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:with-param&gt;
+    &lt;xsl:with-param name=&quot;encoding&quot; select=&quot;$chunker.output.encoding&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- PlainTeX --&gt;
+
+&lt;xsl:template name=&quot;tex.math.plain.head&quot;&gt;
+  &lt;xsl:text&gt;\nopagenumbers &amp;#xA;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;tex.math.plain.tail&quot;&gt;
+  &lt;xsl:text&gt;\bye &amp;#xA;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;inlineequation&quot; mode=&quot;collect.tex.math.plain&quot;&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;graphic&quot;&gt;
+        &lt;xsl:call-template name=&quot;mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;graphic&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;select.mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;olist&quot; select=&quot;inlinemediaobject/*&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;output.delims&quot;&gt;
+    &lt;xsl:call-template name=&quot;tex.math.output.delims&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;tex&quot; select=&quot;alt[@role='tex'] | inlinemediaobject/textobject[@role='tex']&quot;/&gt;
+  &lt;xsl:if test=&quot;$tex&quot;&gt;
+    &lt;xsl:text&gt;\special{dvi2bitmap outputfile &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;xsl:text&gt;} &amp;#xA;&lt;/xsl:text&gt;
+    &lt;xsl:if test=&quot;$output.delims != 0&quot;&gt;
+      &lt;xsl:text&gt;$&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:value-of select=&quot;$tex&quot;/&gt;
+    &lt;xsl:if test=&quot;$output.delims != 0&quot;&gt;
+      &lt;xsl:text&gt;$ &amp;#xA;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;\vfill\eject &amp;#xA;&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;equation|informalequation&quot; mode=&quot;collect.tex.math.plain&quot;&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;graphic&quot;&gt;
+        &lt;xsl:call-template name=&quot;mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;graphic&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;select.mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;olist&quot; select=&quot;mediaobject/*&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;output.delims&quot;&gt;
+    &lt;xsl:call-template name=&quot;tex.math.output.delims&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;tex&quot; select=&quot;alt[@role='tex'] | mediaobject/textobject[@role='tex']&quot;/&gt;
+  &lt;xsl:if test=&quot;$tex&quot;&gt;
+    &lt;xsl:text&gt;\special{dvi2bitmap outputfile &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;xsl:text&gt;} &amp;#xA;&lt;/xsl:text&gt;
+    &lt;xsl:if test=&quot;$output.delims != 0&quot;&gt;
+      &lt;xsl:text&gt;$$&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:value-of select=&quot;$tex&quot;/&gt;
+    &lt;xsl:if test=&quot;$output.delims != 0&quot;&gt;
+      &lt;xsl:text&gt;$$ &amp;#xA;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;\vfill\eject &amp;#xA;&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()&quot; mode=&quot;collect.tex.math.plain&quot;/&gt;
+
+&lt;!-- LaTeX --&gt;
+
+&lt;xsl:template name=&quot;tex.math.latex.head&quot;&gt;
+  &lt;xsl:text&gt;\documentclass{article} &amp;#xA;&lt;/xsl:text&gt;
+  &lt;xsl:text&gt;\pagestyle{empty} &amp;#xA;&lt;/xsl:text&gt;
+  &lt;xsl:text&gt;\begin{document} &amp;#xA;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;tex.math.latex.tail&quot;&gt;
+  &lt;xsl:text&gt;\end{document} &amp;#xA;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;inlineequation&quot; mode=&quot;collect.tex.math.latex&quot;&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;graphic&quot;&gt;
+        &lt;xsl:call-template name=&quot;mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;graphic&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;select.mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;olist&quot; select=&quot;inlinemediaobject/*&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;output.delims&quot;&gt;
+    &lt;xsl:call-template name=&quot;tex.math.output.delims&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;tex&quot; select=&quot;alt[@role='tex'] | inlinemediaobject/textobject[@role='tex']&quot;/&gt;
+  &lt;xsl:if test=&quot;$tex&quot;&gt;
+    &lt;xsl:text&gt;\special{dvi2bitmap outputfile &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;xsl:text&gt;} &amp;#xA;&lt;/xsl:text&gt;
+    &lt;xsl:if test=&quot;$output.delims != 0&quot;&gt;  
+      &lt;xsl:text&gt;$&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:value-of select=&quot;$tex&quot;/&gt;
+    &lt;xsl:if test=&quot;$output.delims != 0&quot;&gt;  
+      &lt;xsl:text&gt;$ &amp;#xA;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;\newpage &amp;#xA;&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;equation|informalequation&quot; mode=&quot;collect.tex.math.latex&quot;&gt;
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;graphic&quot;&gt;
+        &lt;xsl:call-template name=&quot;mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;graphic&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;select.mediaobject.filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;olist&quot; select=&quot;mediaobject/*&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;output.delims&quot;&gt;
+    &lt;xsl:call-template name=&quot;tex.math.output.delims&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;tex&quot; select=&quot;alt[@role='tex'] | mediaobject/textobject[@role='tex']&quot;/&gt;
+  &lt;xsl:if test=&quot;$tex&quot;&gt;
+    &lt;xsl:text&gt;\special{dvi2bitmap outputfile &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;xsl:text&gt;} &amp;#xA;&lt;/xsl:text&gt;
+    &lt;xsl:if test=&quot;$output.delims != 0&quot;&gt;
+      &lt;xsl:text&gt;$$&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:value-of select=&quot;$tex&quot;/&gt;
+    &lt;xsl:if test=&quot;$output.delims != 0&quot;&gt;
+      &lt;xsl:text&gt;$$ &amp;#xA;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;\newpage &amp;#xA;&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()&quot; mode=&quot;collect.tex.math.latex&quot;/&gt;
+
+&lt;!-- Extracting image filename from mediaobject and graphic elements --&gt;
+
+&lt;xsl:template name=&quot;select.mediaobject.filename&quot;&gt;
+  &lt;xsl:param name=&quot;olist&quot;
+             select=&quot;imageobject|imageobjectco
+                     |videoobject|audioobject|textobject&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;mediaobject.index&quot;&gt;
+    &lt;xsl:call-template name=&quot;select.mediaobject.index&quot;&gt;
+      &lt;xsl:with-param name=&quot;olist&quot; select=&quot;$olist&quot;/&gt;
+      &lt;xsl:with-param name=&quot;count&quot; select=&quot;1&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;$mediaobject.index != ''&quot;&gt;
+    &lt;xsl:call-template name=&quot;mediaobject.filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot;
+                      select=&quot;$olist[position() = $mediaobject.index]&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;tex.math.output.delims&quot;&gt;
+  &lt;xsl:variable name=&quot;pi.delims&quot;&gt;
+    &lt;xsl:call-template name=&quot;pi-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot; select=&quot;.//processing-instruction('dbtex')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'delims'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;result&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$pi.delims = 'no'&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$pi.delims = '' and $tex.math.delims = 0&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:value-of select=&quot;$result&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/oldchunker.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/oldchunker.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/oldchunker.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,202 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:saxon=&quot;<A HREF="http://icl.com/saxon">http://icl.com/saxon</A>&quot;
+                xmlns:lxslt=&quot;<A HREF="http://xml.apache.org/xslt">http://xml.apache.org/xslt</A>&quot;
+                xmlns:xalanredirect=&quot;org.apache.xalan.xslt.extensions.Redirect&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+		version=&quot;1.1&quot;
+                exclude-result-prefixes=&quot;doc&quot;
+                extension-element-prefixes=&quot;saxon xalanredirect lxslt&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: oldchunker.xsl,v 1.5 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- This stylesheet works with Saxon and Xalan; for XT use xtchunker.xsl --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:param name=&quot;default.encoding&quot; select=&quot;'ISO-8859-1'&quot; doc:type='string'/&gt;
+
+&lt;doc:param name=&quot;default.encoding&quot; xmlns=&quot;&quot;&gt;
+&lt;refpurpose&gt;Encoding used in generated HTML pages&lt;/refpurpose&gt;
+&lt;refdescription&gt;
+&lt;para&gt;This encoding is used in files generated by chunking stylesheet. Currently
+only Saxon is able to change output encoding.
+&lt;/para&gt;
+&lt;/refdescription&gt;
+&lt;/doc:param&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:param name=&quot;saxon.character.representation&quot; select=&quot;'entity;decimal'&quot; doc:type='string'/&gt;
+
+&lt;doc:param name=&quot;saxon.character.representation&quot; xmlns=&quot;&quot;&gt;
+&lt;refpurpose&gt;Saxon character representation used in generated HTML pages&lt;/refpurpose&gt;
+&lt;refdescription&gt;
+&lt;para&gt;This character representation is used in files generated by chunking stylesheet. If
+you want to suppress entity references for characters with direct representation 
+in default.encoding, set this parameter to value &lt;literal&gt;native&lt;/literal&gt;. 
+&lt;/para&gt;
+&lt;/refdescription&gt;
+&lt;/doc:param&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;make-relative-filename&quot;&gt;
+  &lt;xsl:param name=&quot;base.dir&quot; select=&quot;'./'&quot;/&gt;
+  &lt;xsl:param name=&quot;base.name&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;vendor&quot; select=&quot;system-property('xsl:vendor')&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains($vendor, 'SAXON')&quot;&gt;
+      &lt;!-- Saxon doesn't make the chunks relative --&gt;
+      &lt;xsl:value-of select=&quot;concat($base.dir,$base.name)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;contains($vendor, 'Apache')&quot;&gt;
+      &lt;!-- Xalan doesn't make the chunks relative --&gt;
+      &lt;xsl:value-of select=&quot;concat($base.dir,$base.name)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+        &lt;xsl:text&gt;Chunking isn't supported with &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$vendor&quot;/&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;write.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;filename&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;method&quot; select=&quot;'html'&quot;/&gt;
+  &lt;xsl:param name=&quot;encoding&quot; select=&quot;$default.encoding&quot;/&gt;
+  &lt;xsl:param name=&quot;indent&quot; select=&quot;'no'&quot;/&gt;
+  &lt;xsl:param name=&quot;content&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;Writing &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;xsl:if test=&quot;name(.) != ''&quot;&gt;
+      &lt;xsl:text&gt; for &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+      &lt;xsl:if test=&quot;@id&quot;&gt;
+        &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+        &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:message&gt;
+
+  &lt;xsl:variable name=&quot;vendor&quot; select=&quot;system-property('xsl:vendor')&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains($vendor, 'SAXON 6.2')&quot;&gt;
+      &lt;!-- Saxon 6.2.x uses xsl:document --&gt;
+      &lt;xsl:document href=&quot;{$filename}&quot;
+                    method=&quot;{$method}&quot;
+                    encoding=&quot;{$encoding}&quot;
+                    indent=&quot;{$indent}&quot;
+                    saxon:character-representation=&quot;{$saxon.character.representation}&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/xsl:document&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;contains($vendor, 'SAXON')&quot;&gt;
+      &lt;!-- Saxon uses saxon:output --&gt;
+      &lt;saxon:output file=&quot;{$filename}&quot;
+                    href=&quot;{$filename}&quot;
+                    method=&quot;{$method}&quot;
+                    encoding=&quot;{$encoding}&quot;
+                    indent=&quot;{$indent}&quot;
+                    saxon:character-representation=&quot;{$saxon.character.representation}&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/saxon:output&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;contains($vendor, 'Apache')&quot;&gt;
+      &lt;!-- Xalan uses xalanredirect --&gt;
+      &lt;xalanredirect:write file=&quot;{$filename}&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/xalanredirect:write&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;!-- it doesn't matter since we won't be making chunks... --&gt;
+      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+        &lt;xsl:text&gt;Can't make chunks with &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$vendor&quot;/&gt;
+        &lt;xsl:text&gt;'s processor.&lt;/xsl:text&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;write.chunk.with.doctype&quot;&gt;
+  &lt;xsl:param name=&quot;filename&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;method&quot; select=&quot;'html'&quot;/&gt;
+  &lt;xsl:param name=&quot;encoding&quot; select=&quot;$default.encoding&quot;/&gt;
+  &lt;xsl:param name=&quot;indent&quot; select=&quot;'no'&quot;/&gt;
+  &lt;xsl:param name=&quot;doctype-public&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;doctype-system&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;content&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;Writing &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$filename&quot;/&gt;
+    &lt;xsl:if test=&quot;name(.) != ''&quot;&gt;
+      &lt;xsl:text&gt; for &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:message&gt;
+
+  &lt;xsl:variable name=&quot;vendor&quot; select=&quot;system-property('xsl:vendor')&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains($vendor, 'SAXON 6.2')&quot;&gt;
+      &lt;!-- Saxon 6.2.x uses xsl:document --&gt;
+      &lt;xsl:document href=&quot;{$filename}&quot;
+                    method=&quot;{$method}&quot;
+                    encoding=&quot;{$encoding}&quot;
+                    indent=&quot;{$indent}&quot;
+                    doctype-public=&quot;{$doctype-public}&quot;
+                    doctype-system=&quot;{$doctype-system}&quot;
+                    saxon:character-representation=&quot;{$saxon.character.representation}&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/xsl:document&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;contains($vendor, 'SAXON')&quot;&gt;
+      &lt;!-- Saxon uses saxon:output --&gt;
+      &lt;saxon:output file=&quot;{$filename}&quot;
+                    href=&quot;{$filename}&quot;
+                    method=&quot;{$method}&quot;
+                    encoding=&quot;{$encoding}&quot;
+                    indent=&quot;{$indent}&quot;
+                    doctype-public=&quot;{$doctype-public}&quot;
+                    doctype-system=&quot;{$doctype-system}&quot;
+                    saxon:character-representation=&quot;{$saxon.character.representation}&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/saxon:output&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;contains($vendor, 'Apache')&quot;&gt;
+      &lt;!-- Xalan uses xalanredirect --&gt;
+      &lt;xalanredirect:write file=&quot;{$filename}&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+      &lt;/xalanredirect:write&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;!-- it doesn't matter since we won't be making chunks... --&gt;
+      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+        &lt;xsl:text&gt;Can't make chunks with &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$vendor&quot;/&gt;
+        &lt;xsl:text&gt;'s processor.&lt;/xsl:text&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/onechunk.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/onechunk.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/onechunk.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,37 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+                version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;doc&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: onechunk.xsl,v 1.9 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:import href=&quot;chunk.xsl&quot;/&gt;
+
+&lt;!-- Ok, using the onechunk parameter makes this all work again. --&gt;
+&lt;!-- It does have the disadvantage that it only works for documents that have --&gt;
+&lt;!-- a root element that is considered a chunk by the chunk.xsl stylesheet. --&gt;
+&lt;!-- Ideally, onechunk would let anything be a chunk. But not today. --&gt;
+
+&lt;xsl:param name=&quot;onechunk&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;suppress.navigation&quot;&gt;1&lt;/xsl:param&gt;
+
+&lt;xsl:template name=&quot;href.target.uri&quot;&gt;
+  &lt;xsl:param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+  &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+    &lt;xsl:with-param name=&quot;object&quot; select=&quot;$object&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.ent
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.ent	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.ent	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,269 @@
+&lt;!ENTITY admon.graphics SYSTEM &quot;../params/admon.graphics.xml&quot;&gt;
+&lt;!ENTITY admon.graphics.extension SYSTEM &quot;../params/admon.graphics.extension.xml&quot;&gt;
+&lt;!ENTITY admon.graphics.path SYSTEM &quot;../params/admon.graphics.path.xml&quot;&gt;
+&lt;!ENTITY admon.textlabel SYSTEM &quot;../params/admon.textlabel.xml&quot;&gt;
+&lt;!ENTITY admon.style SYSTEM &quot;../params/admon.style.xml&quot;&gt;
+&lt;!ENTITY annotate.toc SYSTEM &quot;../params/annotate.toc.xml&quot;&gt;
+&lt;!ENTITY appendix.autolabel SYSTEM &quot;../params/appendix.autolabel.xml&quot;&gt;
+&lt;!ENTITY author.othername.in.middle SYSTEM &quot;../params/author.othername.in.middle.xml&quot;&gt;
+&lt;!ENTITY autotoc.label.separator SYSTEM &quot;../params/autotoc.label.separator.xml&quot;&gt;
+&lt;!ENTITY base.dir SYSTEM &quot;../params/base.dir.xml&quot;&gt;
+&lt;!ENTITY biblioentry.item.separator SYSTEM &quot;../params/biblioentry.item.separator.xml&quot;&gt;
+&lt;!ENTITY bibliography.collection SYSTEM &quot;../params/bibliography.collection.xml&quot;&gt;
+&lt;!ENTITY bridgehead.in.toc SYSTEM &quot;../params/bridgehead.in.toc.xml&quot;&gt;
+&lt;!ENTITY callout.defaultcolumn SYSTEM &quot;../params/callout.defaultcolumn.xml&quot;&gt;
+&lt;!ENTITY callout.graphics SYSTEM &quot;../params/callout.graphics.xml&quot;&gt;
+&lt;!ENTITY callout.graphics.extension SYSTEM &quot;../params/callout.graphics.extension.xml&quot;&gt;
+&lt;!ENTITY callout.graphics.number.limit SYSTEM &quot;../params/callout.graphics.number.limit.xml&quot;&gt;
+&lt;!ENTITY callout.graphics.path SYSTEM &quot;../params/callout.graphics.path.xml&quot;&gt;
+&lt;!ENTITY callout.list.table SYSTEM &quot;../params/callout.list.table.xml&quot;&gt;
+&lt;!ENTITY callout.unicode SYSTEM &quot;../params/callout.unicode.xml&quot;&gt;
+&lt;!ENTITY callout.unicode.number.limit SYSTEM &quot;../params/callout.unicode.number.limit.xml&quot;&gt;
+&lt;!ENTITY callout.unicode.start.character SYSTEM &quot;../params/callout.unicode.start.character.xml&quot;&gt;
+&lt;!ENTITY callouts.extension SYSTEM &quot;../params/callouts.extension.xml&quot;&gt;
+&lt;!ENTITY chapter.autolabel SYSTEM &quot;../params/chapter.autolabel.xml&quot;&gt;
+&lt;!ENTITY chunk.first.sections SYSTEM &quot;../params/chunk.first.sections.xml&quot;&gt;
+&lt;!ENTITY chunk.quietly SYSTEM &quot;../params/chunk.quietly.xml&quot;&gt;
+&lt;!ENTITY chunk.section.depth SYSTEM &quot;../params/chunk.section.depth.xml&quot;&gt;
+&lt;!ENTITY chunk.separate.lots SYSTEM &quot;../params/chunk.separate.lots.xml&quot;&gt;
+&lt;!ENTITY chunk.toc SYSTEM &quot;../params/chunk.toc.xml&quot;&gt;
+&lt;!ENTITY chunker.output.cdata-section-elements SYSTEM &quot;../params/chunker.output.cdata-section-elements.xml&quot;&gt;
+&lt;!ENTITY chunker.output.doctype-public SYSTEM &quot;../params/chunker.output.doctype-public.xml&quot;&gt;
+&lt;!ENTITY chunker.output.doctype-system SYSTEM &quot;../params/chunker.output.doctype-system.xml&quot;&gt;
+&lt;!ENTITY chunker.output.encoding SYSTEM &quot;../params/chunker.output.encoding.xml&quot;&gt;
+&lt;!ENTITY chunker.output.indent SYSTEM &quot;../params/chunker.output.indent.xml&quot;&gt;
+&lt;!ENTITY chunker.output.media-type SYSTEM &quot;../params/chunker.output.media-type.xml&quot;&gt;
+&lt;!ENTITY chunker.output.method SYSTEM &quot;../params/chunker.output.method.xml&quot;&gt;
+&lt;!ENTITY chunker.output.omit-xml-declaration SYSTEM &quot;../params/chunker.output.omit-xml-declaration.xml&quot;&gt;
+&lt;!ENTITY chunker.output.standalone SYSTEM &quot;../params/chunker.output.standalone.xml&quot;&gt;
+&lt;!ENTITY citerefentry.link SYSTEM &quot;../params/citerefentry.link.xml&quot;&gt;
+&lt;!ENTITY collect.xref.targets SYSTEM &quot;../params/collect.xref.targets.xml&quot;&gt;
+&lt;!ENTITY css.decoration SYSTEM &quot;../params/css.decoration.xml&quot;&gt;
+&lt;!ENTITY current.docid SYSTEM &quot;../params/current.docid.xml&quot;&gt;
+&lt;!ENTITY default.table.width SYSTEM &quot;../params/default.table.width.xml&quot;&gt;
+&lt;!ENTITY draft.mode SYSTEM &quot;../params/draft.mode.xml&quot;&gt;
+&lt;!ENTITY draft.watermark.image SYSTEM &quot;../params/draft.watermark.image.xml&quot;&gt;
+&lt;!ENTITY ebnf.table.bgcolor SYSTEM &quot;../params/ebnf.table.bgcolor.xml&quot;&gt;
+&lt;!ENTITY ebnf.table.border SYSTEM &quot;../params/ebnf.table.border.xml&quot;&gt;
+&lt;!ENTITY emphasis.propagates.style SYSTEM &quot;../params/emphasis.propagates.style.xml&quot;&gt;
+&lt;!ENTITY firstterm.only.link SYSTEM &quot;../params/firstterm.only.link.xml&quot;&gt;
+&lt;!ENTITY footer.rule SYSTEM &quot;../params/footer.rule.xml&quot;&gt;
+&lt;!ENTITY formal.procedures SYSTEM &quot;../params/formal.procedures.xml&quot;&gt;
+&lt;!ENTITY formal.title.placement SYSTEM &quot;../params/formal.title.placement.xml&quot;&gt;
+&lt;!ENTITY funcsynopsis.decoration SYSTEM &quot;../params/funcsynopsis.decoration.xml&quot;&gt;
+&lt;!ENTITY funcsynopsis.style SYSTEM &quot;../params/funcsynopsis.style.xml&quot;&gt;
+&lt;!ENTITY function.parens SYSTEM &quot;../params/function.parens.xml&quot;&gt;
+&lt;!ENTITY generate.id.attributes SYSTEM &quot;../params/generate.id.attributes.xml&quot;&gt;
+&lt;!ENTITY generate.index SYSTEM &quot;../params/generate.index.xml&quot;&gt;
+&lt;!ENTITY generate.legalnotice.link SYSTEM &quot;../params/generate.legalnotice.link.xml&quot;&gt;
+&lt;!ENTITY generate.manifest SYSTEM &quot;../params/generate.manifest.xml&quot;&gt;
+&lt;!ENTITY generate.meta.abstract SYSTEM &quot;../params/generate.meta.abstract.xml&quot;&gt;
+&lt;!ENTITY generate.section.toc.level SYSTEM &quot;../params/generate.section.toc.level.xml&quot;&gt;
+&lt;!ENTITY generate.toc SYSTEM &quot;../params/generate.toc.xml&quot;&gt;
+&lt;!ENTITY glossary.collection SYSTEM &quot;../params/glossary.collection.xml&quot;&gt;
+&lt;!ENTITY glossterm.auto.link SYSTEM &quot;../params/glossterm.auto.link.xml&quot;&gt;
+&lt;!ENTITY graphic.default.extension SYSTEM &quot;../params/graphic.default.extension.xml&quot;&gt;
+&lt;!ENTITY header.rule SYSTEM &quot;../params/header.rule.xml&quot;&gt;
+&lt;!ENTITY html.base SYSTEM &quot;../params/html.base.xml&quot;&gt;
+&lt;!ENTITY html.cleanup SYSTEM &quot;../params/html.cleanup.xml&quot;&gt;
+&lt;!ENTITY html.ext SYSTEM &quot;../params/html.ext.xml&quot;&gt;
+&lt;!ENTITY html.extra.head.links SYSTEM &quot;../params/html.extra.head.links.xml&quot;&gt;
+&lt;!ENTITY html.longdesc SYSTEM &quot;../params/html.longdesc.xml&quot;&gt;
+&lt;!ENTITY html.longdesc.link SYSTEM &quot;../params/html.longdesc.link.xml&quot;&gt;
+&lt;!ENTITY html.stylesheet SYSTEM &quot;../params/html.stylesheet.xml&quot;&gt;
+&lt;!ENTITY html.stylesheet.type SYSTEM &quot;../params/html.stylesheet.type.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.alias.file SYSTEM &quot;../params/htmlhelp.alias.file.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.autolabel SYSTEM &quot;../params/htmlhelp.autolabel.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.back SYSTEM &quot;../params/htmlhelp.button.back.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.forward SYSTEM &quot;../params/htmlhelp.button.forward.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.hideshow SYSTEM &quot;../params/htmlhelp.button.hideshow.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.home SYSTEM &quot;../params/htmlhelp.button.home.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.home.url SYSTEM &quot;../params/htmlhelp.button.home.url.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.jump1 SYSTEM &quot;../params/htmlhelp.button.jump1.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.jump1.title SYSTEM &quot;../params/htmlhelp.button.jump1.title.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.jump1.url SYSTEM &quot;../params/htmlhelp.button.jump1.url.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.jump2 SYSTEM &quot;../params/htmlhelp.button.jump2.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.jump2.title SYSTEM &quot;../params/htmlhelp.button.jump2.title.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.jump2.url SYSTEM &quot;../params/htmlhelp.button.jump2.url.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.locate SYSTEM &quot;../params/htmlhelp.button.locate.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.next SYSTEM &quot;../params/htmlhelp.button.next.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.options SYSTEM &quot;../params/htmlhelp.button.options.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.prev SYSTEM &quot;../params/htmlhelp.button.prev.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.print SYSTEM &quot;../params/htmlhelp.button.print.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.refresh SYSTEM &quot;../params/htmlhelp.button.refresh.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.stop SYSTEM &quot;../params/htmlhelp.button.stop.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.button.zoom SYSTEM &quot;../params/htmlhelp.button.zoom.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.chm SYSTEM &quot;../params/htmlhelp.chm.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.default.topic SYSTEM &quot;../params/htmlhelp.default.topic.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.display.progress SYSTEM &quot;../params/htmlhelp.display.progress.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.encoding SYSTEM &quot;../params/htmlhelp.encoding.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.enhanced.decompilation SYSTEM &quot;../params/htmlhelp.enhanced.decompilation.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.enumerate.images SYSTEM &quot;../params/htmlhelp.enumerate.images.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.force.map.and.alias SYSTEM &quot;../params/htmlhelp.force.map.and.alias.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhc SYSTEM &quot;../params/htmlhelp.hhc.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhc.binary SYSTEM &quot;../params/htmlhelp.hhc.binary.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhc.folders.instead.books SYSTEM &quot;../params/htmlhelp.hhc.folders.instead.books.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhc.section.depth SYSTEM &quot;../params/htmlhelp.hhc.section.depth.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhc.show.root SYSTEM &quot;../params/htmlhelp.hhc.show.root.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhc.width SYSTEM &quot;../params/htmlhelp.hhc.width.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhp.windows SYSTEM &quot;../params/htmlhelp.hhp.windows.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhk SYSTEM &quot;../params/htmlhelp.hhk.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhp SYSTEM &quot;../params/htmlhelp.hhp.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhp.tail SYSTEM &quot;../params/htmlhelp.hhp.tail.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.hhp.window SYSTEM &quot;../params/htmlhelp.hhp.window.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.map.file SYSTEM &quot;../params/htmlhelp.map.file.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.only SYSTEM &quot;../params/htmlhelp.only.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.remember.window.position SYSTEM &quot;../params/htmlhelp.remember.window.position.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.show.advanced.search SYSTEM &quot;../params/htmlhelp.show.advanced.search.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.show.favorities SYSTEM &quot;../params/htmlhelp.show.favorities.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.show.menu SYSTEM &quot;../params/htmlhelp.show.menu.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.show.toolbar.text SYSTEM &quot;../params/htmlhelp.show.toolbar.text.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.title SYSTEM &quot;../params/htmlhelp.title.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.use.hhk SYSTEM &quot;../params/htmlhelp.use.hhk.xml&quot;&gt;
+&lt;!ENTITY htmlhelp.window.geometry SYSTEM &quot;../params/htmlhelp.window.geometry.xml&quot;&gt;
+&lt;!ENTITY img.src.path SYSTEM &quot;../params/img.src.path.xml&quot;&gt;
+&lt;!ENTITY index.on.role SYSTEM &quot;../params/index.on.role.xml&quot;&gt;
+&lt;!ENTITY index.prefer.titleabbrev SYSTEM &quot;../params/index.prefer.titleabbrev.xml&quot;&gt;
+&lt;!ENTITY index.on.type SYSTEM &quot;../params/index.on.type.xml&quot;&gt;
+&lt;!ENTITY inherit.keywords SYSTEM &quot;../params/inherit.keywords.xml&quot;&gt;
+&lt;!ENTITY label.from.part SYSTEM &quot;../params/label.from.part.xml&quot;&gt;
+&lt;!ENTITY linenumbering.everyNth SYSTEM &quot;../params/linenumbering.everyNth.xml&quot;&gt;
+&lt;!ENTITY linenumbering.extension SYSTEM &quot;../params/linenumbering.extension.xml&quot;&gt;
+&lt;!ENTITY linenumbering.separator SYSTEM &quot;../params/linenumbering.separator.xml&quot;&gt;
+&lt;!ENTITY linenumbering.width SYSTEM &quot;../params/linenumbering.width.xml&quot;&gt;
+&lt;!ENTITY link.mailto.url SYSTEM &quot;../params/link.mailto.url.xml&quot;&gt;
+&lt;!ENTITY make.graphic.viewport SYSTEM &quot;../params/make.graphic.viewport.xml&quot;&gt;
+&lt;!ENTITY make.single.year.ranges SYSTEM &quot;../params/make.single.year.ranges.xml&quot;&gt;
+&lt;!ENTITY make.valid.html SYSTEM &quot;../params/make.valid.html.xml&quot;&gt;
+&lt;!ENTITY make.year.ranges SYSTEM &quot;../params/make.year.ranges.xml&quot;&gt;
+&lt;!ENTITY manifest SYSTEM &quot;../params/manifest.xml&quot;&gt;
+&lt;!ENTITY manifest.in.base.dir SYSTEM &quot;../params/manifest.in.base.dir.xml&quot;&gt;
+&lt;!ENTITY manual.toc SYSTEM &quot;../params/manual.toc.xml&quot;&gt;
+&lt;!ENTITY navig.graphics SYSTEM &quot;../params/navig.graphics.xml&quot;&gt;
+&lt;!ENTITY navig.graphics.extension SYSTEM &quot;../params/navig.graphics.extension.xml&quot;&gt;
+&lt;!ENTITY navig.graphics.path SYSTEM &quot;../params/navig.graphics.path.xml&quot;&gt;
+&lt;!ENTITY navig.showtitles SYSTEM &quot;../params/navig.showtitles.xml&quot;&gt;
+&lt;!ENTITY nominal.image.depth SYSTEM &quot;../params/nominal.image.depth.xml&quot;&gt;
+&lt;!ENTITY nominal.image.width SYSTEM &quot;../params/nominal.image.width.xml&quot;&gt;
+&lt;!ENTITY nominal.table.width SYSTEM &quot;../params/nominal.table.width.xml&quot;&gt;
+&lt;!ENTITY olink.base.uri SYSTEM &quot;../params/olink.base.uri.xml&quot;&gt;
+&lt;!ENTITY olink.doctitle SYSTEM &quot;../params/olink.doctitle.xml&quot;&gt;
+&lt;!ENTITY olink.properties SYSTEM &quot;../params/olink.properties.xml&quot;&gt;
+&lt;!ENTITY olink.debug SYSTEM &quot;../params/olink.debug.xml&quot;&gt;
+&lt;!ENTITY prefer.internal.olink SYSTEM &quot;../params/prefer.internal.olink.xml&quot;&gt;
+&lt;!ENTITY insert.olink.page.number SYSTEM &quot;../params/insert.olink.page.number.xml&quot;&gt;
+&lt;!ENTITY insert.olink.pdf.frag SYSTEM &quot;../params/insert.olink.pdf.frag.xml&quot;&gt;
+&lt;!ENTITY olink.lang.fallback.sequence SYSTEM &quot;../params/olink.lang.fallback.sequence.xml&quot;&gt;
+&lt;!ENTITY olink.fragid SYSTEM &quot;../params/olink.fragid.xml&quot;&gt;
+&lt;!ENTITY olink.outline.ext SYSTEM &quot;../params/olink.outline.ext.xml&quot;&gt;
+&lt;!ENTITY olink.pubid SYSTEM &quot;../params/olink.pubid.xml&quot;&gt;
+&lt;!ENTITY olink.resolver SYSTEM &quot;../params/olink.resolver.xml&quot;&gt;
+&lt;!ENTITY olink.sysid SYSTEM &quot;../params/olink.sysid.xml&quot;&gt;
+&lt;!ENTITY part.autolabel SYSTEM &quot;../params/part.autolabel.xml&quot;&gt;
+&lt;!ENTITY phrase.propagates.style SYSTEM &quot;../params/phrase.propagates.style.xml&quot;&gt;
+&lt;!ENTITY pixels.per.inch SYSTEM &quot;../params/pixels.per.inch.xml&quot;&gt;
+&lt;!ENTITY points.per.em SYSTEM &quot;../params/points.per.em.xml&quot;&gt;
+&lt;!ENTITY preface.autolabel SYSTEM &quot;../params/preface.autolabel.xml&quot;&gt;
+&lt;!ENTITY preferred.mediaobject.role SYSTEM &quot;../params/preferred.mediaobject.role.xml&quot;&gt;
+&lt;!ENTITY process.empty.source.toc SYSTEM &quot;../params/process.empty.source.toc.xml&quot;&gt;
+&lt;!ENTITY process.source.toc SYSTEM &quot;../params/process.source.toc.xml&quot;&gt;
+&lt;!ENTITY profile.arch SYSTEM &quot;../params/profile.arch.xml&quot;&gt;
+&lt;!ENTITY profile.attribute SYSTEM &quot;../params/profile.attribute.xml&quot;&gt;
+&lt;!ENTITY profile.condition SYSTEM &quot;../params/profile.condition.xml&quot;&gt;
+&lt;!ENTITY profile.conformance SYSTEM &quot;../params/profile.conformance.xml&quot;&gt;
+&lt;!ENTITY profile.lang SYSTEM &quot;../params/profile.lang.xml&quot;&gt;
+&lt;!ENTITY profile.os SYSTEM &quot;../params/profile.os.xml&quot;&gt;
+&lt;!ENTITY profile.revision SYSTEM &quot;../params/profile.revision.xml&quot;&gt;
+&lt;!ENTITY profile.revisionflag SYSTEM &quot;../params/profile.revisionflag.xml&quot;&gt;
+&lt;!ENTITY profile.role SYSTEM &quot;../params/profile.role.xml&quot;&gt;
+&lt;!ENTITY profile.security SYSTEM &quot;../params/profile.security.xml&quot;&gt;
+&lt;!ENTITY profile.separator SYSTEM &quot;../params/profile.separator.xml&quot;&gt;
+&lt;!ENTITY profile.userlevel SYSTEM &quot;../params/profile.userlevel.xml&quot;&gt;
+&lt;!ENTITY profile.value SYSTEM &quot;../params/profile.value.xml&quot;&gt;
+&lt;!ENTITY profile.vendor SYSTEM &quot;../params/profile.vendor.xml&quot;&gt;
+&lt;!ENTITY punct.honorific SYSTEM &quot;../params/punct.honorific.xml&quot;&gt;
+&lt;!ENTITY qanda.defaultlabel SYSTEM &quot;../params/qanda.defaultlabel.xml&quot;&gt;
+&lt;!ENTITY qanda.inherit.numeration SYSTEM &quot;../params/qanda.inherit.numeration.xml&quot;&gt;
+&lt;!ENTITY qandadiv.autolabel SYSTEM &quot;../params/qandadiv.autolabel.xml&quot;&gt;
+&lt;!ENTITY refentry.generate.name SYSTEM &quot;../params/refentry.generate.name.xml&quot;&gt;
+&lt;!ENTITY refentry.generate.title SYSTEM &quot;../params/refentry.generate.title.xml&quot;&gt;
+&lt;!ENTITY refentry.separator SYSTEM &quot;../params/refentry.separator.xml&quot;&gt;
+&lt;!ENTITY refentry.xref.manvolnum SYSTEM &quot;../params/refentry.xref.manvolnum.xml&quot;&gt;
+&lt;!ENTITY root.filename SYSTEM &quot;../params/root.filename.xml&quot;&gt;
+&lt;!ENTITY rootid SYSTEM &quot;../params/rootid.xml&quot;&gt;
+&lt;!ENTITY runinhead.default.title.end.punct SYSTEM &quot;../params/runinhead.default.title.end.punct.xml&quot;&gt;
+&lt;!ENTITY runinhead.title.end.punct SYSTEM &quot;../params/runinhead.title.end.punct.xml&quot;&gt;
+&lt;!ENTITY saxon.character.representation SYSTEM &quot;../params/saxon.character.representation.xml&quot;&gt;
+&lt;!ENTITY section.autolabel SYSTEM &quot;../params/section.autolabel.xml&quot;&gt;
+&lt;!ENTITY section.autolabel.max.depth SYSTEM &quot;../params/section.autolabel.max.depth.xml&quot;&gt;
+&lt;!ENTITY section.label.includes.component.label SYSTEM &quot;../params/section.label.includes.component.label.xml&quot;&gt;
+&lt;!ENTITY segmentedlist.as.table SYSTEM &quot;../params/segmentedlist.as.table.xml&quot;&gt;
+&lt;!ENTITY shade.verbatim SYSTEM &quot;../params/shade.verbatim.xml&quot;&gt;
+&lt;!ENTITY shade.verbatim.style SYSTEM &quot;../params/shade.verbatim.style.xml&quot;&gt;
+&lt;!ENTITY show.comments SYSTEM &quot;../params/show.comments.xml&quot;&gt;
+&lt;!ENTITY show.revisionflag SYSTEM &quot;../params/show.revisionflag.xml&quot;&gt;
+&lt;!ENTITY spacing.paras SYSTEM &quot;../params/spacing.paras.xml&quot;&gt;
+&lt;!ENTITY suppress.footer.navigation SYSTEM &quot;../params/suppress.footer.navigation.xml&quot;&gt;
+&lt;!ENTITY suppress.header.navigation SYSTEM &quot;../params/suppress.header.navigation.xml&quot;&gt;
+&lt;!ENTITY suppress.navigation SYSTEM &quot;../params/suppress.navigation.xml&quot;&gt;
+&lt;!ENTITY table.borders.with.css SYSTEM &quot;../params/table.borders.with.css.xml&quot;&gt;
+&lt;!ENTITY tablecolumns.extension SYSTEM &quot;../params/tablecolumns.extension.xml&quot;&gt;
+&lt;!ENTITY targets.filename SYSTEM &quot;../params/targets.filename.xml&quot;&gt;
+&lt;!ENTITY target.database.document SYSTEM &quot;../params/target.database.document.xml&quot;&gt;
+&lt;!ENTITY tex.math.delims SYSTEM &quot;../params/tex.math.delims.xml&quot;&gt;
+&lt;!ENTITY tex.math.file SYSTEM &quot;../params/tex.math.file.xml&quot;&gt;
+&lt;!ENTITY tex.math.in.alt SYSTEM &quot;../params/tex.math.in.alt.xml&quot;&gt;
+&lt;!ENTITY textinsert.extension SYSTEM &quot;../params/textinsert.extension.xml&quot;&gt;
+&lt;!ENTITY toc.list.type SYSTEM &quot;../params/toc.list.type.xml&quot;&gt;
+&lt;!ENTITY toc.section.depth SYSTEM &quot;../params/toc.section.depth.xml&quot;&gt;
+&lt;!ENTITY toc.max.depth SYSTEM &quot;../params/toc.max.depth.xml&quot;&gt;
+&lt;!ENTITY ulink.target SYSTEM &quot;../params/ulink.target.xml&quot;&gt;
+&lt;!ENTITY use.embed.for.svg SYSTEM &quot;../params/use.embed.for.svg.xml&quot;&gt;
+&lt;!ENTITY use.extensions SYSTEM &quot;../params/use.extensions.xml&quot;&gt;
+&lt;!ENTITY use.id.as.filename SYSTEM &quot;../params/use.id.as.filename.xml&quot;&gt;
+&lt;!ENTITY use.local.olink.style SYSTEM &quot;../params/use.local.olink.style.xml&quot;&gt;
+&lt;!ENTITY use.role.as.xrefstyle SYSTEM &quot;../params/use.role.as.xrefstyle.xml&quot;&gt;
+&lt;!ENTITY use.role.for.mediaobject SYSTEM &quot;../params/use.role.for.mediaobject.xml&quot;&gt;
+&lt;!ENTITY use.svg SYSTEM &quot;../params/use.svg.xml&quot;&gt;
+&lt;!ENTITY variablelist.as.table SYSTEM &quot;../params/variablelist.as.table.xml&quot;&gt;
+&lt;!ENTITY para.propagates.style SYSTEM &quot;../params/para.propagates.style.xml&quot;&gt;
+&lt;!ENTITY html.cellpadding SYSTEM &quot;../params/html.cellpadding.xml&quot;&gt;
+&lt;!ENTITY html.cellspacing SYSTEM &quot;../params/html.cellspacing.xml&quot;&gt;
+&lt;!ENTITY menuchoice.separator SYSTEM &quot;../params/menuchoice.separator.xml&quot;&gt;
+&lt;!ENTITY menuchoice.menu.separator SYSTEM &quot;../params/menuchoice.menu.separator.xml&quot;&gt;
+&lt;!ENTITY bibliography.numbered SYSTEM &quot;../params/bibliography.numbered.xml&quot;&gt;
+&lt;!ENTITY chunk.tocs.and.lots SYSTEM &quot;../params/chunk.tocs.and.lots.xml&quot;&gt;
+&lt;!ENTITY graphicsize.extension SYSTEM &quot;../params/graphicsize.extension.xml&quot;&gt;
+&lt;!ENTITY l10n.gentext.language SYSTEM &quot;../params/l10n.gentext.language.xml&quot;&gt;
+&lt;!ENTITY l10n.gentext.default.language SYSTEM &quot;../params/l10n.gentext.default.language.xml&quot;&gt;
+&lt;!ENTITY l10n.gentext.use.xref.language SYSTEM &quot;../params/l10n.gentext.use.xref.language.xml&quot;&gt;
+&lt;!ENTITY default.image.width SYSTEM &quot;../params/default.image.width.xml&quot;&gt;
+&lt;!ENTITY default.float.class SYSTEM &quot;../params/default.float.class.xml&quot;&gt;
+&lt;!ENTITY funcsynopsis.tabular.threshold SYSTEM &quot;../params/funcsynopsis.tabular.threshold.xml&quot;&gt;
+&lt;!ENTITY table.cell.border.color SYSTEM &quot;../params/table.cell.border.color.xml&quot;&gt;
+&lt;!ENTITY table.cell.border.style SYSTEM &quot;../params/table.cell.border.style.xml&quot;&gt;
+&lt;!ENTITY table.cell.border.thickness SYSTEM &quot;../params/table.cell.border.thickness.xml&quot;&gt;
+&lt;!ENTITY table.frame.border.color SYSTEM &quot;../params/table.frame.border.color.xml&quot;&gt;
+&lt;!ENTITY table.frame.border.style SYSTEM &quot;../params/table.frame.border.style.xml&quot;&gt;
+&lt;!ENTITY table.frame.border.thickness SYSTEM &quot;../params/table.frame.border.thickness.xml&quot;&gt;
+&lt;!ENTITY textdata.default.encoding SYSTEM &quot;../params/textdata.default.encoding.xml&quot;&gt;
+&lt;!ENTITY ignore.image.scaling SYSTEM &quot;../params/ignore.image.scaling.xml&quot;&gt;
+&lt;!ENTITY footnote.number.format SYSTEM &quot;../params/footnote.number.format.xml&quot;&gt;
+&lt;!ENTITY table.footnote.number.format SYSTEM &quot;../params/table.footnote.number.format.xml&quot;&gt;
+&lt;!ENTITY footnote.number.symbols SYSTEM &quot;../params/footnote.number.symbols.xml&quot;&gt;
+&lt;!ENTITY table.footnote.number.symbols SYSTEM &quot;../params/table.footnote.number.symbols.xml&quot;&gt;
+&lt;!ENTITY entry.propagates.style SYSTEM &quot;../params/entry.propagates.style.xml&quot;&gt;
+&lt;!ENTITY glossentry.show.acronym SYSTEM &quot;../params/glossentry.show.acronym.xml&quot;&gt;
+&lt;!ENTITY xref.with.number.and.title SYSTEM &quot;../params/xref.with.number.and.title.xml&quot;&gt;
+&lt;!ENTITY xref.label-title.separator SYSTEM &quot;../params/xref.label-title.separator.xml&quot;&gt;
+&lt;!ENTITY xref.label-page.separator SYSTEM &quot;../params/xref.label-page.separator.xml&quot;&gt;
+&lt;!ENTITY xref.title-page.separator SYSTEM &quot;../params/xref.title-page.separator.xml&quot;&gt;
+&lt;!ENTITY ebnf.assignment SYSTEM &quot;../params/ebnf.assignment.xml&quot;&gt;
+&lt;!ENTITY ebnf.statement.terminator SYSTEM &quot;../params/ebnf.statement.terminator.xml&quot;&gt;
+&lt;!ENTITY eclipse.autolabel SYSTEM &quot;../params/eclipse.autolabel.xml&quot;&gt;
+&lt;!ENTITY eclipse.plugin.name SYSTEM &quot;../params/eclipse.plugin.name.xml&quot;&gt;
+&lt;!ENTITY eclipse.plugin.id SYSTEM &quot;../params/eclipse.plugin.id.xml&quot;&gt;
+&lt;!ENTITY eclipse.plugin.provider SYSTEM &quot;../params/eclipse.plugin.provider.xml&quot;&gt;
+&lt;!ENTITY insert.xref.page.number SYSTEM &quot;../params/insert.xref.page.number.xml&quot;&gt;
+&lt;!ENTITY component.label.includes.part.label SYSTEM &quot;../params/component.label.includes.part.label.xml&quot;&gt;
+&lt;!ENTITY simplesect.in.toc SYSTEM &quot;../params/simplesect.in.toc.xml&quot;&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xml
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xml	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xml	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,8296 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;!DOCTYPE book
+  PUBLIC &quot;-//OASIS//DTD DocBook XML V4.2//EN&quot; &quot;<A HREF="http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd</A>&quot;&gt;
+&lt;book&gt;
+&lt;bookinfo&gt;
+&lt;title&gt;HTML Parameter Reference&lt;/title&gt;
+&lt;releaseinfo role=&quot;meta&quot;&gt;
+$Id: param.xweb,v 1.85 2004/11/23 06:55:03 xmldoc Exp $
+&lt;/releaseinfo&gt;
+&lt;author&gt;
+  &lt;surname&gt;Walsh&lt;/surname&gt;
+  &lt;firstname&gt;Norman&lt;/firstname&gt;
+&lt;/author&gt;
+&lt;copyright&gt;
+  &lt;year&gt;1999&lt;/year&gt;
+  &lt;year&gt;2000&lt;/year&gt;
+  &lt;year&gt;2001&lt;/year&gt;
+  &lt;holder&gt;Norman Walsh&lt;/holder&gt;
+&lt;/copyright&gt;
+&lt;/bookinfo&gt;
+
+&lt;preface&gt;&lt;title&gt;Introduction&lt;/title&gt;
+
+&lt;para&gt;This is technical reference documentation for the DocBook XSL
+Stylesheets; it documents (some of) the parameters, templates, and
+other elements of the stylesheets.&lt;/para&gt;
+
+&lt;para&gt;This reference describes each of the HTML Stylesheet parameters.
+These are the &lt;quote&gt;easily customizable&lt;/quote&gt; parts of the stylesheet.
+If you want to specify an alternate value for one or more of these
+parameters, you can do so in a &lt;quote&gt;driver&lt;/quote&gt; stylesheet.&lt;/para&gt;
+
+&lt;para&gt;For example, if you want to change the &lt;literal moreinfo=&quot;none&quot;&gt;html.stylesheet&lt;/literal&gt;
+to &lt;filename moreinfo=&quot;none&quot;&gt;reference.css&lt;/filename&gt;, you might create a driver
+stylesheet like this:&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+  &lt;xsl:import href=&quot;<A HREF="http://docbook.sourceforge.net/release/xsl/snapshot/html/docbook.xsl">http://docbook.sourceforge.net/release/xsl/snapshot/html/docbook.xsl</A>&quot;/&gt;
+
+  &lt;xsl:param name=&quot;html.stylesheet&quot;&gt;reference.css&lt;/xsl:param&gt;
+
+&lt;/xsl:stylesheet&gt;&lt;/programlisting&gt;
+
+&lt;para&gt;Naturally, you have to change the
+&lt;sgmltag class=&quot;attribute&quot;&gt;href&lt;/sgmltag&gt; attribute on
+&lt;literal moreinfo=&quot;none&quot;&gt;&lt;xsl:import&gt;&lt;/literal&gt; to point to
+&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt; on your system. (Or
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, if you're using chunking.)&lt;/para&gt;
+
+&lt;para&gt;This is not intended to be &lt;quote&gt;user&lt;/quote&gt; documentation.
+It is provided for developers writing customization layers for the
+stylesheets, and for anyone who's interested in &lt;quote&gt;how it
+works&lt;/quote&gt;.&lt;/para&gt;
+
+&lt;para&gt;Although I am trying to be thorough, this documentation is known
+to be incomplete. Don't forget to read the source, too :-)&lt;/para&gt;
+&lt;/preface&gt;
+
+&lt;reference&gt;&lt;title&gt;Admonitions&lt;/title&gt;
+&lt;refentry id=&quot;admon.graphics.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;admon.graphics.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;admon.graphics.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Extension for admonition graphics&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;admon.graphics.extension.frag&quot;&gt;&lt;xsl:param name=&quot;admon.graphics.extension&quot; select=&quot;'.png'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Sets the extension to use on admonition graphics.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;admon.graphics.path&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;admon.graphics.path&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;admon.graphics.path&lt;/refname&gt;
+&lt;refpurpose&gt;Path to admonition graphics&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;admon.graphics.path.frag&quot;&gt;&lt;xsl:param name=&quot;admon.graphics.path&quot;&gt;images/&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Sets the path, probably relative to the directory where the HTML
+files are created, to the admonition graphics.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;admon.graphics&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;admon.graphics&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;admon.graphics&lt;/refname&gt;
+&lt;refpurpose&gt;Use graphics in admonitions?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;admon.graphics.frag&quot;&gt;
+&lt;xsl:param name=&quot;admon.graphics&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), admonitions are presented in an alternate style that uses
+a graphic.  Default graphics are provided in the distribution.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;admon.textlabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;admon.textlabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;admon.textlabel&lt;/refname&gt;
+&lt;refpurpose&gt;Use text label in admonitions?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;admon.textlabel.frag&quot;&gt;
+&lt;xsl:param name=&quot;admon.textlabel&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), admonitions are presented with a generated
+text label such as Note or Warning in the appropriate language.
+If zero, such labels are turned off, but any title child
+of the admonition element are still output.
+The default value is 1.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;admon.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;admon.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;admon.style&lt;/refname&gt;
+&lt;refpurpose&gt;CSS style attributes for admonitions&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;admon.style.frag&quot;&gt;&lt;xsl:param name=&quot;admon.style&quot;&gt;
+  &lt;xsl:text&gt;margin-left: 0.5in; margin-right: 0.5in;&lt;/xsl:text&gt;
+&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Specifies the value of the &lt;sgmltag class=&quot;attribute&quot;&gt;STYLE&lt;/sgmltag&gt;
+attribute that should be added to admonitions.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Callouts&lt;/title&gt;
+&lt;refentry id=&quot;callout.defaultcolumn&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.defaultcolumn&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.defaultcolumn&lt;/refname&gt;
+&lt;refpurpose&gt;Indicates what column callouts appear in by default&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.defaultcolumn.frag&quot;&gt;&lt;xsl:param name=&quot;callout.defaultcolumn&quot; select=&quot;'60'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If a callout does not identify a column (for example, if it uses
+the &lt;literal moreinfo=&quot;none&quot;&gt;linerange&lt;/literal&gt; &lt;sgmltag class=&quot;attribute&quot;&gt;unit&lt;/sgmltag&gt;),
+it will appear in the default column.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callout.graphics.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.graphics.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.graphics.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Extension for callout graphics&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.graphics.extension.frag&quot;&gt;&lt;xsl:param name=&quot;callout.graphics.extension&quot; select=&quot;'.png'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Sets the extension to use on callout graphics.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callout.graphics.number.limit&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.graphics.number.limit&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.graphics.number.limit&lt;/refname&gt;
+&lt;refpurpose&gt;Number of the largest callout graphic&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.graphics.number.limit.frag&quot;&gt;&lt;xsl:param name=&quot;callout.graphics.number.limit&quot; select=&quot;'15'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;callout.graphics&lt;/parameter&gt;
+is non-zero, graphics are used to represent
+callout numbers. The value of
+&lt;parameter moreinfo=&quot;none&quot;&gt;callout.graphics.number.limit&lt;/parameter&gt;
+is
+the largest number for which a graphic exists. If the callout number
+exceeds this limit, the default presentation &quot;(nnn)&quot; will always
+be used.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callout.graphics.path&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.graphics.path&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.graphics.path&lt;/refname&gt;
+&lt;refpurpose&gt;Path to callout graphics&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.graphics.path.frag&quot;&gt;
+&lt;xsl:param name=&quot;callout.graphics.path&quot; select=&quot;'images/callouts/'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Sets the path, probably relative to the directory where the HTML
+files are created, to the callout graphics.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callout.graphics&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.graphics&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.graphics&lt;/refname&gt;
+&lt;refpurpose&gt;Use graphics for callouts?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.graphics.frag&quot;&gt;
+&lt;xsl:param name=&quot;callout.graphics&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, callouts are presented with graphics (e.g., reverse-video
+circled numbers instead of &quot;(1)&quot;, &quot;(2)&quot;, etc.).
+Default graphics are provided in the distribution.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callout.list.table&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.list.table&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.list.table&lt;/refname&gt;
+&lt;refpurpose&gt;Present callout lists using a table?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.list.table.frag&quot;&gt;&lt;xsl:param name=&quot;callout.list.table&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The default presentation of &lt;sgmltag&gt;CalloutList&lt;/sgmltag&gt;s uses
+an HTML &lt;sgmltag&gt;DL&lt;/sgmltag&gt;. Some browsers don't align DLs very well
+if &lt;parameter moreinfo=&quot;none&quot;&gt;callout.graphics&lt;/parameter&gt; are used. With this option
+turned on, &lt;sgmltag&gt;CalloutList&lt;/sgmltag&gt;s are presented in an HTML
+&lt;sgmltag&gt;TABLE&lt;/sgmltag&gt;, which usually results in better alignment
+of the callout number with the callout description.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callout.unicode.number.limit&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.unicode.number.limit&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.unicode.number.limit&lt;/refname&gt;
+&lt;refpurpose&gt;Number of the largest callout graphic&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.unicode.number.limit.frag&quot;&gt;&lt;xsl:param name=&quot;callout.unicode.number.limit&quot; select=&quot;'10'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;callout.unicode&lt;/parameter&gt;
+is non-zero, unicode characters are used to represent
+callout numbers. The value of
+&lt;parameter moreinfo=&quot;none&quot;&gt;callout.unicode.number.limit&lt;/parameter&gt;
+is
+the largest number for which a unicode character exists. If the callout number
+exceeds this limit, the default presentation &quot;(nnn)&quot; will always
+be used.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callout.unicode.start.character&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.unicode.start.character&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.unicode.start.character&lt;/refname&gt;
+&lt;refpurpose&gt;First Unicode character to use, decimal value.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.unicode.start.character.frag&quot;&gt;&lt;xsl:param name=&quot;callout.unicode.start.character&quot; select=&quot;10102&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;callout.graphics&lt;/parameter&gt; is zero and &lt;parameter moreinfo=&quot;none&quot;&gt;callout.unicode&lt;/parameter&gt;
+is non-zero, unicode characters are used to represent
+callout numbers. The value of
+&lt;parameter moreinfo=&quot;none&quot;&gt;callout.unicode.start.character&lt;/parameter&gt;
+is the decimal unicode value used for callout number one. Currently, 
+only 10102 is supported in the stylesheets for this parameter. 
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callout.unicode&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callout.unicode&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callout.unicode&lt;/refname&gt;
+&lt;refpurpose&gt;Use Unicode characters rather than images for callouts.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callout.unicode.frag&quot;&gt;&lt;xsl:param name=&quot;callout.unicode&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The stylesheets can use either an image of the numbers one to ten, or the single Unicode character which represents the numeral, in white on a black background. Use this to select the Unicode character option.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;callouts.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;callouts.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;callouts.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Enable the callout extension&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;callouts.extension.frag&quot;&gt;&lt;xsl:param name=&quot;callouts.extension&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The callouts extension processes &lt;sgmltag&gt;areaset&lt;/sgmltag&gt;
+elements in &lt;sgmltag&gt;ProgramListingCO&lt;/sgmltag&gt; and other text-based
+callout elements.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;EBNF&lt;/title&gt;
+&lt;refentry id=&quot;ebnf.table.bgcolor&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;ebnf.table.bgcolor&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;ebnf.table.bgcolor&lt;/refname&gt;
+&lt;refpurpose&gt;Background color for EBNF tables&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;ebnf.table.bgcolor.frag&quot;&gt;&lt;xsl:param name=&quot;ebnf.table.bgcolor&quot; select=&quot;'#F5DCB3'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Sets the background color for EBNF tables. No &lt;sgmltag&gt;bgcolor&lt;/sgmltag&gt;
+attribute is output if &lt;varname&gt;ebnf.table.bgcolor&lt;/varname&gt; is set to
+the null string. The default value matches the value used in recent
+online versions of the W3C's XML Spec productions.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;ebnf.table.border&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;ebnf.table.border&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;ebnf.table.border&lt;/refname&gt;
+&lt;refpurpose&gt;Selects border on EBNF tables&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;ebnf.table.border.frag&quot;&gt;&lt;xsl:param name=&quot;ebnf.table.border&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Selects the border on EBNF tables. If non-zero, the tables have
+borders, otherwise they don't.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;ebnf.assignment&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;ebnf.assignment&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;rtf&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;ebnf.assignment&lt;/refname&gt;
+&lt;refpurpose&gt;The EBNF production assignment operator&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;ebnf.assignment.frag&quot;&gt;
+&lt;xsl:param name=&quot;ebnf.assignment&quot;&gt;
+&lt;code&gt;::=&lt;/code&gt;
+&lt;/xsl:param&gt;
+
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;ebnf.assignment&lt;/parameter&gt; parameter determines what
+text is used to show &lt;quote&gt;assignment&lt;/quote&gt; in &lt;sgmltag&gt;production&lt;/sgmltag&gt;s
+in &lt;sgmltag&gt;productionset&lt;/sgmltag&gt;s.&lt;/para&gt;
+
+&lt;para&gt;While &lt;quote&gt;&lt;literal moreinfo=&quot;none&quot;&gt;::=&lt;/literal&gt;&lt;/quote&gt; is common, so are several
+other operators.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;ebnf.statement.terminator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;ebnf.statement.terminator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;rtf&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;ebnf.statement.terminator&lt;/refname&gt;
+&lt;refpurpose&gt;Punctuation that ends an EBNF statement.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;ebnf.statement.terminator.frag&quot;&gt;
+&lt;xsl:param name=&quot;ebnf.statement.terminator&quot;&gt;&lt;/xsl:param&gt;
+
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;ebnf.statement.terminator&lt;/parameter&gt; parameter determines what
+text is used to terminate each &lt;sgmltag&gt;production&lt;/sgmltag&gt;
+in &lt;sgmltag&gt;productionset&lt;/sgmltag&gt;.&lt;/para&gt;
+
+&lt;para&gt;Some notations end each statement with a period.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;ToC/LoT/Index Generation&lt;/title&gt;
+&lt;refentry id=&quot;annotate.toc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;annotate.toc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;annotate.toc&lt;/refname&gt;
+&lt;refpurpose&gt;Annotate the Table of Contents?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;annotate.toc.frag&quot;&gt;&lt;xsl:param name=&quot;annotate.toc&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, TOCs will be annotated. At present, this just means
+that the &lt;sgmltag&gt;RefPurpose&lt;/sgmltag&gt; of &lt;sgmltag&gt;RefEntry&lt;/sgmltag&gt;
+TOC entries will be displayed.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;autotoc.label.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;autotoc.label.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;autotoc.label.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Separator between labels and titles in the ToC&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;autotoc.label.separator.frag&quot;&gt;&lt;xsl:param name=&quot;autotoc.label.separator&quot; select=&quot;'. '&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;String to use to seperate labels and title in a table of contents.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;process.source.toc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;process.source.toc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;process.source.toc&lt;/refname&gt;
+&lt;refpurpose&gt;Process a non-empty &lt;sgmltag&gt;toc&lt;/sgmltag&gt; element if it occurs in a source document?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;process.source.toc.frag&quot;&gt;&lt;xsl:param name=&quot;process.source.toc&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Specifies that the contents of a non-empty &quot;hard-coded&quot;
+&lt;sgmltag&gt;toc&lt;/sgmltag&gt; element in a source document are processed to
+generate a TOC in output.
+&lt;note&gt;
+  &lt;para&gt;This parameter has no effect on automated generation of
+  TOCs. An automated TOC may still be generated along with the
+  &quot;hard-coded&quot; TOC. To suppress automated TOC generation, adjust the
+  value of the &lt;parameter moreinfo=&quot;none&quot;&gt;generate.toc&lt;/parameter&gt; paramameter.&lt;/para&gt;
+
+  &lt;para&gt;The &lt;sgmltag&gt;process.source.toc&lt;/sgmltag&gt; parameter also has
+  no effect if the &lt;sgmltag&gt;toc&lt;/sgmltag&gt; element is empty; handling
+  for empty &lt;sgmltag&gt;toc&lt;/sgmltag&gt; is controlled by the
+  &lt;parameter moreinfo=&quot;none&quot;&gt;process.empty.source.toc&lt;/parameter&gt; parameter.&lt;/para&gt;
+&lt;/note&gt;
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;process.empty.source.toc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;process.empty.source.toc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;process.empty.source.toc&lt;/refname&gt;
+&lt;refpurpose&gt;Generate automated TOC if &lt;sgmltag&gt;toc&lt;/sgmltag&gt; element occurs in a source document?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;process.empty.source.toc.frag&quot;&gt;&lt;xsl:param name=&quot;process.empty.source.toc&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Specifies that if an empty &lt;sgmltag&gt;toc&lt;/sgmltag&gt; element is
+found in a source document, an automated TOC is generated.
+&lt;note&gt;
+  &lt;para&gt;Depending on what the value of the
+  &lt;parameter moreinfo=&quot;none&quot;&gt;generate.toc&lt;/parameter&gt; parameter is, setting this
+  parameter to &lt;literal moreinfo=&quot;none&quot;&gt;1&lt;/literal&gt; could result in generation of
+  duplicate automated TOCs. So the
+  &lt;parameter moreinfo=&quot;none&quot;&gt;process.empty.source.toc&lt;/parameter&gt; is primarily useful
+  as an &quot;override&quot;: by placing an empty &lt;sgmltag&gt;toc&lt;/sgmltag&gt; in your
+  document and setting this parameter to &lt;literal moreinfo=&quot;none&quot;&gt;1&lt;/literal&gt;, you can
+  force a TOC to be generated even if &lt;sgmltag&gt;generate.toc&lt;/sgmltag&gt;
+  says not to.&lt;/para&gt;
+&lt;/note&gt;
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;bridgehead.in.toc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;bridgehead.in.toc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;bridgehead.in.toc&lt;/refname&gt;
+&lt;refpurpose&gt;Should bridgehead elements appear in the TOC?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;bridgehead.in.toc.frag&quot;&gt;&lt;xsl:param name=&quot;bridgehead.in.toc&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, bridgeheads appear in the TOC. Note that this option
+is not fully supported and may be removed in a future version of the
+stylesheets.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;simplesect.in.toc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;simplesect.in.toc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;simplesect.in.toc&lt;/refname&gt;
+&lt;refpurpose&gt;Should &lt;sgmltag&gt;simplesect&lt;/sgmltag&gt; elements appear in the TOC?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;simplesect.in.toc.frag&quot;&gt;&lt;xsl:param name=&quot;simplesect.in.toc&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, &lt;sgmltag&gt;simplesect&lt;/sgmltag&gt;s appear in the TOC.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;manual.toc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;manual.toc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;manual.toc&lt;/refname&gt;
+&lt;refpurpose&gt;An explicit TOC to be used for the TOC&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;manual.toc.frag&quot;&gt;
+&lt;xsl:param name=&quot;manual.toc&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;manual.toc&lt;/parameter&gt; identifies an explicit TOC that
+will be used for building the printed TOC.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;toc.list.type&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;toc.list.type&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;list&lt;/refmiscinfo&gt;
+&lt;refmiscinfo role=&quot;value&quot;&gt;dl&lt;/refmiscinfo&gt;
+&lt;refmiscinfo role=&quot;value&quot;&gt;ul&lt;/refmiscinfo&gt;
+&lt;refmiscinfo role=&quot;value&quot;&gt;ol&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;toc.list.type&lt;/refname&gt;
+&lt;refpurpose&gt;Type of HTML list element to use for Tables of Contents&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;toc.list.type.frag&quot;&gt;&lt;xsl:param name=&quot;toc.list.type&quot;&gt;dl&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;When an automatically generated Table of Contents (or List of Titles)
+is produced, this HTML element will be used to make the list.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;toc.section.depth&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;toc.section.depth&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;toc.section.depth&lt;/refname&gt;
+&lt;refpurpose&gt;How deep should recursive &lt;sgmltag&gt;section&lt;/sgmltag&gt;s appear
+in the TOC?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;toc.section.depth.frag&quot;&gt;&lt;xsl:param name=&quot;toc.section.depth&quot;&gt;2&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Specifies the depth to which recursive sections should appear in the
+TOC.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;toc.max.depth&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;toc.max.depth&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;toc.max.depth&lt;/refname&gt;
+&lt;refpurpose&gt;How maximaly deep should be each TOC?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;toc.max.depth.frag&quot;&gt;&lt;xsl:param name=&quot;toc.max.depth&quot;&gt;8&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Specifies the maximal depth of TOC on all levels.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;generate.toc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;generate.toc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;table&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;generate.toc&lt;/refname&gt;
+&lt;refpurpose&gt;Control generation of ToCs and LoTs&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;generate.toc.frag&quot;&gt;
+&lt;xsl:param name=&quot;generate.toc&quot;&gt;
+appendix  toc,title
+article/appendix  nop
+article   toc,title
+book      toc,title,figure,table,example,equation
+chapter   toc,title
+part      toc,title
+preface   toc,title
+qandadiv  toc
+qandaset  toc
+reference toc,title
+sect1     toc
+sect2     toc
+sect3     toc
+sect4     toc
+sect5     toc
+section   toc
+set       toc,title
+&lt;/xsl:param&gt;
+
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter has a structured value. It is a table of space-delimited
+path/value pairs. Each path identifies some element in the source document
+using a restricted subset of XPath (only the implicit child axis, no wildcards,
+no predicates). Paths can be either relative or absolute.&lt;/para&gt;
+
+&lt;para&gt;When processing a particular element, the stylesheets consult this table to
+determine if a ToC (or LoT(s)) should be generated.&lt;/para&gt;
+
+&lt;para&gt;For example, consider the entry:&lt;/para&gt;
+
+&lt;screen format=&quot;linespecific&quot;&gt;book toc,figure&lt;/screen&gt;
+
+&lt;para&gt;This indicates that whenever a &lt;sgmltag&gt;book&lt;/sgmltag&gt; is formatted, a
+Table Of Contents and a List of Figures should be generated. Similarly,&lt;/para&gt;
+
+&lt;screen format=&quot;linespecific&quot;&gt;/chapter toc&lt;/screen&gt;
+
+&lt;para&gt;indicates that whenever a document &lt;emphasis&gt;that has a root
+of&lt;/emphasis&gt; &lt;sgmltag&gt;chapter&lt;/sgmltag&gt; is formatted, a Table of
+Contents should be generated. The entry &lt;literal moreinfo=&quot;none&quot;&gt;chapter&lt;/literal&gt; would match
+all chapters, but &lt;literal moreinfo=&quot;none&quot;&gt;/chapter&lt;/literal&gt; matches only &lt;sgmltag&gt;chapter&lt;/sgmltag&gt;
+document elements.&lt;/para&gt;
+
+&lt;para&gt;Generally, the longest match wins. So, for example, if you want to distinguish
+articles in books from articles in parts, you could use these two entries:&lt;/para&gt;
+
+&lt;screen format=&quot;linespecific&quot;&gt;book/article toc,figure
+part/article toc&lt;/screen&gt;
+
+&lt;para&gt;Note that an article in a part can never match a &lt;literal moreinfo=&quot;none&quot;&gt;book/article&lt;/literal&gt;,
+so if you want nothing to be generated for articles in parts, you can simply leave
+that rule out.&lt;/para&gt;
+
+&lt;para&gt;If you want to leave the rule in, to make it explicit that you're turning
+something off, use the value &lt;quote&gt;nop&lt;/quote&gt;. For example, the following
+entry disables ToCs and LoTs for articles:&lt;/para&gt;
+
+&lt;screen format=&quot;linespecific&quot;&gt;article nop&lt;/screen&gt;
+
+&lt;para&gt;Do not simply leave the word &lt;quote&gt;article&lt;/quote&gt; in the file
+without a matching value. That'd be just begging the silly little
+path/value parser to get confused.&lt;/para&gt;
+
+&lt;para&gt;Section ToCs are further controlled by the
+&lt;parameter moreinfo=&quot;none&quot;&gt;generate.section.toc.level&lt;/parameter&gt; parameter.
+For a given section level to have a ToC, it must have both an entry in 
+&lt;parameter moreinfo=&quot;none&quot;&gt;generate.toc&lt;/parameter&gt; and be within the range enabled by
+&lt;parameter moreinfo=&quot;none&quot;&gt;generate.section.toc.level&lt;/parameter&gt;.&lt;/para&gt;
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;generate.section.toc.level&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;generate.section.toc.level&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;generate.section.toc.level&lt;/refname&gt;
+&lt;refpurpose&gt;Control depth of TOC generation in sections&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;generate.section.toc.level.frag&quot;&gt;
+&lt;xsl:param name=&quot;generate.section.toc.level&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;generate.section.toc.level&lt;/parameter&gt; parameter
+controls the depth of section in which TOCs will be generated. Note
+that this is related to, but not the same as
+&lt;parameter moreinfo=&quot;none&quot;&gt;toc.section.depth&lt;/parameter&gt;, which controls the depth to
+which TOC entries will be generated in a given TOC.&lt;/para&gt;
+&lt;para&gt;If, for example, &lt;parameter moreinfo=&quot;none&quot;&gt;generate.section.toc.level&lt;/parameter&gt;
+is &lt;literal moreinfo=&quot;none&quot;&gt;3&lt;/literal&gt;, TOCs will be generated in first, second, and third
+level sections, but not in fourth level sections.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;generate.index&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;generate.index&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;generate.index&lt;/refname&gt;
+&lt;refpurpose&gt;Do you want an index?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;generate.index.frag&quot;&gt;&lt;xsl:param name=&quot;generate.index&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Specify if an index should be generated. &lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;index.on.type&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;index.on.type&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;index.on.type&lt;/refname&gt;
+&lt;refpurpose&gt;Select indexterms based on &lt;sgmltag&gt;type&lt;/sgmltag&gt;
+attribute value&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;index.on.type.frag&quot;&gt;
+&lt;xsl:param name=&quot;index.on.type&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+If non-zero, 
+then an &lt;sgmltag&gt;index&lt;/sgmltag&gt; element that has a
+&lt;sgmltag&gt;type&lt;/sgmltag&gt; attribute
+value will contain only those &lt;sgmltag&gt;indexterm&lt;/sgmltag&gt;
+elements with a matching &lt;sgmltag&gt;type&lt;/sgmltag&gt; attribute value.
+If an &lt;sgmltag&gt;index&lt;/sgmltag&gt; has no &lt;sgmltag&gt;type&lt;/sgmltag&gt;
+attribute or it is blank, then the index will contain
+all &lt;sgmltag&gt;indexterm&lt;/sgmltag&gt;s in the current scope.
+&lt;/para&gt;
+
+&lt;para&gt;
+If &lt;literal moreinfo=&quot;none&quot;&gt;index.on.type&lt;/literal&gt; is zero, then the
+&lt;sgmltag&gt;type&lt;/sgmltag&gt; attribute has no effect
+on selecting indexterms for an index.
+&lt;/para&gt;
+
+&lt;para&gt;For those using DocBook version 4.2 or earlier,
+the &lt;sgmltag&gt;type&lt;/sgmltag&gt; attribute is not available
+for index terms.  However, you can achieve the same
+effect by using the &lt;sgmltag&gt;role&lt;/sgmltag&gt; attribute
+in the same manner on &lt;sgmltag&gt;indexterm&lt;/sgmltag&gt;
+and &lt;sgmltag&gt;index&lt;/sgmltag&gt;, and setting the stylesheet parameter 
+&lt;parameter moreinfo=&quot;none&quot;&gt;index.on.role&lt;/parameter&gt; to a nonzero value.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;index.on.role&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;index.on.role&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;index.on.role&lt;/refname&gt;
+&lt;refpurpose&gt;Select indexterms based on role value&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;index.on.role.frag&quot;&gt;
+&lt;xsl:param name=&quot;index.on.role&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+If non-zero, 
+then an &lt;sgmltag&gt;index&lt;/sgmltag&gt; element that has a
+&lt;sgmltag&gt;role&lt;/sgmltag&gt; attribute
+value will contain only those &lt;sgmltag&gt;indexterm&lt;/sgmltag&gt;
+elements with a matching role value.
+If an &lt;sgmltag&gt;index&lt;/sgmltag&gt; has no &lt;sgmltag&gt;role&lt;/sgmltag&gt;
+attribute or it is blank, then the index will contain
+all &lt;sgmltag&gt;indexterm&lt;/sgmltag&gt;s in the current scope.
+&lt;/para&gt;
+&lt;para&gt;
+If &lt;literal moreinfo=&quot;none&quot;&gt;index.on.role&lt;/literal&gt; is zero, then the
+&lt;sgmltag&gt;role&lt;/sgmltag&gt; attribute has no effect
+on selecting indexterms for an index.
+&lt;/para&gt;
+
+&lt;para&gt;If you are using DocBook version 4.3 or later, you should
+use the &lt;sgmltag&gt;type&lt;/sgmltag&gt; attribute instead of &lt;sgmltag&gt;role&lt;/sgmltag&gt;
+on &lt;sgmltag&gt;indexterm&lt;/sgmltag&gt; and &lt;sgmltag&gt;index&lt;/sgmltag&gt;,
+and set the &lt;parameter moreinfo=&quot;none&quot;&gt;index.on.type&lt;/parameter&gt; to a nonzero
+value.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;index.prefer.titleabbrev&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;index.prefer.titleabbrev&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;index.prefer.titleabbrev&lt;/refname&gt;
+&lt;refpurpose&gt;Should be abbreviated titles used as back references&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;index.prefer.titleabbrev.frag&quot;&gt;
+&lt;xsl:param name=&quot;index.prefer.titleabbrev&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Extensions&lt;/title&gt;
+&lt;refentry id=&quot;linenumbering.everyNth&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;linenumbering.everyNth&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;linenumbering.everyNth&lt;/refname&gt;
+&lt;refpurpose&gt;Indicate which lines should be numbered&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;linenumbering.everyNth.frag&quot;&gt;&lt;xsl:param name=&quot;linenumbering.everyNth&quot; select=&quot;'5'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If line numbering is enabled, everyNth line will be numbered.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;linenumbering.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;linenumbering.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;linenumbering.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Enable the line numbering extension&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;linenumbering.extension.frag&quot;&gt;&lt;xsl:param name=&quot;linenumbering.extension&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, verbatim environments (elements that have the
+format='linespecific' notation attribute: address, literallayout,
+programlisting, screen, synopsis) that specify line numbering will
+have, surprise, line numbers.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;linenumbering.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;linenumbering.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;linenumbering.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Specify a separator between line numbers and lines&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;linenumbering.separator.frag&quot;&gt;&lt;xsl:param name=&quot;linenumbering.separator&quot; select=&quot;' '&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The separator is inserted between line numbers and lines in
+the verbatim environment.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;linenumbering.width&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;linenumbering.width&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;linenumbering.width&lt;/refname&gt;
+&lt;refpurpose&gt;Indicates the width of line numbers&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;linenumbering.width.frag&quot;&gt;&lt;xsl:param name=&quot;linenumbering.width&quot; select=&quot;'3'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If line numbering is enabled, line numbers will appear right
+justified in a field &quot;width&quot; characters wide.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;tablecolumns.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;tablecolumns.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;tablecolumns.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Enable the table columns extension function&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;tablecolumns.extension.frag&quot;&gt;&lt;xsl:param name=&quot;tablecolumns.extension&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The table columns extension function adjusts the widths of table
+columns in the HTML result to more accurately reflect the specifications
+in the CALS table.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;textinsert.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;textinsert.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;textinsert.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Enable the textinsert extension element&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;textinsert.extension.frag&quot;&gt;&lt;xsl:param name=&quot;textinsert.extension&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The textinsert extension element inserts the contents of a
+a file into the result tree (as text).
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;textdata.default.encoding&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;textdata.default.encoding&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;textdata.default.encoding&lt;/refname&gt;
+&lt;refpurpose&gt;Default encoding of external text files which are included
+using textdata element&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;textdata.default.encoding.frag&quot;&gt;
+&lt;xsl:param name=&quot;textdata.default.encoding&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Default encoding of external text files which are included using
+textdata element. This value is used only when you do not specify
+encoding by appropriate attribute directly on textdata. Default
+encoding (empty string) is interpreted as system default
+encoding.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;graphicsize.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;graphicsize.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;graphicsize.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Enable the getWidth()/getDepth() extension functions&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;graphicsize.extension.frag&quot;&gt;
+&lt;xsl:param name=&quot;graphicsize.extension&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero (and if &lt;parameter moreinfo=&quot;none&quot;&gt;use.extensions&lt;/parameter&gt; is non-zero
+and if you're using a processor that supports extension functions), the
+&lt;function moreinfo=&quot;none&quot;&gt;getWidth&lt;/function&gt; and &lt;function moreinfo=&quot;none&quot;&gt;getDepth&lt;/function&gt; functions
+will be used to extract image sizes from graphics.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;use.extensions&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;use.extensions&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;use.extensions&lt;/refname&gt;
+&lt;refpurpose&gt;Enable extensions&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;use.extensions.frag&quot;&gt;&lt;xsl:param name=&quot;use.extensions&quot; select=&quot;'0'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, extensions may be used. Each extension is
+further controlled by its own parameter. But if
+&lt;parameter moreinfo=&quot;none&quot;&gt;use.extensions&lt;/parameter&gt; is zero, no extensions will
+be used.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Automatic labelling&lt;/title&gt;
+&lt;refentry id=&quot;chapter.autolabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chapter.autolabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chapter.autolabel&lt;/refname&gt;
+&lt;refpurpose&gt;Are chapters automatically enumerated?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;chapter.autolabel.frag&quot;&gt;&lt;xsl:param name=&quot;chapter.autolabel&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), unlabeled chapters will be enumerated.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;appendix.autolabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;appendix.autolabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;appendix.autolabel&lt;/refname&gt;
+&lt;refpurpose&gt;Are Appendixes automatically enumerated?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;appendix.autolabel.frag&quot;&gt;&lt;xsl:param name=&quot;appendix.autolabel&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), unlabeled appendixes will be
+enumerated.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;part.autolabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;part.autolabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;part.autolabel&lt;/refname&gt;
+&lt;refpurpose&gt;Are parts and references enumerated?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;part.autolabel.frag&quot;&gt;&lt;xsl:param name=&quot;part.autolabel&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), unlabeled parts and references will be enumerated.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;preface.autolabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;preface.autolabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;preface.autolabel&lt;/refname&gt;
+&lt;refpurpose&gt;Are prefaces enumerated?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;preface.autolabel.frag&quot;&gt;&lt;xsl:param name=&quot;preface.autolabel&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), unlabeled prefaces will be enumerated.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;qandadiv.autolabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;qandadiv.autolabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;qandadiv.autolabel&lt;/refname&gt;
+&lt;refpurpose&gt;Are divisions in QAndASets enumerated?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;qandadiv.autolabel.frag&quot;&gt;&lt;xsl:param name=&quot;qandadiv.autolabel&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), unlabeled qandadivs will be enumerated.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;section.autolabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;section.autolabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;section.autolabel&lt;/refname&gt;
+&lt;refpurpose&gt;Are sections enumerated?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;section.autolabel.frag&quot;&gt;&lt;xsl:param name=&quot;section.autolabel&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), unlabeled sections will be enumerated.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;section.autolabel.max.depth&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;section.autolabel.max.depth&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;section.autolabel.max.depth&lt;/refname&gt;
+&lt;refpurpose&gt;The deepest level of sections that are numbered.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;section.autolabel.max.depth.frag&quot;&gt;&lt;xsl:param name=&quot;section.autolabel.max.depth&quot; select=&quot;8&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;When section numbering is turned on by the
+&lt;literal moreinfo=&quot;none&quot;&gt;section.autolabel&lt;/literal&gt; parameter,
+then this parameter controls the depth of section nesting
+that is numbered.
+Sections nested to a level deeper than this value will
+not be numbered.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;section.label.includes.component.label&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;section.label.includes.component.label&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;section.label.includes.component.label&lt;/refname&gt;
+&lt;refpurpose&gt;Do section labels include the component label?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;section.label.includes.component.label.frag&quot;&gt;&lt;xsl:param name=&quot;section.label.includes.component.label&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), section labels are prefixed with the label of the
+component that contains them.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;label.from.part&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;label.from.part&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;label.from.part&lt;/refname&gt;
+&lt;refpurpose&gt;Renumber chapters in each part?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;label.from.part.frag&quot;&gt;&lt;xsl:param name=&quot;label.from.part&quot; select=&quot;'0'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;label.from.part&lt;/parameter&gt; is non-zero, components
+(&lt;sgmltag&gt;chapter&lt;/sgmltag&gt;s, &lt;sgmltag&gt;appendixe&lt;/sgmltag&gt;s, etc.)
+will be numbered from 1 in each &lt;sgmltag&gt;part&lt;/sgmltag&gt;. Otherwise,
+they will be numbered monotonically throughout each
+&lt;sgmltag&gt;book&lt;/sgmltag&gt;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;component.label.includes.part.label&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;component.label.includes.part.label&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;component.label.includes.part.label&lt;/refname&gt;
+&lt;refpurpose&gt;Do component labels include the part label?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;component.label.includes.part.label.frag&quot;&gt;&lt;xsl:param name=&quot;component.label.includes.part.label&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), number labels for chapters, appendices, and other component
+elements are prefixed with the label of the
+part element that contains them.
+So you might see Chapter II.3 instead of Chapter 3.
+Also, the labels for formal elements such as table and figure will
+include the part label.
+If there is no part element container, then no prefix is generated.
+&lt;/para&gt;
+&lt;para&gt;
+This feature is most useful when the
+&lt;literal moreinfo=&quot;none&quot;&gt;label.from.part&lt;/literal&gt; parameter is turned on.
+In that case, there would be more than one chapter
+&lt;quote&gt;1&lt;/quote&gt;, and the extra part label prefix will identify
+each chapter unambiguously.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+
+
+&lt;reference&gt;&lt;title&gt;HTML&lt;/title&gt;
+&lt;refentry id=&quot;html.base&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.base&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;uri&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.base&lt;/refname&gt;
+&lt;refpurpose&gt;An HTML base URI&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.base.frag&quot;&gt;&lt;xsl:param name=&quot;html.base&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If html.base is set, it is used for the &lt;sgmltag&gt;BASE&lt;/sgmltag&gt;
+element in the &lt;sgmltag&gt;HEAD&lt;/sgmltag&gt; of the HTML documents.
+This is useful for dynamically served HTML where the base URI needs
+to be shifted.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.stylesheet.type&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.stylesheet.type&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.stylesheet.type&lt;/refname&gt;
+&lt;refpurpose&gt;The type of the stylesheet used in the generated HTML&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.stylesheet.type.frag&quot;&gt;&lt;xsl:param name=&quot;html.stylesheet.type&quot;&gt;text/css&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The type of the stylesheet to place in the HTML &lt;sgmltag&gt;link&lt;/sgmltag&gt; tag.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.stylesheet&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.stylesheet&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.stylesheet&lt;/refname&gt;
+&lt;refpurpose&gt;Name of the stylesheet(s) to use in the generated HTML&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.stylesheet.frag&quot;&gt;
+&lt;xsl:param name=&quot;html.stylesheet&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;html.stylesheet&lt;/parameter&gt; parameter is either empty,
+indicating that no stylesheet &lt;sgmltag&gt;LINK&lt;/sgmltag&gt; tag should be generated
+in the HTML output, or it is a list of one or more stylesheets.&lt;/para&gt;
+
+&lt;para&gt;Multiple stylesheets are space-delimited. If you need to
+reference a stylesheet URI that includes a space, encode it with
+&lt;literal moreinfo=&quot;none&quot;&gt;%20&lt;/literal&gt;. A seprate HTML &lt;sgmltag&gt;LINK&lt;/sgmltag&gt; element will
+be generated for each stylesheet in the order they are listed in the
+parameter.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;use.id.as.filename&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;use.id.as.filename&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;use.id.as.filename&lt;/refname&gt;
+&lt;refpurpose&gt;Use ID value of chunk elements as the filename?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;use.id.as.filename.frag&quot;&gt;&lt;xsl:param name=&quot;use.id.as.filename&quot; select=&quot;'0'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;use.id.as.filename&lt;/parameter&gt;
+is non-zero, the filename of chunk elements that have IDs will be
+derived from the ID value.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;css.decoration&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;css.decoration&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;css.decoration&lt;/refname&gt;
+&lt;refpurpose&gt;Enable CSS decoration of elements&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;css.decoration.frag&quot;&gt;
+&lt;xsl:param name=&quot;css.decoration&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+If &lt;literal moreinfo=&quot;none&quot;&gt;css.decoration&lt;/literal&gt; is turned on, then HTML elements
+produced by the
+stylesheet may be decorated with STYLE attributes.  For example, the
+LI tags produced for list items may include a fragment of CSS in the
+STYLE attribute which sets the CSS property &quot;list-style-type&quot;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;spacing.paras&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;spacing.paras&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;spacing.paras&lt;/refname&gt;
+&lt;refpurpose&gt;Insert additional &lt;p&gt; elements for spacing?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;spacing.paras.frag&quot;&gt;&lt;xsl:param name=&quot;spacing.paras&quot; select=&quot;'0'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;When non-zero, additional, empty paragraphs are inserted in
+several contexts (for example, around informal figures), to create a
+more pleasing visual appearance in many browsers.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;emphasis.propagates.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;emphasis.propagates.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;emphasis.propagates.style&lt;/refname&gt;
+&lt;refpurpose&gt;Pass emphasis role attribute through to HTML?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;emphasis.propagates.style.frag&quot;&gt;
+&lt;xsl:param name=&quot;emphasis.propagates.style&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, the role attribute of &lt;sgmltag&gt;emphasis&lt;/sgmltag&gt; elements
+will be passed through to the HTML as a class attribute on a
+&lt;sgmltag&gt;span&lt;/sgmltag&gt; that surrounds the emphasis.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;para.propagates.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;para.propagates.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;para.propagates.style&lt;/refname&gt;
+&lt;refpurpose&gt;Pass para role attribute through to HTML?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;para.propagates.style.frag&quot;&gt;
+&lt;xsl:param name=&quot;para.propagates.style&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, the role attribute of &lt;sgmltag&gt;para&lt;/sgmltag&gt; elements
+will be passed through to the HTML as a class attribute on the
+&lt;sgmltag&gt;p&lt;/sgmltag&gt; generated for the paragraph.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;phrase.propagates.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;phrase.propagates.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;phrase.propagates.style&lt;/refname&gt;
+&lt;refpurpose&gt;Pass phrase role attribute through to HTML?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;phrase.propagates.style.frag&quot;&gt;&lt;xsl:param name=&quot;phrase.propagates.style&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, the role attribute of &lt;sgmltag&gt;phrase&lt;/sgmltag&gt; elements
+will be passed through to the HTML as a class attribute on a
+&lt;sgmltag&gt;span&lt;/sgmltag&gt; that surrounds the phrase.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;entry.propagates.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;entry.propagates.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;entry.propagates.style&lt;/refname&gt;
+&lt;refpurpose&gt;Pass entry role attribute through to HTML?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;entry.propagates.style.frag&quot;&gt;
+&lt;xsl:param name=&quot;entry.propagates.style&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, the role attribute of &lt;sgmltag&gt;entry&lt;/sgmltag&gt; elements
+will be passed through to the HTML as a class attribute on the
+&lt;sgmltag&gt;td&lt;/sgmltag&gt; or &lt;sgmltag&gt;th&lt;/sgmltag&gt; generated for the table
+cell.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.longdesc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.longdesc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.longdesc&lt;/refname&gt;
+&lt;refpurpose&gt;Should longdesc URIs be created?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.longdesc.frag&quot;&gt;
+&lt;xsl:param name=&quot;html.longdesc&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, HTML files will be created for the
+&lt;sgmltag class=&quot;attribute&quot;&gt;longdesc&lt;/sgmltag&gt; attribute. These files
+are created from the &lt;sgmltag&gt;textobject&lt;/sgmltag&gt;s in
+&lt;sgmltag&gt;mediaobject&lt;/sgmltag&gt;s and
+&lt;sgmltag&gt;inlinemediaobject&lt;/sgmltag&gt;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.longdesc.link&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.longdesc.link&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.longdesc.link&lt;/refname&gt;
+&lt;refpurpose&gt;Should a link to the longdesc be included in the HTML?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.longdesc.link.frag&quot;&gt;
+&lt;xsl:param name=&quot;html.longdesc.link&quot; select=&quot;$html.longdesc&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, links will be created to the
+HTML files created for the
+&lt;sgmltag class=&quot;attribute&quot;&gt;longdesc&lt;/sgmltag&gt; attribute. It makes no
+sense to turn enable this option without also enabling the
+&lt;parameter moreinfo=&quot;none&quot;&gt;$html.longdesc&lt;/parameter&gt; parameter.&lt;/para&gt;
+
+&lt;para&gt;The &lt;literal moreinfo=&quot;none&quot;&gt;longdesc.link&lt;/literal&gt; named template is called
+to construct the link.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;make.valid.html&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;make.valid.html&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;make.valid.html&lt;/refname&gt;
+&lt;refpurpose&gt;Attempt to make sure the HTML output is valid HTML&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;make.valid.html.frag&quot;&gt;
+&lt;xsl:param name=&quot;make.valid.html&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;make.valid.html&lt;/parameter&gt; is true, the stylesheets take
+extra effort to ensure that the resulting HTML is valid. This may mean that some
+&lt;sgmltag&gt;para&lt;/sgmltag&gt; tags are translated into HTML &lt;sgmltag&gt;div&lt;/sgmltag&gt;s or
+that other substitutions occur.&lt;/para&gt;
+
+&lt;para&gt;This parameter is different from &lt;parameter moreinfo=&quot;none&quot;&gt;html.cleanup&lt;/parameter&gt;
+because it changes the resulting markup; it does not use extension functions
+to manipulate result-tree-fragments and is therefore applicable to any
+XSLT processor.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.cleanup&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.cleanup&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.cleanup&lt;/refname&gt;
+&lt;refpurpose&gt;Attempt to clean up the resulting HTML?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.cleanup.frag&quot;&gt;
+&lt;xsl:param name=&quot;html.cleanup&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, and if the &lt;ulink url=&quot;<A HREF="http://www.exslt.org/">http://www.exslt.org/</A>&quot;&gt;EXSLT&lt;/ulink&gt;
+extensions are supported by your processor, the resulting HTML will be
+&lt;quote&gt;cleaned up&lt;/quote&gt;. This improves the chances that the
+resulting HTML will be valid. It may also improve the formatting of
+some elements.&lt;/para&gt;
+
+&lt;para&gt;This parameter is different from &lt;parameter moreinfo=&quot;none&quot;&gt;make.valid.html&lt;/parameter&gt;
+because it uses extension functions to manipulate result-tree-fragments.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;draft.mode&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;draft.mode&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;list&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;draft.mode&lt;/refname&gt;
+&lt;refpurpose&gt;Select draft mode&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;draft.mode.frag&quot;&gt;
+&lt;xsl:param name=&quot;draft.mode&quot; select=&quot;'maybe'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Selects draft mode. If &lt;parameter moreinfo=&quot;none&quot;&gt;draft.mode&lt;/parameter&gt; is
+&lt;quote&gt;&lt;literal moreinfo=&quot;none&quot;&gt;yes&lt;/literal&gt;&lt;/quote&gt;, the entire document will be treated
+as a draft. If it is &lt;quote&gt;&lt;literal moreinfo=&quot;none&quot;&gt;no&lt;/literal&gt;&lt;/quote&gt;, the entire document
+will be treated as a final copy. If it is &lt;quote&gt;&lt;literal moreinfo=&quot;none&quot;&gt;maybe&lt;/literal&gt;&lt;/quote&gt;,
+individual sections will be treated as draft or final independently, depending
+on how their &lt;sgmltag class=&quot;attribute&quot;&gt;status&lt;/sgmltag&gt; attribute is set.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;draft.watermark.image&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;draft.watermark.image&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;uri&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;draft.watermark.image&lt;/refname&gt;
+&lt;refpurpose&gt;The URI of the image to be used for draft watermarks&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;draft.watermark.image.frag&quot;&gt;
+&lt;xsl:param name=&quot;draft.watermark.image&quot; select=&quot;'<A HREF="http://docbook.sourceforge.net/release/images/draft.png">http://docbook.sourceforge.net/release/images/draft.png</A>'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The image to be used for draft watermarks.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;generate.id.attributes&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;generate.id.attributes&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;generate.id.attributes&lt;/refname&gt;
+&lt;refpurpose/&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;generate.id.attributes.frag&quot;&gt;
+&lt;xsl:param name=&quot;generate.id.attributes&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, the HTML stylesheet will generate ID attributes on
+containers. For example, the markup:&lt;/para&gt;
+
+&lt;screen format=&quot;linespecific&quot;&gt;&lt;section id=&quot;foo&quot;&gt;&lt;title&gt;Some Title&lt;/title&gt;
+&lt;para&gt;Some para.&lt;/para&gt;
+&lt;/section&gt;&lt;/screen&gt;
+
+&lt;para&gt;might produce:&lt;/para&gt;
+
+&lt;screen format=&quot;linespecific&quot;&gt;&lt;div class=&quot;section&quot; id=&quot;foo&quot;&gt;
+&lt;h2&gt;Some Title&lt;/h2&gt;
+&lt;p&gt;Some para.&lt;/p&gt;
+&lt;/div&gt;&lt;/screen&gt;
+
+&lt;para&gt;The alternative is to generate anchors:&lt;/para&gt;
+
+&lt;screen format=&quot;linespecific&quot;&gt;&lt;div class=&quot;section&quot;&gt;
+&lt;h2&gt;&lt;a name=&quot;foo&quot;&gt;&lt;/a&gt;Some Title&lt;/h2&gt;
+&lt;p&gt;Some para.&lt;/p&gt;
+&lt;/div&gt;&lt;/screen&gt;
+
+&lt;para&gt;Because the &lt;sgmltag class=&quot;attribute&quot;&gt;name&lt;/sgmltag&gt; attribute of
+the &lt;sgmltag&gt;a&lt;/sgmltag&gt; element and the &lt;sgmltag class=&quot;attribute&quot;&gt;id&lt;/sgmltag&gt;
+attribute of other tags are both of type &lt;quote&gt;ID&lt;/quote&gt;, producing both
+generates invalid documents.&lt;/para&gt;
+
+&lt;para&gt;As of version 1.50, you can use this switch to control which type of
+identifier is generated. For backwards-compatibility, generating
+&lt;sgmltag&gt;a&lt;/sgmltag&gt; anchors is preferred.&lt;/para&gt;
+
+&lt;para&gt;Note: at present, this switch is incompletely implemented.
+Disabling ID attributes will suppress them, but enabling ID attributes
+will not suppress the anchors.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;generate.meta.abstract&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;generate.meta.abstract&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;generate.meta.abstract&lt;/refname&gt;
+&lt;refpurpose&gt;Generate HTML &lt;sgmltag&gt;META&lt;/sgmltag&gt; element from &lt;sgmltag&gt;abstract&lt;/sgmltag&gt;?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;generate.meta.abstract.frag&quot;&gt;
+&lt;xsl:param name=&quot;generate.meta.abstract&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, document abstracts will be reproduced in the HTML
+&lt;sgmltag&gt;HEAD&lt;/sgmltag&gt; with &lt;sgmltag class=&quot;starttag&quot;&gt;meta name=&quot;description&quot; content=&quot;...&quot;&lt;/sgmltag&gt;.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;XSLT Processing&lt;/title&gt;
+&lt;refentry id=&quot;rootid&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;rootid&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;rootid&lt;/refname&gt;
+&lt;refpurpose&gt;Specify the root element to format&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;rootid.frag&quot;&gt;&lt;xsl:param name=&quot;rootid&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;rootid&lt;/parameter&gt; is specified, it must be the
+value of an ID that occurs in the document being formatted. The entire
+document will be loaded and parsed, but formatting will begin at the
+element identified, rather than at the root. For example, this allows
+you to process only chapter 4 of a book.&lt;/para&gt;
+&lt;para&gt;Because the entire document is available to the processor, automatic
+numbering, cross references, and other dependencies are correctly
+resolved.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;suppress.navigation&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;suppress.navigation&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;suppress.navigation&lt;/refname&gt;
+&lt;refpurpose&gt;Disable header and footer navigation&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;suppress.navigation.frag&quot;&gt;&lt;xsl:param name=&quot;suppress.navigation&quot;&gt;0&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+If &lt;literal moreinfo=&quot;none&quot;&gt;suppress.navigation&lt;/literal&gt; is turned on, header and
+footer navigation will be suppressed.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;suppress.header.navigation&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;suppress.header.navigation&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;suppress.header.navigation&lt;/refname&gt;
+&lt;refpurpose&gt;Disable header navigation&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;suppress.header.navigation.frag&quot;&gt;&lt;xsl:param name=&quot;suppress.header.navigation&quot;&gt;0&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+If &lt;literal moreinfo=&quot;none&quot;&gt;suppress.header.navigation&lt;/literal&gt; is turned on, header
+navigation will be suppressed.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;suppress.footer.navigation&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;suppress.footer.navigation&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;suppress.footer.navigation&lt;/refname&gt;
+&lt;refpurpose&gt;Disable footer navigation&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;suppress.footer.navigation.frag&quot;&gt;&lt;xsl:param name=&quot;suppress.footer.navigation&quot;&gt;0&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+If &lt;literal moreinfo=&quot;none&quot;&gt;suppress.footer.navigation&lt;/literal&gt; is turned on, footer
+navigation will be suppressed.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;header.rule&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;header.rule&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;header.rule&lt;/refname&gt;
+&lt;refpurpose&gt;Rule under headers?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;header.rule.frag&quot;&gt;
+&lt;xsl:param name=&quot;header.rule&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, a rule will be drawn below the page headers.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;footer.rule&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;footer.rule&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;footer.rule&lt;/refname&gt;
+&lt;refpurpose&gt;Rule over footers?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;footer.rule.frag&quot;&gt;
+&lt;xsl:param name=&quot;footer.rule&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, a rule will be drawn above the page footers.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Meta/*Info&lt;/title&gt;
+&lt;refentry id=&quot;inherit.keywords&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;inherit.keywords&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;inherit.keywords&lt;/refname&gt;
+&lt;refpurpose&gt;Inherit keywords from ancestor elements?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;inherit.keywords.frag&quot;&gt;&lt;xsl:param name=&quot;inherit.keywords&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;inherit.keywords&lt;/parameter&gt;
+is non-zero, the keyword &lt;sgmltag&gt;META&lt;/sgmltag&gt; for each HTML
+&lt;sgmltag&gt;HEAD&lt;/sgmltag&gt; element will include all of the keywords from
+ancestral elements. Otherwise, only the keywords from the current section
+will be used.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;make.single.year.ranges&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;make.single.year.ranges&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;make.single.year.ranges&lt;/refname&gt;
+&lt;refpurpose&gt;Print single-year ranges (e.g., 1998-1999)&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;make.single.year.ranges.frag&quot;&gt;&lt;xsl:param name=&quot;make.single.year.ranges&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, year ranges that span a single year will be printed
+in range notation (1998-1999) instead of discrete notation
+(1998, 1999).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;make.year.ranges&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;make.year.ranges&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;make.year.ranges&lt;/refname&gt;
+&lt;refpurpose&gt;Collate copyright years into ranges?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;make.year.ranges.frag&quot;&gt;&lt;xsl:param name=&quot;make.year.ranges&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, copyright years will be collated into ranges.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;author.othername.in.middle&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;author.othername.in.middle&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;author.othername.in.middle&lt;/refname&gt;
+&lt;refpurpose&gt;Is &lt;sgmltag&gt;othername&lt;/sgmltag&gt; in &lt;sgmltag&gt;author&lt;/sgmltag&gt; a
+middle name?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;author.othername.in.middle.frag&quot;&gt;&lt;xsl:param name=&quot;author.othername.in.middle&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), the &lt;sgmltag&gt;othername&lt;/sgmltag&gt; of an &lt;sgmltag&gt;author&lt;/sgmltag&gt;
+appears between the &lt;sgmltag&gt;firstname&lt;/sgmltag&gt; and
+&lt;sgmltag&gt;surname&lt;/sgmltag&gt;.  Otherwise, &lt;sgmltag&gt;othername&lt;/sgmltag&gt;
+is suppressed.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;generate.legalnotice.link&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;generate.legalnotice.link&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;generate.legalnotice.link&lt;/refname&gt;
+&lt;refpurpose&gt;TBD&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;generate.legalnotice.link.frag&quot;&gt;&lt;xsl:param name=&quot;generate.legalnotice.link&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;TBD&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Reference Pages&lt;/title&gt;
+&lt;refentry id=&quot;funcsynopsis.decoration&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;funcsynopsis.decoration&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;funcsynopsis.decoration&lt;/refname&gt;
+&lt;refpurpose&gt;Decorate elements of a FuncSynopsis?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;funcsynopsis.decoration.frag&quot;&gt;&lt;xsl:param name=&quot;funcsynopsis.decoration&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), elements of the FuncSynopsis will be decorated (e.g. bold or
+italic).  The decoration is controlled by functions that can be redefined
+in a customization layer.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;funcsynopsis.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;funcsynopsis.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;list&lt;/refmiscinfo&gt;
+&lt;refmiscinfo role=&quot;value&quot;&gt;ansi&lt;/refmiscinfo&gt;
+&lt;refmiscinfo role=&quot;value&quot;&gt;kr&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;funcsynopsis.style&lt;/refname&gt;
+&lt;refpurpose&gt;What style of 'FuncSynopsis' should be generated?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;funcsynopsis.style.frag&quot;&gt;&lt;xsl:param name=&quot;funcsynopsis.style&quot;&gt;kr&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;varname&gt;funcsynopsis.style&lt;/varname&gt; is &lt;literal moreinfo=&quot;none&quot;&gt;ansi&lt;/literal&gt;,
+ANSI-style function synopses are generated for a
+&lt;sgmltag&gt;funcsynopsis&lt;/sgmltag&gt;, otherwise K&amp;R-style
+function synopses are generated.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;funcsynopsis.tabular.threshold&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;funcsynopsis.tabular.threshold&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;funcsynopsis.tabular.threshold&lt;/refname&gt;
+&lt;refpurpose&gt;Width beyond which a tabular presentation will be used&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;funcsynopsis.tabular.threshold.frag&quot;&gt;
+&lt;xsl:param name=&quot;funcsynopsis.tabular.threshold&quot; select=&quot;40&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;funcsynopsis.tabular.threshold&lt;/parameter&gt; is greater than
+zero then if a &lt;sgmltag&gt;funcprototype&lt;/sgmltag&gt; is wider than the threshold
+value, it will be presented in a table.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;function.parens&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;function.parens&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;function.parens&lt;/refname&gt;
+&lt;refpurpose&gt;Generate parens after a function?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;function.parens.frag&quot;&gt;&lt;xsl:param name=&quot;function.parens&quot;&gt;0&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If not 0, the formatting of
+a &lt;sgmltag class=&quot;starttag&quot;&gt;function&lt;/sgmltag&gt; element will include
+generated parenthesis.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;refentry.generate.name&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;refentry.generate.name&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;refentry.generate.name&lt;/refname&gt;
+&lt;refpurpose&gt;Output NAME header before 'RefName'(s)?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;refentry.generate.name.frag&quot;&gt;&lt;xsl:param name=&quot;refentry.generate.name&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), a &quot;NAME&quot; section title is output before the list
+of 'RefName's. This parameter and
+&lt;parameter moreinfo=&quot;none&quot;&gt;refentry.generate.title&lt;/parameter&gt; are mutually
+exclusive. This means that if you change this parameter to zero, you
+should set &lt;parameter moreinfo=&quot;none&quot;&gt;refentry.generate.title&lt;/parameter&gt; to 1 unless
+you want get quite strange output.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;refentry.generate.title&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;refentry.generate.title&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;refentry.generate.title&lt;/refname&gt;
+&lt;refpurpose&gt;Output title before 'RefName'(s)?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;refentry.generate.title.frag&quot;&gt;
+&lt;xsl:param name=&quot;refentry.generate.title&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), the reference page title or first name is
+output before the list of 'RefName's. This parameter and
+&lt;parameter moreinfo=&quot;none&quot;&gt;refentry.generate.name&lt;/parameter&gt; are mutually exclusive.
+This means that if you change this parameter to 1, you
+should set &lt;parameter moreinfo=&quot;none&quot;&gt;refentry.generate.name&lt;/parameter&gt; to 0 unless
+you want get quite strange output.&lt;/para&gt;
+
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;refentry.xref.manvolnum&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;refentry.xref.manvolnum&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;refentry.xref.manvolnum&lt;/refname&gt;
+&lt;refpurpose&gt;Output &lt;sgmltag&gt;manvolnum&lt;/sgmltag&gt; as part of 
+&lt;sgmltag&gt;refentry&lt;/sgmltag&gt; cross-reference?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;refentry.xref.manvolnum.frag&quot;&gt;&lt;xsl:param name=&quot;refentry.xref.manvolnum&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;if true (non-zero), the &lt;sgmltag&gt;manvolnum&lt;/sgmltag&gt; is used when cross-referencing
+&lt;sgmltag&gt;refentry&lt;/sgmltag&gt;s, either with &lt;sgmltag&gt;xref&lt;/sgmltag&gt;
+or &lt;sgmltag&gt;citerefentry&lt;/sgmltag&gt;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;citerefentry.link&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;citerefentry.link&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;citerefentry.link&lt;/refname&gt;
+&lt;refpurpose&gt;Generate URL links when cross-referencing RefEntrys?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;citerefentry.link.frag&quot;&gt;&lt;xsl:param name=&quot;citerefentry.link&quot; select=&quot;'0'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, a web link will be generated, presumably
+to an online man-&gt;HTML gateway. The text of the link is
+generated by the generate.citerefentry.link template.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;refentry.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;refentry.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;refentry.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Generate a separator between consecutive RefEntry elements?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;refentry.separator.frag&quot;&gt;&lt;xsl:param name=&quot;refentry.separator&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, a separator will be generated between consecutive
+reference pages.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Tables&lt;/title&gt;
+&lt;refentry id=&quot;default.table.width&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;default.table.width&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;length&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;default.table.width&lt;/refname&gt;
+&lt;refpurpose&gt;The default width of tables&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;default.table.width.frag&quot;&gt;&lt;xsl:param name=&quot;default.table.width&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If specified, this value will be used for the WIDTH attribute on
+tables that do not specify an alternate width (with the dbhtml processing
+instruction).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;nominal.table.width&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;nominal.table.width&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;length&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;nominal.table.width&lt;/refname&gt;
+&lt;refpurpose&gt;The (absolute) nominal width of tables&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;nominal.table.width.frag&quot;&gt;&lt;xsl:param name=&quot;nominal.table.width&quot; select=&quot;'6in'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;In order to convert CALS column widths into HTML column widths, it
+is sometimes necessary to have an absolute table width to use for conversion
+of mixed absolute and relative widths. This value must be an absolute
+length (not a percentag).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.borders.with.css&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.borders.with.css&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.borders.with.css&lt;/refname&gt;
+&lt;refpurpose&gt;Use CSS to specify table, row, and cell borders?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.borders.with.css.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.borders.with.css&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), CSS will be used to draw table borders.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.cell.border.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.cell.border.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.cell.border.style&lt;/refname&gt;
+&lt;refpurpose/&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.cell.border.style.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.cell.border.style&quot; select=&quot;'solid'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.cell.border.thickness&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.cell.border.thickness&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.cell.border.thickness&lt;/refname&gt;
+&lt;refpurpose/&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.cell.border.thickness.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.cell.border.thickness&quot; select=&quot;'0.5pt'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.cell.border.color&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.cell.border.color&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.cell.border.color&lt;/refname&gt;
+&lt;refpurpose/&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.cell.border.color.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.cell.border.color&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.frame.border.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.frame.border.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.frame.border.style&lt;/refname&gt;
+&lt;refpurpose/&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.frame.border.style.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.frame.border.style&quot; select=&quot;'solid'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.frame.border.thickness&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.frame.border.thickness&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.frame.border.thickness&lt;/refname&gt;
+&lt;refpurpose&gt;Specifies the thickness of the frame border&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.frame.border.thickness.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.frame.border.thickness&quot; select=&quot;'0.5pt'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Specifies the thickness of the border on the table's frame.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.frame.border.color&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.frame.border.color&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.frame.border.color&lt;/refname&gt;
+&lt;refpurpose/&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.frame.border.color.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.frame.border.color&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.cellspacing&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.cellspacing&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.cellspacing&lt;/refname&gt;
+&lt;refpurpose&gt;Default value for cellspacing in HTML tables&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.cellspacing.frag&quot;&gt;
+&lt;xsl:param name=&quot;html.cellspacing&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If specified, this value will be used as the default cellspacing value
+in HTML tables.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.cellpadding&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.cellpadding&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.cellpadding&lt;/refname&gt;
+&lt;refpurpose&gt;Default value for cellpadding in HTML tables&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.cellpadding.frag&quot;&gt;
+&lt;xsl:param name=&quot;html.cellpadding&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If specified, this value will be used as the default cellpadding value
+in HTML tables.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;QAndASet&lt;/title&gt;
+&lt;refentry id=&quot;qanda.defaultlabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;qanda.defaultlabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;qanda.defaultlabel&lt;/refname&gt;
+&lt;refpurpose&gt;Sets the default for defaultlabel on QandASet.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;qanda.defaultlabel.frag&quot;&gt;&lt;xsl:param name=&quot;qanda.defaultlabel&quot;&gt;number&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If no defaultlabel attribute is specified on a QandASet, this
+value is used. It must be one of the legal values for the defaultlabel
+attribute.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;qanda.inherit.numeration&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;qanda.inherit.numeration&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;qanda.inherit.numeration&lt;/refname&gt;
+&lt;refpurpose&gt;Does enumeration of QandASet components inherit the numeration of parent elements?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;qanda.inherit.numeration.frag&quot;&gt;&lt;xsl:param name=&quot;qanda.inherit.numeration&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), numbered QandADiv elements and Questions and Answers inherit
+the numeration of the ancestors of the QandASet.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Linking&lt;/title&gt;
+&lt;refentry id=&quot;target.database.document&quot;&gt; 
+&lt;refmeta&gt; 
+&lt;refentrytitle&gt;target.database.document&lt;/refentrytitle&gt; 
+&lt;refmiscinfo role=&quot;type&quot;&gt;uri&lt;/refmiscinfo&gt; 
+&lt;/refmeta&gt; 
+&lt;refnamediv&gt; 
+&lt;refname&gt;target.database.document&lt;/refname&gt; 
+&lt;refpurpose&gt;Name of master database file for resolving
+olinks&lt;/refpurpose&gt; 
+&lt;/refnamediv&gt; 
+&lt;refsynopsisdiv&gt; &lt;programlisting id=&quot;target.database.document.frag&quot;&gt;
+&lt;xsl:param name=&quot;target.database.document&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt; 
+&lt;/refsynopsisdiv&gt; 
+&lt;refsect1&gt;
+&lt;title&gt;Description&lt;/title&gt; 
+&lt;para&gt;
+To resolve olinks between documents, the stylesheets use
+a master database document that identifies the  target datafiles for all the documents within the scope
+of the olinks. This parameter value is the URI of 
+the master document to be read during processing to resolve olinks.
+The default value is &lt;filename moreinfo=&quot;none&quot;&gt;olinkdb.xml&lt;/filename&gt;.&lt;/para&gt;
+&lt;para&gt;The data structure of the file is defined in the &lt;filename moreinfo=&quot;none&quot;&gt;targetdatabase.dtd&lt;/filename&gt; DTD.  The database file provides the high level elements to record the identifiers, locations, and relationships of documents. The cross reference data for individual documents is generally pulled into the database using system entity references or XIncludes. See also &lt;parameter moreinfo=&quot;none&quot;&gt;targets.filename&lt;/parameter&gt;.
+
+&lt;/para&gt; 
+&lt;/refsect1&gt; 
+&lt;/refentry&gt; 
+
+&lt;refentry id=&quot;targets.filename&quot;&gt; 
+&lt;refmeta&gt; 
+&lt;refentrytitle&gt;targets.filename&lt;/refentrytitle&gt; 
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt; 
+&lt;/refmeta&gt; 
+&lt;refnamediv&gt; 
+&lt;refname&gt;targets.filename&lt;/refname&gt; 
+&lt;refpurpose&gt;Name of cross reference targets data file&lt;/refpurpose&gt; 
+&lt;/refnamediv&gt; 
+&lt;refsynopsisdiv&gt; &lt;programlisting id=&quot;targets.filename.frag&quot;&gt;
+&lt;xsl:param name=&quot;targets.filename&quot; select=&quot;'target.db'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt; 
+&lt;/refsynopsisdiv&gt; 
+&lt;refsect1&gt;
+&lt;title&gt;Description&lt;/title&gt; 
+&lt;para&gt;
+In order to resolve olinks efficiently, the stylesheets can
+generate an external data file containing information about
+all potential cross reference endpoints in a document.
+This parameter lets you change the name of the generated
+file from the default name &lt;filename moreinfo=&quot;none&quot;&gt;target.db&lt;/filename&gt;.
+The name must agree with that used in the target database
+used to resolve olinks during processing.
+See also &lt;parameter moreinfo=&quot;none&quot;&gt;target.database.document&lt;/parameter&gt;.
+&lt;/para&gt; 
+&lt;/refsect1&gt; 
+&lt;/refentry&gt; 
+
+&lt;refentry id=&quot;collect.xref.targets&quot;&gt; 
+&lt;refmeta&gt; 
+&lt;refentrytitle&gt;collect.xref.targets&lt;/refentrytitle&gt; 
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt; 
+&lt;/refmeta&gt; 
+&lt;refnamediv&gt; 
+&lt;refname&gt;collect.xref.targets&lt;/refname&gt; 
+&lt;refpurpose&gt;Controls whether cross reference data is
+collected&lt;/refpurpose&gt; 
+&lt;/refnamediv&gt; 
+&lt;refsynopsisdiv&gt; &lt;programlisting id=&quot;collect.xref.targets.frag&quot;&gt;
+&lt;xsl:param name=&quot;collect.xref.targets&quot; select=&quot;'no'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt; 
+&lt;/refsynopsisdiv&gt; 
+&lt;refsect1&gt; 
+&lt;title&gt;Description&lt;/title&gt; 
+&lt;para&gt;
+In order to resolve olinks efficiently, the stylesheets can
+generate an external data file containing information about
+all potential cross reference endpoints in a document.
+This parameter determines whether the collection process is run when the document is processed by the stylesheet. The default value is  &lt;literal moreinfo=&quot;none&quot;&gt;no&lt;/literal&gt;, which means the data file is not generated during processing. The other choices are &lt;literal moreinfo=&quot;none&quot;&gt;yes&lt;/literal&gt;, which means the data file is created and the document is processed for output, and &lt;literal moreinfo=&quot;none&quot;&gt;only&lt;/literal&gt;, which means the data file is created but the document is not processed for output.
+See also &lt;parameter moreinfo=&quot;none&quot;&gt;targets.filename&lt;/parameter&gt;.
+&lt;/para&gt; 
+&lt;/refsect1&gt; 
+&lt;/refentry&gt; 
+
+&lt;refentry id=&quot;olink.base.uri&quot;&gt; 
+&lt;refmeta&gt; 
+&lt;refentrytitle&gt;olink.base.uri&lt;/refentrytitle&gt; 
+&lt;refmiscinfo role=&quot;type&quot;&gt;uri&lt;/refmiscinfo&gt; 
+&lt;/refmeta&gt; 
+&lt;refnamediv&gt; 
+&lt;refname&gt;olink.base.uri&lt;/refname&gt; 
+&lt;refpurpose&gt;Base URI used in olink hrefs&lt;/refpurpose&gt; 
+&lt;/refnamediv&gt; 
+&lt;refsynopsisdiv&gt; &lt;programlisting id=&quot;olink.base.uri.frag&quot;&gt;
+&lt;xsl:param name=&quot;olink.base.uri&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt; &lt;/programlisting&gt; 
+&lt;/refsynopsisdiv&gt; 
+&lt;refsect1&gt; 
+&lt;title&gt;Description&lt;/title&gt; 
+&lt;para&gt;When cross reference data is collected for resolving olinks, it may be necessary to prepend a base URI to each target's href. This parameter lets you set that base URI when cross reference data is collected. This feature is needed when you want to link to a document that is processed without chunking. The output filename for such a document is not known to the XSL stylesheet; the only target information consists of fragment identifiers such as &lt;literal moreinfo=&quot;none&quot;&gt;#idref&lt;/literal&gt;. To enable the resolution of olinks between documents, you should pass the name of the HTML output file as the value of this parameter. Then the hrefs recorded in the cross reference data collection look like &lt;literal moreinfo=&quot;none&quot;&gt;outfile.html#idref&lt;/literal&gt;, which can  be reached as links from other documents.&lt;/para&gt; 
+&lt;/refsect1&gt; 
+&lt;/refentry&gt; 
+
+&lt;refentry id=&quot;use.local.olink.style&quot;&gt; 
+&lt;refmeta&gt; 
+&lt;refentrytitle&gt;use.local.olink.style&lt;/refentrytitle&gt; 
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt; 
+&lt;/refmeta&gt; 
+&lt;refnamediv&gt; 
+&lt;refname&gt;use.local.olink.style&lt;/refname&gt; 
+&lt;refpurpose&gt;Process olinks using xref style of current
+document&lt;/refpurpose&gt; 
+&lt;/refnamediv&gt; 
+&lt;refsynopsisdiv&gt; &lt;programlisting id=&quot;use.local.olink.style.frag&quot;&gt;
+&lt;xsl:param name=&quot;use.local.olink.style&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt; &lt;/programlisting&gt; 
+&lt;/refsynopsisdiv&gt; 
+&lt;refsect1&gt; 
+&lt;title&gt;Description&lt;/title&gt; 
+&lt;para&gt;When cross reference data is collected for use by olinks, the data for each potential target includes one field containing a completely assembled cross reference string, as if it were an xref generated in that document. Other fields record the separate title, number, and element name of each target. When an olink is formed to a target from another document, the olink resolves to that preassembled string by default. If the &lt;parameter moreinfo=&quot;none&quot;&gt;use.local.olink.style&lt;/parameter&gt; parameter is set to non-zero, then instead the cross
+reference string is formed again from the target title, number, and
+element name, using the stylesheet processing the targeting document.
+Then olinks will match the xref style in the targeting document
+rather than in the target document. If  both documents are processed
+with the same stylesheet, then the results will be the same.&lt;/para&gt; 
+&lt;/refsect1&gt; 
+&lt;/refentry&gt; 
+
+&lt;refentry id=&quot;current.docid&quot;&gt; 
+&lt;refmeta&gt; 
+&lt;refentrytitle&gt;current.docid&lt;/refentrytitle&gt; 
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt; 
+&lt;/refmeta&gt; 
+&lt;refnamediv&gt; 
+&lt;refname&gt;current.docid&lt;/refname&gt; 
+&lt;refpurpose&gt;targetdoc identifier for the document being
+processed&lt;/refpurpose&gt; 
+&lt;/refnamediv&gt; 
+&lt;refsynopsisdiv&gt; &lt;programlisting id=&quot;current.docid.frag&quot;&gt;
+&lt;xsl:param name=&quot;current.docid&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt; &lt;/programlisting&gt; 
+&lt;/refsynopsisdiv&gt; 
+&lt;refsect1&gt; 
+&lt;title&gt;Description&lt;/title&gt; 
+&lt;para&gt;When olinks between documents are resolved for HTML output, the stylesheet can compute the relative path between the current document and the target document. The stylesheet needs to know the &lt;literal moreinfo=&quot;none&quot;&gt;targetdoc&lt;/literal&gt; identifiers for both documents, as they appear in the &lt;parameter moreinfo=&quot;none&quot;&gt;target.database.document&lt;/parameter&gt; database file. This parameter passes to the stylesheet
+the targetdoc identifier of the current document, since that
+identifier does not appear in the document itself. &lt;/para&gt;
+&lt;para&gt;This parameter can also be used for print output. If an olink's  &lt;literal moreinfo=&quot;none&quot;&gt;targetdoc&lt;/literal&gt;  id differs from the &lt;literal moreinfo=&quot;none&quot;&gt;current.docid&lt;/literal&gt;, then the stylesheet can append the target document's title to the generated olink text. That identifies to the reader that the link is to a different document, not the current document. See also &lt;parameter moreinfo=&quot;none&quot;&gt;olink.doctitle&lt;/parameter&gt; to enable that feature.&lt;/para&gt; 
+&lt;/refsect1&gt; 
+&lt;/refentry&gt; 
+
+&lt;refentry id=&quot;olink.doctitle&quot;&gt; 
+&lt;refmeta&gt; 
+&lt;refentrytitle&gt;olink.doctitle&lt;/refentrytitle&gt; 
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt; 
+&lt;/refmeta&gt; 
+&lt;refnamediv&gt; 
+&lt;refname&gt;olink.doctitle&lt;/refname&gt; 
+&lt;refpurpose&gt;show the document title for external olinks?&lt;/refpurpose&gt;
+
+&lt;/refnamediv&gt; 
+&lt;refsynopsisdiv&gt; &lt;programlisting id=&quot;olink.doctitle.frag&quot;&gt;
+&lt;xsl:param name=&quot;olink.doctitle&quot; select=&quot;no&quot;&gt;&lt;/xsl:param&gt; &lt;/programlisting&gt; 
+&lt;/refsynopsisdiv&gt; 
+&lt;refsect1&gt; 
+&lt;title&gt;Description&lt;/title&gt; 
+&lt;para&gt;When olinks between documents are resolved, the generated text
+may not make it clear that the reference is to another document.
+It is possible for the stylesheets to append the other document's
+title to external olinks. For this to happen, two parameters must
+be set.&lt;/para&gt;
+&lt;itemizedlist&gt;
+&lt;listitem&gt;
+&lt;para&gt;This &lt;parameter moreinfo=&quot;none&quot;&gt;olink.doctitle&lt;/parameter&gt; parameter
+should be set to either &lt;literal moreinfo=&quot;none&quot;&gt;yes&lt;/literal&gt; or &lt;literal moreinfo=&quot;none&quot;&gt;maybe&lt;/literal&gt;
+to enable this feature.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;listitem&gt;
+&lt;para&gt;And you should also set the &lt;parameter moreinfo=&quot;none&quot;&gt;current.docid&lt;/parameter&gt;
+parameter to the document id for the  document currently
+being processed for output.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/itemizedlist&gt;
+
+&lt;para&gt;
+Then if an olink's  &lt;literal moreinfo=&quot;none&quot;&gt;targetdoc&lt;/literal&gt; id differs from
+the &lt;literal moreinfo=&quot;none&quot;&gt;current.docid&lt;/literal&gt; value, the stylesheet knows
+that it is a reference to another document and can
+append the target document's
+title to the generated olink text. &lt;/para&gt; 
+
+&lt;para&gt;The text for the target document's title is copied from the
+olink database from the &lt;sgmltag&gt;ttl&lt;/sgmltag&gt; element
+of the top-level &lt;sgmltag&gt;div&lt;/sgmltag&gt; for that document.
+If that &lt;sgmltag&gt;ttl&lt;/sgmltag&gt; element is missing or empty,
+no title is output.
+&lt;/para&gt;
+
+&lt;para&gt;The supported values for &lt;parameter moreinfo=&quot;none&quot;&gt;olink.doctitle&lt;/parameter&gt; are:
+&lt;/para&gt;
+&lt;variablelist&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;&lt;literal moreinfo=&quot;none&quot;&gt;yes&lt;/literal&gt;&lt;/term&gt;
+&lt;listitem&gt;
+&lt;para&gt;
+Always insert the title to the target document if it is not
+the current document.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;&lt;literal moreinfo=&quot;none&quot;&gt;no&lt;/literal&gt;&lt;/term&gt;
+&lt;listitem&gt;
+&lt;para&gt;
+Never insert the title to the target document, even if requested
+in an &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; attribute.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;&lt;literal moreinfo=&quot;none&quot;&gt;maybe&lt;/literal&gt;&lt;/term&gt;
+&lt;listitem&gt;
+&lt;para&gt;
+Only insert the title to the target document, if requested
+in an &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; attribute.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;/variablelist&gt;
+&lt;para&gt;An &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; attribute
+may override the global setting for individual olinks.
+The following values are supported in an
+&lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt;
+attribute using the &lt;literal moreinfo=&quot;none&quot;&gt;select:&lt;/literal&gt; syntax:
+&lt;/para&gt;
+
+&lt;variablelist&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;&lt;literal moreinfo=&quot;none&quot;&gt;docname&lt;/literal&gt;&lt;/term&gt;
+&lt;listitem&gt;
+&lt;para&gt;
+Insert the target document name for this olink using the
+&lt;literal moreinfo=&quot;none&quot;&gt;docname&lt;/literal&gt; gentext template, but only
+if the value of &lt;parameter moreinfo=&quot;none&quot;&gt;olink.doctitle&lt;/parameter&gt;
+is not &lt;literal moreinfo=&quot;none&quot;&gt;no&lt;/literal&gt;.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;&lt;literal moreinfo=&quot;none&quot;&gt;docnamelong&lt;/literal&gt;&lt;/term&gt;
+&lt;listitem&gt;
+&lt;para&gt;
+Insert the target document name for this olink using the
+&lt;literal moreinfo=&quot;none&quot;&gt;docnamelong&lt;/literal&gt; gentext template, but only
+if the value of &lt;parameter moreinfo=&quot;none&quot;&gt;olink.doctitle&lt;/parameter&gt;
+is not &lt;literal moreinfo=&quot;none&quot;&gt;no&lt;/literal&gt;.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;&lt;literal moreinfo=&quot;none&quot;&gt;nodocname&lt;/literal&gt;&lt;/term&gt;
+&lt;listitem&gt;
+&lt;para&gt;
+Omit the target document name even if
+the value of &lt;parameter moreinfo=&quot;none&quot;&gt;olink.doctitle&lt;/parameter&gt;
+is &lt;literal moreinfo=&quot;none&quot;&gt;yes&lt;/literal&gt;.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;/variablelist&gt;
+&lt;para&gt;Another way of inserting the target document name 
+for a single olink is to employ an
+&lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt;
+attribute using the &lt;literal moreinfo=&quot;none&quot;&gt;template:&lt;/literal&gt; syntax.
+The &lt;literal moreinfo=&quot;none&quot;&gt;%o&lt;/literal&gt; placeholder (the letter o, not zero)
+in such a template
+will be filled in with the target document's title when it is processed.
+This will occur regardless of 
+the value of &lt;parameter moreinfo=&quot;none&quot;&gt;olink.doctitle&lt;/parameter&gt;.
+&lt;/para&gt;
+&lt;para&gt;Note that prior to version 1.66 of the XSL stylesheets,
+the allowed values for this parameter were 0 and 1.  Those
+values are still supported and mapped to 'no' and 'yes', respectively.
+&lt;/para&gt;
+&lt;/refsect1&gt; 
+&lt;/refentry&gt; 
+
+&lt;refentry id=&quot;olink.debug&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;olink.debug&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;olink.debug&lt;/refname&gt;
+&lt;refpurpose&gt;Turn on debugging messages for olinks&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;olink.debug.frag&quot;&gt;
+&lt;xsl:param name=&quot;olink.debug&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, then each olink will generate several
+messages about how it is being resolved during processing.
+This is useful when an olink does not resolve properly
+and the standard error messages are not sufficient to
+find the problem. 
+&lt;/para&gt;
+
+&lt;para&gt;You may need to read through the olink XSL templates
+to understand the context for some of the debug messages.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;olink.properties&quot;&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;olink.properties&lt;/refname&gt;
+&lt;refpurpose&gt;Properties associated with the cross-reference 
+text of an olink.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;olink.properties.frag&quot;&gt;
+&lt;xsl:attribute-set name=&quot;olink.properties&quot;&gt;
+&lt;/xsl:attribute-set&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This attribute set is used on cross reference text
+from an olink. It is not applied to the
+optional page number or 
+optional title of the external document.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;olink.lang.fallback.sequence&quot;&gt; 
+&lt;refmeta&gt; 
+&lt;refentrytitle&gt;olink.lang.fallback.sequence&lt;/refentrytitle&gt; 
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt; 
+&lt;/refmeta&gt; 
+&lt;refnamediv&gt; 
+&lt;refname&gt;olink.lang.fallback.sequence&lt;/refname&gt; 
+&lt;refpurpose&gt;look up translated documents if olink not found?&lt;/refpurpose&gt;
+
+&lt;/refnamediv&gt; 
+&lt;refsynopsisdiv&gt; &lt;programlisting id=&quot;olink.lang.fallback.sequence.frag&quot;&gt;
+&lt;xsl:param name=&quot;olink.lang.fallback.sequence&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt; &lt;/programlisting&gt; 
+&lt;/refsynopsisdiv&gt; 
+&lt;refsect1&gt; 
+&lt;title&gt;Description&lt;/title&gt; 
+
+&lt;para&gt;This parameter defines a list of lang values
+to search among to resolve olinks.
+&lt;/para&gt;
+
+&lt;para&gt;Normally an olink tries to resolve to a document in the same
+language as the olink itself.  The language of an olink
+is determined by its nearest ancestor element with a
+&lt;sgmltag class=&quot;attribute&quot;&gt;lang&lt;/sgmltag&gt; attribute, otherwise the
+value of the &lt;parameter moreinfo=&quot;none&quot;&gt;l10n.gentext.default.lang&lt;/parameter&gt;
+parameter.
+&lt;/para&gt;
+
+&lt;para&gt;An olink database can contain target data for the same
+document in multiple languages.  Each set of data has the
+same value for the &lt;sgmltag&gt;targetdoc&lt;/sgmltag&gt; attribute in
+the &lt;sgmltag&gt;document&lt;/sgmltag&gt; element in the database, but with a 
+different &lt;sgmltag&gt;lang&lt;/sgmltag&gt; attribute value.
+&lt;/para&gt;
+
+&lt;para&gt;When an olink is being resolved, the target is first
+sought in the document with the same language as the olink.
+If no match is found there, then this parameter is consulted
+for additional languages to try.&lt;/para&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;olink.lang.fallback.sequence&lt;/parameter&gt;
+must be a whitespace separated list of lang values to
+try.  The first one with a match in the olink database is used.
+The default value is empty.&lt;/para&gt;
+
+&lt;para&gt;For example, a document might be written in German
+and contain an olink with
+&lt;literal moreinfo=&quot;none&quot;&gt;targetdoc=&quot;adminguide&quot;&lt;/literal&gt;.
+When the document is processed, the processor
+first looks for a target dataset in the
+olink database starting with:&lt;/para&gt;
+
+&lt;literallayout format=&quot;linespecific&quot; class=&quot;normal&quot;&gt;&lt;literal moreinfo=&quot;none&quot;&gt;&lt;document targetdoc=&quot;adminguide&quot; lang=&quot;de&quot;&gt;&lt;/literal&gt;.
+&lt;/literallayout&gt;
+
+&lt;para&gt;If there is no such element, then the
+&lt;parameter moreinfo=&quot;none&quot;&gt;olink.lang.fallback.sequence&lt;/parameter&gt; 
+parameter is consulted.
+If its value is, for example, &lt;quote&gt;fr en&lt;/quote&gt;, then the processor next
+looks for &lt;literal moreinfo=&quot;none&quot;&gt;targetdoc=&quot;adminguide&quot; lang=&quot;fr&quot;&lt;/literal&gt;, and
+then for &lt;literal moreinfo=&quot;none&quot;&gt;targetdoc=&quot;adminguide&quot; lang=&quot;en&quot;&lt;/literal&gt;.
+If there is still no match, it looks for
+&lt;literal moreinfo=&quot;none&quot;&gt;targetdoc=&quot;adminguide&quot;&lt;/literal&gt; with no
+lang attribute.
+&lt;/para&gt;
+
+&lt;para&gt;This parameter is useful when a set of documents is only
+partially translated, or is in the process of being translated.  
+If a target of an olink has not yet been translated, then this
+parameter permits the processor to look for the document in
+other languages.  This assumes the reader would rather have
+a link to a document in a different language than to have
+a broken link.
+&lt;/para&gt;
+
+&lt;/refsect1&gt; 
+&lt;/refentry&gt; 
+
+&lt;refentry id=&quot;insert.olink.page.number&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;insert.olink.page.number&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;insert.olink.page.number&lt;/refname&gt;
+&lt;refpurpose&gt;Turns page numbers in olinks on and off&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;insert.olink.page.number.frag&quot;&gt;
+&lt;xsl:param name=&quot;insert.olink.page.number&quot;&gt;no&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The value of this parameter determines if
+cross references made between documents with
+&lt;sgmltag&gt;olink&lt;/sgmltag&gt; will 
+include page number citations.
+In most cases this is only applicable to references in printed output.
+&lt;/para&gt;
+&lt;para&gt;The parameter has three possible values.
+&lt;/para&gt;
+&lt;variablelist&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;no&lt;/term&gt;
+&lt;listitem&gt;&lt;para&gt;No page number references will be generated for olinks.
+&lt;/para&gt;&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;yes&lt;/term&gt;
+&lt;listitem&gt;&lt;para&gt;Page number references will be generated
+for all &lt;sgmltag&gt;olink&lt;/sgmltag&gt; references.
+The style of page reference may be changed
+if an &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt;
+attribute is used.
+&lt;/para&gt;&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;maybe&lt;/term&gt;
+&lt;listitem&gt;&lt;para&gt;Page number references will not be generated
+for an &lt;sgmltag&gt;olink&lt;/sgmltag&gt; element unless 
+it has an
+&lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt;
+attribute whose value specifies a page reference.
+&lt;/para&gt;&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;/variablelist&gt;
+&lt;para&gt;Olinks that point to targets within the same document
+are treated as &lt;sgmltag&gt;xref&lt;/sgmltag&gt;s, and controlled by
+the &lt;parameter moreinfo=&quot;none&quot;&gt;insert.xref.page.number&lt;/parameter&gt; parameter.
+&lt;/para&gt;
+
+&lt;para&gt;Page number references for olinks to
+external documents can only be inserted if the 
+information exists in the olink database. 
+This means each olink target element 
+(&lt;sgmltag&gt;div&lt;/sgmltag&gt; or &lt;sgmltag&gt;obj&lt;/sgmltag&gt;)
+must have a &lt;sgmltag class=&quot;attribute&quot;&gt;page&lt;/sgmltag&gt; attribute
+whose value is its page number in the target document.
+The XSL stylesheets are not able to extract that information
+during processing because pages have not yet been created in
+XSLT transformation.  Only the XSL-FO processor knows what
+page each element is placed on.
+Therefore some postprocessing must take place to populate
+page numbers in the olink database.
+&lt;/para&gt;
+
+
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;insert.olink.pdf.frag&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;insert.olink.pdf.frag&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;insert.olink.pdf.frag&lt;/refname&gt;
+&lt;refpurpose&gt;Add fragment identifiers for links into PDF files&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;insert.olink.pdf.frag.frag&quot;&gt;
+&lt;xsl:param name=&quot;insert.olink.pdf.frag&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The value of this parameter determines whether
+the cross reference URIs to PDF documents made with
+&lt;sgmltag&gt;olink&lt;/sgmltag&gt; will 
+include fragment identifiers.
+&lt;/para&gt;
+
+&lt;para&gt;When forming a URI to link to a PDF document,
+a fragment identifier (typically a '#' followed by an
+id value) appended to the PDF filename can be used by
+the PDF viewer to open
+the PDF file to a location within the document instead of
+the first page.
+However, not all PDF files have id
+values embedded in them, and not all PDF viewers can
+handle fragment identifiers. 
+&lt;/para&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;insert.olink.pdf.frag&lt;/parameter&gt; is set
+to a non-zero value, then any olink targeting a
+PDF file will have the fragment identifier appended to the URI.
+The URI is formed by concatenating the value of the
+&lt;parameter moreinfo=&quot;none&quot;&gt;olink.base.uri&lt;/parameter&gt; parameter, the
+value of the &lt;sgmltag class=&quot;attribute&quot;&gt;baseuri&lt;/sgmltag&gt;
+attribute from the &lt;sgmltag class=&quot;element&quot;&gt;document&lt;/sgmltag&gt;
+element in the olink database with the matching
+&lt;sgmltag class=&quot;attribute&quot;&gt;targetdoc&lt;/sgmltag&gt; value,
+and the value of the &lt;sgmltag class=&quot;attribute&quot;&gt;href&lt;/sgmltag&gt;
+attribute for the targeted element in the olink database.
+The &lt;sgmltag class=&quot;attribute&quot;&gt;href&lt;/sgmltag&gt; attribute
+contains the fragment identifier.
+&lt;/para&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;insert.olink.pdf.frag&lt;/parameter&gt; is set
+to zero (the default value), then 
+the &lt;sgmltag class=&quot;attribute&quot;&gt;href&lt;/sgmltag&gt; attribute
+from the olink database
+is not appended to PDF olinks, so the fragment identifier is left off.
+A PDF olink is any olink for which the
+&lt;sgmltag class=&quot;attribute&quot;&gt;baseuri&lt;/sgmltag&gt; attribute
+from the matching &lt;sgmltag class=&quot;element&quot;&gt;document&lt;/sgmltag&gt;
+element in the olink database ends with '.pdf'.
+Any other olinks will still have the fragment identifier added.
+&lt;/para&gt;
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;prefer.internal.olink&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;prefer.internal.olink&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;prefer.internal.olink&lt;/refname&gt;
+&lt;refpurpose&gt;Prefer a local olink reference to an external reference&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;prefer.internal.olink.frag&quot;&gt;
+&lt;xsl:param name=&quot;prefer.internal.olink&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you are re-using XML content modules in multiple documents,
+you may want to redirect some of your olinks.  This parameter
+permits you to redirect an olink to the current document.
+&lt;/para&gt;
+
+&lt;para&gt;For example: you are writing documentation for a  product, 
+which includes 3 manuals: a little installation
+booklet (booklet.xml), a user 
+guide (user.xml), and a reference manual (reference.xml).
+All 3 documents begin with the same introduction section (intro.xml) that 
+contains a reference to the customization section (custom.xml) which is 
+included in both user.xml and reference.xml documents.
+&lt;/para&gt;
+
+&lt;para&gt;How do you write the link to custom.xml in intro.xml
+so that it is interpreted correctly in all 3 documents?&lt;/para&gt;
+&lt;itemizedlist&gt;
+&lt;listitem&gt;&lt;para&gt;If you use xref, it will fail in user.xml.&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;listitem&gt;&lt;para&gt;If you use olink (pointing to reference.xml),
+the reference in user.xml  
+will point to the customization section of the reference manual, while it is 
+actually available in user.xml.&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/itemizedlist&gt;
+
+&lt;para&gt;If you set the &lt;parameter moreinfo=&quot;none&quot;&gt;prefer.internal.olink&lt;/parameter&gt;
+parameter to a non-zero value, then the processor will
+first look in the olink database
+for the olink's &lt;sgmltag&gt;targetptr&lt;/sgmltag&gt; attribute value
+in document matching the &lt;parameter moreinfo=&quot;none&quot;&gt;current.docid&lt;/parameter&gt;
+parameter value.  If it isn't found there, then
+it tries the document in the database
+with the &lt;sgmltag&gt;targetdoc&lt;/sgmltag&gt;
+value that matches the olink's &lt;sgmltag&gt;targetdoc&lt;/sgmltag&gt;
+attribute.
+&lt;/para&gt;
+
+&lt;para&gt;This feature permits an olink reference to resolve to
+the current document if there is an element
+with an id matching the olink's &lt;sgmltag&gt;targetptr&lt;/sgmltag&gt;
+value.  The current document's olink data must be
+included in the target database for this to work.&lt;/para&gt;
+
+&lt;caution&gt;
+&lt;para&gt;There is a potential for incorrect links if
+the same &lt;sgmltag&gt;id&lt;/sgmltag&gt; attribute value is used for different
+content in different documents.
+Some of your olinks may be redirected to the current document
+when they shouldn't be.  It is not possible to control
+individual olink instances.&lt;/para&gt;
+&lt;/caution&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;link.mailto.url&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;link.mailto.url&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;link.mailto.url&lt;/refname&gt;
+&lt;refpurpose&gt;Mailto URL for the LINK REL=made HTML HEAD element&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;link.mailto.url.frag&quot;&gt;&lt;xsl:param name=&quot;link.mailto.url&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If not the empty string, this address will be used for the
+REL=made &lt;sgmltag&gt;LINK&lt;/sgmltag&gt; element in the HTML &lt;sgmltag&gt;HEAD&lt;/sgmltag&gt;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;ulink.target&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;ulink.target&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;ulink.target&lt;/refname&gt;
+&lt;refpurpose&gt;The HTML anchor target for ULinks&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;ulink.target.frag&quot;&gt;&lt;xsl:param name=&quot;ulink.target&quot; select=&quot;'_top'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;ulink.target&lt;/parameter&gt; is set, its value will
+be used for the &lt;sgmltag class=&quot;attribute&quot;&gt;target&lt;/sgmltag&gt; attribute
+on anchors generated for &lt;sgmltag&gt;ulink&lt;/sgmltag&gt;s.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;olink.fragid&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;olink.fragid&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;olink.fragid&lt;/refname&gt;
+&lt;refpurpose&gt;Names the fragment identifier portion of an OLink resolver query&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;olink.fragid.frag&quot;&gt;&lt;xsl:param name=&quot;olink.fragid&quot; select=&quot;'fragid='&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;olink.outline.ext&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;olink.outline.ext&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;olink.outline.ext&lt;/refname&gt;
+&lt;refpurpose&gt;The extension of OLink outline files&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;olink.outline.ext.frag&quot;&gt;&lt;xsl:param name=&quot;olink.outline.ext&quot; select=&quot;'.olink'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;olink.pubid&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;olink.pubid&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;olink.pubid&lt;/refname&gt;
+&lt;refpurpose&gt;Names the public identifier portion of an OLink resolver query&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;olink.pubid.frag&quot;&gt;&lt;xsl:param name=&quot;olink.pubid&quot; select=&quot;'pubid='&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;olink.sysid&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;olink.sysid&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;olink.sysid&lt;/refname&gt;
+&lt;refpurpose&gt;Names the system identifier portion of an OLink resolver query&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;olink.sysid.frag&quot;&gt;&lt;xsl:param name=&quot;olink.sysid&quot; select=&quot;'sysid='&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;olink.resolver&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;olink.resolver&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;olink.resolver&lt;/refname&gt;
+&lt;refpurpose&gt;The root name of the OLink resolver (usually a script)&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;olink.resolver.frag&quot;&gt;&lt;xsl:param name=&quot;olink.resolver&quot; select=&quot;'/cgi-bin/olink'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Bibliography&lt;/title&gt;
+&lt;refentry id=&quot;biblioentry.item.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;biblioentry.item.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;biblioentry.item.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Text to separate bibliography entries&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;biblioentry.item.separator.frag&quot;&gt;&lt;xsl:param name=&quot;biblioentry.item.separator&quot;&gt;. &lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Text to separate bibliography entries
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;bibliography.collection&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;bibliography.collection&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;bibliography.collection&lt;/refname&gt;
+&lt;refpurpose&gt;Name of the bibliography collection file&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;bibliography.collection.frag&quot;&gt;&lt;xsl:param name=&quot;bibliography.collection&quot; select=&quot;'<A HREF="http://docbook.sourceforge.net/release/bibliography/bibliography.xml">http://docbook.sourceforge.net/release/bibliography/bibliography.xml</A>'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Maintaining bibliography entries across a set of documents is tedious, time
+consuming, and error prone. It makes much more sense, usually, to store all of
+the bibliography entries in a single place and simply &lt;quote&gt;extract&lt;/quote&gt;
+the ones you need in each document.&lt;/para&gt;
+
+&lt;para&gt;That's the purpose of the
+&lt;parameter moreinfo=&quot;none&quot;&gt;bibliography.collection&lt;/parameter&gt; parameter. To setup a global
+bibliography &lt;quote&gt;database&lt;/quote&gt;, follow these steps:&lt;/para&gt;
+
+&lt;para&gt;First, create a stand-alone bibliography document that contains all of
+the documents that you wish to reference. Make sure that each bibliography
+entry (whether you use &lt;sgmltag&gt;biblioentry&lt;/sgmltag&gt; or &lt;sgmltag&gt;bibliomixed&lt;/sgmltag&gt;)
+has an ID.&lt;/para&gt;
+
+&lt;para&gt;My global bibliography, &lt;filename moreinfo=&quot;none&quot;&gt;~/bibliography.xml&lt;/filename&gt; begins
+like this:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;!DOCTYPE bibliography
+  PUBLIC &quot;-//OASIS//DTD DocBook XML V4.1.2//EN&quot;
+  &quot;<A HREF="http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd</A>&quot;&gt;
+&lt;bibliography&gt;&lt;title&gt;References&lt;/title&gt;
+
+&lt;bibliomixed id=&quot;xml-rec&quot;&gt;&lt;abbrev&gt;XML 1.0&lt;/abbrev&gt;Tim Bray,
+Jean Paoli, C. M. Sperberg-McQueen, and Eve Maler, editors.
+&lt;citetitle&gt;&lt;ulink url=&quot;<A HREF="http://www.w3.org/TR/REC-xml">http://www.w3.org/TR/REC-xml</A>&quot;&gt;Extensible Markup
+Language (XML) 1.0 Second Edition&lt;/ulink&gt;&lt;/citetitle&gt;.
+World Wide Web Consortium, 2000.
+&lt;/bibliomixed&gt;
+
+&lt;bibliomixed id=&quot;xml-names&quot;&gt;&lt;abbrev&gt;Namespaces&lt;/abbrev&gt;Tim Bray,
+Dave Hollander,
+and Andrew Layman, editors.
+&lt;citetitle&gt;&lt;ulink url=&quot;<A HREF="http://www.w3.org/TR/REC-xml-names/">http://www.w3.org/TR/REC-xml-names/</A>&quot;&gt;Namespaces in
+XML&lt;/ulink&gt;&lt;/citetitle&gt;.
+World Wide Web Consortium, 1999.
+&lt;/bibliomixed&gt;
+
+&lt;!-- ... --&gt;
+&lt;/bibliography&gt;
+&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+
+&lt;para&gt;When you create a bibliography in your document, simply
+provide &lt;emphasis&gt;empty&lt;/emphasis&gt; &lt;sgmltag&gt;bibliomixed&lt;/sgmltag&gt;
+entries for each document that you wish to cite. Make sure that these
+elements have the same ID as the corresponding &lt;quote&gt;real&lt;/quote&gt;
+entry in your global bibliography.&lt;/para&gt;
+
+&lt;para&gt;For example:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;bibliography&gt;&lt;title&gt;Bibliography&lt;/title&gt;
+
+&lt;bibliomixed id=&quot;xml-rec&quot;/&gt;
+&lt;bibliomixed id=&quot;xml-names&quot;/&gt;
+&lt;bibliomixed id=&quot;DKnuth86&quot;&gt;Donald E. Knuth. &lt;citetitle&gt;Computers and
+Typesetting: Volume B, TeX: The Program&lt;/citetitle&gt;. Addison-Wesley,
+1986.  ISBN 0-201-13437-3.
+&lt;/bibliomixed&gt;
+&lt;bibliomixed id=&quot;relaxng&quot;/&gt;
+
+&lt;/bibliography&gt;&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+
+&lt;para&gt;Note that it's perfectly acceptable to mix entries from your
+global bibliography with &lt;quote&gt;normal&lt;/quote&gt; entries. You can use
+&lt;sgmltag&gt;xref&lt;/sgmltag&gt; or other elements to cross-reference your
+bibliography entries in exactly the same way you do now.&lt;/para&gt;
+
+&lt;para&gt;Finally, when you are ready to format your document, simply set the
+&lt;parameter moreinfo=&quot;none&quot;&gt;bibliography.collection&lt;/parameter&gt; parameter (in either a
+customization layer or directly through your processor's interface) to
+point to your global bibliography.&lt;/para&gt;
+
+&lt;para&gt;The stylesheets will format the bibliography in your document as if
+all of the entries referenced appeared there literally.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;bibliography.numbered&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;bibliography.numbered&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;bibliography.numbered&lt;/refname&gt;
+&lt;refpurpose&gt;Should bibliography entries be numbered?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;bibliography.numbered.frag&quot;&gt;
+&lt;xsl:param name=&quot;bibliography.numbered&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero bibliography entries will be numbered&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Glossary&lt;/title&gt;
+&lt;refentry id=&quot;glossterm.auto.link&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;glossterm.auto.link&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;glossterm.auto.link&lt;/refname&gt;
+&lt;refpurpose&gt;Generate links from glossterm to glossentry automaticaly?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;glossterm.auto.link.frag&quot;&gt;
+&lt;xsl:param name=&quot;glossterm.auto.link&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, a link will be automatically created from glossterm 
+to glossentry for that glossary term. This is usefull when your
+glossterm names are consistent and you don't want to add links
+manually.&lt;/para&gt;
+&lt;para&gt;If there is &lt;sgmltag class=&quot;attribute&quot;&gt;linkend&lt;/sgmltag&gt; on
+&lt;sgmltag&gt;glossterm&lt;/sgmltag&gt; then is used instead of autogeneration of
+link.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;firstterm.only.link&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;firstterm.only.link&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;firstterm.only.link&lt;/refname&gt;
+&lt;refpurpose&gt;Does automatic glossterm linking only apply to firstterms?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;firstterm.only.link.frag&quot;&gt;
+&lt;xsl:param name=&quot;firstterm.only.link&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true, only &lt;sgmltag&gt;firstterm&lt;/sgmltag&gt;s will be automatically linked
+to the glossary. If glossary linking is not enabled, this parameter
+has no effect.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;glossary.collection&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;glossary.collection&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;glossary.collection&lt;/refname&gt;
+&lt;refpurpose&gt;Name of the glossary collection file&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;glossary.collection.frag&quot;&gt;
+&lt;xsl:param name=&quot;glossary.collection&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Glossaries maintained independently across a set of documents
+are likely to become inconsistent unless considerable effort is
+expended to keep them in sync. It makes much more sense, usually, to
+store all of the glossary entries in a single place and simply
+&lt;quote&gt;extract&lt;/quote&gt; the ones you need in each document.&lt;/para&gt;
+
+&lt;para&gt;That's the purpose of the
+&lt;parameter moreinfo=&quot;none&quot;&gt;glossary.collection&lt;/parameter&gt; parameter. To setup a global
+glossary &lt;quote&gt;database&lt;/quote&gt;, follow these steps:&lt;/para&gt;
+
+&lt;refsect2&gt;&lt;title&gt;Setting Up the Glossary Database&lt;/title&gt;
+
+&lt;para&gt;First, create a stand-alone glossary document that contains all of
+the entries that you wish to reference. Make sure that each glossary
+entry has an ID.&lt;/para&gt;
+
+&lt;para&gt;Here's an example glossary:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;!DOCTYPE glossary
+  PUBLIC &quot;-//OASIS//DTD DocBook XML V4.1.2//EN&quot;
+  &quot;<A HREF="http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd</A>&quot;&gt;
+&lt;glossary&gt;
+&lt;glossaryinfo&gt;
+&lt;editor&gt;&lt;firstname&gt;Eric&lt;/firstname&gt;&lt;surname&gt;Raymond&lt;/surname&gt;&lt;/editor&gt;
+&lt;title&gt;Jargon File 4.2.3 (abridged)&lt;/title&gt;
+&lt;releaseinfo&gt;Just some test data&lt;/releaseinfo&gt;
+&lt;/glossaryinfo&gt;
+
+&lt;glossdiv&gt;&lt;title&gt;0&lt;/title&gt;
+
+&lt;glossentry&gt;
+&lt;glossterm&gt;0&lt;/glossterm&gt;
+&lt;glossdef&gt;
+&lt;para&gt;Numeric zero, as opposed to the letter `O' (the 15th letter of
+the English alphabet). In their unmodified forms they look a lot
+alike, and various kluges invented to make them visually distinct have
+compounded the confusion. If your zero is center-dotted and letter-O
+is not, or if letter-O looks almost rectangular but zero looks more
+like an American football stood on end (or the reverse), you're
+probably looking at a modern character display (though the dotted zero
+seems to have originated as an option on IBM 3270 controllers). If
+your zero is slashed but letter-O is not, you're probably looking at
+an old-style ASCII graphic set descended from the default typewheel on
+the venerable ASR-33 Teletype (Scandinavians, for whom /O is a letter,
+curse this arrangement). (Interestingly, the slashed zero long
+predates computers; Florian Cajori's monumental &quot;A History of
+Mathematical Notations&quot; notes that it was used in the twelfth and
+thirteenth centuries.) If letter-O has a slash across it and the zero
+does not, your display is tuned for a very old convention used at IBM
+and a few other early mainframe makers (Scandinavians curse &lt;emphasis&gt;this&lt;/emphasis&gt;
+arrangement even more, because it means two of their letters collide).
+Some Burroughs/Unisys equipment displays a zero with a &lt;emphasis&gt;reversed&lt;/emphasis&gt;
+slash. Old CDC computers rendered letter O as an unbroken oval and 0
+as an oval broken at upper right and lower left. And yet another
+convention common on early line printers left zero unornamented but
+added a tail or hook to the letter-O so that it resembled an inverted
+Q or cursive capital letter-O (this was endorsed by a draft ANSI
+standard for how to draw ASCII characters, but the final standard
+changed the distinguisher to a tick-mark in the upper-left corner).
+Are we sufficiently confused yet?&lt;/para&gt;
+&lt;/glossdef&gt;
+&lt;/glossentry&gt;
+
+&lt;glossentry&gt;
+&lt;glossterm&gt;1TBS&lt;/glossterm&gt;
+&lt;glossdef&gt;
+&lt;para role=&quot;accidence&quot;&gt;
+&lt;phrase role=&quot;pronounce&quot;&gt;&lt;/phrase&gt;
+&lt;phrase role=&quot;partsofspeach&quot;&gt;n&lt;/phrase&gt;
+&lt;/para&gt;
+&lt;para&gt;The &quot;One True Brace Style&quot;&lt;/para&gt;
+&lt;glossseealso&gt;indent style&lt;/glossseealso&gt;
+&lt;/glossdef&gt;
+&lt;/glossentry&gt;
+
+&lt;!-- ... --&gt;
+
+&lt;/glossdiv&gt;
+
+&lt;!-- ... --&gt;
+
+&lt;/glossary&gt;&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+
+&lt;/refsect2&gt;
+
+&lt;refsect2&gt;&lt;title&gt;Marking Up Glossary Terms&lt;/title&gt;
+
+&lt;para&gt;That takes care of the glossary database, now you have to get the entries
+into your document. Unlike bibliography entries, which can be empty, creating
+&lt;quote&gt;placeholder&lt;/quote&gt; glossary entries would be very tedious. So instead,
+support for &lt;parameter moreinfo=&quot;none&quot;&gt;glossary.collection&lt;/parameter&gt; relies on implicit linking.&lt;/para&gt;
+
+&lt;para&gt;In your source document, simply use &lt;sgmltag&gt;firstterm&lt;/sgmltag&gt; and
+&lt;sgmltag&gt;glossterm&lt;/sgmltag&gt; to identify the terms you wish to have included
+in the glossary. The stylesheets assume that you will either set the
+&lt;sgmltag class=&quot;attribute&quot;&gt;baseform&lt;/sgmltag&gt; attribute correctly, or that the
+content of the element exactly matches a term in your glossary.&lt;/para&gt;
+
+&lt;para&gt;If you're using a &lt;parameter moreinfo=&quot;none&quot;&gt;glossary.collection&lt;/parameter&gt;, don't
+make explicit links on the terms in your document.&lt;/para&gt;
+
+&lt;para&gt;So, in your document, you might write things like this:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;para&gt;This is dummy text, without any real meaning.
+The point is simply to reference glossary terms like &lt;glossterm&gt;0&lt;/glossterm&gt;
+and the &lt;firstterm baseform=&quot;1TBS&quot;&gt;One True Brace Style (1TBS)&lt;/firstterm&gt;.
+The &lt;glossterm&gt;1TBS&lt;/glossterm&gt;, as you can probably imagine, is a nearly
+religious issue.&lt;/para&gt;&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+
+&lt;para&gt;If you set the &lt;parameter moreinfo=&quot;none&quot;&gt;firstterm.only.link&lt;/parameter&gt; parameter,
+only the terms marked with &lt;sgmltag&gt;firstterm&lt;/sgmltag&gt; will be links.
+Otherwise, all the terms will be linked.&lt;/para&gt;
+
+&lt;/refsect2&gt;
+
+&lt;refsect2&gt;&lt;title&gt;Marking Up the Glossary&lt;/title&gt;
+
+&lt;para&gt;The glossary itself has to be identified for the stylesheets. For lack
+of a better choice, the &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; is used.
+To identify the glossary as the target for automatic processing, set
+the role to &lt;quote&gt;&lt;literal moreinfo=&quot;none&quot;&gt;auto&lt;/literal&gt;&lt;/quote&gt;. The title of this
+glossary (and any other information from the &lt;sgmltag&gt;glossaryinfo&lt;/sgmltag&gt;
+that's rendered by your stylesheet) will be displayed, but the entries will
+come from the database.
+&lt;/para&gt;
+
+&lt;para&gt;Unfortunately, the glossary can't be empty, so you must put in
+at least one &lt;sgmltag&gt;glossentry&lt;/sgmltag&gt;. The content of this entry
+is irrelevant, it will not be rendered:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;glossary role=&quot;auto&quot;&gt;
+&lt;glossentry&gt;
+&lt;glossterm&gt;Irrelevant&lt;/glossterm&gt;
+&lt;glossdef&gt;
+&lt;para&gt;If you can see this, the document was processed incorrectly. Use
+the &lt;parameter&gt;glossary.collection&lt;/parameter&gt; parameter.&lt;/para&gt;
+&lt;/glossdef&gt;
+&lt;/glossentry&gt;
+&lt;/glossary&gt;&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+
+&lt;para&gt;What about glossary divisions? If your glossary database has glossary
+divisions &lt;emphasis&gt;and&lt;/emphasis&gt; your automatic glossary contains at least
+one &lt;sgmltag&gt;glossdiv&lt;/sgmltag&gt;, the automic glossary will have divisions.
+If the &lt;sgmltag&gt;glossdiv&lt;/sgmltag&gt; is missing from either location, no divisions
+will be rendered.&lt;/para&gt;
+
+&lt;para&gt;Glossary entries (and divisions, if appropriate) in the glossary will
+occur in precisely the order they occur in your database.&lt;/para&gt;
+
+&lt;/refsect2&gt;
+
+&lt;refsect2&gt;&lt;title&gt;Formatting the Document&lt;/title&gt;
+
+&lt;para&gt;Finally, when you are ready to format your document, simply set the
+&lt;parameter moreinfo=&quot;none&quot;&gt;glossary.collection&lt;/parameter&gt; parameter (in either a
+customization layer or directly through your processor's interface) to
+point to your global glossary.&lt;/para&gt;
+
+&lt;para&gt;The stylesheets will format the glossary in your document as if
+all of the entries implicilty referenced appeared there literally.&lt;/para&gt;
+&lt;/refsect2&gt;
+
+&lt;refsect2&gt;&lt;title&gt;Limitations&lt;/title&gt;
+
+&lt;para&gt;Glossary cross-references &lt;emphasis&gt;within the glossary&lt;/emphasis&gt; are
+not supported. For example, this &lt;emphasis&gt;will not&lt;/emphasis&gt; work:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;glossentry&gt;
+&lt;glossterm&gt;gloss-1&lt;/glossterm&gt;
+&lt;glossdef&gt;&lt;para&gt;A description that references &lt;glossterm&gt;gloss-2&lt;/glossterm&gt;.&lt;/para&gt;
+&lt;glossseealso&gt;gloss-2&lt;/glossseealso&gt;
+&lt;/glossdef&gt;
+&lt;/glossentry&gt;&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+
+&lt;para&gt;If you put glossary cross-references in your glossary that way,
+you'll get the cryptic error: &lt;computeroutput moreinfo=&quot;none&quot;&gt;Warning:
+glossary.collection specified, but there are 0 automatic
+glossaries&lt;/computeroutput&gt;.&lt;/para&gt;
+
+&lt;para&gt;Instead, you must do two things:&lt;/para&gt;
+
+&lt;orderedlist inheritnum=&quot;ignore&quot; continuation=&quot;restarts&quot;&gt;
+&lt;listitem&gt;
+&lt;para&gt;Markup your glossary using &lt;sgmltag&gt;glossseealso&lt;/sgmltag&gt;:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;glossentry&gt;
+&lt;glossterm&gt;gloss-1&lt;/glossterm&gt;
+&lt;glossdef&gt;&lt;para&gt;A description that references &lt;glossterm&gt;gloss-2&lt;/glossterm&gt;.&lt;/para&gt;
+&lt;glossseealso&gt;gloss-2&lt;/glossseealso&gt;
+&lt;/glossdef&gt;
+&lt;/glossentry&gt;&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+&lt;/listitem&gt;
+
+&lt;listitem&gt;
+&lt;para&gt;Make sure there is at least one &lt;sgmltag&gt;glossterm&lt;/sgmltag&gt; reference to
+&lt;glossterm&gt;gloss-2&lt;/glossterm&gt; &lt;emphasis&gt;in your document&lt;/emphasis&gt;. The
+easiest way to do that is probably within a &lt;sgmltag&gt;remark&lt;/sgmltag&gt; in your
+automatic glossary:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;glossary role=&quot;auto&quot;&gt;
+&lt;remark&gt;Make sure there's a reference to &lt;glossterm&gt;gloss-2&lt;/glossterm&gt;.&lt;/remark&gt;
+&lt;glossentry&gt;
+&lt;glossterm&gt;Irrelevant&lt;/glossterm&gt;
+&lt;glossdef&gt;
+&lt;para&gt;If you can see this, the document was processed incorrectly. Use
+the &lt;parameter&gt;glossary.collection&lt;/parameter&gt; parameter.&lt;/para&gt;
+&lt;/glossdef&gt;
+&lt;/glossentry&gt;
+&lt;/glossary&gt;&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+&lt;/listitem&gt;
+&lt;/orderedlist&gt;
+&lt;/refsect2&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;glossentry.show.acronym&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;glossentry.show.acronym&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;list&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;glossentry.show.acronym&lt;/refname&gt;
+&lt;refpurpose&gt;Display &lt;sgmltag&gt;glossentry&lt;/sgmltag&gt; acronyms?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;glossentry.show.acronym.frag&quot;&gt;
+&lt;xsl:param name=&quot;glossentry.show.acronym&quot; select=&quot;'no'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;A setting of &lt;quote&gt;yes&lt;/quote&gt; means they should be displayed;
+&lt;quote&gt;no&lt;/quote&gt; means they shouldn't. If &lt;quote&gt;primary&lt;/quote&gt; is used,
+then they are shown as the primary text for the entry.&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This setting controls both &lt;sgmltag&gt;acronym&lt;/sgmltag&gt; and
+&lt;sgmltag&gt;abbrev&lt;/sgmltag&gt; elements in the &lt;sgmltag&gt;glossentry&lt;/sgmltag&gt;.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Miscellaneous&lt;/title&gt;
+&lt;refentry id=&quot;formal.procedures&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;formal.procedures&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;formal.procedures&lt;/refname&gt;
+&lt;refpurpose&gt;Selects formal or informal procedures&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;formal.procedures.frag&quot;&gt;
+&lt;xsl:param name=&quot;formal.procedures&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Formal procedures are numbered and always have a title.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;formal.title.placement&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;formal.title.placement&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;formal.title.placement&lt;/refname&gt;
+&lt;refpurpose&gt;Specifies where formal object titles should occur&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;formal.title.placement.frag&quot;&gt;
+&lt;xsl:param name=&quot;formal.title.placement&quot;&gt;
+figure before
+example before
+equation before
+table before
+procedure before
+task before
+&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Specifies where formal object titles should occur. For each formal object
+type (&lt;sgmltag&gt;figure&lt;/sgmltag&gt;,
+&lt;sgmltag&gt;example&lt;/sgmltag&gt;,
+&lt;sgmltag&gt;equation&lt;/sgmltag&gt;,
+&lt;sgmltag&gt;table&lt;/sgmltag&gt;, and &lt;sgmltag&gt;procedure&lt;/sgmltag&gt;)
+you can specify either the keyword
+&lt;quote&gt;&lt;literal moreinfo=&quot;none&quot;&gt;before&lt;/literal&gt;&lt;/quote&gt; or
+&lt;quote&gt;&lt;literal moreinfo=&quot;none&quot;&gt;after&lt;/literal&gt;&lt;/quote&gt;.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;runinhead.default.title.end.punct&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;runinhead.default.title.end.punct&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;runinhead.default.title.end.punct&lt;/refname&gt;
+&lt;refpurpose&gt;Default punctuation character on a run-in-head&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;runinhead.default.title.end.punct.frag&quot;&gt;&lt;xsl:param name=&quot;runinhead.default.title.end.punct&quot; select=&quot;'.'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;runinhead.title.end.punct&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;runinhead.title.end.punct&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;runinhead.title.end.punct&lt;/refname&gt;
+&lt;refpurpose&gt;Characters that count as punctuation on a run-in-head&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;runinhead.title.end.punct.frag&quot;&gt;&lt;xsl:param name=&quot;runinhead.title.end.punct&quot; select=&quot;'.!?:'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;show.comments&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;show.comments&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;show.comments&lt;/refname&gt;
+&lt;refpurpose&gt;Display &lt;sgmltag&gt;comment&lt;/sgmltag&gt; elements?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;show.comments.frag&quot;&gt;&lt;xsl:param name=&quot;show.comments&quot;&gt;1&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), comments will be displayed, otherwise they are suppressed.
+Comments here refers to the &lt;sgmltag&gt;comment&lt;/sgmltag&gt; element,
+which will be renamed &lt;sgmltag&gt;remark&lt;/sgmltag&gt; in DocBook V4.0,
+not XML comments (&lt;-- like this --&gt;) which are unavailable.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;show.revisionflag&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;show.revisionflag&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;show.revisionflag&lt;/refname&gt;
+&lt;refpurpose&gt;Enable decoration of elements that have a revisionflag&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;show.revisionflag.frag&quot;&gt;&lt;xsl:param name=&quot;show.revisionflag&quot;&gt;0&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+If &lt;literal moreinfo=&quot;none&quot;&gt;show.revisionflag&lt;/literal&gt; is turned on, then the stylesheets
+may produce additional markup designed to allow a CSS stylesheet to
+highlight elements that have specific revisionflag settings.&lt;/para&gt;
+
+&lt;para&gt;The markup inserted will be usually be either a &lt;span&gt; or &lt;div&gt;
+with an appropriate &lt;literal moreinfo=&quot;none&quot;&gt;class&lt;/literal&gt; attribute. (The value of
+the class attribute will be the same as the value of the revisionflag
+attribute). In some contexts, for example tables, where extra markup
+would be structurally illegal, the class attribute will be added to the
+appropriate container element.&lt;/para&gt;
+
+&lt;para&gt;In general, the stylesheets only test for revisionflag in contexts
+where an importing stylesheet would have to redefine whole templates.
+Most of the revisionflag processing is expected to be done by another
+stylesheet, for example &lt;filename moreinfo=&quot;none&quot;&gt;changebars.xsl&lt;/filename&gt;.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;shade.verbatim&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;shade.verbatim&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;shade.verbatim&lt;/refname&gt;
+&lt;refpurpose&gt;Should verbatim environments be shaded?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;shade.verbatim.frag&quot;&gt;&lt;xsl:param name=&quot;shade.verbatim&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;In the FO stylesheet, if this parameter is non-zero then the
+&lt;property moreinfo=&quot;none&quot;&gt;shade.verbatim.style&lt;/property&gt; properties will be applied
+to verbatim environments.&lt;/para&gt;
+
+&lt;para&gt;In the HTML stylesheet, this parameter is now deprecated. Use
+CSS instead.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;shade.verbatim.style&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;shade.verbatim.style&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;shade.verbatim.style&lt;/refname&gt;
+&lt;refpurpose&gt;Properties that specify the style of shaded verbatim listings&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;shade.verbatim.style.frag&quot;&gt;
+&lt;xsl:attribute-set name=&quot;shade.verbatim.style&quot;&gt;
+  &lt;xsl:attribute name=&quot;border&quot;&gt;0&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;#E0E0E0&lt;/xsl:attribute&gt;
+&lt;/xsl:attribute-set&gt;
+
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;punct.honorific&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;punct.honorific&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;punct.honorific&lt;/refname&gt;
+&lt;refpurpose&gt;Punctuation after an honorific in a personal name.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;punct.honorific.frag&quot;&gt;
+&lt;xsl:param name=&quot;punct.honorific&quot; select=&quot;'.'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the punctuation that should be added after an
+honorific in a personal name.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;segmentedlist.as.table&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;segmentedlist.as.table&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;segmentedlist.as.table&lt;/refname&gt;
+&lt;refpurpose&gt;Format segmented lists as tables?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;segmentedlist.as.table.frag&quot;&gt;
+&lt;xsl:param name=&quot;segmentedlist.as.table&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, &lt;sgmltag&gt;segmentedlist&lt;/sgmltag&gt;s will be formatted as
+tables.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;variablelist.as.table&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;variablelist.as.table&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;variablelist.as.table&lt;/refname&gt;
+&lt;refpurpose&gt;Format &lt;sgmltag&gt;variablelist&lt;/sgmltag&gt;s as tables?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;variablelist.as.table.frag&quot;&gt;
+&lt;xsl:param name=&quot;variablelist.as.table&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, &lt;sgmltag&gt;variablelist&lt;/sgmltag&gt;s will be formatted as
+tables. A processing instruction exists to specify a particualar width for the 
+column containing the &lt;sgmltag&gt;term&lt;/sgmltag&gt;s:   
+&lt;sgmltab class=&quot;pi&quot;&gt;dbhtml term-width=&quot;.25in&quot;&lt;/sgmltab&gt;&lt;/para&gt;
+
+&lt;para&gt;You can override this setting with a processing instruction as the
+child of &lt;sgmltag&gt;variablelist&lt;/sgmltag&gt;: &lt;sgmltag class=&quot;pi&quot;&gt;dbhtml
+list-presentation=&quot;table&quot;&lt;/sgmltag&gt; or &lt;sgmltag class=&quot;pi&quot;&gt;dbhtml
+list-presentation=&quot;list&quot;&lt;/sgmltag&gt;.&lt;/para&gt;
+
+&lt;para&gt;This parameter only applys to the HTML transformations. In the
+FO case, proper list markup is robust enough to handle the formatting.
+But see also &lt;parameter moreinfo=&quot;none&quot;&gt;variablelist.as.blocks&lt;/parameter&gt;.&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;  &lt;variablelist&gt;
+        &lt;?dbhtml list-presentation=&quot;table&quot;?&gt;
+        &lt;?dbhtml term-width=&quot;1.5in&quot;?&gt;
+        &lt;?dbfo list-presentation=&quot;list&quot;?&gt;
+        &lt;?dbfo term-width=&quot;1in&quot;?&gt;
+        &lt;varlistentry&gt;
+          &lt;term&gt;list&lt;/term&gt;
+          &lt;listitem&gt;
+                &lt;para&gt;
+                  Formatted as a table even if variablelist.as.table is set to 0.
+                &lt;/para&gt;
+          &lt;/listitem&gt;
+        &lt;/varlistentry&gt;
+  &lt;/variablelist&gt;&lt;/programlisting&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;tex.math.in.alt&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;tex.math.in.alt&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;tex.math.in.alt&lt;/refname&gt;
+&lt;refpurpose&gt;TeX notation used for equations&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;tex.math.in.alt.frag&quot;&gt;
+&lt;xsl:param name=&quot;tex.math.in.alt&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want type math directly in TeX notation in equations,
+this parameter specifies notation used. Currently are supported two
+values -- &lt;literal moreinfo=&quot;none&quot;&gt;plain&lt;/literal&gt; and &lt;literal moreinfo=&quot;none&quot;&gt;latex&lt;/literal&gt;. Empty
+value means that you are not using TeX math at all.&lt;/para&gt;
+
+&lt;para&gt;Preferred way for including TeX alternative of math is inside of
+&lt;sgmltag&gt;textobject&lt;/sgmltag&gt; element. Eg.:&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;inlineequation&gt;
+&lt;inlinemediaobject&gt;
+&lt;imageobject&gt;
+&lt;imagedata fileref=&quot;eq1.gif&quot;/&gt;
+&lt;/imageobject&gt;
+&lt;textobject&gt;&lt;phrase&gt;E=mc squared&lt;/phrase&gt;&lt;/textobject&gt;
+&lt;textobject role=&quot;tex&quot;&gt;&lt;phrase&gt;E=mc^2&lt;/phrase&gt;&lt;/textobject&gt;
+&lt;/inlinemediaobject&gt;
+&lt;/inlineequation&gt;&lt;/programlisting&gt;
+
+&lt;para&gt;If you are using &lt;sgmltag&gt;graphic&lt;/sgmltag&gt; element, you can
+store TeX inside &lt;sgmltag&gt;alt&lt;/sgmltag&gt; element:&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;inlineequation&gt;
+&lt;alt role=&quot;tex&quot;&gt;a^2+b^2=c^2&lt;/alt&gt;
+&lt;graphic fileref=&quot;a2b2c2.gif&quot;/&gt;  
+&lt;/inlineequation&gt;&lt;/programlisting&gt;
+
+&lt;para&gt;If you want use this feature, you should process your FO with
+PassiveTeX, which only supports TeX math notation. When calling
+stylsheet, don't forget to specify also
+passivetex.extensions=1.&lt;/para&gt;
+
+&lt;para&gt;If you want equations in HTML, just process generated file
+&lt;filename moreinfo=&quot;none&quot;&gt;tex-math-equations.tex&lt;/filename&gt; by TeX or LaTeX. Then run
+dvi2bitmap program on result DVI file. You will get images for
+equations in your document.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;tex.math.file&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;tex.math.file&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;tex.math.file&lt;/refname&gt;
+&lt;refpurpose&gt;Name of temporary file for generating images from equations&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;tex.math.file.frag&quot;&gt;
+&lt;xsl:param name=&quot;tex.math.file&quot; select=&quot;'tex-math-equations.tex'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Name of auxiliary file for TeX equations. This file can be
+processed by dvi2bitmap to get bitmap versions of equations for HTML
+output.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;tex.math.delims&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;tex.math.delims&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;tex.math.delims&lt;/refname&gt;
+&lt;refpurpose&gt;Should be equations outputed for processing by TeX
+automatically surrounded by math mode delimiters&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;tex.math.delims.frag&quot;&gt;
+&lt;xsl:param name=&quot;tex.math.delims&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;For compatibility with DSSSL based DBTeXMath from Allin Cottrell
+you should set this parameter to 0.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;pixels.per.inch&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;pixels.per.inch&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;pixels.per.inch&lt;/refname&gt;
+&lt;refpurpose&gt;How many pixels are there per inch?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;pixels.per.inch.frag&quot;&gt;
+&lt;xsl:param name=&quot;pixels.per.inch&quot; select=&quot;90&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;When lengths are converted to pixels, this value is used to
+determine the size of a pixel. The default value is taken from the
+&lt;ulink url=&quot;<A HREF="http://www.w3.org/TR/xsl/slice5.html#pixels">http://www.w3.org/TR/xsl/slice5.html#pixels</A>&quot;&gt;XSL
+Recommendation&lt;/ulink&gt;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;points.per.em&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;points.per.em&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;number&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;points.per.em&lt;/refname&gt;
+&lt;refpurpose&gt;Specify the nominal size of an em-space in points&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;points.per.em.frag&quot;&gt;
+&lt;xsl:param name=&quot;points.per.em&quot; select=&quot;10&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;use.svg&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;use.svg&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;use.svg&lt;/refname&gt;
+&lt;refpurpose&gt;Allow SVG in the result tree?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;use.svg.frag&quot;&gt;
+&lt;xsl:param name=&quot;use.svg&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, SVG will be considered an acceptable image format. SVG
+is passed through to the result tree, so correct rendering of the resulting
+diagram depends on the formatter (FO processor or web browser) that is used
+to process the output from the stylesheet.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;use.role.as.xrefstyle&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;use.role.as.xrefstyle&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;use.role.as.xrefstyle&lt;/refname&gt;
+&lt;refpurpose&gt;Use &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; attribute for
+&lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; on &lt;sgmltag&gt;xref&lt;/sgmltag&gt;?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;use.role.as.xrefstyle.frag&quot;&gt;
+&lt;xsl:param name=&quot;use.role.as.xrefstyle&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, the &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; attribute on
+&lt;sgmltag&gt;xref&lt;/sgmltag&gt; will be used to select the cross reference style.
+The &lt;ulink url=&quot;<A HREF="http://www.oasis-open.org/docbook/">http://www.oasis-open.org/docbook/</A>&quot;&gt;DocBook
+Technical Committee&lt;/ulink&gt; recently added an
+&lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; attribute for this purpose.
+If the &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; attribute
+is present, &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; will be ignored, regardless
+of this setting.&lt;/para&gt;
+
+&lt;para&gt;Until an official DocBook release that includes the new
+attribute, this flag allows &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt;
+to serve that purpose.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Example&lt;/title&gt;
+
+&lt;para&gt;The following small stylesheet shows how to configure the stylesheets to make
+use of the cross reference style:&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version=&quot;1.0&quot;&gt;
+
+&lt;xsl:import href=&quot;../xsl/html/docbook.xsl&quot;/&gt;
+
+&lt;xsl:output method=&quot;html&quot;/&gt;
+
+&lt;xsl:param name=&quot;local.l10n.xml&quot; select=&quot;document('')&quot;/&gt;
+&lt;l:i18n xmlns:l=&quot;<A HREF="http://docbook.sourceforge.net/xmlns/l10n/1.0">http://docbook.sourceforge.net/xmlns/l10n/1.0</A>&quot;&gt;
+  &lt;l:l10n xmlns:l=&quot;<A HREF="http://docbook.sourceforge.net/xmlns/l10n/1.0">http://docbook.sourceforge.net/xmlns/l10n/1.0</A>&quot; language=&quot;en&quot;&gt;
+   &lt;l:context name=&quot;xref&quot;&gt;
+      &lt;l:template name=&quot;chapter&quot; style=&quot;title&quot; text=&quot;Chapter %n, %t&quot;/&gt;
+      &lt;l:template name=&quot;chapter&quot; text=&quot;Chapter %n&quot;/&gt;
+    &lt;/l:context&gt;
+  &lt;/l:l10n&gt;
+&lt;/l:i18n&gt;
+
+&lt;/xsl:stylesheet&gt;&lt;/programlisting&gt;
+
+&lt;para&gt;With this stylesheet, the cross references in the following document:&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;!DOCTYPE book PUBLIC &quot;-//OASIS//DTD DocBook XML V4.2//EN&quot;
+                  &quot;<A HREF="http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd</A>&quot;&gt;
+&lt;book id=&quot;book&quot;&gt;&lt;title&gt;Book&lt;/title&gt;
+
+&lt;preface&gt;
+&lt;title&gt;Preface&lt;/title&gt;
+
+&lt;para&gt;Normal: &lt;xref linkend=&quot;ch1&quot;/&gt;.&lt;/para&gt;
+&lt;para&gt;Title: &lt;xref xrefstyle=&quot;title&quot; linkend=&quot;ch1&quot;/&gt;.&lt;/para&gt;
+
+&lt;/preface&gt;
+
+&lt;chapter id=&quot;ch1&quot;&gt;
+&lt;title&gt;First Chapter&lt;/title&gt;
+
+&lt;para&gt;Irrelevant.&lt;/para&gt;
+
+&lt;/chapter&gt;
+&lt;/book&gt;&lt;/programlisting&gt;
+
+&lt;para&gt;will appear as:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;para&gt;Normal: Chapter 1.&lt;/para&gt;
+&lt;para&gt;Title: Chapter 1, &lt;emphasis&gt;First Chapter&lt;/emphasis&gt;.&lt;/para&gt;
+&lt;/informalexample&gt;
+&lt;/refsect1&gt;
+
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;menuchoice.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;menuchoice.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;menuchoice.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Separator between items of a &lt;sgmltag&gt;menuchoice&lt;/sgmltag&gt;
+other than &lt;sgmltag&gt;guimenuitem&lt;/sgmltag&gt; and
+&lt;sgmltag&gt;guisubmenu&lt;/sgmltag&gt;&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;menuchoice.separator.frag&quot;&gt;
+&lt;xsl:param name=&quot;menuchoice.separator&quot; select=&quot;'+'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Separator used to connect items of a &lt;sgmltag&gt;menuchoice&lt;/sgmltag&gt; other
+than &lt;sgmltag&gt;guimenuitem&lt;/sgmltag&gt; and &lt;sgmltag&gt;guisubmenu&lt;/sgmltag&gt;. The latter
+elements are linked with &lt;parameter moreinfo=&quot;none&quot;&gt;menuchoice.menu.separator&lt;/parameter&gt;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;menuchoice.menu.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;menuchoice.menu.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;menuchoice.menu.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Separator between items of a &lt;sgmltag&gt;menuchoice&lt;/sgmltag&gt;
+with &lt;sgmltag&gt;guimenuitem&lt;/sgmltag&gt; or
+&lt;sgmltag&gt;guisubmenu&lt;/sgmltag&gt;&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;menuchoice.menu.separator.frag&quot;&gt;
+&lt;xsl:param name=&quot;menuchoice.menu.separator&quot; select=&quot;'-&gt;'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Separator used to connect items of a &lt;sgmltag&gt;menuchoice&lt;/sgmltag&gt; with
+&lt;sgmltag&gt;guimenuitem&lt;/sgmltag&gt; or &lt;sgmltag&gt;guisubmenu&lt;/sgmltag&gt;. Other elements
+are linked with &lt;parameter moreinfo=&quot;none&quot;&gt;menuchoice.separator&lt;/parameter&gt;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;default.float.class&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;default.float.class&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;default.float.class&lt;/refname&gt;
+&lt;refpurpose&gt;Specifies the default float class&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;default.float.class.frag&quot;&gt;
+&lt;xsl:param name=&quot;default.float.class&quot; select=&quot;'before'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;footnote.number.format&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;footnote.number.format&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;footnote.number.format&lt;/refname&gt;
+&lt;refpurpose&gt;Identifies the format used for footnote numbers&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;footnote.number.format.frag&quot;&gt;
+&lt;xsl:param name=&quot;footnote.number.format&quot; select=&quot;'1'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;footnote.number.format&lt;/parameter&gt; specifies the format
+to use for footnote numeration (1, i, I, a, or A).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.footnote.number.format&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.footnote.number.format&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.footnote.number.format&lt;/refname&gt;
+&lt;refpurpose&gt;Identifies the format used for footnote numbers in tables&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.footnote.number.format.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.footnote.number.format&quot; select=&quot;'a'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;table.footnote.number.format&lt;/parameter&gt; specifies the format
+to use for footnote numeration (1, i, I, a, or A) in tables.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;footnote.number.symbols&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;footnote.number.symbols&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;footnote.number.symbols&lt;/refname&gt;
+&lt;refpurpose&gt;Special characters to use as footnote markers&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;footnote.number.symbols.frag&quot;&gt;
+&lt;xsl:param name=&quot;footnote.number.symbols&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;footnote.number.symbols&lt;/parameter&gt; is not the empty string,
+footnotes will use the characters it contains as footnote symbols. For example,
+&lt;quote&gt;*&amp;#x2020;&amp;#x2021;&amp;#x25CA;&amp;#x2720;&lt;/quote&gt; will identify
+footnotes with &lt;quote&gt;*&lt;/quote&gt;, &lt;quote&gt;&#8224;&lt;/quote&gt;, &lt;quote&gt;&#8225;&lt;/quote&gt;,
+&lt;quote&gt;&#9674;&lt;/quote&gt;, and &lt;quote&gt;&#10016;&lt;/quote&gt;. If there are more footnotes
+than symbols, the stylesheets will fall back to numbered footnotes using
+&lt;parameter moreinfo=&quot;none&quot;&gt;footnote.number.format&lt;/parameter&gt;.&lt;/para&gt;
+
+&lt;para&gt;The use of symbols for footnotes depends on the ability of your
+processor (or browser) to render the symbols you select. Not all systems are
+capable of displaying the full range of Unicode characters. If the quoted characters
+in the preceding paragraph are not displayed properly, that's a good indicator
+that you may have trouble using those symbols for footnotes.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;table.footnote.number.symbols&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;table.footnote.number.symbols&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;table.footnote.number.symbols&lt;/refname&gt;
+&lt;refpurpose&gt;Special characters to use a footnote markers in tables&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;table.footnote.number.symbols.frag&quot;&gt;
+&lt;xsl:param name=&quot;table.footnote.number.symbols&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;table.footnote.number.symbols&lt;/parameter&gt; is not the empty string,
+table footnotes will use the characters it contains as footnote symbols. For example,
+&lt;quote&gt;*&amp;#x2020;&amp;#x2021;&amp;#x25CA;&amp;#x2720;&lt;/quote&gt; will identify
+footnotes with &lt;quote&gt;*&lt;/quote&gt;, &lt;quote&gt;&#8224;&lt;/quote&gt;, &lt;quote&gt;&#8225;&lt;/quote&gt;,
+&lt;quote&gt;&#9674;&lt;/quote&gt;, and &lt;quote&gt;&#10016;&lt;/quote&gt;. If there are more footnotes
+than symbols, the stylesheets will fall back to numbered footnotes using
+&lt;parameter moreinfo=&quot;none&quot;&gt;table.footnote.number.format&lt;/parameter&gt;.&lt;/para&gt;
+
+&lt;para&gt;The use of symbols for footnotes depends on the ability of your
+processor (or browser) to render the symbols you select. Not all systems are
+capable of displaying the full range of Unicode characters. If the quoted characters
+in the preceding paragraph are not displayed properly, that's a good indicator
+that you may have trouble using those symbols for footnotes.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;xref.with.number.and.title&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;xref.with.number.and.title&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;xref.with.number.and.title&lt;/refname&gt;
+&lt;refpurpose&gt;Use number and title in cross references&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;xref.with.number.and.title.frag&quot;&gt;
+&lt;xsl:param name=&quot;xref.with.number.and.title&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;FIXME:&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;xref.label-page.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;xref.label-page.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;xref.label-page.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Punctuation or space separating label from page number in xref&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;xref.label-page.separator.frag&quot;&gt;&lt;xsl:param name=&quot;xref.label-page.separator&quot;&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+This parameter allows you to control the punctuation of certain
+types of generated cross reference text.
+When cross reference text is generated for an 
+&lt;sgmltag class=&quot;element&quot;&gt;xref&lt;/sgmltag&gt; or 
+&lt;sgmltag class=&quot;element&quot;&gt;olink&lt;/sgmltag&gt; element
+using an &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; attribute
+that makes use of the &lt;literal moreinfo=&quot;none&quot;&gt;select:&lt;/literal&gt; feature,
+and the selected components include both label and page
+but no title,
+then the value of this parameter is inserted between
+label and page number in the output.  
+If a title is included, then other separators are used.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;xref.label-title.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;xref.label-title.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;xref.label-title.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Punctuation or space separating label from title in xref&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;xref.label-title.separator.frag&quot;&gt;&lt;xsl:param name=&quot;xref.label-title.separator&quot;&gt;: &lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+This parameter allows you to control the punctuation of certain
+types of generated cross reference text.
+When cross reference text is generated for an 
+&lt;sgmltag class=&quot;element&quot;&gt;xref&lt;/sgmltag&gt; or 
+&lt;sgmltag class=&quot;element&quot;&gt;olink&lt;/sgmltag&gt; element
+using an &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; attribute
+that makes use of the &lt;literal moreinfo=&quot;none&quot;&gt;select:&lt;/literal&gt; feature,
+and the selected components include both label and title,
+then the value of this parameter is inserted between
+label and title in the output.  
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;xref.title-page.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;xref.title-page.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;xref.title-page.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Punctuation or space separating title from page number in xref&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;xref.title-page.separator.frag&quot;&gt;&lt;xsl:param name=&quot;xref.title-page.separator&quot;&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;
+This parameter allows you to control the punctuation of certain
+types of generated cross reference text.
+When cross reference text is generated for an 
+&lt;sgmltag class=&quot;element&quot;&gt;xref&lt;/sgmltag&gt; or 
+&lt;sgmltag class=&quot;element&quot;&gt;olink&lt;/sgmltag&gt; element
+using an &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt; attribute
+that makes use of the &lt;literal moreinfo=&quot;none&quot;&gt;select:&lt;/literal&gt; feature,
+and the selected components include both title and page number,
+then the value of this parameter is inserted between
+title and page number in the output.  
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;insert.xref.page.number&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;insert.xref.page.number&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;insert.xref.page.number&lt;/refname&gt;
+&lt;refpurpose&gt;Turns page numbers in xrefs on and off&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;insert.xref.page.number.frag&quot;&gt;
+&lt;xsl:param name=&quot;insert.xref.page.number&quot;&gt;no&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The value of this parameter determines if
+cross references (&lt;sgmltag&gt;xref&lt;/sgmltag&gt;s) in
+printed output will
+include page number citations.
+It has three possible values.
+&lt;/para&gt;
+&lt;variablelist&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;no&lt;/term&gt;
+&lt;listitem&gt;&lt;para&gt;No page number references will be generated.
+&lt;/para&gt;&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;yes&lt;/term&gt;
+&lt;listitem&gt;&lt;para&gt;Page number references will be generated
+for all &lt;sgmltag&gt;xref&lt;/sgmltag&gt; elements.
+The style of page reference may be changed
+if an &lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt;
+attribute is used.
+&lt;/para&gt;&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;varlistentry&gt;
+&lt;term&gt;maybe&lt;/term&gt;
+&lt;listitem&gt;&lt;para&gt;Page number references will not be generated
+for an &lt;sgmltag&gt;xref&lt;/sgmltag&gt; element unless 
+it has an
+&lt;sgmltag class=&quot;attribute&quot;&gt;xrefstyle&lt;/sgmltag&gt;
+attribute whose value specifies a page reference.
+&lt;/para&gt;&lt;/listitem&gt;
+&lt;/varlistentry&gt;
+&lt;/variablelist&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Graphics&lt;/title&gt;
+&lt;refentry id=&quot;img.src.path&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;img.src.path&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;img.src.path&lt;/refname&gt;
+&lt;refpurpose&gt;Path to HTML image files&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;img.src.path.frag&quot;&gt;&lt;xsl:param name=&quot;img.src.path&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Add a path prefix to each HTML
+&lt;sgmltag class=&quot;element&quot;&gt;img&lt;/sgmltag&gt; element's
+&lt;sgmltag class=&quot;attribute&quot;&gt;src&lt;/sgmltag&gt; attribute.
+This path could relative to the directory where the HTML
+files are created, or it could be an absolute URI.
+The default value is empty.
+Be sure to include a trailing slash if needed.
+&lt;/para&gt;
+&lt;para&gt;This prefix is not applied to any filerefs that start
+with &quot;/&quot; or contain &quot;//:&quot;.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;graphic.default.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;graphic.default.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;graphic.default.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Default extension for graphic filenames&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;graphic.default.extension.frag&quot;&gt;&lt;xsl:param name=&quot;graphic.default.extension&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If a &lt;sgmltag&gt;graphic&lt;/sgmltag&gt; or &lt;sgmltag&gt;mediaobject&lt;/sgmltag&gt;
+includes a reference to a filename that does not include an extension,
+and the &lt;sgmltag class=&quot;attribute&quot;&gt;format&lt;/sgmltag&gt; attribute is
+&lt;emphasis&gt;unspecified&lt;/emphasis&gt;, the default extension will be used.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;default.image.width&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;default.image.width&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;length&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;default.image.width&lt;/refname&gt;
+&lt;refpurpose&gt;The default width of images&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;default.image.width.frag&quot;&gt;
+&lt;xsl:param name=&quot;default.image.width&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If specified, this value will be used for the
+&lt;sgmltag class=&quot;attribute&quot;&gt;width&lt;/sgmltag&gt; attribute on
+images that do not specify any
+&lt;ulink url=&quot;<A HREF="http://docbook.org/tdg/en/html/imagedata.html#viewport.area">http://docbook.org/tdg/en/html/imagedata.html#viewport.area</A>&quot;&gt;viewport
+dimensions&lt;/ulink&gt;.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;nominal.image.width&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;nominal.image.width&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;length&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;nominal.image.width&lt;/refname&gt;
+&lt;refpurpose&gt;The nominal image width&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;nominal.image.width.frag&quot;&gt;
+&lt;xsl:param name=&quot;nominal.image.width&quot; select=&quot;6 * $pixels.per.inch&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Graphic widths expressed as a percentage are problematic. In the
+following discussion, we speak of width and contentwidth, but
+the same issues apply to depth and contentdepth.&lt;/para&gt;
+
+&lt;para&gt;A width of 50% means &quot;half of the available space for the image.&quot;
+That's fine. But note that in HTML, this is a dynamic property and
+the image size will vary if the browser window is resized.&lt;/para&gt;
+
+&lt;para&gt;A contentwidth of 50% means &quot;half of the actual image width&quot;.
+But what does that mean if the stylesheets cannot assess the image's
+actual size? Treating this as a width of 50% is one possibility, but
+it produces behavior (dynamic scaling) that seems entirely out of
+character with the meaning.&lt;/para&gt;
+
+&lt;para&gt;Instead, the stylesheets define a
+&lt;parameter moreinfo=&quot;none&quot;&gt;nominal.image.width&lt;/parameter&gt; and convert percentages to
+actual values based on that nominal size.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;nominal.image.depth&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;nominal.image.depth&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;length&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;nominal.image.depth&lt;/refname&gt;
+&lt;refpurpose&gt;Nominal image depth&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;nominal.image.depth.frag&quot;&gt;
+&lt;xsl:param name=&quot;nominal.image.depth&quot; select=&quot;4 * $pixels.per.inch&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;See &lt;parameter moreinfo=&quot;none&quot;&gt;nominal.image.width&lt;/parameter&gt;.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;use.embed.for.svg&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;use.embed.for.svg&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;use.embed.for.svg&lt;/refname&gt;
+&lt;refpurpose&gt;Use HTML &lt;sgmltag&gt;embed&lt;/sgmltag&gt; for SVG?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;use.embed.for.svg.frag&quot;&gt;
+&lt;xsl:param name=&quot;use.embed.for.svg&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, an &lt;sgmltag&gt;embed&lt;/sgmltag&gt; element will be created for
+SVG figures. An &lt;sgmltag&gt;object&lt;/sgmltag&gt; is &lt;emphasis&gt;always&lt;/emphasis&gt; created,
+this parameter merely controls whether or not an additional &lt;sgmltag&gt;embed&lt;/sgmltag&gt;
+is generated inside the &lt;sgmltag&gt;object&lt;/sgmltag&gt;.&lt;/para&gt;
+
+&lt;para&gt;On the plus side, this may be more portable among browsers and plug-ins.
+On the minus side, it isn't valid HTML.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;make.graphic.viewport&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;make.graphic.viewport&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;make.graphic.viewport&lt;/refname&gt;
+&lt;refpurpose&gt;Use tables in HTML to make viewports for graphics&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;make.graphic.viewport.frag&quot;&gt;
+&lt;xsl:param name=&quot;make.graphic.viewport&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The HTML &lt;sgmltag&gt;img&lt;/sgmltag&gt; element only supports the notion
+of content-area scaling; it doesn't support the distinction between a
+content-area and a viewport-area, so we have to make some compromises.&lt;/para&gt;
+
+&lt;para&gt;If &lt;parameter moreinfo=&quot;none&quot;&gt;make.graphic.viewport&lt;/parameter&gt; is non-zero, a table
+will be used to frame the image. This creates an effective viewport-area.
+&lt;/para&gt;
+
+&lt;para&gt;Tables and alignment don't work together, so this parameter is ignored
+if alignment is specified on an image.&lt;/para&gt;
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;preferred.mediaobject.role&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;preferred.mediaobject.role&lt;/refentrytitle&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;preferred.mediaobject.role&lt;/refname&gt;
+&lt;refpurpose&gt;Select which mediaobject to use based on
+this value of an object's &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; attribute.
+&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;preferred.mediaobject.role.frag&quot;&gt;
+&lt;xsl:param name=&quot;preferred.mediaobject.role&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;A mediaobject may contain several objects such as imageobjects.
+If the parameter &lt;parameter moreinfo=&quot;none&quot;&gt;use.role.for.mediaobject&lt;/parameter&gt;
+is non-zero, then the &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; attribute on
+&lt;sgmltag&gt;imageobject&lt;/sgmltag&gt;s and other objects within a &lt;sgmltag&gt;mediaobject&lt;/sgmltag&gt; container will be used to select which object will be
+used.  If one of the objects has a role value that matches the
+preferred.mediaobject.role parameter, then it has first
+priority for selection.  If more than one has such a
+role value, the first one is used.
+&lt;/para&gt;
+&lt;para&gt;
+See the &lt;parameter moreinfo=&quot;none&quot;&gt;use.role.for.mediaobject&lt;/parameter&gt; parameter
+for the sequence of selection.&lt;/para&gt;
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;use.role.for.mediaobject&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;use.role.for.mediaobject&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;use.role.for.mediaobject&lt;/refname&gt;
+&lt;refpurpose&gt;Use &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; attribute 
+value for selecting which of several objects within a mediaobject to use.
+&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;use.role.for.mediaobject.frag&quot;&gt;
+&lt;xsl:param name=&quot;use.role.for.mediaobject&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, the &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; attribute on
+&lt;sgmltag&gt;imageobject&lt;/sgmltag&gt;s or other objects within a &lt;sgmltag&gt;mediaobject&lt;/sgmltag&gt; container will be used to select which object will be
+used.
+&lt;/para&gt;
+&lt;para&gt;
+The order of selection when then parameter is non-zero is:
+&lt;/para&gt;
+&lt;orderedlist inheritnum=&quot;ignore&quot; continuation=&quot;restarts&quot;&gt;
+&lt;listitem&gt;
+    &lt;para&gt;If the stylesheet parameter &lt;parameter moreinfo=&quot;none&quot;&gt;preferred.mediaobject.role&lt;/parameter&gt; has a value, then the object whose role equals that value is selected.&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;listitem&gt;
+&lt;para&gt;Else if an object's role attribute has a value of
+&lt;literal moreinfo=&quot;none&quot;&gt;html&lt;/literal&gt; for HTML processing or
+&lt;literal moreinfo=&quot;none&quot;&gt;fo&lt;/literal&gt; for FO output, then the first
+of such objects is selected.
+&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;listitem&gt;
+&lt;para&gt;Else the first suitable object is selected.&lt;/para&gt;
+&lt;/listitem&gt;
+&lt;/orderedlist&gt;
+&lt;para&gt;
+If the value of 
+&lt;parameter moreinfo=&quot;none&quot;&gt;use.role.for.mediaobject&lt;/parameter&gt;
+is zero, then role attributes are not considered
+and the first suitable object
+with or without a role value is used.
+&lt;/para&gt;
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;ignore.image.scaling&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;ignore.image.scaling&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;ignore.image.scaling&lt;/refname&gt;
+&lt;refpurpose&gt;Tell the stylesheets to ignore the author's image scaling attributes&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;ignore.image.scaling.frag&quot;&gt;
+&lt;xsl:param name=&quot;ignore.image.scaling&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, the scaling attributes on graphics and media objects are
+ignored.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Chunking&lt;/title&gt;
+&lt;refentry id=&quot;chunker.output.cdata-section-elements&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.cdata-section-elements&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.cdata-section-elements&lt;/refname&gt;
+&lt;refpurpose&gt;List of elements to escape with CDATA sections&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.cdata-section-elements&quot; select=&quot;''&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the list of elements that should be escaped
+as CDATA sections by the chunking stylesheet.  Not all processors support
+specification of this parameter.
+&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunker.output.doctype-public&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.doctype-public&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.doctype-public&lt;/refname&gt;
+&lt;refpurpose&gt;Public identifer to use in the document type of generated pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.doctype-public&quot; select=&quot;''&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the public identifier that should be used by
+the chunking stylesheet in the document type declaration of chunked pages.
+Not all processors support specification of
+this parameter.
+&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunker.output.doctype-system&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.doctype-system&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;uri&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.doctype-system&lt;/refname&gt;
+&lt;refpurpose&gt;System identifier to use for the document type in generated pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.doctype-system&quot; select=&quot;''&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the system identifier that should be used by
+the chunking stylesheet in the document type declaration of chunked pages.
+Not all processors support specification of
+this parameter.
+&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunker.output.encoding&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.encoding&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.encoding&lt;/refname&gt;
+&lt;refpurpose&gt;Encoding used in generated pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.encoding&quot; select=&quot;'ISO-8859-1'&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the encoding to be used in files
+generated by the chunking stylesheet. Not all processors support
+specification of this parameter.
+&lt;/para&gt;
+
+&lt;para&gt;This parameter used to be named &lt;literal moreinfo=&quot;none&quot;&gt;default.encoding&lt;/literal&gt;.&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunker.output.indent&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.indent&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.indent&lt;/refname&gt;
+&lt;refpurpose&gt;Specification of indentation on generated pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.indent&quot; select=&quot;'no'&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the value of the indent
+specification for generated pages. Not all processors support
+specification of this parameter.
+&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunker.output.media-type&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.media-type&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.media-type&lt;/refname&gt;
+&lt;refpurpose&gt;Media type to use in generated pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.media-type&quot; select=&quot;''&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the media type that should be used by
+the chunking stylesheet. Not all processors support specification of
+this parameter.
+&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunker.output.method&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.method&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;list&lt;/refmiscinfo&gt;
+&lt;refmiscinfo role=&quot;value&quot;&gt;html&lt;/refmiscinfo&gt;
+&lt;refmiscinfo role=&quot;value&quot;&gt;xml&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.method&lt;/refname&gt;
+&lt;refpurpose&gt;Method used in generated pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.method&quot; select=&quot;'html'&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the output method to be used in files
+generated by the chunking stylesheet.
+&lt;/para&gt;
+
+&lt;para&gt;This parameter used to be named &lt;literal moreinfo=&quot;none&quot;&gt;output.method&lt;/literal&gt;.&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunker.output.omit-xml-declaration&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.omit-xml-declaration&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.omit-xml-declaration&lt;/refname&gt;
+&lt;refpurpose&gt;Omit-xml-declaration for generated pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.omit-xml-declaration&quot; select=&quot;'no'&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the value of the omit-xml-declaration
+specification for generated pages. Not all processors support
+specification of this parameter.
+&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunker.output.standalone&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunker.output.standalone&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunker.output.standalone&lt;/refname&gt;
+&lt;refpurpose&gt;Standalone declaration for generated pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;chunker.output.standalone&quot; select=&quot;'no'&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies the value of the standalone
+specification for generated pages. Not all processors support
+specification of this parameter.
+&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;saxon.character.representation&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;saxon.character.representation&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;saxon.character.representation&lt;/refname&gt;
+&lt;refpurpose&gt;Saxon character representation used in generated HTML pages&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;&lt;xsl:param name=&quot;saxon.character.representation&quot; select=&quot;'entity;decimal'&quot;/&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This character representation is used in files generated by chunking stylesheet. If
+you want to suppress entity references for characters with direct representation 
+in default.encoding, set this parameter to value &lt;literal moreinfo=&quot;none&quot;&gt;native&lt;/literal&gt;. 
+&lt;/para&gt;
+
+&lt;note&gt;
+&lt;para&gt;This parameter is documented here, but the declaration is actually
+in the &lt;filename moreinfo=&quot;none&quot;&gt;chunker.xsl&lt;/filename&gt; stylesheet module.&lt;/para&gt;
+&lt;/note&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.ext&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.ext&lt;/refentrytitle&gt;
+
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.ext&lt;/refname&gt;
+&lt;refpurpose&gt;Identifies the extension of generated HTML files&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.ext.frag&quot;&gt;
+&lt;xsl:param name=&quot;html.ext&quot; select=&quot;'.html'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The extension identified by &lt;parameter moreinfo=&quot;none&quot;&gt;html.ext&lt;/parameter&gt; will
+be used as the filename extension for chunks created by this stylesheet.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;html.extra.head.links&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;html.extra.head.links&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;html.extra.head.links&lt;/refname&gt;
+&lt;refpurpose&gt;Toggle extra HTML head link information&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;html.extra.head.links.frag&quot;&gt;
+&lt;xsl:param name=&quot;html.extra.head.links&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, extra &lt;sgmltag&gt;link&lt;/sgmltag&gt; elements will be
+generated in the &lt;sgmltag&gt;head&lt;/sgmltag&gt; of chunked HTML files. These
+extra links point to chapters, appendixes, sections, etc. as supported
+by the &lt;quote&gt;Site Navigation Bar&lt;/quote&gt; in Mozilla 1.0 (as of CR1, at least).
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;root.filename&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;root.filename&lt;/refentrytitle&gt;
+
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;root.filename&lt;/refname&gt;
+&lt;refpurpose&gt;Identifies the name of the root HTML file when chunking&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;root.filename.frag&quot;&gt;&lt;xsl:param name=&quot;root.filename&quot; select=&quot;'index'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;root.filename&lt;/parameter&gt; is the base filename for
+the chunk created for the root of each document processed.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;base.dir&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;base.dir&lt;/refentrytitle&gt;
+
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;base.dir&lt;/refname&gt;
+&lt;refpurpose&gt;The base directory of chunks&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;base.dir.frag&quot;&gt;&lt;xsl:param name=&quot;base.dir&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If specified, the &lt;literal moreinfo=&quot;none&quot;&gt;base.dir&lt;/literal&gt; identifies
+the output directory for chunks. (If not specified, the output directory
+is system dependent.)&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;generate.manifest&quot;&gt;
+  &lt;refmeta&gt;
+    &lt;refentrytitle&gt;generate.manifest&lt;/refentrytitle&gt;
+    &lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+  &lt;/refmeta&gt;
+  &lt;refnamediv&gt;
+    &lt;refname&gt;generate.manifest&lt;/refname&gt;
+    &lt;refpurpose&gt;Generate a manifest file?&lt;/refpurpose&gt;
+  &lt;/refnamediv&gt;
+
+  &lt;refsynopsisdiv&gt;
+    &lt;programlisting id=&quot;generate.manifest.frag&quot;&gt;&lt;xsl:param name=&quot;generate.manifest&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+  &lt;/refsynopsisdiv&gt;
+
+  &lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+    &lt;para&gt;If non-zero, a list of HTML files generated by the
+      stylesheet transformation is written to the file named by
+      the &lt;parameter moreinfo=&quot;none&quot;&gt;manifest&lt;/parameter&gt; parameter.&lt;/para&gt;
+
+  &lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;manifest&quot;&gt;
+  &lt;refmeta&gt;
+    &lt;refentrytitle&gt;manifest&lt;/refentrytitle&gt;
+    &lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+  &lt;/refmeta&gt;
+  &lt;refnamediv&gt;
+    &lt;refname&gt;manifest&lt;/refname&gt;
+    &lt;refpurpose&gt;Name of manifest file&lt;/refpurpose&gt;
+  &lt;/refnamediv&gt;
+
+  &lt;refsynopsisdiv&gt;
+    &lt;programlisting id=&quot;manifest.frag&quot;&gt;&lt;xsl:param name=&quot;manifest&quot; select=&quot;'HTML.manifest'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+  &lt;/refsynopsisdiv&gt;
+
+  &lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+    &lt;para&gt;The name of the file to which a manifest is written (if the
+      value of the &lt;parameter moreinfo=&quot;none&quot;&gt;generate.manifest&lt;/parameter&gt; parameter
+      is non-zero).&lt;/para&gt;
+
+  &lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;manifest.in.base.dir&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;manifest.in.base.dir&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;manifest.in.base.dir&lt;/refname&gt;
+&lt;refpurpose&gt;Should be manifest file written in $base.dir?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;manifest.in.base.dir.frag&quot;&gt;
+&lt;xsl:param name=&quot;manifest.in.base.dir&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero manifest file and project files for HTML Help and
+Eclipse Help are written into &lt;parameter moreinfo=&quot;none&quot;&gt;base.dir&lt;/parameter&gt; instead
+of current directory.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;chunk.toc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunk.toc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunk.toc&lt;/refname&gt;
+&lt;refpurpose&gt;An explicit TOC to be used for chunking&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;chunk.toc.frag&quot;&gt;
+&lt;xsl:param name=&quot;chunk.toc&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The &lt;parameter moreinfo=&quot;none&quot;&gt;chunk.toc&lt;/parameter&gt; identifies an explicit TOC that
+will be used for chunking. This parameter is only used by the
+&lt;filename moreinfo=&quot;none&quot;&gt;chunktoc.xsl&lt;/filename&gt; stylesheet (and customization layers built
+from it).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunk.tocs.and.lots&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunk.tocs.and.lots&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunk.tocs.and.lots&lt;/refname&gt;
+&lt;refpurpose&gt;Should ToC and LoTs be in separate chunks?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;chunk.tocs.and.lots.frag&quot;&gt;
+&lt;xsl:param name=&quot;chunk.tocs.and.lots&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, ToC and LoT (List of Examples, List of Figures, etc.)
+will be put in a separate chunk. At the moment, this chunk is not in the
+normal forward/backward navigation list. Instead, a new link is added to the
+navigation footer.&lt;/para&gt;
+
+&lt;para&gt;This feature is still somewhat experimental. Feedback welcome.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunk.separate.lots&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunk.separate.lots&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunk.separate.lots&lt;/refname&gt;
+&lt;refpurpose&gt;Should each LoT be in its own separate chunk?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;chunk.separate.lots.frag&quot;&gt;
+&lt;xsl:param name=&quot;chunk.separate.lots&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, each of the ToC and LoTs
+(List of Examples, List of Figures, etc.)
+will be put in its own separate chunk.
+The title page includes generated links to each of the separate files.
+&lt;/para&gt;
+&lt;para&gt;
+This feature depends on the
+&lt;literal moreinfo=&quot;none&quot;&gt;chunk.tocs.and.lots&lt;/literal&gt;
+parameter also being non-zero. 
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunk.section.depth&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunk.section.depth&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunk.section.depth&lt;/refname&gt;
+&lt;refpurpose&gt;Depth to which sections should be chunked&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;chunk.section.depth.frag&quot;&gt;
+&lt;xsl:param name=&quot;chunk.section.depth&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter sets the depth of section chunking.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunk.first.sections&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunk.first.sections&lt;/refentrytitle&gt;
+
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunk.first.sections&lt;/refname&gt;
+&lt;refpurpose&gt;Chunk the first top-level section?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;chunk.first.sections.frag&quot;&gt;
+&lt;xsl:param name=&quot;chunk.first.sections&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, a chunk will be created for the first top-level
+&lt;sgmltag&gt;sect1&lt;/sgmltag&gt; or &lt;sgmltag&gt;section&lt;/sgmltag&gt; elements in
+each component. Otherwise, that section will be part of the chunk for
+its parent.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;chunk.quietly&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;chunk.quietly&lt;/refentrytitle&gt;
+
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;chunk.quietly&lt;/refname&gt;
+&lt;refpurpose&gt;Omit the chunked filename messages.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;chunk.quietly.frag&quot;&gt;
+&lt;xsl:param name=&quot;chunk.quietly&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If zero (the default), the XSL processor emits a message naming
+each separate chunk filename as it is being output.
+If nonzero, then the messages are suppressed.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;navig.graphics&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;navig.graphics&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;navig.graphics&lt;/refname&gt;
+&lt;refpurpose&gt;Use graphics in navigational headers and footers?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;navig.graphics.frag&quot;&gt;&lt;xsl:param name=&quot;navig.graphics&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero), the navigational headers and footers in chunked
+HTML are presented in an alternate style that uses
+graphical icons for Next, Previous, Up, and Home.
+Default graphics are provided in the distribution.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;navig.graphics.extension&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;navig.graphics.extension&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;navig.graphics.extension&lt;/refname&gt;
+&lt;refpurpose&gt;Extension for navigational graphics&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;navig.graphics.extension.frag&quot;&gt;&lt;xsl:param name=&quot;navig.graphics.extension&quot; select=&quot;'.gif'&quot;&gt;&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Sets the filename extension to use on navigational graphics used
+in the headers and footers of chunked HTML.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;navig.graphics.path&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;navig.graphics.path&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;navig.graphics.path&lt;/refname&gt;
+&lt;refpurpose&gt;Path to navigational graphics&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;navig.graphics.path.frag&quot;&gt;&lt;xsl:param name=&quot;navig.graphics.path&quot;&gt;images/&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Sets the path, probably relative to the directory where the HTML
+files are created, to the navigational graphics used in the
+headers and footers of chunked HTML.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;navig.showtitles&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;navig.showtitles&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;navig.showtitles&lt;/refname&gt;
+&lt;refpurpose&gt;Display titles in HTML headers and footers?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;navig.showtitles.frag&quot;&gt;&lt;xsl:param name=&quot;navig.showtitles&quot;&gt;1&lt;/xsl:param&gt;&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If true (non-zero),
+the headers and footers of chunked HTML
+display the titles of the next and previous chunks,
+along with the words 'Next' and 'Previous' (or the
+equivalent graphical icons if navig.graphics is true).
+If false (zero), then only the words 'Next' and 'Previous'
+(or the icons) are displayed.
+&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Profiling&lt;/title&gt;
+&lt;partintro&gt;
+&lt;para&gt;Following parameters can be used for attribute value based
+profiling of your document. For more info about profiling look at
+&lt;ulink url=&quot;<A HREF="http://docbook.sourceforge.net/projects/xsl/doc/tools/profiling.html">http://docbook.sourceforge.net/projects/xsl/doc/tools/profiling.html</A>&quot;&gt;<A HREF="http://docbook.sourceforge.net/projects/xsl/doc/tools/profiling.html&lt;/ulink">http://docbook.sourceforge.net/projects/xsl/doc/tools/profiling.html&lt;/ulink</A>&gt;.&lt;/para&gt;
+&lt;/partintro&gt;
+&lt;refentry id=&quot;profile.arch&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.arch&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.arch&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;arch&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.arch.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.arch&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.condition&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.condition&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.condition&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;condition&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.condition.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.condition&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.conformance&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.conformance&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.conformance&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;conformance&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.conformance.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.conformance&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.lang&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.lang&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.lang&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;lang&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.lang.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.lang&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.os&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.os&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.os&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;os&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.os.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.os&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.revision&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.revision&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.revision&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;revision&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.revision.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.revision&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.revisionflag&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.revisionflag&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.revisionflag&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;revisionflag&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.revisionflag.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.revisionflag&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.role&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.role&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.role&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.role.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.role&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;warning&gt;
+&lt;para&gt;Note that &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; is often
+used for other purposes than profiling. For example it is commonly
+used to get emphasize in bold font:&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;emphasis role=&quot;bold&quot;&gt;very important&lt;/emphasis&gt;&lt;/programlisting&gt;
+
+&lt;para&gt;If you are using &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; for
+these purposes do not forget to add values like &lt;literal moreinfo=&quot;none&quot;&gt;bold&lt;/literal&gt; to
+value of this parameter. If you forgot you will get document with
+small pieces missing which are very hard to track.&lt;/para&gt;
+
+&lt;para&gt;For this reason it is not recommended to use &lt;sgmltag class=&quot;attribute&quot;&gt;role&lt;/sgmltag&gt; attribute for profiling. You should
+rather use profiling specific attributes like &lt;sgmltag class=&quot;attribute&quot;&gt;userlevel&lt;/sgmltag&gt;, &lt;sgmltag class=&quot;attribute&quot;&gt;os&lt;/sgmltag&gt;, &lt;sgmltag class=&quot;attribute&quot;&gt;arch&lt;/sgmltag&gt;, &lt;sgmltag class=&quot;attribute&quot;&gt;condition&lt;/sgmltag&gt;, etc.&lt;/para&gt;
+&lt;/warning&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.security&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.security&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.security&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;security&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.security.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.security&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.userlevel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.userlevel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.userlevel&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;userlevel&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.userlevel.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.userlevel&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.vendor&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.vendor&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.vendor&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for &lt;sgmltag class=&quot;attribute&quot;&gt;vendor&lt;/sgmltag&gt;
+attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.vendor.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.vendor&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.attribute&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.attribute&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.attribute&lt;/refname&gt;
+&lt;refpurpose&gt;Name of user-specified profiling attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.attribute.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.attribute&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter is used in conjuction with &lt;link linkend=&quot;profile.value&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.value&lt;/parameter&gt;&lt;/link&gt;.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.value&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.value&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.value&lt;/refname&gt;
+&lt;refpurpose&gt;Target profile for user-specified attribute&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.value.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.value&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;When you are using this parameter you must also specify name of
+profiling attribute with parameter &lt;link linkend=&quot;profile.attribute&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.attribute&lt;/parameter&gt;&lt;/link&gt;.&lt;/para&gt;
+
+&lt;para&gt;Value of this parameter specifies profiles which should be
+included in the output. You can specify multiple profiles by
+separating them by semicolon. You can change separator character by
+&lt;link linkend=&quot;profile.separator&quot;&gt;&lt;parameter moreinfo=&quot;none&quot;&gt;profile.separator&lt;/parameter&gt;&lt;/link&gt;
+parameter.&lt;/para&gt;
+
+&lt;para&gt;This parameter has effect only when you are using profiling
+stylesheets (&lt;filename moreinfo=&quot;none&quot;&gt;profile-docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;profile-chunk.xsl&lt;/filename&gt;, &#8230;) instead of normal
+ones (&lt;filename moreinfo=&quot;none&quot;&gt;docbook.xsl&lt;/filename&gt;,
+&lt;filename moreinfo=&quot;none&quot;&gt;chunk.xsl&lt;/filename&gt;, &#8230;).&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;profile.separator&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;profile.separator&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;profile.separator&lt;/refname&gt;
+&lt;refpurpose&gt;Separator character for compound profile values&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;profile.separator.frag&quot;&gt;
+&lt;xsl:param name=&quot;profile.separator&quot; select=&quot;';'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Separator character for compound profile values.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;HTML Help&lt;/title&gt;
+&lt;refentry id=&quot;htmlhelp.encoding&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.encoding&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.encoding&lt;/refname&gt;
+&lt;refpurpose&gt;Character encoding to use in files for HTML Help compiler.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.encoding.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.encoding&quot; select=&quot;'iso-8859-1'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;HTML Help Compiler is not UTF-8 aware, so you should always use
+apropriate single-byte encoding here.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.autolabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.autolabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.autolabel&lt;/refname&gt;
+&lt;refpurpose&gt;Should tree-like ToC use autonumbering feature?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.autolabel.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.autolabel&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want to include chapter and section numbers into ToC in
+the left panel, set this parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.chm&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.chm&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.chm&lt;/refname&gt;
+&lt;refpurpose&gt;Filename of output HTML Help file.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.chm.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.chm&quot; select=&quot;'htmlhelp.chm'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Change this parameter if you want different name of result
+CHM file than htmlhelp.chm.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.default.topic&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.default.topic&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.default.topic&lt;/refname&gt;
+&lt;refpurpose&gt;Name of file with default topic&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.default.topic.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.default.topic&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Normally first chunk of document is displayed when you open HTML
+Help file. If you want to display another topic, simply set its
+filename by this parameter.&lt;/para&gt;
+
+&lt;para&gt;This is useful especially if you don't generate ToC in front of
+your document and you also hide root element in ToC. E.g.:&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;xsl:param name=&quot;generate.book.toc&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.show.root&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.default.topic&quot; select=&quot;'pr01.html'&quot;/&gt;&lt;/programlisting&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.display.progress&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.display.progress&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.display.progress&lt;/refname&gt;
+&lt;refpurpose&gt;Display compile progress?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.display.progress.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.display.progress&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;You can swith off display of compile progress by setting this
+parameter to 0.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;htmlhelp.hhp&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhp&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhp&lt;/refname&gt;
+&lt;refpurpose&gt;Filename of project file.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhp.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhp&quot; select=&quot;'htmlhelp.hhp'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Change this parameter if you want different name of project
+file than htmlhelp.hhp.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhc&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhc&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhc&lt;/refname&gt;
+&lt;refpurpose&gt;Filename of TOC file.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhc.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc&quot; select=&quot;'toc.hhc'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Change this parameter if you want different name of TOC file
+than toc.hhc.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhk&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhk&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhk&lt;/refname&gt;
+&lt;refpurpose&gt;Filename of index file.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhk.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhk&quot; select=&quot;'index.hhk'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Change this parameter if you want different name of index file
+than index.hhk.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhp.tail&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhp.tail&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhp.tail&lt;/refname&gt;
+&lt;refpurpose&gt;Additional content for project file.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhp.tail.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhp.tail&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want to include some additional parameters into project file,
+store appropriate part of project file into this parameter.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhp.window&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhp.window&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhp.window&lt;/refname&gt;
+&lt;refpurpose&gt;Name of default window.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhp.window.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhp.window&quot; select=&quot;'Main'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Name of default window. If empty no [WINDOWS] section will be
+added to project file.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhp.windows&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhp.windows&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhp.windows&lt;/refname&gt;
+&lt;refpurpose&gt;Definition of additional windows&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhp.windows.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhp.windows&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Content of this parameter is placed at the end of [WINDOWS]
+section of project file. You can use it for defining your own
+addtional windows.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;htmlhelp.enhanced.decompilation&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.enhanced.decompilation&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.enhanced.decompilation&lt;/refname&gt;
+&lt;refpurpose&gt;Allow enhanced decompilation of CHM?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.enhanced.decompilation.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.enhanced.decompilation&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;When set to 1 this parameter enables enhanced decompilation of CHM.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;htmlhelp.enumerate.images&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.enumerate.images&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.enumerate.images&lt;/refname&gt;
+&lt;refpurpose&gt;Should be paths to all used images added to project file?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.enumerate.images.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.enumerate.images&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;You should turn on this flag, if you insert images into your documents 
+as external binary entities or if you are using absolute path in image names.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.force.map.and.alias&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.force.map.and.alias&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.force.map.and.alias&lt;/refname&gt;
+&lt;refpurpose&gt;Should be [MAP] and [ALIAS] section added to project file unconditionaly?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.force.map.and.alias.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.force.map.and.alias&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;You should turn on this flag, if you have your own
+&lt;filename moreinfo=&quot;none&quot;&gt;alias.h&lt;/filename&gt; and &lt;filename moreinfo=&quot;none&quot;&gt;contex.h&lt;/filename&gt; files
+and you want include reference to them in project file.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.map.file&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.map.file&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.map.file&lt;/refname&gt;
+&lt;refpurpose&gt;Filename of map file.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.map.file.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.map.file&quot; select=&quot;'context.h'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Change this parameter if you want different name of map file
+than &lt;filename moreinfo=&quot;none&quot;&gt;context.h&lt;/filename&gt;.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.alias.file&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.alias.file&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.alias.file&lt;/refname&gt;
+&lt;refpurpose&gt;Filename of map file.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.alias.file.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.alias.file&quot; select=&quot;'alias.h'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Change this parameter if you want different name of map file
+than &lt;filename moreinfo=&quot;none&quot;&gt;alias.h&lt;/filename&gt;.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhc.section.depth&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhc.section.depth&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhc.section.depth&lt;/refname&gt;
+&lt;refpurpose&gt;Depth of TOC for sections in a left pane.&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhc.section.depth.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.section.depth&quot; select=&quot;5&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Change this parameter if you want shallower ToC in a left pane
+of HTML Help viewer.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhc.show.root&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhc.show.root&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhc.show.root&lt;/refname&gt;
+&lt;refpurpose&gt;Should be entry for root element shown in ToC?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhc.show.root.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.show.root&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If set to 0, there will be no entry for root element in
+ToC. This is useful when you want provide user with expanded ToC as
+a default.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhc.folders.instead.books&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhc.folders.instead.books&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhc.folders.instead.books&lt;/refname&gt;
+&lt;refpurpose&gt;Use folder icons in ToC (instead of book icons)?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhc.folders.instead.books.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.folders.instead.books&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter controls whether there should be folder-like
+icons (1) or book-like icons (0) in ToC. If you want to use
+folder-like icons you must swith off binary ToC using
+&lt;parameter moreinfo=&quot;none&quot;&gt;htmlhelp.hhc.binary&lt;/parameter&gt;.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhc.binary&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhc.binary&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;/&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhc.binary&lt;/refname&gt;
+&lt;refpurpose&gt;Generate binary ToC?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhc.binary.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.binary&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parametr controls whether binary TOC will be generated. You
+must create binary TOC if you want to add Prev/Next buttons to toolbar
+(which is default behaviour). Files with binary TOC can't be merged.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.hhc.width&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.hhc.width&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;integer&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.hhc.width&lt;/refname&gt;
+&lt;refpurpose&gt;Width of navigation (ToC) pane&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.hhc.width.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.width&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies width of ToC pane in pixels.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;htmlhelp.title&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.title&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.title&lt;/refname&gt;
+&lt;refpurpose&gt;Title of HTML Help&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.title.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.title&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Content of this parameter will be used as a title for generated
+HTML Help. If empty, title will be automatically taken from document.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.show.menu&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.show.menu&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.show.menu&lt;/refname&gt;
+&lt;refpurpose&gt;Should be menu shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.show.menu.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.show.menu&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want application menu in your HTML Help file, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.show.toolbar.text&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.show.toolbar.text&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.show.toolbar.text&lt;/refname&gt;
+&lt;refpurpose&gt;Show text under toolbar buttons?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.show.toolbar.text.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.show.toolbar.text&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;You can switch off display of texts under toolbar buttons by
+setting this parameter to 0.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;htmlhelp.show.advanced.search&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.show.advanced.search&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.show.advanced.search&lt;/refname&gt;
+&lt;refpurpose&gt;Should be advanced search available?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.show.advanced.search.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.show.advanced.search&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want advanced search features in your help, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.show.favorities&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.show.favorities&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.show.favorities&lt;/refname&gt;
+&lt;refpurpose&gt;Should be favorities tab shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.show.favorities.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.show.favorities&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want favorities tab shown in your help, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.hideshow&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.hideshow&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.hideshow&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Hide/Show button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.hideshow.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.hideshow&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Hide/Show button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.back&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.back&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.back&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Back button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.back.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.back&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Back button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.forward&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.forward&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.forward&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Forward button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.forward.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.forward&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Forward button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.stop&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.stop&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.stop&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Stop button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.stop.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.stop&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Stop button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.refresh&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.refresh&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.refresh&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Refresh button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.refresh.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.refresh&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Refresh button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.home&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.home&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.home&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Home button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.home.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.home&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Home button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.home.url&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.home.url&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.home.url&lt;/refname&gt;
+&lt;refpurpose&gt;URL address of page accessible by Home button&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.home.url.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.home.url&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;URL address of page accessible by Home button.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.options&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.options&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.options&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Options button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.options.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.options&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Options button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.print&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.print&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.print&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Print button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.print.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.print&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Print button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.locate&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.locate&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.locate&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Locate button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.locate.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.locate&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Locate button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.jump1&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.jump1&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.jump1&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Jump1 button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.jump1.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump1&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Jump1 button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.jump1.url&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.jump1.url&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.jump1.url&lt;/refname&gt;
+&lt;refpurpose&gt;URL address of page accessible by Jump1 button&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.jump1.url.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump1.url&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;URL address of page accessible by Jump1 button.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.jump1.title&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.jump1.title&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.jump1.title&lt;/refname&gt;
+&lt;refpurpose&gt;Title of Jump1 button&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.jump1.title.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump1.title&quot; select=&quot;'User1'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Title of Jump1 button.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.jump2&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.jump2&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.jump2&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Jump2 button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.jump2.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump2&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Jump2 button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.jump2.url&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.jump2.url&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.jump2.url&lt;/refname&gt;
+&lt;refpurpose&gt;URL address of page accessible by Jump2 button&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.jump2.url.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump2.url&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;URL address of page accessible by Jump2 button.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.jump2.title&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.jump2.title&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.jump2.title&lt;/refname&gt;
+&lt;refpurpose&gt;Title of Jump2 button&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.jump2.title.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump2.title&quot; select=&quot;'User2'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Title of Jump2 button.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.next&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.next&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.next&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Next button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.next.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.next&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Next button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.prev&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.prev&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.prev&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Prev button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.prev.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.prev&quot; select=&quot;1&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Prev button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.button.zoom&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.button.zoom&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.button.zoom&lt;/refname&gt;
+&lt;refpurpose&gt;Should be Zoom button shown?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.button.zoom.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.zoom&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want Zoom button shown on toolbar, turn this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.remember.window.position&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.remember.window.position&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.remember.window.position&lt;/refname&gt;
+&lt;refpurpose&gt;Remember help window position?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.remember.window.position.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.remember.window.position&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;To remember help window position between starts set this
+parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;htmlhelp.window.geometry&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.window.geometry&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.window.geometry&lt;/refname&gt;
+&lt;refpurpose&gt;Set initial geometry of help window&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.window.geometry.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.window.geometry&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;This parameter specifies initial position of help
+window. E.g.&lt;/para&gt;
+
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;xsl:param name=&quot;htmlhelp.window.geometry&quot;&gt;[160,64,992,704]&lt;/xsl:param&gt;&lt;/programlisting&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+
+&lt;refentry id=&quot;htmlhelp.use.hhk&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.use.hhk&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.use.hhk&lt;/refname&gt;
+&lt;refpurpose&gt;Should be index built using HHK file?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.use.hhk.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.use.hhk&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, index is created using HHK file. This provides some
+new features.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;htmlhelp.only&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;htmlhelp.only&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;htmlhelp.only&lt;/refname&gt;
+&lt;refpurpose&gt;Should be only project files generated?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;htmlhelp.only.frag&quot;&gt;
+&lt;xsl:param name=&quot;htmlhelp.only&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want to play with various HTML Help parameters and you
+don't need to regenerate all HTML files, you can set this parameter to
+1. This setting will not process whole document, only project files
+(hhp, hhc, hhk,...) will be generated.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Eclipse Help Platform&lt;/title&gt;
+&lt;refentry id=&quot;eclipse.autolabel&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;eclipse.autolabel&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;eclipse.autolabel&lt;/refname&gt;
+&lt;refpurpose&gt;Should tree-like ToC use autonumbering feature?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;eclipse.autolabel.frag&quot;&gt;
+&lt;xsl:param name=&quot;eclipse.autolabel&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If you want to include chapter and section numbers into ToC in
+the left panel, set this parameter to 1.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;eclipse.plugin.name&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;eclipse.plugin.name&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;eclipse.plugin.name&lt;/refname&gt;
+&lt;refpurpose&gt;Eclipse Help plugin name&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;eclipse.plugin.name.frag&quot;&gt;
+&lt;xsl:param name=&quot;eclipse.plugin.name&quot;&gt;DocBook Online Help Sample&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Eclipse Help plugin name.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;eclipse.plugin.id&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;eclipse.plugin.id&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;eclipse.plugin.id&lt;/refname&gt;
+&lt;refpurpose&gt;Eclipse Help plugin id&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;eclipse.plugin.id.frag&quot;&gt;
+&lt;xsl:param name=&quot;eclipse.plugin.id&quot;&gt;com.example.help&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Eclipse Help plugin id. You should change this id to something
+unique for each help.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;eclipse.plugin.provider&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;eclipse.plugin.provider&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;eclipse.plugin.provider&lt;/refname&gt;
+&lt;refpurpose&gt;Eclipse Help plugin provider name&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;eclipse.plugin.provider.frag&quot;&gt;
+&lt;xsl:param name=&quot;eclipse.plugin.provider&quot;&gt;Example provider&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;Eclipse Help plugin provider name.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Localization&lt;/title&gt;
+&lt;refentry id=&quot;l10n.gentext.language&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;l10n.gentext.language&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;l10n.gentext.language&lt;/refname&gt;
+&lt;refpurpose&gt;Sets the gentext language&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;l10n.gentext.language.frag&quot;&gt;
+&lt;xsl:param name=&quot;l10n.gentext.language&quot; select=&quot;''&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If this parameter is set to any value other than the empty string, its
+value will be used as the value for the language when generating text. Setting
+&lt;parameter moreinfo=&quot;none&quot;&gt;l10n.gentext.language&lt;/parameter&gt; overrides any settings within the
+document being formatted.&lt;/para&gt;
+
+&lt;para&gt;It's much more likely that you might want to set the
+&lt;parameter moreinfo=&quot;none&quot;&gt;l10n.gentext.default.language&lt;/parameter&gt; parameter.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;l10n.gentext.default.language&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;l10n.gentext.default.language&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;string&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;l10n.gentext.default.language&lt;/refname&gt;
+&lt;refpurpose&gt;Sets the default language for generated text&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;l10n.gentext.default.language.frag&quot;&gt;
+&lt;xsl:param name=&quot;l10n.gentext.default.language&quot; select=&quot;'en'&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;The value of the &lt;parameter moreinfo=&quot;none&quot;&gt;l10n.gentext.default.language&lt;/parameter&gt;
+parameter is used as the language for generated text if no setting is provided
+in the source document.&lt;/para&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;refentry id=&quot;l10n.gentext.use.xref.language&quot;&gt;
+&lt;refmeta&gt;
+&lt;refentrytitle&gt;l10n.gentext.use.xref.language&lt;/refentrytitle&gt;
+&lt;refmiscinfo role=&quot;type&quot;&gt;boolean&lt;/refmiscinfo&gt;
+&lt;/refmeta&gt;
+&lt;refnamediv&gt;
+&lt;refname&gt;l10n.gentext.use.xref.language&lt;/refname&gt;
+&lt;refpurpose&gt;Use the language of target when generating cross-reference text?&lt;/refpurpose&gt;
+&lt;/refnamediv&gt;
+
+&lt;refsynopsisdiv&gt;
+&lt;programlisting id=&quot;l10n.gentext.use.xref.language.frag&quot;&gt;
+&lt;xsl:param name=&quot;l10n.gentext.use.xref.language&quot; select=&quot;0&quot;&gt;&lt;/xsl:param&gt;
+&lt;/programlisting&gt;
+&lt;/refsynopsisdiv&gt;
+
+&lt;refsect1&gt;&lt;title&gt;Description&lt;/title&gt;
+
+&lt;para&gt;If non-zero, the language of the target will be used when
+generating cross reference text. Usually, the &lt;quote&gt;current&lt;/quote&gt;
+language is used when generating text (that is, the language of the
+element that contains the cross-reference element). But setting this parameter
+allows the language of the element &lt;emphasis&gt;pointed to&lt;/emphasis&gt; to control
+the generated text.&lt;/para&gt;
+
+&lt;para&gt;Consider the following example:&lt;/para&gt;
+
+&lt;informalexample&gt;
+&lt;programlisting format=&quot;linespecific&quot;&gt;&lt;para lang=&quot;en&quot;&gt;See also &lt;xref linkend=&quot;chap3&quot;/&gt;.&lt;/para&gt;
+&lt;/programlisting&gt;
+&lt;/informalexample&gt;
+
+&lt;para&gt;Suppose that Chapter 3 happens to be written in German.
+If &lt;parameter moreinfo=&quot;none&quot;&gt;l10n.gentext.use.xref.language&lt;/parameter&gt; is non-zero, the
+resulting text will be something like this:&lt;/para&gt;
+
+&lt;blockquote&gt;
+&lt;para&gt;See also Kapital 3.&lt;/para&gt;
+&lt;/blockquote&gt;
+
+&lt;para&gt;Where the more traditional rendering would be:&lt;/para&gt;
+
+&lt;blockquote&gt;
+&lt;para&gt;See also Chapter 3.&lt;/para&gt;
+&lt;/blockquote&gt;
+
+&lt;/refsect1&gt;
+&lt;/refentry&gt;
+
+&lt;/reference&gt;
+
+&lt;appendix&gt;&lt;title&gt;The Stylesheet&lt;/title&gt;
+
+&lt;para&gt;The &lt;filename moreinfo=&quot;none&quot;&gt;param.xsl&lt;/filename&gt; stylesheet is just a wrapper
+around all these parameters.&lt;/para&gt;
+
+&lt;programlisting id=&quot;top&quot;&gt;
+
+&lt;!-- This file is generated from param.xweb; do not edit this file! --&gt;
+
+&lt;xsl:stylesheet exclude-result-prefixes=&quot;src&quot; version=&quot;1.0&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: param.xweb,v 1.85 2004/11/23 06:55:03 xmldoc Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;src:fragref linkend=&quot;admon.graphics.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;admon.graphics.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;admon.graphics.path.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;admon.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;admon.textlabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;annotate.toc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;appendix.autolabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;author.othername.in.middle.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;autotoc.label.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;base.dir.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;biblioentry.item.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;bibliography.collection.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;bibliography.numbered.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;bridgehead.in.toc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.defaultcolumn.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.graphics.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.graphics.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.graphics.number.limit.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.graphics.path.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.list.table.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.unicode.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.unicode.number.limit.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callout.unicode.start.character.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;callouts.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;chapter.autolabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;chunk.first.sections.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;chunk.quietly.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;chunk.section.depth.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;chunk.toc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;chunk.tocs.and.lots.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;chunk.separate.lots.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;citerefentry.link.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;collect.xref.targets.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;component.label.includes.part.label.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;css.decoration.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;current.docid.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;default.float.class.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;default.image.width.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;default.table.width.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;draft.mode.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;draft.watermark.image.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;ebnf.table.bgcolor.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;ebnf.table.border.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;ebnf.assignment.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;ebnf.statement.terminator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;eclipse.autolabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;eclipse.plugin.name.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;eclipse.plugin.id.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;eclipse.plugin.provider.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;emphasis.propagates.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;entry.propagates.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;firstterm.only.link.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;footer.rule.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;footnote.number.format.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;footnote.number.symbols.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;formal.procedures.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;formal.title.placement.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;funcsynopsis.decoration.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;funcsynopsis.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;funcsynopsis.tabular.threshold.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;function.parens.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;generate.id.attributes.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;generate.index.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;generate.legalnotice.link.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;generate.manifest.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;generate.meta.abstract.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;generate.section.toc.level.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;generate.toc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;glossary.collection.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;glossentry.show.acronym.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;glossterm.auto.link.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;graphic.default.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;graphicsize.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;header.rule.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.base.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.cellpadding.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.cellspacing.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.cleanup.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.ext.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.extra.head.links.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.longdesc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.longdesc.link.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.stylesheet.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;html.stylesheet.type.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.alias.file.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.autolabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.back.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.forward.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.hideshow.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.home.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.home.url.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump1.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump1.title.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump1.url.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump2.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump2.title.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump2.url.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.locate.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.next.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.options.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.prev.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.print.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.refresh.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.stop.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.zoom.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.chm.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.default.topic.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.display.progress.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.encoding.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.enhanced.decompilation.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.enumerate.images.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.force.map.and.alias.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.binary.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.folders.instead.books.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.section.depth.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.show.root.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.width.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhk.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhp.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhp.tail.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhp.window.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhp.windows.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.map.file.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.only.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.remember.window.position.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.show.advanced.search.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.show.favorities.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.show.menu.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.show.toolbar.text.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.title.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.use.hhk.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.window.geometry.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;img.src.path.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;index.on.role.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;index.on.type.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;index.prefer.titleabbrev.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;ignore.image.scaling.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;inherit.keywords.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;l10n.gentext.default.language.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;l10n.gentext.language.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;l10n.gentext.use.xref.language.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;label.from.part.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;linenumbering.everyNth.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;linenumbering.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;linenumbering.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;linenumbering.width.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;link.mailto.url.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;make.graphic.viewport.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;make.single.year.ranges.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;make.valid.html.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;make.year.ranges.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;manifest.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;manifest.in.base.dir.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;manual.toc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;menuchoice.menu.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;menuchoice.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;navig.graphics.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;navig.graphics.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;navig.graphics.path.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;navig.showtitles.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;nominal.image.depth.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;nominal.image.width.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;nominal.table.width.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.base.uri.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.debug.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.properties.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;insert.olink.page.number.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;insert.olink.pdf.frag.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;prefer.internal.olink.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.lang.fallback.sequence.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.doctitle.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.fragid.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.outline.ext.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.pubid.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.resolver.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;olink.sysid.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;para.propagates.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;part.autolabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;phrase.propagates.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;pixels.per.inch.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;points.per.em.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;preface.autolabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;preferred.mediaobject.role.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;process.empty.source.toc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;process.source.toc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.arch.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.attribute.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.condition.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.conformance.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.lang.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.os.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.revision.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.revisionflag.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.role.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.security.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.userlevel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.value.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;profile.vendor.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;punct.honorific.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;qanda.defaultlabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;qanda.inherit.numeration.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;qandadiv.autolabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;refentry.generate.name.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;refentry.generate.title.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;refentry.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;refentry.xref.manvolnum.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;root.filename.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;rootid.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;runinhead.default.title.end.punct.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;runinhead.title.end.punct.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;section.autolabel.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;section.autolabel.max.depth.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;section.label.includes.component.label.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;segmentedlist.as.table.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;shade.verbatim.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;shade.verbatim.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;show.comments.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;show.revisionflag.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;simplesect.in.toc.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;spacing.paras.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;suppress.footer.navigation.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;suppress.header.navigation.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;suppress.navigation.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.borders.with.css.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.cell.border.color.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.cell.border.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.cell.border.thickness.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.footnote.number.format.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.footnote.number.symbols.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.frame.border.color.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.frame.border.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;table.frame.border.thickness.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;tablecolumns.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;target.database.document.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;targets.filename.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;textdata.default.encoding.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;tex.math.delims.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;tex.math.file.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;tex.math.in.alt.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;textinsert.extension.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;toc.list.type.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;toc.section.depth.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;toc.max.depth.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;ulink.target.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;use.embed.for.svg.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;use.extensions.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;use.id.as.filename.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;use.local.olink.style.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;use.role.as.xrefstyle.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;use.role.for.mediaobject.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;use.svg.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;variablelist.as.table.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;xref.with.number.and.title.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;xref.label-title.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;xref.label-page.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;xref.title-page.separator.frag&quot;&gt;&lt;/src:fragref&gt;
+&lt;src:fragref linkend=&quot;insert.xref.page.number.frag&quot;&gt;&lt;/src:fragref&gt;
+
+&lt;/xsl:stylesheet&gt;
+&lt;/programlisting&gt;
+
+&lt;/appendix&gt;
+
+&lt;/book&gt;
\ No newline at end of file

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,315 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;!-- This file is generated from param.xweb; do not edit this file! --&gt;
+
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; xmlns:src=&quot;<A HREF="http://nwalsh.com/xmlns/litprog/fragment">http://nwalsh.com/xmlns/litprog/fragment</A>&quot; exclude-result-prefixes=&quot;src&quot; version=&quot;1.0&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: param.xweb,v 1.85 2004/11/23 06:55:03 xmldoc Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:param name=&quot;admon.graphics.extension&quot; select=&quot;'.png'&quot;/&gt;
+&lt;xsl:param name=&quot;admon.graphics&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;admon.graphics.path&quot;&gt;images/&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;admon.style&quot;&gt;
+  &lt;xsl:text&gt;margin-left: 0.5in; margin-right: 0.5in;&lt;/xsl:text&gt;
+&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;admon.textlabel&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;annotate.toc&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;appendix.autolabel&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;author.othername.in.middle&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;autotoc.label.separator&quot; select=&quot;'. '&quot;/&gt;
+&lt;xsl:param name=&quot;base.dir&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;biblioentry.item.separator&quot;&gt;. &lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;bibliography.collection&quot; select=&quot;'<A HREF="http://docbook.sourceforge.net/release/bibliography/bibliography.xml">http://docbook.sourceforge.net/release/bibliography/bibliography.xml</A>'&quot;/&gt;
+&lt;xsl:param name=&quot;bibliography.numbered&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;bridgehead.in.toc&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;callout.defaultcolumn&quot; select=&quot;'60'&quot;/&gt;
+&lt;xsl:param name=&quot;callout.graphics.extension&quot; select=&quot;'.png'&quot;/&gt;
+&lt;xsl:param name=&quot;callout.graphics&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;callout.graphics.number.limit&quot; select=&quot;'15'&quot;/&gt;
+&lt;xsl:param name=&quot;callout.graphics.path&quot; select=&quot;'images/callouts/'&quot;/&gt;
+&lt;xsl:param name=&quot;callout.list.table&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;callout.unicode&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;callout.unicode.number.limit&quot; select=&quot;'10'&quot;/&gt;
+&lt;xsl:param name=&quot;callout.unicode.start.character&quot; select=&quot;10102&quot;/&gt;
+&lt;xsl:param name=&quot;callouts.extension&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;chapter.autolabel&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.first.sections&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.quietly&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.section.depth&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.toc&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.tocs.and.lots&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.separate.lots&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;citerefentry.link&quot; select=&quot;'0'&quot;/&gt;
+&lt;xsl:param name=&quot;collect.xref.targets&quot; select=&quot;'no'&quot;/&gt;
+&lt;xsl:param name=&quot;component.label.includes.part.label&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;css.decoration&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;current.docid&quot; select=&quot;''&quot;/&gt; 
+&lt;xsl:param name=&quot;default.float.class&quot; select=&quot;'before'&quot;/&gt;
+&lt;xsl:param name=&quot;default.image.width&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;default.table.width&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;draft.mode&quot; select=&quot;'maybe'&quot;/&gt;
+&lt;xsl:param name=&quot;draft.watermark.image&quot; select=&quot;'<A HREF="http://docbook.sourceforge.net/release/images/draft.png">http://docbook.sourceforge.net/release/images/draft.png</A>'&quot;/&gt;
+&lt;xsl:param name=&quot;ebnf.table.bgcolor&quot; select=&quot;'#F5DCB3'&quot;/&gt;
+&lt;xsl:param name=&quot;ebnf.table.border&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;ebnf.assignment&quot;&gt;
+&lt;code&gt;::=&lt;/code&gt;
+&lt;/xsl:param&gt;
+
+&lt;xsl:param name=&quot;ebnf.statement.terminator&quot;/&gt;
+
+&lt;xsl:param name=&quot;eclipse.autolabel&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;eclipse.plugin.name&quot;&gt;DocBook Online Help Sample&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;eclipse.plugin.id&quot;&gt;com.example.help&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;eclipse.plugin.provider&quot;&gt;Example provider&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;emphasis.propagates.style&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;entry.propagates.style&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;firstterm.only.link&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;footer.rule&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;footnote.number.format&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;footnote.number.symbols&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;formal.procedures&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;formal.title.placement&quot;&gt;
+figure before
+example before
+equation before
+table before
+procedure before
+task before
+&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;funcsynopsis.decoration&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;funcsynopsis.style&quot;&gt;kr&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;funcsynopsis.tabular.threshold&quot; select=&quot;40&quot;/&gt;
+&lt;xsl:param name=&quot;function.parens&quot;&gt;0&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;generate.id.attributes&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;generate.index&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;generate.legalnotice.link&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;generate.manifest&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;generate.meta.abstract&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;generate.section.toc.level&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;generate.toc&quot;&gt;
+appendix  toc,title
+article/appendix  nop
+article   toc,title
+book      toc,title,figure,table,example,equation
+chapter   toc,title
+part      toc,title
+preface   toc,title
+qandadiv  toc
+qandaset  toc
+reference toc,title
+sect1     toc
+sect2     toc
+sect3     toc
+sect4     toc
+sect5     toc
+section   toc
+set       toc,title
+&lt;/xsl:param&gt;
+
+&lt;xsl:param name=&quot;glossary.collection&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;glossentry.show.acronym&quot; select=&quot;'no'&quot;/&gt;
+&lt;xsl:param name=&quot;glossterm.auto.link&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;graphic.default.extension&quot;/&gt;
+&lt;xsl:param name=&quot;graphicsize.extension&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;header.rule&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;html.base&quot;/&gt;
+&lt;xsl:param name=&quot;html.cellpadding&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;html.cellspacing&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;html.cleanup&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;html.ext&quot; select=&quot;'.html'&quot;/&gt;
+&lt;xsl:param name=&quot;html.extra.head.links&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;html.longdesc&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;html.longdesc.link&quot; select=&quot;$html.longdesc&quot;/&gt;
+&lt;xsl:param name=&quot;html.stylesheet&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;html.stylesheet.type&quot;&gt;text/css&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;htmlhelp.alias.file&quot; select=&quot;'alias.h'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.autolabel&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.back&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.forward&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.hideshow&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.home&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.home.url&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump1&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump1.title&quot; select=&quot;'User1'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump1.url&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump2&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump2.title&quot; select=&quot;'User2'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.jump2.url&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.locate&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.next&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.options&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.prev&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.print&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.refresh&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.stop&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.button.zoom&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.chm&quot; select=&quot;'htmlhelp.chm'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.default.topic&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.display.progress&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.encoding&quot; select=&quot;'iso-8859-1'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.enhanced.decompilation&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.enumerate.images&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.force.map.and.alias&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.binary&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.folders.instead.books&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc&quot; select=&quot;'toc.hhc'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.section.depth&quot; select=&quot;5&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.show.root&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhc.width&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhk&quot; select=&quot;'index.hhk'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhp&quot; select=&quot;'htmlhelp.hhp'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhp.tail&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhp.window&quot; select=&quot;'Main'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.hhp.windows&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.map.file&quot; select=&quot;'context.h'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.only&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.remember.window.position&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.show.advanced.search&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.show.favorities&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.show.menu&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.show.toolbar.text&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.title&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.use.hhk&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.window.geometry&quot;/&gt;
+&lt;xsl:param name=&quot;img.src.path&quot;/&gt;
+&lt;xsl:param name=&quot;index.on.role&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;index.on.type&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;index.prefer.titleabbrev&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;ignore.image.scaling&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;inherit.keywords&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;l10n.gentext.default.language&quot; select=&quot;'en'&quot;/&gt;
+&lt;xsl:param name=&quot;l10n.gentext.language&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;l10n.gentext.use.xref.language&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;label.from.part&quot; select=&quot;'0'&quot;/&gt;
+&lt;xsl:param name=&quot;linenumbering.everyNth&quot; select=&quot;'5'&quot;/&gt;
+&lt;xsl:param name=&quot;linenumbering.extension&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;linenumbering.separator&quot; select=&quot;' '&quot;/&gt;
+&lt;xsl:param name=&quot;linenumbering.width&quot; select=&quot;'3'&quot;/&gt;
+&lt;xsl:param name=&quot;link.mailto.url&quot;/&gt;
+&lt;xsl:param name=&quot;make.graphic.viewport&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;make.single.year.ranges&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;make.valid.html&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;make.year.ranges&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;manifest&quot; select=&quot;'HTML.manifest'&quot;/&gt;
+&lt;xsl:param name=&quot;manifest.in.base.dir&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;manual.toc&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;menuchoice.menu.separator&quot; select=&quot;'-&gt;'&quot;/&gt;
+&lt;xsl:param name=&quot;menuchoice.separator&quot; select=&quot;'+'&quot;/&gt;
+&lt;xsl:param name=&quot;navig.graphics.extension&quot; select=&quot;'.gif'&quot;/&gt;
+&lt;xsl:param name=&quot;navig.graphics&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;navig.graphics.path&quot;&gt;images/&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;navig.showtitles&quot;&gt;1&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;nominal.image.depth&quot; select=&quot;4 * $pixels.per.inch&quot;/&gt;
+&lt;xsl:param name=&quot;nominal.image.width&quot; select=&quot;6 * $pixels.per.inch&quot;/&gt;
+&lt;xsl:param name=&quot;nominal.table.width&quot; select=&quot;'6in'&quot;/&gt;
+&lt;xsl:param name=&quot;olink.base.uri&quot; select=&quot;''&quot;/&gt; 
+&lt;xsl:param name=&quot;olink.debug&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;olink.properties&quot;&gt;
+&lt;/xsl:attribute-set&gt;
+&lt;xsl:param name=&quot;insert.olink.page.number&quot;&gt;no&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;insert.olink.pdf.frag&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;prefer.internal.olink&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;olink.lang.fallback.sequence&quot; select=&quot;''&quot;/&gt; 
+&lt;xsl:param name=&quot;olink.doctitle&quot; select=&quot;no&quot;/&gt; 
+&lt;xsl:param name=&quot;olink.fragid&quot; select=&quot;'fragid='&quot;/&gt;
+&lt;xsl:param name=&quot;olink.outline.ext&quot; select=&quot;'.olink'&quot;/&gt;
+&lt;xsl:param name=&quot;olink.pubid&quot; select=&quot;'pubid='&quot;/&gt;
+&lt;xsl:param name=&quot;olink.resolver&quot; select=&quot;'/cgi-bin/olink'&quot;/&gt;
+&lt;xsl:param name=&quot;olink.sysid&quot; select=&quot;'sysid='&quot;/&gt;
+&lt;xsl:param name=&quot;para.propagates.style&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;part.autolabel&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;phrase.propagates.style&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;pixels.per.inch&quot; select=&quot;90&quot;/&gt;
+&lt;xsl:param name=&quot;points.per.em&quot; select=&quot;10&quot;/&gt;
+&lt;xsl:param name=&quot;preface.autolabel&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;preferred.mediaobject.role&quot;/&gt;
+&lt;xsl:param name=&quot;process.empty.source.toc&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;process.source.toc&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;profile.arch&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.attribute&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.condition&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.conformance&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.lang&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.os&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.revision&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.revisionflag&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.role&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.security&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.separator&quot; select=&quot;';'&quot;/&gt;
+&lt;xsl:param name=&quot;profile.userlevel&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.value&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;profile.vendor&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;punct.honorific&quot; select=&quot;'.'&quot;/&gt;
+&lt;xsl:param name=&quot;qanda.defaultlabel&quot;&gt;number&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;qanda.inherit.numeration&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;qandadiv.autolabel&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;refentry.generate.name&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;refentry.generate.title&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;refentry.separator&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;refentry.xref.manvolnum&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;root.filename&quot; select=&quot;'index'&quot;/&gt;
+&lt;xsl:param name=&quot;rootid&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;runinhead.default.title.end.punct&quot; select=&quot;'.'&quot;/&gt;
+&lt;xsl:param name=&quot;runinhead.title.end.punct&quot; select=&quot;'.!?:'&quot;/&gt;
+&lt;xsl:param name=&quot;section.autolabel&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;section.autolabel.max.depth&quot; select=&quot;8&quot;/&gt;
+&lt;xsl:param name=&quot;section.label.includes.component.label&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;segmentedlist.as.table&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;shade.verbatim&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;shade.verbatim.style&quot;&gt;
+  &lt;xsl:attribute name=&quot;border&quot;&gt;0&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;#E0E0E0&lt;/xsl:attribute&gt;
+&lt;/xsl:attribute-set&gt;
+
+&lt;xsl:param name=&quot;show.comments&quot;&gt;1&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;show.revisionflag&quot;&gt;0&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;simplesect.in.toc&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;spacing.paras&quot; select=&quot;'0'&quot;/&gt;
+&lt;xsl:param name=&quot;suppress.footer.navigation&quot;&gt;0&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;suppress.header.navigation&quot;&gt;0&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;suppress.navigation&quot;&gt;0&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;table.borders.with.css&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;table.cell.border.color&quot; select=&quot;''&quot;/&gt;
+
+&lt;xsl:param name=&quot;table.cell.border.style&quot; select=&quot;'solid'&quot;/&gt;
+&lt;xsl:param name=&quot;table.cell.border.thickness&quot; select=&quot;'0.5pt'&quot;/&gt;
+&lt;xsl:param name=&quot;table.footnote.number.format&quot; select=&quot;'a'&quot;/&gt;
+&lt;xsl:param name=&quot;table.footnote.number.symbols&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;table.frame.border.color&quot; select=&quot;''&quot;/&gt;
+
+&lt;xsl:param name=&quot;table.frame.border.style&quot; select=&quot;'solid'&quot;/&gt;
+&lt;xsl:param name=&quot;table.frame.border.thickness&quot; select=&quot;'0.5pt'&quot;/&gt;
+&lt;xsl:param name=&quot;tablecolumns.extension&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;target.database.document&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;targets.filename&quot; select=&quot;'target.db'&quot;/&gt;
+&lt;xsl:param name=&quot;textdata.default.encoding&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;tex.math.delims&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;tex.math.file&quot; select=&quot;'tex-math-equations.tex'&quot;/&gt;
+&lt;xsl:param name=&quot;tex.math.in.alt&quot; select=&quot;''&quot;/&gt;
+&lt;xsl:param name=&quot;textinsert.extension&quot; select=&quot;'1'&quot;/&gt;
+&lt;xsl:param name=&quot;toc.list.type&quot;&gt;dl&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;toc.section.depth&quot;&gt;2&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;toc.max.depth&quot;&gt;8&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;ulink.target&quot; select=&quot;'_top'&quot;/&gt;
+&lt;xsl:param name=&quot;use.embed.for.svg&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;use.extensions&quot; select=&quot;'0'&quot;/&gt;
+&lt;xsl:param name=&quot;use.id.as.filename&quot; select=&quot;'0'&quot;/&gt;
+&lt;xsl:param name=&quot;use.local.olink.style&quot; select=&quot;0&quot;/&gt; 
+&lt;xsl:param name=&quot;use.role.as.xrefstyle&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;use.role.for.mediaobject&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;use.svg&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;variablelist.as.table&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;xref.with.number.and.title&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;xref.label-title.separator&quot;&gt;: &lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;xref.label-page.separator&quot;&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;xref.title-page.separator&quot;&gt;&lt;xsl:text&gt; &lt;/xsl:text&gt;&lt;/xsl:param&gt;
+&lt;xsl:param name=&quot;insert.xref.page.number&quot;&gt;no&lt;/xsl:param&gt;
+
+&lt;/xsl:stylesheet&gt;
\ No newline at end of file

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xweb
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xweb	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/param.xweb	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,697 @@
+&lt;!DOCTYPE book [
+&lt;!ENTITY % param.ent SYSTEM &quot;param.ent&quot;&gt;
+%param.ent;
+]&gt;
+&lt;book xmlns:src=&quot;<A HREF="http://nwalsh.com/xmlns/litprog/fragment">http://nwalsh.com/xmlns/litprog/fragment</A>&quot;
+      xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;&gt;
+&lt;bookinfo&gt;
+&lt;title&gt;HTML Parameter Reference&lt;/title&gt;
+&lt;releaseinfo role=&quot;meta&quot;&gt;
+$Id: param.xweb,v 1.85 2004/11/23 06:55:03 xmldoc Exp $
+&lt;/releaseinfo&gt;
+&lt;author&gt;
+  &lt;surname&gt;Walsh&lt;/surname&gt;
+  &lt;firstname&gt;Norman&lt;/firstname&gt;
+&lt;/author&gt;
+&lt;copyright&gt;
+  &lt;year&gt;1999&lt;/year&gt;
+  &lt;year&gt;2000&lt;/year&gt;
+  &lt;year&gt;2001&lt;/year&gt;
+  &lt;holder&gt;Norman Walsh&lt;/holder&gt;
+&lt;/copyright&gt;
+&lt;/bookinfo&gt;
+
+&lt;preface&gt;&lt;title&gt;Introduction&lt;/title&gt;
+
+&lt;para&gt;This is technical reference documentation for the DocBook XSL
+Stylesheets; it documents (some of) the parameters, templates, and
+other elements of the stylesheets.&lt;/para&gt;
+
+&lt;para&gt;This reference describes each of the HTML Stylesheet parameters.
+These are the &lt;quote&gt;easily customizable&lt;/quote&gt; parts of the stylesheet.
+If you want to specify an alternate value for one or more of these
+parameters, you can do so in a &lt;quote&gt;driver&lt;/quote&gt; stylesheet.&lt;/para&gt;
+
+&lt;para&gt;For example, if you want to change the &lt;literal&gt;html.stylesheet&lt;/literal&gt;
+to &lt;filename&gt;reference.css&lt;/filename&gt;, you might create a driver
+stylesheet like this:&lt;/para&gt;
+
+&lt;programlisting&gt;&lt;![CDATA[&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+  &lt;xsl:import href=&quot;<A HREF="http://docbook.sourceforge.net/release/xsl/snapshot/html/docbook.xsl">http://docbook.sourceforge.net/release/xsl/snapshot/html/docbook.xsl</A>&quot;/&gt;
+
+  &lt;xsl:param name=&quot;html.stylesheet&quot;&gt;reference.css&lt;/xsl:param&gt;
+
+&lt;/xsl:stylesheet&gt;]]&gt;&lt;/programlisting&gt;
+
+&lt;para&gt;Naturally, you have to change the
+&lt;sgmltag class='attribute'&gt;href&lt;/sgmltag&gt; attribute on
+&lt;literal&gt;&lt;xsl:import&gt;&lt;/literal&gt; to point to
+&lt;filename&gt;docbook.xsl&lt;/filename&gt; on your system. (Or
+&lt;filename&gt;chunk.xsl&lt;/filename&gt;, if you're using chunking.)&lt;/para&gt;
+
+&lt;para&gt;This is not intended to be &lt;quote&gt;user&lt;/quote&gt; documentation.
+It is provided for developers writing customization layers for the
+stylesheets, and for anyone who's interested in &lt;quote&gt;how it
+works&lt;/quote&gt;.&lt;/para&gt;
+
+&lt;para&gt;Although I am trying to be thorough, this documentation is known
+to be incomplete. Don't forget to read the source, too :-)&lt;/para&gt;
+&lt;/preface&gt;
+
+&lt;reference&gt;&lt;title&gt;Admonitions&lt;/title&gt;
+&amp;admon.graphics.extension;
+&amp;admon.graphics.path;
+&amp;admon.graphics;
+&amp;admon.textlabel;
+&amp;admon.style;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Callouts&lt;/title&gt;
+&amp;callout.defaultcolumn;
+&amp;callout.graphics.extension;
+&amp;callout.graphics.number.limit;
+&amp;callout.graphics.path;
+&amp;callout.graphics;
+&amp;callout.list.table;
+&amp;callout.unicode.number.limit;
+&amp;callout.unicode.start.character;
+&amp;callout.unicode;
+&amp;callouts.extension;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;EBNF&lt;/title&gt;
+&amp;ebnf.table.bgcolor;
+&amp;ebnf.table.border;
+&amp;ebnf.assignment;
+&amp;ebnf.statement.terminator;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;ToC/LoT/Index Generation&lt;/title&gt;
+&amp;annotate.toc;
+&amp;autotoc.label.separator;
+&amp;process.source.toc;
+&amp;process.empty.source.toc;
+&amp;bridgehead.in.toc;
+&amp;simplesect.in.toc;
+&amp;manual.toc;
+&amp;toc.list.type;
+&amp;toc.section.depth;
+&amp;toc.max.depth;
+&amp;generate.toc;
+&amp;generate.section.toc.level;
+&amp;generate.index;
+&amp;index.on.type;
+&amp;index.on.role;
+&amp;index.prefer.titleabbrev;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Extensions&lt;/title&gt;
+&amp;linenumbering.everyNth;
+&amp;linenumbering.extension;
+&amp;linenumbering.separator;
+&amp;linenumbering.width;
+&amp;tablecolumns.extension;
+&amp;textinsert.extension;
+&amp;textdata.default.encoding;
+&amp;graphicsize.extension;
+&amp;use.extensions;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Automatic labelling&lt;/title&gt;
+&amp;chapter.autolabel;
+&amp;appendix.autolabel;
+&amp;part.autolabel;
+&amp;preface.autolabel;
+&amp;qandadiv.autolabel;
+&amp;section.autolabel;
+&amp;section.autolabel.max.depth;
+&amp;section.label.includes.component.label;
+&amp;label.from.part;
+&amp;component.label.includes.part.label;
+&lt;/reference&gt;
+
+&lt;!--
+&lt;reference&gt;&lt;title&gt;&lt;/title&gt;
+&lt;/reference&gt;
+--&gt;
+
+&lt;reference&gt;&lt;title&gt;HTML&lt;/title&gt;
+&amp;html.base;
+&amp;html.stylesheet.type;
+&amp;html.stylesheet;
+&amp;use.id.as.filename;
+&amp;css.decoration;
+&amp;spacing.paras;
+&amp;emphasis.propagates.style;
+&amp;para.propagates.style;
+&amp;phrase.propagates.style;
+&amp;entry.propagates.style;
+&amp;html.longdesc;
+&amp;html.longdesc.link;
+&amp;make.valid.html;
+&amp;html.cleanup;
+&amp;draft.mode;
+&amp;draft.watermark.image;
+&amp;generate.id.attributes;
+&amp;generate.meta.abstract;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;XSLT Processing&lt;/title&gt;
+&rootid;
+&amp;suppress.navigation;
+&amp;suppress.header.navigation;
+&amp;suppress.footer.navigation;
+&amp;header.rule;
+&amp;footer.rule;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Meta/*Info&lt;/title&gt;
+&amp;inherit.keywords;
+&amp;make.single.year.ranges;
+&amp;make.year.ranges;
+&amp;author.othername.in.middle;
+&amp;generate.legalnotice.link;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Reference Pages&lt;/title&gt;
+&amp;funcsynopsis.decoration;
+&amp;funcsynopsis.style;
+&amp;funcsynopsis.tabular.threshold;
+&amp;function.parens;
+&amp;refentry.generate.name;
+&amp;refentry.generate.title;
+&amp;refentry.xref.manvolnum;
+&amp;citerefentry.link;
+&amp;refentry.separator;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Tables&lt;/title&gt;
+&amp;default.table.width;
+&amp;nominal.table.width;
+&amp;table.borders.with.css;
+&amp;table.cell.border.style;
+&amp;table.cell.border.thickness;
+&amp;table.cell.border.color;
+&amp;table.frame.border.style;
+&amp;table.frame.border.thickness;
+&amp;table.frame.border.color;
+&amp;html.cellspacing;
+&amp;html.cellpadding;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;QAndASet&lt;/title&gt;
+&amp;qanda.defaultlabel;
+&amp;qanda.inherit.numeration;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Linking&lt;/title&gt;
+&amp;target.database.document;
+&amp;targets.filename;
+&amp;collect.xref.targets;
+&amp;olink.base.uri;
+&amp;use.local.olink.style;
+&amp;current.docid;
+&amp;olink.doctitle;
+&amp;olink.debug;
+&amp;olink.properties;
+&amp;olink.lang.fallback.sequence;
+&amp;insert.olink.page.number;
+&amp;insert.olink.pdf.frag;
+&amp;prefer.internal.olink;
+&amp;link.mailto.url;
+&amp;ulink.target;
+&amp;olink.fragid;
+&amp;olink.outline.ext;
+&amp;olink.pubid;
+&amp;olink.sysid;
+&amp;olink.resolver;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Bibliography&lt;/title&gt;
+&amp;biblioentry.item.separator;
+&amp;bibliography.collection;
+&amp;bibliography.numbered;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Glossary&lt;/title&gt;
+&amp;glossterm.auto.link;
+&amp;firstterm.only.link;
+&amp;glossary.collection;
+&amp;glossentry.show.acronym;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Miscellaneous&lt;/title&gt;
+&amp;formal.procedures;
+&amp;formal.title.placement;
+&amp;runinhead.default.title.end.punct;
+&amp;runinhead.title.end.punct;
+&amp;show.comments;
+&amp;show.revisionflag;
+&amp;shade.verbatim;
+&amp;shade.verbatim.style;
+&amp;punct.honorific;
+&amp;segmentedlist.as.table;
+&amp;variablelist.as.table;
+&amp;tex.math.in.alt;
+&amp;tex.math.file;
+&amp;tex.math.delims;
+&amp;pixels.per.inch;
+&amp;points.per.em;
+&amp;use.svg;
+&amp;use.role.as.xrefstyle;
+&amp;menuchoice.separator;
+&amp;menuchoice.menu.separator;
+&amp;default.float.class;
+&amp;footnote.number.format;
+&amp;table.footnote.number.format;
+&amp;footnote.number.symbols;
+&amp;table.footnote.number.symbols;
+&amp;xref.with.number.and.title;
+&amp;xref.label-page.separator;
+&amp;xref.label-title.separator;
+&amp;xref.title-page.separator;
+&amp;insert.xref.page.number;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Graphics&lt;/title&gt;
+&amp;img.src.path;
+&amp;graphic.default.extension;
+&amp;default.image.width;
+&amp;nominal.image.width;
+&amp;nominal.image.depth;
+&amp;use.embed.for.svg;
+&amp;make.graphic.viewport;
+&amp;preferred.mediaobject.role;
+&amp;use.role.for.mediaobject;
+&amp;ignore.image.scaling;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Chunking&lt;/title&gt;
+&amp;chunker.output.cdata-section-elements;
+&amp;chunker.output.doctype-public;
+&amp;chunker.output.doctype-system;
+&amp;chunker.output.encoding;
+&amp;chunker.output.indent;
+&amp;chunker.output.media-type;
+&amp;chunker.output.method;
+&amp;chunker.output.omit-xml-declaration;
+&amp;chunker.output.standalone;
+&amp;saxon.character.representation;
+&amp;html.ext;
+&amp;html.extra.head.links;
+&amp;root.filename;
+&amp;base.dir;
+&amp;generate.manifest;
+&manifest;
+&amp;manifest.in.base.dir;
+&amp;chunk.toc;
+&amp;chunk.tocs.and.lots;
+&amp;chunk.separate.lots;
+&amp;chunk.section.depth;
+&amp;chunk.first.sections;
+&amp;chunk.quietly;
+&amp;navig.graphics;
+&amp;navig.graphics.extension;
+&amp;navig.graphics.path;
+&amp;navig.showtitles;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Profiling&lt;/title&gt;
+&lt;partintro&gt;
+&lt;para&gt;Following parameters can be used for attribute value based
+profiling of your document. For more info about profiling look at
+&lt;ulink
+url=&quot;<A HREF="http://docbook.sourceforge.net/projects/xsl/doc/tools/profiling.html">http://docbook.sourceforge.net/projects/xsl/doc/tools/profiling.html</A>&quot;&gt;<A HREF="http://docbook.sourceforge.net/projects/xsl/doc/tools/profiling.html&lt;/ulink">http://docbook.sourceforge.net/projects/xsl/doc/tools/profiling.html&lt;/ulink</A>&gt;.&lt;/para&gt;
+&lt;/partintro&gt;
+&amp;profile.arch;
+&amp;profile.condition;
+&amp;profile.conformance;
+&amp;profile.lang;
+&amp;profile.os;
+&amp;profile.revision;
+&amp;profile.revisionflag;
+&amp;profile.role;
+&amp;profile.security;
+&amp;profile.userlevel;
+&amp;profile.vendor;
+&amp;profile.attribute;
+&amp;profile.value;
+&amp;profile.separator;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;HTML Help&lt;/title&gt;
+&amp;htmlhelp.encoding;
+&amp;htmlhelp.autolabel;
+&amp;htmlhelp.chm;
+&amp;htmlhelp.default.topic;
+&amp;htmlhelp.display.progress;
+&amp;htmlhelp.hhp;
+&amp;htmlhelp.hhc;
+&amp;htmlhelp.hhk;
+&amp;htmlhelp.hhp.tail;
+&amp;htmlhelp.hhp.window;
+&amp;htmlhelp.hhp.windows;
+&amp;htmlhelp.enhanced.decompilation;
+&amp;htmlhelp.enumerate.images;
+&amp;htmlhelp.force.map.and.alias;
+&amp;htmlhelp.map.file;
+&amp;htmlhelp.alias.file;
+&amp;htmlhelp.hhc.section.depth;
+&amp;htmlhelp.hhc.show.root;
+&amp;htmlhelp.hhc.folders.instead.books;
+&amp;htmlhelp.hhc.binary;
+&amp;htmlhelp.hhc.width;
+&amp;htmlhelp.title;
+&amp;htmlhelp.show.menu;
+&amp;htmlhelp.show.toolbar.text;
+&amp;htmlhelp.show.advanced.search;
+&amp;htmlhelp.show.favorities;
+&amp;htmlhelp.button.hideshow;
+&amp;htmlhelp.button.back;
+&amp;htmlhelp.button.forward;
+&amp;htmlhelp.button.stop;
+&amp;htmlhelp.button.refresh;
+&amp;htmlhelp.button.home;
+&amp;htmlhelp.button.home.url;
+&amp;htmlhelp.button.options;
+&amp;htmlhelp.button.print;
+&amp;htmlhelp.button.locate;
+&amp;htmlhelp.button.jump1;
+&amp;htmlhelp.button.jump1.url;
+&amp;htmlhelp.button.jump1.title;
+&amp;htmlhelp.button.jump2;
+&amp;htmlhelp.button.jump2.url;
+&amp;htmlhelp.button.jump2.title;
+&amp;htmlhelp.button.next;
+&amp;htmlhelp.button.prev;
+&amp;htmlhelp.button.zoom;
+&amp;htmlhelp.remember.window.position;
+&amp;htmlhelp.window.geometry;
+&amp;htmlhelp.use.hhk;
+&amp;htmlhelp.only;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Eclipse Help Platform&lt;/title&gt;
+&amp;eclipse.autolabel;
+&amp;eclipse.plugin.name;
+&amp;eclipse.plugin.id;
+&amp;eclipse.plugin.provider;
+&lt;/reference&gt;
+
+&lt;reference&gt;&lt;title&gt;Localization&lt;/title&gt;
+&amp;l10n.gentext.language;
+&amp;l10n.gentext.default.language;
+&amp;l10n.gentext.use.xref.language;
+&lt;/reference&gt;
+
+&lt;appendix&gt;&lt;title&gt;The Stylesheet&lt;/title&gt;
+
+&lt;para&gt;The &lt;filename&gt;param.xsl&lt;/filename&gt; stylesheet is just a wrapper
+around all these parameters.&lt;/para&gt;
+
+&lt;src:fragment id=&quot;top&quot; mundane-result-prefixes=&quot;xsl&quot;&gt;
+
+&lt;!-- This file is generated from param.xweb; do not edit this file! --&gt;
+
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                exclude-result-prefixes=&quot;src&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: param.xweb,v 1.85 2004/11/23 06:55:03 xmldoc Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;src:fragref linkend=&quot;admon.graphics.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;admon.graphics.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;admon.graphics.path.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;admon.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;admon.textlabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;annotate.toc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;appendix.autolabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;author.othername.in.middle.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;autotoc.label.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;base.dir.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;biblioentry.item.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;bibliography.collection.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;bibliography.numbered.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;bridgehead.in.toc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.defaultcolumn.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.graphics.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.graphics.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.graphics.number.limit.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.graphics.path.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.list.table.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.unicode.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.unicode.number.limit.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callout.unicode.start.character.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;callouts.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;chapter.autolabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;chunk.first.sections.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;chunk.quietly.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;chunk.section.depth.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;chunk.toc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;chunk.tocs.and.lots.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;chunk.separate.lots.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;citerefentry.link.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;collect.xref.targets.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;component.label.includes.part.label.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;css.decoration.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;current.docid.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;default.float.class.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;default.image.width.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;default.table.width.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;draft.mode.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;draft.watermark.image.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;ebnf.table.bgcolor.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;ebnf.table.border.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;ebnf.assignment.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;ebnf.statement.terminator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;eclipse.autolabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;eclipse.plugin.name.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;eclipse.plugin.id.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;eclipse.plugin.provider.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;emphasis.propagates.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;entry.propagates.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;firstterm.only.link.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;footer.rule.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;footnote.number.format.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;footnote.number.symbols.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;formal.procedures.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;formal.title.placement.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;funcsynopsis.decoration.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;funcsynopsis.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;funcsynopsis.tabular.threshold.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;function.parens.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;generate.id.attributes.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;generate.index.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;generate.legalnotice.link.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;generate.manifest.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;generate.meta.abstract.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;generate.section.toc.level.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;generate.toc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;glossary.collection.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;glossentry.show.acronym.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;glossterm.auto.link.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;graphic.default.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;graphicsize.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;header.rule.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.base.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.cellpadding.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.cellspacing.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.cleanup.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.ext.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.extra.head.links.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.longdesc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.longdesc.link.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.stylesheet.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;html.stylesheet.type.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.alias.file.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.autolabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.back.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.forward.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.hideshow.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.home.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.home.url.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump1.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump1.title.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump1.url.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump2.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump2.title.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.jump2.url.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.locate.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.next.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.options.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.prev.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.print.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.refresh.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.stop.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.button.zoom.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.chm.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.default.topic.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.display.progress.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.encoding.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.enhanced.decompilation.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.enumerate.images.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.force.map.and.alias.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.binary.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.folders.instead.books.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.section.depth.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.show.root.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhc.width.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhk.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhp.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhp.tail.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhp.window.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.hhp.windows.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.map.file.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.only.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.remember.window.position.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.show.advanced.search.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.show.favorities.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.show.menu.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.show.toolbar.text.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.title.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.use.hhk.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;htmlhelp.window.geometry.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;img.src.path.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;index.on.role.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;index.on.type.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;index.prefer.titleabbrev.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;ignore.image.scaling.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;inherit.keywords.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;l10n.gentext.default.language.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;l10n.gentext.language.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;l10n.gentext.use.xref.language.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;label.from.part.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;linenumbering.everyNth.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;linenumbering.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;linenumbering.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;linenumbering.width.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;link.mailto.url.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;make.graphic.viewport.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;make.single.year.ranges.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;make.valid.html.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;make.year.ranges.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;manifest.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;manifest.in.base.dir.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;manual.toc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;menuchoice.menu.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;menuchoice.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;navig.graphics.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;navig.graphics.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;navig.graphics.path.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;navig.showtitles.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;nominal.image.depth.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;nominal.image.width.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;nominal.table.width.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.base.uri.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.debug.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.properties.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;insert.olink.page.number.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;insert.olink.pdf.frag.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;prefer.internal.olink.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.lang.fallback.sequence.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.doctitle.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.fragid.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.outline.ext.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.pubid.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.resolver.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;olink.sysid.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;para.propagates.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;part.autolabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;phrase.propagates.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;pixels.per.inch.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;points.per.em.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;preface.autolabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;preferred.mediaobject.role.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;process.empty.source.toc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;process.source.toc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.arch.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.attribute.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.condition.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.conformance.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.lang.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.os.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.revision.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.revisionflag.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.role.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.security.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.userlevel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.value.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;profile.vendor.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;punct.honorific.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;qanda.defaultlabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;qanda.inherit.numeration.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;qandadiv.autolabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;refentry.generate.name.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;refentry.generate.title.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;refentry.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;refentry.xref.manvolnum.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;root.filename.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;rootid.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;runinhead.default.title.end.punct.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;runinhead.title.end.punct.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;section.autolabel.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;section.autolabel.max.depth.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;section.label.includes.component.label.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;segmentedlist.as.table.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;shade.verbatim.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;shade.verbatim.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;show.comments.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;show.revisionflag.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;simplesect.in.toc.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;spacing.paras.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;suppress.footer.navigation.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;suppress.header.navigation.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;suppress.navigation.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.borders.with.css.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.cell.border.color.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.cell.border.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.cell.border.thickness.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.footnote.number.format.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.footnote.number.symbols.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.frame.border.color.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.frame.border.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;table.frame.border.thickness.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;tablecolumns.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;target.database.document.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;targets.filename.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;textdata.default.encoding.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;tex.math.delims.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;tex.math.file.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;tex.math.in.alt.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;textinsert.extension.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;toc.list.type.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;toc.section.depth.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;toc.max.depth.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;ulink.target.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;use.embed.for.svg.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;use.extensions.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;use.id.as.filename.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;use.local.olink.style.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;use.role.as.xrefstyle.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;use.role.for.mediaobject.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;use.svg.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;variablelist.as.table.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;xref.with.number.and.title.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;xref.label-title.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;xref.label-page.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;xref.title-page.separator.frag&quot;/&gt;
+&lt;src:fragref linkend=&quot;insert.xref.page.number.frag&quot;/&gt;
+
+&lt;/xsl:stylesheet&gt;
+&lt;/src:fragment&gt;
+
+&lt;/appendix&gt;
+
+&lt;/book&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/pi.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/pi.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/pi.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,207 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: pi.xsl,v 1.8 2002/05/13 21:43:57 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;xsl:template match=&quot;processing-instruction()&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;processing-instruction('dbhtml')&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;dbhtml-attribute&quot;&gt;
+  &lt;xsl:param name=&quot;pis&quot; select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+  &lt;xsl:param name=&quot;attribute&quot;&gt;filename&lt;/xsl:param&gt;
+
+  &lt;xsl:call-template name=&quot;pi-attribute&quot;&gt;
+    &lt;xsl:with-param name=&quot;pis&quot; select=&quot;$pis&quot;/&gt;
+    &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;$attribute&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dbhtml-filename&quot;&gt;
+  &lt;xsl:param name=&quot;pis&quot; select=&quot;./processing-instruction('dbhtml')&quot;/&gt;
+  &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+    &lt;xsl:with-param name=&quot;pis&quot; select=&quot;$pis&quot;/&gt;
+    &lt;xsl:with-param name=&quot;attribute&quot;&gt;filename&lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;!--
+&lt;xsl:template name=&quot;dbhtml-dir&quot;&gt;
+  &lt;xsl:param name=&quot;pis&quot; select=&quot;./processing-instruction('dbhtml')&quot;/&gt;
+  &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+    &lt;xsl:with-param name=&quot;pis&quot; select=&quot;$pis&quot;/&gt;
+    &lt;xsl:with-param name=&quot;attribute&quot;&gt;dir&lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+--&gt;
+
+&lt;xsl:template name=&quot;dbhtml-dir&quot;&gt;
+  &lt;xsl:param name=&quot;context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- directories are now inherited from previous levels --&gt;
+
+  &lt;xsl:variable name=&quot;ppath&quot;&gt;
+    &lt;xsl:if test=&quot;$context/parent::*&quot;&gt;
+      &lt;xsl:call-template name=&quot;dbhtml-dir&quot;&gt;
+        &lt;xsl:with-param name=&quot;context&quot; select=&quot;$context/parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;path&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot; select=&quot;$context/processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot;&gt;dir&lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$path = ''&quot;&gt;
+      &lt;xsl:if test=&quot;$ppath != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$ppath&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:if test=&quot;$ppath != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$ppath&quot;/&gt;
+        &lt;xsl:if test=&quot;substring($ppath, string-length($ppath), 1) != '/'&quot;&gt;
+          &lt;xsl:text&gt;/&lt;/xsl:text&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:value-of select=&quot;$path&quot;/&gt;
+      &lt;xsl:text&gt;/&lt;/xsl:text&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process.cmdsynopsis.list&quot;&gt;
+  &lt;xsl:param name=&quot;cmdsynopses&quot;/&gt;&lt;!-- empty node list by default --&gt;
+  &lt;xsl:param name=&quot;count&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$count&gt;count($cmdsynopses)&quot;&gt;&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;cmdsyn&quot; select=&quot;$cmdsynopses[$count]&quot;/&gt;
+
+       &lt;dt&gt;
+       &lt;a&gt;
+         &lt;xsl:attribute name=&quot;href&quot;&gt;
+           &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+             &lt;xsl:with-param name=&quot;object&quot; select=&quot;$cmdsyn&quot;/&gt;
+           &lt;/xsl:call-template&gt;
+         &lt;/xsl:attribute&gt;
+
+         &lt;xsl:choose&gt;
+           &lt;xsl:when test=&quot;$cmdsyn/@xreflabel&quot;&gt;
+             &lt;xsl:call-template name=&quot;xref.xreflabel&quot;&gt;
+               &lt;xsl:with-param name=&quot;target&quot; select=&quot;$cmdsyn&quot;/&gt;
+             &lt;/xsl:call-template&gt;
+           &lt;/xsl:when&gt;
+           &lt;xsl:otherwise&gt;
+             &lt;xsl:apply-templates select=&quot;$cmdsyn&quot; mode=&quot;xref-to&quot;&gt;
+               &lt;xsl:with-param name=&quot;target&quot; select=&quot;$cmdsyn&quot;/&gt;
+             &lt;/xsl:apply-templates&gt;
+           &lt;/xsl:otherwise&gt;
+         &lt;/xsl:choose&gt;
+       &lt;/a&gt;
+       &lt;/dt&gt;
+
+        &lt;xsl:call-template name=&quot;process.cmdsynopsis.list&quot;&gt;
+          &lt;xsl:with-param name=&quot;cmdsynopses&quot; select=&quot;$cmdsynopses&quot;/&gt;
+          &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count+1&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;processing-instruction('dbcmdlist')&quot;&gt;
+  &lt;xsl:variable name=&quot;cmdsynopses&quot; select=&quot;..//cmdsynopsis&quot;/&gt;
+
+  &lt;xsl:if test=&quot;count($cmdsynopses)&lt;1&quot;&gt;
+    &lt;xsl:message&gt;&lt;xsl:text&gt;No cmdsynopsis elements matched dbcmdlist PI, perhaps it's nested too deep?&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;dl&gt;
+    &lt;xsl:call-template name=&quot;process.cmdsynopsis.list&quot;&gt;
+      &lt;xsl:with-param name=&quot;cmdsynopses&quot; select=&quot;$cmdsynopses&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/dl&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process.funcsynopsis.list&quot;&gt;
+  &lt;xsl:param name=&quot;funcsynopses&quot;/&gt;&lt;!-- empty node list by default --&gt;
+  &lt;xsl:param name=&quot;count&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$count&gt;count($funcsynopses)&quot;&gt;&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;cmdsyn&quot; select=&quot;$funcsynopses[$count]&quot;/&gt;
+
+       &lt;dt&gt;
+       &lt;a&gt;
+         &lt;xsl:attribute name=&quot;href&quot;&gt;
+           &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+             &lt;xsl:with-param name=&quot;object&quot; select=&quot;$cmdsyn&quot;/&gt;
+           &lt;/xsl:call-template&gt;
+         &lt;/xsl:attribute&gt;
+
+         &lt;xsl:choose&gt;
+           &lt;xsl:when test=&quot;$cmdsyn/@xreflabel&quot;&gt;
+             &lt;xsl:call-template name=&quot;xref.xreflabel&quot;&gt;
+               &lt;xsl:with-param name=&quot;target&quot; select=&quot;$cmdsyn&quot;/&gt;
+             &lt;/xsl:call-template&gt;
+           &lt;/xsl:when&gt;
+           &lt;xsl:otherwise&gt;
+              &lt;xsl:apply-templates select=&quot;$cmdsyn&quot; mode=&quot;xref-to&quot;&gt;
+                &lt;xsl:with-param name=&quot;target&quot; select=&quot;$cmdsyn&quot;/&gt;
+              &lt;/xsl:apply-templates&gt;
+           &lt;/xsl:otherwise&gt;
+         &lt;/xsl:choose&gt;
+       &lt;/a&gt;
+       &lt;/dt&gt;
+
+        &lt;xsl:call-template name=&quot;process.funcsynopsis.list&quot;&gt;
+          &lt;xsl:with-param name=&quot;funcsynopses&quot; select=&quot;$funcsynopses&quot;/&gt;
+          &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count+1&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;processing-instruction('dbfunclist')&quot;&gt;
+  &lt;xsl:variable name=&quot;funcsynopses&quot; select=&quot;..//funcsynopsis&quot;/&gt;
+
+  &lt;xsl:if test=&quot;count($funcsynopses)&lt;1&quot;&gt;
+    &lt;xsl:message&gt;&lt;xsl:text&gt;No funcsynopsis elements matched dbfunclist PI, perhaps it's nested too deep?&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;dl&gt;
+    &lt;xsl:call-template name=&quot;process.funcsynopsis.list&quot;&gt;
+      &lt;xsl:with-param name=&quot;funcsynopses&quot; select=&quot;$funcsynopses&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/dl&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-chunk-code.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-chunk-code.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-chunk-code.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,732 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;
+&lt;!--This file was created automatically by xsl2profile--&gt;
+&lt;!--from the DocBook XSL stylesheets. Do not edit this file.--&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot; xmlns:exslt=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot; exslt:dummy=&quot;dummy&quot; extension-element-prefixes=&quot;exslt&quot; version=&quot;1.0&quot; exclude-result-prefixes=&quot;exsl exslt&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: chunk-code.xsl,v 1.10 2004/10/14 17:11:02 xmldoc Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:param name=&quot;onechunk&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;refentry.separator&quot; select=&quot;0&quot;/&gt;
+&lt;xsl:param name=&quot;chunk.fast&quot; select=&quot;0&quot;/&gt;
+
+&lt;xsl:key name=&quot;genid&quot; match=&quot;*&quot; use=&quot;generate-id()&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:variable name=&quot;chunk.hierarchy&quot;&gt;
+  &lt;xsl:if test=&quot;$chunk.fast != 0&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;function-available('exsl:node-set')&quot;&gt;
+        &lt;xsl:message&gt;Computing chunks...&lt;/xsl:message&gt;
+        &lt;xsl:apply-templates select=&quot;/*&quot; mode=&quot;find.chunks&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:message&gt;
+          &lt;xsl:text&gt;Fast chunking requires exsl:node-set(). &lt;/xsl:text&gt;
+          &lt;xsl:text&gt;Using &quot;slow&quot; chunking.&lt;/xsl:text&gt;
+        &lt;/xsl:message&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:variable&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;find.chunks&quot;&gt;
+  &lt;xsl:variable name=&quot;chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk != 0&quot;&gt;
+      &lt;div class=&quot;{local-name(.)}&quot; id=&quot;{generate-id()}&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;*&quot; mode=&quot;find.chunks&quot;/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;*&quot; mode=&quot;find.chunks&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process-chunk-element&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk.fast != 0 and function-available('exsl:node-set')&quot;&gt;
+      &lt;xsl:variable name=&quot;chunks&quot; select=&quot;exsl:node-set($chunk.hierarchy)//div&quot;/&gt;
+      &lt;xsl:variable name=&quot;genid&quot; select=&quot;generate-id()&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;div&quot; select=&quot;$chunks[@id=$genid]&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;prevdiv&quot; select=&quot;($div/preceding-sibling::div|$div/preceding::div|$div/parent::div)[last()]&quot;/&gt;
+      &lt;xsl:variable name=&quot;prev&quot; select=&quot;key('genid', $prevdiv/@id)&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;nextdiv&quot; select=&quot;($div/following-sibling::div|$div/following::div|$div/div)[1]&quot;/&gt;
+      &lt;xsl:variable name=&quot;next&quot; select=&quot;key('genid', $nextdiv/@id)&quot;/&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0 and parent::*&quot;&gt;
+          &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;process-chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+            &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+            &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0 and not(parent::*)&quot;&gt;
+          &lt;xsl:call-template name=&quot;chunk-all-sections&quot;&gt;
+            &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$onechunk != 0&quot;&gt;
+          &lt;xsl:copy-of select=&quot;$content&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$chunk.first.sections = 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;chunk-first-section-with-parent&quot;&gt;
+            &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;chunk-all-sections&quot;&gt;
+            &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process-chunk&quot;&gt;
+  &lt;xsl:param name=&quot;prev&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;next&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;chunkfn&quot;&gt;
+    &lt;xsl:if test=&quot;$ischunk='1'&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chunk-filename&quot; select=&quot;.&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;$ischunk='0'&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;Error &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+      &lt;xsl:text&gt; is not a chunk!&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:variable name=&quot;filename&quot;&gt;
+    &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+      &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+      &lt;xsl:with-param name=&quot;base.name&quot; select=&quot;$chunkfn&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:call-template name=&quot;chunk-element-content&quot;&gt;
+        &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+        &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+        &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:with-param&gt;
+    &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chunk-first-section-with-parent&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;!-- These xpath expressions are really hairy. The trick is to pick sections --&gt;
+  &lt;!-- that are not first children and are not the children of first children --&gt;
+
+  &lt;!-- Break these variables into pieces to work around
+       <A HREF="http://nagoya.apache.org/bugzilla/show_bug.cgi?id=6063">http://nagoya.apache.org/bugzilla/show_bug.cgi?id=6063</A> --&gt;
+
+  &lt;xsl:variable name=&quot;prev-v1&quot; select=&quot;(ancestor::sect1[$chunk.section.depth &gt; 0                                and preceding-sibling::sect1][1]               |ancestor::sect2[$chunk.section.depth &gt; 1                                and preceding-sibling::sect2                                and parent::sect1[preceding-sibling::sect1]][1]               |ancestor::sect3[$chunk.section.depth &gt; 2                                and preceding-sibling::sect3                                and parent::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |ancestor::sect4[$chunk.section.depth &gt; 3                                and preceding-sibling::sect4                                and parent::sect3[preceding-sibling::sect2]                                and ancestor::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |!
 ancestor::sect5[$chunk.section.depth &gt; 4                                and preceding-sibling::sect5                                and parent::sect4[preceding-sibling::sect4]                                and ancestor::sect3[preceding-sibling::sect3]                                and ancestor::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |ancestor::section[$chunk.section.depth &gt; count(ancestor::section)                                 and not(ancestor::section[not(preceding-sibling::section)])][1])[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev-v2&quot; select=&quot;(preceding::sect1[$chunk.section.depth &gt; 0                                and preceding-sibling::sect1][1]               |preceding::sect2[$chunk.section.depth &gt; 1                                and preceding-sibling::sect2                                and parent::sect1[preceding-sibling::sect1]][1]               |preceding::sect3[$chunk.section.depth &gt; 2                                and preceding-sibling::sect3                                and parent::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |preceding::sect4[$chunk.section.depth &gt; 3                                and preceding-sibling::sect4                                and parent::sect3[preceding-sibling::sect2]                                and ancestor::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]            !
    |preceding::sect5[$chunk.section.depth &gt; 4                                and preceding-sibling::sect5                                and parent::sect4[preceding-sibling::sect4]                                and ancestor::sect3[preceding-sibling::sect3]                                and ancestor::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |preceding::section[$chunk.section.depth &gt; count(ancestor::section)                                  and preceding-sibling::section                                  and not(ancestor::section[not(preceding-sibling::section)])][1])[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev&quot; select=&quot;(preceding::book[1]              |preceding::preface[1]              |preceding::chapter[1]              |preceding::appendix[1]              |preceding::part[1]              |preceding::reference[1]              |preceding::refentry[1]              |preceding::colophon[1]              |preceding::article[1]              |preceding::bibliography[parent::article or parent::book or parent::part][1]              |preceding::glossary[parent::article or parent::book or parent::part][1]              |preceding::index[$generate.index != 0]                         [parent::article or parent::book or parent::part][1]              |preceding::setindex[$generate.index != 0][1]              |ancestor::set              |ancestor::book[1]              |ancestor::preface[1]              |ancestor::chapter[1]              |ancestor::appendix[1]              |ancestor::part[1]              |ancestor::reference[1]              |ancestor::article[1]        !
       |$prev-v1              |$prev-v2)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next-v1&quot; select=&quot;(following::sect1[$chunk.section.depth &gt; 0                                and preceding-sibling::sect1][1]               |following::sect2[$chunk.section.depth &gt; 1                                and preceding-sibling::sect2                                and parent::sect1[preceding-sibling::sect1]][1]               |following::sect3[$chunk.section.depth &gt; 2                                and preceding-sibling::sect3                                and parent::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |following::sect4[$chunk.section.depth &gt; 3                                and preceding-sibling::sect4                                and parent::sect3[preceding-sibling::sect2]                                and ancestor::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]            !
    |following::sect5[$chunk.section.depth &gt; 4                                and preceding-sibling::sect5                                and parent::sect4[preceding-sibling::sect4]                                and ancestor::sect3[preceding-sibling::sect3]                                and ancestor::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |following::section[$chunk.section.depth &gt; count(ancestor::section)                                  and preceding-sibling::section                                  and not(ancestor::section[not(preceding-sibling::section)])][1])[1]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next-v2&quot; select=&quot;(descendant::sect1[$chunk.section.depth &gt; 0                                and preceding-sibling::sect1][1]               |descendant::sect2[$chunk.section.depth &gt; 1                                and preceding-sibling::sect2                                and parent::sect1[preceding-sibling::sect1]][1]               |descendant::sect3[$chunk.section.depth &gt; 2                                and preceding-sibling::sect3                                and parent::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |descendant::sect4[$chunk.section.depth &gt; 3                                and preceding-sibling::sect4                                and parent::sect3[preceding-sibling::sect2]                                and ancestor::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]        !
        |descendant::sect5[$chunk.section.depth &gt; 4                                and preceding-sibling::sect5                                and parent::sect4[preceding-sibling::sect4]                                and ancestor::sect3[preceding-sibling::sect3]                                and ancestor::sect2[preceding-sibling::sect2]                                and ancestor::sect1[preceding-sibling::sect1]][1]               |descendant::section[$chunk.section.depth &gt; count(ancestor::section)                                  and preceding-sibling::section                                  and not(ancestor::section[not(preceding-sibling::section)])])[1]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next&quot; select=&quot;(following::book[1]              |following::preface[1]              |following::chapter[1]              |following::appendix[1]              |following::part[1]              |following::reference[1]              |following::refentry[1]              |following::colophon[1]              |following::bibliography[parent::article or parent::book or parent::part][1]              |following::glossary[parent::article or parent::book or parent::part][1]              |following::index[$generate.index != 0]                         [parent::article or parent::book or parent::part][1]              |following::article[1]              |following::setindex[$generate.index != 0][1]              |descendant::book[1]              |descendant::preface[1]              |descendant::chapter[1]              |descendant::appendix[1]              |descendant::article[1]              |descendant::bibliography[parent::article or parent::book or parent::part][1]    !
           |descendant::glossary[parent::article or parent::book or parent::part][1]              |descendant::index[$generate.index != 0]                         [parent::article or parent::book or parent::part][1]              |descendant::colophon[1]              |descendant::setindex[$generate.index != 0][1]              |descendant::part[1]              |descendant::reference[1]              |descendant::refentry[1]              |$next-v1              |$next-v2)[1]&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;process-chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+    &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chunk-all-sections&quot;&gt;
+  &lt;xsl:param name=&quot;content&quot;&gt;
+    &lt;xsl:apply-imports/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:variable name=&quot;prev-v1&quot; select=&quot;(preceding::sect1[$chunk.section.depth &gt; 0][1]              |preceding::sect2[$chunk.section.depth &gt; 1][1]              |preceding::sect3[$chunk.section.depth &gt; 2][1]              |preceding::sect4[$chunk.section.depth &gt; 3][1]              |preceding::sect5[$chunk.section.depth &gt; 4][1]              |preceding::section[$chunk.section.depth &gt; count(ancestor::section)][1])[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev-v2&quot; select=&quot;(ancestor::sect1[$chunk.section.depth &gt; 0][1]              |ancestor::sect2[$chunk.section.depth &gt; 1][1]              |ancestor::sect3[$chunk.section.depth &gt; 2][1]              |ancestor::sect4[$chunk.section.depth &gt; 3][1]              |ancestor::sect5[$chunk.section.depth &gt; 4][1]              |ancestor::section[$chunk.section.depth &gt; count(ancestor::section)][1])[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;prev&quot; select=&quot;(preceding::book[1]              |preceding::preface[1]              |preceding::chapter[1]              |preceding::appendix[1]              |preceding::part[1]              |preceding::reference[1]              |preceding::refentry[1]              |preceding::colophon[1]              |preceding::article[1]              |preceding::bibliography[parent::article or parent::book or parent::part][1]              |preceding::glossary[parent::article or parent::book or parent::part][1]              |preceding::index[$generate.index != 0]                         [parent::article or parent::book or parent::part][1]              |preceding::setindex[$generate.index != 0][1]              |ancestor::set              |ancestor::book[1]              |ancestor::preface[1]              |ancestor::chapter[1]              |ancestor::appendix[1]              |ancestor::part[1]              |ancestor::reference[1]              |ancestor::article[1]        !
       |$prev-v1              |$prev-v2)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next-v1&quot; select=&quot;(following::sect1[$chunk.section.depth &gt; 0][1]              |following::sect2[$chunk.section.depth &gt; 1][1]              |following::sect3[$chunk.section.depth &gt; 2][1]              |following::sect4[$chunk.section.depth &gt; 3][1]              |following::sect5[$chunk.section.depth &gt; 4][1]              |following::section[$chunk.section.depth &gt; count(ancestor::section)][1])[1]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next-v2&quot; select=&quot;(descendant::sect1[$chunk.section.depth &gt; 0][1]              |descendant::sect2[$chunk.section.depth &gt; 1][1]              |descendant::sect3[$chunk.section.depth &gt; 2][1]              |descendant::sect4[$chunk.section.depth &gt; 3][1]              |descendant::sect5[$chunk.section.depth &gt; 4][1]              |descendant::section[$chunk.section.depth                                    &gt; count(ancestor::section)][1])[1]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;next&quot; select=&quot;(following::book[1]              |following::preface[1]              |following::chapter[1]              |following::appendix[1]              |following::part[1]              |following::reference[1]              |following::refentry[1]              |following::colophon[1]              |following::bibliography[parent::article or parent::book or parent::part][1]              |following::glossary[parent::article or parent::book or parent::part][1]              |following::index[$generate.index != 0]                         [parent::article or parent::book][1]              |following::article[1]              |following::setindex[$generate.index != 0][1]              |descendant::book[1]              |descendant::preface[1]              |descendant::chapter[1]              |descendant::appendix[1]              |descendant::article[1]              |descendant::bibliography[parent::article or parent::book][1]              |descendant::glossary[!
 parent::article or parent::book or parent::part][1]              |descendant::index[$generate.index != 0]                         [parent::article or parent::book][1]              |descendant::colophon[1]              |descendant::setindex[$generate.index != 0][1]              |descendant::part[1]              |descendant::reference[1]              |descendant::refentry[1]              |$next-v1              |$next-v2)[1]&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;process-chunk&quot;&gt;
+    &lt;xsl:with-param name=&quot;prev&quot; select=&quot;$prev&quot;/&gt;
+    &lt;xsl:with-param name=&quot;next&quot; select=&quot;$next&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot; select=&quot;$content&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xslo:include xmlns:xslo=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; href=&quot;../profiling/profile-mode.xsl&quot;/&gt;&lt;xsl:template match=&quot;/&quot;&gt;&lt;xslo:variable xmlns:xslo=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; name=&quot;profiled-content&quot;&gt;&lt;xslo:apply-templates select=&quot;.&quot; mode=&quot;profile&quot;/&gt;&lt;/xslo:variable&gt;&lt;xslo:variable xmlns:xslo=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; name=&quot;profiled-nodes&quot; select=&quot;exslt:node-set($profiled-content)&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$rootid != ''&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;count($profiled-nodes//*[@id=$rootid]) = 0&quot;&gt;
+          &lt;xsl:message terminate=&quot;yes&quot;&gt;
+            &lt;xsl:text&gt;ID '&lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$rootid&quot;/&gt;
+            &lt;xsl:text&gt;' not found in document.&lt;/xsl:text&gt;
+          &lt;/xsl:message&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or                         $collect.xref.targets = 'only'&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;key('id', $rootid)&quot; mode=&quot;collect.targets&quot;/&gt;
+          &lt;/xsl:if&gt;
+          &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;$profiled-nodes//*[@id=$rootid]&quot; mode=&quot;process.root&quot;/&gt;
+            &lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;$profiled-nodes//*[@id=$rootid]&quot; mode=&quot;collect.tex.math&quot;/&gt;
+            &lt;/xsl:if&gt;
+            &lt;xsl:if test=&quot;$generate.manifest != 0&quot;&gt;
+              &lt;xsl:call-template name=&quot;generate.manifest&quot;&gt;
+                &lt;xsl:with-param name=&quot;node&quot; select=&quot;key('id',$rootid)&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:if&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or                     $collect.xref.targets = 'only'&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$profiled-nodes&quot; mode=&quot;collect.targets&quot;/&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$profiled-nodes&quot; mode=&quot;process.root&quot;/&gt;
+        &lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$profiled-nodes&quot; mode=&quot;collect.tex.math&quot;/&gt;
+        &lt;/xsl:if&gt;
+        &lt;xsl:if test=&quot;$generate.manifest != 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;generate.manifest&quot;/&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;process.root&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+
+&lt;xsl:template match=&quot;set|book|part|preface|chapter|appendix                      |article                      |reference|refentry                      |book/glossary|article/glossary|part/glossary                      |book/bibliography|article/bibliography|part/bibliography                      |colophon&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$onechunk != 0 and parent::*&quot;&gt;
+      &lt;xsl:apply-imports/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;process-chunk-element&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect1|sect2|sect3|sect4|sect5|section&quot;&gt;
+  &lt;xsl:variable name=&quot;ischunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not(parent::*)&quot;&gt;
+      &lt;xsl:call-template name=&quot;process-chunk-element&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$ischunk = 0&quot;&gt;
+      &lt;xsl:apply-imports/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;process-chunk-element&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;setindex                      |book/index                      |article/index                      |part/index&quot;&gt;
+  &lt;!-- some implementations use completely empty index tags to indicate --&gt;
+  &lt;!-- where an automatically generated index should be inserted. so --&gt;
+  &lt;!-- if the index is completely empty, skip it. --&gt;
+  &lt;xsl:if test=&quot;count(*)&gt;0 or $generate.index != '0'&quot;&gt;
+    &lt;xsl:call-template name=&quot;process-chunk-element&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;make.lots&quot;&gt;
+  &lt;xsl:param name=&quot;toc.params&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;toc&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;lots&quot;&gt;
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')&quot;&gt;
+      &lt;xsl:copy-of select=&quot;$toc&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'figure')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'figure'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'figure'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//figure&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'figure'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//figure&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'table')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'table'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'table'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//table&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'table'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//table&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'example')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'example'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'example'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//example&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'example'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//example&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'equation')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'equation'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'equation'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//equation&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'equation'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//equation&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'procedure')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$chunk.separate.lots != '0'&quot;&gt;
+          &lt;xsl:call-template name=&quot;make.lot.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;type&quot; select=&quot;'procedure'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;lot&quot;&gt;
+              &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+                &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'procedure'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//procedure[title]&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:with-param&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;list.of.titles&quot;&gt;
+            &lt;xsl:with-param name=&quot;titles&quot; select=&quot;'procedure'&quot;/&gt;
+            &lt;xsl:with-param name=&quot;nodes&quot; select=&quot;.//procedure[title]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;string($lots) != ''&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$chunk.tocs.and.lots != 0 and not(parent::*)&quot;&gt;
+        &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+          &lt;xsl:with-param name=&quot;filename&quot;&gt;
+            &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+              &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+              &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+                &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+                &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;recursive-chunk-filename&quot;&gt;
+                  &lt;xsl:with-param name=&quot;recursive&quot; select=&quot;true()&quot;/&gt;
+                &lt;/xsl:apply-templates&gt;
+                &lt;xsl:text&gt;-toc&lt;/xsl:text&gt;
+                &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+              &lt;/xsl:with-param&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:with-param&gt;
+          &lt;xsl:with-param name=&quot;content&quot;&gt;
+            &lt;xsl:call-template name=&quot;chunk-element-content&quot;&gt;
+              &lt;xsl:with-param name=&quot;prev&quot; select=&quot;/foo&quot;/&gt;
+              &lt;xsl:with-param name=&quot;next&quot; select=&quot;/foo&quot;/&gt;
+              &lt;xsl:with-param name=&quot;nav.context&quot; select=&quot;'toc'&quot;/&gt;
+              &lt;xsl:with-param name=&quot;content&quot;&gt;
+                &lt;h1&gt;
+                  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup&quot;/&gt;
+                &lt;/h1&gt;
+                &lt;xsl:copy-of select=&quot;$lots&quot;/&gt;
+              &lt;/xsl:with-param&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:with-param&gt;
+          &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:copy-of select=&quot;$lots&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;make.lot.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;type&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;lot&quot;/&gt;
+
+  &lt;xsl:if test=&quot;string($lot) != ''&quot;&gt;
+    &lt;xsl:variable name=&quot;filename&quot;&gt;
+      &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+        &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+        &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+          &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+          &lt;xsl:value-of select=&quot;$type&quot;/&gt;
+          &lt;xsl:text&gt;-toc&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:variable name=&quot;href&quot;&gt;
+      &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+        &lt;xsl:with-param name=&quot;base.name&quot;&gt;
+          &lt;xsl:call-template name=&quot;dbhtml-dir&quot;/&gt;
+          &lt;xsl:value-of select=&quot;$type&quot;/&gt;
+          &lt;xsl:text&gt;-toc&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$html.ext&quot;/&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+      &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:call-template name=&quot;chunk-element-content&quot;&gt;
+          &lt;xsl:with-param name=&quot;prev&quot; select=&quot;/foo&quot;/&gt;
+          &lt;xsl:with-param name=&quot;next&quot; select=&quot;/foo&quot;/&gt;
+          &lt;xsl:with-param name=&quot;nav.context&quot; select=&quot;'toc'&quot;/&gt;
+          &lt;xsl:with-param name=&quot;content&quot;&gt;
+            &lt;xsl:copy-of select=&quot;$lot&quot;/&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:with-param&gt;
+      &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;!-- And output a link to this file --&gt;
+    &lt;div&gt;
+      &lt;xsl:attribute name=&quot;class&quot;&gt;
+        &lt;xsl:text&gt;ListofTitles&lt;/xsl:text&gt;
+      &lt;/xsl:attribute&gt;
+      &lt;a href=&quot;{$href}&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+          &lt;xsl:with-param name=&quot;key&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$type='table'&quot;&gt;ListofTables&lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;$type='figure'&quot;&gt;ListofFigures&lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;$type='equation'&quot;&gt;ListofEquations&lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;$type='example'&quot;&gt;ListofExamples&lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;$type='procedure'&quot;&gt;ListofProcedures&lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;ListofUnknown&lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/a&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;in.other.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;chunk&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;is.chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;in.other.chunk: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name($chunk)&quot;/&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name($node)&quot;/&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$chunk = $node&quot;/&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$is.chunk&quot;/&gt;
+  &lt;/xsl:message&gt;
+--&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$chunk = $node&quot;&gt;0&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$is.chunk = 1&quot;&gt;1&lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;count($node) = 0&quot;&gt;0&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;in.other.chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;chunk&quot; select=&quot;$chunk&quot;/&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node/parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;footnotes&quot; select=&quot;$node//footnote&quot;/&gt;
+  &lt;xsl:param name=&quot;count&quot; select=&quot;0&quot;/&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;count.footnotes.in.this.chunk: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name($node)&quot;/&gt;
+  &lt;/xsl:message&gt;
+--&gt;
+
+  &lt;xsl:variable name=&quot;in.other.chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;in.other.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;chunk&quot; select=&quot;$node&quot;/&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$footnotes[1]&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;count($footnotes) = 0&quot;&gt;
+      &lt;xsl:value-of select=&quot;$count&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$in.other.chunk != 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+            &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$footnotes[1]/ancestor::table                         |$footnotes[1]/ancestor::informaltable&quot;&gt;
+          &lt;xsl:call-template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+            &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+            &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count + 1&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;footnotes&quot; select=&quot;$node//footnote&quot;/&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;process.footnotes.in.this.chunk&lt;/xsl:message&gt;
+--&gt;
+
+  &lt;xsl:variable name=&quot;in.other.chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;in.other.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;chunk&quot; select=&quot;$node&quot;/&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$footnotes[1]&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;count($footnotes) = 0&quot;&gt;
+      &lt;!-- nop --&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$in.other.chunk != 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$footnotes[1]/ancestor::table                         |$footnotes[1]/ancestor::informaltable&quot;&gt;
+          &lt;xsl:call-template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates select=&quot;$footnotes[1]&quot; mode=&quot;process.footnote.mode&quot;/&gt;
+          &lt;xsl:call-template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$node&quot;/&gt;
+            &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes[position() &gt; 1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.footnotes&quot;&gt;
+  &lt;xsl:variable name=&quot;footnotes&quot; select=&quot;.//footnote&quot;/&gt;
+  &lt;xsl:variable name=&quot;fcount&quot;&gt;
+    &lt;xsl:call-template name=&quot;count.footnotes.in.this.chunk&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+      &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+&lt;!--
+  &lt;xsl:message&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt; fcount: &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;$fcount&quot;/&gt;
+  &lt;/xsl:message&gt;
+--&gt;
+
+  &lt;!-- Only bother to do this if there's at least one non-table footnote --&gt;
+  &lt;xsl:if test=&quot;$fcount &gt; 0&quot;&gt;
+    &lt;div class=&quot;footnotes&quot;&gt;
+      &lt;br/&gt;
+      &lt;hr width=&quot;100&quot; align=&quot;left&quot;/&gt;
+      &lt;xsl:call-template name=&quot;process.footnotes.in.this.chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+        &lt;xsl:with-param name=&quot;footnotes&quot; select=&quot;$footnotes&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/div&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;process.chunk.footnotes&quot;&gt;
+  &lt;xsl:variable name=&quot;is.chunk&quot;&gt;
+    &lt;xsl:call-template name=&quot;chunk&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:if test=&quot;$is.chunk = 1&quot;&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+
+&lt;!-- Resolve xml:base attributes --&gt;
+&lt;xsl:template match=&quot;@fileref&quot;&gt;
+  &lt;!-- need a check for absolute urls --&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains(., ':')&quot;&gt;
+      &lt;!-- it has a uri scheme so it is an absolute uri --&gt;
+      &lt;xsl:value-of select=&quot;.&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;!-- its a relative uri --&gt;
+      &lt;xsl:call-template name=&quot;relative-uri&quot;&gt;
+        &lt;xsl:with-param name=&quot;destdir&quot;&gt;
+          &lt;xsl:call-template name=&quot;dbhtml-dir&quot;&gt;
+            &lt;xsl:with-param name=&quot;context&quot; select=&quot;..&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-chunk.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-chunk.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-chunk.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,40 @@
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+		version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;exsl&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: profile-chunk.xsl,v 1.2 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:import href=&quot;docbook.xsl&quot;/&gt;
+&lt;xsl:import href=&quot;chunk-common.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;manifest.xsl&quot;/&gt;
+
+&lt;!-- Why is chunk-code now xsl:included?
+
+Suppose you want to customize *both* the chunking algorithm used *and* the
+presentation of some elements that may be chunks. In order to do that, you
+must get the order of imports &quot;just right&quot;. The answer is to make your own
+copy of this file, where you replace the initial import of &quot;docbook.xsl&quot;
+with an import of your own base.xsl (that does its own import of docbook.xsl).
+
+Put the templates for changing the presentation of elements in your base.xsl.
+
+Put the templates that control chunking after the include of chunk-code.xsl.
+
+Voila! (Man I hope we can do this better in XSLT 2.0)
+
+--&gt;
+
+&lt;xsl:include href=&quot;profile-chunk-code.xsl&quot;/&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-docbook.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-docbook.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-docbook.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,424 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;
+&lt;!--This file was created automatically by xsl2profile--&gt;
+&lt;!--from the DocBook XSL stylesheets. Do not edit this file.--&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; xmlns:db=&quot;<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>&quot; xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot; xmlns:exslt=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot; exslt:dummy=&quot;dummy&quot; extension-element-prefixes=&quot;exslt&quot; exclude-result-prefixes=&quot;db exsl exslt&quot; version=&quot;1.0&quot;&gt;
+
+&lt;xsl:output method=&quot;html&quot; encoding=&quot;ISO-8859-1&quot; indent=&quot;no&quot;/&gt;
+
+&lt;!-- ********************************************************************
+     $Id: docbook.xsl,v 1.35 2005/02/10 13:25:11 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:include href=&quot;../VERSION&quot;/&gt;
+&lt;xsl:include href=&quot;param.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../lib/lib.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/l10n.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/common.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/labels.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/titles.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/subtitles.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/gentext.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/targets.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/olink.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/pi.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;autotoc.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;autoidx.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;lists.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;callout.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;verbatim.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;graphics.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;xref.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;formal.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;table.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;htmltbl.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;sections.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;inline.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;footnote.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;html.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;info.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;keywords.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;division.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;toc.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;index.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;refentry.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;math.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;admon.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;component.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;biblio.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;glossary.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;block.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;task.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;qandaset.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;synop.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;titlepage.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;titlepage.templates.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;pi.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;ebnf.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;chunker.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;html-rtf.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;docbookng.xsl&quot;/&gt;
+
+&lt;xsl:param name=&quot;stylesheet.result.type&quot; select=&quot;'html'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.output&quot; select=&quot;0&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:key name=&quot;id&quot; match=&quot;*&quot; use=&quot;@id|@xml:id&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot;&gt;
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;No template matches &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:if test=&quot;parent::*&quot;&gt;
+      &lt;xsl:text&gt; in &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(parent::*)&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+  &lt;/xsl:message&gt;
+
+  &lt;font color=&quot;red&quot;&gt;
+    &lt;xsl:text&gt;&lt;&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:text&gt;&lt;/&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+  &lt;/font&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()&quot;&gt;
+  &lt;xsl:value-of select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;body.attributes&quot;&gt;
+  &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;white&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;text&quot;&gt;black&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;link&quot;&gt;#0000FF&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;vlink&quot;&gt;#840084&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;alink&quot;&gt;#0000FF&lt;/xsl:attribute&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;title&gt;
+    &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+  &lt;/title&gt;
+
+  &lt;xsl:if test=&quot;$html.stylesheet != ''&quot;&gt;
+    &lt;xsl:call-template name=&quot;output.html.stylesheets&quot;&gt;
+      &lt;xsl:with-param name=&quot;stylesheets&quot; select=&quot;normalize-space($html.stylesheet)&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;$link.mailto.url != ''&quot;&gt;
+    &lt;link rev=&quot;made&quot; href=&quot;{$link.mailto.url}&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;$html.base != ''&quot;&gt;
+    &lt;base href=&quot;{$html.base}&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;meta name=&quot;generator&quot; content=&quot;DocBook XSL Stylesheets V{$VERSION}&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$generate.meta.abstract != 0&quot;&gt;
+    &lt;xsl:variable name=&quot;info&quot; select=&quot;(articleinfo                                       |bookinfo                                       |prefaceinfo                                       |chapterinfo                                       |appendixinfo                                       |sectioninfo                                       |sect1info                                       |sect2info                                       |sect3info                                       |sect4info                                       |sect5info                                       |referenceinfo                                       |refentryinfo                                       |partinfo                                       |info                                       |docinfo)[1]&quot;/&gt;
+    &lt;xsl:if test=&quot;$info and $info/abstract&quot;&gt;
+      &lt;meta name=&quot;description&quot;&gt;
+        &lt;xsl:attribute name=&quot;content&quot;&gt;
+          &lt;xsl:for-each select=&quot;$info/abstract[1]/*&quot;&gt;
+            &lt;xsl:value-of select=&quot;.&quot;/&gt;
+            &lt;xsl:if test=&quot;position() &lt; last()&quot;&gt;
+              &lt;xsl:text&gt; &lt;/xsl:text&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:for-each&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/meta&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;($draft.mode = 'yes' or                 ($draft.mode = 'maybe' and                 ancestor-or-self::*[@status][1]/@status = 'draft'))                 and $draft.watermark.image != ''&quot;&gt;
+    &lt;style type=&quot;text/css&quot;&gt;&lt;xsl:text&gt;
+body { background-image: url('&lt;/xsl:text&gt;
+&lt;xsl:value-of select=&quot;$draft.watermark.image&quot;/&gt;&lt;xsl:text&gt;');
+       background-repeat: no-repeat;
+       background-position: top left;
+       /* The following properties make the watermark &quot;fixed&quot; on the page. */
+       /* I think that's just a bit too distracting for the reader... */
+       /* background-attachment: fixed; */
+       /* background-position: center center; */
+     }&lt;/xsl:text&gt;
+    &lt;/style&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;head.keywords.content&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;output.html.stylesheets&quot;&gt;
+  &lt;xsl:param name=&quot;stylesheets&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains($stylesheets, ' ')&quot;&gt;
+      &lt;link rel=&quot;stylesheet&quot; href=&quot;{substring-before($stylesheets, ' ')}&quot;&gt;
+        &lt;xsl:if test=&quot;$html.stylesheet.type != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;type&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.stylesheet.type&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+      &lt;/link&gt;
+      &lt;xsl:call-template name=&quot;output.html.stylesheets&quot;&gt;
+        &lt;xsl:with-param name=&quot;stylesheets&quot; select=&quot;substring-after($stylesheets, ' ')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$stylesheets != ''&quot;&gt;
+      &lt;link rel=&quot;stylesheet&quot; href=&quot;{$stylesheets}&quot;&gt;
+        &lt;xsl:if test=&quot;$html.stylesheet.type != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;type&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.stylesheet.type&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+      &lt;/link&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;head.keywords.content&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;chapterinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;appendixinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;prefaceinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;bookinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;setinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;articleinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;artheader/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect1info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect2info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect3info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect4info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect5info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect1info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect2info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect3info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;bibliographyinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;glossaryinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;indexinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refentryinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;partinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;referenceinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;docinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$inherit.keywords != 0                 and parent::*&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;parent::*&quot; mode=&quot;head.keywords.content&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template name=&quot;system.head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- system.head.content is like user.head.content, except that
+       it is called before head.content. This is important because it
+       means, for example, that &lt;style&gt; elements output by system.head.content
+       have a lower CSS precedence than the users stylesheet. --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template name=&quot;user.preroot&quot;&gt;
+  &lt;!-- Pre-root output, can be used to output comments and PIs. --&gt;
+  &lt;!-- This must not output any element content! --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.header.navigation&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.header.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.footer.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.footer.navigation&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xslo:include xmlns:xslo=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; href=&quot;../profiling/profile-mode.xsl&quot;/&gt;&lt;xsl:template match=&quot;/&quot;&gt;&lt;xslo:variable xmlns:xslo=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; name=&quot;profiled-content&quot;&gt;&lt;xslo:apply-templates select=&quot;.&quot; mode=&quot;profile&quot;/&gt;&lt;/xslo:variable&gt;&lt;xslo:variable xmlns:xslo=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; name=&quot;profiled-nodes&quot; select=&quot;exslt:node-set($profiled-content)&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('exsl:node-set')                     and namespace-uri(*[1]) = '<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>'&quot;&gt;
+      &lt;!-- Hack! If someone hands us a DocBook NG document, toss the namespace --&gt;
+      &lt;!-- and continue. Someday we may reverse this logic and add the namespace --&gt;
+      &lt;!-- to documents that don't have one. But not before the whole stylesheet --&gt;
+      &lt;!-- has been converted to use namespaces. i.e., don't hold your breath --&gt;
+      &lt;xsl:message&gt;Stripping NS from DocBook-NG document.&lt;/xsl:message&gt;
+      &lt;xsl:variable name=&quot;nons&quot;&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:message&gt;Processing stripped document.&lt;/xsl:message&gt;
+      &lt;xsl:apply-templates select=&quot;exsl:node-set($nons)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+	&lt;xsl:when test=&quot;$rootid != ''&quot;&gt;
+	  &lt;xsl:choose&gt;
+	    &lt;xsl:when test=&quot;count($profiled-nodes//*[@id=$rootid]) = 0&quot;&gt;
+	      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+		&lt;xsl:text&gt;ID '&lt;/xsl:text&gt;
+		&lt;xsl:value-of select=&quot;$rootid&quot;/&gt;
+		&lt;xsl:text&gt;' not found in document.&lt;/xsl:text&gt;
+	      &lt;/xsl:message&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:otherwise&gt;
+	      &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or               $collect.xref.targets = 'only'&quot;&gt;
+		&lt;xsl:apply-templates select=&quot;key('id', $rootid)&quot; mode=&quot;collect.targets&quot;/&gt;
+	      &lt;/xsl:if&gt;
+	      &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+		&lt;xsl:apply-templates select=&quot;$profiled-nodes//*[@id=$rootid]&quot; mode=&quot;process.root&quot;/&gt;
+		&lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+		  &lt;xsl:apply-templates select=&quot;$profiled-nodes//*[@id=$rootid]&quot; mode=&quot;collect.tex.math&quot;/&gt;
+		&lt;/xsl:if&gt;
+	      &lt;/xsl:if&gt;
+	    &lt;/xsl:otherwise&gt;
+	  &lt;/xsl:choose&gt;
+	&lt;/xsl:when&gt;
+	&lt;xsl:otherwise&gt;
+	  &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or           $collect.xref.targets = 'only'&quot;&gt;
+	    &lt;xsl:apply-templates select=&quot;$profiled-nodes&quot; mode=&quot;collect.targets&quot;/&gt;
+	  &lt;/xsl:if&gt;
+	  &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+	    &lt;xsl:apply-templates select=&quot;$profiled-nodes&quot; mode=&quot;process.root&quot;/&gt;
+	    &lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+	      &lt;xsl:apply-templates select=&quot;$profiled-nodes&quot; mode=&quot;collect.tex.math&quot;/&gt;
+	    &lt;/xsl:if&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;process.root&quot;&gt;
+  &lt;xsl:variable name=&quot;doc&quot; select=&quot;self::*&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;user.preroot&quot;/&gt;
+  &lt;xsl:call-template name=&quot;root.messages&quot;/&gt;
+
+  &lt;html&gt;
+    &lt;head&gt;
+      &lt;xsl:call-template name=&quot;system.head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;user.head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/head&gt;
+    &lt;body&gt;
+      &lt;xsl:call-template name=&quot;body.attributes&quot;/&gt;
+      &lt;xsl:call-template name=&quot;user.header.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+      &lt;xsl:call-template name=&quot;user.footer.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/body&gt;
+  &lt;/html&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;root.messages&quot;&gt;
+  &lt;!-- redefine this any way you'd like to output messages --&gt;
+  &lt;!-- DO NOT OUTPUT ANYTHING FROM THIS TEMPLATE --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- The default is that we are not chunking... --&gt;
+  &lt;xsl:text&gt;0&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;namespace-uri(.) = '<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>'&quot;&gt;
+      &lt;xsl:element name=&quot;{local-name(.)}&quot;&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:element&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:copy&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;db:link&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:variable xmlns:xlink=&quot;<A HREF="http://www.w3.org/1999/xlink">http://www.w3.org/1999/xlink</A>&quot; name=&quot;href&quot; select=&quot;@xlink:href|@href&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$href != '' and not(starts-with($href,'#'))&quot;&gt;
+      &lt;ulink url=&quot;{$href}&quot;&gt;
+	&lt;xsl:for-each select=&quot;@*&quot;&gt;
+	  &lt;xsl:if test=&quot;local-name(.) != 'href'&quot;&gt;
+	    &lt;xsl:copy/&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:for-each&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/ulink&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$href != '' and starts-with($href,'#')&quot;&gt;
+      &lt;link linkend=&quot;{substring-after($href,'#')}&quot;&gt;
+	&lt;xsl:for-each select=&quot;@*&quot;&gt;
+	  &lt;xsl:if test=&quot;local-name(.) != 'href'&quot;&gt;
+	    &lt;xsl:copy/&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:for-each&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/link&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;link&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/link&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;comment()|processing-instruction()|text()&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-onechunk.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-onechunk.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/profile-onechunk.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,37 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+                version=&quot;1.0&quot;
+                exclude-result-prefixes=&quot;doc&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: profile-onechunk.xsl,v 1.3 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:import href=&quot;profile-chunk.xsl&quot;/&gt;
+
+&lt;!-- Ok, using the onechunk parameter makes this all work again. --&gt;
+&lt;!-- It does have the disadvantage that it only works for documents that have --&gt;
+&lt;!-- a root element that is considered a chunk by the chunk.xsl stylesheet. --&gt;
+&lt;!-- Ideally, onechunk would let anything be a chunk. But not today. --&gt;
+
+&lt;xsl:param name=&quot;onechunk&quot; select=&quot;1&quot;/&gt;
+&lt;xsl:param name=&quot;suppress.navigation&quot;&gt;1&lt;/xsl:param&gt;
+
+&lt;xsl:template name=&quot;href.target.uri&quot;&gt;
+  &lt;xsl:param name=&quot;object&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+  &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+    &lt;xsl:with-param name=&quot;object&quot; select=&quot;$object&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/qandaset.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/qandaset.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/qandaset.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,360 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+                exclude-result-prefixes=&quot;doc&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: qandaset.xsl,v 1.19 2003/09/27 22:01:59 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;qandaset&quot;&gt;
+  &lt;xsl:variable name=&quot;title&quot; select=&quot;(blockinfo/title|title)[1]&quot;/&gt;
+  &lt;xsl:variable name=&quot;preamble&quot; select=&quot;*[name(.) != 'title'
+                                          and name(.) != 'titleabbrev'
+                                          and name(.) != 'qandadiv'
+                                          and name(.) != 'qandaentry']&quot;/&gt;
+  &lt;xsl:variable name=&quot;label-width&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'label-width'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;table-summary&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'table-summary'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;cellpadding&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'cellpadding'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;cellspacing&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'cellspacing'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;toc&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'toc'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+    &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+      &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;$title&quot;/&gt;
+    &lt;xsl:if test=&quot;(contains($toc.params, 'toc') and $toc != '0') or $toc = '1'&quot;&gt;
+      &lt;xsl:call-template name=&quot;process.qanda.toc&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates select=&quot;$preamble&quot;/&gt;
+    &lt;table border=&quot;0&quot; summary=&quot;Q and A Set&quot;&gt;
+      &lt;xsl:if test=&quot;$table-summary != ''&quot;&gt;
+        &lt;xsl:attribute name=&quot;summary&quot;&gt;
+          &lt;xsl:value-of select=&quot;$table-summary&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:if test=&quot;$cellpadding != ''&quot;&gt;
+        &lt;xsl:attribute name=&quot;cellpadding&quot;&gt;
+          &lt;xsl:value-of select=&quot;$cellpadding&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:if test=&quot;$cellspacing != ''&quot;&gt;
+        &lt;xsl:attribute name=&quot;cellspacing&quot;&gt;
+          &lt;xsl:value-of select=&quot;$cellspacing&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;col align=&quot;left&quot;&gt;
+        &lt;xsl:attribute name=&quot;width&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$label-width != ''&quot;&gt;
+              &lt;xsl:value-of select=&quot;$label-width&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;1%&lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/col&gt;
+      &lt;tbody&gt;
+        &lt;xsl:apply-templates select=&quot;qandaentry|qandadiv&quot;/&gt;
+      &lt;/tbody&gt;
+    &lt;/table&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandaset/blockinfo/title|qandaset/title&quot;&gt;
+  &lt;xsl:variable name=&quot;qalevel&quot;&gt;
+    &lt;xsl:call-template name=&quot;qanda.section.level&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:element name=&quot;h{string(number($qalevel)+1)}&quot;&gt;
+    &lt;xsl:attribute name=&quot;class&quot;&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;/xsl:attribute&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandaset/blockinfo&quot;&gt;
+  &lt;!-- what should this template really do? --&gt;
+  &lt;xsl:apply-templates select=&quot;legalnotice&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandadiv&quot;&gt;
+  &lt;xsl:variable name=&quot;preamble&quot; select=&quot;*[name(.) != 'title'
+                                          and name(.) != 'titleabbrev'
+                                          and name(.) != 'qandadiv'
+                                          and name(.) != 'qandaentry']&quot;/&gt;
+
+  &lt;xsl:if test=&quot;blockinfo/title|title&quot;&gt;
+    &lt;tr class=&quot;qandadiv&quot;&gt;
+      &lt;td align=&quot;left&quot; valign=&quot;top&quot; colspan=&quot;2&quot;&gt;
+        &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+          &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+        &lt;xsl:apply-templates select=&quot;(blockinfo/title|title)[1]&quot;/&gt;
+      &lt;/td&gt;
+    &lt;/tr&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:variable name=&quot;toc&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'toc'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+    &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+      &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;(contains($toc.params, 'toc') and $toc != '0') or $toc = '1'&quot;&gt;
+    &lt;tr class=&quot;toc&quot; colspan=&quot;2&quot;&gt;
+      &lt;td align=&quot;left&quot; valign=&quot;top&quot; colspan=&quot;2&quot;&gt;
+        &lt;xsl:call-template name=&quot;process.qanda.toc&quot;/&gt;
+      &lt;/td&gt;
+    &lt;/tr&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:if test=&quot;$preamble&quot;&gt;
+    &lt;tr class=&quot;toc&quot; colspan=&quot;2&quot;&gt;
+      &lt;td align=&quot;left&quot; valign=&quot;top&quot; colspan=&quot;2&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$preamble&quot;/&gt;
+      &lt;/td&gt;
+    &lt;/tr&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:apply-templates select=&quot;qandadiv|qandaentry&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandadiv/blockinfo/title|qandadiv/title&quot;&gt;
+  &lt;xsl:variable name=&quot;qalevel&quot;&gt;
+    &lt;xsl:call-template name=&quot;qandadiv.section.level&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:element name=&quot;h{string(number($qalevel)+1)}&quot;&gt;
+    &lt;xsl:attribute name=&quot;class&quot;&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;/xsl:attribute&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;..&quot;/&gt;
+      &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates select=&quot;parent::qandadiv&quot; mode=&quot;label.markup&quot;/&gt;
+    &lt;xsl:if test=&quot;$qandadiv.autolabel != 0&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;intralabel.punctuation&quot;/&gt;
+      &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandaentry&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;question&quot;&gt;
+  &lt;xsl:variable name=&quot;deflabel&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;ancestor-or-self::*[@defaultlabel]&quot;&gt;
+        &lt;xsl:value-of select=&quot;(ancestor-or-self::*[@defaultlabel])[last()]
+                              /@defaultlabel&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$qanda.defaultlabel&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;tr class=&quot;{name(.)}&quot;&gt;
+    &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;..&quot;/&gt;
+        &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+        &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+
+      &lt;b&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;label.markup&quot;/&gt;
+        &lt;xsl:if test=&quot;$deflabel = 'number' and not(label)&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;intralabel.punctuation&quot;/&gt;
+	&lt;/xsl:if&gt;
+      &lt;/b&gt;
+    &lt;/td&gt;
+    &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$deflabel = 'none' and not(label)&quot;&gt;
+          &lt;b&gt;&lt;xsl:apply-templates select=&quot;*[name(.) != 'label']&quot;/&gt;&lt;/b&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates select=&quot;*[name(.) != 'label']&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/td&gt;
+  &lt;/tr&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;answer&quot;&gt;
+  &lt;xsl:variable name=&quot;deflabel&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;ancestor-or-self::*[@defaultlabel]&quot;&gt;
+        &lt;xsl:value-of select=&quot;(ancestor-or-self::*[@defaultlabel])[last()]
+                              /@defaultlabel&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$qanda.defaultlabel&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;tr class=&quot;{name(.)}&quot;&gt;
+    &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;b&gt;
+        &lt;xsl:variable name=&quot;answer.label&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;label.markup&quot;/&gt;
+        &lt;/xsl:variable&gt;
+        &lt;xsl:copy-of select=&quot;$answer.label&quot;/&gt;
+      &lt;/b&gt;
+    &lt;/td&gt;
+    &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;*[name(.) != 'label']&quot;/&gt;
+    &lt;/td&gt;
+  &lt;/tr&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;label&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;process.qanda.toc&quot;&gt;
+  &lt;dl&gt;
+    &lt;xsl:apply-templates select=&quot;qandadiv&quot; mode=&quot;qandatoc.mode&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;qandaentry&quot; mode=&quot;qandatoc.mode&quot;/&gt;
+  &lt;/dl&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandadiv&quot; mode=&quot;qandatoc.mode&quot;&gt;
+  &lt;dt&gt;&lt;xsl:apply-templates select=&quot;title&quot; mode=&quot;qandatoc.mode&quot;/&gt;&lt;/dt&gt;
+  &lt;dd&gt;&lt;xsl:call-template name=&quot;process.qanda.toc&quot;/&gt;&lt;/dd&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandadiv/blockinfo/title|qandadiv/title&quot; mode=&quot;qandatoc.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;qalevel&quot;&gt;
+    &lt;xsl:call-template name=&quot;qandadiv.section.level&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+      &lt;xsl:with-param name=&quot;object&quot; select=&quot;parent::*&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:apply-templates select=&quot;parent::qandadiv&quot; mode=&quot;label.markup&quot;/&gt;
+  &lt;xsl:value-of select=&quot;$autotoc.label.separator&quot;/&gt;
+  &lt;xsl:text&gt; &lt;/xsl:text&gt;
+  &lt;a&gt;
+    &lt;xsl:attribute name=&quot;href&quot;&gt;
+      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+        &lt;xsl:with-param name=&quot;object&quot; select=&quot;parent::*&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:attribute&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/a&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandaentry&quot; mode=&quot;qandatoc.mode&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;question&quot; mode=&quot;qandatoc.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;question&quot; mode=&quot;qandatoc.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;firstch&quot; select=&quot;(*[name(.)!='label'])[1]&quot;/&gt;
+  &lt;xsl:variable name=&quot;deflabel&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;ancestor-or-self::*[@defaultlabel]&quot;&gt;
+        &lt;xsl:value-of select=&quot;(ancestor-or-self::*[@defaultlabel])[last()]
+                              /@defaultlabel&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$qanda.defaultlabel&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;dt&gt;
+    &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;label.markup&quot;/&gt;
+    &lt;xsl:if test=&quot;$deflabel = 'number' and not(label)&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;intralabel.punctuation&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;a&gt;
+      &lt;xsl:attribute name=&quot;href&quot;&gt;
+        &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;..&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:attribute&gt;
+      &lt;xsl:value-of select=&quot;$firstch&quot;/&gt;
+    &lt;/a&gt;
+  &lt;/dt&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;no.wrapper.mode&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/refentry.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/refentry.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/refentry.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,273 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: refentry.xsl,v 1.19 2005/01/19 15:21:16 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;reference&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:call-template name=&quot;reference.titlepage&quot;/&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;not(partintro) and contains($toc.params, 'toc')&quot;&gt;
+      &lt;xsl:call-template name=&quot;division.toc&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;reference&quot; mode=&quot;division.number&quot;&gt;
+  &lt;xsl:number from=&quot;book&quot; count=&quot;reference&quot; format=&quot;I.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;reference/docinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;reference/referenceinfo&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;reference/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;reference/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;reference/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;refentry.title&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:variable name=&quot;refmeta&quot; select=&quot;$node//refmeta&quot;/&gt;
+  &lt;xsl:variable name=&quot;refentrytitle&quot; select=&quot;$refmeta//refentrytitle&quot;/&gt;
+  &lt;xsl:variable name=&quot;refnamediv&quot; select=&quot;$node//refnamediv&quot;/&gt;
+  &lt;xsl:variable name=&quot;refname&quot; select=&quot;$refnamediv//refname&quot;/&gt;
+  &lt;xsl:variable name=&quot;refdesc&quot; select=&quot;$refnamediv//refdescriptor&quot;/&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$refentrytitle&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$refentrytitle[1]&quot; mode=&quot;title&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$refdesc&quot;&gt;
+	&lt;xsl:apply-templates select=&quot;$refdesc[1]&quot; mode=&quot;title&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$refname&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$refname[1]&quot; mode=&quot;title&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;h1 class=&quot;title&quot;&gt;
+    &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+  &lt;/h1&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refentry&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:if test=&quot;$refentry.separator != 0 and preceding-sibling::refentry&quot;&gt;
+      &lt;div class=&quot;refentry.separator&quot;&gt;
+        &lt;hr/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:call-template name=&quot;refentry.titlepage&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refentry/docinfo|refentry/refentryinfo&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refentrytitle|refname|refdescriptor&quot; mode=&quot;title&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refmeta&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;manvolnum&quot;&gt;
+  &lt;xsl:if test=&quot;$refentry.xref.manvolnum != 0&quot;&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refmiscinfo&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refentrytitle&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.charseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refnamediv&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;preceding-sibling::refnamediv&quot;&gt;
+	&lt;!-- no title on secondary refnamedivs! --&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$refentry.generate.name != 0&quot;&gt;
+        &lt;h2&gt;
+          &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+            &lt;xsl:with-param name=&quot;key&quot; select=&quot;'RefName'&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/h2&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$refentry.generate.title != 0&quot;&gt;
+        &lt;h2&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;../refmeta/refentrytitle&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;../refmeta/refentrytitle&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:apply-templates select=&quot;refname[1]&quot;/&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/h2&gt;
+      &lt;/xsl:when&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;p&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/p&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refname&quot;&gt;
+  &lt;xsl:if test=&quot;not(preceding-sibling::refdescriptor)&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:if test=&quot;following-sibling::refname&quot;&gt;
+      &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refpurpose&quot;&gt;
+  &lt;xsl:text&gt; &lt;/xsl:text&gt;
+  &lt;xsl:call-template name=&quot;dingbat&quot;&gt;
+    &lt;xsl:with-param name=&quot;dingbat&quot;&gt;em-dash&lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+  &lt;xsl:text&gt; &lt;/xsl:text&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refdescriptor&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refclass&quot;&gt;
+  &lt;p&gt;
+    &lt;b&gt;
+      &lt;xsl:if test=&quot;@role&quot;&gt;
+        &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+        &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/b&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsynopsisdiv&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;h2&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;refsynopsisdiv/title|title&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;(refsynopsisdiv/title|title)[1]&quot;
+                               mode=&quot;titlepage.mode&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+            &lt;xsl:with-param name=&quot;key&quot; select=&quot;'RefSynopsisDiv'&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/h2&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsynopsisdivinfo&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsynopsisdiv/title&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsynopsisdiv/title&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsection|refsect1|refsect2|refsect3&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsection/title&quot;&gt;
+  &lt;!-- the ID is output in the block.object call for refsect1 --&gt;
+  &lt;xsl:variable name=&quot;level&quot; select=&quot;count(ancestor-or-self::refsection)&quot;/&gt;
+  &lt;xsl:variable name=&quot;refsynopsisdiv&quot;&gt;
+    &lt;xsl:text&gt;0&lt;/xsl:text&gt;
+    &lt;xsl:if test=&quot;ancestor::refsynopsisdiv&quot;&gt;1&lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:variable name=&quot;hlevel&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$level+$refsynopsisdiv &gt; 5&quot;&gt;6&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$level+1+$refsynopsisdiv&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:element name=&quot;h{$hlevel}&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsect1/title&quot;&gt;
+  &lt;!-- the ID is output in the block.object call for refsect1 --&gt;
+  &lt;h2&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/h2&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsect2/title&quot;&gt;
+  &lt;!-- the ID is output in the block.object call for refsect2 --&gt;
+  &lt;h3&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/h3&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsect3/title&quot;&gt;
+  &lt;!-- the ID is output in the block.object call for refsect3 --&gt;
+  &lt;h4&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/h4&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refsect1info&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;refsect2info&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;refsect3info&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/sections.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/sections.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/sections.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,551 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: sections.xsl,v 1.28 2004/11/23 10:22:21 xmldoc Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;section&quot;&gt;
+  &lt;xsl:variable name=&quot;depth&quot; select=&quot;count(ancestor::section)+1&quot;/&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:call-template name=&quot;section.titlepage&quot;/&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')
+                  and $depth &lt;= $generate.section.toc.level&quot;&gt;
+      &lt;xsl:call-template name=&quot;section.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;section.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.chunk.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.title&quot;&gt;
+  &lt;!-- the context node should be the title of a section when called --&gt;
+  &lt;xsl:variable name=&quot;section&quot; select=&quot;(ancestor::section
+                                        |ancestor::simplesect
+                                        |ancestor::sect1
+                                        |ancestor::sect2
+                                        |ancestor::sect3
+                                        |ancestor::sect4
+                                        |ancestor::sect5)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;renderas&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$section/@renderas = 'sect1'&quot;&gt;1&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$section/@renderas = 'sect2'&quot;&gt;2&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$section/@renderas = 'sect3'&quot;&gt;3&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$section/@renderas = 'sect4'&quot;&gt;4&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$section/@renderas = 'sect5'&quot;&gt;5&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;&lt;xsl:value-of select=&quot;''&quot;/&gt;&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;level&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$renderas != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$renderas&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;section.level&quot;&gt;
+          &lt;xsl:with-param name=&quot;node&quot; select=&quot;$section&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;section.heading&quot;&gt;
+    &lt;xsl:with-param name=&quot;section&quot; select=&quot;..&quot;/&gt;
+    &lt;xsl:with-param name=&quot;level&quot; select=&quot;$level&quot;/&gt;
+    &lt;xsl:with-param name=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$section&quot; mode=&quot;object.title.markup&quot;&gt;
+        &lt;xsl:with-param name=&quot;allow-anchors&quot; select=&quot;1&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;section/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect1&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect2'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect2.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect3'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect3.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect4'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect4.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect5'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect5.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;sect1.titlepage&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')
+                  and $generate.section.toc.level &gt;= 1&quot;&gt;
+      &lt;xsl:call-template name=&quot;section.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;section.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.chunk.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect1/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect2&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect1'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect1.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect3'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect3.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect4'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect4.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect5'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect5.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;sect2.titlepage&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')
+                  and $generate.section.toc.level &gt;= 2&quot;&gt;
+      &lt;xsl:call-template name=&quot;section.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;section.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.chunk.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect2/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect3&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect1'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect1.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect2'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect2.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect4'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect4.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect5'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect5.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;sect3.titlepage&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')
+                  and $generate.section.toc.level &gt;= 3&quot;&gt;
+      &lt;xsl:call-template name=&quot;section.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;section.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.chunk.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect3/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect4&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect1'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect1.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect2'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect2.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect3'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect3.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect5'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect5.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;sect4.titlepage&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')
+                  and $generate.section.toc.level &gt;= 4&quot;&gt;
+      &lt;xsl:call-template name=&quot;section.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;section.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.chunk.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect4/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect5&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect1'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect1.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect2'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect2.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect3'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect3.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect4'&quot;&gt;
+        &lt;xsl:call-template name=&quot;sect4.titlepage&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;sect5.titlepage&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:variable name=&quot;toc.params&quot;&gt;
+      &lt;xsl:call-template name=&quot;find.path.params&quot;&gt;
+        &lt;xsl:with-param name=&quot;table&quot; select=&quot;normalize-space($generate.toc)&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;contains($toc.params, 'toc')
+                  and $generate.section.toc.level &gt;= 5&quot;&gt;
+      &lt;xsl:call-template name=&quot;section.toc&quot;&gt;
+        &lt;xsl:with-param name=&quot;toc.title.p&quot; select=&quot;contains($toc.params, 'title')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;section.toc.separator&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:call-template name=&quot;process.chunk.footnotes&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect5/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplesect&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;language.attribute&quot;/&gt;
+    &lt;xsl:call-template name=&quot;simplesect.titlepage&quot;/&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplesect/title&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;section/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;section/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;section/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sectioninfo&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect1/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect1/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect1/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect1info&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect2/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect2/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect2/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect2info&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect3/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect3/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect3/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect3info&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect4/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect4/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect4/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect4info&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect5/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect5/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect5/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;sect5info&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplesect/title&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;simplesect/subtitle&quot;&gt;&lt;/xsl:template&gt;
+&lt;xsl:template match=&quot;simplesect/titleabbrev&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;section.heading&quot;&gt;
+  &lt;xsl:param name=&quot;section&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;level&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:param name=&quot;allow-anchors&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:param name=&quot;title&quot;/&gt;
+  &lt;xsl:param name=&quot;class&quot; select=&quot;'title'&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;!-- if title is in an *info wrapper, get the grandparent --&gt;
+      &lt;xsl:when test=&quot;contains(local-name(..), 'info')&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;../..&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;..&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;!-- HTML H level is one higher than section level --&gt;
+  &lt;xsl:variable name=&quot;hlevel&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;!-- highest valid HTML H level is H6; so anything nested deeper
+           than 5 levels down just becomes H6 --&gt;
+      &lt;xsl:when test=&quot;$level &gt; 5&quot;&gt;6&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+	&lt;xsl:value-of select=&quot;$level + 1&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:element name=&quot;h{$hlevel}&quot;&gt;
+    &lt;xsl:attribute name=&quot;class&quot;&gt;&lt;xsl:value-of select=&quot;$class&quot;/&gt;&lt;/xsl:attribute&gt;
+    &lt;xsl:if test=&quot;$css.decoration != '0'&quot;&gt;
+      &lt;xsl:if test=&quot;$hlevel&lt;3&quot;&gt;
+        &lt;xsl:attribute name=&quot;style&quot;&gt;clear: both&lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;$allow-anchors != 0&quot;&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$section&quot;/&gt;
+        &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;bridgehead&quot;&gt;
+  &lt;xsl:variable name=&quot;container&quot;
+                select=&quot;(ancestor::appendix
+                        |ancestor::article
+                        |ancestor::bibliography
+                        |ancestor::chapter
+                        |ancestor::glossary
+                        |ancestor::glossdiv
+                        |ancestor::index
+                        |ancestor::partintro
+                        |ancestor::preface
+                        |ancestor::refsect1
+                        |ancestor::refsect2
+                        |ancestor::refsect3
+                        |ancestor::sect1
+                        |ancestor::sect2
+                        |ancestor::sect3
+                        |ancestor::sect4
+                        |ancestor::sect5
+                        |ancestor::section
+                        |ancestor::setindex
+                        |ancestor::simplesect)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;clevel&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;local-name($container) = 'appendix'
+                      or local-name($container) = 'chapter'
+                      or local-name($container) = 'article'
+                      or local-name($container) = 'bibliography'
+                      or local-name($container) = 'glossary'
+                      or local-name($container) = 'index'
+                      or local-name($container) = 'partintro'
+                      or local-name($container) = 'preface'
+                      or local-name($container) = 'setindex'&quot;&gt;1&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name($container) = 'glossdiv'&quot;&gt;
+        &lt;xsl:value-of select=&quot;count(ancestor::glossdiv)+1&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;local-name($container) = 'sect1'
+                      or local-name($container) = 'sect2'
+                      or local-name($container) = 'sect3'
+                      or local-name($container) = 'sect4'
+                      or local-name($container) = 'sect5'
+                      or local-name($container) = 'refsect1'
+                      or local-name($container) = 'refsect2'
+                      or local-name($container) = 'refsect3'
+                      or local-name($container) = 'section'
+                      or local-name($container) = 'simplesect'&quot;&gt;
+        &lt;xsl:variable name=&quot;slevel&quot;&gt;
+          &lt;xsl:call-template name=&quot;section.level&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;$container&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:variable&gt;
+        &lt;xsl:value-of select=&quot;$slevel + 1&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;!-- HTML H level is one higher than section level --&gt;
+  &lt;xsl:variable name=&quot;hlevel&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect1'&quot;&gt;1&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect2'&quot;&gt;2&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect3'&quot;&gt;3&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect4'&quot;&gt;4&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@renderas = 'sect5'&quot;&gt;5&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$clevel + 1&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:element name=&quot;h{$hlevel}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+      &lt;xsl:with-param name=&quot;conditional&quot; select=&quot;0&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;section/subtitle&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.subtitle&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;simplesect/subtitle&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.subtitle&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect1/subtitle&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.subtitle&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect2/subtitle&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.subtitle&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect3/subtitle&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.subtitle&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect4/subtitle&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.subtitle&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sect5/subtitle&quot; mode=&quot;titlepage.mode&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.subtitle&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.subtitle&quot;&gt;
+  &lt;!-- the context node should be the subtitle of a section when called --&gt;
+  &lt;xsl:variable name=&quot;section&quot; select=&quot;(ancestor::section
+                                        |ancestor::simplesect
+                                        |ancestor::sect1
+                                        |ancestor::sect2
+                                        |ancestor::sect3
+                                        |ancestor::sect4
+                                        |ancestor::sect5)[last()]&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;level&quot;&gt;
+    &lt;xsl:call-template name=&quot;section.level&quot;&gt;
+      &lt;xsl:with-param name=&quot;node&quot; select=&quot;$section&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;section.heading&quot;&gt;
+    &lt;xsl:with-param name=&quot;section&quot; select=&quot;..&quot;/&gt;
+    &lt;xsl:with-param name=&quot;allow-anchors&quot; select=&quot;0&quot;/&gt;
+    &lt;!-- subtitle heading level one higher than section level --&gt;
+    &lt;xsl:with-param name=&quot;level&quot; select=&quot;$level + 1&quot;/&gt;
+    &lt;xsl:with-param name=&quot;class&quot; select=&quot;'subtitle'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$section&quot; mode=&quot;object.subtitle.markup&quot;&gt;
+        &lt;xsl:with-param name=&quot;allow-anchors&quot; select=&quot;0&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/synop.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/synop.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/synop.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1363 @@
+&lt;?xml version='1.0'?&gt;
+&lt;!DOCTYPE xsl:stylesheet [
+&lt;!ENTITY nbsp &quot;&#160;&quot;&gt;
+]&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: synop.xsl,v 1.15 2004/11/09 11:50:06 xmldoc Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;!-- synopsis is in verbatim --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;cmdsynopsis&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;p&gt;
+      &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/p&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;cmdsynopsis/command&quot;&gt;
+  &lt;br/&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+  &lt;xsl:text&gt; &lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;cmdsynopsis/command[1]&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+  &lt;xsl:text&gt; &lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;group|arg&quot; name=&quot;group-or-arg&quot;&gt;
+  &lt;xsl:variable name=&quot;choice&quot; select=&quot;@choice&quot;/&gt;
+  &lt;xsl:variable name=&quot;rep&quot; select=&quot;@rep&quot;/&gt;
+  &lt;xsl:variable name=&quot;sepchar&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;ancestor-or-self::*/@sepchar&quot;&gt;
+        &lt;xsl:value-of select=&quot;ancestor-or-self::*/@sepchar&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:text&gt; &lt;/xsl:text&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+  &lt;xsl:if test=&quot;position()&gt;1&quot;&gt;&lt;xsl:value-of select=&quot;$sepchar&quot;/&gt;&lt;/xsl:if&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$choice='plain'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$arg.choice.plain.open.str&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$choice='req'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$arg.choice.req.open.str&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$choice='opt'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$arg.choice.opt.open.str&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:value-of select=&quot;$arg.choice.def.open.str&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$rep='repeat'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$arg.rep.repeat.str&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$rep='norepeat'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$arg.rep.norepeat.str&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:value-of select=&quot;$arg.rep.def.str&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$choice='plain'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$arg.choice.plain.close.str&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$choice='req'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$arg.choice.req.close.str&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$choice='opt'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$arg.choice.opt.close.str&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:value-of select=&quot;$arg.choice.def.close.str&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;group/arg&quot;&gt;
+  &lt;xsl:variable name=&quot;choice&quot; select=&quot;@choice&quot;/&gt;
+  &lt;xsl:variable name=&quot;rep&quot; select=&quot;@rep&quot;/&gt;
+  &lt;xsl:if test=&quot;position()&gt;1&quot;&gt;&lt;xsl:value-of select=&quot;$arg.or.sep&quot;/&gt;&lt;/xsl:if&gt;
+  &lt;xsl:call-template name=&quot;group-or-arg&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;sbr&quot;&gt;
+  &lt;br/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;synopfragmentref&quot;&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+  &lt;xsl:variable name=&quot;snum&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;synopfragment.number&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;i&gt;
+    &lt;a href=&quot;#{@linkend}&quot;&gt;
+      &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$snum&quot;/&gt;
+      &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;/a&gt;
+    &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/i&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;synopfragment&quot; mode=&quot;synopfragment.number&quot;&gt;
+  &lt;xsl:number format=&quot;1&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;synopfragment&quot;&gt;
+  &lt;xsl:variable name=&quot;snum&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;synopfragment.number&quot;/&gt;
+  &lt;/xsl:variable&gt;
+  &lt;p&gt;
+    &lt;a name=&quot;{@id}&quot;&gt;
+      &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$snum&quot;/&gt;
+      &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;/a&gt;
+    &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcsynopsis&quot;&gt;
+  &lt;xsl:call-template name=&quot;informal.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcsynopsisinfo&quot;&gt;
+  &lt;pre class=&quot;{name(.)}&quot;&gt;&lt;xsl:apply-templates/&gt;&lt;/pre&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+&lt;!-- funcprototype --&gt;
+&lt;!--
+
+funcprototype ::= (funcdef,
+                   (void|varargs|paramdef+))
+
+funcdef       ::= (#PCDATA|type|replaceable|function)*
+
+paramdef      ::= (#PCDATA|type|replaceable|parameter|funcparams)*
+--&gt;
+
+&lt;xsl:template match=&quot;funcprototype&quot;&gt;
+  &lt;xsl:variable name=&quot;html-style&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;ancestor::funcsynopsis//processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'funcsynopsis-style'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;style&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$html-style != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$html-style&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$funcsynopsis.style&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;tabular-p&quot;
+                select=&quot;$funcsynopsis.tabular.threshold &gt; 0
+                        and string-length(.) &gt; $funcsynopsis.tabular.threshold&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$style = 'kr' and $tabular-p&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;kr-tabular&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$style = 'kr'&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;kr-nontabular&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$style = 'ansi' and $tabular-p&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;ansi-tabular&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;ansi-nontabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+&lt;!-- funcprototype: kr, non-tabular --&gt;
+
+&lt;xsl:template match=&quot;funcprototype&quot; mode=&quot;kr-nontabular&quot;&gt;
+  &lt;p&gt;
+    &lt;xsl:apply-templates mode=&quot;kr-nontabular&quot;/&gt;
+    &lt;xsl:if test=&quot;paramdef&quot;&gt;
+      &lt;br/&gt;
+      &lt;xsl:apply-templates select=&quot;paramdef&quot; mode=&quot;kr-funcsynopsis-mode&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcdef&quot; mode=&quot;kr-nontabular&quot;&gt;
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;kr-nontabular&quot;/&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+  &lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcdef/function&quot; mode=&quot;kr-nontabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;b class=&quot;fsfunc&quot;&gt;&lt;xsl:apply-templates mode=&quot;kr-nontabular&quot;/&gt;&lt;/b&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;kr-nontabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;void&quot; mode=&quot;kr-nontabular&quot;&gt;
+  &lt;code&gt;)&lt;/code&gt;
+  &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varargs&quot; mode=&quot;kr-nontabular&quot;&gt;
+  &lt;xsl:text&gt;...&lt;/xsl:text&gt;
+  &lt;code&gt;)&lt;/code&gt;
+  &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef&quot; mode=&quot;kr-nontabular&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;parameter&quot; mode=&quot;kr-nontabular&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;following-sibling::*&quot;&gt;
+      &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;code&gt;)&lt;/code&gt;
+      &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef/parameter&quot; mode=&quot;kr-nontabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;var class=&quot;pdparam&quot;&gt;
+        &lt;xsl:apply-templates mode=&quot;kr-nontabular&quot;/&gt;
+      &lt;/var&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;kr-nontabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef&quot; mode=&quot;kr-funcsynopsis-mode&quot;&gt;
+  &lt;xsl:if test=&quot;preceding-sibling::paramdef&quot;&gt;&lt;br/&gt;&lt;/xsl:if&gt;
+  &lt;xsl:apply-templates mode=&quot;kr-funcsynopsis-mode&quot;/&gt;
+  &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;type|parameter|funcparams&quot; mode=&quot;kr-funcsynopsis-mode&quot;&gt;
+  &lt;code&gt;
+    &lt;xsl:apply-templates mode=&quot;kr-funcsynopsis-mode&quot;/&gt;
+  &lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+&lt;!-- funcprototype: kr, tabular --&gt;
+
+&lt;xsl:template match=&quot;funcprototype&quot; mode=&quot;kr-tabular&quot;&gt;
+  &lt;table border=&quot;0&quot; summary=&quot;Function synopsis&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;
+         style=&quot;padding-bottom: 1em&quot;&gt;
+    &lt;tr&gt;
+      &lt;td&gt;
+        &lt;xsl:apply-templates select=&quot;funcdef&quot; mode=&quot;kr-tabular&quot;/&gt;
+      &lt;/td&gt;
+      &lt;xsl:apply-templates select=&quot;(void|varargs|paramdef)[1]&quot; mode=&quot;kr-tabular&quot;/&gt;
+    &lt;/tr&gt;
+    &lt;xsl:for-each select=&quot;(void|varargs|paramdef)[position() &gt; 1]&quot;&gt;
+      &lt;tr&gt;
+        &lt;td&gt;&#160;&lt;/td&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;kr-tabular&quot;/&gt;
+      &lt;/tr&gt;
+    &lt;/xsl:for-each&gt;
+  &lt;/table&gt;
+  &lt;xsl:if test=&quot;paramdef&quot;&gt;
+    &lt;table border=&quot;0&quot; summary=&quot;Function argument synopsis&quot;
+           cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
+      &lt;xsl:if test=&quot;following-sibling::funcprototype&quot;&gt;
+        &lt;xsl:attribute name=&quot;style&quot;&gt;padding-bottom: 1em&lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:apply-templates select=&quot;paramdef&quot; mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+    &lt;/table&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcdef&quot; mode=&quot;kr-tabular&quot;&gt;
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;kr-tabular&quot;/&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+  &lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcdef/function&quot; mode=&quot;kr-tabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;b class=&quot;fsfunc&quot;&gt;&lt;xsl:apply-templates mode=&quot;kr-nontabular&quot;/&gt;&lt;/b&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;kr-tabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;void&quot; mode=&quot;kr-tabular&quot;&gt;
+  &lt;td&gt;
+    &lt;code&gt;)&lt;/code&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/td&gt;
+  &lt;td&gt;&#160;&lt;/td&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varargs&quot; mode=&quot;kr-tabular&quot;&gt;
+  &lt;td&gt;
+    &lt;xsl:text&gt;...&lt;/xsl:text&gt;
+    &lt;code&gt;)&lt;/code&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/td&gt;
+  &lt;td&gt;&#160;&lt;/td&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef&quot; mode=&quot;kr-tabular&quot;&gt;
+  &lt;td&gt;
+    &lt;xsl:apply-templates select=&quot;parameter&quot; mode=&quot;kr-tabular&quot;/&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;following-sibling::*&quot;&gt;
+        &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;code&gt;)&lt;/code&gt;
+        &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/td&gt;
+  &lt;td&gt;&#160;&lt;/td&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef/parameter&quot; mode=&quot;kr-tabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;var class=&quot;pdparam&quot;&gt;
+        &lt;xsl:apply-templates mode=&quot;kr-tabular&quot;/&gt;
+      &lt;/var&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;kr-tabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef&quot; mode=&quot;kr-tabular-funcsynopsis-mode&quot;&gt;
+  &lt;tr&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;type and funcparams&quot;&gt;
+        &lt;td&gt;
+          &lt;xsl:apply-templates select=&quot;type&quot; mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+          &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+        &lt;/td&gt;
+        &lt;td&gt;
+          &lt;xsl:apply-templates select=&quot;type/following-sibling::node()&quot;
+                               mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+        &lt;/td&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;funcparams&quot;&gt;
+        &lt;td colspan=&quot;2&quot;&gt;
+          &lt;xsl:apply-templates mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+        &lt;/td&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;td&gt;
+          &lt;xsl:apply-templates select=&quot;parameter/preceding-sibling::node()&quot;
+                               mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+          &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+        &lt;/td&gt;
+        &lt;td&gt;
+          &lt;xsl:apply-templates select=&quot;parameter&quot;
+                               mode=&quot;kr-tabular&quot;/&gt;
+          &lt;xsl:apply-templates select=&quot;parameter/following-sibling::node()&quot;
+                               mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+          &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+        &lt;/td&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/tr&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef/parameter&quot; mode=&quot;kr-tabular-funcsynopsis-mode&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;var class=&quot;pdparam&quot;&gt;
+        &lt;xsl:apply-templates mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+      &lt;/var&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcparams&quot; mode=&quot;kr-tabular-funcsynopsis-mode&quot;&gt;
+  &lt;code&gt;(&lt;/code&gt;
+  &lt;xsl:apply-templates mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+  &lt;code&gt;)&lt;/code&gt;
+  &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+&lt;!-- funcprototype: ansi, non-tabular --&gt;
+
+&lt;xsl:template match=&quot;funcprototype&quot; mode=&quot;ansi-nontabular&quot;&gt;
+  &lt;p&gt;
+    &lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcdef&quot; mode=&quot;ansi-nontabular&quot;&gt;
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+  &lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcdef/function&quot; mode=&quot;ansi-nontabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;b class=&quot;fsfunc&quot;&gt;&lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;&lt;/b&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;void&quot; mode=&quot;ansi-nontabular&quot;&gt;
+  &lt;code&gt;void)&lt;/code&gt;
+  &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varargs&quot; mode=&quot;ansi-nontabular&quot;&gt;
+  &lt;xsl:text&gt;...&lt;/xsl:text&gt;
+  &lt;code&gt;)&lt;/code&gt;
+  &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef&quot; mode=&quot;ansi-nontabular&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;following-sibling::*&quot;&gt;
+      &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;code&gt;)&lt;/code&gt;
+      &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef/parameter&quot; mode=&quot;ansi-nontabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;var class=&quot;pdparam&quot;&gt;
+        &lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;
+      &lt;/var&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcparams&quot; mode=&quot;ansi-nontabular&quot;&gt;
+  &lt;code&gt;(&lt;/code&gt;
+  &lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;
+  &lt;code&gt;)&lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+&lt;!-- funcprototype: ansi, tabular --&gt;
+
+&lt;xsl:template match=&quot;funcprototype&quot; mode=&quot;ansi-tabular&quot;&gt;
+  &lt;table border=&quot;0&quot; summary=&quot;Function synopsis&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
+    &lt;xsl:if test=&quot;following-sibling::funcprototype&quot;&gt;
+      &lt;xsl:attribute name=&quot;style&quot;&gt;padding-bottom: 1em&lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;tr&gt;
+      &lt;td&gt;
+        &lt;xsl:apply-templates select=&quot;funcdef&quot; mode=&quot;ansi-tabular&quot;/&gt;
+      &lt;/td&gt;
+      &lt;xsl:apply-templates select=&quot;(void|varargs|paramdef)[1]&quot; mode=&quot;ansi-tabular&quot;/&gt;
+    &lt;/tr&gt;
+    &lt;xsl:for-each select=&quot;(void|varargs|paramdef)[position() &gt; 1]&quot;&gt;
+      &lt;tr&gt;
+        &lt;td&gt;&#160;&lt;/td&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;ansi-tabular&quot;/&gt;
+      &lt;/tr&gt;
+    &lt;/xsl:for-each&gt;
+  &lt;/table&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcdef&quot; mode=&quot;ansi-tabular&quot;&gt;
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;ansi-tabular&quot;/&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+  &lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcdef/function&quot; mode=&quot;ansi-tabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;b class=&quot;fsfunc&quot;&gt;&lt;xsl:apply-templates mode=&quot;ansi-nontabular&quot;/&gt;&lt;/b&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;kr-tabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;void&quot; mode=&quot;ansi-tabular&quot;&gt;
+  &lt;td&gt;
+    &lt;code&gt;void)&lt;/code&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/td&gt;
+  &lt;td&gt;&#160;&lt;/td&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varargs&quot; mode=&quot;ansi-tabular&quot;&gt;
+  &lt;td&gt;
+    &lt;xsl:text&gt;...&lt;/xsl:text&gt;
+    &lt;code&gt;)&lt;/code&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/td&gt;
+  &lt;td&gt;&#160;&lt;/td&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef&quot; mode=&quot;ansi-tabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;type and funcparams&quot;&gt;
+      &lt;td&gt;
+        &lt;xsl:apply-templates select=&quot;type&quot; mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+        &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+      &lt;/td&gt;
+      &lt;td&gt;
+        &lt;xsl:apply-templates select=&quot;type/following-sibling::node()&quot;
+                             mode=&quot;kr-tabular-funcsynopsis-mode&quot;/&gt;
+      &lt;/td&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;td&gt;
+        &lt;xsl:apply-templates select=&quot;parameter/preceding-sibling::node()&quot;
+                             mode=&quot;ansi-tabular&quot;/&gt;
+        &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+      &lt;/td&gt;
+      &lt;td&gt;
+        &lt;xsl:apply-templates select=&quot;parameter&quot;
+                             mode=&quot;ansi-tabular&quot;/&gt;
+        &lt;xsl:apply-templates select=&quot;parameter/following-sibling::node()&quot;
+                             mode=&quot;ansi-tabular&quot;/&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;following-sibling::*&quot;&gt;
+            &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;code&gt;)&lt;/code&gt;
+            &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/td&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;paramdef/parameter&quot; mode=&quot;ansi-tabular&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$funcsynopsis.decoration != 0&quot;&gt;
+      &lt;var class=&quot;pdparam&quot;&gt;
+        &lt;xsl:apply-templates mode=&quot;ansi-tabular&quot;/&gt;
+      &lt;/var&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;ansi-tabular&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcparams&quot; mode=&quot;ansi-tabular&quot;&gt;
+  &lt;code&gt;(&lt;/code&gt;
+  &lt;xsl:apply-templates/&gt;
+  &lt;code&gt;)&lt;/code&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+
+&lt;xsl:variable name=&quot;default-classsynopsis-language&quot;&gt;java&lt;/xsl:variable&gt;
+
+&lt;xsl:template match=&quot;classsynopsis
+                     |fieldsynopsis
+                     |methodsynopsis
+                     |constructorsynopsis
+                     |destructorsynopsis&quot;&gt;
+  &lt;xsl:param name=&quot;language&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@language&quot;&gt;
+	&lt;xsl:value-of select=&quot;@language&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+	&lt;xsl:value-of select=&quot;$default-classsynopsis-language&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$language='java'&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;java&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$language='perl'&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;perl&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$language='idl'&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;idl&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$language='cpp'&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;cpp&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:message&gt;
+	&lt;xsl:text&gt;Unrecognized language on &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+        &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+	&lt;xsl:value-of select=&quot;$language&quot;/&gt;
+      &lt;/xsl:message&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot;&gt;
+	&lt;xsl:with-param name=&quot;language&quot;
+	  select=&quot;$default-classsynopsis-language&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;synop-break&quot;&gt;
+  &lt;xsl:if test=&quot;parent::classsynopsis
+                or (following-sibling::fieldsynopsis
+                    |following-sibling::methodsynopsis
+                    |following-sibling::constructorsynopsis
+                    |following-sibling::destructorsynopsis)&quot;&gt;
+    &lt;br/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+
+&lt;!-- ===== Java ======================================================== --&gt;
+
+&lt;xsl:template match=&quot;classsynopsis&quot; mode=&quot;java&quot;&gt;
+  &lt;pre class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;ooclass[1]&quot; mode=&quot;java&quot;/&gt;
+    &lt;xsl:if test=&quot;ooclass[position() &gt; 1]&quot;&gt;
+      &lt;xsl:text&gt; extends&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;ooclass[position() &gt; 1]&quot; mode=&quot;java&quot;/&gt;
+      &lt;xsl:if test=&quot;oointerface|ooexception&quot;&gt;
+        &lt;br/&gt;
+	&lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;oointerface&quot;&gt;
+      &lt;xsl:text&gt;implements&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;oointerface&quot; mode=&quot;java&quot;/&gt;
+      &lt;xsl:if test=&quot;ooexception&quot;&gt;
+        &lt;br/&gt;
+	&lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;ooexception&quot;&gt;
+      &lt;xsl:text&gt;throws&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;ooexception&quot; mode=&quot;java&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;&nbsp;{&lt;/xsl:text&gt;
+    &lt;br/&gt;
+    &lt;xsl:apply-templates select=&quot;constructorsynopsis
+                                 |destructorsynopsis
+                                 |fieldsynopsis
+                                 |methodsynopsis
+                                 |classsynopsisinfo&quot; mode=&quot;java&quot;/&gt;
+    &lt;xsl:text&gt;}&lt;/xsl:text&gt;
+  &lt;/pre&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classsynopsisinfo&quot; mode=&quot;java&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;ooclass|oointerface|ooexception&quot; mode=&quot;java&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;position() &gt; 1&quot;&gt;
+      &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:text&gt; &lt;/xsl:text&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;modifier&quot; mode=&quot;java&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classname&quot; mode=&quot;java&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'classname'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;interfacename&quot; mode=&quot;java&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'interfacename'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;exceptionname&quot; mode=&quot;java&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'exceptionname'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;fieldsynopsis&quot; mode=&quot;java&quot;&gt;
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;parent::classsynopsis&quot;&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/code&gt;
+  &lt;xsl:call-template name=&quot;synop-break&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;type&quot; mode=&quot;java&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varname&quot; mode=&quot;java&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;initializer&quot; mode=&quot;java&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;=&nbsp;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;void&quot; mode=&quot;java&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;void&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodname&quot; mode=&quot;java&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodparam&quot; mode=&quot;java&quot;&gt;
+  &lt;xsl:param name=&quot;indent&quot;&gt;0&lt;/xsl:param&gt;
+  &lt;xsl:if test=&quot;position() &gt; 1&quot;&gt;
+    &lt;xsl:text&gt;,&lt;/xsl:text&gt;
+    &lt;br/&gt;
+    &lt;xsl:if test=&quot;$indent &gt; 0&quot;&gt;
+      &lt;xsl:call-template name=&quot;copy-string&quot;&gt;
+	&lt;xsl:with-param name=&quot;string&quot;&gt;&nbsp;&lt;/xsl:with-param&gt;
+	&lt;xsl:with-param name=&quot;count&quot; select=&quot;$indent + 1&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;parameter&quot; mode=&quot;java&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;java&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template mode=&quot;java&quot;
+  match=&quot;constructorsynopsis|destructorsynopsis|methodsynopsis&quot;&gt;
+  &lt;xsl:variable name=&quot;modifiers&quot; select=&quot;modifier&quot;/&gt;
+  &lt;xsl:variable name=&quot;notmod&quot; select=&quot;*[name(.) != 'modifier']&quot;/&gt;
+  &lt;xsl:variable name=&quot;decl&quot;&gt;
+    &lt;xsl:if test=&quot;parent::classsynopsis&quot;&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates select=&quot;$modifiers&quot; mode=&quot;java&quot;/&gt;
+
+    &lt;!-- type --&gt;
+    &lt;xsl:if test=&quot;name($notmod[1]) != 'methodname'&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$notmod[1]&quot; mode=&quot;java&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;methodname&quot; mode=&quot;java&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:copy-of select=&quot;$decl&quot;/&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates select=&quot;methodparam&quot; mode=&quot;java&quot;&gt;
+      &lt;xsl:with-param name=&quot;indent&quot; select=&quot;string-length($decl)&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+    &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;xsl:if test=&quot;exceptionname&quot;&gt;
+      &lt;br/&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;exceptionname&quot; mode=&quot;java&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/code&gt;
+  &lt;xsl:call-template name=&quot;synop-break&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ===== C++ ========================================================= --&gt;
+
+&lt;xsl:template match=&quot;classsynopsis&quot; mode=&quot;cpp&quot;&gt;
+  &lt;pre class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;ooclass[1]&quot; mode=&quot;cpp&quot;/&gt;
+    &lt;xsl:if test=&quot;ooclass[position() &gt; 1]&quot;&gt;
+      &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;ooclass[position() &gt; 1]&quot; mode=&quot;cpp&quot;/&gt;
+      &lt;xsl:if test=&quot;oointerface|ooexception&quot;&gt;
+        &lt;br/&gt;
+	&lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;oointerface&quot;&gt;
+      &lt;xsl:text&gt; implements&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;oointerface&quot; mode=&quot;cpp&quot;/&gt;
+      &lt;xsl:if test=&quot;ooexception&quot;&gt;
+        &lt;br/&gt;
+	&lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;ooexception&quot;&gt;
+      &lt;xsl:text&gt; throws&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;ooexception&quot; mode=&quot;cpp&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;&nbsp;{&lt;/xsl:text&gt;
+    &lt;br/&gt;
+    &lt;xsl:apply-templates select=&quot;constructorsynopsis
+                                 |destructorsynopsis
+                                 |fieldsynopsis
+                                 |methodsynopsis
+                                 |classsynopsisinfo&quot; mode=&quot;cpp&quot;/&gt;
+    &lt;xsl:text&gt;}&lt;/xsl:text&gt;
+  &lt;/pre&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classsynopsisinfo&quot; mode=&quot;cpp&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;ooclass|oointerface|ooexception&quot; mode=&quot;cpp&quot;&gt;
+  &lt;xsl:if test=&quot;position() &gt; 1&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;modifier&quot; mode=&quot;cpp&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classname&quot; mode=&quot;cpp&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'classname'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;interfacename&quot; mode=&quot;cpp&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'interfacename'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;exceptionname&quot; mode=&quot;cpp&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'exceptionname'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;fieldsynopsis&quot; mode=&quot;cpp&quot;&gt;
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;parent::classsynopsis&quot;&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/code&gt;
+  &lt;xsl:call-template name=&quot;synop-break&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;type&quot; mode=&quot;cpp&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varname&quot; mode=&quot;cpp&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;initializer&quot; mode=&quot;cpp&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;=&nbsp;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;void&quot; mode=&quot;cpp&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;void&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodname&quot; mode=&quot;cpp&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodparam&quot; mode=&quot;cpp&quot;&gt;
+  &lt;xsl:if test=&quot;position() &gt; 1&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;parameter&quot; mode=&quot;cpp&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;cpp&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template mode=&quot;cpp&quot;
+  match=&quot;constructorsynopsis|destructorsynopsis|methodsynopsis&quot;&gt;
+  &lt;xsl:variable name=&quot;modifiers&quot; select=&quot;modifier&quot;/&gt;
+  &lt;xsl:variable name=&quot;notmod&quot; select=&quot;*[name(.) != 'modifier']&quot;/&gt;
+
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;parent::classsynopsis&quot;&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates select=&quot;$modifiers&quot; mode=&quot;cpp&quot;/&gt;
+
+    &lt;!-- type --&gt;
+    &lt;xsl:if test=&quot;name($notmod[1]) != 'methodname'&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$notmod[1]&quot; mode=&quot;cpp&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;methodname&quot; mode=&quot;cpp&quot;/&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates select=&quot;methodparam&quot; mode=&quot;cpp&quot;/&gt;
+    &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;xsl:if test=&quot;exceptionname&quot;&gt;
+      &lt;br/&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;exceptionname&quot; mode=&quot;cpp&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/code&gt;
+  &lt;xsl:call-template name=&quot;synop-break&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ===== IDL ========================================================= --&gt;
+
+&lt;xsl:template match=&quot;classsynopsis&quot; mode=&quot;idl&quot;&gt;
+  &lt;pre class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;interface &lt;/xsl:text&gt;
+    &lt;xsl:apply-templates select=&quot;ooclass[1]&quot; mode=&quot;idl&quot;/&gt;
+    &lt;xsl:if test=&quot;ooclass[position() &gt; 1]&quot;&gt;
+      &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;ooclass[position() &gt; 1]&quot; mode=&quot;idl&quot;/&gt;
+      &lt;xsl:if test=&quot;oointerface|ooexception&quot;&gt;
+        &lt;br/&gt;
+	&lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;oointerface&quot;&gt;
+      &lt;xsl:text&gt; implements&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;oointerface&quot; mode=&quot;idl&quot;/&gt;
+      &lt;xsl:if test=&quot;ooexception&quot;&gt;
+        &lt;br/&gt;
+	&lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;ooexception&quot;&gt;
+      &lt;xsl:text&gt; throws&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;ooexception&quot; mode=&quot;idl&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;&nbsp;{&lt;/xsl:text&gt;
+    &lt;br/&gt;
+    &lt;xsl:apply-templates select=&quot;constructorsynopsis
+                                 |destructorsynopsis
+                                 |fieldsynopsis
+                                 |methodsynopsis
+                                 |classsynopsisinfo&quot; mode=&quot;idl&quot;/&gt;
+    &lt;xsl:text&gt;}&lt;/xsl:text&gt;
+  &lt;/pre&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classsynopsisinfo&quot; mode=&quot;idl&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;ooclass|oointerface|ooexception&quot; mode=&quot;idl&quot;&gt;
+  &lt;xsl:if test=&quot;position() &gt; 1&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;modifier&quot; mode=&quot;idl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classname&quot; mode=&quot;idl&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'classname'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;interfacename&quot; mode=&quot;idl&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'interfacename'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;exceptionname&quot; mode=&quot;idl&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'exceptionname'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;fieldsynopsis&quot; mode=&quot;idl&quot;&gt;
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;parent::classsynopsis&quot;&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/code&gt;
+  &lt;xsl:call-template name=&quot;synop-break&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;type&quot; mode=&quot;idl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varname&quot; mode=&quot;idl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;initializer&quot; mode=&quot;idl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;=&nbsp;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;void&quot; mode=&quot;idl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;void&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodname&quot; mode=&quot;idl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodparam&quot; mode=&quot;idl&quot;&gt;
+  &lt;xsl:if test=&quot;position() &gt; 1&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;parameter&quot; mode=&quot;idl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;idl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template mode=&quot;idl&quot;
+  match=&quot;constructorsynopsis|destructorsynopsis|methodsynopsis&quot;&gt;
+  &lt;xsl:variable name=&quot;modifiers&quot; select=&quot;modifier&quot;/&gt;
+  &lt;xsl:variable name=&quot;notmod&quot; select=&quot;*[name(.) != 'modifier']&quot;/&gt;
+
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;parent::classsynopsis&quot;&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates select=&quot;$modifiers&quot; mode=&quot;idl&quot;/&gt;
+
+    &lt;!-- type --&gt;
+    &lt;xsl:if test=&quot;name($notmod[1]) != 'methodname'&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$notmod[1]&quot; mode=&quot;idl&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;methodname&quot; mode=&quot;idl&quot;/&gt;
+    &lt;xsl:text&gt;(&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates select=&quot;methodparam&quot; mode=&quot;idl&quot;/&gt;
+    &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;xsl:if test=&quot;exceptionname&quot;&gt;
+      &lt;br/&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&nbsp;&nbsp;raises(&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;exceptionname&quot; mode=&quot;idl&quot;/&gt;
+      &lt;xsl:text&gt;)&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/code&gt;
+  &lt;xsl:call-template name=&quot;synop-break&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ===== Perl ======================================================== --&gt;
+
+&lt;xsl:template match=&quot;classsynopsis&quot; mode=&quot;perl&quot;&gt;
+  &lt;pre class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;package &lt;/xsl:text&gt;
+    &lt;xsl:apply-templates select=&quot;ooclass[1]&quot; mode=&quot;perl&quot;/&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+    &lt;br/&gt;
+
+    &lt;xsl:if test=&quot;ooclass[position() &gt; 1]&quot;&gt;
+      &lt;xsl:text&gt;@ISA = (&lt;/xsl:text&gt;
+      &lt;xsl:apply-templates select=&quot;ooclass[position() &gt; 1]&quot; mode=&quot;perl&quot;/&gt;
+      &lt;xsl:text&gt;);&lt;/xsl:text&gt;
+      &lt;br/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;constructorsynopsis
+                                 |destructorsynopsis
+                                 |fieldsynopsis
+                                 |methodsynopsis
+                                 |classsynopsisinfo&quot; mode=&quot;perl&quot;/&gt;
+  &lt;/pre&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classsynopsisinfo&quot; mode=&quot;perl&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;ooclass|oointerface|ooexception&quot; mode=&quot;perl&quot;&gt;
+  &lt;xsl:if test=&quot;position() &gt; 1&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;modifier&quot; mode=&quot;perl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;classname&quot; mode=&quot;perl&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'classname'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;interfacename&quot; mode=&quot;perl&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'interfacename'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;exceptionname&quot; mode=&quot;perl&quot;&gt;
+  &lt;xsl:if test=&quot;name(preceding-sibling::*[1]) = 'exceptionname'&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;fieldsynopsis&quot; mode=&quot;perl&quot;&gt;
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;parent::classsynopsis&quot;&gt;
+      &lt;xsl:text&gt;&nbsp;&nbsp;&lt;/xsl:text&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+    &lt;xsl:text&gt;;&lt;/xsl:text&gt;
+  &lt;/code&gt;
+  &lt;xsl:call-template name=&quot;synop-break&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;type&quot; mode=&quot;perl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varname&quot; mode=&quot;perl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+    &lt;xsl:text&gt;&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;initializer&quot; mode=&quot;perl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;=&nbsp;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;void&quot; mode=&quot;perl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;void&nbsp;&lt;/xsl:text&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodname&quot; mode=&quot;perl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;methodparam&quot; mode=&quot;perl&quot;&gt;
+  &lt;xsl:if test=&quot;position() &gt; 1&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;parameter&quot; mode=&quot;perl&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;perl&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template mode=&quot;perl&quot;
+  match=&quot;constructorsynopsis|destructorsynopsis|methodsynopsis&quot;&gt;
+  &lt;xsl:variable name=&quot;modifiers&quot; select=&quot;modifier&quot;/&gt;
+  &lt;xsl:variable name=&quot;notmod&quot; select=&quot;*[name(.) != 'modifier']&quot;/&gt;
+
+  &lt;code class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:text&gt;sub &lt;/xsl:text&gt;
+
+    &lt;xsl:apply-templates select=&quot;methodname&quot; mode=&quot;perl&quot;/&gt;
+    &lt;xsl:text&gt; { ... };&lt;/xsl:text&gt;
+  &lt;/code&gt;
+  &lt;xsl:call-template name=&quot;synop-break&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/table.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/table.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/table.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1101 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:doc=&quot;<A HREF="http://nwalsh.com/xsl/documentation/1.0">http://nwalsh.com/xsl/documentation/1.0</A>&quot;
+                xmlns:stbl=&quot;<A HREF="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Table">http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Table</A>&quot;
+                xmlns:xtbl=&quot;com.nwalsh.xalan.Table&quot;
+                xmlns:lxslt=&quot;<A HREF="http://xml.apache.org/xslt">http://xml.apache.org/xslt</A>&quot;
+                xmlns:ptbl=&quot;<A HREF="http://nwalsh.com/xslt/ext/xsltproc/python/Table">http://nwalsh.com/xslt/ext/xsltproc/python/Table</A>&quot;
+                exclude-result-prefixes=&quot;doc stbl xtbl lxslt ptbl&quot;
+                version='1.0'&gt;
+
+&lt;xsl:include href=&quot;../common/table.xsl&quot;/&gt;
+
+&lt;!-- ********************************************************************
+     $Id: table.xsl,v 1.34 2004/08/06 08:18:24 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;lxslt:component prefix=&quot;xtbl&quot;
+                 functions=&quot;adjustColumnWidths&quot;/&gt;
+
+&lt;xsl:template name=&quot;empty.table.cell&quot;&gt;
+  &lt;xsl:param name=&quot;colnum&quot; select=&quot;0&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;rowsep&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;!-- If this is the last row, rowsep never applies. --&gt;
+      &lt;xsl:when test=&quot;not(ancestor-or-self::row[1]/following-sibling::row
+                          or ancestor-or-self::thead/following-sibling::tbody
+                          or ancestor-or-self::tbody/preceding-sibling::tfoot)&quot;&gt;
+        &lt;xsl:value-of select=&quot;0&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;inherited.table.attribute&quot;&gt;
+          &lt;xsl:with-param name=&quot;entry&quot; select=&quot;NOT-AN-ELEMENT-NAME&quot;/&gt;
+          &lt;xsl:with-param name=&quot;row&quot; select=&quot;ancestor-or-self::row[1]&quot;/&gt;
+          &lt;xsl:with-param name=&quot;colnum&quot; select=&quot;$colnum&quot;/&gt;
+          &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'rowsep'&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;colsep&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;!-- If this is the last column, colsep never applies. --&gt;
+      &lt;xsl:when test=&quot;$colnum &gt;= ancestor::tgroup/@cols&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;inherited.table.attribute&quot;&gt;
+          &lt;xsl:with-param name=&quot;entry&quot; select=&quot;NOT-AN-ELEMENT-NAME&quot;/&gt;
+          &lt;xsl:with-param name=&quot;row&quot; select=&quot;ancestor-or-self::row[1]&quot;/&gt;
+          &lt;xsl:with-param name=&quot;colnum&quot; select=&quot;$colnum&quot;/&gt;
+          &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'colsep'&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;td class=&quot;auto-generated&quot;&gt;
+    &lt;xsl:if test=&quot;$table.borders.with.css != 0&quot;&gt;
+      &lt;xsl:attribute name=&quot;style&quot;&gt;
+        &lt;xsl:if test=&quot;$colsep &gt; 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;border&quot;&gt;
+            &lt;xsl:with-param name=&quot;side&quot; select=&quot;'right'&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:if&gt;
+        &lt;xsl:if test=&quot;$rowsep &gt; 0&quot;&gt;
+          &lt;xsl:call-template name=&quot;border&quot;&gt;
+            &lt;xsl:with-param name=&quot;side&quot; select=&quot;'bottom'&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+  &lt;/td&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;border&quot;&gt;
+  &lt;xsl:param name=&quot;side&quot; select=&quot;'left'&quot;/&gt;
+  &lt;xsl:param name=&quot;padding&quot; select=&quot;0&quot;/&gt;
+  &lt;xsl:param name=&quot;style&quot; select=&quot;$table.cell.border.style&quot;/&gt;
+  &lt;xsl:param name=&quot;color&quot; select=&quot;$table.cell.border.color&quot;/&gt;
+  &lt;xsl:param name=&quot;thickness&quot; select=&quot;$table.cell.border.thickness&quot;/&gt;
+
+  &lt;!-- Note: Some browsers (mozilla) require at least a width and style. --&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;($thickness != ''
+                     and $style != ''
+                     and $color != '')
+                    or ($thickness != ''
+                        and $style != '')
+                    or ($thickness != '')&quot;&gt;
+      &lt;!-- use the compound property if we can: --&gt;
+      &lt;!-- it saves space and probably works more reliably --&gt;
+      &lt;xsl:text&gt;border-&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$side&quot;/&gt;
+      &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$thickness&quot;/&gt;
+      &lt;xsl:text&gt; &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$style&quot;/&gt;
+      &lt;xsl:text&gt; &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;$color&quot;/&gt;
+      &lt;xsl:text&gt;; &lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;!-- we need to specify the styles individually --&gt;
+      &lt;xsl:if test=&quot;$thickness != ''&quot;&gt;
+        &lt;xsl:text&gt;border-&lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$side&quot;/&gt;
+        &lt;xsl:text&gt;-width: &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$thickness&quot;/&gt;
+        &lt;xsl:text&gt;; &lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:if test=&quot;$style != ''&quot;&gt;
+        &lt;xsl:text&gt;border-&lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$side&quot;/&gt;
+        &lt;xsl:text&gt;-style: &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$style&quot;/&gt;
+        &lt;xsl:text&gt;; &lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:if test=&quot;$color != ''&quot;&gt;
+        &lt;xsl:text&gt;border-&lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$side&quot;/&gt;
+        &lt;xsl:text&gt;-color: &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;$color&quot;/&gt;
+        &lt;xsl:text&gt;; &lt;/xsl:text&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;tgroup&quot; name=&quot;tgroup&quot;&gt;
+  &lt;xsl:if test=&quot;not(@cols)&quot;&gt;
+    &lt;xsl:message terminate=&quot;yes&quot;&gt;
+      &lt;xsl:text&gt;Error: CALS tables must specify the number of columns.&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:variable name=&quot;summary&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'table-summary'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;cellspacing&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'cellspacing'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;cellpadding&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;processing-instruction('dbhtml')[1]&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'cellpadding'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;table&gt;
+    &lt;xsl:choose&gt;
+      &lt;!-- If there's a textobject/phrase for the table summary, use it --&gt;
+      &lt;xsl:when test=&quot;../textobject/phrase&quot;&gt;
+        &lt;xsl:attribute name=&quot;summary&quot;&gt;
+          &lt;xsl:value-of select=&quot;../textobject/phrase&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:when&gt;
+
+      &lt;!-- If there's a &lt;?dbhtml table-summary=&quot;foo&quot;?&gt; PI, use it for
+           the HTML table summary attribute --&gt;
+      &lt;xsl:when test=&quot;$summary != ''&quot;&gt;
+        &lt;xsl:attribute name=&quot;summary&quot;&gt;
+          &lt;xsl:value-of select=&quot;$summary&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:when&gt;
+
+      &lt;!-- Otherwise, if there's a title, use that --&gt;
+      &lt;xsl:when test=&quot;../title&quot;&gt;
+        &lt;xsl:attribute name=&quot;summary&quot;&gt;
+          &lt;xsl:value-of select=&quot;string(../title)&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:when&gt;
+
+      &lt;!-- Otherwise, forget the whole idea --&gt;
+      &lt;xsl:otherwise&gt;&lt;!-- nevermind --&gt;&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:if test=&quot;$cellspacing != '' or $html.cellspacing != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;cellspacing&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;$cellspacing != ''&quot;&gt;
+            &lt;xsl:value-of select=&quot;$cellspacing&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$html.cellspacing&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$cellpadding != '' or $html.cellpadding != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;cellpadding&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;$cellpadding != ''&quot;&gt;
+            &lt;xsl:value-of select=&quot;$cellpadding&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$html.cellpadding&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;../@pgwide=1 or local-name(.) = 'entrytbl'&quot;&gt;
+      &lt;xsl:attribute name=&quot;width&quot;&gt;100%&lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$table.borders.with.css != 0&quot;&gt;
+        &lt;xsl:attribute name=&quot;border&quot;&gt;0&lt;/xsl:attribute&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;../@frame='all'&quot;&gt;
+            &lt;xsl:attribute name=&quot;style&quot;&gt;
+              &lt;xsl:text&gt;border-collapse: collapse;&lt;/xsl:text&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'top'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'bottom'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'left'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'right'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;../@frame='topbot'&quot;&gt;
+            &lt;xsl:attribute name=&quot;style&quot;&gt;
+              &lt;xsl:text&gt;border-collapse: collapse;&lt;/xsl:text&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'top'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'bottom'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;../@frame='top'&quot;&gt;
+            &lt;xsl:attribute name=&quot;style&quot;&gt;
+              &lt;xsl:text&gt;border-collapse: collapse;&lt;/xsl:text&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'top'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;../@frame='bottom'&quot;&gt;
+            &lt;xsl:attribute name=&quot;style&quot;&gt;
+              &lt;xsl:text&gt;border-collapse: collapse;&lt;/xsl:text&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'bottom'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;../@frame='sides'&quot;&gt;
+            &lt;xsl:attribute name=&quot;style&quot;&gt;
+              &lt;xsl:text&gt;border-collapse: collapse;&lt;/xsl:text&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'left'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'right'&quot;/&gt;
+                &lt;xsl:with-param name=&quot;style&quot; select=&quot;$table.frame.border.style&quot;/&gt;
+                &lt;xsl:with-param name=&quot;color&quot; select=&quot;$table.frame.border.color&quot;/&gt;
+                &lt;xsl:with-param name=&quot;thickness&quot; select=&quot;$table.frame.border.thickness&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:attribute name=&quot;style&quot;&gt;
+              &lt;xsl:text&gt;border-collapse: collapse;&lt;/xsl:text&gt;
+            &lt;/xsl:attribute&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;../@frame='none' or local-name(.) = 'entrytbl'&quot;&gt;
+        &lt;xsl:attribute name=&quot;border&quot;&gt;0&lt;/xsl:attribute&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:attribute name=&quot;border&quot;&gt;1&lt;/xsl:attribute&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:variable name=&quot;colgroup&quot;&gt;
+      &lt;colgroup&gt;
+        &lt;xsl:call-template name=&quot;generate.colgroup&quot;&gt;
+          &lt;xsl:with-param name=&quot;cols&quot; select=&quot;@cols&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/colgroup&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:variable name=&quot;explicit.table.width&quot;&gt;
+      &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+        &lt;xsl:with-param name=&quot;pis&quot;
+                        select=&quot;../processing-instruction('dbhtml')[1]&quot;/&gt;
+        &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'table-width'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:variable name=&quot;table.width&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$explicit.table.width != ''&quot;&gt;
+          &lt;xsl:value-of select=&quot;$explicit.table.width&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;$default.table.width = ''&quot;&gt;
+          &lt;xsl:text&gt;100%&lt;/xsl:text&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:value-of select=&quot;$default.table.width&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:if test=&quot;$default.table.width != ''
+                  or $explicit.table.width != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;width&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;contains($table.width, '%')&quot;&gt;
+            &lt;xsl:value-of select=&quot;$table.width&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;$use.extensions != 0
+                          and $tablecolumns.extension != 0&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;function-available('stbl:convertLength')&quot;&gt;
+                &lt;xsl:value-of select=&quot;stbl:convertLength($table.width)&quot;/&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:when test=&quot;function-available('xtbl:convertLength')&quot;&gt;
+                &lt;xsl:value-of select=&quot;xtbl:convertLength($table.width)&quot;/&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;
+                &lt;xsl:message terminate=&quot;yes&quot;&gt;
+                  &lt;xsl:text&gt;No convertLength function available.&lt;/xsl:text&gt;
+                &lt;/xsl:message&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$table.width&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$use.extensions != 0
+                      and $tablecolumns.extension != 0&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;function-available('stbl:adjustColumnWidths')&quot;&gt;
+            &lt;xsl:copy-of select=&quot;stbl:adjustColumnWidths($colgroup)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;function-available('xtbl:adjustColumnWidths')&quot;&gt;
+            &lt;xsl:copy-of select=&quot;xtbl:adjustColumnWidths($colgroup)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;function-available('ptbl:adjustColumnWidths')&quot;&gt;
+            &lt;xsl:copy-of select=&quot;ptbl:adjustColumnWidths($colgroup)&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:message terminate=&quot;yes&quot;&gt;
+              &lt;xsl:text&gt;No adjustColumnWidths function available.&lt;/xsl:text&gt;
+            &lt;/xsl:message&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:copy-of select=&quot;$colgroup&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+
+    &lt;xsl:apply-templates select=&quot;thead&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;tfoot&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;tbody&quot;/&gt;
+
+    &lt;xsl:if test=&quot;.//footnote&quot;&gt;
+      &lt;tbody class=&quot;footnotes&quot;&gt;
+        &lt;tr&gt;
+          &lt;td colspan=&quot;{@cols}&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;.//footnote&quot; mode=&quot;table.footnote.mode&quot;/&gt;
+          &lt;/td&gt;
+        &lt;/tr&gt;
+      &lt;/tbody&gt;
+    &lt;/xsl:if&gt;
+  &lt;/table&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;tgroup/processing-instruction('dbhtml')&quot;&gt;
+  &lt;xsl:variable name=&quot;summary&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot; select=&quot;.&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'table-summary'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;!-- Suppress the table-summary PI --&gt;
+  &lt;xsl:if test=&quot;$summary = ''&quot;&gt;
+    &lt;xsl:processing-instruction name=&quot;dbhtml&quot;&gt;
+      &lt;xsl:value-of select=&quot;.&quot;/&gt;
+    &lt;/xsl:processing-instruction&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;colspec&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;spanspec&quot;&gt;&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;thead|tfoot&quot;&gt;
+  &lt;xsl:element name=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:if test=&quot;@align&quot;&gt;
+      &lt;xsl:attribute name=&quot;align&quot;&gt;
+        &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@char&quot;&gt;
+      &lt;xsl:attribute name=&quot;char&quot;&gt;
+        &lt;xsl:value-of select=&quot;@char&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@charoff&quot;&gt;
+      &lt;xsl:attribute name=&quot;charoff&quot;&gt;
+        &lt;xsl:value-of select=&quot;@charoff&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@valign&quot;&gt;
+      &lt;xsl:attribute name=&quot;valign&quot;&gt;
+        &lt;xsl:value-of select=&quot;@valign&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;row[1]&quot;&gt;
+      &lt;xsl:with-param name=&quot;spans&quot;&gt;
+        &lt;xsl:call-template name=&quot;blank.spans&quot;&gt;
+          &lt;xsl:with-param name=&quot;cols&quot; select=&quot;../@cols&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:apply-templates&gt;
+
+  &lt;/xsl:element&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;tbody&quot;&gt;
+  &lt;tbody&gt;
+    &lt;xsl:if test=&quot;@align&quot;&gt;
+      &lt;xsl:attribute name=&quot;align&quot;&gt;
+        &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@char&quot;&gt;
+      &lt;xsl:attribute name=&quot;char&quot;&gt;
+        &lt;xsl:value-of select=&quot;@char&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@charoff&quot;&gt;
+      &lt;xsl:attribute name=&quot;charoff&quot;&gt;
+        &lt;xsl:value-of select=&quot;@charoff&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@valign&quot;&gt;
+      &lt;xsl:attribute name=&quot;valign&quot;&gt;
+        &lt;xsl:value-of select=&quot;@valign&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;row[1]&quot;&gt;
+      &lt;xsl:with-param name=&quot;spans&quot;&gt;
+        &lt;xsl:call-template name=&quot;blank.spans&quot;&gt;
+          &lt;xsl:with-param name=&quot;cols&quot; select=&quot;../@cols&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:apply-templates&gt;
+
+  &lt;/tbody&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;row&quot;&gt;
+  &lt;xsl:param name=&quot;spans&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;row-height&quot;&gt;
+    &lt;xsl:if test=&quot;processing-instruction('dbhtml')&quot;&gt;
+      &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+        &lt;xsl:with-param name=&quot;pis&quot; select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+        &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'row-height'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;bgcolor&quot;&gt;
+    &lt;xsl:if test=&quot;processing-instruction('dbhtml')&quot;&gt;
+      &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+	&lt;xsl:with-param name=&quot;pis&quot; select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+	&lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'bgcolor'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;class&quot;&gt;
+    &lt;xsl:if test=&quot;processing-instruction('dbhtml')&quot;&gt;
+      &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+	&lt;xsl:with-param name=&quot;pis&quot; select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+	&lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'class'&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;tr&gt;
+    &lt;xsl:call-template name=&quot;tr.attributes&quot;&gt;
+      &lt;xsl:with-param name=&quot;rownum&quot;&gt;
+        &lt;xsl:number from=&quot;tgroup&quot; count=&quot;row&quot;/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+
+    &lt;xsl:if test=&quot;$row-height != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;height&quot;&gt;
+        &lt;xsl:value-of select=&quot;$row-height&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$bgcolor != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;
+        &lt;xsl:value-of select=&quot;$bgcolor&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$class != ''&quot;&gt;
+      &lt;xsl:attribute name=&quot;class&quot;&gt;
+        &lt;xsl:value-of select=&quot;$class&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$table.borders.with.css != 0&quot;&gt;
+      &lt;xsl:if test=&quot;@rowsep = 1 and following-sibling::row&quot;&gt;
+        &lt;xsl:attribute name=&quot;style&quot;&gt;
+          &lt;xsl:call-template name=&quot;border&quot;&gt;
+            &lt;xsl:with-param name=&quot;side&quot; select=&quot;'bottom'&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;@align&quot;&gt;
+      &lt;xsl:attribute name=&quot;align&quot;&gt;
+        &lt;xsl:value-of select=&quot;@align&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@char&quot;&gt;
+      &lt;xsl:attribute name=&quot;char&quot;&gt;
+        &lt;xsl:value-of select=&quot;@char&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@charoff&quot;&gt;
+      &lt;xsl:attribute name=&quot;charoff&quot;&gt;
+        &lt;xsl:value-of select=&quot;@charoff&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:if test=&quot;@valign&quot;&gt;
+      &lt;xsl:attribute name=&quot;valign&quot;&gt;
+        &lt;xsl:value-of select=&quot;@valign&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;(entry|entrytbl)[1]&quot;&gt;
+      &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$spans&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/tr&gt;
+
+  &lt;xsl:if test=&quot;following-sibling::row&quot;&gt;
+    &lt;xsl:variable name=&quot;nextspans&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;(entry|entrytbl)[1]&quot; mode=&quot;span&quot;&gt;
+        &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$spans&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:variable&gt;
+
+    &lt;xsl:apply-templates select=&quot;following-sibling::row[1]&quot;&gt;
+      &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$nextspans&quot;/&gt;
+    &lt;/xsl:apply-templates&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;entry|entrytbl&quot; name=&quot;entry&quot;&gt;
+  &lt;xsl:param name=&quot;col&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:param name=&quot;spans&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;cellgi&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;ancestor::thead&quot;&gt;th&lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;ancestor::tfoot&quot;&gt;th&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;td&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;empty.cell&quot; select=&quot;count(node()) = 0&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;named.colnum&quot;&gt;
+    &lt;xsl:call-template name=&quot;entry.colnum&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;entry.colnum&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$named.colnum &gt; 0&quot;&gt;
+        &lt;xsl:value-of select=&quot;$named.colnum&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$col&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;entry.colspan&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@spanname or @namest&quot;&gt;
+        &lt;xsl:call-template name=&quot;calculate.colspan&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;following.spans&quot;&gt;
+    &lt;xsl:call-template name=&quot;calculate.following.spans&quot;&gt;
+      &lt;xsl:with-param name=&quot;colspan&quot; select=&quot;$entry.colspan&quot;/&gt;
+      &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$spans&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;rowsep&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;!-- If this is the last row, rowsep never applies. --&gt;
+      &lt;xsl:when test=&quot;ancestor::entrytbl
+                      and not (ancestor-or-self::row[1]/following-sibling::row)&quot;&gt;
+        &lt;xsl:value-of select=&quot;0&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;not(ancestor-or-self::row[1]/following-sibling::row
+                          or ancestor-or-self::thead/following-sibling::tbody
+                          or ancestor-or-self::tbody/preceding-sibling::tfoot)&quot;&gt;
+        &lt;xsl:value-of select=&quot;0&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;inherited.table.attribute&quot;&gt;
+          &lt;xsl:with-param name=&quot;entry&quot; select=&quot;.&quot;/&gt;
+          &lt;xsl:with-param name=&quot;colnum&quot; select=&quot;$entry.colnum&quot;/&gt;
+          &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'rowsep'&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;colsep&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;!-- If this is the last column, colsep never applies. --&gt;
+      &lt;xsl:when test=&quot;$following.spans = ''&quot;&gt;0&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;inherited.table.attribute&quot;&gt;
+          &lt;xsl:with-param name=&quot;entry&quot; select=&quot;.&quot;/&gt;
+          &lt;xsl:with-param name=&quot;colnum&quot; select=&quot;$entry.colnum&quot;/&gt;
+          &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'colsep'&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;valign&quot;&gt;
+    &lt;xsl:call-template name=&quot;inherited.table.attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;entry&quot; select=&quot;.&quot;/&gt;
+      &lt;xsl:with-param name=&quot;colnum&quot; select=&quot;$entry.colnum&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'valign'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;align&quot;&gt;
+    &lt;xsl:call-template name=&quot;inherited.table.attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;entry&quot; select=&quot;.&quot;/&gt;
+      &lt;xsl:with-param name=&quot;colnum&quot; select=&quot;$entry.colnum&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'align'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;char&quot;&gt;
+    &lt;xsl:call-template name=&quot;inherited.table.attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;entry&quot; select=&quot;.&quot;/&gt;
+      &lt;xsl:with-param name=&quot;colnum&quot; select=&quot;$entry.colnum&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'char'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;charoff&quot;&gt;
+    &lt;xsl:call-template name=&quot;inherited.table.attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;entry&quot; select=&quot;.&quot;/&gt;
+      &lt;xsl:with-param name=&quot;colnum&quot; select=&quot;$entry.colnum&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'charoff'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$spans != '' and not(starts-with($spans,'0:'))&quot;&gt;
+      &lt;xsl:call-template name=&quot;entry&quot;&gt;
+        &lt;xsl:with-param name=&quot;col&quot; select=&quot;$col+1&quot;/&gt;
+        &lt;xsl:with-param name=&quot;spans&quot; select=&quot;substring-after($spans,':')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;$entry.colnum &gt; $col&quot;&gt;
+      &lt;xsl:call-template name=&quot;empty.table.cell&quot;/&gt;
+      &lt;xsl:call-template name=&quot;entry&quot;&gt;
+        &lt;xsl:with-param name=&quot;col&quot; select=&quot;$col+1&quot;/&gt;
+        &lt;xsl:with-param name=&quot;spans&quot; select=&quot;substring-after($spans,':')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;bgcolor&quot;&gt;
+        &lt;xsl:if test=&quot;processing-instruction('dbhtml')&quot;&gt;
+          &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+            &lt;xsl:with-param name=&quot;pis&quot; select=&quot;processing-instruction('dbhtml')&quot;/&gt;
+            &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'bgcolor'&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:if&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:element name=&quot;{$cellgi}&quot;&gt;
+        &lt;xsl:if test=&quot;$bgcolor != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;
+            &lt;xsl:value-of select=&quot;$bgcolor&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$entry.propagates.style != 0 and @role&quot;&gt;
+          &lt;xsl:attribute name=&quot;class&quot;&gt;
+            &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$show.revisionflag and @revisionflag&quot;&gt;
+          &lt;xsl:attribute name=&quot;class&quot;&gt;
+            &lt;xsl:value-of select=&quot;@revisionflag&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$table.borders.with.css != 0&quot;&gt;
+          &lt;xsl:attribute name=&quot;style&quot;&gt;
+            &lt;xsl:if test=&quot;$colsep &gt; 0&quot;&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'right'&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:if&gt;
+            &lt;xsl:if test=&quot;$rowsep &gt; 0&quot;&gt;
+              &lt;xsl:call-template name=&quot;border&quot;&gt;
+                &lt;xsl:with-param name=&quot;side&quot; select=&quot;'bottom'&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;@morerows &gt; 0&quot;&gt;
+          &lt;xsl:attribute name=&quot;rowspan&quot;&gt;
+            &lt;xsl:value-of select=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">1+ at morerows</A>&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$entry.colspan &gt; 1&quot;&gt;
+          &lt;xsl:attribute name=&quot;colspan&quot;&gt;
+            &lt;xsl:value-of select=&quot;$entry.colspan&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$align != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;align&quot;&gt;
+            &lt;xsl:value-of select=&quot;$align&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$valign != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;valign&quot;&gt;
+            &lt;xsl:value-of select=&quot;$valign&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$char != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;char&quot;&gt;
+            &lt;xsl:value-of select=&quot;$char&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;$charoff != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;charoff&quot;&gt;
+            &lt;xsl:value-of select=&quot;$charoff&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:if test=&quot;not(preceding-sibling::*) and ancestor::row/@id&quot;&gt;
+          &lt;xsl:call-template name=&quot;anchor&quot;&gt;
+            &lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor::row[1]&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:if&gt;
+
+        &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;$empty.cell&quot;&gt;
+            &lt;xsl:text&gt;&#160;&lt;/xsl:text&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;self::entrytbl&quot;&gt;
+            &lt;xsl:call-template name=&quot;tgroup&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:apply-templates/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:element&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;following-sibling::entry|following-sibling::entrytbl&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;(following-sibling::entry
+                                       |following-sibling::entrytbl)[1]&quot;&gt;
+            &lt;xsl:with-param name=&quot;col&quot; select=&quot;$col+$entry.colspan&quot;/&gt;
+            &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$following.spans&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;finaltd&quot;&gt;
+            &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$following.spans&quot;/&gt;
+            &lt;xsl:with-param name=&quot;col&quot; select=&quot;$col+$entry.colspan&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;entry|entrytbl&quot; name=&quot;sentry&quot; mode=&quot;span&quot;&gt;
+  &lt;xsl:param name=&quot;col&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:param name=&quot;spans&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;entry.colnum&quot;&gt;
+    &lt;xsl:call-template name=&quot;entry.colnum&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;entry.colspan&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@spanname or @namest&quot;&gt;
+        &lt;xsl:call-template name=&quot;calculate.colspan&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;following.spans&quot;&gt;
+    &lt;xsl:call-template name=&quot;calculate.following.spans&quot;&gt;
+      &lt;xsl:with-param name=&quot;colspan&quot; select=&quot;$entry.colspan&quot;/&gt;
+      &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$spans&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$spans != '' and not(starts-with($spans,'0:'))&quot;&gt;
+      &lt;xsl:value-of select=&quot;substring-before($spans,':')-1&quot;/&gt;
+      &lt;xsl:text&gt;:&lt;/xsl:text&gt;
+      &lt;xsl:call-template name=&quot;sentry&quot;&gt;
+        &lt;xsl:with-param name=&quot;col&quot; select=&quot;$col+1&quot;/&gt;
+        &lt;xsl:with-param name=&quot;spans&quot; select=&quot;substring-after($spans,':')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;$entry.colnum &gt; $col&quot;&gt;
+      &lt;xsl:text&gt;0:&lt;/xsl:text&gt;
+      &lt;xsl:call-template name=&quot;sentry&quot;&gt;
+        &lt;xsl:with-param name=&quot;col&quot; select=&quot;$col+$entry.colspan&quot;/&gt;
+        &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$following.spans&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;copy-string&quot;&gt;
+        &lt;xsl:with-param name=&quot;count&quot; select=&quot;$entry.colspan&quot;/&gt;
+        &lt;xsl:with-param name=&quot;string&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;@morerows&quot;&gt;
+              &lt;xsl:value-of select=&quot;@morerows&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;0&lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+          &lt;xsl:text&gt;:&lt;/xsl:text&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;following-sibling::entry|following-sibling::entrytbl&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;(following-sibling::entry
+                                        |following-sibling::entrytbl)[1]&quot;
+                               mode=&quot;span&quot;&gt;
+            &lt;xsl:with-param name=&quot;col&quot; select=&quot;$col+$entry.colspan&quot;/&gt;
+            &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$following.spans&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;sfinaltd&quot;&gt;
+            &lt;xsl:with-param name=&quot;spans&quot; select=&quot;$following.spans&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;generate.colgroup&quot;&gt;
+  &lt;xsl:param name=&quot;cols&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:param name=&quot;count&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$count &gt; $cols&quot;&gt;&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;generate.col&quot;&gt;
+        &lt;xsl:with-param name=&quot;countcol&quot; select=&quot;$count&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;generate.colgroup&quot;&gt;
+        &lt;xsl:with-param name=&quot;cols&quot; select=&quot;$cols&quot;/&gt;
+        &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count+1&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;generate.col&quot;&gt;
+  &lt;xsl:param name=&quot;countcol&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;colspecs&quot; select=&quot;./colspec&quot;/&gt;
+  &lt;xsl:param name=&quot;count&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:param name=&quot;colnum&quot;&gt;1&lt;/xsl:param&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$count&gt;count($colspecs)&quot;&gt;
+      &lt;col/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;colspec&quot; select=&quot;$colspecs[$count=position()]&quot;/&gt;
+      &lt;xsl:variable name=&quot;colspec.colnum&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;$colspec/@colnum&quot;&gt;
+            &lt;xsl:value-of select=&quot;$colspec/@colnum&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$colnum&quot;/&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$colspec.colnum=$countcol&quot;&gt;
+          &lt;col&gt;
+            &lt;xsl:if test=&quot;$colspec/@colwidth
+                          and $use.extensions != 0
+                          and $tablecolumns.extension != 0&quot;&gt;
+              &lt;xsl:attribute name=&quot;width&quot;&gt;
+	        &lt;xsl:choose&gt;
+		  &lt;xsl:when test=&quot;normalize-space($colspec/@colwidth) = '*'&quot;&gt;
+                    &lt;xsl:value-of select=&quot;'1*'&quot;/&gt;
+		  &lt;/xsl:when&gt;
+		  &lt;xsl:otherwise&gt;
+                    &lt;xsl:value-of select=&quot;$colspec/@colwidth&quot;/&gt;
+		  &lt;/xsl:otherwise&gt;
+		&lt;/xsl:choose&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:if&gt;
+
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;$colspec/@align&quot;&gt;
+                &lt;xsl:attribute name=&quot;align&quot;&gt;
+                  &lt;xsl:value-of select=&quot;$colspec/@align&quot;/&gt;
+                &lt;/xsl:attribute&gt;
+              &lt;/xsl:when&gt;
+              &lt;!-- Suggested by Pavel ZAMPACH &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">zampach at nemcb.cz</A>&gt; --&gt;
+              &lt;xsl:when test=&quot;$colspecs/ancestor::tgroup/@align&quot;&gt;
+                &lt;xsl:attribute name=&quot;align&quot;&gt;
+                  &lt;xsl:value-of select=&quot;$colspecs/ancestor::tgroup/@align&quot;/&gt;
+                &lt;/xsl:attribute&gt;
+              &lt;/xsl:when&gt;
+            &lt;/xsl:choose&gt;
+
+            &lt;xsl:if test=&quot;$colspec/@char&quot;&gt;
+              &lt;xsl:attribute name=&quot;char&quot;&gt;
+                &lt;xsl:value-of select=&quot;$colspec/@char&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:if&gt;
+            &lt;xsl:if test=&quot;$colspec/@charoff&quot;&gt;
+              &lt;xsl:attribute name=&quot;charoff&quot;&gt;
+                &lt;xsl:value-of select=&quot;$colspec/@charoff&quot;/&gt;
+              &lt;/xsl:attribute&gt;
+            &lt;/xsl:if&gt;
+          &lt;/col&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;generate.col&quot;&gt;
+            &lt;xsl:with-param name=&quot;countcol&quot; select=&quot;$countcol&quot;/&gt;
+            &lt;xsl:with-param name=&quot;colspecs&quot; select=&quot;$colspecs&quot;/&gt;
+            &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count+1&quot;/&gt;
+            &lt;xsl:with-param name=&quot;colnum&quot;&gt;
+              &lt;xsl:choose&gt;
+                &lt;xsl:when test=&quot;$colspec/@colnum&quot;&gt;
+                  &lt;xsl:value-of select=&quot;$colspec/@colnum + 1&quot;/&gt;
+                &lt;/xsl:when&gt;
+                &lt;xsl:otherwise&gt;
+                  &lt;xsl:value-of select=&quot;$colnum + 1&quot;/&gt;
+                &lt;/xsl:otherwise&gt;
+              &lt;/xsl:choose&gt;
+            &lt;/xsl:with-param&gt;
+           &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;colspec.colwidth&quot;&gt;
+  &lt;!-- when this macro is called, the current context must be an entry --&gt;
+  &lt;xsl:param name=&quot;colname&quot;&gt;&lt;/xsl:param&gt;
+  &lt;!-- .. = row, ../.. = thead|tbody, ../../.. = tgroup --&gt;
+  &lt;xsl:param name=&quot;colspecs&quot; select=&quot;../../../../tgroup/colspec&quot;/&gt;
+  &lt;xsl:param name=&quot;count&quot;&gt;1&lt;/xsl:param&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$count&gt;count($colspecs)&quot;&gt;&lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;colspec&quot; select=&quot;$colspecs[$count=position()]&quot;/&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$colspec/@colname=$colname&quot;&gt;
+          &lt;xsl:value-of select=&quot;$colspec/@colwidth&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;colspec.colwidth&quot;&gt;
+            &lt;xsl:with-param name=&quot;colname&quot; select=&quot;$colname&quot;/&gt;
+            &lt;xsl:with-param name=&quot;colspecs&quot; select=&quot;$colspecs&quot;/&gt;
+            &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count+1&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ====================================================================== --&gt;
+
+&lt;xsl:template name=&quot;tr.attributes&quot;&gt;
+  &lt;xsl:param name=&quot;row&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;rownum&quot; select=&quot;0&quot;/&gt;
+
+  &lt;!-- by default, do nothing. But you might want to say:
+
+  &lt;xsl:if test=&quot;$rownum mod 2 = 0&quot;&gt;
+    &lt;xsl:attribute name=&quot;class&quot;&gt;oddrow&lt;/xsl:attribute&gt;
+  &lt;/xsl:if&gt;
+
+  --&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;
+

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/task.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/task.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/task.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,69 @@
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version=&quot;1.0&quot;&gt;
+
+&lt;!-- ********************************************************************
+     $Id: task.xsl,v 1.2 2003/11/30 19:42:23 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;task&quot;&gt;
+  &lt;xsl:variable name=&quot;param.placement&quot;
+                select=&quot;substring-after(normalize-space($formal.title.placement),
+                                        concat(local-name(.), ' '))&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;placement&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;contains($param.placement, ' ')&quot;&gt;
+        &lt;xsl:value-of select=&quot;substring-before($param.placement, ' ')&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$param.placement = ''&quot;&gt;before&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$param.placement&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;preamble&quot;
+                select=&quot;*[not(self::title
+                              or self::titleabbrev)]&quot;/&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+    &lt;xsl:if test=&quot;title and $placement = 'before'&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:apply-templates select=&quot;$preamble&quot;/&gt;
+
+    &lt;xsl:if test=&quot;title and $placement != 'before'&quot;&gt;
+      &lt;xsl:call-template name=&quot;formal.object.heading&quot;/&gt;
+    &lt;/xsl:if&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;task/title&quot;&gt;
+  &lt;!-- nop --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;tasksummary&quot;&gt;
+  &lt;xsl:call-template name=&quot;semiformal.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;taskprerequisites&quot;&gt;
+  &lt;xsl:call-template name=&quot;semiformal.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;taskrelated&quot;&gt;
+  &lt;xsl:call-template name=&quot;semiformal.object&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.templates.xml
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.templates.xml	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.templates.xml	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,659 @@
+&lt;t:templates xmlns:t=&quot;<A HREF="http://nwalsh.com/docbook/xsl/template/1.0">http://nwalsh.com/docbook/xsl/template/1.0</A>&quot;
+	     xmlns:param=&quot;<A HREF="http://nwalsh.com/docbook/xsl/template/1.0/param">http://nwalsh.com/docbook/xsl/template/1.0/param</A>&quot;
+             xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;article&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;hr/&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;set&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;hr/&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;book&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;hr/&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;part&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;t:titlepage t:element=&quot;partintro&quot; t:wrapper=&quot;div&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;reference&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;hr/&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;refentry&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+&lt;!-- uncomment this if you want refentry titlepages
+    &lt;title t:force=&quot;1&quot;
+	   t:named-template=&quot;refentry.title&quot;
+	   param:node=&quot;ancestor-or-self::refentry[1]&quot;/&gt;
+--&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator/&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+  &lt;t:titlepage t:element=&quot;dedication&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+    &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title
+	   t:force=&quot;1&quot;
+	   t:named-template=&quot;component.title&quot;
+	   param:node=&quot;ancestor-or-self::dedication[1]&quot;/&gt;
+    &lt;subtitle/&gt;
+    &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;preface&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;chapter&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;appendix&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;section&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;t:titlepage t:element=&quot;sect1&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;t:titlepage t:element=&quot;sect2&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;t:titlepage t:element=&quot;sect3&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;t:titlepage t:element=&quot;sect4&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;t:titlepage t:element=&quot;sect5&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;t:titlepage t:element=&quot;simplesect&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title/&gt;
+    &lt;subtitle/&gt;
+    &lt;corpauthor/&gt;
+    &lt;authorgroup/&gt;
+    &lt;author/&gt;
+    &lt;othercredit/&gt;
+    &lt;releaseinfo/&gt;
+    &lt;copyright/&gt;
+    &lt;legalnotice/&gt;
+    &lt;pubdate/&gt;
+    &lt;revision/&gt;
+    &lt;revhistory/&gt;
+    &lt;abstract/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+    &lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;bibliography&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title
+	   t:force=&quot;1&quot;
+	   t:named-template=&quot;component.title&quot;
+	   param:node=&quot;ancestor-or-self::bibliography[1]&quot;/&gt;
+    &lt;subtitle/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;glossary&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title
+	   t:force=&quot;1&quot;
+	   t:named-template=&quot;component.title&quot;
+	   param:node=&quot;ancestor-or-self::glossary[1]&quot;/&gt;
+    &lt;subtitle/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;index&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title
+	   t:force=&quot;1&quot;
+	   t:named-template=&quot;component.title&quot;
+	   param:node=&quot;ancestor-or-self::index[1]&quot;/&gt;
+    &lt;subtitle/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;t:titlepage t:element=&quot;setindex&quot; t:wrapper=&quot;div&quot; class=&quot;titlepage&quot;&gt;
+  &lt;t:titlepage-content t:side=&quot;recto&quot;&gt;
+    &lt;title
+	   t:force=&quot;1&quot;
+	   t:named-template=&quot;component.title&quot;
+	   param:node=&quot;ancestor-or-self::setindex[1]&quot;/&gt;
+    &lt;subtitle/&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-content t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-content&gt;
+
+  &lt;t:titlepage-separator&gt;
+  &lt;/t:titlepage-separator&gt;
+
+  &lt;t:titlepage-before t:side=&quot;recto&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+
+  &lt;t:titlepage-before t:side=&quot;verso&quot;&gt;
+  &lt;/t:titlepage-before&gt;
+&lt;/t:titlepage&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/t:templates&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.templates.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.templates.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.templates.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,3284 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; version=&quot;1.0&quot;&gt;
+
+&lt;!-- This stylesheet was created by template/titlepage.xsl; do not edit it by hand. --&gt;
+
+&lt;xsl:template name=&quot;article.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;articleinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;artheader/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;articleinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;artheader/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;articleinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;artheader/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;article.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;article.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;article.titlepage.separator&quot;&gt;&lt;hr/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;article.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;article.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;article.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;article.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;article.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;article.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;article.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;article.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;article.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;article.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;article.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;article.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;article.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;set.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;setinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;setinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;setinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;set.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;set.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;set.titlepage.separator&quot;&gt;&lt;hr/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;set.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;set.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;set.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;set.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;set.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;set.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;set.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;set.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;set.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;set.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;set.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;set.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;set.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;book.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;bookinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;bookinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;bookinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;book.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;book.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;book.titlepage.separator&quot;&gt;&lt;hr/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;book.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;book.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;book.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;book.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;book.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;book.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;book.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;book.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;book.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;book.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;book.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;book.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;book.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;part.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;partinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;partinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;partinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;docinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;part.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;part.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;part.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;part.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;part.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;part.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;part.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;part.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;part.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;part.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;part.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;part.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;part.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;part.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;part.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;part.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;partintro.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;partintroinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;partintroinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;partintroinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;docinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;partintro.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;partintro.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;partintro.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;partintro.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;partintro.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;partintro.titlepage&quot;&gt;
+  &lt;div&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;partintro.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;partintro.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;partintro.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;partintro.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;partintro.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;partintro.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;partintro.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;partintro.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;partintro.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;partintro.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;reference.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;referenceinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;referenceinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;referenceinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;docinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;reference.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;reference.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;reference.titlepage.separator&quot;&gt;&lt;hr/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;reference.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;reference.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;reference.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;reference.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;reference.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;reference.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;reference.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;reference.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;reference.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;reference.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;reference.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;reference.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;reference.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;refentry.titlepage.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;refentry.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;refentry.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;refentry.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;refentry.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;refentry.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;refentry.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;refentry.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;refentry.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;refentry.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;refentry.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;refentry.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;refentry.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dedication.titlepage.recto&quot;&gt;
+  &lt;div xsl:use-attribute-sets=&quot;dedication.titlepage.recto.style&quot;&gt;
+&lt;xsl:call-template name=&quot;component.title&quot;&gt;
+&lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor-or-self::dedication[1]&quot;/&gt;
+&lt;/xsl:call-template&gt;&lt;/div&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;dedicationinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;dedication.titlepage.recto.auto.mode&quot; select=&quot;dedicationinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;dedication.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;dedication.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;dedication.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dedication.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dedication.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dedication.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dedication.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;dedication.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;dedication.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;dedication.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;dedication.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;dedication.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;dedication.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;dedication.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;dedication.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;dedication.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;dedication.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;dedication.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;preface.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;prefaceinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;prefaceinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;prefaceinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;docinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;preface.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;preface.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;preface.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;preface.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;preface.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;preface.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;preface.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;preface.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;preface.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;preface.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;preface.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;preface.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;preface.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;preface.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;preface.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;preface.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chapter.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;chapterinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;chapterinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;chapterinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;docinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;chapter.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chapter.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chapter.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chapter.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chapter.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;chapter.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;chapter.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;chapter.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;chapter.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;chapter.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;chapter.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;chapter.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;chapter.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;chapter.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;chapter.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;chapter.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;appendix.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;appendixinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;appendixinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;appendixinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;docinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;appendix.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;appendix.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;appendix.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;appendix.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;appendix.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;appendix.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;appendix.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;appendix.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;appendix.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;appendix.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;appendix.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;appendix.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;appendix.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;appendix.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;appendix.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;appendix.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sectioninfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sectioninfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;sectioninfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;section.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.titlepage.separator&quot;&gt;&lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;section.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;section.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;section.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;section.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;section.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;section.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;section.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;section.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;section.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;section.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;section.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect1.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect1info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect1info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;sect1info/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect1.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect1.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect1.titlepage.separator&quot;&gt;&lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect1.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect1.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect1.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect1.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect1.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect1.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect1.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;sect1.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect1.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect1.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;sect1.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect1.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect1.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect2.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect2info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect2info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;sect2info/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect2.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect2.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect2.titlepage.separator&quot;&gt;&lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect2.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect2.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect2.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect2.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect2.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect2.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect2.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;sect2.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect2.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect2.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;sect2.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect2.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect2.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect3.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect3info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect3info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;sect3info/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect3.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect3.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect3.titlepage.separator&quot;&gt;&lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect3.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect3.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect3.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect3.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect3.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect3.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect3.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;sect3.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect3.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect3.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;sect3.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect3.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect3.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect4.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect4info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect4info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;sect4info/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect4.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect4.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect4.titlepage.separator&quot;&gt;&lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect4.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect4.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect4.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect4.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect4.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect4.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect4.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;sect4.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect4.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect4.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;sect4.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect4.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect4.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect5.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect5info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;sect5info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;sect5info/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;sect5.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect5.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect5.titlepage.separator&quot;&gt;&lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect5.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect5.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;sect5.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect5.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect5.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;sect5.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;sect5.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;sect5.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect5.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;sect5.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;sect5.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;sect5.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;sect5.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplesect.titlepage.recto&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;simplesectinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/title&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;title&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;title&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;simplesectinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/corpauthor&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/authorgroup&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/author&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/othercredit&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/releaseinfo&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/copyright&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/legalnotice&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/pubdate&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/revision&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/revhistory&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;simplesectinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;docinfo/abstract&quot;/&gt;
+  &lt;xsl:apply-templates mode=&quot;simplesect.titlepage.recto.auto.mode&quot; select=&quot;info/abstract&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplesect.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplesect.titlepage.separator&quot;&gt;&lt;xsl:if test=&quot;count(parent::*)='0'&quot;&gt;&lt;hr/&gt;&lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplesect.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplesect.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;simplesect.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;simplesect.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;simplesect.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;simplesect.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;simplesect.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;simplesect.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;simplesect.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;simplesect.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;simplesect.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;simplesect.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;bibliography.titlepage.recto&quot;&gt;
+  &lt;div xsl:use-attribute-sets=&quot;bibliography.titlepage.recto.style&quot;&gt;
+&lt;xsl:call-template name=&quot;component.title&quot;&gt;
+&lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor-or-self::bibliography[1]&quot;/&gt;
+&lt;/xsl:call-template&gt;&lt;/div&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;bibliographyinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;bibliography.titlepage.recto.auto.mode&quot; select=&quot;bibliographyinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;bibliography.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;bibliography.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;bibliography.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;bibliography.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;bibliography.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;bibliography.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;bibliography.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;bibliography.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;bibliography.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;bibliography.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;bibliography.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;bibliography.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;bibliography.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;bibliography.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;bibliography.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;bibliography.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;bibliography.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;bibliography.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;glossary.titlepage.recto&quot;&gt;
+  &lt;div xsl:use-attribute-sets=&quot;glossary.titlepage.recto.style&quot;&gt;
+&lt;xsl:call-template name=&quot;component.title&quot;&gt;
+&lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor-or-self::glossary[1]&quot;/&gt;
+&lt;/xsl:call-template&gt;&lt;/div&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;glossaryinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;glossary.titlepage.recto.auto.mode&quot; select=&quot;glossaryinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;glossary.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;glossary.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;glossary.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;glossary.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;glossary.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;glossary.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;glossary.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;glossary.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;glossary.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;glossary.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;glossary.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;glossary.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;glossary.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;glossary.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;glossary.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;glossary.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;glossary.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;glossary.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;index.titlepage.recto&quot;&gt;
+  &lt;div xsl:use-attribute-sets=&quot;index.titlepage.recto.style&quot;&gt;
+&lt;xsl:call-template name=&quot;component.title&quot;&gt;
+&lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor-or-self::index[1]&quot;/&gt;
+&lt;/xsl:call-template&gt;&lt;/div&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;indexinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;index.titlepage.recto.auto.mode&quot; select=&quot;indexinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;index.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;index.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;index.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;index.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;index.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;index.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;index.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;index.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;index.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;index.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;index.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;index.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;index.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;index.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;index.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;index.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;index.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;index.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;setindex.titlepage.recto&quot;&gt;
+  &lt;div xsl:use-attribute-sets=&quot;setindex.titlepage.recto.style&quot;&gt;
+&lt;xsl:call-template name=&quot;component.title&quot;&gt;
+&lt;xsl:with-param name=&quot;node&quot; select=&quot;ancestor-or-self::setindex[1]&quot;/&gt;
+&lt;/xsl:call-template&gt;&lt;/div&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;setindexinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;setindex.titlepage.recto.auto.mode&quot; select=&quot;setindexinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;docinfo/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;setindex.titlepage.recto.auto.mode&quot; select=&quot;docinfo/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;info/subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;setindex.titlepage.recto.auto.mode&quot; select=&quot;info/subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;subtitle&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;setindex.titlepage.recto.auto.mode&quot; select=&quot;subtitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;setindex.titlepage.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;setindex.titlepage.separator&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;setindex.titlepage.before.recto&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;setindex.titlepage.before.verso&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;setindex.titlepage&quot;&gt;
+  &lt;div class=&quot;titlepage&quot;&gt;
+    &lt;xsl:variable name=&quot;recto.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;setindex.titlepage.before.recto&quot;/&gt;
+      &lt;xsl:call-template name=&quot;setindex.titlepage.recto&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($recto.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$recto.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:variable name=&quot;verso.content&quot;&gt;
+      &lt;xsl:call-template name=&quot;setindex.titlepage.before.verso&quot;/&gt;
+      &lt;xsl:call-template name=&quot;setindex.titlepage.verso&quot;/&gt;
+    &lt;/xsl:variable&gt;
+    &lt;xsl:if test=&quot;normalize-space($verso.content) != ''&quot;&gt;
+      &lt;div&gt;&lt;xsl:copy-of select=&quot;$verso.content&quot;/&gt;&lt;/div&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:call-template name=&quot;setindex.titlepage.separator&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;setindex.titlepage.recto.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;setindex.titlepage.verso.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, --&gt;
+  &lt;!-- try the generic titlepage.mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;setindex.titlepage.recto.auto.mode&quot;&gt;
+&lt;div xsl:use-attribute-sets=&quot;setindex.titlepage.recto.style&quot;&gt;
+&lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;setindex.titlepage.recto.mode&quot;/&gt;
+&lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;
\ No newline at end of file

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/titlepage.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,807 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: titlepage.xsl,v 1.30 2004/08/13 07:35:36 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:attribute-set name=&quot;book.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;book.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;article.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;article.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;set.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;set.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;part.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;part.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;partintro.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;partintro.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;reference.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;reference.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;refentry.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;refentry.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;dedication.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;dedication.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;preface.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;preface.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;chapter.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;chapter.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;appendix.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;appendix.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;bibliography.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;bibliography.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;glossary.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;glossary.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;index.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;index.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;setindex.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;setindex.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;section.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;section.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;sect1.titlepage.recto.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;sect1.titlepage.verso.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;sect2.titlepage.recto.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;sect2.titlepage.verso.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;sect3.titlepage.recto.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;sect3.titlepage.verso.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;sect4.titlepage.recto.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;sect4.titlepage.verso.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;sect5.titlepage.recto.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;sect5.titlepage.verso.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;simplesect.titlepage.recto.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;simplesect.titlepage.verso.style&quot;
+                   use-attribute-sets=&quot;section.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;table.of.contents.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;table.of.contents.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;list.of.tables.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;list.of.tables.contents.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;list.of.figures.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;list.of.figures.contents.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;list.of.equations.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;list.of.equations.contents.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;list.of.examples.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;list.of.examples.contents.titlepage.verso.style&quot;/&gt;
+
+&lt;xsl:attribute-set name=&quot;list.of.unknowns.titlepage.recto.style&quot;/&gt;
+&lt;xsl:attribute-set name=&quot;list.of.unknowns.contents.titlepage.verso.style&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;!-- if an element isn't found in this mode, try the default mode --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abbrev&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+    &lt;xsl:call-template name=&quot;formal.object.heading&quot;&gt;
+      &lt;xsl:with-param name=&quot;title&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;title.markup&quot;/&gt;
+      &lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract/title&quot; mode=&quot;titlepage.mode&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;address&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:param name=&quot;suppress-numbers&quot; select=&quot;'0'&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;rtf&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$suppress-numbers = '0'
+                    and @linenumbering = 'numbered'
+                    and $use.extensions != '0'
+                    and $linenumbering.extension != '0'&quot;&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+          &lt;xsl:with-param name=&quot;content&quot;&gt;
+            &lt;xsl:call-template name=&quot;number.rtf.lines&quot;&gt;
+              &lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+          &lt;xsl:with-param name=&quot;content&quot;&gt;
+            &lt;xsl:call-template name=&quot;make-verbatim&quot;&gt;
+              &lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;affiliation&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;artpagenums&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;h3 class=&quot;{name(.)}&quot;&gt;&lt;xsl:call-template name=&quot;person.name&quot;/&gt;&lt;/h3&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot; select=&quot;./contrib&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot; select=&quot;./affiliation&quot;/&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot; select=&quot;./email&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorblurb|personblurb&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorinitials&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliomisc&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliomset&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;collab&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;collabname&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confgroup&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confdates&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confsponsor&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;conftitle&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;confnum&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;!-- suppress --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contractnum&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contractsponsor&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;contrib&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;copyright&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;p class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+      &lt;xsl:with-param name=&quot;key&quot; select=&quot;'Copyright'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+    &lt;xsl:call-template name=&quot;dingbat&quot;&gt;
+      &lt;xsl:with-param name=&quot;dingbat&quot;&gt;copyright&lt;/xsl:with-param&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+    &lt;xsl:call-template name=&quot;copyright.years&quot;&gt;
+      &lt;xsl:with-param name=&quot;years&quot; select=&quot;year&quot;/&gt;
+      &lt;xsl:with-param name=&quot;print.ranges&quot; select=&quot;$make.year.ranges&quot;/&gt;
+      &lt;xsl:with-param name=&quot;single.year.ranges&quot;
+                      select=&quot;$make.single.year.ranges&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+    &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+    &lt;xsl:apply-templates select=&quot;holder&quot; mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;year&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$show.revisionflag != 0 and @revisionflag&quot;&gt;
+      &lt;span class=&quot;{@revisionflag}&quot;&gt;
+        &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+      &lt;/span&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;holder&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$show.revisionflag != 0 and @revisionflag&quot;&gt;
+      &lt;span class=&quot;{@revisionflag}&quot;&gt;
+        &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+      &lt;/span&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+  &lt;xsl:if test=&quot;position() &lt; last()&quot;&gt;
+    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpauthor&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;h3 class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/h3&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpcredit&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;corpname&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;date&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;edition&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;p class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+    &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+      &lt;xsl:with-param name=&quot;key&quot; select=&quot;'Edition'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;editor&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;h3 class=&quot;{name(.)}&quot;&gt;&lt;xsl:call-template name=&quot;person.name&quot;/&gt;&lt;/h3&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;editor[position()=1]&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;h4 class=&quot;editedby&quot;&gt;&lt;xsl:call-template name=&quot;gentext.edited.by&quot;/&gt;&lt;/h4&gt;
+  &lt;h3 class=&quot;{name(.)}&quot;&gt;&lt;xsl:call-template name=&quot;person.name&quot;/&gt;&lt;/h3&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;email&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;!-- use the normal e-mail handling code --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;firstname&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;graphic&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;!-- use the normal graphic handling code --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;honorific&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;isbn&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;issn&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;biblioid&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;itermset&quot; mode=&quot;titlepage.mode&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;invpartnumber&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;issuenum&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;jobtitle&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;keywordset&quot; mode=&quot;titlepage.mode&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;id&quot;&gt;&lt;xsl:call-template name=&quot;object.id&quot;/&gt;&lt;/xsl:variable&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$generate.legalnotice.link != 0&quot;&gt;
+      &lt;xsl:variable name=&quot;filename&quot;&gt;
+        &lt;xsl:call-template name=&quot;make-relative-filename&quot;&gt;
+          &lt;xsl:with-param name=&quot;base.dir&quot; select=&quot;$base.dir&quot;/&gt;
+          &lt;xsl:with-param name=&quot;base.name&quot; select=&quot;concat('ln-',$id,$html.ext)&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;title&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;title.markup&quot;/&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;a href=&quot;{concat('ln-',$id,$html.ext)}&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+      &lt;/a&gt;
+
+      &lt;xsl:call-template name=&quot;write.chunk&quot;&gt;
+        &lt;xsl:with-param name=&quot;filename&quot; select=&quot;$filename&quot;/&gt;
+        &lt;xsl:with-param name=&quot;quiet&quot; select=&quot;$chunk.quietly&quot;/&gt;
+        &lt;xsl:with-param name=&quot;content&quot;&gt;
+        &lt;xsl:call-template name=&quot;user.preroot&quot;/&gt;
+          &lt;html&gt;
+            &lt;head&gt;
+              &lt;xsl:call-template name=&quot;system.head.content&quot;/&gt;
+              &lt;xsl:call-template name=&quot;head.content&quot;/&gt;
+              &lt;xsl:call-template name=&quot;user.head.content&quot;/&gt;
+            &lt;/head&gt;
+            &lt;body&gt;
+              &lt;xsl:call-template name=&quot;body.attributes&quot;/&gt;
+              &lt;div class=&quot;{local-name(.)}&quot;&gt;
+                &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+              &lt;/div&gt;
+            &lt;/body&gt;
+          &lt;/html&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;div class=&quot;{local-name(.)}&quot;&gt;
+        &lt;a name=&quot;{$id}&quot;/&gt;
+        &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;legalnotice/title&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;p class=&quot;legalnotice-title&quot;&gt;&lt;b&gt;&lt;xsl:apply-templates/&gt;&lt;/b&gt;&lt;/p&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;lineage&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;modespec&quot; mode=&quot;titlepage.mode&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orgdiv&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;orgname&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;contrib&quot; select=&quot;string(contrib)&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contrib&quot;&gt;
+      &lt;xsl:if test=&quot;not(preceding-sibling::othercredit[string(contrib)=$contrib])&quot;&gt;
+        &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+          &lt;xsl:with-param name=&quot;class&quot; select=&quot;name(.)&quot;/&gt;
+          &lt;xsl:with-param name=&quot;content&quot;&gt;
+            &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot; select=&quot;contrib&quot;/&gt;
+            &lt;xsl:text&gt;: &lt;/xsl:text&gt;
+            &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+            &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot; select=&quot;./affiliation&quot;/&gt;
+            &lt;xsl:apply-templates select=&quot;following-sibling::othercredit[string(contrib)=$contrib]&quot; mode=&quot;titlepage.othercredits&quot;/&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+        &lt;xsl:with-param name=&quot;class&quot; select=&quot;name(.)&quot;/&gt;
+        &lt;xsl:with-param name=&quot;content&quot;&gt;
+          &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+        &lt;/xsl:with-param&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot; select=&quot;./affiliation&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othercredit&quot; mode=&quot;titlepage.othercredits&quot;&gt;
+  &lt;xsl:text&gt;, &lt;/xsl:text&gt;
+  &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;othername&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pagenums&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;printhistory&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productname&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;productnumber&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubdate&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+    &lt;xsl:with-param name=&quot;class&quot; select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;publisher&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+    &lt;xsl:with-param name=&quot;class&quot; select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;publishername&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;pubsnumber&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;releaseinfo&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:call-template name=&quot;paragraph&quot;&gt;
+    &lt;xsl:with-param name=&quot;class&quot; select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:with-param name=&quot;content&quot;&gt;
+      &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;/xsl:with-param&gt;
+  &lt;/xsl:call-template&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;numcols&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;//authorinitials&quot;&gt;3&lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;2&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;div class=&quot;{name(.)}&quot;&gt;
+    &lt;table border=&quot;1&quot; width=&quot;100%&quot; summary=&quot;Revision history&quot;&gt;
+      &lt;tr&gt;
+        &lt;th align=&quot;left&quot; valign=&quot;top&quot; colspan=&quot;{$numcols}&quot;&gt;
+          &lt;b&gt;
+            &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+              &lt;xsl:with-param name=&quot;key&quot; select=&quot;'RevHistory'&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/b&gt;
+        &lt;/th&gt;
+      &lt;/tr&gt;
+      &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;&gt;
+        &lt;xsl:with-param name=&quot;numcols&quot; select=&quot;$numcols&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/table&gt;
+  &lt;/div&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revhistory/revision&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:param name=&quot;numcols&quot; select=&quot;'3'&quot;/&gt;
+  &lt;xsl:variable name=&quot;revnumber&quot; select=&quot;.//revnumber&quot;/&gt;
+  &lt;xsl:variable name=&quot;revdate&quot;   select=&quot;.//date&quot;/&gt;
+  &lt;xsl:variable name=&quot;revauthor&quot; select=&quot;.//authorinitials&quot;/&gt;
+  &lt;xsl:variable name=&quot;revremark&quot; select=&quot;.//revremark|.//revdescription&quot;/&gt;
+  &lt;tr&gt;
+    &lt;td align=&quot;left&quot;&gt;
+      &lt;xsl:if test=&quot;$revnumber&quot;&gt;
+        &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+          &lt;xsl:with-param name=&quot;key&quot; select=&quot;'Revision'&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+        &lt;xsl:call-template name=&quot;gentext.space&quot;/&gt;
+        &lt;xsl:apply-templates select=&quot;$revnumber[1]&quot; mode=&quot;titlepage.mode&quot;/&gt;
+      &lt;/xsl:if&gt;
+    &lt;/td&gt;
+    &lt;td align=&quot;left&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;$revdate[1]&quot; mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;/td&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$revauthor&quot;&gt;
+        &lt;td align=&quot;left&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;$revauthor[1]&quot; mode=&quot;titlepage.mode&quot;/&gt;
+        &lt;/td&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;$numcols &gt; 2&quot;&gt;
+        &lt;td&gt;&#160;&lt;/td&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/tr&gt;
+  &lt;xsl:if test=&quot;$revremark&quot;&gt;
+    &lt;tr&gt;
+      &lt;td align=&quot;left&quot; colspan=&quot;{$numcols}&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$revremark[1]&quot; mode=&quot;titlepage.mode&quot;/&gt;
+      &lt;/td&gt;
+    &lt;/tr&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/revnumber&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/date&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/authorinitials&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/revremark&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;revision/revdescription&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;seriesvolnums&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;shortaffil&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subjectset&quot; mode=&quot;titlepage.mode&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;subtitle&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;h2 class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+  &lt;/h2&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;surname&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;!-- if title is in an *info wrapper, get the grandparent --&gt;
+      &lt;xsl:when test=&quot;contains(local-name(..), 'info')&quot;&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;../..&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:call-template name=&quot;object.id&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;..&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;h1 class=&quot;{name(.)}&quot;&gt;
+    &lt;a name=&quot;{$id}&quot;/&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$show.revisionflag != 0 and @revisionflag&quot;&gt;
+	&lt;span class=&quot;{@revisionflag}&quot;&gt;
+	  &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+	&lt;/span&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+	&lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/h1&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;titleabbrev&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;!-- nop; title abbreviations don't belong on the title page! --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;volumenum&quot; mode=&quot;titlepage.mode&quot;&gt;
+  &lt;span class=&quot;{name(.)}&quot;&gt;
+    &lt;xsl:apply-templates mode=&quot;titlepage.mode&quot;/&gt;
+    &lt;br/&gt;
+  &lt;/span&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/toc.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/toc.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/toc.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,173 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: toc.xsl,v 1.5 2002/03/14 18:43:42 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;toc&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;*&quot;&gt;
+      &lt;xsl:if test=&quot;$process.source.toc != 0&quot;&gt;
+        &lt;!-- if the toc isn't empty, process it --&gt;
+        &lt;xsl:element name=&quot;{$toc.list.type}&quot;&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/xsl:element&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:if test=&quot;$process.empty.source.toc != 0&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;parent::section
+                          or parent::sect1
+                          or parent::sect2
+                          or parent::sect3
+                          or parent::sect4
+                          or parent::sect5&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;parent::*&quot;
+                                 mode=&quot;toc.for.section&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;parent::article&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;parent::*&quot;
+                                 mode=&quot;toc.for.component&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;parent::book
+                          or parent::part&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;parent::*&quot;
+                                 mode=&quot;toc.for.division&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;parent::set&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;parent::*&quot;
+                                 mode=&quot;toc.for.set&quot;/&gt;
+          &lt;/xsl:when&gt;
+          &lt;!-- there aren't any other contexts that allow toc --&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:message&gt;
+              &lt;xsl:text&gt;I don't know how to make a TOC in this context!&lt;/xsl:text&gt;
+            &lt;/xsl:message&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:if&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;tocpart|tocchap
+                     |toclevel1|toclevel2|toclevel3|toclevel4|toclevel5&quot;&gt;
+  &lt;xsl:variable name=&quot;sub-toc&quot;&gt;
+    &lt;xsl:if test=&quot;tocchap|toclevel1|toclevel2|toclevel3|toclevel4|toclevel5&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$toc.list.type = 'dl'&quot;&gt;
+          &lt;dd&gt;
+            &lt;xsl:element name=&quot;{$toc.list.type}&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;tocchap|toclevel1|toclevel2|toclevel3|toclevel4|toclevel5&quot;/&gt;
+            &lt;/xsl:element&gt;
+          &lt;/dd&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:element name=&quot;{$toc.list.type}&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;tocchap|toclevel1|toclevel2|toclevel3|toclevel4|toclevel5&quot;/&gt;
+          &lt;/xsl:element&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:apply-templates select=&quot;tocentry[position() != last()]&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$toc.list.type = 'dl'&quot;&gt;
+      &lt;dt&gt;
+        &lt;xsl:apply-templates select=&quot;tocentry[position() = last()]&quot;/&gt;
+      &lt;/dt&gt;
+      &lt;xsl:copy-of select=&quot;$sub-toc&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;li&gt;
+        &lt;xsl:apply-templates select=&quot;tocentry[position() = last()]&quot;/&gt;
+        &lt;xsl:copy-of select=&quot;$sub-toc&quot;/&gt;
+      &lt;/li&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;tocentry|tocfront|tocback&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$toc.list.type = 'dl'&quot;&gt;
+      &lt;dt&gt;
+        &lt;xsl:call-template name=&quot;tocentry-content&quot;/&gt;
+      &lt;/dt&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;li&gt;
+        &lt;xsl:call-template name=&quot;tocentry-content&quot;/&gt;
+      &lt;/li&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;tocentry[position() = last()]&quot; priority=&quot;2&quot;&gt;
+  &lt;xsl:call-template name=&quot;tocentry-content&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;tocentry-content&quot;&gt;
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;@linkend&quot;&gt;
+      &lt;xsl:call-template name=&quot;check.id.unique&quot;&gt;
+        &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;@linkend&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/a&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;toc.for.section&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.toc&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;toc.for.component&quot;&gt;
+  &lt;xsl:call-template name=&quot;component.toc&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;toc.for.section&quot;&gt;
+  &lt;xsl:call-template name=&quot;section.toc&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;toc.for.division&quot;&gt;
+  &lt;xsl:call-template name=&quot;division.toc&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;toc.for.set&quot;&gt;
+  &lt;xsl:call-template name=&quot;set.toc&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;lot|lotentry&quot;&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/verbatim.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/verbatim.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/verbatim.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,371 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:sverb=&quot;<A HREF="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Verbatim">http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Verbatim</A>&quot;
+                xmlns:xverb=&quot;com.nwalsh.xalan.Verbatim&quot;
+                xmlns:lxslt=&quot;<A HREF="http://xml.apache.org/xslt">http://xml.apache.org/xslt</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+                exclude-result-prefixes=&quot;sverb xverb lxslt exsl&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: verbatim.xsl,v 1.13 2004/10/29 13:28:33 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;lxslt:component prefix=&quot;xverb&quot;
+                 functions=&quot;numberLines&quot;/&gt;
+
+&lt;xsl:template match=&quot;programlisting|screen|synopsis&quot;&gt;
+  &lt;xsl:param name=&quot;suppress-numbers&quot; select=&quot;'0'&quot;/&gt;
+  &lt;xsl:variable name=&quot;id&quot;&gt;
+    &lt;xsl:call-template name=&quot;object.id&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$shade.verbatim != 0&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;The shade.verbatim parameter is deprecated. &lt;/xsl:text&gt;
+      &lt;xsl:text&gt;Use CSS instead,&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;for example: pre.&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;local-name(.)&quot;/&gt;
+      &lt;xsl:text&gt; { background-color: #E0E0E0; }&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$suppress-numbers = '0'
+		    and @linenumbering = 'numbered'
+		    and $use.extensions != '0'
+		    and $linenumbering.extension != '0'&quot;&gt;
+      &lt;xsl:variable name=&quot;rtf&quot;&gt;
+	&lt;xsl:apply-templates/&gt;
+      &lt;/xsl:variable&gt;
+      &lt;pre class=&quot;{name(.)}&quot;&gt;
+	&lt;xsl:call-template name=&quot;number.rtf.lines&quot;&gt;
+	  &lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf&quot;/&gt;
+	&lt;/xsl:call-template&gt;
+      &lt;/pre&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;pre class=&quot;{name(.)}&quot;&gt;
+	&lt;xsl:apply-templates/&gt;
+      &lt;/pre&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;literallayout&quot;&gt;
+  &lt;xsl:param name=&quot;suppress-numbers&quot; select=&quot;'0'&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;rtf&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:if test=&quot;$shade.verbatim != 0 and @class='monospaced'&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;The shade.verbatim parameter is deprecated. &lt;/xsl:text&gt;
+      &lt;xsl:text&gt;Use CSS instead,&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;for example: pre.&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;local-name(.)&quot;/&gt;
+      &lt;xsl:text&gt; { background-color: #E0E0E0; }&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$suppress-numbers = '0'
+		    and @linenumbering = 'numbered'
+		    and $use.extensions != '0'
+		    and $linenumbering.extension != '0'&quot;&gt;
+      &lt;xsl:choose&gt;
+	&lt;xsl:when test=&quot;@class='monospaced'&quot;&gt;
+	  &lt;pre class=&quot;{name(.)}&quot;&gt;
+	    &lt;xsl:call-template name=&quot;number.rtf.lines&quot;&gt;
+	      &lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf&quot;/&gt;
+	    &lt;/xsl:call-template&gt;
+	  &lt;/pre&gt;
+	&lt;/xsl:when&gt;
+	&lt;xsl:otherwise&gt;
+	  &lt;div class=&quot;{name(.)}&quot;&gt;
+	    &lt;p&gt;
+	      &lt;xsl:call-template name=&quot;number.rtf.lines&quot;&gt;
+		&lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf&quot;/&gt;
+	      &lt;/xsl:call-template&gt;
+	    &lt;/p&gt;
+	  &lt;/div&gt;
+	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+	&lt;xsl:when test=&quot;@class='monospaced'&quot;&gt;
+	  &lt;pre class=&quot;{name(.)}&quot;&gt;
+	    &lt;xsl:copy-of select=&quot;$rtf&quot;/&gt;
+	  &lt;/pre&gt;
+	&lt;/xsl:when&gt;
+	&lt;xsl:otherwise&gt;
+	  &lt;div class=&quot;{name(.)}&quot;&gt;
+	    &lt;p&gt;
+	      &lt;xsl:call-template name=&quot;make-verbatim&quot;&gt;
+		&lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf&quot;/&gt;
+	      &lt;/xsl:call-template&gt;
+	    &lt;/p&gt;
+	  &lt;/div&gt;
+	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;address&quot;&gt;
+  &lt;xsl:param name=&quot;suppress-numbers&quot; select=&quot;'0'&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;rtf&quot;&gt;
+    &lt;xsl:apply-templates/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$suppress-numbers = '0'
+                    and @linenumbering = 'numbered'
+                    and $use.extensions != '0'
+                    and $linenumbering.extension != '0'&quot;&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;p&gt;
+          &lt;xsl:call-template name=&quot;number.rtf.lines&quot;&gt;
+            &lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/p&gt;
+      &lt;/div&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;div class=&quot;{name(.)}&quot;&gt;
+        &lt;p&gt;
+          &lt;xsl:call-template name=&quot;make-verbatim&quot;&gt;
+            &lt;xsl:with-param name=&quot;rtf&quot; select=&quot;$rtf&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/p&gt;
+      &lt;/div&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;number.rtf.lines&quot;&gt;
+  &lt;xsl:param name=&quot;rtf&quot; select=&quot;''&quot;/&gt;
+  &lt;xsl:param name=&quot;pi.context&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- Save the global values --&gt;
+  &lt;xsl:variable name=&quot;global.linenumbering.everyNth&quot;
+                select=&quot;$linenumbering.everyNth&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;global.linenumbering.separator&quot;
+                select=&quot;$linenumbering.separator&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;global.linenumbering.width&quot;
+                select=&quot;$linenumbering.width&quot;/&gt;
+
+  &lt;!-- Extract the &lt;?dbhtml linenumbering.*?&gt; PI values --&gt;
+  &lt;xsl:variable name=&quot;pi.linenumbering.everyNth&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;$pi.context/processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'linenumbering.everyNth'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;pi.linenumbering.separator&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;$pi.context/processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'linenumbering.separator'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;pi.linenumbering.width&quot;&gt;
+    &lt;xsl:call-template name=&quot;dbhtml-attribute&quot;&gt;
+      &lt;xsl:with-param name=&quot;pis&quot;
+                      select=&quot;$pi.context/processing-instruction('dbhtml')&quot;/&gt;
+      &lt;xsl:with-param name=&quot;attribute&quot; select=&quot;'linenumbering.width'&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;!-- Construct the 'in-context' values --&gt;
+  &lt;xsl:variable name=&quot;linenumbering.everyNth&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$pi.linenumbering.everyNth != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$pi.linenumbering.everyNth&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$global.linenumbering.everyNth&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;linenumbering.separator&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$pi.linenumbering.separator != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$pi.linenumbering.separator&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$global.linenumbering.separator&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;linenumbering.width&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$pi.linenumbering.width != ''&quot;&gt;
+        &lt;xsl:value-of select=&quot;$pi.linenumbering.width&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$global.linenumbering.width&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;linenumbering.startinglinenumber&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;@startinglinenumber&quot;&gt;
+        &lt;xsl:value-of select=&quot;@startinglinenumber&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:when test=&quot;@continuation='continues'&quot;&gt;
+        &lt;xsl:variable name=&quot;lastLine&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;self::programlisting&quot;&gt;
+              &lt;xsl:call-template name=&quot;lastLineNumber&quot;&gt;
+                &lt;xsl:with-param name=&quot;listings&quot;
+                     select=&quot;preceding::programlisting[@linenumbering='numbered']&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;self::screen&quot;&gt;
+              &lt;xsl:call-template name=&quot;lastLineNumber&quot;&gt;
+                &lt;xsl:with-param name=&quot;listings&quot;
+                     select=&quot;preceding::screen[@linenumbering='numbered']&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;self::literallayout&quot;&gt;
+              &lt;xsl:call-template name=&quot;lastLineNumber&quot;&gt;
+                &lt;xsl:with-param name=&quot;listings&quot;
+                     select=&quot;preceding::literallayout[@linenumbering='numbered']&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;self::address&quot;&gt;
+              &lt;xsl:call-template name=&quot;lastLineNumber&quot;&gt;
+                &lt;xsl:with-param name=&quot;listings&quot;
+                     select=&quot;preceding::address[@linenumbering='numbered']&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;self::synopsis&quot;&gt;
+              &lt;xsl:call-template name=&quot;lastLineNumber&quot;&gt;
+                &lt;xsl:with-param name=&quot;listings&quot;
+                     select=&quot;preceding::synopsis[@linenumbering='numbered']&quot;/&gt;
+              &lt;/xsl:call-template&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:message&gt;
+                &lt;xsl:text&gt;Unexpected verbatim environment: &lt;/xsl:text&gt;
+                &lt;xsl:value-of select=&quot;local-name(.)&quot;/&gt;
+              &lt;/xsl:message&gt;
+              &lt;xsl:value-of select=&quot;0&quot;/&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:variable&gt;
+
+        &lt;xsl:value-of select=&quot;$lastLine + 1&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;1&lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('sverb:numberLines')&quot;&gt;
+      &lt;xsl:copy-of select=&quot;sverb:numberLines($rtf)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;function-available('xverb:numberLines')&quot;&gt;
+      &lt;xsl:copy-of select=&quot;xverb:numberLines($rtf)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+        &lt;xsl:text&gt;No numberLines function available.&lt;/xsl:text&gt;
+      &lt;/xsl:message&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;make-verbatim&quot;&gt;
+  &lt;xsl:param name=&quot;rtf&quot;/&gt;
+
+  &lt;!-- I want to make this RTF verbatim. There are two possibilities: either
+       I have access to the exsl:node-set extension function and I can &quot;do it right&quot;
+       or I have to rely on CSS. --&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('exsl:node-set')&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;exsl:node-set($rtf)&quot; mode=&quot;make.verbatim.mode&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;span style=&quot;white-space: pre;&quot;&gt;
+        &lt;xsl:copy-of select=&quot;$rtf&quot;/&gt;
+      &lt;/span&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ======================================================================== --&gt;
+
+&lt;xsl:template name=&quot;lastLineNumber&quot;&gt;
+  &lt;xsl:param name=&quot;listings&quot;/&gt;
+  &lt;xsl:param name=&quot;number&quot; select=&quot;0&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;lines&quot;&gt;
+    &lt;xsl:call-template name=&quot;countLines&quot;&gt;
+      &lt;xsl:with-param name=&quot;listing&quot; select=&quot;string($listings[1])&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;not($listings)&quot;&gt;
+      &lt;xsl:value-of select=&quot;$number&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$listings[1]/@startinglinenumber&quot;&gt;
+      &lt;xsl:value-of select=&quot;$number + $listings[1]/@startinglinenumber + $lines - 1&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$listings[1]/@continuation='continues'&quot;&gt;
+      &lt;xsl:call-template name=&quot;lastLineNumber&quot;&gt;
+        &lt;xsl:with-param name=&quot;listings&quot; select=&quot;listings[position() &gt; 1]&quot;/&gt;
+        &lt;xsl:with-param name=&quot;number&quot; select=&quot;$number + $lines&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:value-of select=&quot;$lines&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;countLines&quot;&gt;
+  &lt;xsl:param name=&quot;listing&quot;/&gt;
+  &lt;xsl:param name=&quot;count&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains($listing, '&#10;')&quot;&gt;
+      &lt;xsl:call-template name=&quot;countLines&quot;&gt;
+        &lt;xsl:with-param name=&quot;listing&quot; select=&quot;substring-after($listing, '&#10;')&quot;/&gt;
+        &lt;xsl:with-param name=&quot;count&quot; select=&quot;$count + 1&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:value-of select=&quot;$count&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/xref.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/xref.xsl	2010-02-22 23:07:51 UTC (rev 2483)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/xref.xsl	2010-02-22 23:17:28 UTC (rev 2484)
@@ -0,0 +1,1201 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+                xmlns:suwl=&quot;<A HREF="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.UnwrapLinks">http://nwalsh.com/xslt/ext/com.nwalsh.saxon.UnwrapLinks</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+                exclude-result-prefixes=&quot;suwl exsl&quot;
+                version='1.0'&gt;
+
+&lt;!-- ********************************************************************
+     $Id: xref.xsl,v 1.54 2004/12/26 23:24:51 bobstayton Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;anchor&quot;&gt;
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;xref&quot; name=&quot;xref&quot;&gt;
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+  &lt;xsl:variable name=&quot;refelem&quot; select=&quot;local-name($target)&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;check.id.unique&quot;&gt;
+    &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;@linkend&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;count($target) = 0&quot;&gt;
+      &lt;xsl:message&gt;
+        &lt;xsl:text&gt;XRef to nonexistent id: &lt;/xsl:text&gt;
+        &lt;xsl:value-of select=&quot;@linkend&quot;/&gt;
+      &lt;/xsl:message&gt;
+      &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;@endterm&quot;&gt;
+      &lt;xsl:variable name=&quot;href&quot;&gt;
+        &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;etargets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at endterm</A>)&quot;/&gt;
+      &lt;xsl:variable name=&quot;etarget&quot; select=&quot;$etargets[1]&quot;/&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;count($etarget) = 0&quot;&gt;
+          &lt;xsl:message&gt;
+            &lt;xsl:value-of select=&quot;count($etargets)&quot;/&gt;
+            &lt;xsl:text&gt;Endterm points to nonexistent ID: &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;@endterm&quot;/&gt;
+          &lt;/xsl:message&gt;
+          &lt;a href=&quot;{$href}&quot;&gt;
+            &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+          &lt;/a&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;a href=&quot;{$href}&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;$etarget&quot; mode=&quot;endterm&quot;/&gt;
+          &lt;/a&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:when test=&quot;$target/@xreflabel&quot;&gt;
+      &lt;a&gt;
+        &lt;xsl:attribute name=&quot;href&quot;&gt;
+          &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+            &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+          &lt;/xsl:call-template&gt;
+        &lt;/xsl:attribute&gt;
+        &lt;xsl:call-template name=&quot;xref.xreflabel&quot;&gt;
+          &lt;xsl:with-param name=&quot;target&quot; select=&quot;$target&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/a&gt;
+    &lt;/xsl:when&gt;
+
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;href&quot;&gt;
+        &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+          &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;xref-to-prefix&quot;/&gt;
+
+      &lt;a href=&quot;{$href}&quot;&gt;
+        &lt;xsl:if test=&quot;$target/title or $target/*/title&quot;&gt;
+          &lt;xsl:attribute name=&quot;title&quot;&gt;
+            &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;xref-title&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+        &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;xref-to&quot;&gt;
+          &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;.&quot;/&gt;
+          &lt;xsl:with-param name=&quot;xrefstyle&quot;&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;@role and not(@xrefstyle) and $use.role.as.xrefstyle != 0&quot;&gt;
+                &lt;xsl:value-of select=&quot;@role&quot;/&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;
+                &lt;xsl:value-of select=&quot;@xrefstyle&quot;/&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:with-param&gt;
+        &lt;/xsl:apply-templates&gt;
+      &lt;/a&gt;
+
+      &lt;xsl:apply-templates select=&quot;$target&quot; mode=&quot;xref-to-suffix&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;endterm&quot;&gt;
+  &lt;!-- Process the children of the endterm element --&gt;
+  &lt;xsl:variable name=&quot;endterm&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;child::node()&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('exsl:node-set')&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;exsl:node-set($endterm)&quot; mode=&quot;remove-ids&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$endterm&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;remove-ids&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;!-- handle html or xhtml --&gt;
+    &lt;xsl:when test=&quot;local-name(.) = 'a'
+                    and (namespace-uri(.) = ''
+                         or namespace-uri(.) = '<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>')&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;(@name and count(@*) = 1)
+                        or (@id and count(@*) = 1)
+                        or (@id and @name and count(@*) = 2)&quot;&gt;
+          &lt;xsl:message&gt;suppress anchor&lt;/xsl:message&gt;
+          &lt;!-- suppress the whole thing --&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:copy&gt;
+            &lt;xsl:for-each select=&quot;@*&quot;&gt;
+              &lt;xsl:choose&gt;
+                &lt;xsl:when test=&quot;name(.) != 'name' and name(.) != 'id'&quot;&gt;
+                  &lt;xsl:copy/&gt;
+                &lt;/xsl:when&gt;
+                &lt;xsl:otherwise&gt;
+                  &lt;xsl:message&gt;removing &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;&lt;/xsl:message&gt;
+                &lt;/xsl:otherwise&gt;
+              &lt;/xsl:choose&gt;
+            &lt;/xsl:for-each&gt;
+          &lt;/xsl:copy&gt;
+          &lt;xsl:apply-templates mode=&quot;remove-ids&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy&gt;
+        &lt;xsl:for-each select=&quot;@*&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;name(.) != 'id'&quot;&gt;
+              &lt;xsl:copy/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:message&gt;removing &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;&lt;/xsl:message&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:for-each&gt;
+        &lt;xsl:apply-templates mode=&quot;remove-ids&quot;/&gt;
+      &lt;/xsl:copy&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;xref-to-prefix&quot;/&gt;
+&lt;xsl:template match=&quot;*&quot; mode=&quot;xref-to-suffix&quot;/&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$verbose&quot;&gt;
+    &lt;xsl:message&gt;
+      &lt;xsl:text&gt;Don't know what gentext to create for xref to: &quot;&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+      &lt;xsl:text&gt;&quot;, (&quot;&lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+      &lt;xsl:text&gt;&quot;)&lt;/xsl:text&gt;
+    &lt;/xsl:message&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;!-- if you xref to a title, xref to the parent... --&gt;
+  &lt;xsl:choose&gt;
+    &lt;!-- FIXME: how reliable is this? --&gt;
+    &lt;xsl:when test=&quot;contains(local-name(parent::*), 'info')&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;parent::*[2]&quot; mode=&quot;xref-to&quot;&gt;
+        &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+        &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+        &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;parent::*&quot; mode=&quot;xref-to&quot;&gt;
+        &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+        &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+        &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;abstract|authorblurb|personblurb|bibliodiv|bibliomset
+                     |biblioset|blockquote|calloutlist|caution|colophon
+                     |constraintdef|formalpara|glossdiv|important|indexdiv
+                     |itemizedlist|legalnotice|lot|msg|msgexplan|msgmain
+                     |msgrel|msgset|msgsub|note|orderedlist|partintro
+                     |productionset|qandadiv|refsynopsisdiv|segmentedlist
+                     |set|setindex|sidebar|tip|toc|variablelist|warning&quot;
+              mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;!-- catch-all for things with (possibly optional) titles --&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author|editor|othercredit|personname&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;person.name.list&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;figure|example|table|equation&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;procedure&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;cmdsynopsis&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;(.//command)[1]&quot; mode=&quot;xref&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcsynopsis&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;(.//function)[1]&quot; mode=&quot;xref&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;dedication|preface|chapter|appendix|article&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bibliography&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;biblioentry|bibliomixed&quot; mode=&quot;xref-to-prefix&quot;&gt;
+  &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;biblioentry|bibliomixed&quot; mode=&quot;xref-to-suffix&quot;&gt;
+  &lt;xsl:text&gt;]&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;biblioentry|bibliomixed&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;!-- handles both biblioentry and bibliomixed --&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;string(.) = ''&quot;&gt;
+      &lt;xsl:variable name=&quot;bib&quot; select=&quot;document($bibliography.collection,.)&quot;/&gt;
+      &lt;xsl:variable name=&quot;id&quot; select=&quot;@id&quot;/&gt;
+      &lt;xsl:variable name=&quot;entry&quot; select=&quot;$bib/bibliography/*[@id=$id][1]&quot;/&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$entry&quot;&gt;
+          &lt;xsl:choose&gt;
+            &lt;xsl:when test=&quot;$bibliography.numbered != 0&quot;&gt;
+              &lt;xsl:number from=&quot;bibliography&quot; count=&quot;biblioentry|bibliomixed&quot;
+                          level=&quot;any&quot; format=&quot;1&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:when test=&quot;local-name($entry/*[1]) = 'abbrev'&quot;&gt;
+              &lt;xsl:apply-templates select=&quot;$entry/*[1]&quot;/&gt;
+            &lt;/xsl:when&gt;
+            &lt;xsl:otherwise&gt;
+              &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+            &lt;/xsl:otherwise&gt;
+          &lt;/xsl:choose&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:message&gt;
+            &lt;xsl:text&gt;No bibliography entry: &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$id&quot;/&gt;
+            &lt;xsl:text&gt; found in &lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$bibliography.collection&quot;/&gt;
+          &lt;/xsl:message&gt;
+          &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$bibliography.numbered != 0&quot;&gt;
+          &lt;xsl:number from=&quot;bibliography&quot; count=&quot;biblioentry|bibliomixed&quot;
+                      level=&quot;any&quot; format=&quot;1&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:when test=&quot;local-name(*[1]) = 'abbrev'&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;*[1]&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossary&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossentry&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$glossentry.show.acronym = 'primary'&quot;&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;acronym|abbrev&quot;&gt;
+          &lt;xsl:apply-templates select=&quot;(acronym|abbrev)[1]&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates select=&quot;glossterm[1]&quot; mode=&quot;xref-to&quot;&gt;
+            &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+            &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+            &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+          &lt;/xsl:apply-templates&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;glossterm[1]&quot; mode=&quot;xref-to&quot;&gt;
+        &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+        &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+        &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+      &lt;/xsl:apply-templates&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;glossterm&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;index&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;listitem&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;section|simplesect
+                     |sect1|sect2|sect3|sect4|sect5
+                     |refsect1|refsect2|refsect3|refsection&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+  &lt;!-- FIXME: What about &quot;in Chapter X&quot;? --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;bridgehead&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+  &lt;!-- FIXME: What about &quot;in Chapter X&quot;? --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandaset&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandadiv&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;qandaentry&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;question[1]&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;question|answer&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;part|reference&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refentry&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;refmeta/refentrytitle&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;refmeta/refentrytitle&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:apply-templates select=&quot;refnamediv/refname[1]&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+  &lt;xsl:apply-templates select=&quot;refmeta/manvolnum&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refnamediv&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;refname[1]&quot; mode=&quot;xref-to&quot;&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;refname&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates mode=&quot;xref-to&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;step&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+    &lt;xsl:with-param name=&quot;key&quot; select=&quot;'Step'&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+  &lt;xsl:text&gt; &lt;/xsl:text&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;number&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varlistentry&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;term[1]&quot; mode=&quot;xref-to&quot;&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;varlistentry/term&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+
+  &lt;!-- to avoid the comma that will be generated if there are several terms --&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;co&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;callout-bug&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;book&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.xref.markup&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;para&quot; mode=&quot;xref-to&quot;&gt;
+  &lt;xsl:param name=&quot;referrer&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;verbose&quot; select=&quot;1&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;context&quot; select=&quot;(ancestor::simplesect
+                                       |ancestor::section
+                                       |ancestor::sect1
+                                       |ancestor::sect2
+                                       |ancestor::sect3
+                                       |ancestor::sect4
+                                       |ancestor::sect5
+                                       |ancestor::refsection
+                                       |ancestor::refsect1
+                                       |ancestor::refsect2
+                                       |ancestor::refsect3
+                                       |ancestor::chapter
+                                       |ancestor::appendix
+                                       |ancestor::preface
+                                       |ancestor::partintro
+                                       |ancestor::dedication
+                                       |ancestor::colophon
+                                       |ancestor::bibliography
+                                       |ancestor::index
+                                       |ancestor::glossary
+                                       |ancestor::glossentry
+                                       |ancestor::listitem
+                                       |ancestor::varlistentry)[last()]&quot;/&gt;
+
+  &lt;xsl:apply-templates select=&quot;$context&quot; mode=&quot;xref-to&quot;&gt;
+    &lt;xsl:with-param name=&quot;purpose&quot; select=&quot;'xref'&quot;/&gt;
+    &lt;xsl:with-param name=&quot;xrefstyle&quot; select=&quot;$xrefstyle&quot;/&gt;
+    &lt;xsl:with-param name=&quot;referrer&quot; select=&quot;$referrer&quot;/&gt;
+    &lt;xsl:with-param name=&quot;verbose&quot; select=&quot;$verbose&quot;/&gt;
+  &lt;/xsl:apply-templates&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;xref-title&quot;&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;object.title.markup&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:value-of select=&quot;$title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;author&quot; mode=&quot;xref-title&quot;&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:call-template name=&quot;person.name&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:value-of select=&quot;$title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;authorgroup&quot; mode=&quot;xref-title&quot;&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:call-template name=&quot;person.name.list&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:value-of select=&quot;$title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;cmdsynopsis&quot; mode=&quot;xref-title&quot;&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;(.//command)[1]&quot; mode=&quot;xref&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:value-of select=&quot;$title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;funcsynopsis&quot; mode=&quot;xref-title&quot;&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;(.//function)[1]&quot; mode=&quot;xref&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:value-of select=&quot;$title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;biblioentry|bibliomixed&quot; mode=&quot;xref-title&quot;&gt;
+  &lt;!-- handles both biblioentry and bibliomixed --&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:text&gt;[&lt;/xsl:text&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;local-name(*[1]) = 'abbrev'&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;*[1]&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+    &lt;xsl:text&gt;]&lt;/xsl:text&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:value-of select=&quot;$title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;step&quot; mode=&quot;xref-title&quot;&gt;
+  &lt;xsl:call-template name=&quot;gentext&quot;&gt;
+    &lt;xsl:with-param name=&quot;key&quot; select=&quot;'Step'&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+  &lt;xsl:text&gt; &lt;/xsl:text&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;number&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;co&quot; mode=&quot;xref-title&quot;&gt;
+  &lt;xsl:variable name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;callout-bug&quot;/&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:value-of select=&quot;$title&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;link&quot; name=&quot;link&quot;&gt;
+  &lt;xsl:param name=&quot;a.target&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;targets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkend</A>)&quot;/&gt;
+  &lt;xsl:variable name=&quot;target&quot; select=&quot;$targets[1]&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;check.id.unique&quot;&gt;
+    &lt;xsl:with-param name=&quot;linkend&quot; select=&quot;@linkend&quot;/&gt;
+  &lt;/xsl:call-template&gt;
+
+  &lt;a&gt;
+    &lt;xsl:if test=&quot;@id&quot;&gt;
+      &lt;xsl:attribute name=&quot;name&quot;&gt;&lt;xsl:value-of select=&quot;@id&quot;/&gt;&lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:if test=&quot;$a.target&quot;&gt;
+      &lt;xsl:attribute name=&quot;target&quot;&gt;&lt;xsl:value-of select=&quot;$a.target&quot;/&gt;&lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:attribute name=&quot;href&quot;&gt;
+      &lt;xsl:call-template name=&quot;href.target&quot;&gt;
+        &lt;xsl:with-param name=&quot;object&quot; select=&quot;$target&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:attribute&gt;
+
+    &lt;!-- FIXME: is there a better way to tell what elements have a title? --&gt;
+    &lt;xsl:if test=&quot;local-name($target) = 'book'
+                  or local-name($target) = 'set'
+                  or local-name($target) = 'chapter'
+                  or local-name($target) = 'preface'
+                  or local-name($target) = 'appendix'
+                  or local-name($target) = 'bibliography'
+                  or local-name($target) = 'glossary'
+                  or local-name($target) = 'index'
+                  or local-name($target) = 'part'
+                  or local-name($target) = 'refentry'
+                  or local-name($target) = 'reference'
+                  or local-name($target) = 'example'
+                  or local-name($target) = 'equation'
+                  or local-name($target) = 'table'
+                  or local-name($target) = 'figure'
+                  or local-name($target) = 'simplesect'
+                  or starts-with(local-name($target),'sect')
+                  or starts-with(local-name($target),'refsect')&quot;&gt;
+      &lt;xsl:attribute name=&quot;title&quot;&gt;
+        &lt;xsl:apply-templates select=&quot;$target&quot;
+                             mode=&quot;object.title.markup.textonly&quot;/&gt;
+      &lt;/xsl:attribute&gt;
+    &lt;/xsl:if&gt;
+
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;count(child::node()) &gt; 0&quot;&gt;
+        &lt;!-- If it has content, use it --&gt;
+        &lt;xsl:apply-templates/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;!-- else look for an endterm --&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@endterm&quot;&gt;
+            &lt;xsl:variable name=&quot;etargets&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at endterm</A>)&quot;/&gt;
+            &lt;xsl:variable name=&quot;etarget&quot; select=&quot;$etargets[1]&quot;/&gt;
+            &lt;xsl:choose&gt;
+              &lt;xsl:when test=&quot;count($etarget) = 0&quot;&gt;
+                &lt;xsl:message&gt;
+                  &lt;xsl:value-of select=&quot;count($etargets)&quot;/&gt;
+                  &lt;xsl:text&gt;Endterm points to nonexistent ID: &lt;/xsl:text&gt;
+                  &lt;xsl:value-of select=&quot;@endterm&quot;/&gt;
+                &lt;/xsl:message&gt;
+                &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+              &lt;/xsl:when&gt;
+              &lt;xsl:otherwise&gt;
+                  &lt;xsl:apply-templates select=&quot;$etarget&quot; mode=&quot;endterm&quot;/&gt;
+              &lt;/xsl:otherwise&gt;
+            &lt;/xsl:choose&gt;
+          &lt;/xsl:when&gt;
+
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:message&gt;
+              &lt;xsl:text&gt;Link element has no content and no Endterm. &lt;/xsl:text&gt;
+              &lt;xsl:text&gt;Nothing to show in the link to &lt;/xsl:text&gt;
+              &lt;xsl:value-of select=&quot;$target&quot;/&gt;
+            &lt;/xsl:message&gt;
+            &lt;xsl:text&gt;???&lt;/xsl:text&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/a&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;ulink&quot; name=&quot;ulink&quot;&gt;
+  &lt;xsl:variable name=&quot;link&quot;&gt;
+    &lt;a&gt;
+      &lt;xsl:if test=&quot;@id&quot;&gt;
+        &lt;xsl:attribute name=&quot;name&quot;&gt;
+          &lt;xsl:value-of select=&quot;@id&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:attribute name=&quot;href&quot;&gt;&lt;xsl:value-of select=&quot;@url&quot;/&gt;&lt;/xsl:attribute&gt;
+      &lt;xsl:if test=&quot;$ulink.target != ''&quot;&gt;
+        &lt;xsl:attribute name=&quot;target&quot;&gt;
+          &lt;xsl:value-of select=&quot;$ulink.target&quot;/&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/xsl:if&gt;
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;count(child::node())=0&quot;&gt;
+          &lt;xsl:value-of select=&quot;@url&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:apply-templates/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/a&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('suwl:unwrapLinks')&quot;&gt;
+      &lt;xsl:copy-of select=&quot;suwl:unwrapLinks($link)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$link&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;olink&quot; name=&quot;olink&quot;&gt;
+
+  &lt;xsl:call-template name=&quot;anchor&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;localinfo&quot; select=&quot;@localinfo&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;!-- olinks resolved by stylesheet and target database --&gt;
+    &lt;xsl:when test=&quot;@targetdoc or @targetptr&quot; &gt;
+      &lt;xsl:variable name=&quot;targetdoc.att&quot; select=&quot;@targetdoc&quot;/&gt;
+      &lt;xsl:variable name=&quot;targetptr.att&quot; select=&quot;@targetptr&quot;/&gt;
+
+      &lt;xsl:variable name=&quot;olink.lang&quot;&gt;
+        &lt;xsl:call-template name=&quot;l10n.language&quot;&gt;
+          &lt;xsl:with-param name=&quot;xref-context&quot; select=&quot;true()&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+    
+      &lt;xsl:variable name=&quot;target.database.filename&quot;&gt;
+        &lt;xsl:call-template name=&quot;select.target.database&quot;&gt;
+          &lt;xsl:with-param name=&quot;targetdoc.att&quot; select=&quot;$targetdoc.att&quot;/&gt;
+          &lt;xsl:with-param name=&quot;targetptr.att&quot; select=&quot;$targetptr.att&quot;/&gt;
+          &lt;xsl:with-param name=&quot;olink.lang&quot; select=&quot;$olink.lang&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+    
+      &lt;xsl:variable name=&quot;target.database&quot; 
+          select=&quot;document($target.database.filename,/)&quot;/&gt;
+    
+      &lt;xsl:if test=&quot;$olink.debug != 0&quot;&gt;
+        &lt;xsl:message&gt;
+          &lt;xsl:text&gt;Olink debug: root element of target.database '&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$target.database.filename&quot;/&gt;
+          &lt;xsl:text&gt;' is '&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;local-name($target.database/*[1])&quot;/&gt;
+          &lt;xsl:text&gt;'.&lt;/xsl:text&gt;
+        &lt;/xsl:message&gt;
+      &lt;/xsl:if&gt;
+    
+      &lt;xsl:variable name=&quot;olink.key&quot;&gt;
+        &lt;xsl:call-template name=&quot;select.olink.key&quot;&gt;
+          &lt;xsl:with-param name=&quot;targetdoc.att&quot; select=&quot;$targetdoc.att&quot;/&gt;
+          &lt;xsl:with-param name=&quot;targetptr.att&quot; select=&quot;$targetptr.att&quot;/&gt;
+          &lt;xsl:with-param name=&quot;olink.lang&quot; select=&quot;$olink.lang&quot;/&gt;
+          &lt;xsl:with-param name=&quot;target.database&quot; select=&quot;$target.database&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+    
+      &lt;xsl:if test=&quot;string-length($olink.key) = 0&quot;&gt;
+        &lt;xsl:message&gt;
+          &lt;xsl:text&gt;Error: unresolved olink: &lt;/xsl:text&gt;
+          &lt;xsl:text&gt;targetdoc/targetptr = '&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$targetdoc.att&quot;/&gt;
+          &lt;xsl:text&gt;/&lt;/xsl:text&gt;
+          &lt;xsl:value-of select=&quot;$targetptr.att&quot;/&gt;
+          &lt;xsl:text&gt;'.&lt;/xsl:text&gt;
+        &lt;/xsl:message&gt;
+      &lt;/xsl:if&gt;
+
+      &lt;xsl:variable name=&quot;href&quot;&gt;
+        &lt;xsl:call-template name=&quot;make.olink.href&quot;&gt;
+          &lt;xsl:with-param name=&quot;olink.key&quot; select=&quot;$olink.key&quot;/&gt;
+          &lt;xsl:with-param name=&quot;target.database&quot; select=&quot;$target.database&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;hottext&quot;&gt;
+        &lt;xsl:call-template name=&quot;olink.hottext&quot;&gt;
+          &lt;xsl:with-param name=&quot;target.database&quot; select=&quot;$target.database&quot;/&gt;
+          &lt;xsl:with-param name=&quot;olink.key&quot; select=&quot;$olink.key&quot;/&gt;
+          &lt;xsl:with-param name=&quot;olink.lang&quot; select=&quot;$olink.lang&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;olink.docname.citation&quot;&gt;
+        &lt;xsl:call-template name=&quot;olink.document.citation&quot;&gt;
+          &lt;xsl:with-param name=&quot;olink.key&quot; select=&quot;$olink.key&quot;/&gt;
+          &lt;xsl:with-param name=&quot;target.database&quot; select=&quot;$target.database&quot;/&gt;
+          &lt;xsl:with-param name=&quot;olink.lang&quot; select=&quot;$olink.lang&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:variable name=&quot;olink.page.citation&quot;&gt;
+        &lt;xsl:call-template name=&quot;olink.page.citation&quot;&gt;
+          &lt;xsl:with-param name=&quot;olink.key&quot; select=&quot;$olink.key&quot;/&gt;
+          &lt;xsl:with-param name=&quot;target.database&quot; select=&quot;$target.database&quot;/&gt;
+          &lt;xsl:with-param name=&quot;olink.lang&quot; select=&quot;$olink.lang&quot;/&gt;
+        &lt;/xsl:call-template&gt;
+      &lt;/xsl:variable&gt;
+
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$href != ''&quot;&gt;
+          &lt;a href=&quot;{$href}&quot; class=&quot;olink&quot;&gt;
+            &lt;xsl:copy-of select=&quot;$hottext&quot;/&gt;
+          &lt;/a&gt;
+          &lt;xsl:copy-of select=&quot;$olink.page.citation&quot;/&gt;
+          &lt;xsl:copy-of select=&quot;$olink.docname.citation&quot;/&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;span class=&quot;olink&quot;&gt;&lt;xsl:copy-of select=&quot;$hottext&quot;/&gt;&lt;/span&gt;
+          &lt;xsl:copy-of select=&quot;$olink.page.citation&quot;/&gt;
+          &lt;xsl:copy-of select=&quot;$olink.docname.citation&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+
+    &lt;/xsl:when&gt;
+
+    &lt;!-- Or use old olink mechanism --&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:variable name=&quot;href&quot;&gt;
+        &lt;xsl:choose&gt;
+          &lt;xsl:when test=&quot;@linkmode&quot;&gt;
+            &lt;!-- use the linkmode to get the base URI, use localinfo as fragid --&gt;
+            &lt;xsl:variable name=&quot;modespec&quot; select=&quot;key('id'<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">, at linkmode</A>)&quot;/&gt;
+            &lt;xsl:if test=&quot;count($modespec) != 1
+                          or local-name($modespec) != 'modespec'&quot;&gt;
+              &lt;xsl:message&gt;Warning: olink linkmode pointer is wrong.&lt;/xsl:message&gt;
+            &lt;/xsl:if&gt;
+            &lt;xsl:value-of select=&quot;$modespec&quot;/&gt;
+            &lt;xsl:if test=&quot;@localinfo&quot;&gt;
+              &lt;xsl:text&gt;#&lt;/xsl:text&gt;
+              &lt;xsl:value-of select=&quot;@localinfo&quot;/&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:when test=&quot;@type = 'href'&quot;&gt;
+            &lt;xsl:call-template name=&quot;olink.outline&quot;&gt;
+              &lt;xsl:with-param name=&quot;outline.base.uri&quot;
+                              select=&quot;unparsed-entity-uri(@targetdocent)&quot;/&gt;
+              &lt;xsl:with-param name=&quot;localinfo&quot; select=&quot;@localinfo&quot;/&gt;
+              &lt;xsl:with-param name=&quot;return&quot; select=&quot;'href'&quot;/&gt;
+            &lt;/xsl:call-template&gt;
+          &lt;/xsl:when&gt;
+          &lt;xsl:otherwise&gt;
+            &lt;xsl:value-of select=&quot;$olink.resolver&quot;/&gt;
+            &lt;xsl:text&gt;?&lt;/xsl:text&gt;
+            &lt;xsl:value-of select=&quot;$olink.sysid&quot;/&gt;
+            &lt;xsl:value-of select=&quot;unparsed-entity-uri(@targetdocent)&quot;/&gt;
+            &lt;!-- XSL gives no access to the public identifier (grumble...) --&gt;
+            &lt;xsl:if test=&quot;@localinfo&quot;&gt;
+              &lt;xsl:text&gt;&amp;&lt;/xsl:text&gt;
+              &lt;xsl:value-of select=&quot;$olink.fragid&quot;/&gt;
+              &lt;xsl:value-of select=&quot;@localinfo&quot;/&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:otherwise&gt;
+        &lt;/xsl:choose&gt;
+      &lt;/xsl:variable&gt;
+    
+      &lt;xsl:choose&gt;
+        &lt;xsl:when test=&quot;$href != ''&quot;&gt;
+          &lt;a href=&quot;{$href}&quot; class=&quot;olink&quot;&gt;
+            &lt;xsl:call-template name=&quot;olink.hottext&quot;/&gt;
+          &lt;/a&gt;
+        &lt;/xsl:when&gt;
+        &lt;xsl:otherwise&gt;
+          &lt;xsl:call-template name=&quot;olink.hottext&quot;/&gt;
+        &lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;pagenumber.markup&quot;&gt;
+  &lt;!-- no-op in HTML --&gt;
+&lt;/xsl:template&gt;
+
+
+&lt;xsl:template name=&quot;olink.outline&quot;&gt;
+  &lt;xsl:param name=&quot;outline.base.uri&quot;/&gt;
+  &lt;xsl:param name=&quot;localinfo&quot;/&gt;
+  &lt;xsl:param name=&quot;return&quot; select=&quot;href&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;outline-file&quot;
+                select=&quot;concat($outline.base.uri,
+                               $olink.outline.ext)&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;outline&quot; select=&quot;document($outline-file,.)/div&quot;/&gt;
+
+  &lt;xsl:variable name=&quot;node-href&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$localinfo != ''&quot;&gt;
+        &lt;xsl:variable name=&quot;node&quot; select=&quot;$outline//*[@id=$localinfo]&quot;/&gt;
+        &lt;xsl:value-of select=&quot;$node/@href&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$outline/@href&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:variable name=&quot;node-xref&quot;&gt;
+    &lt;xsl:choose&gt;
+      &lt;xsl:when test=&quot;$localinfo != ''&quot;&gt;
+        &lt;xsl:variable name=&quot;node&quot; select=&quot;$outline//*[@id=$localinfo]&quot;/&gt;
+        &lt;xsl:copy-of select=&quot;$node/xref&quot;/&gt;
+      &lt;/xsl:when&gt;
+      &lt;xsl:otherwise&gt;
+        &lt;xsl:value-of select=&quot;$outline/xref&quot;/&gt;
+      &lt;/xsl:otherwise&gt;
+    &lt;/xsl:choose&gt;
+  &lt;/xsl:variable&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$return = 'href'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$node-href&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$return = 'xref'&quot;&gt;
+      &lt;xsl:value-of select=&quot;$node-xref&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$node-xref&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;xref.xreflabel&quot;&gt;
+  &lt;!-- called to process an xreflabel...you might use this to make  --&gt;
+  &lt;!-- xreflabels come out in the right font for different targets, --&gt;
+  &lt;!-- for example. --&gt;
+  &lt;xsl:param name=&quot;target&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:value-of select=&quot;$target/@xreflabel&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;title&quot; mode=&quot;xref&quot;&gt;
+  &lt;xsl:apply-templates/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;command&quot; mode=&quot;xref&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.boldseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;function&quot; mode=&quot;xref&quot;&gt;
+  &lt;xsl:call-template name=&quot;inline.monoseq&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;insert.title.markup&quot;&gt;
+  &lt;xsl:param name=&quot;purpose&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;title&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;!-- FIXME: what about the case where titleabbrev is inside the info? --&gt;
+    &lt;xsl:when test=&quot;$purpose = 'xref' and titleabbrev&quot;&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;titleabbrev.markup&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;chapter|appendix&quot; mode=&quot;insert.title.markup&quot;&gt;
+  &lt;xsl:param name=&quot;purpose&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;title&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$purpose = 'xref'&quot;&gt;
+      &lt;i&gt;
+        &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+      &lt;/i&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;insert.subtitle.markup&quot;&gt;
+  &lt;xsl:param name=&quot;purpose&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;subtitle&quot;/&gt;
+
+  &lt;xsl:copy-of select=&quot;$subtitle&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;insert.label.markup&quot;&gt;
+  &lt;xsl:param name=&quot;purpose&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;label&quot;/&gt;
+
+  &lt;xsl:copy-of select=&quot;$label&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;insert.pagenumber.markup&quot;&gt;
+  &lt;xsl:param name=&quot;purpose&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;pagenumber&quot;/&gt;
+
+  &lt;xsl:copy-of select=&quot;$pagenumber&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;insert.direction.markup&quot;&gt;
+  &lt;xsl:param name=&quot;purpose&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;direction&quot;/&gt;
+
+  &lt;xsl:copy-of select=&quot;$direction&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;insert.olink.docname.markup&quot;&gt;
+  &lt;xsl:param name=&quot;purpose&quot;/&gt;
+  &lt;xsl:param name=&quot;xrefstyle&quot;/&gt;
+  &lt;xsl:param name=&quot;docname&quot;/&gt;
+
+  &lt;span class=&quot;olinkdocname&quot;&gt;
+    &lt;xsl:copy-of select=&quot;$docname&quot;/&gt;
+  &lt;/span&gt;
+
+&lt;/xsl:template&gt;
+
+&lt;/xsl:stylesheet&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002408.html">[Cachewolf-svn] r2483 - in trunk/docs/CacheWolf_Doku: .	docbook2html_xsl
</A></li>
	<LI>Next message: <A HREF="002410.html">[Cachewolf-svn] r2485 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2409">[ date ]</a>
              <a href="thread.html#2409">[ thread ]</a>
              <a href="subject.html#2409">[ subject ]</a>
              <a href="author.html#2409">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
