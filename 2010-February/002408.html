<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r2483 - in trunk/docs/CacheWolf_Doku: .	docbook2html_xsl
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2483%20-%20in%20trunk/docs/CacheWolf_Doku%3A%20.%0A%09docbook2html_xsl&In-Reply-To=%3C201002222307.o1MN7rmP018120%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002407.html">
   <LINK REL="Next"  HREF="002409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r2483 - in trunk/docs/CacheWolf_Doku: .	docbook2html_xsl</H1>
    <B>pfeffer at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2483%20-%20in%20trunk/docs/CacheWolf_Doku%3A%20.%0A%09docbook2html_xsl&In-Reply-To=%3C201002222307.o1MN7rmP018120%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r2483 - in trunk/docs/CacheWolf_Doku: .	docbook2html_xsl">pfeffer at mail.berlios.de
       </A><BR>
    <I>Tue Feb 23 00:07:53 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002407.html">[Cachewolf-svn] r2482 - trunk
</A></li>
        <LI>Next message: <A HREF="002409.html">[Cachewolf-svn] r2484 - trunk/docs/CacheWolf_Doku/docbook2html_xsl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2408">[ date ]</a>
              <a href="thread.html#2408">[ thread ]</a>
              <a href="subject.html#2408">[ subject ]</a>
              <a href="author.html#2408">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: pfeffer
Date: 2010-02-23 00:07:51 +0100 (Tue, 23 Feb 2010)
New Revision: 2483

Added:
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/
   trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbook-html.xsl
Removed:
   trunk/docs/CacheWolf_Doku/docbook-html.xsl
Log:
automatic ant build: preparation for html manual: move the translation style sheets into their own dir

Deleted: trunk/docs/CacheWolf_Doku/docbook-html.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook-html.xsl	2010-02-22 22:44:49 UTC (rev 2482)
+++ trunk/docs/CacheWolf_Doku/docbook-html.xsl	2010-02-22 23:07:51 UTC (rev 2483)
@@ -1,455 +0,0 @@
-&lt;?xml version='1.0'?&gt;
-&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
-		xmlns:db=&quot;<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>&quot;
-                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
-                exclude-result-prefixes=&quot;db exsl&quot;
-                version='1.0'&gt;
-
-&lt;xsl:output method=&quot;html&quot;
-            encoding=&quot;ISO-8859-1&quot;
-            indent=&quot;yes&quot;/&gt;
-
-&lt;!-- ********************************************************************
-     $Id: docbook.xsl,v 1.35 2005/02/10 13:25:11 nwalsh Exp $
-     ********************************************************************
-
-     This file is part of the XSL DocBook Stylesheet distribution.
-     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
-     and other information.
-
-     ******************************************************************** --&gt;
-
-&lt;!-- ==================================================================== --&gt;
-
-&lt;xsl:include href=&quot;../VERSION&quot;/&gt;
-&lt;xsl:include href=&quot;param.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../lib/lib.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/l10n.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/common.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/labels.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/titles.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/subtitles.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/gentext.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/targets.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/olink.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;../common/pi.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;autotoc.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;autoidx.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;lists.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;callout.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;verbatim.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;graphics.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;xref.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;formal.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;table.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;htmltbl.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;sections.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;inline.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;footnote.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;html.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;info.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;keywords.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;division.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;toc.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;index.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;refentry.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;math.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;admon.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;component.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;biblio.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;glossary.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;block.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;task.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;qandaset.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;synop.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;titlepage.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;titlepage.templates.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;pi.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;ebnf.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;chunker.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;html-rtf.xsl&quot;/&gt;
-&lt;xsl:include href=&quot;docbookng.xsl&quot;/&gt;
-
-&lt;xsl:param name=&quot;stylesheet.result.type&quot; select=&quot;'html'&quot;/&gt;
-&lt;xsl:param name=&quot;htmlhelp.output&quot; select=&quot;0&quot;/&gt;
-
-&lt;!-- ==================================================================== --&gt;
-
-&lt;xsl:key name=&quot;id&quot; match=&quot;*&quot; use=&quot;@id|@xml:id&quot;/&gt;
-
-&lt;!-- ==================================================================== --&gt;
-
-&lt;xsl:template match=&quot;*&quot;&gt;
-  &lt;xsl:message&gt;
-    &lt;xsl:text&gt;No template matches &lt;/xsl:text&gt;
-    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
-    &lt;xsl:if test=&quot;parent::*&quot;&gt;
-      &lt;xsl:text&gt; in &lt;/xsl:text&gt;
-      &lt;xsl:value-of select=&quot;name(parent::*)&quot;/&gt;
-    &lt;/xsl:if&gt;
-    &lt;xsl:text&gt;.&lt;/xsl:text&gt;
-  &lt;/xsl:message&gt;
-
-  &lt;font color=&quot;red&quot;&gt;
-    &lt;xsl:text&gt;&lt;&lt;/xsl:text&gt;
-    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
-    &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
-    &lt;xsl:apply-templates/&gt;
-    &lt;xsl:text&gt;&lt;/&lt;/xsl:text&gt;
-    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
-    &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
-  &lt;/font&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;text()&quot;&gt;
-  &lt;xsl:value-of select=&quot;.&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;body.attributes&quot;&gt;
-  &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;white&lt;/xsl:attribute&gt;
-  &lt;xsl:attribute name=&quot;text&quot;&gt;black&lt;/xsl:attribute&gt;
-  &lt;xsl:attribute name=&quot;link&quot;&gt;#0000FF&lt;/xsl:attribute&gt;
-  &lt;xsl:attribute name=&quot;vlink&quot;&gt;#840084&lt;/xsl:attribute&gt;
-  &lt;xsl:attribute name=&quot;alink&quot;&gt;#0000FF&lt;/xsl:attribute&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;head.content&quot;&gt;
-  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
-  &lt;xsl:param name=&quot;title&quot;&gt;
-    &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
-  &lt;/xsl:param&gt;
-
-  &lt;title&gt;
-    &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
-  &lt;/title&gt;
-
-  &lt;xsl:if test=&quot;$html.stylesheet != ''&quot;&gt;
-    &lt;xsl:call-template name=&quot;output.html.stylesheets&quot;&gt;
-      &lt;xsl:with-param name=&quot;stylesheets&quot; select=&quot;normalize-space($html.stylesheet)&quot;/&gt;
-    &lt;/xsl:call-template&gt;
-  &lt;/xsl:if&gt;
-
-  &lt;xsl:if test=&quot;$link.mailto.url != ''&quot;&gt;
-    &lt;link rev=&quot;made&quot;
-          href=&quot;{$link.mailto.url}&quot;/&gt;
-  &lt;/xsl:if&gt;
-
-  &lt;xsl:if test=&quot;$html.base != ''&quot;&gt;
-    &lt;base href=&quot;{$html.base}&quot;/&gt;
-  &lt;/xsl:if&gt;
-
-  &lt;meta name=&quot;generator&quot; content=&quot;DocBook XSL Stylesheets V{$VERSION}&quot;/&gt;
-
-  &lt;xsl:if test=&quot;$generate.meta.abstract != 0&quot;&gt;
-    &lt;xsl:variable name=&quot;info&quot; select=&quot;(articleinfo
-                                      |bookinfo
-                                      |prefaceinfo
-                                      |chapterinfo
-                                      |appendixinfo
-                                      |sectioninfo
-                                      |sect1info
-                                      |sect2info
-                                      |sect3info
-                                      |sect4info
-                                      |sect5info
-                                      |referenceinfo
-                                      |refentryinfo
-                                      |partinfo
-                                      |info
-                                      |docinfo)[1]&quot;/&gt;
-    &lt;xsl:if test=&quot;$info and $info/abstract&quot;&gt;
-      &lt;meta name=&quot;description&quot;&gt;
-        &lt;xsl:attribute name=&quot;content&quot;&gt;
-          &lt;xsl:for-each select=&quot;$info/abstract[1]/*&quot;&gt;
-            &lt;xsl:value-of select=&quot;.&quot;/&gt;
-            &lt;xsl:if test=&quot;position() &lt; last()&quot;&gt;
-              &lt;xsl:text&gt; &lt;/xsl:text&gt;
-            &lt;/xsl:if&gt;
-          &lt;/xsl:for-each&gt;
-        &lt;/xsl:attribute&gt;
-      &lt;/meta&gt;
-    &lt;/xsl:if&gt;
-  &lt;/xsl:if&gt;
-
-  &lt;xsl:if test=&quot;($draft.mode = 'yes' or
-                ($draft.mode = 'maybe' and
-                ancestor-or-self::*[@status][1]/@status = 'draft'))
-                and $draft.watermark.image != ''&quot;&gt;
-    &lt;style type=&quot;text/css&quot;&gt;&lt;xsl:text&gt;
-body { background-image: url('&lt;/xsl:text&gt;
-&lt;xsl:value-of select=&quot;$draft.watermark.image&quot;/&gt;&lt;xsl:text&gt;');
-       background-repeat: no-repeat;
-       background-position: top left;
-       /* The following properties make the watermark &quot;fixed&quot; on the page. */
-       /* I think that's just a bit too distracting for the reader... */
-       /* background-attachment: fixed; */
-       /* background-position: center center; */
-     }&lt;/xsl:text&gt;
-    &lt;/style&gt;
-  &lt;/xsl:if&gt;
-  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;head.keywords.content&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;output.html.stylesheets&quot;&gt;
-  &lt;xsl:param name=&quot;stylesheets&quot; select=&quot;''&quot;/&gt;
-
-  &lt;xsl:choose&gt;
-    &lt;xsl:when test=&quot;contains($stylesheets, ' ')&quot;&gt;
-      &lt;link rel=&quot;stylesheet&quot; href=&quot;{substring-before($stylesheets, ' ')}&quot;&gt;
-        &lt;xsl:if test=&quot;$html.stylesheet.type != ''&quot;&gt;
-          &lt;xsl:attribute name=&quot;type&quot;&gt;
-            &lt;xsl:value-of select=&quot;$html.stylesheet.type&quot;/&gt;
-          &lt;/xsl:attribute&gt;
-        &lt;/xsl:if&gt;
-      &lt;/link&gt;
-      &lt;xsl:call-template name=&quot;output.html.stylesheets&quot;&gt;
-        &lt;xsl:with-param name=&quot;stylesheets&quot; select=&quot;substring-after($stylesheets, ' ')&quot;/&gt;
-      &lt;/xsl:call-template&gt;
-    &lt;/xsl:when&gt;
-    &lt;xsl:when test=&quot;$stylesheets != ''&quot;&gt;
-      &lt;link rel=&quot;stylesheet&quot; href=&quot;{$stylesheets}&quot;&gt;
-        &lt;xsl:if test=&quot;$html.stylesheet.type != ''&quot;&gt;
-          &lt;xsl:attribute name=&quot;type&quot;&gt;
-            &lt;xsl:value-of select=&quot;$html.stylesheet.type&quot;/&gt;
-          &lt;/xsl:attribute&gt;
-        &lt;/xsl:if&gt;
-      &lt;/link&gt;
-    &lt;/xsl:when&gt;
-  &lt;/xsl:choose&gt;
-&lt;/xsl:template&gt;
-
-&lt;!-- ============================================================ --&gt;
-
-&lt;xsl:template match=&quot;*&quot; mode=&quot;head.keywords.content&quot;&gt;
-  &lt;xsl:apply-templates select=&quot;chapterinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;appendixinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;prefaceinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;bookinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;setinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;articleinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;artheader/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;sect1info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;sect2info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;sect3info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;sect4info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;sect5info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;refsect1info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;refsect2info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;refsect3info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;bibliographyinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;glossaryinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;indexinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;refentryinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;partinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;referenceinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;docinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-  &lt;xsl:apply-templates select=&quot;info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
-
-  &lt;xsl:if test=&quot;$inherit.keywords != 0
-                and parent::*&quot;&gt;
-    &lt;xsl:apply-templates select=&quot;parent::*&quot; mode=&quot;head.keywords.content&quot;/&gt;
-  &lt;/xsl:if&gt;
-&lt;/xsl:template&gt;
-
-&lt;!-- ============================================================ --&gt;
-
-&lt;xsl:template name=&quot;system.head.content&quot;&gt;
-  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
-
-  &lt;!-- system.head.content is like user.head.content, except that
-       it is called before head.content. This is important because it
-       means, for example, that &lt;style&gt; elements output by system.head.content
-       have a lower CSS precedence than the users stylesheet. --&gt;
-&lt;/xsl:template&gt;
-
-&lt;!-- ============================================================ --&gt;
-
-&lt;xsl:template name=&quot;user.preroot&quot;&gt;
-  &lt;!-- Pre-root output, can be used to output comments and PIs. --&gt;
-  &lt;!-- This must not output any element content! --&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;user.head.content&quot;&gt;
-  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;user.header.navigation&quot;&gt;
-  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;user.header.content&quot;&gt;
-  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;user.footer.content&quot;&gt;
-  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;user.footer.navigation&quot;&gt;
-  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;/&quot;&gt;
-  &lt;xsl:choose&gt;
-    &lt;xsl:when test=&quot;function-available('exsl:node-set')
-                    and namespace-uri(*[1]) = '<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>'&quot;&gt;
-      &lt;!-- Hack! If someone hands us a DocBook NG document, toss the namespace --&gt;
-      &lt;!-- and continue. Someday we may reverse this logic and add the namespace --&gt;
-      &lt;!-- to documents that don't have one. But not before the whole stylesheet --&gt;
-      &lt;!-- has been converted to use namespaces. i.e., don't hold your breath --&gt;
-      &lt;xsl:message&gt;Stripping NS from DocBook-NG document.&lt;/xsl:message&gt;
-      &lt;xsl:variable name=&quot;nons&quot;&gt;
-	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
-      &lt;/xsl:variable&gt;
-      &lt;xsl:message&gt;Processing stripped document.&lt;/xsl:message&gt;
-      &lt;xsl:apply-templates select=&quot;exsl:node-set($nons)&quot;/&gt;
-    &lt;/xsl:when&gt;
-    &lt;xsl:otherwise&gt;
-      &lt;xsl:choose&gt;
-	&lt;xsl:when test=&quot;$rootid != ''&quot;&gt;
-	  &lt;xsl:choose&gt;
-	    &lt;xsl:when test=&quot;count(key('id',$rootid)) = 0&quot;&gt;
-	      &lt;xsl:message terminate=&quot;yes&quot;&gt;
-		&lt;xsl:text&gt;ID '&lt;/xsl:text&gt;
-		&lt;xsl:value-of select=&quot;$rootid&quot;/&gt;
-		&lt;xsl:text&gt;' not found in document.&lt;/xsl:text&gt;
-	      &lt;/xsl:message&gt;
-	    &lt;/xsl:when&gt;
-	    &lt;xsl:otherwise&gt;
-	      &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or
-		            $collect.xref.targets = 'only'&quot;&gt;
-		&lt;xsl:apply-templates select=&quot;key('id', $rootid)&quot;
-				     mode=&quot;collect.targets&quot;/&gt;
-	      &lt;/xsl:if&gt;
-	      &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
-		&lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;
-				     mode=&quot;process.root&quot;/&gt;
-		&lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
-		  &lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;
-				       mode=&quot;collect.tex.math&quot;/&gt;
-		&lt;/xsl:if&gt;
-	      &lt;/xsl:if&gt;
-	    &lt;/xsl:otherwise&gt;
-	  &lt;/xsl:choose&gt;
-	&lt;/xsl:when&gt;
-	&lt;xsl:otherwise&gt;
-	  &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or
-		        $collect.xref.targets = 'only'&quot;&gt;
-	    &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;collect.targets&quot;/&gt;
-	  &lt;/xsl:if&gt;
-	  &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
-	    &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;process.root&quot;/&gt;
-	    &lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
-	      &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;collect.tex.math&quot;/&gt;
-	    &lt;/xsl:if&gt;
-	  &lt;/xsl:if&gt;
-	&lt;/xsl:otherwise&gt;
-      &lt;/xsl:choose&gt;
-    &lt;/xsl:otherwise&gt;
-  &lt;/xsl:choose&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;*&quot; mode=&quot;process.root&quot;&gt;
-  &lt;xsl:variable name=&quot;doc&quot; select=&quot;self::*&quot;/&gt;
-
-  &lt;xsl:call-template name=&quot;user.preroot&quot;/&gt;
-  &lt;xsl:call-template name=&quot;root.messages&quot;/&gt;
-
-  &lt;html&gt;
-    &lt;head&gt;
-      &lt;xsl:call-template name=&quot;system.head.content&quot;&gt;
-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
-      &lt;/xsl:call-template&gt;
-      &lt;xsl:call-template name=&quot;head.content&quot;&gt;
-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
-      &lt;/xsl:call-template&gt;
-      &lt;xsl:call-template name=&quot;user.head.content&quot;&gt;
-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
-      &lt;/xsl:call-template&gt;
-    &lt;/head&gt;
-    &lt;body&gt;
-      &lt;xsl:call-template name=&quot;body.attributes&quot;/&gt;
-      &lt;xsl:call-template name=&quot;user.header.content&quot;&gt;
-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
-      &lt;/xsl:call-template&gt;
-      &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
-      &lt;xsl:call-template name=&quot;user.footer.content&quot;&gt;
-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
-      &lt;/xsl:call-template&gt;
-    &lt;/body&gt;
-  &lt;/html&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template name=&quot;root.messages&quot;&gt;
-  &lt;!-- redefine this any way you'd like to output messages --&gt;
-  &lt;!-- DO NOT OUTPUT ANYTHING FROM THIS TEMPLATE --&gt;
-&lt;/xsl:template&gt;
-
-&lt;!-- ==================================================================== --&gt;
-
-&lt;xsl:template name=&quot;chunk&quot;&gt;
-  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
-
-  &lt;!-- The default is that we are not chunking... --&gt;
-  &lt;xsl:text&gt;0&lt;/xsl:text&gt;
-&lt;/xsl:template&gt;
-
-&lt;!-- ==================================================================== --&gt;
-
-&lt;xsl:template match=&quot;*&quot; mode=&quot;stripNS&quot;&gt;
-  &lt;xsl:choose&gt;
-    &lt;xsl:when test=&quot;namespace-uri(.) = '<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>'&quot;&gt;
-      &lt;xsl:element name=&quot;{local-name(.)}&quot;&gt;
-	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
-	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
-      &lt;/xsl:element&gt;
-    &lt;/xsl:when&gt;
-    &lt;xsl:otherwise&gt;
-      &lt;xsl:copy&gt;
-	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
-	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
-      &lt;/xsl:copy&gt;
-    &lt;/xsl:otherwise&gt;
-  &lt;/xsl:choose&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;db:link&quot; mode=&quot;stripNS&quot;&gt;
-  &lt;xsl:variable xmlns:xlink=&quot;<A HREF="http://www.w3.org/1999/xlink">http://www.w3.org/1999/xlink</A>&quot;
-		name=&quot;href&quot; select=&quot;@xlink:href|@href&quot;/&gt;
-  &lt;xsl:choose&gt;
-    &lt;xsl:when test=&quot;$href != '' and not(starts-with($href,'#'))&quot;&gt;
-      &lt;ulink url=&quot;{$href}&quot;&gt;
-	&lt;xsl:for-each select=&quot;@*&quot;&gt;
-	  &lt;xsl:if test=&quot;local-name(.) != 'href'&quot;&gt;
-	    &lt;xsl:copy/&gt;
-	  &lt;/xsl:if&gt;
-	&lt;/xsl:for-each&gt;
-	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
-      &lt;/ulink&gt;
-    &lt;/xsl:when&gt;
-    &lt;xsl:when test=&quot;$href != '' and starts-with($href,'#')&quot;&gt;
-      &lt;link linkend=&quot;{substring-after($href,'#')}&quot;&gt;
-	&lt;xsl:for-each select=&quot;@*&quot;&gt;
-	  &lt;xsl:if test=&quot;local-name(.) != 'href'&quot;&gt;
-	    &lt;xsl:copy/&gt;
-	  &lt;/xsl:if&gt;
-	&lt;/xsl:for-each&gt;
-	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
-      &lt;/link&gt;
-    &lt;/xsl:when&gt;
-    &lt;xsl:otherwise&gt;
-      &lt;link&gt;
-	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
-	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
-      &lt;/link&gt;
-    &lt;/xsl:otherwise&gt;
-  &lt;/xsl:choose&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;comment()|processing-instruction()|text()&quot; mode=&quot;stripNS&quot;&gt;
-  &lt;xsl:copy/&gt;
-&lt;/xsl:template&gt;
-
-&lt;!-- ==================================================================== --&gt;
-
-&lt;/xsl:stylesheet&gt;

Added: trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbook-html.xsl
===================================================================
--- trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbook-html.xsl	2010-02-22 22:44:49 UTC (rev 2482)
+++ trunk/docs/CacheWolf_Doku/docbook2html_xsl/docbook-html.xsl	2010-02-22 23:07:51 UTC (rev 2483)
@@ -0,0 +1,455 @@
+&lt;?xml version='1.0'?&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;
+		xmlns:db=&quot;<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>&quot;
+                xmlns:exsl=&quot;<A HREF="http://exslt.org/common">http://exslt.org/common</A>&quot;
+                exclude-result-prefixes=&quot;db exsl&quot;
+                version='1.0'&gt;
+
+&lt;xsl:output method=&quot;html&quot;
+            encoding=&quot;ISO-8859-1&quot;
+            indent=&quot;yes&quot;/&gt;
+
+&lt;!-- ********************************************************************
+     $Id: docbook.xsl,v 1.35 2005/02/10 13:25:11 nwalsh Exp $
+     ********************************************************************
+
+     This file is part of the XSL DocBook Stylesheet distribution.
+     See ../README or <A HREF="http://nwalsh.com/docbook/xsl/">http://nwalsh.com/docbook/xsl/</A> for copyright
+     and other information.
+
+     ******************************************************************** --&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:include href=&quot;../VERSION&quot;/&gt;
+&lt;xsl:include href=&quot;param.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../lib/lib.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/l10n.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/common.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/labels.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/titles.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/subtitles.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/gentext.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/targets.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/olink.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;../common/pi.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;autotoc.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;autoidx.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;lists.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;callout.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;verbatim.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;graphics.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;xref.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;formal.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;table.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;htmltbl.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;sections.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;inline.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;footnote.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;html.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;info.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;keywords.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;division.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;toc.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;index.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;refentry.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;math.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;admon.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;component.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;biblio.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;glossary.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;block.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;task.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;qandaset.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;synop.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;titlepage.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;titlepage.templates.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;pi.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;ebnf.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;chunker.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;html-rtf.xsl&quot;/&gt;
+&lt;xsl:include href=&quot;docbookng.xsl&quot;/&gt;
+
+&lt;xsl:param name=&quot;stylesheet.result.type&quot; select=&quot;'html'&quot;/&gt;
+&lt;xsl:param name=&quot;htmlhelp.output&quot; select=&quot;0&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:key name=&quot;id&quot; match=&quot;*&quot; use=&quot;@id|@xml:id&quot;/&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot;&gt;
+  &lt;xsl:message&gt;
+    &lt;xsl:text&gt;No template matches &lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:if test=&quot;parent::*&quot;&gt;
+      &lt;xsl:text&gt; in &lt;/xsl:text&gt;
+      &lt;xsl:value-of select=&quot;name(parent::*)&quot;/&gt;
+    &lt;/xsl:if&gt;
+    &lt;xsl:text&gt;.&lt;/xsl:text&gt;
+  &lt;/xsl:message&gt;
+
+  &lt;font color=&quot;red&quot;&gt;
+    &lt;xsl:text&gt;&lt;&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+    &lt;xsl:apply-templates/&gt;
+    &lt;xsl:text&gt;&lt;/&lt;/xsl:text&gt;
+    &lt;xsl:value-of select=&quot;name(.)&quot;/&gt;
+    &lt;xsl:text&gt;&gt;&lt;/xsl:text&gt;
+  &lt;/font&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;text()&quot;&gt;
+  &lt;xsl:value-of select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;body.attributes&quot;&gt;
+  &lt;xsl:attribute name=&quot;bgcolor&quot;&gt;white&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;text&quot;&gt;black&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;link&quot;&gt;#0000FF&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;vlink&quot;&gt;#840084&lt;/xsl:attribute&gt;
+  &lt;xsl:attribute name=&quot;alink&quot;&gt;#0000FF&lt;/xsl:attribute&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+  &lt;xsl:param name=&quot;title&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;$node&quot; mode=&quot;object.title.markup.textonly&quot;/&gt;
+  &lt;/xsl:param&gt;
+
+  &lt;title&gt;
+    &lt;xsl:copy-of select=&quot;$title&quot;/&gt;
+  &lt;/title&gt;
+
+  &lt;xsl:if test=&quot;$html.stylesheet != ''&quot;&gt;
+    &lt;xsl:call-template name=&quot;output.html.stylesheets&quot;&gt;
+      &lt;xsl:with-param name=&quot;stylesheets&quot; select=&quot;normalize-space($html.stylesheet)&quot;/&gt;
+    &lt;/xsl:call-template&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;$link.mailto.url != ''&quot;&gt;
+    &lt;link rev=&quot;made&quot;
+          href=&quot;{$link.mailto.url}&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;$html.base != ''&quot;&gt;
+    &lt;base href=&quot;{$html.base}&quot;/&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;meta name=&quot;generator&quot; content=&quot;DocBook XSL Stylesheets V{$VERSION}&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$generate.meta.abstract != 0&quot;&gt;
+    &lt;xsl:variable name=&quot;info&quot; select=&quot;(articleinfo
+                                      |bookinfo
+                                      |prefaceinfo
+                                      |chapterinfo
+                                      |appendixinfo
+                                      |sectioninfo
+                                      |sect1info
+                                      |sect2info
+                                      |sect3info
+                                      |sect4info
+                                      |sect5info
+                                      |referenceinfo
+                                      |refentryinfo
+                                      |partinfo
+                                      |info
+                                      |docinfo)[1]&quot;/&gt;
+    &lt;xsl:if test=&quot;$info and $info/abstract&quot;&gt;
+      &lt;meta name=&quot;description&quot;&gt;
+        &lt;xsl:attribute name=&quot;content&quot;&gt;
+          &lt;xsl:for-each select=&quot;$info/abstract[1]/*&quot;&gt;
+            &lt;xsl:value-of select=&quot;.&quot;/&gt;
+            &lt;xsl:if test=&quot;position() &lt; last()&quot;&gt;
+              &lt;xsl:text&gt; &lt;/xsl:text&gt;
+            &lt;/xsl:if&gt;
+          &lt;/xsl:for-each&gt;
+        &lt;/xsl:attribute&gt;
+      &lt;/meta&gt;
+    &lt;/xsl:if&gt;
+  &lt;/xsl:if&gt;
+
+  &lt;xsl:if test=&quot;($draft.mode = 'yes' or
+                ($draft.mode = 'maybe' and
+                ancestor-or-self::*[@status][1]/@status = 'draft'))
+                and $draft.watermark.image != ''&quot;&gt;
+    &lt;style type=&quot;text/css&quot;&gt;&lt;xsl:text&gt;
+body { background-image: url('&lt;/xsl:text&gt;
+&lt;xsl:value-of select=&quot;$draft.watermark.image&quot;/&gt;&lt;xsl:text&gt;');
+       background-repeat: no-repeat;
+       background-position: top left;
+       /* The following properties make the watermark &quot;fixed&quot; on the page. */
+       /* I think that's just a bit too distracting for the reader... */
+       /* background-attachment: fixed; */
+       /* background-position: center center; */
+     }&lt;/xsl:text&gt;
+    &lt;/style&gt;
+  &lt;/xsl:if&gt;
+  &lt;xsl:apply-templates select=&quot;.&quot; mode=&quot;head.keywords.content&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;output.html.stylesheets&quot;&gt;
+  &lt;xsl:param name=&quot;stylesheets&quot; select=&quot;''&quot;/&gt;
+
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;contains($stylesheets, ' ')&quot;&gt;
+      &lt;link rel=&quot;stylesheet&quot; href=&quot;{substring-before($stylesheets, ' ')}&quot;&gt;
+        &lt;xsl:if test=&quot;$html.stylesheet.type != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;type&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.stylesheet.type&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+      &lt;/link&gt;
+      &lt;xsl:call-template name=&quot;output.html.stylesheets&quot;&gt;
+        &lt;xsl:with-param name=&quot;stylesheets&quot; select=&quot;substring-after($stylesheets, ' ')&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$stylesheets != ''&quot;&gt;
+      &lt;link rel=&quot;stylesheet&quot; href=&quot;{$stylesheets}&quot;&gt;
+        &lt;xsl:if test=&quot;$html.stylesheet.type != ''&quot;&gt;
+          &lt;xsl:attribute name=&quot;type&quot;&gt;
+            &lt;xsl:value-of select=&quot;$html.stylesheet.type&quot;/&gt;
+          &lt;/xsl:attribute&gt;
+        &lt;/xsl:if&gt;
+      &lt;/link&gt;
+    &lt;/xsl:when&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;head.keywords.content&quot;&gt;
+  &lt;xsl:apply-templates select=&quot;chapterinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;appendixinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;prefaceinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;bookinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;setinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;articleinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;artheader/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect1info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect2info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect3info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect4info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;sect5info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect1info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect2info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refsect3info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;bibliographyinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;glossaryinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;indexinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;refentryinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;partinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;referenceinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;docinfo/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+  &lt;xsl:apply-templates select=&quot;info/keywordset&quot; mode=&quot;html.header&quot;/&gt;
+
+  &lt;xsl:if test=&quot;$inherit.keywords != 0
+                and parent::*&quot;&gt;
+    &lt;xsl:apply-templates select=&quot;parent::*&quot; mode=&quot;head.keywords.content&quot;/&gt;
+  &lt;/xsl:if&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template name=&quot;system.head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- system.head.content is like user.head.content, except that
+       it is called before head.content. This is important because it
+       means, for example, that &lt;style&gt; elements output by system.head.content
+       have a lower CSS precedence than the users stylesheet. --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ============================================================ --&gt;
+
+&lt;xsl:template name=&quot;user.preroot&quot;&gt;
+  &lt;!-- Pre-root output, can be used to output comments and PIs. --&gt;
+  &lt;!-- This must not output any element content! --&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.head.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.header.navigation&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.header.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.footer.content&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;user.footer.navigation&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;/&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;function-available('exsl:node-set')
+                    and namespace-uri(*[1]) = '<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>'&quot;&gt;
+      &lt;!-- Hack! If someone hands us a DocBook NG document, toss the namespace --&gt;
+      &lt;!-- and continue. Someday we may reverse this logic and add the namespace --&gt;
+      &lt;!-- to documents that don't have one. But not before the whole stylesheet --&gt;
+      &lt;!-- has been converted to use namespaces. i.e., don't hold your breath --&gt;
+      &lt;xsl:message&gt;Stripping NS from DocBook-NG document.&lt;/xsl:message&gt;
+      &lt;xsl:variable name=&quot;nons&quot;&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:variable&gt;
+      &lt;xsl:message&gt;Processing stripped document.&lt;/xsl:message&gt;
+      &lt;xsl:apply-templates select=&quot;exsl:node-set($nons)&quot;/&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:choose&gt;
+	&lt;xsl:when test=&quot;$rootid != ''&quot;&gt;
+	  &lt;xsl:choose&gt;
+	    &lt;xsl:when test=&quot;count(key('id',$rootid)) = 0&quot;&gt;
+	      &lt;xsl:message terminate=&quot;yes&quot;&gt;
+		&lt;xsl:text&gt;ID '&lt;/xsl:text&gt;
+		&lt;xsl:value-of select=&quot;$rootid&quot;/&gt;
+		&lt;xsl:text&gt;' not found in document.&lt;/xsl:text&gt;
+	      &lt;/xsl:message&gt;
+	    &lt;/xsl:when&gt;
+	    &lt;xsl:otherwise&gt;
+	      &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or
+		            $collect.xref.targets = 'only'&quot;&gt;
+		&lt;xsl:apply-templates select=&quot;key('id', $rootid)&quot;
+				     mode=&quot;collect.targets&quot;/&gt;
+	      &lt;/xsl:if&gt;
+	      &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+		&lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;
+				     mode=&quot;process.root&quot;/&gt;
+		&lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+		  &lt;xsl:apply-templates select=&quot;key('id',$rootid)&quot;
+				       mode=&quot;collect.tex.math&quot;/&gt;
+		&lt;/xsl:if&gt;
+	      &lt;/xsl:if&gt;
+	    &lt;/xsl:otherwise&gt;
+	  &lt;/xsl:choose&gt;
+	&lt;/xsl:when&gt;
+	&lt;xsl:otherwise&gt;
+	  &lt;xsl:if test=&quot;$collect.xref.targets = 'yes' or
+		        $collect.xref.targets = 'only'&quot;&gt;
+	    &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;collect.targets&quot;/&gt;
+	  &lt;/xsl:if&gt;
+	  &lt;xsl:if test=&quot;$collect.xref.targets != 'only'&quot;&gt;
+	    &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;process.root&quot;/&gt;
+	    &lt;xsl:if test=&quot;$tex.math.in.alt != ''&quot;&gt;
+	      &lt;xsl:apply-templates select=&quot;/&quot; mode=&quot;collect.tex.math&quot;/&gt;
+	    &lt;/xsl:if&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:otherwise&gt;
+      &lt;/xsl:choose&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;process.root&quot;&gt;
+  &lt;xsl:variable name=&quot;doc&quot; select=&quot;self::*&quot;/&gt;
+
+  &lt;xsl:call-template name=&quot;user.preroot&quot;/&gt;
+  &lt;xsl:call-template name=&quot;root.messages&quot;/&gt;
+
+  &lt;html&gt;
+    &lt;head&gt;
+      &lt;xsl:call-template name=&quot;system.head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:call-template name=&quot;user.head.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/head&gt;
+    &lt;body&gt;
+      &lt;xsl:call-template name=&quot;body.attributes&quot;/&gt;
+      &lt;xsl:call-template name=&quot;user.header.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+      &lt;xsl:apply-templates select=&quot;.&quot;/&gt;
+      &lt;xsl:call-template name=&quot;user.footer.content&quot;&gt;
+        &lt;xsl:with-param name=&quot;node&quot; select=&quot;$doc&quot;/&gt;
+      &lt;/xsl:call-template&gt;
+    &lt;/body&gt;
+  &lt;/html&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template name=&quot;root.messages&quot;&gt;
+  &lt;!-- redefine this any way you'd like to output messages --&gt;
+  &lt;!-- DO NOT OUTPUT ANYTHING FROM THIS TEMPLATE --&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template name=&quot;chunk&quot;&gt;
+  &lt;xsl:param name=&quot;node&quot; select=&quot;.&quot;/&gt;
+
+  &lt;!-- The default is that we are not chunking... --&gt;
+  &lt;xsl:text&gt;0&lt;/xsl:text&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;xsl:template match=&quot;*&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;namespace-uri(.) = '<A HREF="http://docbook.org/docbook-ng">http://docbook.org/docbook-ng</A>'&quot;&gt;
+      &lt;xsl:element name=&quot;{local-name(.)}&quot;&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:element&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;xsl:copy&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/xsl:copy&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;db:link&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:variable xmlns:xlink=&quot;<A HREF="http://www.w3.org/1999/xlink">http://www.w3.org/1999/xlink</A>&quot;
+		name=&quot;href&quot; select=&quot;@xlink:href|@href&quot;/&gt;
+  &lt;xsl:choose&gt;
+    &lt;xsl:when test=&quot;$href != '' and not(starts-with($href,'#'))&quot;&gt;
+      &lt;ulink url=&quot;{$href}&quot;&gt;
+	&lt;xsl:for-each select=&quot;@*&quot;&gt;
+	  &lt;xsl:if test=&quot;local-name(.) != 'href'&quot;&gt;
+	    &lt;xsl:copy/&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:for-each&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/ulink&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:when test=&quot;$href != '' and starts-with($href,'#')&quot;&gt;
+      &lt;link linkend=&quot;{substring-after($href,'#')}&quot;&gt;
+	&lt;xsl:for-each select=&quot;@*&quot;&gt;
+	  &lt;xsl:if test=&quot;local-name(.) != 'href'&quot;&gt;
+	    &lt;xsl:copy/&gt;
+	  &lt;/xsl:if&gt;
+	&lt;/xsl:for-each&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/link&gt;
+    &lt;/xsl:when&gt;
+    &lt;xsl:otherwise&gt;
+      &lt;link&gt;
+	&lt;xsl:copy-of select=&quot;@*&quot;/&gt;
+	&lt;xsl:apply-templates mode=&quot;stripNS&quot;/&gt;
+      &lt;/link&gt;
+    &lt;/xsl:otherwise&gt;
+  &lt;/xsl:choose&gt;
+&lt;/xsl:template&gt;
+
+&lt;xsl:template match=&quot;comment()|processing-instruction()|text()&quot; mode=&quot;stripNS&quot;&gt;
+  &lt;xsl:copy/&gt;
+&lt;/xsl:template&gt;
+
+&lt;!-- ==================================================================== --&gt;
+
+&lt;/xsl:stylesheet&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002407.html">[Cachewolf-svn] r2482 - trunk
</A></li>
	<LI>Next message: <A HREF="002409.html">[Cachewolf-svn] r2484 - trunk/docs/CacheWolf_Doku/docbook2html_xsl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2408">[ date ]</a>
              <a href="thread.html#2408">[ thread ]</a>
              <a href="subject.html#2408">[ subject ]</a>
              <a href="author.html#2408">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
