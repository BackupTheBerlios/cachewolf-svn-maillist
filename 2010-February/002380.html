<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r2455 - in trunk: resources resources/mmc240x320	resources/mmc480x640 resources/mmcDefault src/CacheWolf/navi	src/CacheWolf/navi/touchControls
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2455%20-%20in%20trunk%3A%20resources%20resources/mmc240x320%0A%09resources/mmc480x640%20resources/mmcDefault%20src/CacheWolf/navi%0A%09src/CacheWolf/navi/touchControls&In-Reply-To=%3C201002162209.o1GM9PI2023501%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002379.html">
   <LINK REL="Next"  HREF="002381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r2455 - in trunk: resources resources/mmc240x320	resources/mmc480x640 resources/mmcDefault src/CacheWolf/navi	src/CacheWolf/navi/touchControls</H1>
    <B>araber95 at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2455%20-%20in%20trunk%3A%20resources%20resources/mmc240x320%0A%09resources/mmc480x640%20resources/mmcDefault%20src/CacheWolf/navi%0A%09src/CacheWolf/navi/touchControls&In-Reply-To=%3C201002162209.o1GM9PI2023501%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r2455 - in trunk: resources resources/mmc240x320	resources/mmc480x640 resources/mmcDefault src/CacheWolf/navi	src/CacheWolf/navi/touchControls">araber95 at mail.berlios.de
       </A><BR>
    <I>Tue Feb 16 23:09:25 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002379.html">[Cachewolf-svn] r2454 - in trunk: res_noewe/templates src/CacheWolf	src/CacheWolf/exp
</A></li>
        <LI>Next message: <A HREF="002381.html">[Cachewolf-svn] r2456 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2380">[ date ]</a>
              <a href="thread.html#2380">[ thread ]</a>
              <a href="subject.html#2380">[ subject ]</a>
              <a href="author.html#2380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: araber95
Date: 2010-02-16 23:08:47 +0100 (Tue, 16 Feb 2010)
New Revision: 2455

Added:
   trunk/resources/mmc240x320/
   trunk/resources/mmc240x320/bg_q.png
   trunk/resources/mmc240x320/bg_q_active.png
   trunk/resources/mmc240x320/bg_w.png
   trunk/resources/mmc240x320/icon_1to1.png
   trunk/resources/mmc240x320/icon_all.png
   trunk/resources/mmc240x320/icon_close.png
   trunk/resources/mmc240x320/icon_folder.png
   trunk/resources/mmc240x320/icon_folders.png
   trunk/resources/mmc240x320/icon_gps.png
   trunk/resources/mmc240x320/icon_map.png
   trunk/resources/mmc240x320/icon_map_all.png
   trunk/resources/mmc240x320/icon_map_cache.png
   trunk/resources/mmc240x320/icon_map_fill.png
   trunk/resources/mmc240x320/icon_map_highest_res.png
   trunk/resources/mmc240x320/icon_map_less_details.png
   trunk/resources/mmc240x320/icon_map_man_res.png
   trunk/resources/mmc240x320/icon_map_more_details.png
   trunk/resources/mmc240x320/icon_map_no_cache.png
   trunk/resources/mmc240x320/icon_map_no_fill.png
   trunk/resources/mmc240x320/icon_map_pos_dest.png
   trunk/resources/mmc240x320/icon_nomap.png
   trunk/resources/mmc240x320/icon_to_centre.png
   trunk/resources/mmc240x320/icon_to_gps.png
   trunk/resources/mmc240x320/icon_to_target.png
   trunk/resources/mmc240x320/icon_zoom.png
   trunk/resources/mmc240x320/icon_zoom_in.png
   trunk/resources/mmc240x320/icon_zoom_out.png
   trunk/resources/mmc240x320/movingMapControls.xml
   trunk/resources/mmc240x320/text_left_110x33.png
   trunk/resources/mmc240x320/text_right_110x33.png
   trunk/resources/mmc480x640/
   trunk/resources/mmc480x640/360x90.png
   trunk/resources/mmc480x640/360x90_active.png
   trunk/resources/mmc480x640/90x90.png
   trunk/resources/mmc480x640/90x90_active.png
   trunk/resources/mmc480x640/icon_1to1.png
   trunk/resources/mmc480x640/icon_all.png
   trunk/resources/mmc480x640/icon_close.png
   trunk/resources/mmc480x640/icon_folder.png
   trunk/resources/mmc480x640/icon_folders.png
   trunk/resources/mmc480x640/icon_gps.png
   trunk/resources/mmc480x640/icon_map.png
   trunk/resources/mmc480x640/icon_map_all.png
   trunk/resources/mmc480x640/icon_map_cache.png
   trunk/resources/mmc480x640/icon_map_fill.png
   trunk/resources/mmc480x640/icon_map_highest_res.png
   trunk/resources/mmc480x640/icon_map_less_details.png
   trunk/resources/mmc480x640/icon_map_man_res.png
   trunk/resources/mmc480x640/icon_map_more_details.png
   trunk/resources/mmc480x640/icon_map_no_cache.png
   trunk/resources/mmc480x640/icon_map_no_fill.png
   trunk/resources/mmc480x640/icon_map_pos_dest.png
   trunk/resources/mmc480x640/icon_nomap.png
   trunk/resources/mmc480x640/icon_to_centre.png
   trunk/resources/mmc480x640/icon_to_gps.png
   trunk/resources/mmc480x640/icon_to_target.png
   trunk/resources/mmc480x640/icon_zoom.png
   trunk/resources/mmc480x640/icon_zoom_in.png
   trunk/resources/mmc480x640/icon_zoom_out.png
   trunk/resources/mmc480x640/movingMapControls.xml
   trunk/resources/mmc480x640/text_left_110x33.png
   trunk/resources/mmc480x640/text_right_110x33.png
   trunk/resources/mmcDefault/
   trunk/resources/mmcDefault/360x90.png
   trunk/resources/mmcDefault/360x90_active.png
   trunk/resources/mmcDefault/90x90.png
   trunk/resources/mmcDefault/90x90_active.png
   trunk/resources/mmcDefault/icon_1to1.png
   trunk/resources/mmcDefault/icon_all.png
   trunk/resources/mmcDefault/icon_close.png
   trunk/resources/mmcDefault/icon_folder.png
   trunk/resources/mmcDefault/icon_folders.png
   trunk/resources/mmcDefault/icon_gps.png
   trunk/resources/mmcDefault/icon_map.png
   trunk/resources/mmcDefault/icon_map_all.png
   trunk/resources/mmcDefault/icon_map_cache.png
   trunk/resources/mmcDefault/icon_map_fill.png
   trunk/resources/mmcDefault/icon_map_highest_res.png
   trunk/resources/mmcDefault/icon_map_less_details.png
   trunk/resources/mmcDefault/icon_map_man_res.png
   trunk/resources/mmcDefault/icon_map_more_details.png
   trunk/resources/mmcDefault/icon_map_no_cache.png
   trunk/resources/mmcDefault/icon_map_no_fill.png
   trunk/resources/mmcDefault/icon_map_pos_dest.png
   trunk/resources/mmcDefault/icon_nomap.png
   trunk/resources/mmcDefault/icon_to_centre.png
   trunk/resources/mmcDefault/icon_to_gps.png
   trunk/resources/mmcDefault/icon_to_target.png
   trunk/resources/mmcDefault/icon_zoom.png
   trunk/resources/mmcDefault/icon_zoom_in.png
   trunk/resources/mmcDefault/icon_zoom_out.png
   trunk/resources/mmcDefault/movingMapControls.xml
   trunk/resources/mmcDefault/text_left_110x33.png
   trunk/resources/mmcDefault/text_right_110x33.png
   trunk/src/CacheWolf/navi/touchControls/
   trunk/src/CacheWolf/navi/touchControls/AniImageGrayScaled.java
   trunk/src/CacheWolf/navi/touchControls/ICommandListener.java
   trunk/src/CacheWolf/navi/touchControls/ImageWithText.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java
Log:
preparation for touchmap

Added: trunk/resources/mmc240x320/bg_q.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/bg_q.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/bg_q_active.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/bg_q_active.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/bg_w.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/bg_w.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_1to1.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_1to1.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_all.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_all.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_close.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_close.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_folder.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_folder.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_folders.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_folders.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_gps.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_gps.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_all.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_all.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_cache.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_cache.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_fill.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_fill.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_highest_res.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_highest_res.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_less_details.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_less_details.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_man_res.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_man_res.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_more_details.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_more_details.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_no_cache.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_no_cache.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_no_fill.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_no_fill.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_map_pos_dest.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_map_pos_dest.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_nomap.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_nomap.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_to_centre.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_to_centre.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_to_gps.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_to_gps.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_to_target.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_to_target.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_zoom.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_zoom.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_zoom_in.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_zoom_in.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/icon_zoom_out.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/icon_zoom_out.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/movingMapControls.xml
===================================================================
--- trunk/resources/mmc240x320/movingMapControls.xml	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/resources/mmc240x320/movingMapControls.xml	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,70 @@
+&lt;mmc&gt;
+	&lt;settings fontsize=&quot;12&quot;/&gt;
+
+	&lt;role name=&quot;always&quot; active=&quot;true&quot;/&gt;
+	&lt;role name=&quot;menu&quot;/&gt;
+	&lt;role name=&quot;zoom&quot; disable=&quot;map|centermap|detail&quot;/&gt;
+	&lt;role name=&quot;centermap&quot;  disable=&quot;zoom|map|detail&quot;/&gt;
+	&lt;role name=&quot;map&quot; disable=&quot;zoom|centermap|detail&quot;/&gt;
+	&lt;role name=&quot;detail&quot; disable=&quot;zoom|centermap|map&quot;/&gt;
+	&lt;role name=&quot;show_map&quot; active=&quot;true&quot;/&gt; &lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;show_caches&quot; active=&quot;true&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;fill_white&quot; active=&quot;true&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;zoom_manually&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+
+	&lt;!-- Buttons right side --&gt;
+	&lt;button action=&quot;close&quot; fromRight=&quot;51&quot; fromTop=&quot;1&quot; location=&quot;mmc240x320/bg_q.png&quot;  icon=&quot;mmc240x320/icon_close.png&quot;  alpha=&quot;80&quot; visibleIf=&quot;!menu&quot; /&gt;
+	&lt;button action=&quot;moveToGps&quot; fromRight=&quot;51&quot; fromTop=&quot;50&quot; location=&quot;mmc240x320/bg_q.png&quot;  icon=&quot;mmc240x320/icon_gps.png&quot;  alpha=&quot;80&quot; visibleIf=&quot;!menu&quot; /&gt;
+	
+	&lt;!-- buttom text icons --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;0&quot; fromBottom=&quot;33&quot; changeStateof=&quot;menu&quot; location=&quot;mmc240x320/text_left_110x33.png&quot; alpha=&quot;220&quot; visibleIf=&quot;!menu&quot; content=&quot;distance&quot; alignText=&quot;BL&quot;/&gt;
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromRight=&quot;110&quot; fromBottom=&quot;33&quot; changeStateof=&quot;menu&quot; location=&quot;mmc240x320/text_right_110x33.png&quot; alpha=&quot;220&quot; visibleIf=&quot;!menu&quot; content=&quot;scale&quot; alignText=&quot;BR&quot;/&gt;
+
+	&lt;!-- menu items --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;1&quot; changeStateof=&quot;map&quot; location=&quot;mmc240x320/bg_q.png&quot;  icon=&quot;mmc240x320/icon_map.png&quot;  visibleIf=&quot;menu+!map&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;1&quot; changeStateof=&quot;map&quot; location=&quot;mmc240x320/bg_q_active.png&quot;  icon=&quot;mmc240x320/icon_map.png&quot; visibleIf=&quot;menu+map&quot; /&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;50&quot; changeStateof=&quot;zoom&quot; location=&quot;mmc240x320/bg_q.png&quot;  icon=&quot;mmc240x320/icon_zoom.png&quot; visibleIf=&quot;menu+!zoom&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;50&quot; changeStateof=&quot;zoom&quot; location=&quot;mmc240x320/bg_q_active.png&quot;  icon=&quot;mmc240x320/icon_zoom.png&quot; visibleIf=&quot;menu+zoom&quot; /&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;100&quot; changeStateof=&quot;detail&quot; location=&quot;mmc240x320/bg_q.png&quot; icon=&quot;mmc240x320/icon_map_pos_dest.png&quot; visibleIf=&quot;menu+!detail&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;100&quot; changeStateof=&quot;detail&quot; location=&quot;mmc240x320/bg_q_active.png&quot;  icon=&quot;mmc240x320/icon_map_pos_dest.png&quot; visibleIf=&quot;menu+detail&quot; /&gt;	
+		
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;150&quot; changeStateof=&quot;centermap&quot; location=&quot;mmc240x320/bg_q.png&quot; icon=&quot;mmc240x320/icon_to_centre.png&quot; visibleIf=&quot;menu+!centermap&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;150&quot; changeStateof=&quot;centermap&quot; location=&quot;mmc240x320/bg_q_active.png&quot;  icon=&quot;mmc240x320/icon_to_centre.png&quot; visibleIf=&quot;menu+centermap&quot; /&gt;	
+	
+	
+	&lt;!-- sub menu: map --&gt;
+	&lt;button action=&quot;selectMap&quot; fromLeft=&quot;54&quot; fromTop=&quot;0&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_folder.png&quot;  visibleIf=&quot;menu+map&quot; localeDefault=&quot;Select a map manually$s&quot; localeID=&quot;4235&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeMapDir&quot; fromLeft=&quot;54&quot; fromTop=&quot;50&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_folders.png&quot;  visibleIf=&quot;menu+map&quot; localeDefault=&quot;Change map directory&quot; localeID=&quot;4237&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;54&quot; fromTop=&quot;100&quot; changeStateof=&quot;show_map&quot; location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map.png&quot;  visibleIf=&quot;menu+map+!show_map&quot; localeDefault=&quot;Show map&quot; localeID=&quot;4239&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;54&quot; fromTop=&quot;100&quot; changeStateof=&quot;show_map&quot; location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_nomap.png&quot;  visibleIf=&quot;menu+map+show_map&quot; localeDefault=&quot;Hide map&quot; localeID=&quot;4241&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;54&quot; fromTop=&quot;150&quot; changeStateof=&quot;fill_white&quot; location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_no_fill.png&quot;  visibleIf=&quot;menu+map+!fill_white&quot; localeDefault=&quot;Show white areas&quot; localeID=&quot;4267&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;54&quot; fromTop=&quot;150&quot; changeStateof=&quot;fill_white&quot; location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_fill.png&quot;  visibleIf=&quot;menu+map+fill_white&quot; localeDefault=&quot;Fill white areas&quot; localeID=&quot;4266&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;54&quot; fromTop=&quot;200&quot; changeStateof=&quot;show_caches&quot; location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_cache.png&quot;  visibleIf=&quot;menu+map+!show_caches&quot; localeDefault=&quot;Alle Cache anzeigen&quot; localeID=&quot;4268&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;54&quot; fromTop=&quot;200&quot; changeStateof=&quot;show_caches&quot; location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_no_cache.png&quot;  visibleIf=&quot;menu+map+show_caches&quot; localeDefault=&quot;Keine Cache anzeigen&quot; localeID=&quot;4269&quot; alignText=&quot;CR&quot;/&gt;	
+		
+	&lt;!-- sub menu: zoom --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;54&quot; fromTop=&quot;0&quot; changeStateof=&quot;zoom_manually&quot; location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_zoom.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Activate manually zoom&quot; localeID=&quot;4292&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;zoomin&quot; fromLeft=&quot;54&quot; fromTop=&quot;50&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_zoom_in.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom in&quot; localeID=&quot;4291&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;zoomout&quot; fromLeft=&quot;54&quot; fromTop=&quot;100&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_zoom_out.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom out&quot; localeID=&quot;4290&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;1to1&quot; fromLeft=&quot;54&quot; fromTop=&quot;150&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_1to1.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom to original resolution&quot; localeID=&quot;4293&quot; alignText=&quot;CR&quot;/&gt;	
+		
+	
+	&lt;!-- sub menu: center map --&gt;
+	&lt;button action=&quot;moveToDest&quot; fromLeft=&quot;54&quot; fromTop=&quot;0&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_to_target.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to goto point&quot; localeID=&quot;4260&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moveToGps&quot; fromLeft=&quot;54&quot; fromTop=&quot;50&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_to_gps.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to GPS position&quot; localeID=&quot;4262&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moveToCenter&quot; fromLeft=&quot;54&quot; fromTop=&quot;100&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_to_centre.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to centre&quot; localeID=&quot;4264&quot; alignText=&quot;CR&quot;/&gt;	
+	
+	&lt;!-- sub menu: detail --&gt;
+	&lt;button action=&quot;highestResGpsDest&quot; fromLeft=&quot;54&quot; fromTop=&quot;0&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_pos_dest.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault= &quot;Highest res. containing dest.  cur. position&quot; localeID=&quot;4244&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;highestResolution&quot; fromLeft=&quot;54&quot; fromTop=&quot;50&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_highest_res.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Highest resolution&quot; localeID=&quot;4246&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;keepManResolution&quot; fromLeft=&quot;54&quot; fromTop=&quot;100&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_man_res.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Keep manual resolution&quot; localeID=&quot;4248&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;allCachesRes&quot; fromLeft=&quot;54&quot; fromTop=&quot;150&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_all.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map containing all marked caches&quot; localeID=&quot;4252&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moreDetails&quot; fromLeft=&quot;54&quot; fromTop=&quot;200&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_more_details.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map with more details&quot; localeID=&quot;4254&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moreOverview&quot; fromLeft=&quot;54&quot; fromTop=&quot;250&quot;  location=&quot;mmc240x320/bg_w.png&quot;  icon=&quot;mmc240x320/icon_map_less_details.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map for a better overview&quot; localeID=&quot;4256&quot; alignText=&quot;CR&quot;/&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromRight=&quot;45&quot; fromTop=&quot;100&quot; changeStateof=&quot;zoom_manually&quot; location=&quot;mmcDefault/icon_zoom.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot;  visibleIf=&quot;!menu+zoom_manually&quot;/&gt;	
+&lt;/mmc&gt;

Added: trunk/resources/mmc240x320/text_left_110x33.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/text_left_110x33.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc240x320/text_right_110x33.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc240x320/text_right_110x33.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/360x90.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/360x90.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/360x90_active.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/360x90_active.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/90x90.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/90x90.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/90x90_active.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/90x90_active.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_1to1.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_1to1.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_all.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_all.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_close.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_close.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_folder.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_folder.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_folders.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_folders.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_gps.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_gps.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_all.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_all.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_cache.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_cache.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_fill.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_fill.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_highest_res.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_highest_res.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_less_details.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_less_details.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_man_res.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_man_res.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_more_details.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_more_details.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_no_cache.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_no_cache.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_no_fill.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_no_fill.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_map_pos_dest.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_map_pos_dest.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_nomap.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_nomap.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_to_centre.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_to_centre.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_to_gps.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_to_gps.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_to_target.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_to_target.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_zoom.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_zoom.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_zoom_in.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_zoom_in.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/icon_zoom_out.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/icon_zoom_out.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/movingMapControls.xml
===================================================================
--- trunk/resources/mmc480x640/movingMapControls.xml	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/resources/mmc480x640/movingMapControls.xml	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,71 @@
+&lt;mmc&gt;
+	&lt;settings fontsize=&quot;20&quot;/&gt;
+
+	&lt;role name=&quot;always&quot; active=&quot;true&quot;/&gt;
+	&lt;role name=&quot;menu&quot;/&gt;
+	&lt;role name=&quot;zoom&quot; disable=&quot;map|centermap|detail&quot;/&gt;
+	&lt;role name=&quot;centermap&quot;  disable=&quot;zoom|map|detail&quot;/&gt;
+	&lt;role name=&quot;map&quot; disable=&quot;zoom|centermap|detail&quot;/&gt;
+	&lt;role name=&quot;detail&quot; disable=&quot;zoom|centermap|map&quot;/&gt;
+	&lt;role name=&quot;show_map&quot; active=&quot;true&quot;/&gt; &lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;show_caches&quot; active=&quot;true&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;fill_white&quot; active=&quot;true&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;zoom_manually&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+
+	&lt;!-- Buttons right side --&gt;
+	&lt;button action=&quot;close&quot; fromRight=&quot;91&quot; fromTop=&quot;1&quot; location=&quot;mmc480x640/90x90.png&quot;  icon=&quot;mmc480x640/icon_close.png&quot;  alpha=&quot;80&quot; visibleIf=&quot;!menu&quot; /&gt;
+	&lt;button action=&quot;moveToGps&quot; fromRight=&quot;91&quot; fromTop=&quot;96&quot; location=&quot;mmc480x640/90x90.png&quot;  icon=&quot;mmc480x640/icon_gps.png&quot;  alpha=&quot;80&quot; visibleIf=&quot;!menu&quot; /&gt;
+	
+	&lt;!-- buttom text icons --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;0&quot; fromBottom=&quot;33&quot; changeStateof=&quot;menu&quot; location=&quot;mmc480x640/text_left_110x33.png&quot; alpha=&quot;220&quot; visibleIf=&quot;!menu&quot; content=&quot;distance&quot; alignText=&quot;BL&quot;/&gt;
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromRight=&quot;110&quot; fromBottom=&quot;33&quot; changeStateof=&quot;menu&quot; location=&quot;mmc480x640/text_right_110x33.png&quot; alpha=&quot;220&quot; visibleIf=&quot;!menu&quot; content=&quot;scale&quot; alignText=&quot;BR&quot;/&gt;
+
+	&lt;!-- menu items --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;1&quot; changeStateof=&quot;map&quot; location=&quot;mmc480x640/90x90.png&quot;  icon=&quot;mmc480x640/icon_map.png&quot;  visibleIf=&quot;menu+!map&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;1&quot; changeStateof=&quot;map&quot; location=&quot;mmc480x640/90x90_active.png&quot;  icon=&quot;mmc480x640/icon_map.png&quot; visibleIf=&quot;menu+map&quot; /&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;95&quot; changeStateof=&quot;zoom&quot; location=&quot;mmc480x640/90x90.png&quot;  icon=&quot;mmc480x640/icon_zoom.png&quot; visibleIf=&quot;menu+!zoom&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;95&quot; changeStateof=&quot;zoom&quot; location=&quot;mmc480x640/90x90_active.png&quot;  icon=&quot;mmc480x640/icon_zoom.png&quot; visibleIf=&quot;menu+zoom&quot; /&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;190&quot; changeStateof=&quot;detail&quot; location=&quot;mmc480x640/90x90.png&quot; icon=&quot;mmc480x640/icon_map_pos_dest.png&quot; visibleIf=&quot;menu+!detail&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;190&quot; changeStateof=&quot;detail&quot; location=&quot;mmc480x640/90x90_active.png&quot;  icon=&quot;mmc480x640/icon_map_pos_dest.png&quot; visibleIf=&quot;menu+detail&quot; /&gt;	
+		
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;285&quot; changeStateof=&quot;centermap&quot; location=&quot;mmc480x640/90x90.png&quot; icon=&quot;mmc480x640/icon_to_centre.png&quot; visibleIf=&quot;menu+!centermap&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;285&quot; changeStateof=&quot;centermap&quot; location=&quot;mmc480x640/90x90_active.png&quot;  icon=&quot;mmc480x640/icon_to_centre.png&quot; visibleIf=&quot;menu+centermap&quot; /&gt;	
+	
+	
+	&lt;!-- sub menu: map --&gt;
+	&lt;button action=&quot;selectMap&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_folder.png&quot;  visibleIf=&quot;menu+map&quot; localeDefault=&quot;Select a map manually$s&quot; localeID=&quot;4235&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeMapDir&quot; fromLeft=&quot;106&quot; fromTop=&quot;95&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_folders.png&quot;  visibleIf=&quot;menu+map&quot; localeDefault=&quot;Change map directory&quot; localeID=&quot;4237&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot; changeStateof=&quot;show_map&quot; location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map.png&quot;  visibleIf=&quot;menu+map+!show_map&quot; localeDefault=&quot;Show map&quot; localeID=&quot;4239&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot; changeStateof=&quot;show_map&quot; location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_nomap.png&quot;  visibleIf=&quot;menu+map+show_map&quot; localeDefault=&quot;Hide map&quot; localeID=&quot;4241&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;285&quot; changeStateof=&quot;fill_white&quot; location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_no_fill.png&quot;  visibleIf=&quot;menu+map+!fill_white&quot; localeDefault=&quot;Show white areas&quot; localeID=&quot;4267&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;285&quot; changeStateof=&quot;fill_white&quot; location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_fill.png&quot;  visibleIf=&quot;menu+map+fill_white&quot; localeDefault=&quot;Fill white areas&quot; localeID=&quot;4266&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;380&quot; changeStateof=&quot;show_caches&quot; location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_cache.png&quot;  visibleIf=&quot;menu+map+!show_caches&quot; localeDefault=&quot;Alle Cache anzeigen&quot; localeID=&quot;4268&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;380&quot; changeStateof=&quot;show_caches&quot; location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_no_cache.png&quot;  visibleIf=&quot;menu+map+show_caches&quot; localeDefault=&quot;Keine Cache anzeigen&quot; localeID=&quot;4269&quot; alignText=&quot;CR&quot;/&gt;	
+		
+	&lt;!-- sub menu: zoom --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot; changeStateof=&quot;zoom_manually&quot; location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot;  visibleIf=&quot;menu+zoom+!zoom_manually&quot; localeDefault=&quot;Manual zoom&quot; localeID=&quot;4292&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot; changeStateof=&quot;zoom_manually&quot; location=&quot;mmcDefault/360x90_active.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot;  visibleIf=&quot;menu+zoom+zoom_manually&quot; localeDefault=&quot;Manual zoom&quot; localeID=&quot;4292&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;zoomin&quot; fromLeft=&quot;106&quot; fromTop=&quot;95&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_zoom_in.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom in&quot; localeID=&quot;4291&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;zoomout&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_zoom_out.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom out&quot; localeID=&quot;4290&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;1to1&quot; fromLeft=&quot;106&quot; fromTop=&quot;285&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_1to1.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom to original resolution&quot; localeID=&quot;4293&quot; alignText=&quot;CR&quot;/&gt;	
+		
+	
+	&lt;!-- sub menu: center map --&gt;
+	&lt;button action=&quot;moveToDest&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_to_target.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to goto point&quot; localeID=&quot;4260&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moveToGps&quot; fromLeft=&quot;106&quot; fromTop=&quot;95&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_to_gps.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to GPS position&quot; localeID=&quot;4262&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moveToCenter&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_to_centre.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to centre&quot; localeID=&quot;4264&quot; alignText=&quot;CR&quot;/&gt;	
+	
+	&lt;!-- sub menu: detail --&gt;
+	&lt;button action=&quot;highestResGpsDest&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_pos_dest.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault= &quot;Highest res. containing dest.  cur. position&quot; localeID=&quot;4244&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;highestResolution&quot; fromLeft=&quot;106&quot; fromTop=&quot;95&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_highest_res.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Highest resolution&quot; localeID=&quot;4246&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;keepManResolution&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_man_res.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Keep manual resolution&quot; localeID=&quot;4248&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;allCachesRes&quot; fromLeft=&quot;106&quot; fromTop=&quot;285&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_all.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map containing all marked caches&quot; localeID=&quot;4252&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moreDetails&quot; fromLeft=&quot;106&quot; fromTop=&quot;380&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_more_details.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map with more details&quot; localeID=&quot;4254&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moreOverview&quot; fromLeft=&quot;106&quot; fromTop=&quot;475&quot;  location=&quot;mmc480x640/360x90.png&quot;  icon=&quot;mmc480x640/icon_map_less_details.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map for a better overview&quot; localeID=&quot;4256&quot; alignText=&quot;CR&quot;/&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromRight=&quot;70&quot; fromTop=&quot;200&quot; changeStateof=&quot;zoom_manually&quot; location=&quot;mmcDefault/icon_zoom.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot;  visibleIf=&quot;!menu+zoom_manually&quot;/&gt;	
+&lt;/mmc&gt;

Added: trunk/resources/mmc480x640/text_left_110x33.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/text_left_110x33.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmc480x640/text_right_110x33.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmc480x640/text_right_110x33.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/360x90.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/360x90.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/360x90_active.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/360x90_active.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/90x90.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/90x90.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/90x90_active.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/90x90_active.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_1to1.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_1to1.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_all.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_all.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_close.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_close.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_folder.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_folder.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_folders.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_folders.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_gps.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_gps.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_all.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_all.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_cache.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_cache.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_fill.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_fill.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_highest_res.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_highest_res.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_less_details.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_less_details.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_man_res.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_man_res.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_more_details.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_more_details.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_no_cache.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_no_cache.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_no_fill.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_no_fill.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_map_pos_dest.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_map_pos_dest.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_nomap.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_nomap.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_to_centre.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_to_centre.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_to_gps.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_to_gps.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_to_target.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_to_target.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_zoom.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_zoom.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_zoom_in.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_zoom_in.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/icon_zoom_out.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/icon_zoom_out.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/movingMapControls.xml
===================================================================
--- trunk/resources/mmcDefault/movingMapControls.xml	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/resources/mmcDefault/movingMapControls.xml	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,74 @@
+&lt;mmc&gt;
+	&lt;settings fontsize=&quot;22&quot;/&gt;
+
+	&lt;role name=&quot;always&quot; active=&quot;true&quot;/&gt;
+	&lt;role name=&quot;menu&quot;/&gt;
+	&lt;role name=&quot;zoom&quot; disable=&quot;map|centermap|detail&quot;/&gt;
+	&lt;role name=&quot;centermap&quot;  disable=&quot;zoom|map|detail&quot;/&gt;
+	&lt;role name=&quot;map&quot; disable=&quot;zoom|centermap|detail&quot;/&gt;
+	&lt;role name=&quot;detail&quot; disable=&quot;zoom|centermap|map&quot;/&gt;
+	&lt;role name=&quot;show_map&quot; active=&quot;true&quot;/&gt; &lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;show_caches&quot; active=&quot;true&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;fill_white&quot; active=&quot;true&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+	&lt;role name=&quot;zoom_manually&quot;/&gt;&lt;!-- this name of role is fix in code! --&gt;
+	
+
+
+	&lt;!-- Buttons right side --&gt;
+	&lt;button action=&quot;close&quot; fromRight=&quot;91&quot; fromTop=&quot;1&quot; location=&quot;mmcDefault/90x90.png&quot;  icon=&quot;mmcDefault/icon_close.png&quot;  alpha=&quot;80&quot; visibleIf=&quot;always&quot; /&gt;
+	&lt;button action=&quot;moveToGps&quot; fromRight=&quot;91&quot; fromTop=&quot;96&quot; location=&quot;mmcDefault/90x90.png&quot;  icon=&quot;mmcDefault/icon_gps.png&quot;  alpha=&quot;80&quot; visibleIf=&quot;always&quot; /&gt;
+	
+	&lt;!-- buttom text icons --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;0&quot; fromBottom=&quot;33&quot; changeStateof=&quot;menu&quot; location=&quot;mmcDefault/text_left_110x33.png&quot; alpha=&quot;220&quot; visibleIf=&quot;!menu&quot; content=&quot;distance&quot; alignText=&quot;BL&quot;/&gt;
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromRight=&quot;110&quot; fromBottom=&quot;33&quot; changeStateof=&quot;menu&quot; location=&quot;mmcDefault/text_right_110x33.png&quot; alpha=&quot;220&quot; visibleIf=&quot;!menu&quot; content=&quot;scale&quot; alignText=&quot;BR&quot;/&gt;
+
+	&lt;!-- menu items --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;1&quot; changeStateof=&quot;map&quot; location=&quot;mmcDefault/90x90.png&quot;  icon=&quot;mmcDefault/icon_map.png&quot;  visibleIf=&quot;menu+!map&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;1&quot; changeStateof=&quot;map&quot; location=&quot;mmcDefault/90x90_active.png&quot;  icon=&quot;mmcDefault/icon_map.png&quot; visibleIf=&quot;menu+map&quot; /&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;95&quot; changeStateof=&quot;zoom&quot; location=&quot;mmcDefault/90x90.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot; visibleIf=&quot;menu+!zoom&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;95&quot; changeStateof=&quot;zoom&quot; location=&quot;mmcDefault/90x90_active.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot; visibleIf=&quot;menu+zoom&quot; /&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;190&quot; changeStateof=&quot;detail&quot; location=&quot;mmcDefault/90x90.png&quot; icon=&quot;mmcDefault/icon_map_pos_dest.png&quot; visibleIf=&quot;menu+!detail&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;190&quot; changeStateof=&quot;detail&quot; location=&quot;mmcDefault/90x90_active.png&quot;  icon=&quot;mmcDefault/icon_map_pos_dest.png&quot; visibleIf=&quot;menu+detail&quot; /&gt;	
+		
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;285&quot; changeStateof=&quot;centermap&quot; location=&quot;mmcDefault/90x90.png&quot; icon=&quot;mmcDefault/icon_to_centre.png&quot; visibleIf=&quot;menu+!centermap&quot; /&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;1&quot; fromTop=&quot;285&quot; changeStateof=&quot;centermap&quot; location=&quot;mmcDefault/90x90_active.png&quot;  icon=&quot;mmcDefault/icon_to_centre.png&quot; visibleIf=&quot;menu+centermap&quot; /&gt;	
+	
+	
+	&lt;!-- sub menu: map --&gt;
+	&lt;button action=&quot;selectMap&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_folder.png&quot;  visibleIf=&quot;menu+map&quot; localeDefault=&quot;Select a map manually$s&quot; localeID=&quot;4235&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeMapDir&quot; fromLeft=&quot;106&quot; fromTop=&quot;95&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_folders.png&quot;  visibleIf=&quot;menu+map&quot; localeDefault=&quot;Change map directory&quot; localeID=&quot;4237&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot; changeStateof=&quot;show_map&quot; location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map.png&quot;  visibleIf=&quot;menu+map+!show_map&quot; localeDefault=&quot;Show map&quot; localeID=&quot;4239&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot; changeStateof=&quot;show_map&quot; location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_nomap.png&quot;  visibleIf=&quot;menu+map+show_map&quot; localeDefault=&quot;Hide map&quot; localeID=&quot;4241&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;285&quot; changeStateof=&quot;fill_white&quot; location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_no_fill.png&quot;  visibleIf=&quot;menu+map+!fill_white&quot; localeDefault=&quot;Show white areas&quot; localeID=&quot;4267&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;285&quot; changeStateof=&quot;fill_white&quot; location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_fill.png&quot;  visibleIf=&quot;menu+map+fill_white&quot; localeDefault=&quot;Fill white areas&quot; localeID=&quot;4266&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;380&quot; changeStateof=&quot;show_caches&quot; location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_cache.png&quot;  visibleIf=&quot;menu+map+!show_caches&quot; localeDefault=&quot;Alle Cache anzeigen&quot; localeID=&quot;4268&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;380&quot; changeStateof=&quot;show_caches&quot; location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_no_cache.png&quot;  visibleIf=&quot;menu+map+show_caches&quot; localeDefault=&quot;Keine Cache anzeigen&quot; localeID=&quot;4269&quot; alignText=&quot;CR&quot;/&gt;	
+		
+	&lt;!-- sub menu: zoom --&gt;
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot; changeStateof=&quot;zoom_manually&quot; location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot;  visibleIf=&quot;menu+zoom+!zoom_manually&quot; localeDefault=&quot;Activate manually zoom&quot; localeID=&quot;4292&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;changeStateOfRole&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot; changeStateof=&quot;zoom_manually&quot; location=&quot;mmcDefault/360x90_active.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot;  visibleIf=&quot;menu+zoom+zoom_manually&quot; localeDefault=&quot;Activate manually zoom&quot; localeID=&quot;4292&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;zoomin&quot; fromLeft=&quot;106&quot; fromTop=&quot;95&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_zoom_in.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom in&quot; localeID=&quot;4291&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;zoomout&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_zoom_out.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom out&quot; localeID=&quot;4290&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;1to1&quot; fromLeft=&quot;106&quot; fromTop=&quot;285&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_1to1.png&quot;  visibleIf=&quot;menu+zoom&quot; localeDefault=&quot;Zoom to original resolution&quot; localeID=&quot;4293&quot; alignText=&quot;CR&quot;/&gt;	
+		
+	
+	&lt;!-- sub menu: center map --&gt;
+	&lt;button action=&quot;moveToDest&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_to_target.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to goto point&quot; localeID=&quot;4260&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moveToGps&quot; fromLeft=&quot;106&quot; fromTop=&quot;95&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_to_gps.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to GPS position&quot; localeID=&quot;4262&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moveToCenter&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_to_centre.png&quot;  visibleIf=&quot;menu+centermap&quot; localeDefault=&quot;Move to centre&quot; localeID=&quot;4264&quot; alignText=&quot;CR&quot;/&gt;	
+	
+	&lt;!-- sub menu: detail --&gt;
+	&lt;button action=&quot;highestResGpsDest&quot; fromLeft=&quot;106&quot; fromTop=&quot;0&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_pos_dest.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault= &quot;Highest res. containing dest.  cur. position&quot; localeID=&quot;4244&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;highestResolution&quot; fromLeft=&quot;106&quot; fromTop=&quot;95&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_highest_res.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Highest resolution&quot; localeID=&quot;4246&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;keepManResolution&quot; fromLeft=&quot;106&quot; fromTop=&quot;190&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_man_res.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Keep manual resolution&quot; localeID=&quot;4248&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;allCachesRes&quot; fromLeft=&quot;106&quot; fromTop=&quot;285&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_all.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map containing all marked caches&quot; localeID=&quot;4252&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moreDetails&quot; fromLeft=&quot;106&quot; fromTop=&quot;380&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_more_details.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map with more details&quot; localeID=&quot;4254&quot; alignText=&quot;CR&quot;/&gt;	
+	&lt;button action=&quot;moreOverview&quot; fromLeft=&quot;106&quot; fromTop=&quot;475&quot;  location=&quot;mmcDefault/360x90.png&quot;  icon=&quot;mmcDefault/icon_map_less_details.png&quot;  visibleIf=&quot;menu+detail&quot; localeDefault=&quot;Load a map for a better overview&quot; localeID=&quot;4256&quot; alignText=&quot;CR&quot;/&gt;	
+	
+	&lt;button action=&quot;changeStateOfRole&quot; fromRight=&quot;70&quot; fromTop=&quot;200&quot; changeStateof=&quot;zoom_manually&quot; location=&quot;mmcDefault/icon_zoom.png&quot;  icon=&quot;mmcDefault/icon_zoom.png&quot;  visibleIf=&quot;!menu+zoom_manually&quot;/&gt;	
+	
+&lt;/mmc&gt;

Added: trunk/resources/mmcDefault/text_left_110x33.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/text_left_110x33.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/mmcDefault/text_right_110x33.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/mmcDefault/text_right_110x33.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/src/CacheWolf/navi/touchControls/AniImageGrayScaled.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/AniImageGrayScaled.java	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/src/CacheWolf/navi/touchControls/AniImageGrayScaled.java	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,19 @@
+package CacheWolf.navi.touchControls;
+
+import ewe.fx.Graphics;
+import ewe.fx.Image;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+
+public class AniImageGrayScaled extends AniImage {
+	public AniImageGrayScaled(Image image) {
+		super(image);
+	}
+
+	public void doDraw(Graphics g, int options) {
+		if ((properties &amp; mImage.IsNotHot) != 0) {
+			options |= DISABLED;
+		}
+		super.doDraw(g, options);
+	}
+}

Added: trunk/src/CacheWolf/navi/touchControls/ICommandListener.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/ICommandListener.java	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/src/CacheWolf/navi/touchControls/ICommandListener.java	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,59 @@
+package CacheWolf.navi.touchControls;
+
+public interface ICommandListener {
+
+	public static final String SELECT_MAP = &quot;selectMap&quot;;
+
+	public static final String CHANGE_MAP_DIR = &quot;changeMapDir&quot;;
+
+	public static final String MOVE_TO_GPS = &quot;moveToGps&quot;;
+
+	public static final String MOVE_TO_DEST = &quot;moveToDest&quot;;
+
+	public static final String MOVE_TO_CENTER = &quot;moveToCenter&quot;;
+
+	public static final String ALL_CACHES_RES = &quot;allCachesRes&quot;;
+
+	public static final String MORE_OVERVIEW = &quot;moreOverview&quot;;
+
+	public static final String MORE_DETAILS = &quot;moreDetails&quot;;
+
+	public static final String KEEP_MAN_RESOLUTION = &quot;keepManResolution&quot;;
+
+	public static final String HIGHEST_RES = &quot;highestResolution&quot;;
+
+	public static final String HIGHEST_RES_GPS_DEST = &quot;highestResGpsDest&quot;;
+
+	public static final String SHOW_MAP = &quot;showMap&quot;;
+
+	public static final String HIDE_MAP = &quot;hideMap&quot;;
+
+	public static final String SHOW_MENU = &quot;menu&quot;;
+
+	public static final String HIDE_MENU = &quot;hide_menu&quot;;
+	
+	public static final String SHOW_CACHES = &quot;show_caches&quot;;
+
+	public static final String HIDE_CACHES = &quot;hide_caches&quot;;
+
+	public static final String ZOOMIN = &quot;zoomin&quot;;
+
+	public static final String ZOOMOUT = &quot;zoomout&quot;;
+	
+	public static final String ZOOM_1_TO_1 = &quot;1to1&quot;;
+
+	public static final String MAP_MOVED = &quot;map_moved&quot;;
+	
+	public static final String POS_UPDATED = &quot;pos_updated&quot;;
+	
+	public static final String GOTO_UPDATED = &quot;goto_updated&quot;;
+
+	public static final String CLOSE = &quot;close&quot;;
+
+	public static final String FILL_MAP = &quot;fillMap&quot;;
+	
+	public static final String NO_FILL_MAP = &quot;nofillMap&quot;;
+
+	public boolean handleCommand(String command);
+
+}

Added: trunk/src/CacheWolf/navi/touchControls/ImageWithText.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/ImageWithText.java	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/src/CacheWolf/navi/touchControls/ImageWithText.java	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,108 @@
+package CacheWolf.navi.touchControls;
+
+import ewe.fx.Color;
+import ewe.fx.Dimension;
+import ewe.fx.Font;
+import ewe.fx.FontMetrics;
+import ewe.fx.Graphics;
+import ewe.fx.Image;
+import ewe.fx.Rect;
+import ewe.graphics.AniImage;
+import ewe.ui.MainWindow;
+import ewe.util.mString;
+
+public class ImageWithText extends AniImage {
+
+	String[] text = null;
+
+	final Font imageFont;
+
+	private FontMetrics fm;
+
+	private int textHeight;
+
+	private int textWidth = 0;
+
+	private int startlineWidth = 0;
+
+	private int xProperties = 0;;
+
+	public ImageWithText(Image imageSrc, int fontsize) {
+		super(imageSrc);
+		imageFont = new Font(&quot;Helvetica&quot;, Font.BOLD,
+				fontsize);
+		
+		MainWindow win = MainWindow.getMainWindow();
+		fm = win.getFontMetrics(imageFont);
+	}
+
+	public synchronized void draw(Graphics g, int x, int y, int options) {
+		super.draw(g, x, y, options);
+		g.setFont(imageFont);
+		g.setColor(Color.Black);
+
+		int completeWidth = textWidth + 5 + startlineWidth;
+		int completeHight = textHeight;
+
+		int startX = x;
+		int startY = y;
+		if ((xProperties &amp; MovingMapControlItem.ICON_TEXT_HORIZONTAL_CENTER) != 0) {
+			startX = x + (getWidth() - completeWidth) / 2;
+		} else if ((xProperties &amp; MovingMapControlItem.ICON_TEXT_RIGHT) != 0) {
+			startX = x + getWidth() - completeWidth-5;
+
+		}
+
+		if ((xProperties &amp; MovingMapControlItem.ICON_TEXT_VERTICAL_CENTER) != 0) {
+			startY = y + (getHeight() - completeHight) / 2;
+		} else if ((xProperties &amp; MovingMapControlItem.ICON_TEXT_BOTTOM) != 0) {
+			startY = y + getHeight() - completeHight;
+		}
+
+		if (startlineWidth &gt; 0) {
+			int startliney = startY + completeHight / 2 - 2;
+			g.drawRect(startX, startliney, startlineWidth, 4);
+			g.fillRect(startX, startliney,
+					startlineWidth /2, 4);
+			
+		}
+		if (text != null) {
+			g.drawText(fm,text,new Rect((startX + 2 + startlineWidth), startY,textWidth,textHeight),Graphics.CENTER,1);
+		}
+	}
+
+	public void setText(String text) {
+		Dimension size = new Dimension();
+		Graphics.getSize(fm, text, size);
+		if (size.width&gt;getWidth()*0.7) {
+			this.text = new String[]{&quot;&quot;,&quot;&quot;};
+			String[] split= mString.split(text, ' ');
+			int lineLength=0;
+			for (int i = 0; i &lt; split.length; i++) {
+				String part = split[i];
+				if (lineLength&gt;text.length()/2) {
+					this.text[1]+=part+&quot; &quot;;
+				}else{
+					this.text[0]+=part+&quot; &quot;;
+					lineLength++;
+					lineLength+=part.length();
+				}
+			}
+			Graphics.getSize(fm, this.text, 0, this.text.length, size);
+		}else{
+			this.text = new String[]{text};
+		}
+		textHeight = size.height;
+		textWidth = size.width;
+		
+	}
+
+	public void setStartlineWitdth(int startlineWidth) {
+		this.startlineWidth = startlineWidth;
+	}
+
+	public void setProperties(int xProperties) {
+		this.xProperties = xProperties;
+
+	}
+}

Added: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,219 @@
+package CacheWolf.navi.touchControls;
+
+import CacheWolf.Global;
+import CacheWolf.Preferences;
+import CacheWolf.navi.touchControls.MovingMapControls.Role;
+import ewe.fx.Image;
+import ewe.graphics.AniImage;
+import ewe.sys.Math;
+import ewe.sys.Vm;
+import ewe.util.Enumeration;
+import ewe.util.Hashtable;
+import ewe.util.mString;
+
+/**
+ * class which represents a item which can be displayed on the map
+ * 
+ * @author H&#228;lmchen
+ */
+public abstract class MovingMapControlItem {
+
+	static public final int DISPLAY_FROM_TOP = 0x10;
+	static public final int DISPLAY_FROM_BOTTOM = 0x20;
+	static public final int DISPLAY_FROM_RIGHT = 0x40;
+	static public final int DISPLAY_FROM_LEFT = 0x80;
+
+	static public final int IS_PLACE_HOLDER = 0x2000;
+	static public final int IS_ICON_WITH_COMMAND = 0x4000;
+	static public final int IS_ICON_WITH_TEXT = 0x8000;
+	static public final int IS_ICON_WITH_FRONTLINE = 0x10000;
+
+	static public final int ICON_TEXT_LEFT = 0x20000;
+	static public final int ICON_TEXT_HORIZONTAL_CENTER = 0x40000;
+	static public final int ICON_TEXT_RIGHT = 0x80000;
+
+	static public final int ICON_TEXT_TOP = 0x100000;
+	static public final int ICON_TEXT_VERTICAL_CENTER = 0x200000;
+	static public final int ICON_TEXT_BOTTOM = 0x400000;
+
+	public int xProperties = 0x0;
+	protected Preferences pref = Global.getPref();
+
+	private String helpText = null;
+	private int xPos;
+	private int yPos;
+	private Hashtable roles = new Hashtable();
+	private String role;
+
+	public static Image createImage(String source, String iconSrc, int alpha) {
+		Image image = new Image(source);
+
+		int imageW = image.getWidth();
+		int imageH = image.getHeight();
+		Image icon = null;
+		if (iconSrc != null) {
+			icon = new Image(iconSrc);
+			int iconW = icon.getWidth();
+			int iconH = icon.getHeight();
+			if (iconH &lt;= imageH &amp;&amp; iconW &lt;= imageW) {
+				int offsetx = (imageW - iconW) / 2;
+				int offsety = (imageH - iconH) / 2;
+
+				// not so nice solution to have the icon at the left side
+				if (offsetx &gt; offsety) {
+					offsetx = offsety;
+				}
+
+				int[] iconPixels = icon.getPixels(null, 0, 0, 0, iconW, iconH,
+						0);
+				int[] imagePixels = image.getPixels(null, 0, 0, 0, imageW,
+						imageH, 0);
+
+				for (int line = 0; line &lt; imageH; line++) {
+					for (int pos = 0; pos &lt; imageW; pos++) {
+
+						if (line &gt;= offsety &amp;&amp; pos &gt;= offsetx
+								&amp;&amp; line &lt; offsety + iconH
+								&amp;&amp; pos &lt; offsetx + iconW) {
+
+							int iconx = pos - offsetx;
+							int icony = line - offsety;
+
+							int index = line * imageW + pos;
+							int iconIndex = icony * iconW + iconx;
+							int alphaval = (iconPixels[iconIndex] &gt;&gt; 24) &amp; 0xff;
+							
+							if (alphaval &gt; 127) {
+								imagePixels[index] = iconPixels[iconIndex];
+							}
+
+						}
+					}
+				}
+
+				image.setPixels(imagePixels, 0, 0, 0, imageW, imageH, 0);
+
+			} else
+				Vm.debug(&quot;icon &quot; + iconSrc + &quot; is bigger than &quot; + source
+						+ &quot;! Icon not loaded&quot;);
+
+		}
+
+		if (alpha &gt;= 0 &amp;&amp; alpha &lt; 256) {
+			alpha = alpha &lt;&lt; 24;
+
+			int[] imageBits = image.getPixels(null, 0, 0, 0, image.getWidth(),
+					image.getHeight(), 0);
+			for (int i = 0; i &lt; imageBits.length; i++) {
+				if (imageBits[i] != 0) {
+					imageBits[i] &amp;= 0xffffff;
+					imageBits[i] |= alpha;
+				}
+
+			}
+			image.setPixels(imageBits, 0, 0, 0, image.getWidth(), image
+					.getHeight(), 0);
+			image.enableAlpha();
+		}
+
+		return image;
+	}
+
+	public abstract int getWidth();
+
+	public abstract int getHeight();
+
+	public abstract AniImage getImage();
+
+	public abstract void setText(String text);
+
+	public String getActionCommand() {
+		return null;
+	}
+
+	public String getContext() {
+		return null;
+	}
+
+	public String getHelp() {
+
+		return helpText;
+	}
+
+	public void setHelpText(String helpText) {
+		this.helpText = helpText;
+	}
+
+	public void setAdditionalProperty(int prop) {
+
+	}
+
+	public void setPosition(int xpos, int ypos) {
+		this.xPos = xpos;
+		this.yPos = ypos;
+	}
+
+	public void addXtraProperties(int xProps) {
+		xProperties |= xProps;
+
+	}
+
+	public void setVisibilityRole(String visibility) {
+		String[] parts = mString.split(visibility, '+');
+
+		for (int i = 0; i &lt; parts.length; i++) {
+			String part = parts[i];
+			if (part.startsWith(&quot;!&quot;)) {
+				roles.put(part.substring(1), Boolean.FALSE);
+			} else {
+				roles.put(part, Boolean.TRUE);
+			}
+		}
+	}
+
+	public boolean isVisible(Hashtable overallRoles) {
+
+		if (roles.size() == 0) {
+			return false;
+		}
+
+		Enumeration keys = roles.keys();
+
+		while (keys.hasMoreElements()) {
+			String nextKey = (String) keys.nextElement();
+
+			Boolean thisElement = (Boolean) roles.get(nextKey);
+			if (!overallRoles.containsKey(nextKey)) {
+				Vm.debug(&quot;Lookup role &quot; + nextKey + &quot; not possible&quot;);
+				return false;
+			}
+
+			Role overallElement = (Role) overallRoles.get(nextKey);
+			if (thisElement.booleanValue() != overallElement.getState()
+					.booleanValue()) {
+				return false;
+			}
+
+		}
+
+		return true;
+
+	}
+
+	public int getxPos() {
+		return xPos;
+	}
+
+	public int getyPos() {
+		return yPos;
+	}
+
+	public String getRoleToChange() {
+		return role;
+	}
+
+	public void setRole(String role) {
+		this.role = role;
+	}
+
+}

Added: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,46 @@
+package CacheWolf.navi.touchControls;
+
+
+import ewe.fx.Image;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.sys.Vm;
+
+public class MovingMapControlItemButton extends MovingMapControlItem {
+
+	private String command;
+	private AniImageGrayScaled aniImage;
+	
+	public MovingMapControlItemButton(String source,String iconSrc, String actionCommand,
+			int alpha) {
+		Image image = MovingMapControlItem.createImage(source, iconSrc, alpha);
+		aniImage = new AniImageGrayScaled(image);
+		aniImage.freeSource();
+		command = actionCommand;
+		aniImage.properties|= mImage.AlwaysOnTop;
+		xProperties|=IS_ICON_WITH_COMMAND;
+	}
+
+	public String getActionCommand() {
+		return command;
+	}
+
+	
+	public int getWidth() {
+		
+		return aniImage.getWidth();
+	}
+
+	public int getHeight() {
+		return aniImage.getHeight();
+	}
+
+	public AniImage getImage() {
+		return aniImage;
+	}
+
+	public void setText(String text) {
+
+	}
+
+}

Added: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,97 @@
+package CacheWolf.navi.touchControls;
+
+
+import ewe.fx.Image;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.sys.Vm;
+import ewe.util.ByteArray;
+
+public class MovingMapControlItemText extends MovingMapControlItem {
+
+	private ImageWithText aniImage;
+	private String command;
+	private String context;
+
+	public MovingMapControlItemText(final String iconText, String imageSource,String iconSource,
+			int alpha, String actionCommand, String context, String alignText,int fontsize) {
+
+		Image image = MovingMapControlItem.createImage(imageSource, iconSource, alpha);
+		
+		aniImage = new ImageWithText(image,fontsize);
+
+		aniImage.setText(iconText);
+		aniImage.freeSource();
+
+		aniImage.properties |= mImage.AlwaysOnTop;
+
+		if (context != null) {
+			this.context = context;
+			xProperties |= IS_ICON_WITH_TEXT;
+			if (context.equals(&quot;scale&quot;)) {
+				xProperties |= IS_ICON_WITH_FRONTLINE;
+			}
+		}
+		if (alignText != null) {
+			alignText = alignText.toUpperCase();
+
+			if (alignText.startsWith(&quot;T&quot;)) {
+				xProperties |= ICON_TEXT_TOP;
+			} else if (alignText.startsWith(&quot;B&quot;)) {
+				xProperties |= ICON_TEXT_BOTTOM;
+			} else
+				xProperties |= ICON_TEXT_VERTICAL_CENTER;
+
+			if (alignText.endsWith(&quot;L&quot;)) {
+				xProperties |= ICON_TEXT_LEFT;
+			} else if (alignText.endsWith(&quot;R&quot;)) {
+				xProperties |= ICON_TEXT_RIGHT;
+			} else
+				xProperties |= ICON_TEXT_HORIZONTAL_CENTER;
+		} else {
+			xProperties |= ICON_TEXT_VERTICAL_CENTER;
+			xProperties |= ICON_TEXT_HORIZONTAL_CENTER;
+		}
+		if (actionCommand != null) {
+			command = actionCommand;
+			xProperties |= IS_ICON_WITH_COMMAND;
+		}
+
+		aniImage.setProperties(xProperties);
+	}
+
+	public void setText(String iconText) {
+		aniImage.setText(iconText);
+	}
+
+	public int getWidth() {
+		return aniImage.getWidth();
+
+	}
+
+	public int getHeight() {
+
+		return aniImage.getHeight();
+	}
+
+	public AniImage getImage() {
+
+		return aniImage;
+	}
+
+	public String getCommand() {
+		return command;
+	}
+
+	public String getContext() {
+		return context;
+	}
+
+	public void setAdditionalProperty(int prop) {
+		aniImage.setStartlineWitdth(prop);
+	}
+
+	public String getActionCommand() {
+		return command;
+	}
+}

Added: trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,254 @@
+package CacheWolf.navi.touchControls;
+
+import CacheWolf.Global;
+import CacheWolf.MyLocale;
+import CacheWolf.Preferences;
+import CacheWolf.navi.touchControls.MovingMapControls.Role;
+import ewe.fx.Dimension;
+import ewe.io.FileBase;
+import ewe.sys.VMApp;
+import ewe.sys.Vm;
+import ewe.util.Hashtable;
+import ewe.util.Vector;
+import ewe.util.mString;
+import ewesoft.xml.MinML;
+import ewesoft.xml.sax.AttributeList;
+import ewesoft.xml.sax.SAXException;
+
+public class MovingMapControlSettings extends MinML {
+
+	public static final String SETTINGS = &quot;settings&quot;;
+	public static final String SETTINGS_ATTR_FONTSIZE = &quot;fontsize&quot;;
+
+	public static final String ROLE = &quot;role&quot;;
+	public static final String ROLE_ATTR_NAME = &quot;name&quot;;
+	public static final String ROLE_ATTR_ACTIVE = &quot;active&quot;;
+	public static final String ROLE_ATTR_DISABLE = &quot;disable&quot;;
+
+	public static final String BUTTON = &quot;button&quot;;
+	public static final String BUTTON_ATTR_FROM_LEFT = &quot;fromLeft&quot;;
+	public static final String BUTTON_ATTR_FROM_TOP = &quot;fromTop&quot;;
+	public static final String BUTTON_ATTR_FROM_RIGHT = &quot;fromRight&quot;;
+	public static final String BUTTON_ATTR_FROM_BOTTOM = &quot;fromBottom&quot;;
+	public static final String BUTTON_ATTR_VISIBILITY = &quot;visibleIf&quot;;
+	public static final String BUTTON_ATTR_CHANGE_STAE_OF = &quot;changeStateof&quot;;
+
+	public static final String BUTTON_ATTR_LOCALE_ID = &quot;localeID&quot;;
+	public static final String BUTTON_ATTR_LOCALE_DEFAULT = &quot;localeDefault&quot;;
+	public static final String BUTTON_ATTR_ALPHA = &quot;alpha&quot;;
+	public static final String BUTTON_ATTR_LOCATION = &quot;location&quot;;
+	public static final String BUTTON_ATTR_ICON = &quot;icon&quot;;
+	public static final String BUTTON_ATTR_ACTION = &quot;action&quot;;
+	public static final String BUTTON_ATTR_CONTEXT = &quot;content&quot;;
+	public static final String BUTTON_ATTR_ALIGNTEXT = &quot;alignText&quot;;
+
+	Vector menuItems = new Vector(10);
+	private Hashtable roles;
+	private int fontsize;
+
+	public MovingMapControlSettings(boolean vga, Hashtable roles) {
+		double fontscale = vga ? 1.5 : 1;
+		this.fontsize = (int) (Global.getPref().fontSize * fontscale);
+		this.roles = roles;
+	}
+
+	public void startElement(String name, AttributeList attributes)
+			throws SAXException {
+
+		if (name.equals(SETTINGS)) {
+			String fontsizeString = attributes.getValue(SETTINGS_ATTR_FONTSIZE);
+			if (fontsizeString != null) {
+				try {
+					fontsize = Integer.parseInt(fontsizeString);
+				} catch (Exception e) {
+					Vm.debug(&quot;fontsize not an int &quot; + fontsizeString);
+				}
+			}
+		}
+
+		if (name.equals(ROLE)) {
+			String role_name = attributes.getValue(ROLE_ATTR_NAME);
+			String role_active = attributes.getValue(ROLE_ATTR_ACTIVE);
+			String disable = attributes.getValue(ROLE_ATTR_DISABLE);
+
+			if (role_name != null) {
+				Role r = new Role();
+				roles.put(role_name, r);
+
+				if (role_active != null) {
+					r.setState(Boolean.TRUE);
+				}
+				if (disable != null) {
+					r.setRolesToDisable(mString.split(disable));
+				}
+			}
+		}
+
+		if (name.equals(BUTTON)) {
+
+			int xProperties = 0;
+			String fromLeft = attributes.getValue(BUTTON_ATTR_FROM_LEFT);
+			String fromRight = attributes.getValue(BUTTON_ATTR_FROM_RIGHT);
+			String fromTop = attributes.getValue(BUTTON_ATTR_FROM_TOP);
+			String fromBottom = attributes.getValue(BUTTON_ATTR_FROM_BOTTOM);
+
+			int xpos = toIntValue(fromLeft);
+			if (xpos &lt; 0) {
+				xpos = toIntValue(fromRight);
+				xProperties |= MovingMapControlItem.DISPLAY_FROM_RIGHT;
+			} else {
+				xProperties |= MovingMapControlItem.DISPLAY_FROM_LEFT;
+			}
+
+			int ypos = toIntValue(fromTop);
+			if (ypos &lt; 0) {
+				ypos = toIntValue(fromBottom);
+				xProperties |= MovingMapControlItem.DISPLAY_FROM_BOTTOM;
+			} else {
+				xProperties |= MovingMapControlItem.DISPLAY_FROM_TOP;
+			}
+
+			if (xpos &lt; 0) {
+				Vm.debug(&quot;the x position of the button has to be set! &quot;
+						+ &quot;use attribute '&quot; + BUTTON_ATTR_FROM_LEFT + &quot;' or '&quot;
+						+ BUTTON_ATTR_FROM_RIGHT + &quot;'&quot;);
+				xpos = 0;
+			}
+
+			if (ypos &lt; 0) {
+				Vm.debug(&quot;the y position of the button has to be set! &quot;
+						+ &quot;use attribute '&quot; + BUTTON_ATTR_FROM_TOP + &quot;' or '&quot;
+						+ BUTTON_ATTR_FROM_BOTTOM + &quot;'&quot;);
+				ypos = 0;
+			}
+
+			String changeState = attributes
+					.getValue(BUTTON_ATTR_CHANGE_STAE_OF);
+
+			String visibility = attributes.getValue(BUTTON_ATTR_VISIBILITY);
+
+			if (visibility == null) {
+				Vm.debug(&quot;no valid &quot; + BUTTON_ATTR_VISIBILITY + &quot; set.&quot;);
+				return;
+			}
+
+			String action = attributes.getValue(BUTTON_ATTR_ACTION);
+			String alpha = attributes.getValue(BUTTON_ATTR_ALPHA);
+			String localeDefault = attributes
+					.getValue(BUTTON_ATTR_LOCALE_DEFAULT);
+			String localeID = attributes.getValue(BUTTON_ATTR_LOCALE_ID);
+			String imageLocation = attributes.getValue(BUTTON_ATTR_LOCATION);
+			String iconLocation = attributes.getValue(BUTTON_ATTR_ICON);
+			String alignText = attributes.getValue(BUTTON_ATTR_ALIGNTEXT);
+			String context = attributes.getValue(BUTTON_ATTR_CONTEXT);
+			if (visibility == null) {
+				Vm.debug(&quot;read MovingMap settings: &quot; + BUTTON_ATTR_VISIBILITY
+						+ &quot; not set!&quot;);
+				return;
+			}
+			if (action == null) {
+				Vm.debug(&quot;read MovingMap settings: &quot; + BUTTON_ATTR_ACTION
+						+ &quot; not set!&quot;);
+				return;
+			}
+			// convert values
+			int alphavalue = -1;
+			if (alpha != null) {
+				try {
+					alphavalue = Integer.parseInt(alpha);
+				} catch (Exception e) {
+					// nothing
+				}
+			}
+
+			int localIDValue = -1;
+
+			if (localeID != null) {
+				try {
+					localIDValue = Integer.parseInt(localeID);
+				} catch (Exception e) {
+					Vm.debug(e.getMessage());
+				}
+			}
+
+			if (imageLocation == null) {
+				// something not set
+				Vm.debug(&quot;Image for '&quot; + localeDefault + &quot;' not found&quot;);
+				return;
+			}
+
+			MovingMapControlItem button;
+			if (context != null) {
+				button = new MovingMapControlItemText(&quot;&quot;, imageLocation,
+						iconLocation, alphavalue, action, context, alignText,
+						fontsize);
+			} else if (localeDefault != null) {
+				button = new MovingMapControlItemText(MyLocale.getMsg(
+						localIDValue, localeDefault), imageLocation,
+						iconLocation, alphavalue, action, context, alignText,
+						fontsize);
+			} else {
+
+				button = new MovingMapControlItemButton(imageLocation,
+						iconLocation, action, alphavalue);
+			}
+
+			button.setVisibilityRole(visibility);
+			if (changeState != null) {
+				button.setRole(changeState);
+			}
+
+			button.setPosition(xpos, ypos);
+			button.addXtraProperties(xProperties);
+
+			menuItems.add(button);
+		}
+
+	}
+
+	private int toIntValue(String pos) {
+		try {
+			return Integer.parseInt(pos);
+		} catch (Exception e) {
+			return -1;
+		}
+	}
+
+	public boolean readFile(Dimension dest) {
+		setDocumentHandler(this);
+
+		String file = FileBase.makePath(FileBase.getProgramDirectory(),
+				&quot;mmcDefault/movingMapControls.xml&quot;);
+
+		if (dest.height &lt;= 320 &amp;&amp; dest.width &lt;= 240) {
+			file = FileBase.makePath(FileBase.getProgramDirectory(),
+					&quot;mmc240x320/movingMapControls.xml&quot;);
+		} else if (dest.height &lt;= 640 &amp;&amp; dest.width &lt;= 480) {
+			file = FileBase.makePath(FileBase.getProgramDirectory(),
+					&quot;mmc480x640/movingMapControls.xml&quot;);
+		}
+		try {
+			Vm.debug(&quot;read mmc file &quot; + file);
+			file = file.replace('\\', '/');
+			ewe.io.Reader r = new ewe.io.InputStreamReader(
+					new ewe.io.FileInputStream(file));
+			parse(r);
+			r.close();
+		} catch (Exception e) {
+			if (e instanceof NullPointerException)
+				Global.getPref().log(
+						&quot;Error reading &quot; + file
+								+ &quot;: NullPointerException in Element &quot; + &quot;&quot;
+								+ &quot;. Wrong attribute, File not existing?&quot;, e,
+						true);
+			else
+				Global.getPref().log(&quot;Error reading &quot; + file + &quot;: &quot;, e);
+			return false;
+		}
+		return true;
+	}
+
+	public Vector getMenuItems() {
+		return menuItems;
+	}
+}

Added: trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java	2010-02-16 22:04:59 UTC (rev 2454)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java	2010-02-16 22:08:47 UTC (rev 2455)
@@ -0,0 +1,319 @@
+package CacheWolf.navi.touchControls;
+
+import CacheWolf.Global;
+import CacheWolf.navi.MovingMap;
+import ewe.fx.Dimension;
+import ewe.fx.Point;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.sys.Vm;
+import ewe.util.Hashtable;
+import ewe.util.Vector;
+
+/**
+ * @author H&#228;lmchen
+ */
+
+public class MovingMapControls implements ICommandListener {
+
+	Vector buttons = null;
+
+	private boolean vga;
+
+	private MovingMap movingMap;
+
+	// private TextImage iconHelp;
+
+	private boolean helpIsVisible = false;
+
+	private int lastTime = Vm.getTimeStamp();
+
+	private Hashtable roles = new Hashtable();
+
+	public MovingMapControls(MovingMap movingMap) {
+		if (movingMap == null) {
+			throw new IllegalArgumentException(&quot;moving map not set&quot;);
+		}
+		Vm.showWait(movingMap, true);
+		this.vga = movingMap.isMobileVga();
+		this.movingMap = movingMap;
+		Dimension di = new Dimension();
+		movingMap.getDisplayedSize(di);
+		Vm.debug(di.height+&quot; &quot;+ di.width);
+		MovingMapControlSettings movingMapControlSettings = new MovingMapControlSettings(
+				vga, roles);
+		
+		Dimension dest= new Dimension();
+		movingMap.getPreferredSize(dest);
+		movingMapControlSettings.readFile(dest);
+		buttons = movingMapControlSettings.getMenuItems();
+
+		// create all needed Buttons
+		setStateOfIcons();
+		Vm.showWait(movingMap, false);
+	}
+
+	private void setStateOfIcons() {
+		for (int i = 0; i &lt; buttons.size(); i++) {
+			MovingMapControlItem item = (MovingMapControlItem) buttons.get(i);
+			AniImage ani = item.getImage();
+			if (ani == null) {
+				continue;
+			}
+			movingMap.getMmp().removeImage(ani);
+			if (item.isVisible(roles)) {
+				movingMap.getMmp().addImage(ani);
+			}
+		}
+	}
+
+	public boolean changeRoleState(String role) {
+		Object object = roles.get(role);
+		if (object == null) {
+			return false;
+		}
+		Role r = (Role) object;
+		if (r.getState() == Boolean.TRUE) {
+			return changeRoleState(role,r,Boolean.FALSE);
+		} else {
+			return changeRoleState(role,r,Boolean.TRUE);
+		}
+	}
+	
+	public boolean changeRoleState(String role, Boolean b) {
+		Object object = roles.get(role);
+		if (object == null) {
+			return false;
+		}
+		Role r = (Role) object;
+		return changeRoleState(role,r,b);
+		
+	}
+	
+	private boolean  changeRoleState(String roleName , Role role, Boolean b) {
+		role.setState(b);
+		if (b == Boolean.TRUE) {
+			String[] rToDis = role.getRolesToDisable();
+			if (rToDis != null) {
+				for (int i = 0; i &lt; rToDis.length; i++) {
+					String roleToDis = rToDis[i];
+					changeRoleState(roleToDis, Boolean.FALSE);
+				}
+			}
+		}
+		setStateOfIcons();
+		movingMap.repaintNow();
+		
+		return checkRolesForAction(roleName, b.booleanValue());
+	}
+
+	private boolean checkRolesForAction(String role, boolean state) {
+		if (role==null) {
+			return false;
+		}
+		if (&quot;show_map&quot;.equals(role)) {
+			if (state) {
+				return movingMap.handleCommand(SHOW_MAP);
+			}else
+				return movingMap.handleCommand(HIDE_MAP);
+		}
+		if (&quot;show_caches&quot;.equals(role)) {
+			if (state) {
+				return movingMap.handleCommand(SHOW_CACHES);
+			}else
+				return movingMap.handleCommand(HIDE_CACHES);
+		}
+		
+		if (&quot;fill_white&quot;.equals(role)) {
+			if (state) {
+				return movingMap.handleCommand(FILL_MAP);
+			}else
+				return movingMap.handleCommand(NO_FILL_MAP);
+		}
+		
+		if (&quot;zoom_manually&quot;.equals(role)) {
+			if (state) {
+				movingMap.setZoomingMode(true);
+			}else
+				movingMap.setZoomingMode(false);
+			return true;
+		}
+		return false;
+	}
+
+//	private void checkStateOfIcon(MovingMapControlItem item, AniImage ani) {
+//		if (MOVE_TO_DEST.equals(item.getActionCommand())) {
+//			if (movingMap.getDestination() != null) {
+//				ani.properties &amp;= ~mImage.IsNotHot;
+//			} else {
+//				ani.properties |= mImage.IsNotHot;
+//			}
+//		}
+//		if (MOVE_TO_CENTER.equals(item.getActionCommand())) {
+//			if (Global.getPref().getCurCentrePt().isValid())
+//				ani.properties &amp;= ~mImage.IsNotHot;
+//			else {
+//				ani.properties |= mImage.IsNotHot;
+//
+//			}
+//		}}
+
+	public void updateContext(String contextName, String text) {
+		if (contextName == null) {
+			return;
+		}
+		updateContext(contextName, text, -1);
+
+	}
+
+	public void updateContext(String contextName, String text, int property) {
+		for (int i = 0; i &lt; buttons.size(); i++) {
+			MovingMapControlItem item = (MovingMapControlItem) buttons.get(i);
+
+			if ((item.xProperties &amp; MovingMapControlItem.IS_ICON_WITH_TEXT) != 0) {
+				if (contextName.equals(item.getContext())) {
+					item.setText(text);
+				}
+			}
+			if ((item.xProperties &amp; MovingMapControlItem.IS_ICON_WITH_FRONTLINE) != 0) {
+				if (contextName.equals(item.getContext())) {
+					item.setAdditionalProperty(property);
+				}
+			}
+		}
+
+	}
+
+
+	public void updateFormSize(int w, int h) {
+
+		// adding bottom and top
+		for (int i = 0; i &lt; buttons.size(); i++) {
+			MovingMapControlItem item = (MovingMapControlItem) buttons.get(i);
+
+			if ((item.xProperties &amp; MovingMapControlItem.IS_ICON_WITH_COMMAND) == 0
+					&amp;&amp; (item.xProperties &amp; MovingMapControlItem.IS_ICON_WITH_TEXT) == 0) {
+				// System.out
+				// .println(((item.xProperties &amp;
+				// MovingMapControlItem.IS_ICON_WITH_COMMAND) == 0)
+				// + &quot; &quot;
+				// + ((item.xProperties &amp;
+				// MovingMapControlItem.IS_ICON_WITH_TEXT) == 0));
+			}
+
+			AniImage ani = item.getImage();
+
+			int xpos = 0;
+			int ypos = 0;
+
+			if ((item.xProperties &amp; MovingMapControlItem.DISPLAY_FROM_TOP) != 0) {
+				ypos = item.getyPos();
+			} else
+				ypos = h - item.getyPos();
+
+			if ((item.xProperties &amp; MovingMapControlItem.DISPLAY_FROM_LEFT) != 0) {
+
+				xpos = item.getxPos();
+			} else
+				xpos = w - item.getxPos();
+
+			ani.setLocation(xpos, ypos);
+
+		}
+
+	}
+
+	public boolean imageClicked(AniImage which) {
+		int timenow = Vm.getTimeStamp();
+
+		// avoid double clicks
+		if (timenow &lt; 100 + lastTime) {
+			return false;
+		}
+		lastTime = timenow;
+		for (int i = 0; i &lt; buttons.size(); i++) {
+			MovingMapControlItem item = (MovingMapControlItem) buttons.get(i);
+			AniImage ani = item.getImage();
+			if (which == ani) {
+				String command = item.getActionCommand();
+				if (helpIsVisible &amp;&amp; item.getHelp() != null) {
+					// iconHelp.setText(item.getHelp());
+					movingMap.repaintNow();
+				} else if (&quot;changeStateOfRole&quot;.equals(command)) {
+					boolean val =changeRoleState(item.getRoleToChange());
+					if (val) {
+						changeRoleState(&quot;menu&quot;, Boolean.FALSE);
+					}
+					setStateOfIcons();
+					movingMap.repaintNow();
+					return val;
+				} else if (movingMap.handleCommand(command)) {
+					changeRoleState(&quot;menu&quot;, Boolean.FALSE);
+				}				
+				return true;
+			}
+		}
+		changeRoleState(&quot;menu&quot;, Boolean.FALSE);
+		return false;
+	}
+
+	
+
+	public boolean handleCommand(String actionCommand) {
+
+		if (CLOSE.equals(actionCommand)) {
+			roles.put(&quot;menu&quot;, Boolean.FALSE);
+		}
+
+		return false;
+	}
+
+	// Methods for the eventlistener
+
+	/**
+	 * Method to react to user.
+	 */
+	public boolean handleImageClickedEvent(AniImage which) {
+		if (which == null)
+			return false;
+
+		// if menu is oben but klickt to an other place, close menu
+		boolean imageClicked = imageClicked(which);
+
+		// boolean menuIsVisible= getStateofRole(&quot;menu&quot;);;
+		// if (!imageClicked &amp;&amp; menuIsVisible) {
+		// roles.put(&quot;menu&quot;,Boolean.FALSE);
+		// }
+		return imageClicked;
+	}
+
+
+	public boolean imageBeginDragged(AniImage which, Point pos) {
+
+		imageClicked(which);
+		// no moving of images is needed here. Return false to say the moving event is cleared.
+		return false;
+	}
+
+	
+	public static class Role{
+		Boolean state = Boolean.FALSE;
+		String rolesToDisable[]=null;
+		
+		public void setRolesToDisable(String[] rolesToDisable) {
+			this.rolesToDisable = rolesToDisable;
+		}
+		
+		public void setState(Boolean state) {
+			this.state = state;
+		}
+		
+		public Boolean getState() {
+			return state;
+		}
+		
+		public String[] getRolesToDisable() {
+			return rolesToDisable;
+		}
+	}
+}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002379.html">[Cachewolf-svn] r2454 - in trunk: res_noewe/templates src/CacheWolf	src/CacheWolf/exp
</A></li>
	<LI>Next message: <A HREF="002381.html">[Cachewolf-svn] r2456 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2380">[ date ]</a>
              <a href="thread.html#2380">[ thread ]</a>
              <a href="subject.html#2380">[ subject ]</a>
              <a href="author.html#2380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
