From mik77 at mail.berlios.de  Fri Jun  4 16:51:48 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Fri, 4 Jun 2010 16:51:48 +0200
Subject: [Cachewolf-svn] r2580 - in trunk: res_noewe src/CacheWolf
	src/CacheWolf/imp
Message-ID: <201006041451.o54Epm0O028882@sheep.berlios.de>

Author: mik77
Date: 2010-06-04 16:51:37 +0200 (Fri, 04 Jun 2010)
New Revision: 2580

Modified:
   trunk/res_noewe/spider.def
   trunk/src/CacheWolf/DateFormat.java
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
first adaptions to new GC design

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2010-05-30 14:38:59 UTC (rev 2579)
+++ trunk/res_noewe/spider.def	2010-06-04 14:51:37 UTC (rev 2580)
@@ -38,6 +38,7 @@
 # Version 6.1 - 20100305 better log recognition
 # Version 7.0 - 20100402 adaption to new GC-design
 # Version 7.1 - 20100528 better description recognition
+# Version 8.0 - 20100604 adaption to new GC-design
 #============================================================
 # A suffix of Rex indicates a regular expression
 # A suffix of ExStart indicates the start of an Extractor search pattern
@@ -99,20 +100,18 @@
 #--------------------------------------
 getPageByName      = http://www.geocaching.com/seek/cache_details.aspx?wp=
 fetchAllLogs       = &log=y
-cacheUnavailable   = <ul\ class="OldWarning"><li>This\ cache\ is\ temporarily\ unavailable.\ Read\ the\ logs\ below\ to\ read\ the\ status\ for\ this\ cache.</li></ul></span>
-cacheArchived      = <ul\ class="OldWarning"><li>This\ cache\ has\ been\ archived,\ but\ is\ available\ for\ viewing\ for\ archival\ purposes.</li></ul></span>
+cacheUnavailable   = <ul\ class="OldWarning"><li>This\ cache\ is\ temporarily\ unavailable.\ Read\ the\ logs\ below\ to\ read\ the\ status\ for\ this\ cache.</li></ul>
+cacheArchived      = <ul\ class="OldWarning"><li>This\ cache\ has\ been\ archived,\ but\ is\ available\ for\ viewing\ for\ archival\ purposes.</li></ul>
 latLonRex          = <span\ id="ctl00_ContentBody_LatLon"\ style="font-weight:bold;">((?s).*?)</span>
 shortDescRex       = <span\ id="ctl00_ContentBody_ShortDescription">((?s).*?)</span>
-#This version doesn't work with EWE/EXE, so we trim the tags in code
-#longDescRex        = <span\ id="ctl00_ContentBody_LongDescription">((?s).*?)</span>(?:\\s*)<br\ />(?:\\s*)</p>(?:\\s*)<p>(?:\\s*)<strong>Additional\ Hints&nbsp;\\(</strong>
-longDescRex        = tentBody_LongDescription">((?s).*?)<td\ valign="top"\ width="10%">&nbsp;</td>\s*<td
+longDescRex        = tentBody_LongDescription">((?s).*?)<td\ valign="top"\ width="10%">\\s*&nbsp;\\s*</td
 cacheNameRex       = <span\ id="ctl00_ContentBody_CacheName">((?s).*?)</span>
-cacheOwnerRex      = <span\ id="ctl00_ContentBody_CacheOwner">by\ <a\ href=(?:(?s).*?)>((?s).*?)</a></span>
-dateHiddenRex      = <span\ id="ctl00_ContentBody_DateHidden">((?s).*?)</span>
+cacheOwnerRex      = <strong>\\s*A.*\\s*cache\\s*</strong>\\s*by\ <a\ href=(?:(?s).*?)>((?s).*?)</a>\\s*</td>
+dateHiddenRex      = <td>\\s*<strong>\\s*(?:Hidden|Event\ Date)\\s*:</strong>\\s*((?s).*?)\\s*(?:</td>|<a href=)
 hintsRex           = <div id="div_hint" class="HalfLeft">\\s*((?s).*?)\\s*</div>
 sizeRex            = alt="Size:\ ((?s).*?)"\ />&nbsp<small>
-difficultyRex      = <span\ id="ctl00_ContentBody_Difficulty">.*?alt="(.*?)\ out\ of
-terrainRex         = <span\ id="ctl00_ContentBody_Terrain">.*?alt="(.*?)\ out\ of
+difficultyRex      = <td>\\s*<strong>\\s*Difficulty:</strong>\\s*<img src=.*?alt="(.*?)\ out\ of
+terrainRex         = <td>\\s*<strong>\\s*Terrain:</strong>\\s*<img src=.*?alt="(.*?)\ out\ of
 cacheTypeRex       = /images/WptTypes/(.*?)\\.gif"\ alt="
 cacheLocationRex   = <span\ id="ctl00_ContentBody_Location">In\ ([^<]*?)<
 premiumCachepage   = Sorry, the owner of this listing has made it viewable to Premium Members only.
@@ -121,7 +120,7 @@
 #Section2a: Logs
 #--------------------------------------
 # blockRex extrahiert zun?chst aus der gesamten Seite den Logbereich
-blockRex           = <table class="LogsTable Table">((?s).*?)</table></span></p>
+blockRex           = <table class="LogsTable Table">((?s).*?)</table>
 # singleLogEx extrahiert in einer Schleife alle Logs aus dem Logbereich
 singleLogExStart   = ><strong><img src=
 singleLogExEnd     = <small><a\ href="
@@ -148,11 +147,14 @@
 #Section2b: Bugs
 #--------------------------------------
 # blockEx extrahiert zun?chst den Bugbereich aus der gesamten Seite
-blockExStart       = >&nbsp;Inventory</h3>
+blockExStart       = <span\ id="ctl00_ContentBody_uxTravelBugList_uxInventoryLabel">Inventory</span>
 blockExEnd         = <p class="NoSpacing">
 # bugEx extrahiert die Namen der einzelnen Bugs aus dem Bugbereich
 bugExStart         = <a\ href="
-bugExEnd           = </a></li>
+bugExEnd           = </a>
+bugLinkEnd         = "\ class="lnk">
+bugNameExStart     = <span>
+bugNameExEnd       = </span>
 bugDetailsStart    = id="ctl00_ContentBody_BugDetails_BugGoal">
 bugDetailsEnd      = </span>
 getBugByName       = http://www.geocaching.com/track/search.aspx?k=
@@ -186,16 +188,16 @@
 #--------------------------------------
 #Section2d: Additional waypoints
 #--------------------------------------
-wayBlockExStart    = <strong>Additional\ Waypoints</strong>
+wayBlockExStart    = <span\ id="ctl00_ContentBody_WaypointsInfo"\ style="font-weight:bold;">Additional\ Waypoints</span>
 wayBlockExEnd      = </table>
 nameRex            = &RefDS=1">(.*)</a>
-koordRex           = <td>([NSns]\ [0-9]{1,2}..[0-9]{1,2}.[0-9]{1,3}\ [EWew]\ [0-9]{1,3}..[0-9]{1,2}.[0-9]{1,3})</td>
-descRex            = colspan="4">((?:.|\n|\r)*?)</td>
-typeRex            = </a>\ \\((.*)\\)</td>
+koordRex           = <td>\\s*([NSns]\ [0-9]{1,2}..[0-9]{1,2}.[0-9]{1,3}\ [EWew]\ [0-9]{1,3}..[0-9]{1,2}.[0-9]{1,3})\\s*</td>
+descRex            = colspan="6">((?:.|\n|\r)*?)</td>
+typeRex            = </a>\ \\((.*)\\)\\s*</td>
 rowBlockExStart    = <tr
 rowBlockExEnd      = </tr>
-prefixExStart      = <td>
-prefixExEnd        = </td>
+prefixExStart      =
+prefixExEnd        =
 
 #--------------------------------------
 #Section2e: Attributes

Modified: trunk/src/CacheWolf/DateFormat.java
===================================================================
--- trunk/src/CacheWolf/DateFormat.java	2010-05-30 14:38:59 UTC (rev 2579)
+++ trunk/src/CacheWolf/DateFormat.java	2010-06-04 14:51:37 UTC (rev 2580)
@@ -19,18 +19,18 @@
 		int p1, p2 = -1, p3;
 		p1 = date.indexOf("/");
 		if (p1==-1){
-			//dayofweek, month dayofmonth, year (Saturday, December 12, 2009)
+			//dayofweek, dayofmonth month year (Monday, 07 June 2010)
 			p1 = date.indexOf(",");			
 			p2 = date.indexOf(" ", p1 + 2);
-			p3 = date.indexOf(",", p2 + 1);
+			p3 = date.indexOf(" ", p2 + 1);
 			final String monthNames[] = { "January", "February", "March", "April", "May",
 					"June", "July", "August", "September", "October", "November",
 					"December" };
 			for (int m = 0; m < 12; m++) {
-				if (monthNames[m].equals(date.substring(p1+2,p2))) {
+				if (monthNames[m].equals(date.substring(p2+1,p3))) {
 					String mm = Integer.toString(m+1);
 					if (mm.length()==1) {mm=0+mm;}
-					return date.substring(p3+2,p3+6) + "-" + mm + "-" + date.substring(p2+1, p2+3);
+					return date.substring(p3+1,p3+5) + "-" + mm + "-" + date.substring(p1+2, p1+4);
 				}
 			}
 			return date;

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-05-30 14:38:59 UTC (rev 2579)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-06-04 14:51:37 UTC (rev 2580)
@@ -816,6 +816,7 @@
 			if(doNotgetFound) postStr = postStr + propShowOnlyFound;
 		}
 		postStr = postStr + cacheTypeRestriction;
+		
 		Regex rexViewstate = new Regex("id=\"__VIEWSTATE\" value=\"(.*?)\" />");
 		String viewstate;
 		rexViewstate.search(htmlListPage);
@@ -824,6 +825,16 @@
 		} else {
 			viewstate = "";
 		}
+		
+		Regex rexViewstate1 = new Regex("id=\"__VIEWSTATE1\" value=\"(.*?)\" />");
+		String viewstate1;
+		rexViewstate1.search(htmlListPage);
+		if(rexViewstate1.didMatch()){
+			viewstate1 = rexViewstate1.stringMatched(1);
+		} else {
+			viewstate1 = "";
+		}
+
 		/*
 		rexEventvalidation.search(htmlPage);
 		if(rexEventvalidation.didMatch()){
@@ -832,12 +843,13 @@
 			eventvalidation = "";
 		}
 		*/
+
 		String strNextPage = "ctl00$ContentBody$pgrTop$ctl08";
 		String url = URL.encodeURL("__EVENTTARGET",false) +"="+ URL.encodeURL(strNextPage,false)
 	    + "&" + URL.encodeURL("__EVENTARGUMENT",false) +"="+ URL.encodeURL("",false)
-//	    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) +"=2"
-	    + "&" + URL.encodeURL("__VIEWSTATE",false) +"="+ URL.encodeURL(viewstate,false);
-//	    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
+	    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) +"=2"
+	    + "&" + URL.encodeURL("__VIEWSTATE",false) +"="+ URL.encodeURL(viewstate,false)
+	    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
 //	    + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+ URL.encodeURL(eventvalidation,false);
 		try{
 			pref.log("Fetching next list page:" + url);
@@ -1494,10 +1506,11 @@
 		while(!exBug.endOfSearch()){
 			if (infB.isClosed) break; // Allow user to cancel by closing progress form
 			linkPlusBug= exBug.findNext();
-			int idx=linkPlusBug.indexOf("\">");
+			int idx=linkPlusBug.indexOf(p.getProp("bugLinkEnd"));
 			if (idx<0) break; // No link/bug pair found
 			link=linkPlusBug.substring(0,idx);
-			bug=linkPlusBug.substring(idx+2);
+			Extractor exBugName = new Extractor(linkPlusBug,p.getProp("bugNameExStart"),p.getProp("bugNameExEnd"),0,Extractor.EXCLUDESTARTEND);
+			bug=exBugName.findNext();
 			if(bug.length()>0) { // Found a bug, get its details
 				Travelbug tb=new Travelbug(bug);
 				try{
@@ -1789,13 +1802,14 @@
 				CacheHolder hd = null;
 
 				String[] AddiBlock=mString.split(rowBlock,'\n');
-				int linePrefix=3;
+				int linePrefix=8;
 				if(AddiBlock.length < linePrefix + 1) {
 					(new MessageBox(MyLocale.getMsg(5500,"Error"), "GC changed table output \nCW must be changed too!", FormBase.OKB)).execute();
 					break;
 				}				
-				Extractor exPrefix=new Extractor(AddiBlock[linePrefix].trim(),p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
-				String prefix=exPrefix.findNext();
+//				Extractor exPrefix=new Extractor(AddiBlock[linePrefix].trim(),p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
+//				String prefix=exPrefix.findNext();
+				String prefix=AddiBlock[linePrefix].trim();
 
 				String adWayPoint;
 				if (prefix.length() == 2)



From engywuck at mail.berlios.de  Fri Jun  4 19:54:16 2010
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Fri, 4 Jun 2010 19:54:16 +0200
Subject: [Cachewolf-svn] r2581 - trunk/src/CacheWolf
Message-ID: <201006041754.o54HsGj2018881@sheep.berlios.de>

Author: engywuck
Date: 2010-06-04 19:54:15 +0200 (Fri, 04 Jun 2010)
New Revision: 2581

Modified:
   trunk/src/CacheWolf/ImagePanel.java
Log:
Now it should (finally!) show the right number of image lines in the image tab. 

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2010-06-04 14:51:37 UTC (rev 2580)
+++ trunk/src/CacheWolf/ImagePanel.java	2010-06-04 17:54:15 UTC (rev 2581)
@@ -53,12 +53,12 @@
 			int rowCounter1 = 0;
 			if (cache.images.getDisplayImages(cache.getParent().getWayPoint()).size()>0) {
 				rowCounter1 = cache.images.getDisplayImages(cache.getParent().getWayPoint()).size();
-				rowCounter1 = (int) java.lang.Math.ceil(rowCounter1/3)+1;
+				rowCounter1 = (int) java.lang.Math.floor((rowCounter1-1)/3)+1;
 			}
 			int rowCounter2 = 0;
 			if (cache.userImages.size()>0){
 				rowCounter2 = cache.userImages.size();
-				rowCounter2 = (int) java.lang.Math.ceil(rowCounter2/3)+1;
+				rowCounter2 = (int) java.lang.Math.floor((rowCounter2-1)/3)+1;
 			}
 			int rowCounter = rowCounter1 + rowCounter2;
 			Rect r = new Rect(0, 0, pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+padding);



From mik77 at mail.berlios.de  Sat Jun  5 15:10:00 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sat, 5 Jun 2010 15:10:00 +0200
Subject: [Cachewolf-svn] r2582 - trunk/res_noewe
Message-ID: <201006051310.o55DA0sh008040@sheep.berlios.de>

Author: mik77
Date: 2010-06-05 15:09:46 +0200 (Sat, 05 Jun 2010)
New Revision: 2582

Modified:
   trunk/res_noewe/spider.def
Log:
better log recognition

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2010-06-04 17:54:15 UTC (rev 2581)
+++ trunk/res_noewe/spider.def	2010-06-05 13:09:46 UTC (rev 2582)
@@ -120,7 +120,7 @@
 #Section2a: Logs
 #--------------------------------------
 # blockRex extrahiert zun?chst aus der gesamten Seite den Logbereich
-blockRex           = <table class="LogsTable Table">((?s).*?)</table>
+blockRex           = <table class="LogsTable Table">((?s).*?)<td></td></tr></table>
 # singleLogEx extrahiert in einer Schleife alle Logs aus dem Logbereich
 singleLogExStart   = ><strong><img src=
 singleLogExEnd     = <small><a\ href="



From araber95 at mail.berlios.de  Sat Jun  5 15:32:38 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 5 Jun 2010 15:32:38 +0200
Subject: [Cachewolf-svn] r2583 - trunk/res_noewe/mmc480x640
Message-ID: <201006051332.o55DWcr3009218@sheep.berlios.de>

Author: araber95
Date: 2010-06-05 15:32:15 +0200 (Sat, 05 Jun 2010)
New Revision: 2583

Modified:
   trunk/res_noewe/mmc480x640/movingMapControls.xml
Log:
changed wrong subdir name (mmcDefault)

Modified: trunk/res_noewe/mmc480x640/movingMapControls.xml
===================================================================
--- trunk/res_noewe/mmc480x640/movingMapControls.xml	2010-06-05 13:09:46 UTC (rev 2582)
+++ trunk/res_noewe/mmc480x640/movingMapControls.xml	2010-06-05 13:32:15 UTC (rev 2583)
@@ -15,57 +15,57 @@
 	<!-- Buttons right side -->
 	<button action="close" fromRight="91" fromTop="1" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_close.png"  alpha="80" visibleIf="!menu" />
 	<button action="moveToGps" fromRight="91" fromTop="96" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_gps.png"  alpha="80" visibleIf="!menu" />
-	
+
 	<!-- buttom text icons -->
 	<button action="changeStateOfRole" fromLeft="0" fromBottom="80" changeStateof="menu" location="mmc480x640/text_left_110x80.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
-	
+
 	<button action="changeStateOfRole" fromRight="110" fromBottom="80" changeStateof="menu" location="mmc480x640/text_right_110x80.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
 
 	<!-- menu items -->
-	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+!map" />	
-	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map.png" visibleIf="menu+map" />	
-	
-	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+!zoom" />	
-	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+zoom" />	
-	
-	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90.png" icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+!detail" />	
-	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+detail" />	
-		
-	
-	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90.png" icon="mmc480x640/icon_to_centre.png" visibleIf="menu+!centermap" />	
-	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_to_centre.png" visibleIf="menu+centermap" />	
-	
-	
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+!map" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map.png" visibleIf="menu+map" />
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+!zoom" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+zoom" />
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90.png" icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+!detail" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+detail" />
+
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90.png" icon="mmc480x640/icon_to_centre.png" visibleIf="menu+!centermap" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_to_centre.png" visibleIf="menu+centermap" />
+
+
 	<!-- sub menu: map -->
-	<button action="selectMap" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="75"/>	
-	<button action="changeMapDir" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="75"/>	
-	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="75"/>	
-	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="75"/>	
-	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="75"/>	
-	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="75"/>	
-	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="75"/>	
-	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="75"/>	
-		
+	<button action="selectMap" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="75"/>
+	<button action="changeMapDir" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="75"/>
+
 	<!-- sub menu: zoom -->
-	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmcDefault/360x90.png"  icon="mmcDefault/icon_zoom.png"  visibleIf="menu+zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>	
-	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmcDefault/360x90_active.png"  icon="mmcDefault/icon_zoom.png"  visibleIf="menu+zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>	
-	<button action="zoomin" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="75"/>	
-	<button action="zoomout" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="75"/>	
-	<button action="1to1" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="75"/>	
-		
-	
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="menu+zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmc480x640/360x90_active.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="menu+zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomin" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomout" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="75"/>
+	<button action="1to1" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="75"/>
+
+
 	<!-- sub menu: center map -->
-	<button action="moveToDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="75"/>	
-	<button action="moveToGps" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="75"/>	
-	<button action="moveToCenter" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="75"/>	
-	
+	<button action="moveToDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToGps" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToCenter" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="75"/>
+
 	<!-- sub menu: detail -->
-	<button action="highestResGpsDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="75"/>	
-	<button action="highestResolution" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="75"/>	
-	<button action="keepManResolution" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="75"/>	
-	<button action="allCachesRes" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="75"/>	
-	<button action="moreDetails" fromLeft="3" fromTop="380"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="75"/>	
-	<button action="moreOverview" fromLeft="3" fromTop="475"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="75"/>	
-	
-	<button action="changeStateOfRole" fromRight="70" fromTop="200" changeStateof="zoom_manually" location="mmcDefault/icon_zoom.png"  icon="mmcDefault/icon_zoom.png"  visibleIf="!menu+zoom_manually"/>	
+	<button action="highestResGpsDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="75"/>
+	<button action="highestResolution" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="75"/>
+	<button action="keepManResolution" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="75"/>
+	<button action="allCachesRes" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="75"/>
+	<button action="moreDetails" fromLeft="3" fromTop="380"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="75"/>
+	<button action="moreOverview" fromLeft="3" fromTop="475"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="75"/>
+
+	<button action="changeStateOfRole" fromRight="70" fromTop="200" changeStateof="zoom_manually" location="mmc480x640/icon_zoom.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
 </mmc>



From araber95 at mail.berlios.de  Sat Jun  5 15:36:51 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 5 Jun 2010 15:36:51 +0200
Subject: [Cachewolf-svn] r2584 - trunk
Message-ID: <201006051336.o55DapHb009355@sheep.berlios.de>

Author: araber95
Date: 2010-06-05 15:36:32 +0200 (Sat, 05 Jun 2010)
New Revision: 2584

Modified:
   trunk/cw-ppc2003.jnf
Log:
changing memory startup for ppc2003 to 8 to see if CW works

Modified: trunk/cw-ppc2003.jnf
===================================================================
--- trunk/cw-ppc2003.jnf	2010-06-05 13:32:15 UTC (rev 2583)
+++ trunk/cw-ppc2003.jnf	2010-06-05 13:36:32 UTC (rev 2584)
@@ -1 +1 @@
-command=programName%3DCacheWolf%26width%3D0%26height%3D0%26startingClass%3DCacheWolf.CacheWolf%26windowTitle%3DWindow%2BTitle%26ewes%3D%26extra%3D%26pathToEwe%3D%26nativeStack%3D0%26vmStack%3D0%26appletWidth%3D0%26appletHeight%3D0%26appletInFrame%3Dfalse%26locale%3D%26useResources%3Dtrue%26noPopupWindows%3Dfalse%26vmOptions%3D/Xmx%2B10M&eweFiles=&targets=%253DTarget%3Dewe/data/MultiListSelect$SelectedItems%253D%25253DPocketPC%25252B2003&createWithPnf=true&eweInfo=outputFile%3Dwork/CacheWolf.ewe%26entries%3Dewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dbin/CacheWolf/%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253DCacheWolf/%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dresources%252526mask%25253D*.gif;*.png;*.ico%252526includeSubdirectories%25253Dfalse%252526pathInEwe%25253D%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dlib%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253D%26addCommandLine%3D!
 true%26commandLine%3DprogramName%253DCacheWolf%2526width%253D0%2526height%253D0%2526startingClass%253DCacheWolf.CacheWolf%2526windowTitle%253DWindow%252BTitle%2526ewes%253D%2526extra%253D%2526pathToEwe%253D%2526nativeStack%253D0%2526vmStack%253D0%2526appletWidth%253D0%2526appletHeight%253D0%2526appletInFrame%253Dfalse%2526locale%253D%2526useResources%253Dtrue%2526noPopupWindows%253Dfalse%2526vmOptions%253D/Xmx%252B10M%26install%3Dtitle%253D%2526category%253DApplications%2526location%253D%2526icon%253D%2526args%253D%2526vmArgs%253D%26addInstallFile%3Dfalse%26usePool%3Dfalse%26useClassPool%3Dfalse&icon=resources/CacheWolf.ico
+command=programName%3DCacheWolf%26width%3D0%26height%3D0%26startingClass%3DCacheWolf.CacheWolf%26windowTitle%3DWindow%2BTitle%26ewes%3D%26extra%3D%26pathToEwe%3D%26nativeStack%3D0%26vmStack%3D0%26appletWidth%3D0%26appletHeight%3D0%26appletInFrame%3Dfalse%26locale%3D%26useResources%3Dtrue%26noPopupWindows%3Dfalse%26vmOptions%3D/Xmx%2B8M&eweFiles=&targets=%253DTarget%3Dewe/data/MultiListSelect$SelectedItems%253D%25253DPocketPC%25252B2003&createWithPnf=true&eweInfo=outputFile%3Dwork/CacheWolf.ewe%26entries%3Dewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dbin/CacheWolf/%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253DCacheWolf/%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dresources%252526mask%25253D*.gif;*.png;*.ico%252526includeSubdirectories%25253Dfalse%252526pathInEwe%25253D%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dlib%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253D%26addCommandLine%3Dt!
 rue%26commandLine%3DprogramName%253DCacheWolf%2526width%253D0%2526height%253D0%2526startingClass%253DCacheWolf.CacheWolf%2526windowTitle%253DWindow%252BTitle%2526ewes%253D%2526extra%253D%2526pathToEwe%253D%2526nativeStack%253D0%2526vmStack%253D0%2526appletWidth%253D0%2526appletHeight%253D0%2526appletInFrame%253Dfalse%2526locale%253D%2526useResources%253Dtrue%2526noPopupWindows%253Dfalse%2526vmOptions%253D/Xmx%252B8M%26install%3Dtitle%253D%2526category%253DApplications%2526location%253D%2526icon%253D%2526args%253D%2526vmArgs%253D%26addInstallFile%3Dfalse%26usePool%3Dfalse%26useClassPool%3Dfalse&icon=resources/CacheWolf.ico



From araber95 at mail.berlios.de  Sat Jun  5 15:38:23 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 5 Jun 2010 15:38:23 +0200
Subject: [Cachewolf-svn] r2585 - trunk/src/CacheWolf
Message-ID: <201006051338.o55DcNMF009463@sheep.berlios.de>

Author: araber95
Date: 2010-06-05 15:38:14 +0200 (Sat, 05 Jun 2010)
New Revision: 2585

Modified:
   trunk/src/CacheWolf/Attribute.java
Log:
changed wrong javadoc/comment

Modified: trunk/src/CacheWolf/Attribute.java
===================================================================
--- trunk/src/CacheWolf/Attribute.java	2010-06-05 13:36:32 UTC (rev 2584)
+++ trunk/src/CacheWolf/Attribute.java	2010-06-05 13:38:14 UTC (rev 2585)
@@ -86,11 +86,11 @@
 	 */
     public String getGCId () { return attRef[_Id][GC_ID]; }
     /**
-     * getting attribute given=0,negative=1,not specified=2  
+     * getting attribute given=1,negative=0,not specified=2  
      */
 	public int getInc () { return _Inc; }
     /**
-     * setting/changing attribute given=0,negative=1,not specified=2  
+     * setting/changing attribute given=1,negative=0,not specified=2  
      */
     public void setInc(int inc) {
     	_Inc=inc;



From mik77 at mail.berlios.de  Sat Jun  5 16:58:05 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sat, 5 Jun 2010 16:58:05 +0200
Subject: [Cachewolf-svn] r2586 - trunk/res_noewe
Message-ID: <201006051458.o55Ew50w013190@sheep.berlios.de>

Author: mik77
Date: 2010-06-05 16:57:49 +0200 (Sat, 05 Jun 2010)
New Revision: 2586

Modified:
   trunk/res_noewe/spider.def
Log:
better image comment recognition. doesn't work with own caches

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2010-06-05 13:38:14 UTC (rev 2585)
+++ trunk/res_noewe/spider.def	2010-06-05 14:57:49 UTC (rev 2586)
@@ -177,13 +177,13 @@
 imgBlockExEnd      = >
 # imgSpanEx searches for images in the image section
 imgSpanExStart     = <span id="ctl00_ContentBody_Images">
-imgSpanExEnd       = </span></p>
+imgSpanExEnd       = </p>
 imgNameExStart     = "\ />\ <span>
 imgNameExEnd       = </span></a>
 imgSrcExStart      = <a\ href="http://
 imgSrcExEnd        = "\ rel="lightbox"
-imgCommentExStart  = </a><br\ />
-imgCommentExEnd    = <a\ href
+imgCommentExStart  = </a><br\ /><br\ />
+imgCommentExEnd    = <
 
 #--------------------------------------
 #Section2d: Additional waypoints



From engywuck at mail.berlios.de  Sun Jun  6 08:12:12 2010
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sun, 6 Jun 2010 08:12:12 +0200
Subject: [Cachewolf-svn] r2587 - trunk/src/CacheWolf
Message-ID: <201006060612.o566CCLs019756@sheep.berlios.de>

Author: engywuck
Date: 2010-06-06 08:12:09 +0200 (Sun, 06 Jun 2010)
New Revision: 2587

Modified:
   trunk/src/CacheWolf/ImagePanel.java
Log:
Now the calculation of image rows works as initially intended (and gains a little understandability...)

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2010-06-05 14:57:49 UTC (rev 2586)
+++ trunk/src/CacheWolf/ImagePanel.java	2010-06-06 06:12:09 UTC (rev 2587)
@@ -50,17 +50,17 @@
 			clearImages();
 			thumb_size = ((pref.myAppWidth-2*padding) / 3);
 			thumb_size = thumb_size - padding;
-			int rowCounter1 = 0;
+			double rowCounter1 = 0;
 			if (cache.images.getDisplayImages(cache.getParent().getWayPoint()).size()>0) {
 				rowCounter1 = cache.images.getDisplayImages(cache.getParent().getWayPoint()).size();
-				rowCounter1 = (int) java.lang.Math.floor((rowCounter1-1)/3)+1;
+				rowCounter1 = java.lang.Math.ceil(rowCounter1/3);
 			}
-			int rowCounter2 = 0;
+			double rowCounter2 = 0;
 			if (cache.userImages.size()>0){
 				rowCounter2 = cache.userImages.size();
-				rowCounter2 = (int) java.lang.Math.floor((rowCounter2-1)/3)+1;
+				rowCounter2 = java.lang.Math.ceil(rowCounter2/3);
 			}
-			int rowCounter = rowCounter1 + rowCounter2;
+			int rowCounter = (int) (rowCounter1 + rowCounter2);
 			Rect r = new Rect(0, 0, pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+padding);
 			this.virtualSize = r;
 			//this.setPreferredSize(pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+40);



From araber95 at mail.berlios.de  Sun Jun  6 18:23:59 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 6 Jun 2010 18:23:59 +0200
Subject: [Cachewolf-svn] r2588 - in trunk: res_noewe res_noewe/templates
	src/CacheWolf
Message-ID: <201006061623.o56GNxs2006420@sheep.berlios.de>

Author: araber95
Date: 2010-06-06 18:23:55 +0200 (Sun, 06 Jun 2010)
New Revision: 2588

Modified:
   trunk/res_noewe/GCTemplate.html
   trunk/res_noewe/templates/Short documentation for the export via templates.htm
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/ShowCacheInBrowser.java
Log:
introducing attributes for template output

Modified: trunk/res_noewe/GCTemplate.html
===================================================================
--- trunk/res_noewe/GCTemplate.html	2010-06-06 06:12:09 UTC (rev 2587)
+++ trunk/res_noewe/GCTemplate.html	2010-06-06 16:23:55 UTC (rev 2588)
@@ -78,7 +78,11 @@
 	</table>
 	</div>
 	<div style="float:right;">
-		<tmpl_loop ATTRIBUTES><tmpl_var IMAGE><tmpl_var BR><!--<tmpl_var INFO>-->
+		<tmpl_loop ATTRIBUTES>
+			<img src="file://<tmpl_var PATHANDIMAGE>" border=0 alt="<tmpl_var INFO>">
+			<tmpl_var BR>
+			<!--<tmpl_var IMAGE>-->
+			<!--<tmpl_var INFO>-->
 		</tmpl_loop>
 	</div>
 </div>

Modified: trunk/res_noewe/templates/Short documentation for the export via templates.htm
===================================================================
--- trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-06 06:12:09 UTC (rev 2587)
+++ trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-06 16:23:55 UTC (rev 2588)
@@ -269,8 +269,9 @@
 <span class=SpellE>Cacheowner</span><br>
 DIFFICULTY<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????? </span>:<br>
 </span><span lang=EN-GB style='font-size:10.0pt;font-family:Helvetica;
-mso-ansi-language:EN-GB'>SHORTDIFFICULTY<span style='mso-tab-count:7'>???????????????????????????????????????????????????????????????????????????? </span>:
-Difficulty mal 10 also 15 <span class=SpellE>statt</span> 1.5<br>
+mso-ansi-language:EN-GB'>SHORTDIFFICULTY<span style='mso-tab-count:6'>???????????????????????????????????????????????????????????????? </span><span
+style='mso-tab-count:1'>??????????? </span>: Difficulty mal 10 also 15 <span
+class=SpellE>statt</span> 1.5<br>
 SHDIFFICULTY<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????? </span>:
 Difficulty <span class=SpellE>abgerundet</span> also 1 <span class=SpellE>statt</span>
 1.5<br>
@@ -284,8 +285,9 @@
 </span><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:
 EN-GB'>DISTANCE<span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????????? </span>:
 Distance calculated in <span class=SpellE>cachelist</span><br>
-BEARING<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????????????? </span>:
-Bearing calculated in <span class=SpellE>cachelist</span><br>
+BEARING<span style='mso-tab-count:7'>??????????????????????????????????????????????????????????????????????????????? </span><span
+style='mso-tab-count:1'>??????????? </span>: Bearing calculated in <span
+class=SpellE>cachelist</span><br>
 LATON<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 Coordinates in long format, e.g. N 50? 31.234 E 008? 45.267<br>
 LAT<span style='mso-tab-count:9'>??????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
@@ -304,7 +306,8 @@
 Get the time part of the status<br>
 DATE<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 date hidden<br>
-CACHE_NAME<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????? </span>:
+CACHE_NAME<span style='mso-tab-count:1'> </span><span style='mso-tab-count:
+7'>????????????????????????????????????????????????????????????????????????????????? </span>:
 original Name of cache<br>
 NAME<span style='mso-tab-count:9'>??????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 Name of cache (<span class=SpellE>badchars</span> are removed, see below) (<span
@@ -316,9 +319,8 @@
 <span class=SpellE>Weglassen</span> von <span class=SpellE>Vokalen</span> von <span
 class=SpellE>hinten</span> und <span class=SpellE>wenn</span> <span
 class=SpellE>das</span> <span class=SpellE>nicht</span> <span class=SpellE>reicht</span>
-<span class=SpellE>durch</span> <span class=SpellE>Weglassen</span> von <span
-style='mso-spacerun:yes'>??</span><span style='mso-spacerun:yes'>??</span><span
-style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+<span class=SpellE>durch</span> <span class=SpellE>Weglassen</span> von<span
+style='mso-spacerun:yes'>???? </span><span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 <span class=SpellE>Kleinbuchstaben</span> von <span class=SpellE>hinten</span>
 auf <span class=SpellE>eine</span> in den <span class=SpellE>Einstellungen</span>
 <span class=SpellE>vorgegebene</span> <span class=SpellE>L?nge</span> <span
@@ -361,10 +363,25 @@
 <span class=SpellE>Liste</span> <span class=SpellE>der</span> <span
 class=SpellE>TBs</span> : <br>
 SOLVER<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????????? </span>:
-Solver Infos<br style='mso-special-character:line-break'>
+Solver <span class=SpellE>Infos</span><br style='mso-special-character:line-break'>
 <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
 <![endif]><o:p></o:p></span></p>
 
+<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
+lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>ATTRIBUTES<span
+style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????? </span>:
+the &lt;<span class=SpellE>tmpl_loop</span> ATTRIBUTES&gt;, example see GCTemplate.html
+/ show cache in browser offline<br>
+PATHANDIMAGE<span style='mso-tab-count:7'>??????????????????????????????????????????????????????????????????????????????? </span>:
+path an <span class=SpellE>imagename</span> of the attribute<br>
+IMAGE<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+<span class=SpellE>imagename</span> of the attribute<br>
+INFO<span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+description of the attribute from language <span class=SpellE>config</span><br>
+BR<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+contains &lt;<span class=SpellE>br</span>/&gt; every 5<sup>th</sup> attribute
+else empty (can be used with &lt;<span class=SpellE>tmp_if</span>&gt;)<o:p></o:p></span></p>
+
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
 mso-outline-level:1'><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;
 mso-ansi-language:EN-GB'>Further documentation of template library:
@@ -402,9 +419,9 @@
 name=LON&gt;;&quot;&lt;<span class=SpellE>tmpl_var</span>
 name=TYPE&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
 name=SIZE&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
-name=WAYPOINT&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span> name=DATE&gt;&quot;;&quot;&lt;<span
-class=SpellE>tmpl_var</span> name=URL&gt;&quot;&lt;<span class=SpellE>br</span>
-/&gt;<br>
+name=WAYPOINT&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
+name=DATE&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
+name=URL&gt;&quot;&lt;<span class=SpellE>br</span> /&gt;<br>
 &lt;/<span class=SpellE>tmpl_loop</span>&gt;<br style='mso-special-character:
 line-break'>
 <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
@@ -544,8 +561,8 @@
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>evaluates
 to false. If the control variable evaluates to true, then the else block, if</span><span
 lang=EN-GB style='mso-ansi-language:EN-GB'> </span><span lang=EN-GB
-style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>any, is
-displayed instead.</span><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
+style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>any, is displayed
+instead.</span><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
 class=SpellE><u><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-06 06:12:09 UTC (rev 2587)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-06 16:23:55 UTC (rev 2588)
@@ -179,12 +179,7 @@
 			        
 			        start = xmlString.indexOf('"', end + 1);
 			        end = xmlString.indexOf('"', start + 1);
-			        try {
-			        	setType(CacheType.v1Converter((xmlString.substring(start + 1, end))));
-			        } catch (IllegalArgumentException ex) {
-			        	setType(CacheType.CW_TYPE_ERROR);
-			        	if (Global.getPref().debug) Global.getPref().log(wayPoint, ex, true);
-			        }
+		        	setType(CacheType.v1Converter((xmlString.substring(start + 1, end))));
 		            
 			        start = xmlString.indexOf('"', end + 1);
 			        end = xmlString.indexOf('"', start + 1);
@@ -680,6 +675,25 @@
 			}
 			if (det.Travelbugs.size()>0) varParams.put("BUGS",det.Travelbugs.toHtml());
 			if (det.getSolver()!=null && det.getSolver().trim().length()>0) varParams.put("SOLVER", STRreplace.replace(det.getSolver(),"\n","<br/>\n"));
+			
+
+			// Cache attributes
+			if (det.attributes.count()>0) {
+				Vector attVect=new Vector(det.attributes.count()+1);
+				for (int i=0; i<det.attributes.count(); i++) {
+					Hashtable atts=new Hashtable();
+					atts.put("PATHANDIMAGE", det.attributes.getAttribute(i).getPathAndImageName());
+					atts.put("IMAGE", det.attributes.getAttribute(i).getImageName());
+					if (i % 5 ==4)
+						atts.put("BR","<br/>");
+					else
+						atts.put("BR","");
+					atts.put("INFO",det.attributes.getAttribute(i).getMsg());
+					attVect.add(atts);
+				}
+				varParams.put("ATTRIBUTES",attVect);
+			}
+
 		}
 		return varParams;
 	}	
@@ -1157,11 +1171,7 @@
 	private void long2byteFieldsv2(long value) {
 		setHard(byteFromLong(value, 1));
 		setTerrain(byteFromLong(value, 2));
-		try {
-			setType(CacheType.v2Converter(byteFromLong(value, 3)));
-		} catch (IllegalArgumentException ex) {
-			setType(CacheType.CW_TYPE_UNKNOWN);
-		}
+		setType(CacheType.v2Converter(byteFromLong(value, 3)));
 		setCacheSize(byteFromLong(value, 4));
 		setNoFindLogs((byteFromLong(value, 5)));
 		if (getHard() == -1 || getTerrain() == -1 || getCacheSize() == -1) {

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2010-06-06 06:12:09 UTC (rev 2587)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2010-06-06 16:23:55 UTC (rev 2588)
@@ -67,24 +67,6 @@
 				Vm.showWait(true);
 				try {
 					tpl.setParams(chD.toHashtable(new Regex("[,.]","."), null, 0, 30, new AsciiCodec(), null, true, 1));
-
-					// Cache attributes
-					if (chD.getCacheDetails(false).attributes.count()>0) {
-						Vector attVect=new Vector(chD.getCacheDetails(false).attributes.count()+1);
-						for (int i=0; i<chD.getCacheDetails(false).attributes.count(); i++) {
-							Hashtable atts=new Hashtable();
-							atts.put("IMAGE","<img src=\"file://"+
-									 chD.getCacheDetails(false).attributes.getAttribute(i).getPathAndImageName()+
-									 "\" border=0 alt=\""+chD.getCacheDetails(false).attributes.getAttribute(i).getMsg()+"\">");
-							if (i % 5 ==4)
-								atts.put("BR","<br/>");
-							else
-								atts.put("BR","");
-							atts.put("INFO",chD.getCacheDetails(false).attributes.getAttribute(i).getMsg());
-							attVect.add(atts);
-						}
-						tpl.setParam("ATTRIBUTES",attVect);
-					}
 					// Look for images
 					// count only the images of main body
 					int start=0;



From salzkammergut at mail.berlios.de  Sun Jun  6 22:06:16 2010
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sun, 6 Jun 2010 22:06:16 +0200
Subject: [Cachewolf-svn] r2589 - trunk/src/CacheWolf
Message-ID: <201006062006.o56K6Gcw027783@sheep.berlios.de>

Author: salzkammergut
Date: 2010-06-06 22:06:14 +0200 (Sun, 06 Jun 2010)
New Revision: 2589

Modified:
   trunk/src/CacheWolf/CacheList.java
Log:
Bugfix: CacheList

Modified: trunk/src/CacheWolf/CacheList.java
===================================================================
--- trunk/src/CacheWolf/CacheList.java	2010-06-06 16:23:55 UTC (rev 2588)
+++ trunk/src/CacheWolf/CacheList.java	2010-06-06 20:06:14 UTC (rev 2589)
@@ -13,28 +13,28 @@
  * "Cachetours". Caches can be dragged into the list from the main list view and
  * from the radar panel view. Caches can be removed from the list by dragging them
  * out or selecting them and pressing the "delete" key. Within the list the selected
- * cache can be moved up/down using two buttons. The finished list can be saved and 
+ * cache can be moved up/down using two buttons. The finished list can be saved and
  * reloaded with the selected position being stored. The list can be applied as
  * a filter to the main list, thereby hiding all caches that are not in the list
- * and sorting the caches according to the list. 
+ * and sorting the caches according to the list.
  * Created by skg, Februar 2007
  ********************************************************/
 public class CacheList extends CellPanel {
-    /** The extension for cachelists (CL) */ 
+    /** The extension for cachelists (CL) */
     private final String EXTENSION="CL";
 	private final String TITLE=MyLocale.getMsg(188,"CACHETOUR: NEW");
 	private static int applyCount=0; // Counts the number of times we apply the list
     CacheList() {
-		this.setPreferredSize(100,-1); 
+		this.setPreferredSize(100,-1);
 		this.equalWidths=true;
 		mImage imgDown=new mImage("ewe/downarrowsmall.bmp"); imgDown.transparentColor=Color.White;
 		mImage imgUp=new mImage("ewe/uparrowsmall.bmp"); imgUp.transparentColor=Color.White;
 		// Title
 		lblTitle=new mLabel(TITLE);
-		lblTitle.backGround=new Color(0,0,200); lblTitle.foreGround=Color.White; 
+		lblTitle.backGround=new Color(0,0,200); lblTitle.foreGround=Color.White;
 		addLast(lblTitle,HSTRETCH,HFILL|HCENTER);
 		// The actual list
-		lstCaches=new myList(10,1,false); lstCaches.text="CacheList"; 
+		lstCaches=new myList(10,1,false); lstCaches.text="CacheList";
 		lstCaches.addItem(MyLocale.getMsg(180,"Drag caches"));lstCaches.addItem(MyLocale.getMsg(181,"here"));
 		ScrollablePanel scp=lstCaches.getScrollablePanel();
 		addLast(scp,STRETCH,FILL); scp.setOptions(ScrollablePanel.NeverShowHorizontalScrollers);
@@ -68,24 +68,24 @@
 	/** True if there are unsaved changes */
 	private boolean dirty=false;
 	// The UI elements
-	private mLabel lblTitle; 
+	private mLabel lblTitle;
 	private mCheckBox chkAddAddis;
 	private mButton btnDown, btnUp, btnLoad, btnNew, btnSave, btnSaveAs, btnFilter;
     private mImage imgOpen,imgNew,imgSave,imgSaveAs;
-	/** This list mirrors the items in the list of selected caches for faster access. When the 
+	/** This list mirrors the items in the list of selected caches for faster access. When the
      * list of selected caches is manipulated (btnUp, btnDown), this list is also kept up to date
      */
 	private CacheDB cacheList=new CacheDB();
 	/** The full filename of the current file */
 	private String currFile=null;
-	
+
 	private class myList extends mList {
 		myList(int rows, int columns, boolean multi) { super(rows,columns,multi); }
-		
+
 		//  Allow the caches to be dragged out of the cachelist
 		String wayPoint;
 		int idx;
-		
+
 		public void startDragging(DragContext dc) {
 			 idx=getSelectedIndex(0);
 			 if (idx>=0) {
@@ -95,20 +95,20 @@
 				 imgDrag.addColumn(GuiImageBroker.getTypeImage(ch.getType()));
 				 imgDrag.addColumn(ch.getWayPoint());
 				 dc.dragData=dc.startImageDrag(imgDrag,new Point(8,8),this);
-			 } 
+			 }
 		}
 
 		public void dragged(DragContext dc) {
 			 	dc.imageDrag();
 		}
-		 
+
 		public void stopDragging(DragContext dc) {
 			 dc.stopImageDrag(true);
 			 Point p = Gui.getPosInParent(this,getWindow());
 			 p.x += dc.curPoint.x;
 			 p.y += dc.curPoint.y;
 			 Control c = getWindow().findChild(p.x,p.y);
-		     if (!(c instanceof myList)) { 
+		     if (!(c instanceof myList)) {
 		    	 // target is not myList => Remove dragged cache from list
 		    	 cacheList.removeElementAt(idx);
 		    	 lstCaches.deleteItem(idx);
@@ -116,11 +116,11 @@
 		    	 changeUpDownButtonStatus();
 		     }
 		 }
-		
+
 		// Alternative method of deleting a cache from the list through
 		// Keyboard interface
 		public void onKeyEvent(KeyEvent ev) {
-			/* This is a bit of a hack. By default Ewe sends key events to 
+			/* This is a bit of a hack. By default Ewe sends key events to
 			 * this panel. So if the list has not had anything dragged into it,
 			 * we redirect the focus to the list view, assuming that that is where
 			 * the key event needs to go.
@@ -150,7 +150,7 @@
 		}
 
 	} //******************* myList
-	
+
 	/** Simple sort to ensure that the main list keeps the order of this list */
 	private class mySort implements Comparer{
 		public int compare(Object o1, Object o2){
@@ -159,7 +159,7 @@
 			return oo1.sort.compareTo(oo2.sort);
 		}
 	}
-	
+
 	/** Enable the up/down buttons only if at least 2 caches are in the list */
 	private void changeUpDownButtonStatus() {
 		btnUp.modify(0,Disabled);
@@ -173,7 +173,7 @@
 		if (needsInit || lstCaches.itemsSize()<2) btnFilter.modify(Disabled,0);
 		btnFilter.repaintNow();
 	}
-	
+
 	public void onEvent(Event ev) {
 		if (ev instanceof MenuEvent && ev.type==MenuEvent.SELECTED) {
 			if (lstCaches.itemsSize()>0 && !needsInit) {
@@ -183,7 +183,7 @@
 				// Ensure that the main view is updated with the selected cache, i.e.
 				// DetailsPanel, HintLog, Pictures etc.
 				int activeTab=Global.mainTab.cardPanel.selectedItem;
-				if (activeTab==0) { 
+				if (activeTab==0) {
 					// Select the cache also in the main list view
 					Global.mainTab.tbP.selectRow(idx);
 					Global.mainTab.tbP.tc.repaint();
@@ -196,7 +196,7 @@
 			}
 		}
 		if (ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED) {
-			if (ev.target==btnNew) { 
+			if (ev.target==btnNew) {
 				newCacheList();
 			} else if(ev.target == btnLoad){
 				FileChooser fc = new FileChooser(FileChooserBase.OPEN, Global.getProfile().dataDir);
@@ -269,8 +269,9 @@
 		}
 		for (int i = cacheList.size()-1; i>=0; i--) {
 			ch = cacheDB.get((cacheList.get(i)).getWayPoint());
+			if (ch==null) continue; // Cache was deleted
 			if (!ch.isVisible()) wrongVisStatus++;
-			String s = MyLocale.formatLong(i,"00000"); 
+			String s = MyLocale.formatLong(i,"00000");
 			ch.sort=s;
 		}
 		// The sort command places all filtered caches at the end
@@ -280,8 +281,8 @@
 			(new MessageBox(MyLocale.getMsg(5500,"Error"),MyLocale.getMsg(4600,"Some cache(s) cannot be shown because of wrong blacklist status"), FormBase.OKB)).execute();
 
 	}
-	
-	/** Add a cache (and its addis) to the list 
+
+	/** Add a cache (and its addis) to the list
 	 * @return true if the cache is not already in lstCaches */
 	public boolean addCache(String wayPoint) {
 		// Check whether this is the first cache being added
@@ -300,11 +301,11 @@
 			}
 		}
 		// Update screen if any cache was added
-		if (cachesAdded) {	
+		if (cachesAdded) {
 			lstCaches.select(lstCaches.itemsSize()-1);
 			changeUpDownButtonStatus();
 		}
-		return cachesAdded;	
+		return cachesAdded;
 	}
 
 	/** Add a cache to the visible and invisible list */
@@ -319,7 +320,7 @@
 		} else
 			return false;
 	}
-	
+
 	void updateScreen(int numRows) {
 //		Global.mainTab.tbP.myMod.numRows=numRows;
 		Global.mainTab.tbP.refreshTable(); // Update and repaint
@@ -351,9 +352,9 @@
 		}
 		dirty=false;
 	}
-	
+
 	/** Clear the cachelist (save unsaved changes if needed) */
-	private void newCacheList() { 		
+	private void newCacheList() {
 		saveIfDirty();
 		lstCaches.items.clear();
 		cacheList.clear();
@@ -361,7 +362,7 @@
 		lblTitle.setText(TITLE);
 		currFile=null;
 	}
-	
+
 	/** Read a list of caches */
 	private void readFromFile(String fileName) {
 		if (needsInit)  {lstCaches.deleteItem(0);lstCaches.deleteItem(0);  needsInit=false; }
@@ -393,7 +394,7 @@
 		}
 		if (select>-1)
 			lstCaches.select(select);
-		else	
+		else
 		    lstCaches.select(lstCaches.itemsSize()-1);
 		lstCaches.repaint();
 		this.postEvent(new MenuEvent(MenuEvent.SELECTED,this,null));
@@ -401,7 +402,7 @@
 		setTitle(fileName);
 		dirty=false;
 	}
-	
+
 	/** Save the cachelist */
 	private void saveToFile(String fileName) {
 		int selectedIndex=lstCaches.getSelectedIndex(0);
@@ -418,7 +419,7 @@
 		setTitle(fileName);
 		dirty=false;
 	}
-	
+
 	/** Set the title */
 	private void setTitle(String fileName) {
 		String localFileName=fileName.replace('\\','/');
@@ -432,7 +433,7 @@
 			lblTitle.setText(localFileName);
 		lblTitle.repaint();
 	}
-	
+
 	/**
 	 * Determines if the cache tour contains a cache with a certain waypoint
 	 * @param waypoint Waypoint to check



From araber95 at mail.berlios.de  Sun Jun  6 23:49:33 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 6 Jun 2010 23:49:33 +0200
Subject: [Cachewolf-svn] r2590 - trunk/src/CacheWolf
Message-ID: <201006062149.o56LnX9e000309@sheep.berlios.de>

Author: araber95
Date: 2010-06-06 23:49:32 +0200 (Sun, 06 Jun 2010)
New Revision: 2590

Modified:
   trunk/src/CacheWolf/CacheHolder.java
Log:
possible NPE for CH-Details

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-06 20:06:14 UTC (rev 2589)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-06 21:49:32 UTC (rev 2590)
@@ -59,7 +59,7 @@
 	/** The terrain rating of the cache from 1 to 5 in .5 incements */
 	private byte terrain = CacheTerrDiff.CW_DT_UNSET;
 	/** The cache type (@see CacheType for translation table)  */
-	private byte type = CacheType.CW_TYPE_CUSTOM; 
+	private byte type; 
 	/** True if the cache has been archived */
 	private boolean archived = false;
 	/** True if the cache is available for searching */
@@ -676,7 +676,6 @@
 			if (det.Travelbugs.size()>0) varParams.put("BUGS",det.Travelbugs.toHtml());
 			if (det.getSolver()!=null && det.getSolver().trim().length()>0) varParams.put("SOLVER", STRreplace.replace(det.getSolver(),"\n","<br/>\n"));
 			
-
 			// Cache attributes
 			if (det.attributes.count()>0) {
 				Vector attVect=new Vector(det.attributes.count()+1);
@@ -1140,7 +1139,7 @@
 	private long byteFields2long() {
 		long value = byteBitMask(hard, 1)    | 
 		byteBitMask(terrain, 2)   |
-		byteBitMask(this.type, 3)    |
+		byteBitMask(type, 3)    |
 		byteBitMask(cacheSize, 4)|
 		byteBitMask(this.noFindLogs, 5);		             
 		return value;
@@ -1398,12 +1397,11 @@
 	/**
 	 * Sets the type of the cache. As the cache type values are int for the rest of CacheWolf
 	 * and byte internally of CacheHolder, some conversion has to be done.
-	 * @param type Cache Type
+	 * @param typeId Cache Type
 	 */
-	public void setType(byte type) {
-		byte newType = type;
-		Global.getProfile().notifyUnsavedChanges(newType != this.type);		
-    	this.type = newType;
+	public void setType(byte typeId) {
+		Global.getProfile().notifyUnsavedChanges(typeId != type);		
+    	type = typeId;
     }
 
 	public boolean is_archived() {



From mik77 at mail.berlios.de  Mon Jun  7 14:18:13 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Mon, 7 Jun 2010 14:18:13 +0200
Subject: [Cachewolf-svn] r2591 - trunk/res_noewe/languages
Message-ID: <201006071218.o57CIDWY017450@sheep.berlios.de>

Author: mik77
Date: 2010-06-07 14:18:06 +0200 (Mon, 07 Jun 2010)
New Revision: 2591

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
Log:
GC.com language hint added to error message

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-06-06 21:49:32 UTC (rev 2590)
+++ trunk/res_noewe/languages/DE.cfg	2010-06-07 12:18:06 UTC (rev 2591)
@@ -907,7 +907,7 @@
 		5512=+neue Caches
 		5513=Laden von:+
 		5514=%0aTravelbug:+
-		5515=Fehler beim Laden des Caches.%0aBitte %fcberpr%fcfen Sie Ihre Internetverbindung.%0aNoch einmal versuchen?
+		5515=Fehler beim Laden des Caches.%0aBitte %fcberpr%fcfen Sie Ihre Internetverbindung und ob als Sprache bei GC.com English ausgew%e4hlt ist.%0aNoch einmal versuchen?
 		5516=+Cachebeschreibungen%0akonnten nicht geladen werden.
 		5517=Aktualisierungen importieren?
 		5518=+Caches in der Datenbank sollten aktualisiert werden. Jetzt aktualisieren?

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-06-06 21:49:32 UTC (rev 2590)
+++ trunk/res_noewe/languages/EN.cfg	2010-06-07 12:18:06 UTC (rev 2591)
@@ -895,7 +895,7 @@
 		5512=+new caches
 		5513=Loading:+
 		5514=%0aGetting bug:+
-		5515=Failed to load cache.%0aPlease check your internet connection.%0aRetry?
+		5515=Failed to load cache.%0aPlease check your internet connection and if the selected language at GC.com is English.%0aRetry?
 		5516=+cache descriptions%0acould not be loaded.
 		5517=Spider updates?
 		5518=+caches in database need an update. Update now?



From araber95 at mail.berlios.de  Tue Jun  8 09:43:23 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Tue, 8 Jun 2010 09:43:23 +0200
Subject: [Cachewolf-svn] r2592 - in trunk/src/CacheWolf: . exp
Message-ID: <201006080743.o587hNxr003842@sheep.berlios.de>

Author: araber95
Date: 2010-06-08 09:43:21 +0200 (Tue, 08 Jun 2010)
New Revision: 2592

Modified:
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/exp/ExploristExporter.java
Log:
Explorist Exporter shorten Name to 20 chars

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-07 12:18:06 UTC (rev 2591)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-08 07:43:21 UTC (rev 2592)
@@ -624,10 +624,7 @@
 		if (codec instanceof AsciiCodec) { cacheName=Exporter.simplifyString(cacheName);} // use for "NAME"
 		if (badChars != null) { cacheName=badChars.replaceAll(cacheName); } // use for "NAME"
 		varParams.put("NAME", cacheName); // !!! cacheName used twice
-		String shortName=removeCharsfromString(cacheName, shortNameLength, selbstLaute);
-		if (shortName.length()>shortNameLength) {
-			shortName=removeCharsfromString(shortName, shortNameLength, mitLauteKlein());
-		}
+		String shortName=shortenName(cacheName, shortNameLength);
 		varParams.put("SHORTNAME", shortName);
 		varParams.put("TRAVELBUG", (bugs?"Y":"N"));
 		varParams.put("GMTYPE", gm != null ? gm.getIcon(this) : "");
@@ -744,7 +741,8 @@
 	private final static Time nowtime() {
 		Time nt = new Time();
 		return nt.setFormat("HH:mm");
-	}	
+	}
+
 	private final static String selbstLaute="aeiouAEIOU";
 	private final static String mitLauteKlein() {
 		final StringBuffer lower=new StringBuffer(26);// region/language dependent ?
@@ -753,6 +751,10 @@
 		}
 		return lower.toString();
 	}
+	public String shortenName(String Name, int maxLength) {
+		String shortName=removeCharsfromString(Name, maxLength, selbstLaute);
+		return  removeCharsfromString(shortName, maxLength, mitLauteKlein());
+	}
     private static String removeCharsfromString( String text, int MaxLength, String chars ) {
         if ( text == null ) return null;
         int originalTextLength = text.length();

Modified: trunk/src/CacheWolf/exp/ExploristExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/ExploristExporter.java	2010-06-07 12:18:06 UTC (rev 2591)
+++ trunk/src/CacheWolf/exp/ExploristExporter.java	2010-06-08 07:43:21 UTC (rev 2592)
@@ -231,10 +231,9 @@
 			} else if (ch.getType() == 55) {
 				add = "Re:";
 			}
-			sb.append(add).append(removeCommas(ch.getCacheName()));
-		} else {
-			sb.append(removeCommas(ch.getCacheName()));
+			sb.append(add);
 		}
+		sb.append(removeCommas(ch.shortenName(ch.getCacheName(), 20)).substring(0,20));
 		sb.append(",");
 		sb.append(removeCommas(ch.getCacheOwner()));
 		sb.append(",");



From araber95 at mail.berlios.de  Tue Jun  8 21:12:43 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Tue, 8 Jun 2010 21:12:43 +0200
Subject: [Cachewolf-svn] r2593 - in trunk: res_noewe/languages
	res_noewe/symbols res_noewe/symbols/Harry1999
	res_noewe/symbols/OCSymbols res_noewe/symbols/oder1
	res_noewe/symbols/oder2 res_noewe/symbols/z.B.big
	res_noewe/symbols/z.B.small src/CacheWolf src/CacheWolf/exp
	src/CacheWolf/imp
Message-ID: <201006081912.o58JChhK009798@sheep.berlios.de>

Author: araber95
Date: 2010-06-08 21:12:17 +0200 (Tue, 08 Jun 2010)
New Revision: 2593

Added:
   trunk/res_noewe/symbols/rename2ctypenumbers.bat
Removed:
   trunk/res_noewe/symbols/Harry1999/10size.png
   trunk/res_noewe/symbols/Harry1999/16size.png
   trunk/res_noewe/symbols/Harry1999/18size.png
   trunk/res_noewe/symbols/Harry1999/20size.png
   trunk/res_noewe/symbols/Harry1999/21size.png
   trunk/res_noewe/symbols/Harry1999/4size.png
   trunk/res_noewe/symbols/Harry1999/7size.png
   trunk/res_noewe/symbols/OCSymbols/16.png
   trunk/res_noewe/symbols/OCSymbols/16size.png
   trunk/res_noewe/symbols/OCSymbols/18.png
   trunk/res_noewe/symbols/OCSymbols/18size.png
   trunk/res_noewe/symbols/OCSymbols/19.png
   trunk/res_noewe/symbols/OCSymbols/19size.png
   trunk/res_noewe/symbols/OCSymbols/20.png
   trunk/res_noewe/symbols/OCSymbols/20size.png
   trunk/res_noewe/symbols/OCSymbols/5.png
   trunk/res_noewe/symbols/OCSymbols/5size.png
   trunk/res_noewe/symbols/oder1/11.png
   trunk/res_noewe/symbols/oder1/16.png
   trunk/res_noewe/symbols/oder1/18.png
   trunk/res_noewe/symbols/oder2/18.png
   trunk/res_noewe/symbols/oder2/19.png
   trunk/res_noewe/symbols/oder2/20.png
   trunk/res_noewe/symbols/oder2/5.png
   trunk/res_noewe/symbols/z.B.big/10size.png
   trunk/res_noewe/symbols/z.B.big/14size.png
   trunk/res_noewe/symbols/z.B.big/15size.png
   trunk/res_noewe/symbols/z.B.big/16size.png
   trunk/res_noewe/symbols/z.B.big/17size.png
   trunk/res_noewe/symbols/z.B.big/18size.png
   trunk/res_noewe/symbols/z.B.big/19size.png
   trunk/res_noewe/symbols/z.B.big/20size.png
   trunk/res_noewe/symbols/z.B.big/21size.png
   trunk/res_noewe/symbols/z.B.big/7size.png
   trunk/res_noewe/symbols/z.B.small/11.png
   trunk/res_noewe/symbols/z.B.small/12.png
   trunk/res_noewe/symbols/z.B.small/13.png
   trunk/res_noewe/symbols/z.B.small/14.png
   trunk/res_noewe/symbols/z.B.small/15.png
   trunk/res_noewe/symbols/z.B.small/16.png
   trunk/res_noewe/symbols/z.B.small/17.png
   trunk/res_noewe/symbols/z.B.small/18.png
   trunk/res_noewe/symbols/z.B.small/6.png
Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/res_noewe/symbols/Harry1999/11size.png
   trunk/res_noewe/symbols/Harry1999/2size.png
   trunk/res_noewe/symbols/Harry1999/5size.png
   trunk/res_noewe/symbols/OCSymbols/11.png
   trunk/res_noewe/symbols/OCSymbols/11size.png
   trunk/res_noewe/symbols/OCSymbols/2.png
   trunk/res_noewe/symbols/OCSymbols/2size.png
   trunk/res_noewe/symbols/OCSymbols/3.png
   trunk/res_noewe/symbols/OCSymbols/3size.png
   trunk/res_noewe/symbols/oder2/11.png
   trunk/res_noewe/symbols/oder2/4.png
   trunk/res_noewe/symbols/readme.htm
   trunk/res_noewe/symbols/z.B.big/11size.png
   trunk/res_noewe/symbols/z.B.big/12size.png
   trunk/res_noewe/symbols/z.B.big/13size.png
   trunk/res_noewe/symbols/z.B.big/2size.png
   trunk/res_noewe/symbols/z.B.big/4size.png
   trunk/res_noewe/symbols/z.B.big/5size.png
   trunk/res_noewe/symbols/z.B.big/6size.png
   trunk/res_noewe/symbols/z.B.big/8size.png
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/CacheList.java
   trunk/src/CacheWolf/CacheType.java
   trunk/src/CacheWolf/Filter.java
   trunk/src/CacheWolf/FilterScreen.java
   trunk/src/CacheWolf/GuiImageBroker.java
   trunk/src/CacheWolf/exp/ExploristExporter.java
   trunk/src/CacheWolf/imp/LOCXMLImporter.java
   trunk/src/CacheWolf/imp/OCXMLImporterScreen.java
   trunk/src/CacheWolf/myInteractivePanel.java
   trunk/src/CacheWolf/myTableControl.java
   trunk/src/CacheWolf/myTableModel.java
Log:
Some internal changes on CacheType

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/res_noewe/languages/DE.cfg	2010-06-08 19:12:17 UTC (rev 2593)
@@ -1,6 +1,34 @@
 {cachewolf.Languages}
 	{LocalResources}
 		{de}
+		1=eigener
+		2=Traditional
+		3=Multi
+		4=Virtual
+		5=Letterbox
+		6=Event
+		7=Quiz
+		8=Mystery
+		9=Moving
+		10=DriveIn
+		11=Webcam
+		12=Locationless
+		13=CITO
+		14=Mega Event
+		15=WherIGo
+		16=APE
+		17=MAZE
+		18=Earthcache
+		19=Math
+		20=10 Jahre Event/ Lost and Found Event
+		21=sonstiger Cachetyp
+		49=unbekannter Cachetyp
+		50=Addi: Parken
+		51=Addi: Station
+		52=Addi: Frage
+		53=Addi: Ziel
+		54=Addi: Startpunkt
+		55=Addi: Bezugspunkt
 		100=nach HTML
 		101=nach GPX (NG Entwicklung)
 		102=nach TOP50 ASCII

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/res_noewe/languages/EN.cfg	2010-06-08 19:12:17 UTC (rev 2593)
@@ -1,6 +1,34 @@
 {cachewolf.Languages}
 	{LocalResources}
 		{en}
+		1=Custom
+		2=Traditional
+		3=Multi
+		4=Virtual
+		5=Letterbox
+		6=Event
+		7=Quiz
+		8=Mystery
+		9=Moving
+		10=DriveIn
+		11=Webcam
+		12=Locationless
+		13=CITO
+		14=Mega Event
+		15=WherIGo
+		16=APE
+		17=MAZE
+		18=Earthcache
+		19=Math
+		20=10 years event / lost and found event
+		21=other cachetype
+		49=unknown cachetype
+		50=Addi: Parking
+		51=Addi: Stage
+		52=Addi: Question
+		53=Addi: Final
+		54=Addi: Trailhead
+		55=Addi: Reference
 		100=to HTML
 		101=to GPX (NG Development)
 		102=to TOP50 ASCII

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/res_noewe/languages/FR.cfg	2010-06-08 19:12:17 UTC (rev 2593)
@@ -1,6 +1,34 @@
 {cachewolf.Languages}
 	{LocalResources}
 		{fr}
+		1=personnalis%e9
+		2=traditionnel
+		3=Multi
+		4=virtuel
+		5=bo%eete aux lettres
+		6=%e9v%e9nement
+		7=Quiz
+		8=myst%e8re
+		9=en mouvement
+		10=conduire en
+		11=Webcam
+		12=Locationless
+		13=CITO
+		14=Mega %e9v%e9nement
+		15=WherIGo
+		16=APE
+		17=MAZE
+		18=Earthcache
+		19=Math
+		20=10 years event / lost and found event
+		21=other cachetype
+		49=unknown cachetype
+		50=Addi: Stationnement
+		51=Addi: Stage
+		52=Addi: Question
+		53=Addi: Final
+		54=Addi: Point de d%e9part
+		55=Addi: Reference
 		100=vers HTML
 		101=vers GPX (NG D%e9veloppement)
 		102=vers TOP50 ASCII

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/res_noewe/languages/NL.cfg	2010-06-08 19:12:17 UTC (rev 2593)
@@ -1,6 +1,34 @@
 {cachewolf.Languages}
 	{LocalResources}
 		{nl}
+		1=Gewoonte
+		2=Traditional
+		3=Multi
+		4=Virtual
+		5=Letterbox
+		6=Event
+		7=Quiz
+		8=Mystery
+		9=Moving
+		10=DriveIn
+		11=Webcam
+		12=Locationless
+		13=CITO
+		14=Mega Event
+		15=WherIGo
+		16=APE
+		17=MAZE
+		18=Earthcache
+		19=Math
+		20=10 years event / lost and found event
+		21=other cachetype
+		49=unknown cachetype
+		50=Addi: Parkeren
+		51=Addi: Stage
+		52=Addi: Question
+		53=Addi: Final
+		54=Addi: Trailhead
+		55=Addi: Reference
 		100=naar HTML
 		101=naar GPX Ontwikkeling
 		102=naar TOP50 ASCII

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/res_noewe/languages/PL.cfg	2010-06-08 19:12:17 UTC (rev 2593)
@@ -1,6 +1,34 @@
 {cachewolf.Languages}
         {LocalResources}
                 {pl}
+		1=Zwyczaj
+		2=Traditional
+		3=Multi
+		4=Virtual
+		5=Letterbox
+		6=Event
+		7=Quiz
+		8=Mystery
+		9=Moving
+		10=DriveIn
+		11=Webcam
+		12=Locationless
+		13=CITO
+		14=Mega Event
+		15=WherIGo
+		16=APE
+		17=MAZE
+		18=Earthcache
+		19=Math
+		20=10 years event / lost and found event
+		21=other cachetype
+		49=unknown cachetype
+		50=Addi: Parkowanie
+		51=Addi: Stage
+		52=Addi: Question
+		53=Addi: Final
+		54=Addi: Trailhead
+		55=Addi: Reference
                 100=HTML
                 101=GPX Rozw%f6j
                 102=TOP50 ASCII

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/res_noewe/languages/SV.cfg	2010-06-08 19:12:17 UTC (rev 2593)
@@ -1,6 +1,34 @@
 {cachewolf.Languages}
 	{LocalResources}
 		{sv}
+		1=Anpassad
+		2=Traditional
+		3=Multi
+		4=Virtual
+		5=Letterbox
+		6=Event
+		7=Quiz
+		8=Mystery
+		9=Moving
+		10=DriveIn
+		11=Webcam
+		12=Locationless
+		13=CITO
+		14=Mega Event
+		15=WherIGo
+		16=APE
+		17=MAZE
+		18=Earthcache
+		19=Math
+		20=10 years event / lost and found event
+		21=other cachetype
+		49=unknown cachetype
+		50=Addi: Parkering
+		51=Addi: Stage
+		52=Addi: Question
+		53=Addi: Final
+		54=Addi: Trailhead
+		55=Addi: Reference
         	100=till HTML
         	101=till GPX (NG Development)
         	102=till TOP50 ASCII

Deleted: trunk/res_noewe/symbols/Harry1999/10size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/Harry1999/11size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/Harry1999/16size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/Harry1999/18size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/Harry1999/20size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/Harry1999/21size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/Harry1999/2size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/Harry1999/4size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/Harry1999/5size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/Harry1999/7size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/OCSymbols/11.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/OCSymbols/11size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/16.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/16size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/18.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/18size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/19.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/19size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/OCSymbols/2.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/20.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/20size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/OCSymbols/2size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/OCSymbols/3.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/OCSymbols/3size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/5.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/OCSymbols/5size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/oder1/11.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/oder1/16.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/oder1/18.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/oder2/11.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/oder2/18.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/oder2/19.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/oder2/20.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/oder2/4.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/oder2/5.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/readme.htm
===================================================================
--- trunk/res_noewe/symbols/readme.htm	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/res_noewe/symbols/readme.htm	2010-06-08 19:12:17 UTC (rev 2593)
@@ -14,17 +14,17 @@
  <o:DocumentProperties>
   <o:Author>.</o:Author>
   <o:LastAuthor>.</o:LastAuthor>
-  <o:Revision>3</o:Revision>
+  <o:Revision>5</o:Revision>
   <o:Created>2009-10-23T21:05:00Z</o:Created>
-  <o:LastSaved>2009-10-28T15:51:00Z</o:LastSaved>
+  <o:LastSaved>2010-06-08T16:27:00Z</o:LastSaved>
   <o:Pages>1</o:Pages>
-  <o:Words>218</o:Words>
-  <o:Characters>1380</o:Characters>
+  <o:Words>238</o:Words>
+  <o:Characters>1506</o:Characters>
   <o:Company>CF Computer</o:Company>
-  <o:Lines>11</o:Lines>
+  <o:Lines>12</o:Lines>
   <o:Paragraphs>3</o:Paragraphs>
-  <o:CharactersWithSpaces>1595</o:CharactersWithSpaces>
-  <o:Version>10.6856</o:Version>
+  <o:CharactersWithSpaces>1741</o:CharactersWithSpaces>
+  <o:Version>10.6858</o:Version>
  </o:DocumentProperties>
 </xml><![endif]--><!--[if gte mso 9]><xml>
  <w:WordDocument>
@@ -84,7 +84,7 @@
 	font-family:"Times New Roman";}
 </style>
 <![endif]--><!--[if gte mso 9]><xml>
- <o:shapedefaults v:ext="edit" spidmax="4098"/>
+ <o:shapedefaults v:ext="edit" spidmax="5122"/>
 </xml><![endif]--><!--[if gte mso 9]><xml>
  <o:shapelayout v:ext="edit">
   <o:idmap v:ext="edit" data="1"/>
@@ -125,8 +125,8 @@
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>They're
 supposed to be 16x16 <span class=SpellE>PNGs</span> or less.<o:p></o:p></span></p>
 
-<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>On the map
-larger symbols are shown, if they exist and the filename ends on size.<o:p></o:p></span></p>
+<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>On the map larger
+symbols are shown, if they exist and the filename ends on size.<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>Incorrectly
 named files will be ignored.<o:p></o:p></span></p>
@@ -151,83 +151,104 @@
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>---------------------------------------------<o:p></o:p></span></p>
 
-<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p>&nbsp;</o:p></span></p>
+<p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
+EN-GB'>old</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> Nr<span
+style='mso-tab-count:1'>? </span><span class=SpellE>newNr</span><span
+style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>??????????? </span>meaning<o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>0.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> -
-Custom<o:p></o:p></span></p>
+EN-GB'>0.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>0.png<span style='mso-tab-count:1'>?? </span><span
+style='mso-tab-count:1'>??????????? </span>Custom<o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>1.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> -
-APE (&quot;Project APE Cache&quot;)<o:p></o:p></span></p>
+EN-GB'>1.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>102.png<span style='mso-tab-count:1'>?????????? </span>APE
+(&quot;Project APE Cache&quot;)<o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>2.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> -
-CITO<o:p></o:p></span></p>
+EN-GB'>2.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>13.png<span style='mso-tab-count:2'>???????????? </span>CITO<o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>3.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> - <span
+EN-GB'>3.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>10.png<span style='mso-tab-count:2'>???????????? </span><span
 class=SpellE>Drive_In</span><o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>4.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> - <span
+EN-GB'>4.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>104.png<span style='mso-tab-count:1'>?????????? </span><span
 class=SpellE>Earthcache</span><o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>5.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> -
-Event<o:p></o:p></span></p>
+EN-GB'>5.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>6.png<span style='mso-tab-count:2'>?????????????? </span>Event<o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>6.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> -
-Final<o:p></o:p></span></p>
+EN-GB'>6.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>53.png<span style='mso-tab-count:2'>???????????? </span>Final<o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>7.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> -
-Letterbox<o:p></o:p></span></p>
+EN-GB'>7.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>5.png<span style='mso-tab-count:2'>?????????????? </span>Letterbox<o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>8.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> - <span
+EN-GB'>8.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>12.png<span style='mso-tab-count:2'>???????????? </span><span
 class=SpellE>Locationless</span><o:p></o:p></span></p>
 
 <p class=MsoNormal><span class=GramE><span lang=EN-GB style='mso-ansi-language:
-EN-GB'>9.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'> -
-Maze (&quot;Adventure Maze Exhibit&quot;)<o:p></o:p></span></p>
+EN-GB'>9.png</span></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><span
+style='mso-tab-count:1'>?? </span>103.png<span style='mso-tab-count:1'>?????????? </span>Maze
+(&quot;Adventure Maze Exhibit&quot;)<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>10<span
-class=GramE>.png</span> - <span class=SpellE>Megaevent</span><o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>100.png<span
+style='mso-tab-count:1'>?????????? </span><span class=SpellE>Megaevent</span><o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>11<span
-class=GramE>.png</span> - Multi<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>3.png<span
+style='mso-tab-count:2'>?????????????? </span>Multi<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>12<span
-class=GramE>.png</span> - Parking<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>50.png<span
+style='mso-tab-count:2'>???????????? </span>Parking<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>13<span
-class=GramE>.png</span> - Question<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>52.png<span
+style='mso-tab-count:2'>???????????? </span>Question<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>14<span
-class=GramE>.png</span> - Reference<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>55.png<span
+style='mso-tab-count:2'>???????????? </span>Reference<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>15<span
-class=GramE>.png</span> - Stage<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>51.png<span
+style='mso-tab-count:2'>???????????? </span>Stage<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>16<span
-class=GramE>.png</span> - Traditional<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>2.png<span
+style='mso-tab-count:2'>?????????????? </span>Traditional<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>17<span
-class=GramE>.png</span> - Trailhead<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>54.png<span
+style='mso-tab-count:2'>???????????? </span>Trailhead<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>18<span
-class=GramE>.png</span> - Unknown<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>8.png<span
+style='mso-tab-count:2'>?????????????? </span>Unknown<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>19<span
-class=GramE>.png</span> - Virtual<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>4.png<span
+style='mso-tab-count:2'>?????????????? </span>Virtual<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>20<span
-class=GramE>.png</span> - Webcam<o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>11.png<span
+style='mso-tab-count:2'>???????????? </span>Webcam<o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>21<span
-class=GramE>.png</span> - <span class=SpellE>Wherigo</span><o:p></o:p></span></p>
+class=GramE>.png</span><span style='mso-tab-count:1'> </span>101.png<span
+style='mso-tab-count:1'>?????????? </span><span class=SpellE>Wherigo</span><o:p></o:p></span></p>
 
 <p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p>&nbsp;</o:p></span></p>
 

Added: trunk/res_noewe/symbols/rename2ctypenumbers.bat
===================================================================
--- trunk/res_noewe/symbols/rename2ctypenumbers.bat	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/res_noewe/symbols/rename2ctypenumbers.bat	2010-06-08 19:12:17 UTC (rev 2593)
@@ -0,0 +1,88 @@
+ren 0.png            _0.png
+ren 1.png            _1.png
+ren 2.png            _2.png
+ren 3.png            _3.png
+ren 4.png            _4.png
+ren 5.png            _5.png
+ren 6.png            _6.png
+ren 7.png            _7.png
+ren 8.png            _8.png
+ren 9.png            _9.png
+ren 10.png           _10.png
+ren 11.png           _11.png
+ren 12.png           _12.png
+ren 13.png           _13.png
+ren 14.png           _14.png
+ren 15.png           _15.png
+ren 16.png           _16.png
+ren 17.png           _17.png
+ren 18.png           _18.png
+ren 19.png           _19.png
+ren 20.png           _20.png
+ren 21.png           _21.png
+ren 0size.png        _0size.png
+ren 1size.png        _1size.png
+ren 2size.png        _2size.png
+ren 3size.png        _3size.png
+ren 4size.png        _4size.png
+ren 5size.png        _5size.png
+ren 6size.png        _6size.png
+ren 7size.png        _7size.png
+ren 8size.png        _8size.png
+ren 9size.png        _9size.png
+ren 10size.png       _10size.png
+ren 11size.png       _11size.png
+ren 12size.png       _12size.png
+ren 13size.png       _13size.png
+ren 14size.png       _14size.png
+ren 15size.png       _15size.png
+ren 16size.png       _16size.png
+ren 17size.png       _17size.png
+ren 18size.png       _18size.png
+ren 19size.png       _19size.png
+ren 20size.png       _20size.png
+ren 21size.png       _21size.png
+ren _0.png 0.png
+ren _1.png 102.png
+ren _2.png 13.png
+ren _3.png 10.png
+ren _4.png 104.png
+ren _5.png 6.png
+ren _6.png 53.png
+ren _7.png 5.png
+ren _8.png 12.png
+ren _9.png 103.png
+ren _10.png 100.png
+ren _11.png 3.png
+ren _12.png 50.png
+ren _13.png 52.png
+ren _14.png 55.png
+ren _15.png 51.png
+ren _16.png 2.png
+ren _17.png 54.png
+ren _18.png 8.png
+ren _19.png 4.png
+ren _20.png 11.png
+ren _21.png 101.png
+ren _0size.png 0size.png
+ren _1size.png 102size.png
+ren _2size.png 13size.png
+ren _3size.png 10size.png
+ren _4size.png 104size.png
+ren _5size.png 6size.png
+ren _6size.png 53size.png
+ren _7size.png 5size.png
+ren _8size.png 12size.png
+ren _9size.png 103size.png
+ren _10size.png 100size.png
+ren _11size.png 3size.png
+ren _12size.png 50size.png
+ren _13size.png 52size.png
+ren _14size.png 55size.png
+ren _15size.png 51size.png
+ren _16size.png 2size.png
+ren _17size.png 54size.png
+ren _18size.png 8size.png
+ren _19size.png 4size.png
+ren _20size.png 11size.png
+ren _21size.png 101size.png

Deleted: trunk/res_noewe/symbols/z.B.big/10size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/z.B.big/11size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/z.B.big/12size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/z.B.big/13size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/14size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/15size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/16size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/17size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/18size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/19size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/20size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/21size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/z.B.big/2size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/z.B.big/4size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/z.B.big/5size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/z.B.big/6size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.big/7size.png
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/symbols/z.B.big/8size.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/11.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/12.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/13.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/14.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/15.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/16.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/17.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/18.png
===================================================================
(Binary files differ)

Deleted: trunk/res_noewe/symbols/z.B.small/6.png
===================================================================
(Binary files differ)

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -136,6 +136,7 @@
 	
 	public CacheHolder(String wp) {
 		wayPoint = wp;
+		type=-1;
     }
 	
 	public CacheHolder(String xmlString, int version) {

Modified: trunk/src/CacheWolf/CacheList.java
===================================================================
--- trunk/src/CacheWolf/CacheList.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/CacheList.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -92,7 +92,7 @@
 				 CacheHolder ch=cacheList.get(idx);
 				 wayPoint=ch.getWayPoint();
 				 IconAndText imgDrag=new IconAndText();
-				 imgDrag.addColumn(GuiImageBroker.getTypeImage(ch.getType()));
+				 imgDrag.addColumn(CacheType.getTypeImage(ch.getType()));
 				 imgDrag.addColumn(ch.getWayPoint());
 				 dc.dragData=dc.startImageDrag(imgDrag,new Point(8,8),this);
 			 }
@@ -314,7 +314,7 @@
 			// Add cache reference to hidden list
 			cacheList.add(ch);
 			// Add Cache and cache icon to visible list
-			lstCaches.addItem((new MenuItem()).iconize(ch.getWayPoint()+"   "+ch.getCacheName(),GuiImageBroker.getTypeImage(ch.getType()),true));
+			lstCaches.addItem((new MenuItem()).iconize(ch.getWayPoint()+"   "+ch.getCacheName(),CacheType.getTypeImage(ch.getType()),true));
 		    dirty=true;
 			return true;
 		} else

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/CacheType.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -1,9 +1,61 @@
 package CacheWolf;
 
+import ewe.fx.Image;
+
+final class CTyp {
+	public byte _cwMappedCType; // CW Cache Typ intern
+	public byte _cwCType; // CW Cache Typ intern
+	public char _cwCGroup; // Cache Typ Group intern
+	public String _cwCTypeV1; // V1 Cache Typ 
+	public String _gcCTypeSpider; // GC Type on Spider Import from GC.com 
+	public String _ocCTypeXmlImport; // GC Type on Spider Import from GC.com 
+	public byte _cwCTypeV2; // V2 Cache Typ 
+	public char _gpxShortCType; // Short Typ (one char abbreviation)
+	public String _imageName; // name of imageNameture for Icon, "showCacheInBrowser" and "KML Export"
+	public String _gpxWptTypeTag; // gpx wpt <type> tag
+	public String _gpxWptSymTag; // gpx wpt <sym> tag
+	public String _gpxWptGCextensionTypTag; // gpx cache extension <groundspeak:type> tag
+	public String _gpxAlternativeWptTypTags; // alternative typ - names for gpx from other sources 		
+	public int _msgNrCTypeName; // message number for gui cache Typ name
+	public int _GUIOrder; // sort Order in GUI selection //TODO more intelligent implementation (now manually change each line on new one)
+	public int _FilterStringPos; // BitNr in Filter String (profile) 
+	public int _FilterPattern; // 2**BitNr in Filter int (does not correspond with BitNr in String)
+	public Image _iconImage; 
+	public Image _mapImage;
+	public CTyp(byte cwMappedCType, byte cwCType, char cwCGroup, String cwCTypeV1, String gcCTypeSpider, 
+			String ocCTypeXmlImport, byte cwCTypeV2, char gpxShortCType, String imageName, 
+			String gpxWptTypeTag, String gpxWptSymTag, String gpxWptGCextensionTypTag, 
+			String gpxAlternativeWptTypTags, int msgNrCTypeName, int GUIOrder, int FilterStringPos, int FilterPattern) {
+		
+		_cwMappedCType = cwMappedCType;
+		_cwCType = cwCType;
+		_cwCGroup = cwCGroup;
+		_cwCTypeV1 = cwCTypeV1;
+		_gcCTypeSpider = gcCTypeSpider;
+		_ocCTypeXmlImport = ocCTypeXmlImport;
+		_cwCTypeV2 = cwCTypeV2;
+		_gpxShortCType = gpxShortCType;
+		_imageName = imageName;
+		_gpxWptTypeTag = gpxWptTypeTag;
+		_gpxWptSymTag = gpxWptSymTag;
+		_gpxWptGCextensionTypTag = gpxWptGCextensionTypTag;
+		_gpxAlternativeWptTypTags = gpxAlternativeWptTypTags;
+		_msgNrCTypeName = msgNrCTypeName;
+		_GUIOrder = GUIOrder;
+		_FilterStringPos = FilterStringPos;
+		_FilterPattern = FilterPattern;
+		if (!_imageName.equals("")) {
+			_iconImage=new Image(_imageName);
+			_mapImage=_iconImage;
+		}
+	}
+}
+
+
 /**
- * Handles all aspects of converting cache type information from
- * and to the various im- and exporters as well as for converting
- * legacy profiles to current standard
+ * Handles all aspects of converting cache type information 
+ * from and to the various im- and exporters ...
+ * converting legacy profiles to current standard
  *
  * Do not instantiate this class, only use it in a static way
  */
@@ -16,313 +68,147 @@
 
 	/** custom waypoint */
 	public static final byte CW_TYPE_CUSTOM = 0;
-	/** Project Ape cache (GC)*/
-	public static final byte CW_TYPE_APE = 102;
-	/** CITO cache (GC,OC)*/
-	public static final byte CW_TYPE_CITO = 13;
-	/** drive in cache (OC) */
-	public static final byte CW_TYPE_DRIVE_IN = 10;
-	/** Earth Cache (GC) */
-	public static final byte CW_TYPE_EARTH = 104;
-
-	/** event cache (OC,GC) */
-	public static final byte CW_TYPE_EVENT = 6;
-	/** Additional Waypoint Final (GC) */
-	public static final byte CW_TYPE_FINAL = 53;
+	/** traditional cache (GC,OC) */
+	public static final byte CW_TYPE_TRADITIONAL = 2;
+	/** multi cache (GC,OC) */
+	public static final byte CW_TYPE_MULTI = 3;
+	/** virtual cache (GC,OC) */
+	public static final byte CW_TYPE_VIRTUAL = 4;
 	/** letterbox cache (GC) */
 	public static final byte CW_TYPE_LETTERBOX = 5;
+	/** event cache (GC,OC) */
+	public static final byte CW_TYPE_EVENT = 6;
+	/** unknown cache - Mystery (GC) */
+	public static final byte CW_TYPE_UNKNOWN = 8;
+	/** drive in cache (OC) */
+	public static final byte CW_TYPE_DRIVE_IN = 10;
+	/** webcam cache (GC,OC) */
+	public static final byte CW_TYPE_WEBCAM = 11;
 	/** locationless cache (GC) */
 	public static final byte CW_TYPE_LOCATIONLESS = 12;
-	/** Adenture Maze Exhibit (GC)*/
-	public static final byte CW_TYPE_MAZE = 103;
-
+	/** CITO cache (GC)*/
+	public static final byte CW_TYPE_CITO = 13;
 	/** Mega Event Cache (GC) */
 	public static final byte CW_TYPE_MEGA_EVENT = 100;
-	/** multi cache (GC,OC) */
-	public static final byte CW_TYPE_MULTI = 3;
+	/** WhereIGo Cache (GC) */
+	public static final byte CW_TYPE_WHEREIGO = 101;
+	/** Earth Cache (GC) */
+	public static final byte CW_TYPE_EARTH = 104;
 	/** Additional Waypoint Parking (GC) */
 	public static final byte CW_TYPE_PARKING = 50;
-	/** Additional Waypoint Question to answer (GC) */
-	public static final byte CW_TYPE_QUESTION = 52;
-	/** Additional Waypoint Reference (GC) */
-	public static final byte CW_TYPE_REFERENCE = 55;
-
 	/** Additional Waypoint Stage of a Multi (GC) */
 	public static final byte CW_TYPE_STAGE = 51;
-	/** traditional cache (GC,OC) */
-	public static final byte CW_TYPE_TRADITIONAL = 2;
+	/** Additional Waypoint Question to answer (GC) */
+	public static final byte CW_TYPE_QUESTION = 52;
+	/** Additional Waypoint Final (GC) */
+	public static final byte CW_TYPE_FINAL = 53;
 	/** Additional Waypoint Trailhead (GC) */
 	public static final byte CW_TYPE_TRAILHEAD = 54;
-	/** unknown cache (GC) */
-	public static final byte CW_TYPE_UNKNOWN = 8;
-	/** virtual cache (GC) */
-	public static final byte CW_TYPE_VIRTUAL = 4;
-
-	/** webcam cache (GC,OC) */
-	public static final byte CW_TYPE_WEBCAM = 11;
-	/** WhereIGo Cache (GC) */
-	public static final byte CW_TYPE_WHEREIGO = 101;
-
-	/** quiz cache (OC) */
-	public static final byte CW_TYPE_QUIZ = 7;
-	/** math cache (OC) */
-	public static final byte CW_TYPE_MATH = 108;
-	/** moving cache (OC) */
-	public static final byte CW_TYPE_MOVING = 9;
-
-	/** unrecognized cache type or missing information, should throw IllegalArgumentExceptions when found */
+	/** Additional Waypoint Reference (GC) */
+	public static final byte CW_TYPE_REFERENCE = 55;
+	/** unrecognized cache type or missing information */
 	public static final byte CW_TYPE_ERROR = -1;
 
-	static final byte[] CT={
-		CW_TYPE_CUSTOM, CW_TYPE_APE, CW_TYPE_CITO, CW_TYPE_DRIVE_IN, CW_TYPE_EARTH,
-		CW_TYPE_EVENT, CW_TYPE_FINAL, CW_TYPE_LETTERBOX, CW_TYPE_LOCATIONLESS, CW_TYPE_MAZE,
-		CW_TYPE_MEGA_EVENT, CW_TYPE_MULTI, CW_TYPE_PARKING, CW_TYPE_QUESTION, CW_TYPE_REFERENCE,
-		CW_TYPE_STAGE, CW_TYPE_TRADITIONAL, CW_TYPE_TRAILHEAD, CW_TYPE_UNKNOWN, CW_TYPE_VIRTUAL,
-		CW_TYPE_WEBCAM, CW_TYPE_WHEREIGO,
-		CW_TYPE_QUIZ, CW_TYPE_MATH, CW_TYPE_MOVING,
-		CW_TYPE_ERROR
-};
-	// 0=Custom - 1=APE ("Project APE Cache") - 2=CITO - 3=Drive_In - 4=Earthcache
-	// 5=Event - 6=Final - 7=Letterbox - 8=Locationless - 9=Maze ("Adventure Maze Exhibit")
-	// 10=Megaevent - 11=Multi - 12=Parking - 13=Question - 14=Reference
-	// 15=Stage - 16=Traditional - 17=Trailhead - 18=Unknown(Mysterie) - 19=Virtual
-	// 20=Webcam - 21=Wherigo
-	// 22=Quiz(Unknown) - 23=Math - 24=Moving
-	// 25=Error
-	/*
-	static final byte[] CTn= {
-			0,102,13,10,104,
-			6,53,5,12,103,
-			100,3,50,52,55,
-			51,2,54,8,4,
-			11,101,
-			7,108,9,
-			-1
+	private static final CTyp[] CTypRef = {
+		// custom waypoints
+		new CTyp((byte) 0,(byte) 0,'P',"0","","",(byte) -128,'C',"typeCustom.png","Geocache|Custom","Custom","Custom","",1,0,10,0x000100),
+		// Cache waypoints
+		new CTyp((byte) 2,(byte) 2,'C',"2","2","2",(byte) -126,'T',"typeTradi.png","Geocache|Traditional Cache","Geocache","Traditional Cache","Traditional|Classic",2,1,0,0x000001),
+		new CTyp((byte) 3,(byte) 3,'C',"3","3","3",(byte) -125,'M',"typeMulti.png","Geocache|Multi-cache","Geocache","Multi-cache","Multi|Offset",3,2,1,0x000002),
+		new CTyp((byte) 4,(byte) 4,'C',"4","4","4",(byte) -124,'V',"typeVirtual.png","Geocache|Virtual Cache","Geocache","Virtual Cache","Virtual",4,3,2,0x000004),
+		new CTyp((byte) 5,(byte) 5,'C',"5","5","",(byte) -123,'L',"typeLetterbox.png","Geocache|Letterbox Hybrid","Geocache","Letterbox Hybrid","Letterbox",5,4,3,0x000008),
+		new CTyp((byte) 6,(byte) 6,'C',"6","6","6",(byte) -122,'X',"typeEvent.png","Geocache|Event Cache","Geocache","Event Cache","Event",6,5,4,0x000010),
+		new CTyp((byte) 100,(byte) 100,'C',"453","453","",(byte) 101,'X',"typeMegaevent.png","Geocache|Mega-Event Cache","Geocache","Mega-Event Cache","Mega",14,6,9,0x000200),
+		new CTyp((byte) 11,(byte) 11,'C',"11","11","5",(byte) -117,'W',"typeWebcam.png","Geocache|Webcam Cache","Geocache","Webcam Cache","Webcam",11,7,5,0x000020),
+		new CTyp((byte) 8,(byte) 8,'C',"8","8","",(byte) -120,'U',"typeUnknown.png","Geocache|Unknown Cache","Geocache","Unknown Cache","Mystery",8,8,6,0x000040),
+		new CTyp((byte) 12,(byte) 12,'C',"12","12","",(byte) -116,'O',"typeLocless.png","Geocache|Locationless new CTyp(Reverse) Cache","Geocache","Locationless new CTyp(Reverse) Cache","Locationless",12,9,8,0x000080),
+		new CTyp((byte) 13,(byte) 13,'C',"13","13","",(byte) -115,'X',"typeCito.png","Geocache|Cache In Trash Out Event","Geocache","Cache In Trash Out Event","CITO",13,10,17,0x020000),
+		new CTyp((byte) 104,(byte) 104,'C',"137","137","",(byte) 9,'E',"typeEarth.png","Geocache|Earthcache","Geocache","Earthcache","Earth",18,11,7,0x000400),
+		new CTyp((byte) 101,(byte) 101,'C',"1858","1858","",(byte) 100,'G',"typeWhereigo.png","Geocache|Wherigo Cache","Geocache","Wherigo Cache","Wherigo",15,12,18,0x040000),
+		// additional waypoints
+		new CTyp((byte) 50,(byte) 50,'A',"50","","",(byte) -78,'P',"typeParking.png","Waypoint|Parking Area","Parking Area","Parking Area","",50,13,11,0x000800),
+		new CTyp((byte) 51,(byte) 51,'A',"51","","",(byte) -77,'S',"typeStage.png","Waypoint|Stages of a Multicache","Stages of a Multicache","Stages of a Multicache","",51,14,12,0x001000),
+		new CTyp((byte) 52,(byte) 52,'A',"52","","",(byte) -76,'Q',"typeQuestion.png","Waypoint|Question to Answer","Question to Answer","Question to Answer","",52,15,13,0x002000),
+		new CTyp((byte) 53,(byte) 53,'A',"53","","",(byte) -75,'F',"typeFinal.png","Waypoint|Final Location","Final Location","Final Location","",53,16,14,0x004000),
+		new CTyp((byte) 54,(byte) 54,'A',"54","","",(byte) -74,'H',"typeTrailhead.png","Waypoint|Trailhead","Trailhead","Trailhead","",54,17,15,0x008000),
+		new CTyp((byte) 55,(byte) 55,'A',"55","","",(byte) -73,'R',"typeReference.png","Waypoint|Reference Point","Reference Point","Reference Point","",55,18,16,0x010000),
+		// error on waypoint
+		new CTyp((byte) -1,(byte) -1,'E',"","","",(byte) -1,'-',"guiError.png","","","","",49,-1,-1,0),
+        // mapped types (recognized on input from gpx or download-spider / or cw - version)                 
+		new CTyp((byte) 8,(byte) 1,'C',"","","1",(byte) -1,'U',"","Geocache|Other","Geocache","Other","Other",21,-1,-1,0),
+		new CTyp((byte) 8,(byte) 7,'C',"7","","7",(byte) -121,'U',"","Geocache|Quiz","Geocache","Quiz","Quiz",7,-1,-1,0),
+		new CTyp((byte) 8,(byte) 9,'C',"9","","9",(byte) -119,'U',"","Geocache|Moving","Geocache","Moving","Moving",9,-1,-1,0),
+		new CTyp((byte) 2,(byte) 10,'C',"10","","10",(byte) -118,'U',"","Geocache|DriveIn","Geocache","DriveIn","DriveIn",10,-1,-1,0),
+		new CTyp((byte) 6,(byte) 14,'C',"","3653","",(byte) -1,'X',"","Geocache|Lost and Found Event Cache","Geocache","Lost and Found Event Cache","",6,-1,-1,0),		         
+		new CTyp((byte) 2,(byte) 102,'C',"","9","",(byte) -1,'T',"","Geocache|Project APE Cache","Geocache","Project APE Cache","APE",16,-1,-1,0),
+		new CTyp((byte) 6,(byte) 103,'C',"","1304","",(byte) -1,'X',"","Geocache|GPS Adventures Exhibit","Geocache","GPS Adventures Exhibit","MAZE",17,-1,-1,0),
+		new CTyp((byte) 8,(byte) 108,'C',"","","8",(byte) -1,'U',"","only on OC download","","","",19,-1,-1,0),
+		new CTyp((byte) 101,(byte) 15,'C',"","","",(byte) -62,'G',"","Hack for V2 Typ","","","",-1,-1,-1,0),
 	};
-	*/
-	static final byte[] CT_Index = new byte[110];
+	// public static final int anzCacheTyps=CTypRef.length;
+	public static final byte maxCWCType=110;
+    static final byte[] Ref_Index = new byte[maxCWCType];
 	static {
-	  for (byte i=0; i<CT.length; i++) {
-	    CT_Index[CT[i]+1]=i;
+		// +1 cause error is -1 and array starts at 0
+	  for (byte i = (byte) (CTypRef.length - 1); i>=0; i--) {
+		  Ref_Index[1 + CTypRef[i]._cwCType]= i;
 	   }
 	}
-	public static byte CT_Index(final byte type) {
-		return CT_Index[type+1];
+	public static byte Ref_Index(final byte type) {
+		byte ret=Ref_Index[CTypRef[Ref_Index[type+1]]._cwMappedCType + 1];
+		return ret;
 	}
-
-	static final String[] CT_FILENAME={
-		"typeCustom.png", "typeApe.png", "typeCito.png", "typeDrivein.png", "typeEarth.png",
-		"typeEvent.png", "typeFinal.png", "typeLetterbox.png", "typeLocless.png", "typeMaze.png",
-		"typeMegaevent.png", "typeMulti.png", "typeParking.png", "typeQuestion.png", "typeReference.png",
-		"typeStage.png", "typeTradi.png", "typeTrailhead.png", "typeUnknown.png", "typeVirtual.png",
-		"typeWebcam.png", "typeWhereigo.png",
-		"typeUnknown.png", "typeMath.png", "typeMoving.png",
-		"guiError.png"
-	};
-	static final String[] CT_TYPETAG = {
-		"Geocache|Custom", "Geocache|Project APE Cache", "Geocache|Cache In Trash Out Event", "Geocache|DriveIn", "Geocache|Earthcache",
-		"Geocache|Event Cache", "Waypoint|Final Location", "Geocache|Letterbox Hybrid", "Geocache|Locationless (Reverse) Cache", "Geocache|GPS Adventures Exhibit",
-		"Geocache|Mega-Event Cache", "Geocache|Multi-cache", "Waypoint|Parking Area", "Waypoint|Question to Answer", "Waypoint|Reference Point",
-		"Waypoint|Stages of a Multicache", "Geocache|Traditional Cache", "Waypoint|Trailhead", "Geocache|Unknown Cache", "Geocache|Virtual Cache",
-		"Geocache|Webcam Cache", "Geocache|Wherigo Cache",
-		"Geocache|Unknown Cache", "Geocache|Math", "Geocache|Moving",
-		"Fehler"
-	};
-	static final String[] CT_SYMTAG = {
-		"Custom", "Geocache", "Geocache", "Geocache", "Geocache",
-		"Geocache", "Final Location", "Geocache", "Geocache", "Geocache",
-		"Geocache", "Geocache", "Parking Area", "Question to Answer", "Reference Point",
-		"Stages of a Multicache", "Geocache", "Trailhead", "Geocache", "Geocache",
-		"Geocache", "Geocache",
-		"Geocache", "Geocache", "Geocache",
-		"Fehler"
-	};
-	static final String[] CT_GSTYPETAG = {
-		"Custom", "Project APE Cache", "Cache In Trash Out Event", "DriveIn", "Earthcache",
-		"Event Cache", "Final Location", "Letterbox Hybrid", "Locationless (Reverse) Cache", "GPS Adventures Exhibit",
-		"Mega-Event Cache", "Multi-cache", "Parking Area", "Question to Answer", "Reference Point",
-		"Stages of a Multicache", "Traditional Cache", "Trailhead", "Unknown Cache", "Virtual Cache",
-		"Webcam Cache", "Wherigo Cache",
-		"Unknown Cache", "Math", "Moving",
-		"Fehler"
-	};
-	//TODO: texts from mylocale ?
-	public static final String[] CT_GUI={
-		"Custom", "APE", "CITO", "DriveIn", "Earthcache",
-		"Event", "Addi: Final", "Letterbox", "Locationless", "MAZE",
-		"Mega Event", "Multi", "Addi: Parking", "Addi: Question", "Addi: Reference",
-		"Addi: Stage", "Traditional", "Addi: Trailhead", "Mystery", "Virtual",
-		"Webcam", "WherIGo",
-		"Quiz", "Math", "Moving",
-		"Fehler"
-	};
-
+	
+	
+	
 	/**
-	 * translate cache type to a short version for compact exporters or "smart" cache names.
-	 * @param type CacheWolf internal type information
-	 * @return abbreviation of cache type
-	 * @throws IllegalArgumentException if <code>type</code> can not be mapped
-	 */
-	public static String getExportShortId(final byte type) throws IllegalArgumentException {
-		switch (type){
-		case CW_TYPE_CUSTOM: return "C";
-		case CW_TYPE_TRADITIONAL: return "T";
-		case CW_TYPE_MULTI: return "M";
-		case CW_TYPE_VIRTUAL: return "V";
-		case CW_TYPE_LETTERBOX: return "L";
-		case CW_TYPE_EVENT: return "X";
-		case CW_TYPE_WEBCAM: return "W";
-		case CW_TYPE_UNKNOWN: return "U";
-		case CW_TYPE_LOCATIONLESS: return "O";
-		case CW_TYPE_CITO: return "X";
-		case CW_TYPE_EARTH: return "E";
-		case CW_TYPE_MEGA_EVENT: return "X";
-		case CW_TYPE_WHEREIGO: return "G";
-		case CW_TYPE_PARKING: return "P";
-		case CW_TYPE_STAGE: return "S";
-		case CW_TYPE_QUESTION: return "Q";
-		case CW_TYPE_FINAL: return "F";
-		case CW_TYPE_TRAILHEAD: return "H";
-		case CW_TYPE_REFERENCE: return "R";
-		case CW_TYPE_APE: return "T";
-		case CW_TYPE_MAZE: return "X";
-		default: throw new IllegalArgumentException("unmatched argument "+type+" in CacheSize getExportShortId()");
-		}
-	}
-
-	/**
-	 * convert version1 type information to current values
-	 * @param type version1 cache type information
-	 * @return current version cache type information
-	 * @throws IllegalArgumentException if <code>size</code> can not be mapped to internal representation
-	 * @deprecated remove once v1 file version compatibility is abandoned
-	 */
-	public static byte v1Converter(final String type) throws IllegalArgumentException  {
-		if (type.equals("0")) return CW_TYPE_CUSTOM;
-		if (type.equals("2")) return CW_TYPE_TRADITIONAL;
-		if (type.equals("3")) return CW_TYPE_MULTI;
-		if (type.equals("4")) return CW_TYPE_VIRTUAL;
-		if (type.equals("5")) return CW_TYPE_LETTERBOX;
-		if (type.equals("6")) return CW_TYPE_EVENT;
-		if (type.equals("8")) return CW_TYPE_UNKNOWN;
-		if (type.equals("11")) return CW_TYPE_WEBCAM;
-		if (type.equals("12")) return CW_TYPE_LOCATIONLESS;
-		if (type.equals("13")) return CW_TYPE_CITO;
-		if (type.equals("50")) return CW_TYPE_PARKING;
-		if (type.equals("51")) return CW_TYPE_STAGE;
-		if (type.equals("52")) return CW_TYPE_QUESTION;
-		if (type.equals("53")) return CW_TYPE_FINAL;
-		if (type.equals("54")) return CW_TYPE_TRAILHEAD;
-		if (type.equals("55")) return CW_TYPE_REFERENCE;
-		if (type.equals("453")) return CW_TYPE_MEGA_EVENT;
-		if (type.equals("1858")) return CW_TYPE_WHEREIGO;
-		if (type.equals("137")) return CW_TYPE_EARTH;
-
-		throw new IllegalArgumentException("unmatched argument "+type+" in CacheSize v1Converter()");
-	}
-
-	/**
-	 * convert version1 type information to current values
-	 * @param type version2 cache type information
-	 * @return current version cache type information
-	 * @throws IllegalArgumentException if <code>size</code> can not be mapped to internal representation
-	 * @deprecated remove once v2 file version compatibility is abandoned
-	 */
-	public static byte v2Converter(final byte type) throws IllegalArgumentException  {
-		switch (type) {
-		case -128: return CW_TYPE_CUSTOM;
-		case -126: return CW_TYPE_TRADITIONAL;
-		case -125: return CW_TYPE_MULTI;
-		case -124: return CW_TYPE_VIRTUAL;
-		case -123: return CW_TYPE_LETTERBOX;
-		case -122: return CW_TYPE_EVENT;
-		case -121: return CW_TYPE_QUIZ;
-		case -120: return CW_TYPE_UNKNOWN;
-		case -119: return CW_TYPE_MOVING;
-		case -118: return CW_TYPE_DRIVE_IN;
-		case -117: return CW_TYPE_WEBCAM;
-		case -116: return CW_TYPE_LOCATIONLESS;
-		case -115: return CW_TYPE_CITO;
-		case -78: return CW_TYPE_PARKING;
-		case -77: return CW_TYPE_STAGE;
-		case -76: return CW_TYPE_QUESTION;
-		case -75: return CW_TYPE_FINAL;
-		case -74: return CW_TYPE_TRAILHEAD;
-		case -73: return CW_TYPE_REFERENCE;
-		case 101: return CW_TYPE_MEGA_EVENT;
-		case -62: return CW_TYPE_WHEREIGO; // yes, it can be either of these
-		case 100: return CW_TYPE_WHEREIGO; // yes, it can be either of these
-		case 9: return CW_TYPE_EARTH;
-		default: throw new IllegalArgumentException("unmatched argument "+type+" in CacheSize v2Converter()");
-		}
-	}
-
-	/**
 	 * check if a given waypoint type is an additional waypoint
 	 * @param type waypoint type to check
-	 * @return true if it is an additional waypint, false otherwise
+	 * @return true if it is an additional waypoint, false otherwise
 	 */
 	public static boolean isAddiWpt(final byte type) {
-		switch (type) {
-		case CW_TYPE_PARKING: // fall through
-		case CW_TYPE_STAGE: // fall through
-		case CW_TYPE_QUESTION: // fall through
-		case CW_TYPE_FINAL: // fall through
-		case CW_TYPE_TRAILHEAD: // fall through
-		case CW_TYPE_REFERENCE: return true;
-		default: return false;
-		}
+		return CTypRef[Ref_Index(type)]._cwCGroup == 'A';
 	}
 	/**
-	 * this is the same as !isAddiWpt except that CW_TYPE_CUSTUM and CW_TYPE_ERROR return false
-	 * I (pfeffer) don't know if this behaviour is intended, I guess it is.
-	 * @param type
-	 * @return
+	 * check if a given waypoint type is an cache waypoint
+	 * @param type waypoint type to check
+	 * @return true if it is an Cache waypoint, false otherwise
 	 */
 	public static boolean isCacheWpt(final byte type) {
-		switch (type) {
-		case CW_TYPE_CUSTOM:
-		case CW_TYPE_ERROR:
-			return false;
-		default: return !isAddiWpt(type);
-		}
+		return CTypRef[Ref_Index(type)]._cwCGroup == 'C';
 	}
-
+	/**
+	 * check if a given waypoint type is an Custom waypoint
+	 * @param type waypoint type to check
+	 * @return true if it is an Custom waypint, false otherwise
+	 */
 	public static boolean isCustomWpt(final byte type) {
-		return type == CW_TYPE_CUSTOM;
+		return CTypRef[Ref_Index(type)]._cwCGroup == 'P';
 	}
-
+	
+	
+	// done for DetailsPanel.java and KML- and TomTom-Exporter
 	/**
 	 * create list of cache types to be shown in GUI drop down lists
 	 * @return list of cache types to be shown in GUI drop down list
 	 * @see guiSelect2Cw
 	 * @see cw2GuiSelect
 	 */
-	//TODO: move to a class "closer" to the gui?
 	public static String[] guiTypeStrings() {
-		return new String[] {
-				CT_GUI[CT_Index(CW_TYPE_CUSTOM)],
-				CT_GUI[CT_Index(CW_TYPE_TRADITIONAL)],
-				CT_GUI[CT_Index(CW_TYPE_MULTI)],
-				CT_GUI[CT_Index(CW_TYPE_VIRTUAL)],
-				CT_GUI[CT_Index(CW_TYPE_LETTERBOX)],
-				CT_GUI[CT_Index(CW_TYPE_EVENT)],
-				CT_GUI[CT_Index(CW_TYPE_MEGA_EVENT)],
-				CT_GUI[CT_Index(CW_TYPE_WEBCAM)],
-				CT_GUI[CT_Index(CW_TYPE_UNKNOWN)],
-				CT_GUI[CT_Index(CW_TYPE_LOCATIONLESS)],
-				CT_GUI[CT_Index(CW_TYPE_CITO)],
-				CT_GUI[CT_Index(CW_TYPE_EARTH)],
-				CT_GUI[CT_Index(CW_TYPE_WHEREIGO)],
-				CT_GUI[CT_Index(CW_TYPE_PARKING)],
-				CT_GUI[CT_Index(CW_TYPE_STAGE)],
-				CT_GUI[CT_Index(CW_TYPE_QUESTION)],
-				CT_GUI[CT_Index(CW_TYPE_FINAL)],
-				CT_GUI[CT_Index(CW_TYPE_TRAILHEAD)],
-				CT_GUI[CT_Index(CW_TYPE_REFERENCE)],
-			};
+		int j = 0;
+		for (int i = 0; i < CTypRef.length; i++) {
+			if (CTypRef[i]._GUIOrder > j) {
+				j=CTypRef[i]._GUIOrder;
+			}
+		}
+		String[] ret = new String[j+1];
+		for (int i = 0; i < CTypRef.length; i++) {
+			if (CTypRef[i]._GUIOrder > -1) {
+				ret[CTypRef[i]._GUIOrder]=MyLocale.getMsg(CTypRef[i]._msgNrCTypeName,"");
+			}
+		}
+		return ret;
 	}
-
 	/**
 	 * translate GUI drop down index selection back to internally stored type
 	 * @param selection index value from drop down list
@@ -331,33 +217,12 @@
 	 * @see guiTypeStrings
 	 * @see cw2GuiSelect
 	 */
-	//TODO: move to a class "closer" to the gui?
-	public static byte guiSelect2Cw(final int selection) throws IllegalArgumentException {
-		// make sure to reflect the order of guiTypeStrings()
-		switch (selection) {
-		case  0: return CW_TYPE_CUSTOM;
-		case  1: return CW_TYPE_TRADITIONAL;
-		case  2: return CW_TYPE_MULTI;
-		case  3: return CW_TYPE_VIRTUAL;
-		case  4: return CW_TYPE_LETTERBOX;
-		case  5: return CW_TYPE_EVENT;
-		case  6: return CW_TYPE_MEGA_EVENT;
-		case  7: return CW_TYPE_WEBCAM;
-		case  8: return CW_TYPE_UNKNOWN;
-		case  9: return CW_TYPE_LOCATIONLESS;
-		case 10: return CW_TYPE_CITO;
-		case 11: return CW_TYPE_EARTH;
-		case 12: return CW_TYPE_WHEREIGO;
-		case 13: return CW_TYPE_PARKING;
-		case 14: return CW_TYPE_STAGE;
-		case 15: return CW_TYPE_QUESTION;
-		case 16: return CW_TYPE_FINAL;
-		case 17: return CW_TYPE_TRAILHEAD;
-		case 18: return CW_TYPE_REFERENCE;
-		default: throw new IllegalArgumentException("unmatched argument "+selection+" in CacheSize guiSelect2Cw()");
+	public static byte guiSelect2Cw(final int selection) {
+		for (byte i=0; i<CTypRef.length; i++) {
+			if (CTypRef[i]._GUIOrder == selection) {return CTypRef[i]._cwCType;};
 		}
+		return -1;
 	}
-
 	/**
 	 * translate cache type to position of index to highlight in GUI cache type drop down list
 	 * @param typeId internal id of cache type
@@ -366,59 +231,32 @@
 	 * @see guiTypeStrings
 	 * @see guiSelect2Cw
 	 */
-	//TODO: move to a class "closer" to the gui?
-	public static int cw2GuiSelect(final byte typeId) throws IllegalArgumentException {
-		switch (typeId) {
-		case CW_TYPE_CUSTOM: return 0;
-		case CW_TYPE_TRADITIONAL: return 1;
-		case CW_TYPE_MULTI: return 2;
-		case CW_TYPE_VIRTUAL: return 3;
-		case CW_TYPE_LETTERBOX: return 4;
-		case CW_TYPE_EVENT: return 5;
-		case CW_TYPE_MEGA_EVENT: return 6;
-		case CW_TYPE_WEBCAM: return 7;
-		case CW_TYPE_UNKNOWN: return 8;
-		case CW_TYPE_LOCATIONLESS: return 9;
-		case CW_TYPE_CITO: return 10;
-		case CW_TYPE_EARTH: return 11;
-		case CW_TYPE_WHEREIGO: return 12;
-		case CW_TYPE_PARKING: return 13;
-		case CW_TYPE_STAGE: return 14;
-		case CW_TYPE_QUESTION: return 15;
-		case CW_TYPE_FINAL: return 16;
-		case CW_TYPE_TRAILHEAD: return 17;
-		case CW_TYPE_REFERENCE: return 18;
-		default: throw new IllegalArgumentException("unmatched argument "+typeId+" in CacheSize cw2GuiSelect()");
-		}
+	public static int cw2GuiSelect(final byte typeId) {
+		return CTypRef[Ref_Index(typeId)]._GUIOrder;
 	}
 
+	
+	
 	/**
 	 * convert the strings found in import of GPX from GC, OC or TC to internal cache type
 	 * @param gpxType type information found in GPX
 	 * @return internal cache type
 	 */
 	public static byte gpxType2CwType(final String gpxType) throws IllegalArgumentException {
-		for (byte i=0; i<CT.length; i++) {
-			if (CT_TYPETAG[i].equals(gpxType)) {return CT[i];};
+		for (byte i=0; i<CTypRef.length; i++) {
+			if (CTypRef[i]._gpxWptTypeTag.equals(gpxType)) {return CTypRef[i]._cwMappedCType;};
 		}
-		/*
-		for (byte i=0; i<CT.length; i++) {
-			if (CT_SYMTAG[i].equals(gpxType)) {return CT[i];};
+		for (byte i=0; i<CTypRef.length; i++) {
+			if (CTypRef[i]._gpxWptGCextensionTypTag.equals(gpxType)) {return CTypRef[i]._cwMappedCType;};
 		}
-		 */
-		for (byte i=0; i<CT.length; i++) {
-			if (CT_GSTYPETAG[i].equals(gpxType)) {return CT[i];};
+		for (byte i=0; i<CTypRef.length; i++) {
+			if (CTypRef[i]._gpxAlternativeWptTypTags.indexOf(gpxType) != -1) {
+				return CTypRef[i]._cwMappedCType;
+			};
 		}
-		
-		if (gpxType.equals("Traditional")|| gpxType.equals("Classic")) return CW_TYPE_TRADITIONAL;
-		if (gpxType.equals("Multi") || gpxType.equals("Offset")) return CW_TYPE_MULTI;
-		if (gpxType.equals("Virtual")) return CW_TYPE_VIRTUAL;
-		if (gpxType.equals("Event")) return CW_TYPE_EVENT;
-		if (gpxType.equals("Other") || gpxType.equals("Quiz")) return CW_TYPE_UNKNOWN;
-		if (gpxType.equals("Webcam")) return CW_TYPE_WEBCAM;
-		if (gpxType.equals("Earth")) return CW_TYPE_EARTH;
-		if (!(gpxType.indexOf("Mystery")==-1)) return CW_TYPE_UNKNOWN; 
-		return CW_TYPE_ERROR;
+		// TODO extend definition of _gpxAlternativeWptTypTags for all cases of Mystery
+		// old code was : if (!(gpxType.indexOf("Mystery")==-1)) return CW_TYPE_UNKNOWN; 
+		return -1;
 	}
 
 	/**
@@ -427,61 +265,82 @@
 	 * @return internal cache type
 	 * @throws IllegalArgumentException if <code>ocType</code> can not be matched
 	 */
-	public static byte ocType2CwType(final String ocType) throws IllegalArgumentException {
-		if(ocType.equals("1")) return CW_TYPE_UNKNOWN;
-		if(ocType.equals("2")) return CW_TYPE_TRADITIONAL;
-		if(ocType.equals("3")) return CW_TYPE_MULTI;
-		if(ocType.equals("4")) return CW_TYPE_VIRTUAL;
-		if(ocType.equals("5")) return CW_TYPE_WEBCAM;
-		if(ocType.equals("6")) return CW_TYPE_EVENT;
-		if(ocType.equals("7")) return CW_TYPE_UNKNOWN;
-		if(ocType.equals("8")) return CW_TYPE_UNKNOWN;
-		if(ocType.equals("9")) return CW_TYPE_UNKNOWN;
-		if(ocType.equals("10")) return CW_TYPE_TRADITIONAL; // drive in
-		throw new IllegalArgumentException("unmatched argument "+ocType+" in CacheSize ocType2CwType()");
+	public static byte ocType2CwType(final String ocType) {
+		for (int i = 0; i < CTypRef.length; i++) {
+			if (CTypRef[i]._ocCTypeXmlImport.equals(ocType)) {
+				return CTypRef[i]._cwMappedCType;
+			}
+		}
+		return -1;
 	}
-
 	/**
 	 * convert type information discovered by GC spider to internal type information
 	 * @param gcType type information from GC spider
 	 * @return internal representation of cache type
 	 * @throws IllegalArgumentException if <code>gcType</code> can not be matched
 	 */
-	public static byte gcSpider2CwType(final String gcType) throws IllegalArgumentException {
-		if (gcType.equals("2")) { return CW_TYPE_TRADITIONAL; }
-		if (gcType.equals("3")) { return CW_TYPE_MULTI; }
-		if (gcType.equals("4")) { return CW_TYPE_VIRTUAL; }
-		if (gcType.equals("5")) { return CW_TYPE_LETTERBOX; }
-		if (gcType.equals("6")) { return CW_TYPE_EVENT; }
-		if (gcType.equals("8")) { return CW_TYPE_UNKNOWN; }
-		if (gcType.equals("9")) { return CW_TYPE_APE; } //102
-		if (gcType.equals("11")) { return CW_TYPE_WEBCAM; }
-		if (gcType.equals("12")) { return CW_TYPE_LOCATIONLESS; }
-		if (gcType.equals("13")) { return CW_TYPE_CITO; }
-		if (gcType.equals("137")) { return CW_TYPE_EARTH; } //104
-		if (gcType.equals("453")) { return CW_TYPE_MEGA_EVENT; } //100
-		if (gcType.equals("1304")) { return CW_TYPE_MAZE; } //103
-		if (gcType.equals("1858")) { return CW_TYPE_WHEREIGO; } //101
-		if (gcType.equals("3653")) { return CW_TYPE_EVENT; } // 10 years
-		throw new IllegalArgumentException("unmatched argument "+gcType+" in CacheSize gcSpider2CwType()");
+	public static byte gcSpider2CwType(final String gcType) {
+		for (int i = 0; i < CTypRef.length; i++) {
+			if (CTypRef[i]._gcCTypeSpider.equals(gcType)) {
+				return CTypRef[i]._cwMappedCType;
+			}
+		}
+		return -1;
 	}
+	/**
+	 * convert version1 type information to current values
+	 * @param type version1 cache type information
+	 * @return current version cache type information or -1
+	 * @deprecated remove once v1 file version compatibility is abandoned
+	 */
+	public static byte v1Converter(final String type) {
+		for (int i = 0; i < CTypRef.length; i++) {
+			if (CTypRef[i]._cwCTypeV1.equals(type)) {
+				return CTypRef[i]._cwMappedCType;
+			}
+		}
+		return -1;
+	}
+	/**
+	 * convert version2 type information to current values
+	 * @param type version2 cache type information
+	 * @return current version cache type information or -1
+	 * @deprecated remove once v2 file version compatibility is abandoned
+	 */
+	public static byte v2Converter(final byte type) {
+		for (int i = 0; i < CTypRef.length; i++) {
+			if (CTypRef[i]._cwCTypeV2 == type) {
+				return CTypRef[i]._cwMappedCType;
+			}
+		}
+		return -1;
+	}
 
+	
+	
 	/**
+	 * translate cache type to a short version for compact exporters or "smart" cache names.
+	 * @param typeId CacheWolf internal type information
+	 * @return abbreviation of cache type
+	 */
+	public static String getExportShortId(final byte typeId) {
+		return ""+CTypRef[Ref_Index(typeId)]._gpxShortCType;
+	}
+	/**
 	 * map cache types to images
 	 * @param typeId internal cache type id
 	 * @return non qualified name of image
 	 */
 	public static String typeImageForId(final byte typeId) {
-		return CT_FILENAME[CT_Index(typeId)];
+		return CTypRef[Ref_Index(typeId)]._imageName;
 	}
-
 	/**
 	 * generate type description matching those of GC for GPX export
 	 * @param typeId internal type id
 	 * @return type information in GC.com <type> GPX format
 	 */
 	public static String type2TypeTag(final byte typeId) {
-		return CT_TYPETAG[CT_Index(typeId)];
+		return CTypRef[Ref_Index(typeId)]._gpxWptTypeTag;
 	}
 	/**
 	 * generate type description matching those of GC for GPX export
@@ -489,7 +348,7 @@
 	 * @return symb information in GC.com <sym> GPX format
 	 */
 	public static String type2SymTag(final byte typeId) {
-		return CT_SYMTAG[CT_Index(typeId)];
+		return CTypRef[Ref_Index(typeId)]._gpxWptSymTag;
 	}
 	/**
 	 * generate type description matching those of GC for GPX export
@@ -497,41 +356,81 @@
 	 * @return type information in GC.com <groundspeak:type> GPX format
 	 */
 	public static String type2GSTypeTag(final byte typeId) {
-		return CT_GSTYPETAG[CT_Index(typeId)];
+		return CTypRef[Ref_Index(typeId)]._gpxWptGCextensionTypTag;
 	}
+	/**
+	 * generate type description matching those of GC for GPX export
+	 * @param typeId internal type id
+	 * @return Gui - string for type
+	 */
 	public static String type2Gui(final byte typeId) {
-		return CT_GUI[CT_Index(typeId)];
+		return MyLocale.getMsg(CTypRef[Ref_Index(typeId)]._msgNrCTypeName,"");
 	}
-
 	/**
-	 * checks if the given type would be valid for internal use in cachewolf
-	 * @param type type value to be checked
-	 * @return true if <code>type</code> matches on of the CacheWolf types, false otherwise
+	 * select image to be displayed for a given cache type
+	 * @param typeId internal cache type id
+	 * @return <code>Image</code> object to be displayed
 	 */
-	public static boolean isValidType(final byte type) {
-		switch (type) {
-		case CW_TYPE_TRADITIONAL: return true;
-		case CW_TYPE_MULTI: return true;
-		case CW_TYPE_VIRTUAL: return true;
-		case CW_TYPE_LETTERBOX: return true;
-		case CW_TYPE_EVENT: return true;
-		case CW_TYPE_UNKNOWN: return true;
-		case CW_TYPE_WEBCAM: return true;
-		case CW_TYPE_LOCATIONLESS: return true;
-		case CW_TYPE_CITO: return true;
-		case CW_TYPE_EARTH: return true;
-		case CW_TYPE_MEGA_EVENT: return true;
-		case CW_TYPE_WHEREIGO: return true;
-		case CW_TYPE_PARKING: return true;
-		case CW_TYPE_STAGE: return true;
-		case CW_TYPE_QUESTION: return true;
-		case CW_TYPE_FINAL: return true;
-		case CW_TYPE_TRAILHEAD: return true;
-		case CW_TYPE_REFERENCE: return true;
-		case CW_TYPE_MAZE: return true;
-		case CW_TYPE_APE: return true;
-		case CW_TYPE_CUSTOM: return true;
-		default: return false;
+	public static Image getTypeImage(final byte typeId) {
+		return CTypRef[Ref_Index(typeId)]._iconImage;
+	}
+	/**
+	 * select image to be displayed for a given cache type
+	 * @param typeId internal cache type id
+	 * @return <code>Image</code> object to be displayed
+	 */
+	public static Image getMapImage(final byte typeId) {
+		return CTypRef[Ref_Index(typeId)]._mapImage;
+	}
+	/**
+	 * select image to be displayed for a given cache type
+	 * @param typeId internal cache type id
+	 * @param Image object to be displayed
+	 */
+	public static void setTypeImage(final byte id, final Image iconImage) {
+		if (CTypRef[Ref_Index(id)]._iconImage != CTypRef[Ref_Index(id)]._mapImage) 
+			CTypRef[Ref_Index(id)]._iconImage.free();
+		CTypRef[Ref_Index(id)]._iconImage=iconImage;
+	}
+	/**
+	 * select image to be displayed for a given cache type
+	 * @param typeId internal cache type id
+	 * @param Image object to be displayed
+	 */
+	public static void setMapImage(final byte id, final Image mapImage) {
+		if (CTypRef[Ref_Index(id)]._iconImage != CTypRef[Ref_Index(id)]._mapImage) 
+			CTypRef[Ref_Index(id)]._mapImage.free();
+		CTypRef[Ref_Index(id)]._mapImage=mapImage;
+	}
+	
+	
+	// TODO do it better in Version 4
+	public static int getCacheTypePattern(final byte typeId) {
+		return CTypRef[Ref_Index(typeId)]._FilterPattern;
+	}
+	public static int Type_FilterString2Type_FilterPattern(final String Type_FilterString) {
+		int typeMatchPattern = 0;
+		for (int i = 0; i < CTypRef.length; i++) {
+			if (CTypRef[i]._FilterStringPos > -1) {
+				if (Type_FilterString.charAt(CTypRef[i]._FilterStringPos) == '1') {
+					typeMatchPattern|=CTypRef[i]._FilterPattern;
+				}
+			}
 		}
+		return typeMatchPattern;
 	}
+	public static boolean hasTypeMatchPattern(final int typeMatchPattern) {
+		return typeMatchPattern != 0;
+	}
+	public static boolean hasMainTypeMatchPattern(final int typeMatchPattern) {
+		int TYPE_MAIN = 0;
+		for (int i = 0; i < CTypRef.length; i++) {
+			if (CTypRef[i]._cwCGroup == 'C' || CTypRef[i]._cwCGroup == 'P' ) {
+				TYPE_MAIN|=CTypRef[i]._FilterPattern;
+			}
+		}
+		return (typeMatchPattern & TYPE_MAIN) != 0;
+	}
+	
+	// TODO it for OCXMLImporterScreen and FilterScreen ?
 }

Modified: trunk/src/CacheWolf/Filter.java
===================================================================
--- trunk/src/CacheWolf/Filter.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/Filter.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -28,29 +28,6 @@
 	private static final int EQUAL = 0;
 	private static final int GREATER = 1;
 
-	private static final int TRADITIONAL = 1;
-	private static final int MULTI = 2;
-	private static final int VIRTUAL = 4;
-	private static final int LETTER = 8;
-	private static final int EVENT = 16;
-	private static final int WEBCAM = 32;
-	private static final int MYSTERY = 64;
-	private static final int LOCLESS = 128;
-	private static final int CUSTOM = 256;
-	private static final int MEGA = 512;
-	private static final int EARTH = 1024;
-	private static final int PARKING = 2048;
-	private static final int STAGE = 4096;
-	private static final int QUESTION = 8192;
-	private static final int FINAL = 16384;
-	private static final int TRAILHEAD = 32768;
-	private static final int REFERENCE = 65536;
-	private static final int CITO = 131072;
-	private static final int WHERIGO = 262144;
-	private static final int TYPE_ALL=TRADITIONAL|MULTI|VIRTUAL|LETTER|EVENT|WEBCAM|MYSTERY|LOCLESS|CUSTOM
-	                                  |MEGA|EARTH|PARKING|STAGE|QUESTION|FINAL|TRAILHEAD|REFERENCE|CITO|WHERIGO;
-	private static final int TYPE_MAIN=TRADITIONAL|MULTI|VIRTUAL|LETTER|EVENT|WEBCAM|MYSTERY|LOCLESS|CUSTOM|MEGA|EARTH|CITO|WHERIGO;
-
 	private static final int N = 1;
 	private static final int NNE = 2;
 	private static final int NE = 4;
@@ -255,32 +232,12 @@
 		notAvailable = profile.getFilterVar().charAt(5) == '1';
 		notFoundByMe = profile.getFilterVar().charAt(6) == '1';
 		notOwnedByMe = profile.getFilterVar().charAt(7) == '1';
-		typeMatchPattern=0;
 		cacheStatus  = profile.getFilterStatus();
 		useRegexp    = profile.getFilterUseRegexp();
 		filterNoCoord = profile.getFilterNoCoord();
 		
-		String filterType=profile.getFilterType();
-		if (filterType.charAt(0) == '1') typeMatchPattern|=TRADITIONAL;
-		if (filterType.charAt(1) == '1') typeMatchPattern|=MULTI;
-		if (filterType.charAt(2) == '1') typeMatchPattern|=VIRTUAL;
-		if (filterType.charAt(3) == '1') typeMatchPattern|=LETTER;
-		if (filterType.charAt(4) == '1') typeMatchPattern|=EVENT;
-		if (filterType.charAt(5) == '1') typeMatchPattern|=WEBCAM;
-		if (filterType.charAt(6) == '1') typeMatchPattern|=MYSTERY;
-		if (filterType.charAt(7) == '1') typeMatchPattern|=EARTH;
-		if (filterType.charAt(8) == '1') typeMatchPattern|=LOCLESS;
-		if (filterType.charAt(9) == '1') typeMatchPattern|=MEGA;
-		if (filterType.charAt(10) == '1') typeMatchPattern|=CUSTOM;
-		if (filterType.charAt(11) == '1') typeMatchPattern|=PARKING;
-		if (filterType.charAt(12) == '1') typeMatchPattern|=STAGE;
-		if (filterType.charAt(13) == '1') typeMatchPattern|=QUESTION;
-		if (filterType.charAt(14) == '1') typeMatchPattern|=FINAL;
-		if (filterType.charAt(15) == '1') typeMatchPattern|=TRAILHEAD;
-		if (filterType.charAt(16) == '1') typeMatchPattern|=REFERENCE;
-		if (filterType.charAt(17) == '1') typeMatchPattern|=CITO;
-		if (filterType.charAt(18) == '1') typeMatchPattern|=WHERIGO;
-		hasTypeMatchPattern= typeMatchPattern!=TYPE_ALL;
+		typeMatchPattern=CacheType.Type_FilterString2Type_FilterPattern(profile.getFilterType());
+		hasTypeMatchPattern=CacheType.hasTypeMatchPattern(typeMatchPattern);
 		roseMatchPattern=0;
 		String filterRose=profile.getFilterRose();
 		if (filterRose.charAt(0) == '1') roseMatchPattern|=NW;
@@ -343,7 +300,7 @@
 			if (examinedCaches.containsKey(ch)) continue;
 			
 			boolean filterCache = excludedByFilter(ch);
-			if (!filterCache && ch.mainCache!=null && ((typeMatchPattern & TYPE_MAIN) != 0)) {
+			if (!filterCache && ch.mainCache!=null && CacheType.hasMainTypeMatchPattern(typeMatchPattern)) {
 				if (examinedCaches.containsKey(ch.mainCache)) {
 					filterCache = ch.mainCache.is_filtered();
 				} else {
@@ -377,46 +334,7 @@
 	        // Filter criterium 1: Cache type
 	        ///////////////////////////////
 	        if (hasTypeMatchPattern) { // Only do the checks if we have a filter
-		        cacheTypePattern = 0;
-		        // As each cache can only have one type, we can use else if and set the type
-		        if (ch.getType() == CacheType.CW_TYPE_CUSTOM)
-			        cacheTypePattern = CUSTOM;
-		        else if (ch.getType() == CacheType.CW_TYPE_TRADITIONAL)
-			        cacheTypePattern = TRADITIONAL;
-		        else if (ch.getType() == CacheType.CW_TYPE_MULTI)
-			        cacheTypePattern = MULTI;
-		        else if (ch.getType() == CacheType.CW_TYPE_VIRTUAL)
-			        cacheTypePattern = VIRTUAL;
-		        else if (ch.getType() == CacheType.CW_TYPE_LETTERBOX)
-			        cacheTypePattern = LETTER;
-		        else if (ch.getType() == CacheType.CW_TYPE_EVENT)
-			        cacheTypePattern = EVENT;
-		        else if (ch.getType() == CacheType.CW_TYPE_UNKNOWN)
-			        cacheTypePattern = MYSTERY;
-		        else if (ch.getType() == CacheType.CW_TYPE_WEBCAM)
-			        cacheTypePattern = WEBCAM;
-		        else if (ch.getType() == CacheType.CW_TYPE_LOCATIONLESS)
-			        cacheTypePattern = LOCLESS;
-		        else if (ch.getType() == CacheType.CW_TYPE_EARTH)
-			        cacheTypePattern = EARTH;
-		        else if (ch.getType() == CacheType.CW_TYPE_MEGA_EVENT)
-			        cacheTypePattern = MEGA;
-		        else if (ch.getType() == CacheType.CW_TYPE_PARKING)
-			        cacheTypePattern = PARKING;
-		        else if (ch.getType() == CacheType.CW_TYPE_STAGE)
-			        cacheTypePattern = STAGE;
-		        else if (ch.getType() == CacheType.CW_TYPE_QUESTION)
-			        cacheTypePattern = QUESTION;
-		        else if (ch.getType() == CacheType.CW_TYPE_FINAL)
-			        cacheTypePattern = FINAL;
-		        else if (ch.getType() == CacheType.CW_TYPE_TRAILHEAD)
-			        cacheTypePattern = TRAILHEAD;
-		        else if (ch.getType() == CacheType.CW_TYPE_REFERENCE)
-			        cacheTypePattern = REFERENCE;
-		        else if (ch.getType() == CacheType.CW_TYPE_CITO)
-			        cacheTypePattern = CITO;
-		        else if (ch.getType() == CacheType.CW_TYPE_WHEREIGO)
-			        cacheTypePattern = WHERIGO;
+	        	cacheTypePattern = CacheType.getCacheTypePattern(ch.getType());
 		        if ((cacheTypePattern & typeMatchPattern) == 0) {
 			        cacheFiltered = true; break;
 		        }

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/FilterScreen.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -178,48 +178,49 @@
 		//////////////////////////
 		
 		addTitle(pnlCacheTypes,MyLocale.getMsg(719,"Cache types"));
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_TRADITIONAL)));
+
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_TRADITIONAL)));
 		pnlCacheTypes.addNext(chkTrad = new mCheckBox("Traditonal"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_MULTI)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_MULTI)));
 		pnlCacheTypes.addLast(chkMulti = new mCheckBox("Multi"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_VIRTUAL)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_VIRTUAL)));
 		pnlCacheTypes.addNext(chkVirtual = new mCheckBox("Virtual"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_LETTERBOX)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_LETTERBOX)));
 		pnlCacheTypes.addLast(chkLetter = new mCheckBox("Letterbox"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_EVENT)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_EVENT)));
 		pnlCacheTypes.addNext(chkEvent = new mCheckBox("Event"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_WEBCAM)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_WEBCAM)));
 		pnlCacheTypes.addLast(chkWebcam = new mCheckBox("Webcam"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_UNKNOWN)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_UNKNOWN)));
 		pnlCacheTypes.addNext(chkMystery = new mCheckBox("Mystery"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_EARTH)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_EARTH)));
 		pnlCacheTypes.addLast(chkEarth = new mCheckBox("Earth"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_LOCATIONLESS)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_LOCATIONLESS)));
 		pnlCacheTypes.addNext(chkLocless = new mCheckBox("Locationless"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_MEGA_EVENT)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_MEGA_EVENT)));
 		pnlCacheTypes.addLast(chkMega = new mCheckBox("Mega-Ev."), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_CITO)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_CITO)));
 		pnlCacheTypes.addNext(chkCito = new mCheckBox("Cito-Ev."), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
 		//pnlCacheTypes.addLast(addiWptChk = new mCheckBox("Add. Wpt"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		//pnlCacheTypes.addLast(new mLabel(""));
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_CUSTOM)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_CUSTOM)));
 		pnlCacheTypes.addLast(chkCustom = new mCheckBox("Custom"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_WHEREIGO)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_WHEREIGO)));
 		pnlCacheTypes.addNext(chkWherigo = new myChkBox("WherIGo"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 
-		pnlCacheTypes.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_DRIVE_IN)));
+		pnlCacheTypes.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_DRIVE_IN)));
 		pnlCacheTypes.addNext(addiWptChk = new myChkBox("Add. Wpt"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 
 		//addiWptChk.modify(0,NotAnEditor);
@@ -227,17 +228,17 @@
 		// Panel 5 - Addi waypoints
 		//////////////////////////
 		addTitle(pnlAddi,MyLocale.getMsg(726,"Additional waypoints"));
-		pnlAddi.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_PARKING)));
+		pnlAddi.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_PARKING)));
 		pnlAddi.addNext(chkParking = new mCheckBox("Parking"), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAddi.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_STAGE)));
+		pnlAddi.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_STAGE)));
 		pnlAddi.addLast(chkStage = new mCheckBox("Stage"), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAddi.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_QUESTION)));
+		pnlAddi.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_QUESTION)));
 		pnlAddi.addNext(chkQuestion = new mCheckBox("Question"), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAddi.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_FINAL)));
+		pnlAddi.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_FINAL)));
 		pnlAddi.addLast(chkFinal = new mCheckBox("Final"), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAddi.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_TRAILHEAD)));
+		pnlAddi.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_TRAILHEAD)));
 		pnlAddi.addNext(chkTrailhead = new mCheckBox("Trailhead"), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAddi.addNext(addImg(GuiImageBroker.getTypeImage(CacheType.CW_TYPE_REFERENCE)));
+		pnlAddi.addNext(addImg(CacheType.getTypeImage(CacheType.CW_TYPE_REFERENCE)));
 		pnlAddi.addLast(chkReference = new mCheckBox("Reference"), CellConstants.DONTSTRETCH, CellConstants.FILL);
         pnlAddi.addLast(new mLabel(""),VSTRETCH,FILL);		
 

Modified: trunk/src/CacheWolf/GuiImageBroker.java
===================================================================
--- trunk/src/CacheWolf/GuiImageBroker.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/GuiImageBroker.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -22,123 +22,18 @@
 	 * @see getTypeImage
 	 * @see CacheTypes
 	 */
-	private static final Image[] TYPEIMAGES = {
-		new Image(CacheType.CT_FILENAME[0]),
-		new Image(CacheType.CT_FILENAME[1]),
-		new Image(CacheType.CT_FILENAME[2]),
-		new Image(CacheType.CT_FILENAME[3]),
-		new Image(CacheType.CT_FILENAME[4]),
-		new Image(CacheType.CT_FILENAME[5]),
-		new Image(CacheType.CT_FILENAME[6]),
-		new Image(CacheType.CT_FILENAME[7]),
-		new Image(CacheType.CT_FILENAME[8]),
-		new Image(CacheType.CT_FILENAME[9]),
-		new Image(CacheType.CT_FILENAME[10]),
-		new Image(CacheType.CT_FILENAME[11]),
-		new Image(CacheType.CT_FILENAME[12]),
-		new Image(CacheType.CT_FILENAME[13]),
-		new Image(CacheType.CT_FILENAME[14]),
-		new Image(CacheType.CT_FILENAME[15]),
-		new Image(CacheType.CT_FILENAME[16]),
-		new Image(CacheType.CT_FILENAME[17]),
-		new Image(CacheType.CT_FILENAME[18]),
-		new Image(CacheType.CT_FILENAME[19]),
-		new Image(CacheType.CT_FILENAME[20]),
-		new Image(CacheType.CT_FILENAME[21]),
-	};
 
-	private static final Image[] sizeImages = {
-		new Image(CacheType.CT_FILENAME[0]),
-		new Image(CacheType.CT_FILENAME[1]),
-		new Image(CacheType.CT_FILENAME[2]),
-		new Image(CacheType.CT_FILENAME[3]),
-		new Image(CacheType.CT_FILENAME[4]),
-		new Image(CacheType.CT_FILENAME[5]),
-		new Image(CacheType.CT_FILENAME[6]),
-		new Image(CacheType.CT_FILENAME[7]),
-		new Image(CacheType.CT_FILENAME[8]),
-		new Image(CacheType.CT_FILENAME[9]),
-		new Image(CacheType.CT_FILENAME[10]),
-		new Image(CacheType.CT_FILENAME[11]),
-		new Image(CacheType.CT_FILENAME[12]),
-		new Image(CacheType.CT_FILENAME[13]),
-		new Image(CacheType.CT_FILENAME[14]),
-		new Image(CacheType.CT_FILENAME[15]),
-		new Image(CacheType.CT_FILENAME[16]),
-		new Image(CacheType.CT_FILENAME[17]),
-		new Image(CacheType.CT_FILENAME[18]),
-		new Image(CacheType.CT_FILENAME[19]),
-		new Image(CacheType.CT_FILENAME[20]),
-		new Image(CacheType.CT_FILENAME[21]),
-	};
-
 	/** thou shallst not instantiate this object */
 	private GuiImageBroker() {
 		// Noting to do
 	}
 
-	/**
-	 * select image to be displayed for a given cache type
-	 * @param type internal cache type id
-	 * @return <code>Image</code> object to be displayed
-	 */
-	public static Image getTypeImage(final byte type) {
-		switch (type) {
-		case CacheType.CW_TYPE_CUSTOM: return TYPEIMAGES[0];
-		case CacheType.CW_TYPE_APE: return TYPEIMAGES[1];
-		case CacheType.CW_TYPE_CITO: return TYPEIMAGES[2];
-		case CacheType.CW_TYPE_DRIVE_IN: return TYPEIMAGES[3];
-		case CacheType.CW_TYPE_EARTH: return TYPEIMAGES[4];
-		case CacheType.CW_TYPE_EVENT: return TYPEIMAGES[5];
-		case CacheType.CW_TYPE_FINAL: return TYPEIMAGES[6];
-		case CacheType.CW_TYPE_LETTERBOX: return TYPEIMAGES[7];
-		case CacheType.CW_TYPE_LOCATIONLESS: return TYPEIMAGES[8];
-		case CacheType.CW_TYPE_MAZE: return TYPEIMAGES[9];
-		case CacheType.CW_TYPE_MEGA_EVENT: return TYPEIMAGES[10];
-		case CacheType.CW_TYPE_MULTI: return TYPEIMAGES[11];
-		case CacheType.CW_TYPE_PARKING: return TYPEIMAGES[12];
-		case CacheType.CW_TYPE_QUESTION: return TYPEIMAGES[13];
-		case CacheType.CW_TYPE_REFERENCE: return TYPEIMAGES[14];
-		case CacheType.CW_TYPE_STAGE: return TYPEIMAGES[15];
-		case CacheType.CW_TYPE_TRADITIONAL: return TYPEIMAGES[16];
-		case CacheType.CW_TYPE_TRAILHEAD: return TYPEIMAGES[17];
-		case CacheType.CW_TYPE_UNKNOWN: return TYPEIMAGES[18];
-		case CacheType.CW_TYPE_VIRTUAL: return TYPEIMAGES[19];
-		case CacheType.CW_TYPE_WEBCAM: return TYPEIMAGES[20];
-		case CacheType.CW_TYPE_WHEREIGO: return TYPEIMAGES[21];
-		default: return imageError;
-		}
-	}
-	public static Image getTypeImage(byte id,boolean map) {
+	public static Image getTypeImage(byte typeId,boolean map) {
 		if (!map) {
-			return getTypeImage(id);
+			return CacheType.getTypeImage(typeId);
 		}
 		else {
-			switch (id) {
-			case CacheType.CW_TYPE_CUSTOM: return sizeImages[0];
-			case CacheType.CW_TYPE_APE: return sizeImages[1];
-			case CacheType.CW_TYPE_CITO: return sizeImages[2];
-			case CacheType.CW_TYPE_DRIVE_IN: return sizeImages[3];
-			case CacheType.CW_TYPE_EARTH: return sizeImages[4];
-			case CacheType.CW_TYPE_EVENT: return sizeImages[5];
-			case CacheType.CW_TYPE_FINAL: return sizeImages[6];
-			case CacheType.CW_TYPE_LETTERBOX: return sizeImages[7];
-			case CacheType.CW_TYPE_LOCATIONLESS: return sizeImages[8];
-			case CacheType.CW_TYPE_MAZE: return sizeImages[9];
-			case CacheType.CW_TYPE_MEGA_EVENT: return sizeImages[10];
-			case CacheType.CW_TYPE_MULTI: return sizeImages[11];
-			case CacheType.CW_TYPE_PARKING: return sizeImages[12];
-			case CacheType.CW_TYPE_QUESTION: return sizeImages[13];
-			case CacheType.CW_TYPE_REFERENCE: return sizeImages[14];
-			case CacheType.CW_TYPE_STAGE: return sizeImages[15];
-			case CacheType.CW_TYPE_TRADITIONAL: return sizeImages[16];
-			case CacheType.CW_TYPE_TRAILHEAD: return sizeImages[17];
-			case CacheType.CW_TYPE_UNKNOWN: return sizeImages[18];
-			case CacheType.CW_TYPE_VIRTUAL: return sizeImages[19];
-			case CacheType.CW_TYPE_WEBCAM: return sizeImages[20];
-			case CacheType.CW_TYPE_WHEREIGO: return sizeImages[21];
-			default: return imageError;
-			}
+			return CacheType.getMapImage(typeId);
 		}
 	}
 
@@ -153,7 +48,8 @@
 	 * Images are NOT checked for size etc.
 	 */
 	public static void customizedSymbols() {
-		final FileBugfix dir=new FileBugfix(FileBase.getProgramDirectory()+"/symbols");
+		final String sdir="/symbols/";
+		final FileBugfix dir=new FileBugfix(FileBase.getProgramDirectory()+sdir);
 		if (dir.isDirectory()){
 			int id;
 			boolean size=false;
@@ -172,12 +68,13 @@
 				catch (Exception E){
 					id = -1; //filename invalid for symbols
 				}
-				if (0<=id && id<=TYPEIMAGES.length){
+				if (0<=id && id<=CacheType.maxCWCType){
 					if (!size){
-						TYPEIMAGES[id]= new Image(FileBase.getProgramDirectory()+"/symbols/"+pngFiles[i]);
+						String s=FileBase.getProgramDirectory()+sdir+pngFiles[i];
+						CacheType.setTypeImage((byte) id, new Image(s));
 					}
 					else{
-						sizeImages[id]= new Image(FileBase.getProgramDirectory()+"/symbols/"+pngFiles[i]);
+						CacheType.setMapImage((byte) id, new Image(FileBase.getProgramDirectory()+sdir+pngFiles[i]));
 						size=false;
 					}
 				}

Modified: trunk/src/CacheWolf/exp/ExploristExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/ExploristExporter.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/exp/ExploristExporter.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -240,12 +240,10 @@
 		sb.append(removeCommas(Common.rot13(det.Hints)));
 		sb.append(",");
 
-		if (!add.equals("")) { // Set Picture in Explorist to Virtual
+		if (!add.equals("")) { // Set Picture in Explorist to Virtual for Addis
 			sb.append("Virtual Cache");
-		} else if (ch.getType() != CacheType.CW_TYPE_UNKNOWN) { // Rewrite Unknown Caches
-			sb.append(CacheType.type2GSTypeTag(ch.getType()));
 		} else {
-			sb.append("Mystery Cache");
+			sb.append(CacheType.type2GSTypeTag(ch.getType()));
 		}
 		sb.append(",");
 		sb.append(toGsDateFormat(ch.getDateHidden()));  // created - DDMMYYY, YYY = year - 1900

Modified: trunk/src/CacheWolf/imp/LOCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/LOCXMLImporter.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/imp/LOCXMLImporter.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -133,19 +133,15 @@
 			Vm.debug(strData);
 	}
 
-	private CacheHolder getHolder(String wpt) {// See also OCXMLImporter
+	private CacheHolder getHolder(String wpt) {
 		CacheHolder ch;
 
 		ch = cacheDB.get(wpt);
 		if (ch == null) {
-			ch = new CacheHolder();
-			// TODO: once the cleanup is done, this should be move to
-			// CacheHolder constructor
-			ch.setType(CacheType.CW_TYPE_CUSTOM);
+			ch = new CacheHolder(wpt);
 			ch.setTerrain(CacheTerrDiff.CW_DT_UNSET);
 			ch.setHard(CacheTerrDiff.CW_DT_UNSET);
 			ch.setCacheSize(CacheSize.CW_SIZE_NOTCHOSEN);
-			ch.setWayPoint(wpt);
 		}
 		return ch;
 	}

Modified: trunk/src/CacheWolf/imp/OCXMLImporterScreen.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporterScreen.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/imp/OCXMLImporterScreen.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -68,17 +68,18 @@
 		if ((options & TYPE) > 0) {
 			this.addLast( chcType = new mChoice(new String[] {
 					MyLocale.getMsg(1627,"All caches"),
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_TRADITIONAL)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_MULTI)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_VIRTUAL)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_LETTERBOX)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_EVENT)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_MEGA_EVENT)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_WEBCAM)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_UNKNOWN)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_CITO)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_EARTH)],
-					CacheType.CT_GUI[CacheType.CT_Index(CacheType.CW_TYPE_WHEREIGO)],
+					MyLocale.getMsg(2,"Tradi"),
+					MyLocale.getMsg(3,"Multi"),
+					MyLocale.getMsg(4,"Virtual"),
+					MyLocale.getMsg(5,"Letterbox"),
+					MyLocale.getMsg(6,"Event"),
+					MyLocale.getMsg(14,"Mega Event"),
+					MyLocale.getMsg(11,"Webcam"),
+					MyLocale.getMsg(8,"Mysterie"),
+					MyLocale.getMsg(13,"CITO"),
+					MyLocale.getMsg(18,"Earth"),
+					MyLocale.getMsg(15,"WhereIGo"),
+					MyLocale.getMsg(11,"Webcam"),
 				},0), CellConstants.STRETCH, (CellConstants.FILL|CellConstants.WEST));
 		}
 

Modified: trunk/src/CacheWolf/myInteractivePanel.java
===================================================================
--- trunk/src/CacheWolf/myInteractivePanel.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/myInteractivePanel.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -110,7 +110,7 @@
 		CacheHolder ch=Global.getProfile().cacheDB.get(wayPoint);
 		if (ch != null) {
 			 IconAndText icnDrag=new IconAndText();
-			 icnDrag.addColumn(GuiImageBroker.getTypeImage(ch.getType()));
+			 icnDrag.addColumn(CacheType.getTypeImage(ch.getType()));
 			 icnDrag.addColumn(ch.getWayPoint());
 			 dc.dragData=dc.startImageDrag(icnDrag,new Point(8,8),this);
 			 //if (dc instanceof ImageDragContext) Vm.debug(">>>>Is Image drag");

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/myTableControl.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -388,7 +388,7 @@
 			 wayPoint=ch.getWayPoint();
 			 //Vm.debug("Waypoint : "+ch.wayPoint);
 			 imgDrag=new IconAndText();
-			 imgDrag.addColumn(GuiImageBroker.getTypeImage(ch.getType()));
+			 imgDrag.addColumn(CacheType.getTypeImage(ch.getType()));
 			 imgDrag.addColumn(ch.getWayPoint());
 			 dc.dragData=dc.startImageDrag(imgDrag,new Point(8,8),this);
 		 } else super.startDragging(dc);

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2010-06-08 07:43:21 UTC (rev 2592)
+++ trunk/src/CacheWolf/myTableModel.java	2010-06-08 19:12:17 UTC (rev 2593)
@@ -331,17 +331,15 @@
 						else
 							return checkboxUnticked;
 					case 1: // Type
-						return GuiImageBroker.getTypeImage(ch.getType());
+						return CacheType.getTypeImage(ch.getType());
 					case 2: // Difficulty;
-						// FIXME Needs optimizing when code is stable
-						if (ch.isAddiWpt() || ch.getType()==CacheType.CW_TYPE_CUSTOM) {
+						if (!ch.isCacheWpt()) {
 							return "";
 						} else {
 							return CacheTerrDiff.longDT(ch.getHard());
 						}
 					case 3: // Terrain
-						// FIXME Needs optimizing when code is stable
-						if (ch.isAddiWpt() || ch.getType()==CacheType.CW_TYPE_CUSTOM) {
+						if (!ch.isCacheWpt()) {
 							return "";
 						} else {
 							return CacheTerrDiff.longDT(ch.getTerrain());
@@ -387,7 +385,7 @@
 							return sizePics[CacheSize.guiSizeImageId(ch.getCacheSize())];
 						}
 					case 13: // OC number of recommendations
-						if (ch.isAddiWpt() || CacheType.CW_TYPE_CUSTOM == ch.getType()) return null;
+						if (!ch.isCacheWpt()) return null;
 						return Convert.formatInt(ch.getNumRecommended());
 					case 14: // OC rating
 						if (ch.isOC())



From araber95 at mail.berlios.de  Wed Jun  9 10:19:45 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 9 Jun 2010 10:19:45 +0200
Subject: [Cachewolf-svn] r2594 - trunk/src/CacheWolf
Message-ID: <201006090819.o598JjVf007192@sheep.berlios.de>

Author: araber95
Date: 2010-06-09 10:19:43 +0200 (Wed, 09 Jun 2010)
New Revision: 2594

Modified:
   trunk/src/CacheWolf/CacheType.java
Log:
handling restriction "too many parameters for ..." in ewe virtual machine (now init with String array)

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2010-06-08 19:12:17 UTC (rev 2593)
+++ trunk/src/CacheWolf/CacheType.java	2010-06-09 08:19:43 UTC (rev 2594)
@@ -24,8 +24,7 @@
 	public Image _mapImage;
 	public CTyp(byte cwMappedCType, byte cwCType, char cwCGroup, String cwCTypeV1, String gcCTypeSpider, 
 			String ocCTypeXmlImport, byte cwCTypeV2, char gpxShortCType, String imageName, 
-			String gpxWptTypeTag, String gpxWptSymTag, String gpxWptGCextensionTypTag, 
-			String gpxAlternativeWptTypTags, int msgNrCTypeName, int GUIOrder, int FilterStringPos, int FilterPattern) {
+			String[] gpx, int msgNrCTypeName, int gUIOrder, int filterStringPos, int filterPattern) {
 		
 		_cwMappedCType = cwMappedCType;
 		_cwCType = cwCType;
@@ -36,14 +35,14 @@
 		_cwCTypeV2 = cwCTypeV2;
 		_gpxShortCType = gpxShortCType;
 		_imageName = imageName;
-		_gpxWptTypeTag = gpxWptTypeTag;
-		_gpxWptSymTag = gpxWptSymTag;
-		_gpxWptGCextensionTypTag = gpxWptGCextensionTypTag;
-		_gpxAlternativeWptTypTags = gpxAlternativeWptTypTags;
+		_gpxWptTypeTag = gpx[0];
+		_gpxWptSymTag = gpx[1];
+		_gpxWptGCextensionTypTag = gpx[2];
+		_gpxAlternativeWptTypTags = gpx[3];
 		_msgNrCTypeName = msgNrCTypeName;
-		_GUIOrder = GUIOrder;
-		_FilterStringPos = FilterStringPos;
-		_FilterPattern = FilterPattern;
+		_GUIOrder = gUIOrder;
+		_FilterStringPos = filterStringPos;
+		_FilterPattern = filterPattern;
 		if (!_imageName.equals("")) {
 			_iconImage=new Image(_imageName);
 			_mapImage=_iconImage;
@@ -108,54 +107,54 @@
 	public static final byte CW_TYPE_REFERENCE = 55;
 	/** unrecognized cache type or missing information */
 	public static final byte CW_TYPE_ERROR = -1;
-
-	private static final CTyp[] CTypRef = {
+	String[] ggpx={"Geocache|Custom","Custom","Custom",""};
+	private static final CTyp[] cTypRef = {
 		// custom waypoints
-		new CTyp((byte) 0,(byte) 0,'P',"0","","",(byte) -128,'C',"typeCustom.png","Geocache|Custom","Custom","Custom","",1,0,10,0x000100),
+		new CTyp((byte) 0,(byte) 0,'P',"0","","",(byte) -128,'C',"typeCustom.png",new String[] {"Geocache|Custom","Custom","Custom",""},1,0,10,0x000100),
 		// Cache waypoints
-		new CTyp((byte) 2,(byte) 2,'C',"2","2","2",(byte) -126,'T',"typeTradi.png","Geocache|Traditional Cache","Geocache","Traditional Cache","Traditional|Classic",2,1,0,0x000001),
-		new CTyp((byte) 3,(byte) 3,'C',"3","3","3",(byte) -125,'M',"typeMulti.png","Geocache|Multi-cache","Geocache","Multi-cache","Multi|Offset",3,2,1,0x000002),
-		new CTyp((byte) 4,(byte) 4,'C',"4","4","4",(byte) -124,'V',"typeVirtual.png","Geocache|Virtual Cache","Geocache","Virtual Cache","Virtual",4,3,2,0x000004),
-		new CTyp((byte) 5,(byte) 5,'C',"5","5","",(byte) -123,'L',"typeLetterbox.png","Geocache|Letterbox Hybrid","Geocache","Letterbox Hybrid","Letterbox",5,4,3,0x000008),
-		new CTyp((byte) 6,(byte) 6,'C',"6","6","6",(byte) -122,'X',"typeEvent.png","Geocache|Event Cache","Geocache","Event Cache","Event",6,5,4,0x000010),
-		new CTyp((byte) 100,(byte) 100,'C',"453","453","",(byte) 101,'X',"typeMegaevent.png","Geocache|Mega-Event Cache","Geocache","Mega-Event Cache","Mega",14,6,9,0x000200),
-		new CTyp((byte) 11,(byte) 11,'C',"11","11","5",(byte) -117,'W',"typeWebcam.png","Geocache|Webcam Cache","Geocache","Webcam Cache","Webcam",11,7,5,0x000020),
-		new CTyp((byte) 8,(byte) 8,'C',"8","8","",(byte) -120,'U',"typeUnknown.png","Geocache|Unknown Cache","Geocache","Unknown Cache","Mystery",8,8,6,0x000040),
-		new CTyp((byte) 12,(byte) 12,'C',"12","12","",(byte) -116,'O',"typeLocless.png","Geocache|Locationless new CTyp(Reverse) Cache","Geocache","Locationless new CTyp(Reverse) Cache","Locationless",12,9,8,0x000080),
-		new CTyp((byte) 13,(byte) 13,'C',"13","13","",(byte) -115,'X',"typeCito.png","Geocache|Cache In Trash Out Event","Geocache","Cache In Trash Out Event","CITO",13,10,17,0x020000),
-		new CTyp((byte) 104,(byte) 104,'C',"137","137","",(byte) 9,'E',"typeEarth.png","Geocache|Earthcache","Geocache","Earthcache","Earth",18,11,7,0x000400),
-		new CTyp((byte) 101,(byte) 101,'C',"1858","1858","",(byte) 100,'G',"typeWhereigo.png","Geocache|Wherigo Cache","Geocache","Wherigo Cache","Wherigo",15,12,18,0x040000),
+		new CTyp((byte) 2,(byte) 2,'C',"2","2","2",(byte) -126,'T',"typeTradi.png",new String[] {"Geocache|Traditional Cache","Geocache","Traditional Cache","Traditional|Classic"},2,1,0,0x000001),
+		new CTyp((byte) 3,(byte) 3,'C',"3","3","3",(byte) -125,'M',"typeMulti.png",new String[] {"Geocache|Multi-cache","Geocache","Multi-cache","Multi|Offset"},3,2,1,0x000002),
+		new CTyp((byte) 4,(byte) 4,'C',"4","4","4",(byte) -124,'V',"typeVirtual.png",new String[] {"Geocache|Virtual Cache","Geocache","Virtual Cache","Virtual"},4,3,2,0x000004),
+		new CTyp((byte) 5,(byte) 5,'C',"5","5","",(byte) -123,'L',"typeLetterbox.png",new String[] {"Geocache|Letterbox Hybrid","Geocache","Letterbox Hybrid","Letterbox"},5,4,3,0x000008),
+		new CTyp((byte) 6,(byte) 6,'C',"6","6","6",(byte) -122,'X',"typeEvent.png",new String[] {"Geocache|Event Cache","Geocache","Event Cache","Event"},6,5,4,0x000010),
+		new CTyp((byte) 100,(byte) 100,'C',"453","453","",(byte) 101,'X',"typeMegaevent.png",new String[] {"Geocache|Mega-Event Cache","Geocache","Mega-Event Cache","Mega"},14,6,9,0x000200),
+		new CTyp((byte) 11,(byte) 11,'C',"11","11","5",(byte) -117,'W',"typeWebcam.png",new String[] {"Geocache|Webcam Cache","Geocache","Webcam Cache","Webcam"},11,7,5,0x000020),
+		new CTyp((byte) 8,(byte) 8,'C',"8","8","",(byte) -120,'U',"typeUnknown.png",new String[] {"Geocache|Unknown Cache","Geocache","Unknown Cache","Mystery"},8,8,6,0x000040),
+		new CTyp((byte) 12,(byte) 12,'C',"12","12","",(byte) -116,'O',"typeLocless.png",new String[] {"Geocache|Locationless new CTyp(Reverse) Cache","Geocache","Locationless new CTyp(Reverse) Cache","Locationless"},12,9,8,0x000080),
+		new CTyp((byte) 13,(byte) 13,'C',"13","13","",(byte) -115,'X',"typeCito.png",new String[] {"Geocache|Cache In Trash Out Event","Geocache","Cache In Trash Out Event","CITO"},13,10,17,0x020000),
+		new CTyp((byte) 104,(byte) 104,'C',"137","137","",(byte) 9,'E',"typeEarth.png",new String[] {"Geocache|Earthcache","Geocache","Earthcache","Earth"},18,11,7,0x000400),
+		new CTyp((byte) 101,(byte) 101,'C',"1858","1858","",(byte) 100,'G',"typeWhereigo.png",new String[] {"Geocache|Wherigo Cache","Geocache","Wherigo Cache","Wherigo"},15,12,18,0x040000),
 		// additional waypoints
-		new CTyp((byte) 50,(byte) 50,'A',"50","","",(byte) -78,'P',"typeParking.png","Waypoint|Parking Area","Parking Area","Parking Area","",50,13,11,0x000800),
-		new CTyp((byte) 51,(byte) 51,'A',"51","","",(byte) -77,'S',"typeStage.png","Waypoint|Stages of a Multicache","Stages of a Multicache","Stages of a Multicache","",51,14,12,0x001000),
-		new CTyp((byte) 52,(byte) 52,'A',"52","","",(byte) -76,'Q',"typeQuestion.png","Waypoint|Question to Answer","Question to Answer","Question to Answer","",52,15,13,0x002000),
-		new CTyp((byte) 53,(byte) 53,'A',"53","","",(byte) -75,'F',"typeFinal.png","Waypoint|Final Location","Final Location","Final Location","",53,16,14,0x004000),
-		new CTyp((byte) 54,(byte) 54,'A',"54","","",(byte) -74,'H',"typeTrailhead.png","Waypoint|Trailhead","Trailhead","Trailhead","",54,17,15,0x008000),
-		new CTyp((byte) 55,(byte) 55,'A',"55","","",(byte) -73,'R',"typeReference.png","Waypoint|Reference Point","Reference Point","Reference Point","",55,18,16,0x010000),
+		new CTyp((byte) 50,(byte) 50,'A',"50","","",(byte) -78,'P',"typeParking.png",new String[] {"Waypoint|Parking Area","Parking Area","Parking Area",""},50,13,11,0x000800),
+		new CTyp((byte) 51,(byte) 51,'A',"51","","",(byte) -77,'S',"typeStage.png",new String[] {"Waypoint|Stages of a Multicache","Stages of a Multicache","Stages of a Multicache",""},51,14,12,0x001000),
+		new CTyp((byte) 52,(byte) 52,'A',"52","","",(byte) -76,'Q',"typeQuestion.png",new String[] {"Waypoint|Question to Answer","Question to Answer","Question to Answer",""},52,15,13,0x002000),
+		new CTyp((byte) 53,(byte) 53,'A',"53","","",(byte) -75,'F',"typeFinal.png",new String[] {"Waypoint|Final Location","Final Location","Final Location",""},53,16,14,0x004000),
+		new CTyp((byte) 54,(byte) 54,'A',"54","","",(byte) -74,'H',"typeTrailhead.png",new String[] {"Waypoint|Trailhead","Trailhead","Trailhead",""},54,17,15,0x008000),
+		new CTyp((byte) 55,(byte) 55,'A',"55","","",(byte) -73,'R',"typeReference.png",new String[] {"Waypoint|Reference Point","Reference Point","Reference Point",""},55,18,16,0x010000),
 		// error on waypoint
-		new CTyp((byte) -1,(byte) -1,'E',"","","",(byte) -1,'-',"guiError.png","","","","",49,-1,-1,0),
+		new CTyp((byte) -1,(byte) -1,'E',"","","",(byte) -1,'-',"guiError.png",new String[] {"","","",""},49,-1,-1,0),
         // mapped types (recognized on input from gpx or download-spider / or cw - version)                 
-		new CTyp((byte) 8,(byte) 1,'C',"","","1",(byte) -1,'U',"","Geocache|Other","Geocache","Other","Other",21,-1,-1,0),
-		new CTyp((byte) 8,(byte) 7,'C',"7","","7",(byte) -121,'U',"","Geocache|Quiz","Geocache","Quiz","Quiz",7,-1,-1,0),
-		new CTyp((byte) 8,(byte) 9,'C',"9","","9",(byte) -119,'U',"","Geocache|Moving","Geocache","Moving","Moving",9,-1,-1,0),
-		new CTyp((byte) 2,(byte) 10,'C',"10","","10",(byte) -118,'U',"","Geocache|DriveIn","Geocache","DriveIn","DriveIn",10,-1,-1,0),
-		new CTyp((byte) 6,(byte) 14,'C',"","3653","",(byte) -1,'X',"","Geocache|Lost and Found Event Cache","Geocache","Lost and Found Event Cache","",6,-1,-1,0),		         
-		new CTyp((byte) 2,(byte) 102,'C',"","9","",(byte) -1,'T',"","Geocache|Project APE Cache","Geocache","Project APE Cache","APE",16,-1,-1,0),
-		new CTyp((byte) 6,(byte) 103,'C',"","1304","",(byte) -1,'X',"","Geocache|GPS Adventures Exhibit","Geocache","GPS Adventures Exhibit","MAZE",17,-1,-1,0),
-		new CTyp((byte) 8,(byte) 108,'C',"","","8",(byte) -1,'U',"","only on OC download","","","",19,-1,-1,0),
-		new CTyp((byte) 101,(byte) 15,'C',"","","",(byte) -62,'G',"","Hack for V2 Typ","","","",-1,-1,-1,0),
+		new CTyp((byte) 8,(byte) 1,'C',"","","1",(byte) -1,'U',"",new String[] {"Geocache|Other","Geocache","Other","Other"},21,-1,-1,0),
+		new CTyp((byte) 8,(byte) 7,'C',"7","","7",(byte) -121,'U',"",new String[] {"Geocache|Quiz","Geocache","Quiz","Quiz"},7,-1,-1,0),
+		new CTyp((byte) 8,(byte) 9,'C',"9","","9",(byte) -119,'U',"",new String[] {"Geocache|Moving","Geocache","Moving","Moving"},9,-1,-1,0),
+		new CTyp((byte) 2,(byte) 10,'C',"10","","10",(byte) -118,'U',"",new String[] {"Geocache|DriveIn","Geocache","DriveIn","DriveIn"},10,-1,-1,0),
+		new CTyp((byte) 6,(byte) 14,'C',"","3653","",(byte) -1,'X',"",new String[] {"Geocache|Lost and Found Event Cache","Geocache","Lost and Found Event Cache",""},6,-1,-1,0),		         
+		new CTyp((byte) 2,(byte) 102,'C',"","9","",(byte) -1,'T',"",new String[] {"Geocache|Project APE Cache","Geocache","Project APE Cache","APE"},16,-1,-1,0),
+		new CTyp((byte) 6,(byte) 103,'C',"","1304","",(byte) -1,'X',"",new String[] {"Geocache|GPS Adventures Exhibit","Geocache","GPS Adventures Exhibit","MAZE"},17,-1,-1,0),
+		new CTyp((byte) 8,(byte) 108,'C',"","","8",(byte) -1,'U',"",new String[] {"only on OC download","","",""},19,-1,-1,0),
+		new CTyp((byte) 101,(byte) 15,'C',"","","",(byte) -62,'G',"",new String[] {"Hack for V2 Typ","","",""},-1,-1,-1,0),
 	};
-	// public static final int anzCacheTyps=CTypRef.length;
+	// public static final int anzCacheTyps=cTypRef.length;
 	public static final byte maxCWCType=110;
     static final byte[] Ref_Index = new byte[maxCWCType];
 	static {
 		// +1 cause error is -1 and array starts at 0
-	  for (byte i = (byte) (CTypRef.length - 1); i>=0; i--) {
-		  Ref_Index[1 + CTypRef[i]._cwCType]= i;
+	  for (byte i = (byte) (cTypRef.length - 1); i>=0; i--) {
+		  Ref_Index[1 + cTypRef[i]._cwCType]= i;
 	   }
 	}
 	public static byte Ref_Index(final byte type) {
-		byte ret=Ref_Index[CTypRef[Ref_Index[type+1]]._cwMappedCType + 1];
+		byte ret=Ref_Index[cTypRef[Ref_Index[type+1]]._cwMappedCType + 1];
 		return ret;
 	}
 	
@@ -167,7 +166,7 @@
 	 * @return true if it is an additional waypoint, false otherwise
 	 */
 	public static boolean isAddiWpt(final byte type) {
-		return CTypRef[Ref_Index(type)]._cwCGroup == 'A';
+		return cTypRef[Ref_Index(type)]._cwCGroup == 'A';
 	}
 	/**
 	 * check if a given waypoint type is an cache waypoint
@@ -175,7 +174,7 @@
 	 * @return true if it is an Cache waypoint, false otherwise
 	 */
 	public static boolean isCacheWpt(final byte type) {
-		return CTypRef[Ref_Index(type)]._cwCGroup == 'C';
+		return cTypRef[Ref_Index(type)]._cwCGroup == 'C';
 	}
 	/**
 	 * check if a given waypoint type is an Custom waypoint
@@ -183,7 +182,7 @@
 	 * @return true if it is an Custom waypint, false otherwise
 	 */
 	public static boolean isCustomWpt(final byte type) {
-		return CTypRef[Ref_Index(type)]._cwCGroup == 'P';
+		return cTypRef[Ref_Index(type)]._cwCGroup == 'P';
 	}
 	
 	
@@ -196,15 +195,15 @@
 	 */
 	public static String[] guiTypeStrings() {
 		int j = 0;
-		for (int i = 0; i < CTypRef.length; i++) {
-			if (CTypRef[i]._GUIOrder > j) {
-				j=CTypRef[i]._GUIOrder;
+		for (int i = 0; i < cTypRef.length; i++) {
+			if (cTypRef[i]._GUIOrder > j) {
+				j=cTypRef[i]._GUIOrder;
 			}
 		}
 		String[] ret = new String[j+1];
-		for (int i = 0; i < CTypRef.length; i++) {
-			if (CTypRef[i]._GUIOrder > -1) {
-				ret[CTypRef[i]._GUIOrder]=MyLocale.getMsg(CTypRef[i]._msgNrCTypeName,"");
+		for (int i = 0; i < cTypRef.length; i++) {
+			if (cTypRef[i]._GUIOrder > -1) {
+				ret[cTypRef[i]._GUIOrder]=MyLocale.getMsg(cTypRef[i]._msgNrCTypeName,"");
 			}
 		}
 		return ret;
@@ -218,8 +217,8 @@
 	 * @see cw2GuiSelect
 	 */
 	public static byte guiSelect2Cw(final int selection) {
-		for (byte i=0; i<CTypRef.length; i++) {
-			if (CTypRef[i]._GUIOrder == selection) {return CTypRef[i]._cwCType;};
+		for (byte i=0; i<cTypRef.length; i++) {
+			if (cTypRef[i]._GUIOrder == selection) {return cTypRef[i]._cwCType;};
 		}
 		return -1;
 	}
@@ -232,7 +231,7 @@
 	 * @see guiSelect2Cw
 	 */
 	public static int cw2GuiSelect(final byte typeId) {
-		return CTypRef[Ref_Index(typeId)]._GUIOrder;
+		return cTypRef[Ref_Index(typeId)]._GUIOrder;
 	}
 
 	
@@ -243,15 +242,15 @@
 	 * @return internal cache type
 	 */
 	public static byte gpxType2CwType(final String gpxType) throws IllegalArgumentException {
-		for (byte i=0; i<CTypRef.length; i++) {
-			if (CTypRef[i]._gpxWptTypeTag.equals(gpxType)) {return CTypRef[i]._cwMappedCType;};
+		for (byte i=0; i<cTypRef.length; i++) {
+			if (cTypRef[i]._gpxWptTypeTag.equals(gpxType)) {return cTypRef[i]._cwMappedCType;};
 		}
-		for (byte i=0; i<CTypRef.length; i++) {
-			if (CTypRef[i]._gpxWptGCextensionTypTag.equals(gpxType)) {return CTypRef[i]._cwMappedCType;};
+		for (byte i=0; i<cTypRef.length; i++) {
+			if (cTypRef[i]._gpxWptGCextensionTypTag.equals(gpxType)) {return cTypRef[i]._cwMappedCType;};
 		}
-		for (byte i=0; i<CTypRef.length; i++) {
-			if (CTypRef[i]._gpxAlternativeWptTypTags.indexOf(gpxType) != -1) {
-				return CTypRef[i]._cwMappedCType;
+		for (byte i=0; i<cTypRef.length; i++) {
+			if (cTypRef[i]._gpxAlternativeWptTypTags.indexOf(gpxType) != -1) {
+				return cTypRef[i]._cwMappedCType;
 			};
 		}
 		// TODO extend definition of _gpxAlternativeWptTypTags for all cases of Mystery
@@ -266,9 +265,9 @@
 	 * @throws IllegalArgumentException if <code>ocType</code> can not be matched
 	 */
 	public static byte ocType2CwType(final String ocType) {
-		for (int i = 0; i < CTypRef.length; i++) {
-			if (CTypRef[i]._ocCTypeXmlImport.equals(ocType)) {
-				return CTypRef[i]._cwMappedCType;
+		for (int i = 0; i < cTypRef.length; i++) {
+			if (cTypRef[i]._ocCTypeXmlImport.equals(ocType)) {
+				return cTypRef[i]._cwMappedCType;
 			}
 		}
 		return -1;
@@ -280,9 +279,9 @@
 	 * @throws IllegalArgumentException if <code>gcType</code> can not be matched
 	 */
 	public static byte gcSpider2CwType(final String gcType) {
-		for (int i = 0; i < CTypRef.length; i++) {
-			if (CTypRef[i]._gcCTypeSpider.equals(gcType)) {
-				return CTypRef[i]._cwMappedCType;
+		for (int i = 0; i < cTypRef.length; i++) {
+			if (cTypRef[i]._gcCTypeSpider.equals(gcType)) {
+				return cTypRef[i]._cwMappedCType;
 			}
 		}
 		return -1;
@@ -294,9 +293,9 @@
 	 * @deprecated remove once v1 file version compatibility is abandoned
 	 */
 	public static byte v1Converter(final String type) {
-		for (int i = 0; i < CTypRef.length; i++) {
-			if (CTypRef[i]._cwCTypeV1.equals(type)) {
-				return CTypRef[i]._cwMappedCType;
+		for (int i = 0; i < cTypRef.length; i++) {
+			if (cTypRef[i]._cwCTypeV1.equals(type)) {
+				return cTypRef[i]._cwMappedCType;
 			}
 		}
 		return -1;
@@ -308,9 +307,9 @@
 	 * @deprecated remove once v2 file version compatibility is abandoned
 	 */
 	public static byte v2Converter(final byte type) {
-		for (int i = 0; i < CTypRef.length; i++) {
-			if (CTypRef[i]._cwCTypeV2 == type) {
-				return CTypRef[i]._cwMappedCType;
+		for (int i = 0; i < cTypRef.length; i++) {
+			if (cTypRef[i]._cwCTypeV2 == type) {
+				return cTypRef[i]._cwMappedCType;
 			}
 		}
 		return -1;
@@ -324,7 +323,7 @@
 	 * @return abbreviation of cache type
 	 */
 	public static String getExportShortId(final byte typeId) {
-		return ""+CTypRef[Ref_Index(typeId)]._gpxShortCType;
+		return ""+cTypRef[Ref_Index(typeId)]._gpxShortCType;
 	}
 	/**
 	 * map cache types to images
@@ -332,7 +331,7 @@
 	 * @return non qualified name of image
 	 */
 	public static String typeImageForId(final byte typeId) {
-		return CTypRef[Ref_Index(typeId)]._imageName;
+		return cTypRef[Ref_Index(typeId)]._imageName;
 	}
 	/**
 	 * generate type description matching those of GC for GPX export
@@ -340,7 +339,7 @@
 	 * @return type information in GC.com <type> GPX format
 	 */
 	public static String type2TypeTag(final byte typeId) {
-		return CTypRef[Ref_Index(typeId)]._gpxWptTypeTag;
+		return cTypRef[Ref_Index(typeId)]._gpxWptTypeTag;
 	}
 	/**
 	 * generate type description matching those of GC for GPX export
@@ -348,7 +347,7 @@
 	 * @return symb information in GC.com <sym> GPX format
 	 */
 	public static String type2SymTag(final byte typeId) {
-		return CTypRef[Ref_Index(typeId)]._gpxWptSymTag;
+		return cTypRef[Ref_Index(typeId)]._gpxWptSymTag;
 	}
 	/**
 	 * generate type description matching those of GC for GPX export
@@ -356,7 +355,7 @@
 	 * @return type information in GC.com <groundspeak:type> GPX format
 	 */
 	public static String type2GSTypeTag(final byte typeId) {
-		return CTypRef[Ref_Index(typeId)]._gpxWptGCextensionTypTag;
+		return cTypRef[Ref_Index(typeId)]._gpxWptGCextensionTypTag;
 	}
 	/**
 	 * generate type description matching those of GC for GPX export
@@ -364,7 +363,7 @@
 	 * @return Gui - string for type
 	 */
 	public static String type2Gui(final byte typeId) {
-		return MyLocale.getMsg(CTypRef[Ref_Index(typeId)]._msgNrCTypeName,"");
+		return MyLocale.getMsg(cTypRef[Ref_Index(typeId)]._msgNrCTypeName,"");
 	}
 	/**
 	 * select image to be displayed for a given cache type
@@ -372,7 +371,7 @@
 	 * @return <code>Image</code> object to be displayed
 	 */
 	public static Image getTypeImage(final byte typeId) {
-		return CTypRef[Ref_Index(typeId)]._iconImage;
+		return cTypRef[Ref_Index(typeId)]._iconImage;
 	}
 	/**
 	 * select image to be displayed for a given cache type
@@ -380,7 +379,7 @@
 	 * @return <code>Image</code> object to be displayed
 	 */
 	public static Image getMapImage(final byte typeId) {
-		return CTypRef[Ref_Index(typeId)]._mapImage;
+		return cTypRef[Ref_Index(typeId)]._mapImage;
 	}
 	/**
 	 * select image to be displayed for a given cache type
@@ -388,9 +387,9 @@
 	 * @param Image object to be displayed
 	 */
 	public static void setTypeImage(final byte id, final Image iconImage) {
-		if (CTypRef[Ref_Index(id)]._iconImage != CTypRef[Ref_Index(id)]._mapImage) 
-			CTypRef[Ref_Index(id)]._iconImage.free();
-		CTypRef[Ref_Index(id)]._iconImage=iconImage;
+		if (cTypRef[Ref_Index(id)]._iconImage != cTypRef[Ref_Index(id)]._mapImage) 
+			cTypRef[Ref_Index(id)]._iconImage.free();
+		cTypRef[Ref_Index(id)]._iconImage=iconImage;
 	}
 	/**
 	 * select image to be displayed for a given cache type
@@ -398,22 +397,22 @@
 	 * @param Image object to be displayed
 	 */
 	public static void setMapImage(final byte id, final Image mapImage) {
-		if (CTypRef[Ref_Index(id)]._iconImage != CTypRef[Ref_Index(id)]._mapImage) 
-			CTypRef[Ref_Index(id)]._mapImage.free();
-		CTypRef[Ref_Index(id)]._mapImage=mapImage;
+		if (cTypRef[Ref_Index(id)]._iconImage != cTypRef[Ref_Index(id)]._mapImage) 
+			cTypRef[Ref_Index(id)]._mapImage.free();
+		cTypRef[Ref_Index(id)]._mapImage=mapImage;
 	}
 	
 	
 	// TODO do it better in Version 4
 	public static int getCacheTypePattern(final byte typeId) {
-		return CTypRef[Ref_Index(typeId)]._FilterPattern;
+		return cTypRef[Ref_Index(typeId)]._FilterPattern;
 	}
 	public static int Type_FilterString2Type_FilterPattern(final String Type_FilterString) {
 		int typeMatchPattern = 0;
-		for (int i = 0; i < CTypRef.length; i++) {
-			if (CTypRef[i]._FilterStringPos > -1) {
-				if (Type_FilterString.charAt(CTypRef[i]._FilterStringPos) == '1') {
-					typeMatchPattern|=CTypRef[i]._FilterPattern;
+		for (int i = 0; i < cTypRef.length; i++) {
+			if (cTypRef[i]._FilterStringPos > -1) {
+				if (Type_FilterString.charAt(cTypRef[i]._FilterStringPos) == '1') {
+					typeMatchPattern|=cTypRef[i]._FilterPattern;
 				}
 			}
 		}
@@ -424,9 +423,9 @@
 	}
 	public static boolean hasMainTypeMatchPattern(final int typeMatchPattern) {
 		int TYPE_MAIN = 0;
-		for (int i = 0; i < CTypRef.length; i++) {
-			if (CTypRef[i]._cwCGroup == 'C' || CTypRef[i]._cwCGroup == 'P' ) {
-				TYPE_MAIN|=CTypRef[i]._FilterPattern;
+		for (int i = 0; i < cTypRef.length; i++) {
+			if (cTypRef[i]._cwCGroup == 'C' || cTypRef[i]._cwCGroup == 'P' ) {
+				TYPE_MAIN|=cTypRef[i]._FilterPattern;
 			}
 		}
 		return (typeMatchPattern & TYPE_MAIN) != 0;



From araber95 at mail.berlios.de  Wed Jun  9 10:21:28 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 9 Jun 2010 10:21:28 +0200
Subject: [Cachewolf-svn] r2595 - trunk/src/CacheWolf/exp
Message-ID: <201006090821.o598LSsN007288@sheep.berlios.de>

Author: araber95
Date: 2010-06-09 10:21:26 +0200 (Wed, 09 Jun 2010)
New Revision: 2595

Modified:
   trunk/src/CacheWolf/exp/ExploristExporter.java
Log:
extending explorist exporter part CacheName with WayPointName

Modified: trunk/src/CacheWolf/exp/ExploristExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/ExploristExporter.java	2010-06-09 08:19:43 UTC (rev 2594)
+++ trunk/src/CacheWolf/exp/ExploristExporter.java	2010-06-09 08:21:26 UTC (rev 2595)
@@ -233,7 +233,7 @@
 			}
 			sb.append(add);
 		}
-		sb.append(removeCommas(ch.shortenName(ch.getCacheName(), 20)).substring(0,20));
+		sb.append(ch.getWayPoint() + " " + removeCommas(ch.getCacheName()));
 		sb.append(",");
 		sb.append(removeCommas(ch.getCacheOwner()));
 		sb.append(",");



From araber95 at mail.berlios.de  Wed Jun  9 10:54:57 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 9 Jun 2010 10:54:57 +0200
Subject: [Cachewolf-svn] r2596 - trunk
Message-ID: <201006090854.o598svPY009048@sheep.berlios.de>

Author: araber95
Date: 2010-06-09 10:54:56 +0200 (Wed, 09 Jun 2010)
New Revision: 2596

Modified:
   trunk/cw-ppc2003.jnf
Log:
changing memory startup to 6 (to reduce prbs on filling white on maps)

Modified: trunk/cw-ppc2003.jnf
===================================================================
--- trunk/cw-ppc2003.jnf	2010-06-09 08:21:26 UTC (rev 2595)
+++ trunk/cw-ppc2003.jnf	2010-06-09 08:54:56 UTC (rev 2596)
@@ -1 +1 @@
-command=programName%3DCacheWolf%26width%3D0%26height%3D0%26startingClass%3DCacheWolf.CacheWolf%26windowTitle%3DWindow%2BTitle%26ewes%3D%26extra%3D%26pathToEwe%3D%26nativeStack%3D0%26vmStack%3D0%26appletWidth%3D0%26appletHeight%3D0%26appletInFrame%3Dfalse%26locale%3D%26useResources%3Dtrue%26noPopupWindows%3Dfalse%26vmOptions%3D/Xmx%2B8M&eweFiles=&targets=%253DTarget%3Dewe/data/MultiListSelect$SelectedItems%253D%25253DPocketPC%25252B2003&createWithPnf=true&eweInfo=outputFile%3Dwork/CacheWolf.ewe%26entries%3Dewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dbin/CacheWolf/%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253DCacheWolf/%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dresources%252526mask%25253D*.gif;*.png;*.ico%252526includeSubdirectories%25253Dfalse%252526pathInEwe%25253D%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dlib%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253D%26addCommandLine%3Dt!
 rue%26commandLine%3DprogramName%253DCacheWolf%2526width%253D0%2526height%253D0%2526startingClass%253DCacheWolf.CacheWolf%2526windowTitle%253DWindow%252BTitle%2526ewes%253D%2526extra%253D%2526pathToEwe%253D%2526nativeStack%253D0%2526vmStack%253D0%2526appletWidth%253D0%2526appletHeight%253D0%2526appletInFrame%253Dfalse%2526locale%253D%2526useResources%253Dtrue%2526noPopupWindows%253Dfalse%2526vmOptions%253D/Xmx%252B8M%26install%3Dtitle%253D%2526category%253DApplications%2526location%253D%2526icon%253D%2526args%253D%2526vmArgs%253D%26addInstallFile%3Dfalse%26usePool%3Dfalse%26useClassPool%3Dfalse&icon=resources/CacheWolf.ico
+command=programName%3DCacheWolf%26width%3D0%26height%3D0%26startingClass%3DCacheWolf.CacheWolf%26windowTitle%3DWindow%2BTitle%26ewes%3D%26extra%3D%26pathToEwe%3D%26nativeStack%3D0%26vmStack%3D0%26appletWidth%3D0%26appletHeight%3D0%26appletInFrame%3Dfalse%26locale%3D%26useResources%3Dtrue%26noPopupWindows%3Dfalse%26vmOptions%3D/Xmx%2B6M&eweFiles=&targets=%253DTarget%3Dewe/data/MultiListSelect$SelectedItems%253D%25253DPocketPC%25252B2003&createWithPnf=true&eweInfo=outputFile%3Dwork/CacheWolf.ewe%26entries%3Dewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dbin/CacheWolf/%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253DCacheWolf/%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dresources%252526mask%25253D*.gif;*.png;*.ico%252526includeSubdirectories%25253Dfalse%252526pathInEwe%25253D%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dlib%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253D%26addCommandLine%3Dt!
 rue%26commandLine%3DprogramName%253DCacheWolf%2526width%253D0%2526height%253D0%2526startingClass%253DCacheWolf.CacheWolf%2526windowTitle%253DWindow%252BTitle%2526ewes%253D%2526extra%253D%2526pathToEwe%253D%2526nativeStack%253D0%2526vmStack%253D0%2526appletWidth%253D0%2526appletHeight%253D0%2526appletInFrame%253Dfalse%2526locale%253D%2526useResources%253Dtrue%2526noPopupWindows%253Dfalse%2526vmOptions%253D/Xmx%252B6M%26install%3Dtitle%253D%2526category%253DApplications%2526location%253D%2526icon%253D%2526args%253D%2526vmArgs%253D%26addInstallFile%3Dfalse%26usePool%3Dfalse%26useClassPool%3Dfalse&icon=resources/CacheWolf.ico



From araber95 at mail.berlios.de  Fri Jun 11 18:05:50 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 11 Jun 2010 18:05:50 +0200
Subject: [Cachewolf-svn] r2597 - in trunk: res_noewe/templates src/CacheWolf
Message-ID: <201006111605.o5BG5oNe023574@sheep.berlios.de>

Author: araber95
Date: 2010-06-11 18:05:47 +0200 (Fri, 11 Jun 2010)
New Revision: 2597

Modified:
   trunk/res_noewe/templates/Short documentation for the export via templates.htm
   trunk/src/CacheWolf/CacheHolder.java
Log:
tpl-export : extension MAINWAYPOINTNAME and GCID and INC for attributes

Modified: trunk/res_noewe/templates/Short documentation for the export via templates.htm
===================================================================
--- trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-09 08:54:56 UTC (rev 2596)
+++ trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-11 16:05:47 UTC (rev 2597)
@@ -196,7 +196,8 @@
 values are CR, LF or CRLF . These defines, what should be used for replacing<br>
 &lt;<span class=SpellE>tmpl_par</span> name=&quot;<span class=SpellE>decsep</span>&quot;
 value=&quot;,&quot;&gt;<span style='mso-tab-count:4'>??????????????????????????????????????? </span>Decimal
-separator : Defines, which decimal separator is used , values &quot;.&quot; or ','<br>
+separator : Defines, which decimal separator is used , values &quot;.&quot; or
+','<br>
 &lt;<span class=SpellE>tmpl_par</span> name=&quot;<span class=SpellE>ShortNameLength</span>&quot;
 value=&quot;30&quot;&gt;<span style='mso-tab-count:2'>????????????????????? </span>Number
 of characters for Variable SHORTNAME <br>
@@ -236,8 +237,8 @@
 &lt;type&gt; Type of cache, e.g. Regular, Multi<br>
 TYPENO<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????????? </span>:
 &lt;type&gt; as number string (see <span class=SpellE>CacheType.java</span> <span
-class=SpellE>e.g</span> : 0=Custom , 2=<span class=SpellE>Tradi</span> ,50=Parking
-104=Earth)<br>
+class=SpellE>e.g</span> : 0=Custom , 2=<span class=SpellE>Tradi</span>
+,50=Parking 104=Earth)<br>
 SYM<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 &lt;sym&gt;<br>
 GSTYPE<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????????? </span>:
@@ -250,8 +251,11 @@
 First letter of size<br>
 </span><span lang=EN-GB style='font-size:10.0pt;font-family:Helvetica;
 mso-ansi-language:EN-GB'>MAINWP<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????????? </span>:
-?? if is <span class=SpellE>Mainwaypoint</span>, <span class=SpellE>Mainwaypointname</span>
+?? if is <span class=SpellE>Mainwaypoint</span>, <span class=SpellE>Mainwaypoint</span>
 if is <span class=SpellE>Addi</span> Waypoint<br>
+MAINWPNAME<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????? </span>:
+?? if is <span class=SpellE>Mainwaypoint</span>, <span class=SpellE>Mainwaypoint</span>
+name if is <span class=SpellE>Addi</span> Waypoint<br>
 </span><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:
 EN-GB'>WAYPOINT<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????? </span>:
 &lt;name&gt; GCXXXX, OCXXXX<br>
@@ -269,9 +273,8 @@
 <span class=SpellE>Cacheowner</span><br>
 DIFFICULTY<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????? </span>:<br>
 </span><span lang=EN-GB style='font-size:10.0pt;font-family:Helvetica;
-mso-ansi-language:EN-GB'>SHORTDIFFICULTY<span style='mso-tab-count:6'>???????????????????????????????????????????????????????????????? </span><span
-style='mso-tab-count:1'>??????????? </span>: Difficulty mal 10 also 15 <span
-class=SpellE>statt</span> 1.5<br>
+mso-ansi-language:EN-GB'>SHORTDIFFICULTY<span style='mso-tab-count:7'>???????????????????????????????????????????????????????????????????????????? </span>:
+Difficulty mal 10 also 15 <span class=SpellE>statt</span> 1.5<br>
 SHDIFFICULTY<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????? </span>:
 Difficulty <span class=SpellE>abgerundet</span> also 1 <span class=SpellE>statt</span>
 1.5<br>
@@ -285,9 +288,8 @@
 </span><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:
 EN-GB'>DISTANCE<span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????????? </span>:
 Distance calculated in <span class=SpellE>cachelist</span><br>
-BEARING<span style='mso-tab-count:7'>??????????????????????????????????????????????????????????????????????????????? </span><span
-style='mso-tab-count:1'>??????????? </span>: Bearing calculated in <span
-class=SpellE>cachelist</span><br>
+BEARING<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????????????? </span>:
+Bearing calculated in <span class=SpellE>cachelist</span><br>
 LATON<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 Coordinates in long format, e.g. N 50? 31.234 E 008? 45.267<br>
 LAT<span style='mso-tab-count:9'>??????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
@@ -306,8 +308,7 @@
 Get the time part of the status<br>
 DATE<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 date hidden<br>
-CACHE_NAME<span style='mso-tab-count:1'> </span><span style='mso-tab-count:
-7'>????????????????????????????????????????????????????????????????????????????????? </span>:
+CACHE_NAME<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????? </span>:
 original Name of cache<br>
 NAME<span style='mso-tab-count:9'>??????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 Name of cache (<span class=SpellE>badchars</span> are removed, see below) (<span
@@ -370,8 +371,8 @@
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>ATTRIBUTES<span
 style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????? </span>:
-the &lt;<span class=SpellE>tmpl_loop</span> ATTRIBUTES&gt;, example see GCTemplate.html
-/ show cache in browser offline<br>
+the &lt;<span class=SpellE>tmpl_loop</span> ATTRIBUTES&gt;, example see
+GCTemplate.html / show cache in browser offline<br>
 PATHANDIMAGE<span style='mso-tab-count:7'>??????????????????????????????????????????????????????????????????????????????? </span>:
 path an <span class=SpellE>imagename</span> of the attribute<br>
 IMAGE<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????? </span>:
@@ -380,7 +381,12 @@
 description of the attribute from language <span class=SpellE>config</span><br>
 BR<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 contains &lt;<span class=SpellE>br</span>/&gt; every 5<sup>th</sup> attribute
-else empty (can be used with &lt;<span class=SpellE>tmp_if</span>&gt;)<o:p></o:p></span></p>
+else empty (can be used with &lt;<span class=SpellE>tmp_if</span>&gt;<span
+class=GramE>)</span><br>
+GCID<span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+ID of gc.com<br>
+INC<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+0 .. 2 yes / no / neutral<o:p></o:p></span></p>
 
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
 mso-outline-level:1'><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;
@@ -561,8 +567,8 @@
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>evaluates
 to false. If the control variable evaluates to true, then the else block, if</span><span
 lang=EN-GB style='mso-ansi-language:EN-GB'> </span><span lang=EN-GB
-style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>any, is displayed
-instead.</span><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
+style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>any, is
+displayed instead.</span><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
 class=SpellE><u><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-09 08:54:56 UTC (rev 2596)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-11 16:05:47 UTC (rev 2597)
@@ -588,9 +588,11 @@
 		varParams.put("SHORTSIZE", CacheSize.getExportShortId(cacheSize));
 		if (isAddiWpt()) {
 			varParams.put("MAINWP",this.mainCache.getWayPoint());
+			varParams.put("MAINWPNAME", this.mainCache.getCacheName());
 		}
 		else {
 			varParams.put("MAINWP", "");
+			varParams.put("MAINWPNAME", "");
 		}
 		if (isCustomWpt()) {
 
@@ -681,6 +683,8 @@
 					Hashtable atts=new Hashtable();
 					atts.put("PATHANDIMAGE", det.attributes.getAttribute(i).getPathAndImageName());
 					atts.put("IMAGE", det.attributes.getAttribute(i).getImageName());
+					atts.put("GCID", det.attributes.getAttribute(i).getGCId());
+					atts.put("INC", "" + det.attributes.getAttribute(i).getInc());
 					if (i % 5 ==4)
 						atts.put("BR","<br/>");
 					else



From araber95 at mail.berlios.de  Sat Jun 12 17:58:21 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 12 Jun 2010 17:58:21 +0200
Subject: [Cachewolf-svn] r2598 - in trunk: res_noewe res_noewe/templates
	src/CacheWolf src/CacheWolf/exp
Message-ID: <201006121558.o5CFwLxd002666@sheep.berlios.de>

Author: araber95
Date: 2010-06-12 17:58:17 +0200 (Sat, 12 Jun 2010)
New Revision: 2598

Added:
   trunk/res_noewe/templates/page_txt.tpl
Modified:
   trunk/res_noewe/GCTemplate.html
   trunk/res_noewe/templates/Short documentation for the export via templates.htm
   trunk/res_noewe/templates/page.tpl
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/ShowCacheInBrowser.java
   trunk/src/CacheWolf/exp/HTMLExporter.java
Log:
template exporter handles logs. (see doc in template dir) 

Modified: trunk/res_noewe/GCTemplate.html
===================================================================
--- trunk/res_noewe/GCTemplate.html	2010-06-11 16:05:47 UTC (rev 2597)
+++ trunk/res_noewe/GCTemplate.html	2010-06-12 15:58:17 UTC (rev 2598)
@@ -135,8 +135,8 @@
 	<br/><a href="javascript:toggleDivOL('logs');"><FONT face="Verdana" size="+0"><STRONG>Logs</STRONG></FONT></a><font class="clickHint" onClick="toggleAll();">Click 'Logs' to hide/unhide section; Click this to hide/unhide each log; Click any log to hide/unhide</font><br/><br/>
 	<div id="logs" class="logs">
 	<tmpl_loop LOGS>
-		<a href="javascript:toggleDivOL(<tmpl_var I>);"><tmpl_var LOGTYPE></a>
-		<div id=<tmpl_var I> name="log" style="display:block"><font face='Verdana' size='2'><tmpl_var LOG></font><br/>
+		<a href="javascript:toggleDivOL(<tmpl_var __COUNTER__>);"><img src="<tmpl_var ICON>" border="0">&nbsp;<tmpl_var DATE>&nbsp;by&nbsp;<tmpl_var LOGGER><br></a>
+		<div id=<tmpl_var __COUNTER__> name="log" style="display:block"><font face='Verdana' size='2'><tmpl_var MESSAGE></font><br/>
 		<div><center><div style="width:66%"><hr></div></center></div></div>
 	</tmpl_loop>
 	</div>

Modified: trunk/res_noewe/templates/Short documentation for the export via templates.htm
===================================================================
--- trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-11 16:05:47 UTC (rev 2597)
+++ trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-12 15:58:17 UTC (rev 2598)
@@ -196,8 +196,7 @@
 values are CR, LF or CRLF . These defines, what should be used for replacing<br>
 &lt;<span class=SpellE>tmpl_par</span> name=&quot;<span class=SpellE>decsep</span>&quot;
 value=&quot;,&quot;&gt;<span style='mso-tab-count:4'>??????????????????????????????????????? </span>Decimal
-separator : Defines, which decimal separator is used , values &quot;.&quot; or
-','<br>
+separator : Defines, which decimal separator is used , values &quot;.&quot; or ','<br>
 &lt;<span class=SpellE>tmpl_par</span> name=&quot;<span class=SpellE>ShortNameLength</span>&quot;
 value=&quot;30&quot;&gt;<span style='mso-tab-count:2'>????????????????????? </span>Number
 of characters for Variable SHORTNAME <br>
@@ -237,8 +236,8 @@
 &lt;type&gt; Type of cache, e.g. Regular, Multi<br>
 TYPENO<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????????? </span>:
 &lt;type&gt; as number string (see <span class=SpellE>CacheType.java</span> <span
-class=SpellE>e.g</span> : 0=Custom , 2=<span class=SpellE>Tradi</span>
-,50=Parking 104=Earth)<br>
+class=SpellE>e.g</span> : 0=Custom , 2=<span class=SpellE>Tradi</span> ,50=Parking
+104=Earth)<br>
 SYM<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 &lt;sym&gt;<br>
 GSTYPE<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????????? </span>:
@@ -304,7 +303,8 @@
 the English Status texts (for <span class=SpellE>gpx</span> ? export)<br>
 STATUS_DATE<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????? </span>:
 Get the date part of the status <br>
-STATUS_TIME<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????? </span>:
+STATUS_TIME<span style='mso-tab-count:3'>???????????????????????? </span><span
+style='mso-tab-count:5'>?????????????????????????????????????????????????????????? </span>:
 Get the time part of the status<br>
 DATE<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 date hidden<br>
@@ -388,6 +388,20 @@
 INC<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 0 .. 2 yes / no / neutral<o:p></o:p></span></p>
 
+<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
+lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>LOGS<span
+style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+the &lt;<span class=SpellE>tmpl_loop</span> LOGS &gt;, example see GCTemplate.html
+/ show cache in browser offline<br>
+ICON<span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+name of the log picture<br>
+DATE<span style='mso-tab-count:1'>?? </span><span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+date of the log<br>
+LOGGER<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????????? </span>:
+name<br>
+MESSAGE<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????? </span>:
+logtext<o:p></o:p></span></p>
+
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
 mso-outline-level:1'><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;
 mso-ansi-language:EN-GB'>Further documentation of template library:

Modified: trunk/res_noewe/templates/page.tpl
===================================================================
--- trunk/res_noewe/templates/page.tpl	2010-06-11 16:05:47 UTC (rev 2597)
+++ trunk/res_noewe/templates/page.tpl	2010-06-12 15:58:17 UTC (rev 2598)
@@ -25,9 +25,13 @@
 </td></tr>
 <tr style = "font-family:sans-serif;font-size:12;"><td>
 Logs:<br>
-<tmpl_var LOGS>
+<tmpl_loop LOGS>
+#logNr=<tmpl_var __COUNTER__><br>
+<img src="<tmpl_var ICON>" border="0">&nbsp;<tmpl_var DATE>&nbsp;by&nbsp;<tmpl_var LOGGER><br><tmpl_var MESSAGE>
+</tmpl_loop>
 </td></tr>
 <tr style = "font-family:sans-serif;font-size:12;"><td>
+<br>
 Notes:<br>
 <tmpl_var NOTES>
 </td></tr>

Added: trunk/res_noewe/templates/page_txt.tpl
===================================================================
--- trunk/res_noewe/templates/page_txt.tpl	2010-06-11 16:05:47 UTC (rev 2597)
+++ trunk/res_noewe/templates/page_txt.tpl	2010-06-12 15:58:17 UTC (rev 2598)
@@ -0,0 +1,21 @@
+#siehe http://ruhrcacher.de/rcevanzo/tutorial/mp3player/mp3paperless.html
+<tmpl_var WAYPOINT>
+<tmpl_var NAME>
+<tmpl_var TYPE> (<tmpl_var SIZE>)
+von <tmpl_var OWNER>
+D <tmpl_var DIFFICULTY> / T <tmpl_var TERRAIN>
+Koordinaten:
+<tmpl_var LATON>
+
+Hints:
+<tmpl_var DECRYPTEDHINTS>
+
+Beschreibung:
+<tmpl_var DESCRIPTION>
+
+Logs:
+<tmpl_var ICON> <tmpl_var DATE> <tmpl_var LOGGER>
+<tmpl_var MESSAGE>
+
+Notes:
+<tmpl_var NOTES>

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-11 16:05:47 UTC (rev 2597)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-12 15:58:17 UTC (rev 2598)
@@ -676,7 +676,7 @@
 			if (det.Travelbugs.size()>0) varParams.put("BUGS",det.Travelbugs.toHtml());
 			if (det.getSolver()!=null && det.getSolver().trim().length()>0) varParams.put("SOLVER", STRreplace.replace(det.getSolver(),"\n","<br/>\n"));
 			
-			// Cache attributes
+			// attributes
 			if (det.attributes.count()>0) {
 				Vector attVect=new Vector(det.attributes.count()+1);
 				for (int i=0; i<det.attributes.count(); i++) {
@@ -694,6 +694,25 @@
 				}
 				varParams.put("ATTRIBUTES",attVect);
 			}
+			// logs
+			Vector logVect=new Vector(det.CacheLogs.size());
+			for (int i=0; i<det.CacheLogs.size(); i++) {
+				Hashtable logs=new Hashtable();
+				if (det.CacheLogs.getLog(i).getIcon().equals("MAXLOG")) {
+					logs.put("ICON","");
+					logs.put("DATE", "");
+					logs.put("LOGGER", "");
+					logs.put("MESSAGE", "<hr>"+MyLocale.getMsg(736,"Too many logs")+"<hr>");
+				}
+				else {
+					logs.put("ICON",det.CacheLogs.getLog(i).getIcon());
+					logs.put("DATE", det.CacheLogs.getLog(i).getDate());
+					logs.put("LOGGER", det.CacheLogs.getLog(i).getLogger());
+					logs.put("MESSAGE", STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),"http://www.geocaching.com/images/icons/",null));
+				}
+				logVect.add(logs);
+			}
+			varParams.put("LOGS",logVect);
 
 		}
 		return varParams;

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2010-06-11 16:05:47 UTC (rev 2597)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2010-06-12 15:58:17 UTC (rev 2598)
@@ -104,29 +104,6 @@
 						}
 						tpl.setParam("IMAGES",imageVect);
 					}
-
-					Vector logVect=new Vector(chD.getCacheDetails(true).CacheLogs.size());
-					for (int i=0; i<chD.getCacheDetails(true).CacheLogs.size(); i++) {
-						Hashtable logs=new Hashtable();
-						String log=STRreplace.replace(chD.getCacheDetails(true).CacheLogs.getLog(i).toHtml(),"http://www.geocaching.com/images/icons/","");
-						int posGt=log.indexOf('>'); // Find the icon which defines the type of log
-						if (posGt<0) {
-							logs.put("LOG",log);
-							logs.put("LOGTYPE","");
-						} else {
-							int posBr=log.indexOf("<br>");
-							if(posBr<0) {
-								logs.put("LOG",log);
-								logs.put("LOGTYPE","");
-							} else {
-								logs.put("LOG",log.substring(posBr));
-								logs.put("LOGTYPE",log.substring(0,posGt)+" border='0'"+log.substring(posGt,posBr+4));
-							}
-						}
-						logs.put("I","'log"+new Integer(i).toString()+"'");
-						logVect.add(logs);
-					}
-					tpl.setParam("LOGS",logVect);
 					if (!chD.is_available()) tpl.setParam("UNAVAILABLE","1");
 					if (!chD.getCacheDetails(true).Hints.equals("null"))tpl.setParam("HINT",Common.rot13(chD.getCacheDetails(true).Hints));
 

Modified: trunk/src/CacheWolf/exp/HTMLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/HTMLExporter.java	2010-06-11 16:05:47 UTC (rev 2597)
+++ trunk/src/CacheWolf/exp/HTMLExporter.java	2010-06-12 15:58:17 UTC (rev 2598)
@@ -31,6 +31,7 @@
 	String [] template_init_page = {
 	 		"filename",  FileBase.getProgramDirectory()+FileBase.separator+"templates"+FileBase.separator+"page.tpl",
 	 		"case_sensitive", "true",
+	 		"loop_context_vars", "true",
 	 		"max_includes",   "5"
 	 	};
 	public final static String expName = "HTML";
@@ -100,14 +101,10 @@
 						
 						if (det != null) {
 
-							StringBuffer sb=new StringBuffer(2000);
-							for(int j = 0; j<det.CacheLogs.size(); j++){
-								sb.append(STRreplace.replace(det.CacheLogs.getLog(j).toHtml(),"http://www.geocaching.com/images/icons/",null));
-								sb.append("<br>");
+							for(int j = 0; j<det.CacheLogs.size()-1; j++){
 								icon=det.CacheLogs.getLog(j).getIcon();
 								if (logIcons.find(icon)<0) logIcons.add(icon); // Add the icon to list of icons to copy to dest directory
 							}
-							page_tpl.setParam("LOGS", sb.toString());
 
 							cacheImg.clear();
 							for(int j = 0; j<det.images.size(); j++){



From araber95 at mail.berlios.de  Sun Jun 13 16:10:50 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 13 Jun 2010 16:10:50 +0200
Subject: [Cachewolf-svn] r2599 - trunk/src/CacheWolf/imp
Message-ID: <201006131410.o5DEAoLw024256@sheep.berlios.de>

Author: araber95
Date: 2010-06-13 16:10:48 +0200 (Sun, 13 Jun 2010)
New Revision: 2599

Modified:
   trunk/src/CacheWolf/imp/GPXImporter.java
Log:
some corrections for the new OC gpx format.

Modified: trunk/src/CacheWolf/imp/GPXImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GPXImporter.java	2010-06-12 15:58:17 UTC (rev 2598)
+++ trunk/src/CacheWolf/imp/GPXImporter.java	2010-06-13 14:10:48 UTC (rev 2599)
@@ -56,7 +56,6 @@
 	public static final int DOIT_ASK = 0;
 	public static final int DOIT_NOSPOILER = 1;
 	public static final int DOIT_WITHSPOILER = 2;
-	boolean getMaps = false;
 	SpiderGC imgSpider;
 	StringBuffer strBuf;
 	private int doitHow;
@@ -232,7 +231,7 @@
 		}
 
 		
-		if (name.equals("groundspeak:long_description")) {
+		if (name.indexOf("long_description") > -1) {
 			holder.setHTML(atts.getValue("html").toLowerCase().equals("true"));
 		}
 		if (name.equals("description") || name.equals("terra:description") ) {
@@ -302,12 +301,9 @@
 		}
 		
 		if (name.equals("wpt")){
-			// Add cache Data only, if waypoint not already in database
-			//if (searchWpt(cacheDB, holder.wayPoint)== -1){
+			
 			int index=cacheDB.getIndex(holder.getWayPoint());
-			//Vm.debug("here ?!?!?");
-			//Vm.debug("could be new!!!!");
-			if (index == -1){
+			if (index == -1){// Add cache Data only, if waypoint not already in database
 				holder.setNoFindLogs(holder.getCacheDetails(false).CacheLogs.countNotFoundLogs());
 				holder.setNew(true);
 				cacheDB.add(holder);
@@ -316,13 +312,6 @@
 				if(doSpider) {
 					if(spiderOK && holder.is_archived() == false){
 							if(holder.getLatLon().length() > 1){
-							if(getMaps){
-								ParseLatLon pll = new ParseLatLon(holder.getLatLon(),".");
-								pll.parse();
-								//MapLoader mpl = new MapLoader(pref.myproxy, pref.myproxyport);
-								//mpl.loadTo(profile.dataDir + "/" + holder.wayPoint + "_map.gif", "3");
-								//mpl.loadTo(profile.dataDir + "/" + holder.wayPoint + "_map_2.gif", "10");
-							}
 						}
 						if(holder.getWayPoint().startsWith("GC")|| fromTC) {
 							//spiderImages();
@@ -440,7 +429,7 @@
 			holder.setLastSync("");
 		}
 		
-		if ((name.equals("groundspeak:name")|| name.equals("terra:name")) && inCache) {
+		if (name.indexOf("name")>-1 && inCache) {
 			holder.setCacheName(strData);
 			return;
 		}
@@ -482,18 +471,18 @@
 			holder.setCacheSize(CacheSize.tcGpxString2Cw(strData));
 		}
 
-		if (name.equals("groundspeak:short_description")|| name.equals("summary")) {
+		if (name.indexOf("short_description") > -1|| name.equals("summary")) {
 			if (holder.is_HTML())	holder.getCacheDetails(false).LongDescription =SafeXML.cleanback(strData)+"<br>"; // <br> needed because we also use a <br> in SpiderGC. Without it the comparison in ch.update fails
 			else holder.getCacheDetails(false).LongDescription =strData+"\n";
 			return;
 		}
 
-		if (name.equals("groundspeak:long_description")|| name.equals("description")|| name.equals("terra:description")) {
+		if (name.indexOf("long_description") > -1 || name.equals("description")|| name.equals("terra:description")) {
 			if (holder.is_HTML())	holder.getCacheDetails(false).LongDescription +=SafeXML.cleanback(strData);
 			else holder.getCacheDetails(false).LongDescription +=strData;
 			return;
 		}
-		if (name.equals("groundspeak:encoded_hints") || name.equals("hints")) {
+		if (name.indexOf("encoded_hints") > -1 || name.equals("hints")) {
 			holder.getCacheDetails(false).Hints = Common.rot13(strData);
 			return;
 		}



From maierkurt at mail.berlios.de  Sun Jun 13 17:00:18 2010
From: maierkurt at mail.berlios.de (maierkurt at mail.berlios.de)
Date: Sun, 13 Jun 2010 17:00:18 +0200
Subject: [Cachewolf-svn] r2600 - trunk/src/CacheWolf/exp
Message-ID: <201006131500.o5DF0IXo027797@sheep.berlios.de>

Author: maierkurt
Date: 2010-06-13 17:00:01 +0200 (Sun, 13 Jun 2010)
New Revision: 2600

Modified:
   trunk/src/CacheWolf/exp/TPLExporter.java
Log:
Close progressbar after users selects "Close/Abort" in filechooser for TPL-Outputfile

Modified: trunk/src/CacheWolf/exp/TPLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/TPLExporter.java	2010-06-13 14:10:48 UTC (rev 2599)
+++ trunk/src/CacheWolf/exp/TPLExporter.java	2010-06-13 15:00:01 UTC (rev 2600)
@@ -180,7 +180,7 @@
 			FileChooser fc = new FileChooser(FileChooserBase.SAVE, pref.getExportPath(expName));
 			fc.setTitle("Select target file:");
 			fc.addMask(myFilter.out);
-			if(fc.execute() == FormBase.IDCANCEL) return;
+			if(fc.execute() == FormBase.IDCANCEL) {pbf.exit(0); return; }
 			File saveTo = fc.getChosenFile();
 			pref.setExportPath(expName, saveTo.getPath());
 



From pfeffer at mail.berlios.de  Sun Jun 13 23:05:54 2010
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 13 Jun 2010 23:05:54 +0200
Subject: [Cachewolf-svn] r2601 - trunk/src/CacheWolf/imp
Message-ID: <201006132105.o5DL5sav028028@sheep.berlios.de>

Author: pfeffer
Date: 2010-06-13 23:05:53 +0200 (Sun, 13 Jun 2010)
New Revision: 2601

Modified:
   trunk/src/CacheWolf/imp/OCXMLImporter.java
Log:
Bug fixed: display multiple languages from Opencaching caches, see http://www.geoclub.de/viewtopic.php?f=40&t=45137&p=720922#p720922

Modified: trunk/src/CacheWolf/imp/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-13 15:00:01 UTC (rev 2600)
+++ trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-13 21:05:53 UTC (rev 2601)
@@ -152,6 +152,7 @@
 			+ "&charset=utf-8"
 			+ "&cdata=0"
 			+ "&session=0";
+		ch.setUpdated(false);
 		syncOC(url);
 		inf.close(0);
 		return true;
@@ -591,8 +592,10 @@
 
 			if (holder.is_HTML())	linebraek = "<br>\n";
 			else 					linebraek = "\n";
-
-			holder.getCacheDetails(false).LongDescription =              processingDescLang + ":" +  linebraek + strData;
+			
+			     // this is set by "hint" a few lines down: if a long description is already updated, then this one is likely to be in another language
+			if (holder.is_updated())	holder.getCacheDetails(false).LongDescription += linebraek + processingDescLang + ":" +  linebraek + strData;
+			else 					 	holder.getCacheDetails(false).LongDescription =              processingDescLang + ":" +  linebraek + strData;
 			return;
 		}
 



From pfeffer at mail.berlios.de  Sun Jun 13 23:12:22 2010
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 13 Jun 2010 23:12:22 +0200
Subject: [Cachewolf-svn] r2602 - trunk/src/CacheWolf/imp
Message-ID: <201006132112.o5DLCMqe028349@sheep.berlios.de>

Author: pfeffer
Date: 2010-06-13 23:12:21 +0200 (Sun, 13 Jun 2010)
New Revision: 2602

Modified:
   trunk/src/CacheWolf/imp/OCXMLImporter.java
Log:
Bug fixed: OC download: new line added after short title

Modified: trunk/src/CacheWolf/imp/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-13 21:05:53 UTC (rev 2601)
+++ trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-13 21:12:21 UTC (rev 2602)
@@ -594,8 +594,8 @@
 			else 					linebraek = "\n";
 			
 			     // this is set by "hint" a few lines down: if a long description is already updated, then this one is likely to be in another language
-			if (holder.is_updated())	holder.getCacheDetails(false).LongDescription += linebraek + processingDescLang + ":" +  linebraek + strData;
-			else 					 	holder.getCacheDetails(false).LongDescription =              processingDescLang + ":" +  linebraek + strData;
+			if (holder.is_updated())	holder.getCacheDetails(false).LongDescription += linebraek + processingDescLang + ":" +  linebraek + strData  +  linebraek;
+			else 					 	holder.getCacheDetails(false).LongDescription =              processingDescLang + ":" +  linebraek + strData  +  linebraek;
 			return;
 		}
 



From araber95 at mail.berlios.de  Sun Jun 13 23:43:00 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 13 Jun 2010 23:43:00 +0200
Subject: [Cachewolf-svn] r2603 - trunk/src/CacheWolf/imp
Message-ID: <201006132143.o5DLh06p029682@sheep.berlios.de>

Author: araber95
Date: 2010-06-13 23:42:58 +0200 (Sun, 13 Jun 2010)
New Revision: 2603

Modified:
   trunk/src/CacheWolf/imp/GPXImporter.java
   trunk/src/CacheWolf/imp/OCXMLImporter.java
Log:
importing OC CacheID (spider + gpx)

Modified: trunk/src/CacheWolf/imp/GPXImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GPXImporter.java	2010-06-13 21:12:21 UTC (rev 2602)
+++ trunk/src/CacheWolf/imp/GPXImporter.java	2010-06-13 21:42:58 UTC (rev 2603)
@@ -215,6 +215,8 @@
 			boolean available = false;
 			boolean archived  = false;
 			inCache=true;
+			String ocCacheID = new String(atts.getValue("id"));
+			holder.setOcCacheID(ocCacheID);
 			// get status
 			String status = new String(atts.getValue("status"));
 			if (status.equals("Available")) available = true;

Modified: trunk/src/CacheWolf/imp/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-13 21:12:21 UTC (rev 2602)
+++ trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-13 21:42:58 UTC (rev 2603)
@@ -426,7 +426,9 @@
 
 	private void startCacheDesc(String name, AttributeList atts){
 		inf.setInfo(MyLocale.getMsg(1611,"Importing cache description:")+" " + numDescImported);
-		if (name.equals("cachedesc")){
+		if (name.equals("cacheid")){
+			String ocCacheID = new String(atts.getValue("id"));
+			holder.setOcCacheID(ocCacheID);
 		}
 
 		if (name.equals("desc")){



From araber95 at mail.berlios.de  Sun Jun 13 23:45:40 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 13 Jun 2010 23:45:40 +0200
Subject: [Cachewolf-svn] r2604 - in trunk: res_noewe/templates src/CacheWolf
	src/CacheWolf/exp
Message-ID: <201006132145.o5DLjeEO029838@sheep.berlios.de>

Author: araber95
Date: 2010-06-13 23:45:37 +0200 (Sun, 13 Jun 2010)
New Revision: 2604

Added:
   trunk/res_noewe/templates/pq.tpl
Modified:
   trunk/res_noewe/templates/Short documentation for the export via templates.htm
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/exp/GpxExportNg.java
Log:
enhancing tpl-exporter : new pq.tpl template for Dakota..Oregon (see http://www.geoclub.de/viewtopic.php?f=40&t=45618&sid=d47b4ad9d330d038c2276b0731be50fb&start=10)

Modified: trunk/res_noewe/templates/Short documentation for the export via templates.htm
===================================================================
--- trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-13 21:42:58 UTC (rev 2603)
+++ trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-13 21:45:37 UTC (rev 2604)
@@ -335,6 +335,10 @@
 <span class=SpellE>dann</span> <span class=SpellE>kriegen</span> <span
 class=SpellE>sie</span> <span class=SpellE>noch</span> <span class=SpellE>Infos</span>
 <span class=SpellE>wie</span> Difficulty etc. rein)<br>
+CACHEID<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????????? </span>:<br>
+ARCHIVED<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????? </span>:<br>
+AVAILABLE<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????? </span>:
+<br>
 TRAVELBUG<span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????? </span>:
 Y or N <span class=SpellE>f?r</span> <span class=SpellE>Anwesenheit/Abwesenheit</span>
 von <span class=SpellE>TBs</span> <span class=SpellE>im</span> Cache&nbsp;<br>
@@ -364,7 +368,13 @@
 <span class=SpellE>Liste</span> <span class=SpellE>der</span> <span
 class=SpellE>TBs</span> : <br>
 SOLVER<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????????? </span>:
-Solver <span class=SpellE>Infos</span><br style='mso-special-character:line-break'>
+Solver <span class=SpellE>Infos</span><br>
+COUNTRY<span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????????? </span>:
+<span class=SpellE>Staat</span> <br>
+STATE<span style='mso-tab-count:9'>??????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+<span class=SpellE>Bundesland</span><br>
+HTML<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+TRUE / FALSE if description is html<br style='mso-special-character:line-break'>
 <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
 <![endif]><o:p></o:p></span></p>
 
@@ -391,11 +401,11 @@
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>LOGS<span
 style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
-the &lt;<span class=SpellE>tmpl_loop</span> LOGS &gt;, example see GCTemplate.html
-/ show cache in browser offline<br>
+the &lt;<span class=SpellE>tmpl_loop</span> LOGS &gt;, example see
+GCTemplate.html / show cache in browser offline<br>
 ICON<span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 name of the log picture<br>
-DATE<span style='mso-tab-count:1'>?? </span><span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+DATE<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 date of the log<br>
 LOGGER<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????????? </span>:
 name<br>
@@ -600,8 +610,8 @@
 style='mso-spacerun:yes'>? </span>you</span></span><span lang=EN-GB
 style='mso-ansi-language:EN-GB'> </span><span lang=EN-GB style='font-size:10.0pt;
 font-family:Arial;mso-ansi-language:EN-GB'>place &lt;<span class=SpellE>tmpl_var</span>&gt;s.<b
-style='mso-bidi-font-weight:normal'> The only loop used by the template
-exporter is '<span class=SpellE>cache_index</span>', see example above. </b></span><span
+style='mso-bidi-font-weight:normal'> The only loop used by the template exporter
+is '<span class=SpellE>cache_index</span>', see example above. </b></span><span
 lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
@@ -639,8 +649,8 @@
 if both __FIRST__ and __LAST__ are false<br>
 __COUNTER__<span style='mso-tab-count:1'> </span></span><span lang=EN-GB
 style='mso-ansi-language:EN-GB'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB
-style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>Which
-iteration is currently on. Starts at 1<br style='mso-special-character:line-break'>
+style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>Which iteration
+is currently on. Starts at 1<br style='mso-special-character:line-break'>
 <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
 <![endif]></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 

Added: trunk/res_noewe/templates/pq.tpl
===================================================================
--- trunk/res_noewe/templates/pq.tpl	2010-06-13 21:42:58 UTC (rev 2603)
+++ trunk/res_noewe/templates/pq.tpl	2010-06-13 21:45:37 UTC (rev 2604)
@@ -0,0 +1,58 @@
+<tmpl_par name="charset" value="UTF8">
+<tmpl_par name="newline" value="CRLF">
+<tmpl_par name="decsep" value=".">
+<tmpl_par name="Out" value="*.gpx">
+<?xml version="1.0" encoding="utf-8"?<br>
+<gpx xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" version="1.0" creator="Groundspeak Pocket Query" xsi:schemaLocation="http://www.topografix.com/GPX/1/0 http://www.topografix.com/GPX/1/0/gpx.xsd http://www.groundspeak.com/cache/1/0/1 http://www.groundspeak.com/cache/1/0/1/cache.xsd" xmlns="http://www.topografix.com/GPX/1/0"><br>
+  <name><tmpl_var NAME></name><br>
+  <desc>Geocache file generated by Groundspeak</desc><br>
+  <author>Groundspeak</author><br>
+  <email>contact at cachewolf.de</email><br>
+  <keywords>cache, geocache, groundspeak</keywords><br>
+<tmpl_loop cache_index>
+  <tmpl_if __FIRST__><time><tmpl_var NOW_DATE>T<tmpl_var NOW_TIME>:00Z</time><br>
+  </tmpl_if>
+<wpt lat="<tmpl_var LAT>" lon="<tmpl_var LON>"><br>
+    <time><tmpl_var DATE>T07:00:00Z</time><br>
+    <name><tmpl_var WAYPOINT></name><br>
+    <desc><tmpl_var NAME> (<tmpl_var DIFFICULTY>/<tmpl_var TERRAIN>)</desc><br>
+    <url><tmpl_var URL></url><br>
+    <urlname><tmpl_var NAME></urlname><br>
+    <sym><tmpl_var SYM></sym><br>
+    <type><tmpl_var TYPE></type><br>
+    <groundspeak:cache id="<tmpl_var CACHEID>" available="<tmpl_var AVAILABLE>" archived="<tmpl_var ARCHIVED>" xmlns:groundspeak="http://www.groundspeak.com/cache/1/0/1"><br>
+      <groundspeak:name><tmpl_var NAME></groundspeak:name><br>
+      <groundspeak:placed_by><tmpl_var OWNER></groundspeak:placed_by><br>
+      <groundspeak:owner id="31415"><tmpl_var OWNER></groundspeak:owner><br>
+      <groundspeak:type><tmpl_var GSTYPE></groundspeak:type><br>
+      <groundspeak:container><tmpl_var SIZE></groundspeak:container><br>
+      <groundspeak:attributes><br>
+        <tmpl_loop ATTRIBUTES>
+        <groundspeak:attribute id="<tmpl_var GCID>" inc="<tmpl_var INC>"><tmpl_var INFO></groundspeak:attribute><br>
+        </tmpl_loop>
+       </groundspeak:attributes><br>
+      <groundspeak:difficulty><tmpl_var DIFFICULTY></groundspeak:difficulty><br>
+      <groundspeak:terrain><tmpl_var TERRAIN></groundspeak:terrain><br>
+      <groundspeak:country><tmpl_var COUNTRY></groundspeak:country><br>
+      <groundspeak:state><tmpl_var STATE></groundspeak:state><br>
+      <groundspeak:short_description html="<tmpl_var HTML>"><tmpl_var NAME> (<tmpl_var DIFFICULTY>/<tmpl_var TERRAIN>)</groundspeak:short_description><br>
+      <groundspeak:long_description html="<tmpl_var HTML>"<tmpl_var DESCRIPTION></groundspeak:long_description><br>
+      <groundspeak:encoded_hints><tmpl_var DESCRYPTEDHINTS></groundspeak:encoded_hints><br>
+      <groundspeak:logs><br>
+        <groundspeak:log id="<tmpl_var WAYPOINT>0"><br>
+          <groundspeak:finder id="0">CacheWolf</groundspeak:finder><br>
+          <groundspeak:text encoded="False"><tmpl_loop ATTRIBUTES>&lt;br /&gt;<tmpl_var INC2TXT>&amp;nbsp;:<tmpl_var INFO>&lt;br /&gt;</tmpl_loop></groundspeak:text><br>
+        </groundspeak:log><br>
+      <tmpl_loop LOGS>  <groundspeak:log id="<tmpl_var WAYPOINT><tmpl_var __COUNTER__>"><br>
+          <groundspeak:date><tmpl_var DATE>T19:00:00Z</groundspeak:date><br>
+          <groundspeak:type><tmpl_var LOGTYPE></groundspeak:type><br>
+          <groundspeak:finder id="0"><tmpl_var LOGGER></groundspeak:finder><br>
+          <groundspeak:text encoded="False"><tmpl_var MESSAGE></groundspeak:text><br>
+        </groundspeak:log><br>
+      </tmpl_loop></groundspeak:logs><br>
+      <groundspeak:travelbugs /><br>
+    </groundspeak:cache><br>
+  </wpt><br>
+</tmpl_loop>
+</gpx><br>
+

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-13 21:42:58 UTC (rev 2603)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-13 21:45:37 UTC (rev 2604)
@@ -633,12 +633,19 @@
 		varParams.put("GMTYPE", gm != null ? gm.getIcon(this) : "");
 		varParams.put("NOW_DATE",nowdate().setToCurrentTime().toString());
 		varParams.put("NOW_TIME",nowtime().setToCurrentTime().toString());
+		varParams.put("CACHEID", GetCacheID());
+		varParams.put("AVAILABLE", available ? "TRUE" : "FALSE");
+		varParams.put("ARCHIVED", archived ? "TRUE" : "FALSE");
+		varParams.put("HTML", html ? "TRUE" : "FALSE");
+		//() ? TRUE : FALSE
 		if (det == null){
 			varParams.put("URL", "");
 			varParams.put("DESCRIPTION", "");
 			varParams.put("NOTES", "");
 			varParams.put("HINTS", "");
 			varParams.put("DECRYPTEDHINTS", "");
+			varParams.put("COUNTRY", "");
+			varParams.put("STATE", "");
 		}
 		else {
 			varParams.put("URL", det.URL);
@@ -675,6 +682,8 @@
 			}
 			if (det.Travelbugs.size()>0) varParams.put("BUGS",det.Travelbugs.toHtml());
 			if (det.getSolver()!=null && det.getSolver().trim().length()>0) varParams.put("SOLVER", STRreplace.replace(det.getSolver(),"\n","<br/>\n"));
+			varParams.put("COUNTRY", det.Country);
+			varParams.put("STATE", det.State);
 			
 			// attributes
 			if (det.attributes.count()>0) {
@@ -685,6 +694,7 @@
 					atts.put("IMAGE", det.attributes.getAttribute(i).getImageName());
 					atts.put("GCID", det.attributes.getAttribute(i).getGCId());
 					atts.put("INC", "" + det.attributes.getAttribute(i).getInc());
+					atts.put("INC2TXT", det.attributes.getAttribute(i).getInc()==1 ? "YES:" : "NO:");
 					if (i % 5 ==4)
 						atts.put("BR","<br/>");
 					else
@@ -699,13 +709,17 @@
 			for (int i=0; i<det.CacheLogs.size(); i++) {
 				Hashtable logs=new Hashtable();
 				if (det.CacheLogs.getLog(i).getIcon().equals("MAXLOG")) {
+					logs.put("WAYPOINT", wayPoint);
 					logs.put("ICON","");
+					logs.put("LOGTYPE","");
 					logs.put("DATE", "");
 					logs.put("LOGGER", "");
 					logs.put("MESSAGE", "<hr>"+MyLocale.getMsg(736,"Too many logs")+"<hr>");
 				}
 				else {
+					logs.put("WAYPOINT", wayPoint);
 					logs.put("ICON",det.CacheLogs.getLog(i).getIcon());
+					logs.put("LOGTYPE",image2TypeText(det.CacheLogs.getLog(i).getIcon()));
 					logs.put("DATE", det.CacheLogs.getLog(i).getDate());
 					logs.put("LOGGER", det.CacheLogs.getLog(i).getLogger());
 					logs.put("MESSAGE", STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),"http://www.geocaching.com/images/icons/",null));
@@ -719,6 +733,47 @@
 	}	
 
 	/**
+	 * generate a gc.com compatible string representation of log derived from the internally stored image
+	 * @param image name of the image to display
+	 * @return log type. will default to "Write note" for unknown logtypes
+	 */
+	public static final String image2TypeText(String image) {
+		if (image.equals("icon_smile.gif"))
+			return "Found it";
+		if (image.equals("icon_sad.gif"))
+			return "Didn't find it";
+		if (image.equals("icon_note.gif"))
+			return "Write note";
+		if (image.equals("icon_enabled.gif"))
+			return "Enable Listing";
+		if (image.equals("icon_disabled.gif"))
+			return "Temporarily Disable Listing";
+		if (image.equals("icon_camera.gif"))
+			return "Webcam Photo Taken";
+		if (image.equals("icon_attended.gif"))
+			return "Attended";
+		if (image.equals("icon_greenlight.gif"))
+			return "Publish Listing";
+		if (image.equals("icon_rsvp.gif"))
+			return "Will Attend";
+		if (image.equals("big_smile.gif"))
+			return "Post Reviewer Note";
+		if (image.equals("traffic_cone.gif"))
+			return "Archive";
+		if (image.equals("icon_maint.gif"))
+			return "Owner Maintenance";
+		if (image.equals("icon_needsmaint.gif"))
+			return "Needs Maintenance";
+		if (image.equals("coord_update.gif"))
+			return "Update Coordinates";
+		if (image.equals("icon_remove.gif"))
+			return "Needs Archived";
+		if (image.equals("icon_redlight.gif"))
+			return "Retract Listing";
+		return "unknown logtype " + image;
+	}
+
+	/**
 	 * Modify the image links in the long description so that they point to image files in the local directory
 	 * Also copy the image file to the target directory so that it can be displayed.
 	 * @param chD CacheHolderDetail

Modified: trunk/src/CacheWolf/exp/GpxExportNg.java
===================================================================
--- trunk/src/CacheWolf/exp/GpxExportNg.java	2010-06-13 21:42:58 UTC (rev 2603)
+++ trunk/src/CacheWolf/exp/GpxExportNg.java	2010-06-13 21:45:37 UTC (rev 2604)
@@ -750,7 +750,7 @@
 		Transformer trans = new Transformer(true);
 		trans.add(new Regex("@@LOGID@@", logId));
 		trans.add(new Regex("@@LOGDATE@@", log.getDate()));
-		trans.add(new Regex("@@LOGTYPE@@", image2TypeText(log.getIcon())));
+		trans.add(new Regex("@@LOGTYPE@@", CacheHolder.image2TypeText(log.getIcon())));
 		trans.add(new Regex("@@LOGFINDERID@@", FinderID));
 		trans.add(new Regex("@@LOGFINDER@@", SafeXML.cleanGPX(log.getLogger())));
 		trans.add(new Regex("@@LOGENCODE@@", ""));
@@ -826,49 +826,6 @@
 	}
 
 	/**
-	 * generate a gc.com compatible string representation of log derived from the internally stored image
-	 * @param image name of the image to display
-	 * @return log type. will default to "Write note" for unknown logtypes
-	 */
-	private String image2TypeText(String image) {
-		if (image.equals("icon_smile.gif"))
-			return "Found it";
-		if (image.equals("icon_sad.gif"))
-			return "Didn't find it";
-		if (image.equals("icon_note.gif"))
-			return "Write note";
-		if (image.equals("icon_enabled.gif"))
-			return "Enable Listing";
-		if (image.equals("icon_disabled.gif"))
-			return "Temporarily Disable Listing";
-		if (image.equals("icon_camera.gif"))
-			return "Webcam Photo Taken";
-		if (image.equals("icon_attended.gif"))
-			return "Attended";
-		if (image.equals("icon_greenlight.gif"))
-			return "Publish Listing";
-		if (image.equals("icon_rsvp.gif"))
-			return "Will Attend";
-		if (image.equals("big_smile.gif"))
-			return "Post Reviewer Note";
-		if (image.equals("traffic_cone.gif"))
-			return "Archive";
-		if (image.equals("icon_maint.gif"))
-			return "Owner Maintenance";
-		if (image.equals("icon_needsmaint.gif"))
-			return "Needs Maintenance";
-		if (image.equals("coord_update.gif"))
-			return "Update Coordinates";
-		if (image.equals("icon_remove.gif"))
-			return "Needs Archived";
-		if (image.equals("icon_redlight.gif"))
-			return "Retract Listing";
-		Global.getPref().log("GPX Export: warning - unknown logtype " + image + " was changed to 'Write note'");
-		exportErrors++;
-		return "Write note";
-	}
-
-	/**
 	 * create a position information suitable for a gc.com PQlike export
 	 *
 	 * @param pos



From admin at berlios.de  Mon Jun 14 00:55:41 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 00:55:41 +0200 (CEST)
Subject: [Bug #17063] Statusnderung von Caches
Message-ID: <201006132255.o5DMtfYo020550@unicorn.berlios.de>

Bug #17063, was updated on 2010-Apr-07 10:27
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Open
Resolution: None
Bug Group: Bug reproduceable
Priority: 5
Submitted by: rstweb
Assigned to : none
Summary: Status?nderung von Caches

Details: Wenn ein Status eines Caches ge?ndert wird (sowohl durch Aktualisierung von gc.com, als auch h?ndisch), wird nur der Status vom Hauptwegpunkt und vom Final-Wegpunkt ge?ndert, allerdings nicht von Stages.
Bei mehreren Caches getestet.

Follow-Ups:

Date: 2010-Jun-14 00:55
By: pfeffer

Comment:
ich w?sste nicht, warum das ein Bug sein sollte.
Wof?r w?re das wichtig?
-------------------------------------------------------

Date: 2010-Apr-07 10:29
By: rstweb

Comment:
Nachtrag: wenn ein Cache durch Abruf von gc.com aktualisiert wird, dann wird sogar nur der Status des Hauptwegpunktes ge?ndert.

Version: 1.1.2536
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17063&group_id=2211


From admin at berlios.de  Mon Jun 14 01:00:32 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 01:00:32 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17252] Wegpunktnamen Murks
Message-ID: <201006132300.o5DN0Wt9026191@unicorn.berlios.de>

Bug #17252, was updated on 2010-Jun-14 01:00
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: None
Bug Group: None
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: Wegpunktnamen Murks

Details: http://www.geoclub.de/viewtopic.php?f=40&t=45806

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17252&group_id=2211


From admin at berlios.de  Mon Jun 14 01:06:52 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 01:06:52 +0200 (CEST)
Subject: [Bug #17253] Layout fr die MovingMap im Querformat
Message-ID: <201006132306.o5DN6qoc003538@unicorn.berlios.de>

Bug #17253, was updated on 2010-Jun-14 01:06
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: None
Bug Group: None
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: Layout f?r die MovingMap im Querformat

Details: http://www.geoclub.de/viewtopic.php?f=40&t=35941&p=705919&hilit=querformat#p705919

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17253&group_id=2211


From admin at berlios.de  Mon Jun 14 01:08:46 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 01:08:46 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17254] GPS-Port Optionen besser als Button
	erkennbar machen
Message-ID: <201006132308.o5DN8kNH006332@unicorn.berlios.de>

Bug #17254, was updated on 2010-Jun-14 01:08
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: None
Bug Group: None
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: GPS-Port Optionen besser als Button erkennbar machen

Details: Im Forum haben wir immer wieder Fragen, weil jemand nicht gemerkt hat, dass im Einstellungsdialog der Button klickbar ist, der die aktuellen COM-Port-Einstellungen f?r den GPS-Empf?nger anzeigt.
Das Layout sollte so ge?ndert werden, dass das klarer wird.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17254&group_id=2211


From admin at berlios.de  Mon Jun 14 01:11:01 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 01:11:01 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17254] GPS-Port Optionen besser als Button
	erkennbar machen
Message-ID: <201006132311.o5DNB1oK009402@unicorn.berlios.de>

Bug #17254, was updated on 2010-Jun-14 01:08
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: None
Bug Group: Bug reproduceable
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: GPS-Port Optionen besser als Button erkennbar machen

Details: Im Forum haben wir immer wieder Fragen, weil jemand nicht gemerkt hat, dass im Einstellungsdialog der Button klickbar ist, der die aktuellen COM-Port-Einstellungen f?r den GPS-Empf?nger anzeigt.
Das Layout sollte so ge?ndert werden, dass das klarer wird.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17254&group_id=2211


From admin at berlios.de  Mon Jun 14 01:11:27 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 01:11:27 +0200 (CEST)
Subject: [Bug #17253] Layout fr die MovingMap im Querformat
Message-ID: <201006132311.o5DNBR8R010211@unicorn.berlios.de>

Bug #17253, was updated on 2010-Jun-14 01:06
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: None
Bug Group: Bug confirmed
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: Layout f?r die MovingMap im Querformat

Details: http://www.geoclub.de/viewtopic.php?f=40&t=35941&p=705919&hilit=querformat#p705919

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17253&group_id=2211


From admin at berlios.de  Mon Jun 14 01:11:40 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 01:11:40 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17252] Wegpunktnamen Murks
Message-ID: <201006132311.o5DNBeGU010583@unicorn.berlios.de>

Bug #17252, was updated on 2010-Jun-14 01:00
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: None
Bug Group: Bug confirmed
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: Wegpunktnamen Murks

Details: http://www.geoclub.de/viewtopic.php?f=40&t=45806

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17252&group_id=2211


From admin at berlios.de  Mon Jun 14 01:17:45 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 01:17:45 +0200 (CEST)
Subject: [Bug #17255] Fix fr Ewe-VM unter Windows: Exit code
Message-ID: <201006132317.o5DNHjXk021404@unicorn.berlios.de>

Bug #17255, was updated on 2010-Jun-14 01:17
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: None
Bug Group: None
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: Fix f?r Ewe-VM unter Windows: Exit code

Details: In der Ewe-VM f?r Windows wird der Exit code von externen Programmen nicht korrekt gelesen, sondern immer 1 zur?ckgegeben.

Siehe http://www.geoclub.de/viewtopic.php?f=40&t=35145&start=70

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17255&group_id=2211


From araber95 at mail.berlios.de  Mon Jun 14 10:23:13 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 14 Jun 2010 10:23:13 +0200
Subject: [Cachewolf-svn] r2605 - trunk/src/CacheWolf/exp
Message-ID: <201006140823.o5E8NDTp013057@sheep.berlios.de>

Author: araber95
Date: 2010-06-14 10:23:10 +0200 (Mon, 14 Jun 2010)
New Revision: 2605

Modified:
   trunk/src/CacheWolf/exp/KMLExporter.java
   trunk/src/CacheWolf/exp/TomTomExporter.java
Log:
using default exporticons for TomTom and GoogleEarth(kml) if no own exists. copy of zip for usage not longer needed.

Modified: trunk/src/CacheWolf/exp/KMLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/KMLExporter.java	2010-06-13 21:45:37 UTC (rev 2604)
+++ trunk/src/CacheWolf/exp/KMLExporter.java	2010-06-14 08:23:10 UTC (rev 2605)
@@ -226,8 +226,13 @@
 	}
 
 	public void copyIcons(String dir){
+		ZipFile zif=null;
 		try {
-			ZipFile zif = new ZipFile (FileBase.getProgramDirectory() + FileBase.separator + "exporticons" + FileBase.separator + "GoogleEarth.zip");
+			zif = new ZipFile (FileBase.getProgramDirectory() + FileBase.separator + "exporticons" + FileBase.separator + "GoogleEarth.zip");
+		} catch (IOException e) {
+		}
+		try {
+			zif = new ZipFile (FileBase.getProgramDirectory() + FileBase.separator + "exporticons" + FileBase.separator + "exporticons" + FileBase.separator + "GoogleEarth.zip");
 			ZipEntry zipEnt;
 			int len;
 			String fileName;

Modified: trunk/src/CacheWolf/exp/TomTomExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/TomTomExporter.java	2010-06-13 21:45:37 UTC (rev 2604)
+++ trunk/src/CacheWolf/exp/TomTomExporter.java	2010-06-14 08:23:10 UTC (rev 2605)
@@ -248,8 +248,14 @@
 	}
 	
 	public void copyIcon(int intWayType, String prefix, String typeName){
+		ZipFile zif=null;
 		try {
-			ZipFile zif = new ZipFile (FileBase.getProgramDirectory() + FileBase.separator+"exporticons"+FileBase.separator+"TomTom.zip");
+			zif = new ZipFile (FileBase.getProgramDirectory() + FileBase.separator+"exporticons"+FileBase.separator+"TomTom.zip");
+		} catch (IOException e) {}
+		try {
+			if (zif == null) {
+				zif = new ZipFile (FileBase.getProgramDirectory() + FileBase.separator+"exporticons"+ FileBase.separator+"exporticons"+FileBase.separator+"TomTom.zip");
+			}
 			ZipEntry zipEnt;
 			int len;
 			String entName; 



From admin at berlios.de  Mon Jun 14 10:35:30 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 10:35:30 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17257] Trackpunkte in Karte fehlen
Message-ID: <201006140835.o5E8ZUir027743@unicorn.berlios.de>

Bug #17257, was updated on 2010-Jun-14 10:35
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Map
Status: Open
Resolution: None
Bug Group: Bug reproduceable
Priority: 5
Submitted by: mik77
Assigned to : none
Summary: Trackpunkte in Karte fehlen

Details: Wenn man w?hrend man unterwegs ist, die Karte schlie?t und eine Weile sp?ter wieder ?ffnet, werden f?r den dazwischen liegenden Weg keine Trackpunkte angezeigt. Meine Meinung nach hatte dies fr?her funktioniert.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17257&group_id=2211


From admin at berlios.de  Mon Jun 14 10:42:29 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 10:42:29 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17258] Automatische Zoomstufenauswahl
	funktioniert nicht
Message-ID: <201006140842.o5E8gTDP004892@unicorn.berlios.de>

Bug #17258, was updated on 2010-Jun-14 10:42
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Map
Status: Open
Resolution: None
Bug Group: Bug reproduceable
Priority: 5
Submitted by: mik77
Assigned to : none
Summary: Automatische Zoomstufenauswahl funktioniert nicht

Details: Wenn man in der Karte die Default-Option "H?chster Detailgrad m. aktueller u. Zielpos." w?hlt, wird die Zoomstufe bisher anhand der Kacheln ausgew?hlt. Durch die M?glichkeit mehrere Kacheln anzuzeigen und die Verwendung verschiedener Display- und Kachelgr??en ist dies nicht (mehr) sinnvoll.

Es sollte die h?chste Zommstufe gew?hlt werden, bei der die Entfernung zum Ziel noch auf die l?ngere Seite des Displays passt.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17258&group_id=2211


From admin at berlios.de  Mon Jun 14 10:46:24 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 10:46:24 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17259] "Liste sortiert halten" funktioniert
	nur in bestimmten Situa
Message-ID: <201006140846.o5E8kOwb008871@unicorn.berlios.de>

Bug #17259, was updated on 2010-Jun-14 10:46
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Open
Resolution: None
Bug Group: Bug reproduceable
Priority: 2
Submitted by: mik77
Assigned to : none
Summary: "Liste sortiert halten" funktioniert nur in bestimmten Situa

Details: Die Funktion die Liste sortiert zu halten, funktioniert nur nach bestimmten Aktionen, wie der ?nderung des Zentrums.

Nach Aktionen wie "Filter aufheben" oder einem Import ist die Liste, obwohl diese Funktion aktiv ist, nicht sortiert.

Dies hat bei bestimmten Arbeitsweisen auch Vorteile. Deswegen die Frage: Bug oder Feature?

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17259&group_id=2211


From araber95 at mail.berlios.de  Mon Jun 14 10:52:07 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 14 Jun 2010 10:52:07 +0200
Subject: [Cachewolf-svn] r2606 - trunk/src/CacheWolf/imp
Message-ID: <201006140852.o5E8q7Ke014430@sheep.berlios.de>

Author: araber95
Date: 2010-06-14 10:52:06 +0200 (Mon, 14 Jun 2010)
New Revision: 2606

Modified:
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
1) little enhancement for debug of spider.

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-06-14 08:23:10 UTC (rev 2605)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-06-14 08:52:06 UTC (rev 2606)
@@ -167,6 +167,7 @@
 	private int numArchivedUpdates=0;
 	private int numAvailableUpdates=0;
 	private int numLogUpdates=0;
+	private int numPrivate=0;
 
 	public SpiderGC(Preferences prf, Profile profile, boolean bypass){
 		this.profile=profile;
@@ -369,7 +370,10 @@
 								if (CacheDescriptionGC.indexOf(propFound)!=-1) chWaypoint=chWaypoint+"found";
 							cachesToLoad.add(chWaypoint);
 							}
-							else {cachesToUpdate.remove( chWaypoint );}
+							else {
+								pref.log("no load of : " + chWaypoint);
+								cachesToUpdate.remove( chWaypoint );
+								}
 						}
 						else {
 							if (maxUpdate>0) {
@@ -398,7 +402,15 @@
 				} // next Cache
 				infB.setInfo(MyLocale.getMsg(5521,"Page ") + page_number + "\n" +
 							 MyLocale.getMsg(5511,"Found ") + cachesToLoad.size() + MyLocale.getMsg(5512," caches"));
-				if(found_on_page < 20) maxDistance = 0; // last page (has less than 20 entries!?) to check reached
+				if(found_on_page < 20) {
+					if (spiderAllFinds) {
+						// check all pages ( seen a gc-account with found_on_page less 20 and not on end )
+						if (((page_number-1)*20+found_on_page) >= numFinds) {
+							maxDistance = 0;
+						}
+					}
+					else maxDistance = 0; // last page (has less than 20 entries!?) to check reached
+				}
 				if(maxDistance > 0){getNextListPage();}
 			} // loop pages
 		} // try
@@ -412,7 +424,7 @@
 		infB.setInfo(MyLocale.getMsg(5511,"Found ") + cachesToLoad.size() + MyLocale.getMsg(5512," caches"));
 
 		pref.log("Checked " + page_number + " pages");
-		pref.log("with " + ((page_number-1)*20+found_on_page-1) + " caches");
+		pref.log("with " + ((page_number-1)*20+found_on_page) + " caches");
 		pref.log("Found " + cachesToLoad.size() + " new caches");
 		pref.log("Found " + cachesToUpdate.size() + "/" + cachesShouldUpdate.size() + " caches for update");
 		if(spiderAllFinds){
@@ -423,6 +435,7 @@
 		pref.log("Found " + numLogUpdates + " caches with new found in log.");
 		pref.log("Found " + (cachesToUpdate.size()-numAvailableUpdates-numLogUpdates) + " caches possibly archived.");
 		pref.log("Found " + cachesShouldUpdate.size() + "?=" + (numFoundUpdates+numArchivedUpdates+numAvailableUpdates+numArchivedUpdates) + " caches to update.");
+		pref.log("Found " + numPrivate + " Premium Caches (for non Premium Member.)");
 
 		//=======
 		// Now ready to spider each cache in the list
@@ -875,7 +888,7 @@
 		CacheHolderDetail chd = ch.getCacheDetails(false);
 		if (spiderAllFinds) {
 			if(!ch.is_found()) { ch.setFound(true); save=true; numFoundUpdates+=1; ret=true;}
-			is_archived_GC=CacheDescription.indexOf(propArchived)!=-1;
+			is_archived_GC=CacheDescription.indexOf(propArchived) != -1;
 			if (is_archived_GC!=ch.is_archived()) { ch.setArchived(is_archived_GC); save=true; numArchivedUpdates+=1; ret=true;}
 		} else if (!doNotgetFound){ // there could be a found or own ...
 			is_found_GC=CacheDescription.indexOf(propFound)!=-1;
@@ -888,7 +901,7 @@
 		if (typeChanged(ch,CacheDescription)) { save=true; ret=true;}
 		if (sizeChanged(ch,CacheDescription)) { save=true; ret=true;}
 		if (difficultyOrTerrainChanged(ch,CacheDescription)) {save=true; ret=true;}
-		if (newFoundExists(ch,CacheDescription)) {numLogUpdates+=1; ret=true;}
+		if (newFoundExists(ch,CacheDescription)) {numLogUpdates++; ret=true;}
 		if (save) ch.save();
 		return ret;
 	}
@@ -946,7 +959,13 @@
 	 */
 	private boolean doPMCache(String toCheck) {
 		if (pref.isPremium) return true;
-		return toCheck.indexOf(propPM) <= 0;
+		if (toCheck.indexOf(propPM) <= 0) {
+			return true;
+		}
+		else {
+			numPrivate=numPrivate+1;
+			return false;			
+		}
 	}
 	/*
 	 * check for changed Cachetype



From araber95 at mail.berlios.de  Mon Jun 14 10:59:07 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 14 Jun 2010 10:59:07 +0200
Subject: [Cachewolf-svn] r2607 - trunk/src/CacheWolf
Message-ID: <201006140859.o5E8x7co014882@sheep.berlios.de>

Author: araber95
Date: 2010-06-14 10:59:06 +0200 (Mon, 14 Jun 2010)
New Revision: 2607

Modified:
   trunk/src/CacheWolf/Rebuild.java
Log:
simplifying Rebuild, searching the missing memory. (result : it is not in the CW Code)

Modified: trunk/src/CacheWolf/Rebuild.java
===================================================================
--- trunk/src/CacheWolf/Rebuild.java	2010-06-14 08:52:06 UTC (rev 2606)
+++ trunk/src/CacheWolf/Rebuild.java	2010-06-14 08:59:06 UTC (rev 2607)
@@ -2,119 +2,122 @@
 
 import CacheWolf.utils.FileBugfix;
 import ewe.io.FileBase;
+import ewe.io.FileInputStream;
 import ewe.io.FileReader;
+import ewe.io.IOException;
 import ewe.sys.Handle;
-import ewe.ui.FormBase;
-import ewe.ui.MessageBox;
 import ewe.ui.ProgressBarForm;
 
 public class Rebuild {
 	private int cacheXmlVersion;
-	private int startOfCacheDetails;
 
 	public Rebuild() { // Public constructor
 	}
 
 	public void rebuild() {
 		int i;
-		Profile prof=Global.getProfile();
+		Profile prof = Global.getProfile();
+		CacheDB cacheDB=prof.cacheDB;
 
 		myProgressBarForm pbf = new myProgressBarForm();
 		Handle h = new Handle();
 
-		int orphans=0; // xml Files without entry in database : Changed to all entries!!!
-		int nAdded=0;  // caches added to database
-		boolean checkOlder = false;
-		//MessageBox mBox = new MessageBox("", MyLocale.getMsg(5522,"Check for older Versions xml-Files ( without <CACHE... /> )") , FormBase.IDYES |FormBase.IDNO);
-		//if (mBox.execute() == FormBase.IDOK){checkOlder=true;}
-		//else {checkOlder=false;}
-		// still time consuming the list files
+		int count = 0;
+		int nAdded = 0;
 		pbf.setTask(h, "Reading Directory, be patient");
 		pbf.exec();
-		h.progress=(float) 0.5;
+		h.progress = (float) 0.5;
 		h.changed();
-		String[] CacheFiles = new FileBugfix(prof.dataDir).list("*.xml", FileBase.LIST_FILES_ONLY|FileBase.LIST_DONT_SORT);
-		pbf.setTask(h,"checking XML-files");
-		for (i=0; i<CacheFiles.length; i++) {
-				int pos=CacheFiles[i].lastIndexOf('.');
-				if (pos<0) continue;
-				String wayPoint=CacheFiles[i].substring(0,pos).toUpperCase();
-				if (wayPoint.equalsIgnoreCase("index"))	// Check for index.xml and index.bak
-					CacheFiles[i]=null;   				// Remove (existing caches) or index.xml
-				else {
-					//ewe.sys.Vm.debug("Orphan: "+wayPoint);
-					orphans++;
-					h.progress = ((float)(orphans)/(float)CacheFiles.length);
-					h.changed();
-					if (checkOlder) {
-						int cacheIndex=prof.getCacheIndex(wayPoint);
-						if (cacheIndex > -1) {
-							// In older Versions of CW the <CACHE... /> line was not stored in the cache.xml
-							// therefore get it from the index.xml (prof.cacheDB) and put it into the cache.xml
-							getCacheDetails(prof.dataDir+CacheFiles[i]);
-							if (startOfCacheDetails < 0) {
-								CacheHolder ch=prof.cacheDB.get(cacheIndex);
-								ch.save();
+		String[] CacheFiles = new FileBugfix(prof.dataDir).list("*.xml",FileBase.LIST_FILES_ONLY | FileBase.LIST_DONT_SORT);
+		pbf.setTask(h, "preparing XML-files");
+		for (i = 0; i < CacheFiles.length; i++) {
+			int pos = CacheFiles[i].lastIndexOf('.');
+			if (pos < 0)
+				continue;
+			String wayPoint = CacheFiles[i].substring(0, pos).toUpperCase();
+			if (wayPoint.equalsIgnoreCase("index")) CacheFiles[i] = null;
+			else {
+				count++;
+			}
+		}
+		cacheDB.clear();
+		Global.getPref().log("Start Rebuild!");
+		pbf.setTask(h, MyLocale.getMsg(209, "Rebuilding index"));
+		if (count > 0) {
+			int nProcessed = 0;
+			// Now do the actual work
+			String details="";
+			byte [] buff = new byte[10*1024];
+			StringBuffer str = new StringBuffer();
+			for (i = 0; i < CacheFiles.length; i++) {
+				if (CacheFiles[i] != null) {
+					
+					nProcessed++;
+					if (nProcessed%100==0) {
+						h.progress = ((float) nProcessed) / (float) (count);
+						h.changed();
+					}
+					int start=0;
+					boolean doit=true;
+					try {
+						FileInputStream in = new FileInputStream(prof.dataDir + CacheFiles[i]);
+
+						// details=in.readAll();
+						str.setLength(0);
+						while(true){
+							int got = in.read(buff,0,buff.length);
+							if (got == -1) { details = str.toString(); break; }
+							for (int j = 0; j < got; j++) {
+								str.append((char) buff[j]); 
 							}
-							// prof.cacheDB.removeElementAt(cacheIndex);
+
 						}
+						// end readAll substitute
+						in.close();
+
+						start = details.indexOf("<CACHE ");
+						if (start < 0) doit=false;
+						else if (details.indexOf("<CACHEDETAILS>") < 0) doit=false;					
 					}
-				}
-		}
-		prof.cacheDB.clear(); //easier than removeElementAt
-		pbf.setTask(h,MyLocale.getMsg(209,"Rebuilding index"));
-		if (orphans>0) { // At least one cache not in database
-			int nProcessed=0;
-			// Now do the actual work
-			for(i = 0; i<CacheFiles.length; i++){
-				if (CacheFiles[i]!=null) {
-					h.progress = ((float)nProcessed++)/(float)(orphans);
-					h.changed();
-					String details=getCacheDetails(prof.dataDir+CacheFiles[i]);
-					if (details!=null) {
-						CacheHolder ch=new CacheHolder(details, cacheXmlVersion);
-						prof.cacheDB.add(ch);
+					catch (IOException e) {
+						doit=false;
+					};
+					
+					if (doit) {
+						int end;
+						int vstart=details.indexOf("<VERSION value = \"");						
+						if (vstart >= 0) {
+							cacheXmlVersion = Integer.valueOf(details.substring(vstart + 18, details.indexOf("\"",vstart + 18))).intValue();
+						}
+						else {
+							cacheXmlVersion = 1;
+						}
+						end = details.indexOf("/>", start);
+						CacheHolder ch = new CacheHolder(details.substring(start, end + 2),cacheXmlVersion);
+						cacheDB.add(ch);
 						nAdded++;
-						CacheFiles[i]=null;
-					} else Global.getPref().log("File "+CacheFiles[i]+" not in index.xml");
+						Global.getPref().log(ch.getWayPoint() + " added. (" + nAdded + ")");
+						// CacheFiles[i] = null;
+					} else
+						Global.getPref().log("File " + CacheFiles[i] + " not entered to index.xml");
+						;
 				}
-				if (pbf.isClosed) break;
+				if (pbf.isClosed)
+					break;
 			}
 			prof.buildReferences();
-			prof.saveIndex(Global.getPref(),true);
+			prof.saveIndex(Global.getPref(), true);
 		}
 		pbf.exit(0);
 	}
 
-	private String getCacheDetails(String xmlFile) {
-		try {
-			FileReader in = new FileReader(xmlFile);
-			String text= in.readAll();
-			in.close();
-			int start,end;
-			int vstart;
-			cacheXmlVersion = 1; // Initial guess
-			// Check that we have not accidentally listed another xml file in the directory
-			startOfCacheDetails=text.indexOf("<CACHE ");
-			if ((start=startOfCacheDetails)<0) return null;
-			if (text.indexOf("<CACHEDETAILS>")<0) return null; // startOfCacheDetails must be set in advance
-			if ((vstart = text.indexOf("<VERSION value = \"")) >= 0) {
-				cacheXmlVersion = Integer.valueOf(text.substring(vstart+18, text.indexOf("\"", vstart+18))).intValue();
-			}
-			end=text.indexOf("/>",start);
-			return text.substring(start,end+2);
-		} catch (Exception ex) {
-			return null;
+	class myProgressBarForm extends ProgressBarForm {
+		boolean isClosed = false;
+
+		protected boolean canExit(int exitCode) {
+			isClosed = true;
+			return true;
 		}
 	}
 
-	class myProgressBarForm extends ProgressBarForm {
-		 boolean isClosed=false;
-		 protected boolean canExit(int exitCode) {
-			isClosed=true;
-			return true;
-		 }
-	 }
-
-
 }



From araber95 at mail.berlios.de  Mon Jun 14 11:34:12 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 14 Jun 2010 11:34:12 +0200
Subject: [Cachewolf-svn] r2608 - in trunk: res_noewe/languages src/CacheWolf
Message-ID: <201006140934.o5E9YCD4016723@sheep.berlios.de>

Author: araber95
Date: 2010-06-14 11:34:07 +0200 (Mon, 14 Jun 2010)
New Revision: 2608

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/MainMenu.java
Log:
showing more obvious that GPSBabel is not installed in CW-directory .

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-06-14 08:59:06 UTC (rev 2607)
+++ trunk/res_noewe/languages/DE.cfg	2010-06-14 09:34:07 UTC (rev 2608)
@@ -51,7 +51,7 @@
 		119=Suche nach:
 		120=Anwendung
 		121=Profil
-		122=zu Garmin
+		122=zum GPS mit GPSBabel
 		123=zu CacheMate
 		124=nach OZI
 		125=nach Google Earth
@@ -65,6 +65,7 @@
 		133=Suche alle
 		134=Gew%e4hlter Cache
 		135=nach SpoilerPOI
+		136=zum GPS: installiere GPSBabel
 		139=Travelbugs verwalten
 		140=Verwalten
 		141=Kopieren

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-06-14 08:59:06 UTC (rev 2607)
+++ trunk/res_noewe/languages/EN.cfg	2010-06-14 09:34:07 UTC (rev 2608)
@@ -65,6 +65,7 @@
 		133=Search all
 		134=Selected Cache
 		135=to SpoilerPOI
+		136=to GPS : gpsbabel missing.
 		139=Manage Travelbugs
 		140=Organise
 		141=Copy

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-06-14 08:59:06 UTC (rev 2607)
+++ trunk/res_noewe/languages/FR.cfg	2010-06-14 09:34:07 UTC (rev 2608)
@@ -65,6 +65,7 @@
 		133=Cherche toutes
 		134=Cache choisi
 		135=vers SpoilerPOI
+		136=to GPS : gpsbabel missing.
 		139=G%e9rer Travelbugs
 		140=G%e9rer
 		141=Copier

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-06-14 08:59:06 UTC (rev 2607)
+++ trunk/res_noewe/languages/NL.cfg	2010-06-14 09:34:07 UTC (rev 2608)
@@ -65,6 +65,7 @@
 		133=Allen zoeken
 		134=Gekozen Cache
 		135=Naar SpoilerPOI
+		136=to GPS : gpsbabel missing.
 		139=Beheren Travelbugs
 		140=Organiseren
 		141=Kopi%ebren

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-06-14 08:59:06 UTC (rev 2607)
+++ trunk/res_noewe/languages/PL.cfg	2010-06-14 09:34:07 UTC (rev 2608)
@@ -65,6 +65,7 @@
                 133=Szukaj wszystkich
                 134=Zaznaczony Cache
                 135=SpoilerPOI
+		136=to GPS : gpsbabel missing.
                 139=Zarzadzaj Travelbugami
                 140=Zarzadzanie
                 141=Kopiuj

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-06-14 08:59:06 UTC (rev 2607)
+++ trunk/res_noewe/languages/SV.cfg	2010-06-14 09:34:07 UTC (rev 2608)
@@ -65,6 +65,7 @@
         	133=S%f6k alla
         	134=Valda Cache
         	135=till SpoilerPOI
+		136=to GPS : gpsbabel missing.
         	139=Hantera Travelbugs
         	140=Sortera
         	141=Kopiera

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2010-06-14 08:59:06 UTC (rev 2607)
+++ trunk/src/CacheWolf/MainMenu.java	2010-06-14 09:34:07 UTC (rev 2608)
@@ -115,7 +115,8 @@
 		exitems[7] = exportLOC = new MenuItem(MyLocale.getMsg(215,"to LOC"));
 		exitems[8] = exportGPS = new MenuItem(MyLocale.getMsg(122,"to GPS"));
 		if ( Global.getPref().gpsbabel == null ) {
-			exitems[8].modifiers = MenuItem.Disabled;
+			exportGPS.modifiers = MenuItem.Disabled;
+			exportGPS.setText(MyLocale.getMsg(136,"to GPS : gpsbabel missing."));
 		}
 		exitems[9] = exportOZI = new MenuItem(MyLocale.getMsg(124,"to OZI"));
 		exitems[10] = exportKML = new MenuItem(MyLocale.getMsg(125,"to Google Earth"));



From mik77 at mail.berlios.de  Mon Jun 14 11:36:27 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Mon, 14 Jun 2010 11:36:27 +0200
Subject: [Cachewolf-svn] r2609 - in branches/bugfix_1.0: res_noewe
	res_noewe/languages src/CacheWolf
Message-ID: <201006140936.o5E9aRKG016746@sheep.berlios.de>

Author: mik77
Date: 2010-06-14 11:36:18 +0200 (Mon, 14 Jun 2010)
New Revision: 2609

Modified:
   branches/bugfix_1.0/res_noewe/languages/DE.cfg
   branches/bugfix_1.0/res_noewe/languages/EN.cfg
   branches/bugfix_1.0/res_noewe/spider.def
   branches/bugfix_1.0/src/CacheWolf/DateFormat.java
   branches/bugfix_1.0/src/CacheWolf/SpiderGC.java
Log:
Changes from trunk for new GC design

Modified: branches/bugfix_1.0/res_noewe/languages/DE.cfg
===================================================================
--- branches/bugfix_1.0/res_noewe/languages/DE.cfg	2010-06-14 09:34:07 UTC (rev 2608)
+++ branches/bugfix_1.0/res_noewe/languages/DE.cfg	2010-06-14 09:36:18 UTC (rev 2609)
@@ -722,7 +722,7 @@
 		5512=+Caches
 		5513=Laden von:+
 		5514=%0aTravelbug:+ 
-		5515=Fehler beim Laden des Caches.%0aBitte %fcberpr%fcfen Sie Ihre Internetverbindung.%0aNoch einmal versuchen?
+		5515=Fehler beim Laden des Caches.%0aBitte %fcberpr%fcfen Sie Ihre Internetverbindung und ob als Sprache bei GC.com English ausgew%e4hlt ist.%0aNoch einmal versuchen?
 		5516=+Cachebeschreibungen%0akonnten nicht geladen werden.
 		6000=Guid
 		6001=Name

Modified: branches/bugfix_1.0/res_noewe/languages/EN.cfg
===================================================================
--- branches/bugfix_1.0/res_noewe/languages/EN.cfg	2010-06-14 09:34:07 UTC (rev 2608)
+++ branches/bugfix_1.0/res_noewe/languages/EN.cfg	2010-06-14 09:36:18 UTC (rev 2609)
@@ -711,7 +711,7 @@
 		5512=+caches
 		5513=Loading:+
 		5514=%0aGetting bug:+
-		5515=Failed to load cache.%0aPlease check your internet connection.%0aRetry?
+		5515=Failed to load cache.%0aPlease check your internet connection and if the selected language at GC.com is English.%0aRetry?
 		5516=+cache descriptions%0acould not be loaded.
 		6000=Guid
 		6001=Name

Modified: branches/bugfix_1.0/res_noewe/spider.def
===================================================================
--- branches/bugfix_1.0/res_noewe/spider.def	2010-06-14 09:34:07 UTC (rev 2608)
+++ branches/bugfix_1.0/res_noewe/spider.def	2010-06-14 09:36:18 UTC (rev 2609)
@@ -27,6 +27,8 @@
 # Version 5.0 - 20091105 adaption to new GC-design
 # Version 6.0 - 20100113 adaption to new GC-design
 # Version 7.0 - 20100402 adaption to new GC-design
+# Version 7.1 - 20100528 better description recognition
+# Version 8.0 - 20100604 adaption to new GC-design
 #============================================================
 # A suffix of Rex indicates a regular expression
 # A suffix of ExStart indicates the start of an Extractor search pattern
@@ -61,25 +63,25 @@
 #--------------------------------------
 getPageByName      = http://www.geocaching.com/seek/cache_details.aspx?wp=
 fetchAllLogs       = &log=y
-cacheUnavailable   = <ul\ class="OldWarning"><li>This\ cache\ is\ temporarily\ unavailable.\ Read\ the\ logs\ below\ to\ read\ the\ status\ for\ this\ cache.</li></ul></span>
-cacheArchived      = <ul\ class="OldWarning"><li>This\ cache\ has\ been\ archived,\ but\ is\ available\ for\ viewing\ for\ archival\ purposes.</li></ul></span>
+cacheUnavailable   = <ul\ class="OldWarning"><li>This\ cache\ is\ temporarily\ unavailable.\ Read\ the\ logs\ below\ to\ read\ the\ status\ for\ this\ cache.</li></ul>
+cacheArchived      = <ul\ class="OldWarning"><li>This\ cache\ has\ been\ archived,\ but\ is\ available\ for\ viewing\ for\ archival\ purposes.</li></ul>
 latLonRex          = <span\ id="ctl00_ContentBody_LatLon"\ style="font-weight:bold;">((?s).*?)</span>
 shortDescRex       = <span\ id="ctl00_ContentBody_ShortDescription">((?s).*?)</span>
-longDescRex        = <span\ id="ctl00_ContentBody_LongDescription">((?s).*?)<td\ valign="top"
+longDescRex        = tentBody_LongDescription">((?s).*?)<td\ valign="top"\ width="10%">\\s*&nbsp;\\s*</td
 cacheNameRex       = <span\ id="ctl00_ContentBody_CacheName">((?s).*?)</span>
-cacheOwnerRex      = <span\ id="ctl00_ContentBody_CacheOwner">by\ <a\ href=(?:(?s).*?)>((?s).*?)</a></span>
-dateHiddenRex      = <span\ id="ctl00_ContentBody_DateHidden">((?s).*?)</span>
+cacheOwnerRex      = <strong>\\s*A.*\\s*cache\\s*</strong>\\s*by\ <a\ href=(?:(?s).*?)>((?s).*?)</a>\\s*</td>
+dateHiddenRex      = <td>\\s*<strong>\\s*(?:Hidden|Event\ Date)\\s*:</strong>\\s*((?s).*?)\\s*(?:</td>|<a href=)
 hintsRex           = <div id="div_hint" class="HalfLeft">\\s*((?s).*?)\\s*</div>
 sizeRex            = alt="Size:\ ((?s).*?)"\ />&nbsp<small>
-difficultyRex      = <span\ id="ctl00_ContentBody_Difficulty">.*?alt="(.*?)\ out\ of
-terrainRex         = <span\ id="ctl00_ContentBody_Terrain">.*?alt="(.*?)\ out\ of
+difficultyRex      = <td>\\s*<strong>\\s*Difficulty:</strong>\\s*<img src=.*?alt="(.*?)\ out\ of
+terrainRex         = <td>\\s*<strong>\\s*Terrain:</strong>\\s*<img src=.*?alt="(.*?)\ out\ of
 cacheTypeRex       = /images/WptTypes/(.*?)\\.gif"\ alt="
 
 #--------------------------------------
 #Section2a: Logs
 #--------------------------------------
 # blockRex extrahiert zun?chst aus der gesamten Seite den Logbereich
-blockRex           = <table class="LogsTable Table">((?s).*?)</table></span></p>
+blockRex           = <table class="LogsTable Table">((?s).*?)<td></td></tr></table>
 # singleLogEx extrahiert in einer Schleife alle Logs aus dem Logbereich
 singleLogExStart   = ><strong><img src=
 singleLogExEnd     = <small><a\ href="
@@ -104,17 +106,20 @@
 #Section2b: Bugs
 #--------------------------------------
 # blockEx extrahiert zun?chst den Bugbereich aus der gesamten Seite
-blockExStart       = >&nbsp;Inventory</h3>
+blockExStart       = <span\ id="ctl00_ContentBody_uxTravelBugList_uxInventoryLabel">Inventory</span>
 blockExEnd         = <p class="NoSpacing">
 # bugEx extrahiert die Namen der einzelnen Bugs aus dem Bugbereich
 bugExStart         = <a\ href="
-bugExEnd           = </a></li>
+bugExEnd           = </a>
+bugLinkEnd         = "\ class="lnk">
+bugNameExStart     = <span>
+bugNameExEnd       = </span>
 bugDetailsStart    = id="ctl00_ContentBody_BugDetails_BugGoal">
 bugDetailsEnd      = </span>
-getBugByName       = www.geocaching.com/track/search.aspx?k=
-getBugByGuid       = www.geocaching.com/track/details.aspx?guid=
-getBugById         = www.geocaching.com/track/details.aspx?id=
-getBugByTrackNr    = www.geocaching.com/track/details.aspx?tracker=
+getBugByName       = http://www.geocaching.com/track/search.aspx?k=
+getBugByGuid       = http://www.geocaching.com/track/details.aspx?guid=
+getBugById         = http://www.geocaching.com/track/details.aspx?id=
+getBugByTrackNr    = http://www.geocaching.com/track/details.aspx?tracker=
 bugGuidExStart     = www.geocaching.com/track/details.aspx?id=
 bugGuidExEnd       = "
 bugNotFound        = No\ results\ were\ found\ for\ your\ search
@@ -131,32 +136,32 @@
 imgBlockExEnd      = >
 # imgSpanEx searches for images in the image section
 imgSpanExStart     = <span id="ctl00_ContentBody_Images">
-imgSpanExEnd       = </span></p>
+imgSpanExEnd       = </p>
 imgNameExStart     = "\ />\ <span>
 imgNameExEnd       = </span></a>
 imgSrcExStart      = <a\ href="http://
 imgSrcExEnd        = "\ rel="lightbox"
-imgCommentExStart  = </a><br\ />
-imgCommentExEnd    = <a\ href
+imgCommentExStart  = </a><br\ /><br\ />
+imgCommentExEnd    = <
 
 #--------------------------------------
 #Section2d: Additional waypoints
 #--------------------------------------
-wayBlockExStart    = <strong>Additional\ Waypoints</strong>
+wayBlockExStart    = <span\ id="ctl00_ContentBody_WaypointsInfo"\ style="font-weight:bold;">Additional\ Waypoints</span>
 wayBlockExEnd      = </table>
 nameRex            = &RefDS=1">(.*)</a>
-koordRex           = <td>([NSns]\ [0-9]{1,2}..[0-9]{1,2}.[0-9]{1,3}\ [EWew]\ [0-9]{1,3}..[0-9]{1,2}.[0-9]{1,3})</td>
-descRex            = colspan="4">((?:.|\n|\r)*?)</td>
-typeRex            = </a>\ \\((.*)\\)</td>
+koordRex           = <td>\\s*([NSns]\ [0-9]{1,2}..[0-9]{1,2}.[0-9]{1,3}\ [EWew]\ [0-9]{1,3}..[0-9]{1,2}.[0-9]{1,3})\\s*</td>
+descRex            = colspan="6">((?:.|\n|\r)*?)</td>
+typeRex            = </a>\ \\((.*)\\)\\s*</td>
 rowBlockExStart    = <tr
 rowBlockExEnd      = </tr>
-prefixExStart      = <td>
-prefixExEnd        = </td>
+prefixExStart      =
+prefixExEnd        =
 
 #--------------------------------------
 #Section2e: Attributes
 #--------------------------------------
-attBlockExStart = watching\ this\ cache.<br\ /></small>
+attBlockExStart = <div\ class="CacheDetailNavigationWidget\ Spacing">
 attBlockExEnd  = What\ are\ Attributes?</a></small></p>
 attExStart = /images/attributes/
 attExEnd = "\ alt="

Modified: branches/bugfix_1.0/src/CacheWolf/DateFormat.java
===================================================================
--- branches/bugfix_1.0/src/CacheWolf/DateFormat.java	2010-06-14 09:34:07 UTC (rev 2608)
+++ branches/bugfix_1.0/src/CacheWolf/DateFormat.java	2010-06-14 09:36:18 UTC (rev 2609)
@@ -10,19 +10,39 @@
 
 public class DateFormat {
 
-/** Convert the US Format into a sortable format */
-static String MDY2YMD(String date) {
-	// Dates are in format M/D/Y
-	int p1,p2=-1;
-	p1=date.indexOf("/");
-	if (p1>0) p2=date.indexOf("/",p1+1);
-	if (p1>0 && p2>0) {
-		return date.substring(p2+1)+"-"+
-		        (p1==1?"0":"")+date.substring(0,p1)+"-"+
-		        (p1+2==p2?"0":"")+date.substring(p1+1,p2);
-	} else
-		return date;
-}
+	/** Convert the US Format into a sortable format */
+	public static String MDY2YMD(String date) {
+		// Dates are in format M/D/Y
+		int p1, p2 = -1, p3;
+		p1 = date.indexOf("/");
+		if (p1==-1){
+			//dayofweek, dayofmonth month year (Monday, 07 June 2010)
+			p1 = date.indexOf(",");			
+			p2 = date.indexOf(" ", p1 + 2);
+			p3 = date.indexOf(" ", p2 + 1);
+			final String monthNames[] = { "January", "February", "March", "April", "May",
+					"June", "July", "August", "September", "October", "November",
+					"December" };
+			for (int m = 0; m < 12; m++) {
+				if (monthNames[m].equals(date.substring(p2+1,p3))) {
+					String mm = Integer.toString(m+1);
+					if (mm.length()==1) {mm=0+mm;}
+					return date.substring(p3+1,p3+5) + "-" + mm + "-" + date.substring(p1+2, p1+4);
+				}
+			}
+			return date;
+		}
+		else {
+			if (p1 > 0)
+				p2 = date.indexOf("/", p1 + 1);
+			if (p1 > 0 && p2 > 0) {
+				return date.substring(p2 + 1) + "-" + (p1 == 1 ? "0" : "")
+						+ date.substring(0, p1) + "-" + (p1 + 2 == p2 ? "0" : "")
+						+ date.substring(p1 + 1, p2);
+			} else
+				return date;
+		}
+	}
 
 /* Convert the sortable date into a US date */
 //static String YMD2MDY(String date) {

Modified: branches/bugfix_1.0/src/CacheWolf/SpiderGC.java
===================================================================
--- branches/bugfix_1.0/src/CacheWolf/SpiderGC.java	2010-06-14 09:34:07 UTC (rev 2608)
+++ branches/bugfix_1.0/src/CacheWolf/SpiderGC.java	2010-06-14 09:36:18 UTC (rev 2609)
@@ -444,9 +444,9 @@
 					
 					doc = URL.encodeURL("__EVENTTARGET",false) +"="+ URL.encodeURL(strNextPage,false)
 					    + "&" + URL.encodeURL("__EVENTARGUMENT",false) +"="+ URL.encodeURL("",false)
-//					    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) +"=2"
-					    + "&" + URL.encodeURL("__VIEWSTATE",false) +"="+ URL.encodeURL(viewstate,false);
-//					    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
+					    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) +"=2"
+					    + "&" + URL.encodeURL("__VIEWSTATE",false) +"="+ URL.encodeURL(viewstate,false)
+					    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
 //					    + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+ URL.encodeURL(eventvalidation,false);
 					try{
 						start = "";
@@ -944,10 +944,11 @@
 		while(exBug.endOfSearch() == false){
 			if (infB.isClosed) break; // Allow user to cancel by closing progress form
 			linkPlusBug= exBug.findNext();
-			int idx=linkPlusBug.indexOf("\">");
+			int idx=linkPlusBug.indexOf(p.getProp("bugLinkEnd"));
 			if (idx<0) break; // No link/bug pair found
 			link=linkPlusBug.substring(0,idx);
-			bug=linkPlusBug.substring(idx+2);
+			Extractor exBugName = new Extractor(linkPlusBug,p.getProp("bugNameExStart"),p.getProp("bugNameExEnd"),0,Extractor.EXCLUDESTARTEND);
+			bug=exBugName.findNext();
 			if(bug.length()>0) { // Found a bug, get its details
 				Travelbug tb=new Travelbug(bug);
 				try{
@@ -1189,13 +1190,14 @@
 				CacheHolderDetail cxD = new CacheHolderDetail();
 				
 				String[] AddiBlock=mString.split(rowBlock,'\n');
-				int linePrefix=3;
+				int linePrefix=8;
 				if(AddiBlock.length < linePrefix + 1) {
 					(new MessageBox(MyLocale.getMsg(5500,"Error"), "GC changed table output \nCW must be changed too!", FormBase.OKB)).execute();
 					break;
 				}				
-				Extractor exPrefix=new Extractor(AddiBlock[linePrefix].trim(),p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
-				String prefix=exPrefix.findNext();
+//				Extractor exPrefix=new Extractor(AddiBlock[linePrefix].trim(),p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
+//				String prefix=exPrefix.findNext();
+				String prefix=AddiBlock[linePrefix].trim();
 
 				String adWayPoint;
 				if (prefix.length()==2)



From admin at berlios.de  Mon Jun 14 12:08:48 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 12:08:48 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17259] "Liste sortiert halten" funktioniert
	nur in bestimmten Situa
Message-ID: <201006141008.o5EA8mkX006555@unicorn.berlios.de>

Bug #17259, was updated on 2010-Jun-14 10:46
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Open
Resolution: None
Bug Group: Bug confirmed
Priority: 2
Submitted by: mik77
Assigned to : none
Summary: "Liste sortiert halten" funktioniert nur in bestimmten Situa

Details: Die Funktion die Liste sortiert zu halten, funktioniert nur nach bestimmten Aktionen, wie der ?nderung des Zentrums.

Nach Aktionen wie "Filter aufheben" oder einem Import ist die Liste, obwohl diese Funktion aktiv ist, nicht sortiert.

Dies hat bei bestimmten Arbeitsweisen auch Vorteile. Deswegen die Frage: Bug oder Feature?

Follow-Ups:

Date: 2010-Jun-14 12:08
By: araber95

Comment:
Ist nat?rlich ein gew?nschtes Feature.
Ist auch konform zu anderen Programmen, z.B. Windows Explorer : neue Dateien werden erst mal unten angeh?ngt. Erst bei erneutem Klick auf die ?berschrift wird einsortiert.
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17259&group_id=2211


From araber95 at mail.berlios.de  Mon Jun 14 12:50:11 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 14 Jun 2010 12:50:11 +0200
Subject: [Cachewolf-svn] r2610 - trunk/src/CacheWolf/imp
Message-ID: <201006141050.o5EAoADl016944@sheep.berlios.de>

Author: araber95
Date: 2010-06-14 12:50:08 +0200 (Mon, 14 Jun 2010)
New Revision: 2610

Modified:
   trunk/src/CacheWolf/imp/OCXMLImporter.java
Log:
getting the language hints from OC update. (http://www.geoclub.de/viewtopic.php?f=40&t=45137&start=10)

Modified: trunk/src/CacheWolf/imp/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-14 09:36:18 UTC (rev 2609)
+++ trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-14 10:50:08 UTC (rev 2610)
@@ -607,7 +607,11 @@
 			return;
 		}
 		if (name.equals("hint")){
-			holder.getCacheDetails(false).Hints = Common.rot13(strData);
+			String linebreak;
+			if (holder.is_HTML())	linebreak = "<br>\n";
+			else 					linebreak = "\n";
+			if (holder.is_updated())	holder.getCacheDetails(false).Hints += linebreak + "[" + processingDescLang + ":]" +  linebreak + Common.rot13(strData)  +  linebreak;
+			else 					 	holder.getCacheDetails(false).Hints =              "[" + processingDescLang + ":]" +  linebreak + Common.rot13(strData)  +  linebreak;
 			holder.setUpdated(true); // remark: this is used in "shortdesc" to decide weather the description should be appended or replaced
 			return;
 		}



From mik77 at mail.berlios.de  Mon Jun 14 12:55:34 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Mon, 14 Jun 2010 12:55:34 +0200
Subject: [Cachewolf-svn] r2611 - trunk
Message-ID: <201006141055.o5EAtYZl008458@sheep.berlios.de>

Author: mik77
Date: 2010-06-14 12:55:21 +0200 (Mon, 14 Jun 2010)
New Revision: 2611

Modified:
   trunk/currentversions.txt
Log:
version numbers updated

Modified: trunk/currentversions.txt
===================================================================
--- trunk/currentversions.txt	2010-06-14 10:50:08 UTC (rev 2610)
+++ trunk/currentversions.txt	2010-06-14 10:55:21 UTC (rev 2611)
@@ -1,17 +1,17 @@
 # Release
 T0VersionMajor: 1
 T0VersionMinor: 0
-T0SvnRevision: 2535
+T0SvnRevision: 2609
 
 # ReleaseCandidate
 T1VersionMajor: 1
 T1VersionMinor: 0
-T1SvnRevision: 2535
+T1SvnRevision: 2609
 
 # InDevelopmentStable
 T2VersionMajor: 1
 T2VersionMinor: 1
-T2SvnRevision: 2534
+T2SvnRevision: 2591
 
 # InDevelopmentNewest
 T3VersionMajor: 1



From admin at berlios.de  Mon Jun 14 19:16:17 2010
From: admin at berlios.de (admin at berlios.de)
Date: Mon, 14 Jun 2010 19:16:17 +0200 (CEST)
Subject: [Bug #17262] Mglichkeit Cachewolf 1.1 zu beenden, wenn Konvertierung
Message-ID: <201006141716.o5EHGHal027314@unicorn.berlios.de>

Bug #17262, was updated on 2010-Jun-14 19:16
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Open
Resolution: None
Bug Group: Feature Request
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: M?glichkeit Cachewolf 1.1 zu beenden, wenn Konvertierung 

Details: Wenn man Cachewolf 1.1 startet, warnt es vor der Konvertierung der Datenbank. Aber (zumindest in meiner Erinnerung) wird keine M?glichkeit angeboten, den Start von Cachewolf deswegen abzubrechen. Das sollte aber auf jeden Fall m?glich sein.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17262&group_id=2211


From kalli at mail.berlios.de  Mon Jun 14 19:51:38 2010
From: kalli at mail.berlios.de (kalli at mail.berlios.de)
Date: Mon, 14 Jun 2010 19:51:38 +0200
Subject: [Cachewolf-svn] r2612 - trunk
Message-ID: <201006141751.o5EHpcPU002905@sheep.berlios.de>

Author: kalli
Date: 2010-06-14 19:51:36 +0200 (Mon, 14 Jun 2010)
New Revision: 2612

Modified:
   trunk/getRes.bat
Log:
Copying of templates added

Modified: trunk/getRes.bat
===================================================================
--- trunk/getRes.bat	2010-06-14 10:55:21 UTC (rev 2611)
+++ trunk/getRes.bat	2010-06-14 17:51:36 UTC (rev 2612)
@@ -33,4 +33,8 @@
 mkdir .\work\symbols
 copy .\res_noewe\symbols\*.* .\work\symbols\*.*
 REM
+mkdir .\work\templates
+copy .\res_noewe\templates\*.* .\work\templates\*.*
+REM
+
 copy .\lib\*.dll .\work\



From araber95 at mail.berlios.de  Mon Jun 14 23:51:27 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 14 Jun 2010 23:51:27 +0200
Subject: [Cachewolf-svn] r2613 - trunk/src/CacheWolf
Message-ID: <201006142151.o5ELpR22028050@sheep.berlios.de>

Author: araber95
Date: 2010-06-14 23:51:25 +0200 (Mon, 14 Jun 2010)
New Revision: 2613

Modified:
   trunk/src/CacheWolf/CacheHolder.java
Log:
gpx compatible long description (for tpl-export). (http://www.geoclub.de/viewtopic.php?f=40&t=45618&start=10)

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-14 17:51:36 UTC (rev 2612)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-14 21:51:25 UTC (rev 2613)
@@ -651,7 +651,7 @@
 			varParams.put("URL", det.URL);
 			if (html) {
 				if (ModTyp == 0) {
-					varParams.put("DESCRIPTION",det.LongDescription);
+					varParams.put("DESCRIPTION",SafeXML.cleanGPX(det.LongDescription));
 				}
 				else {
 					varParams.put("DESCRIPTION", modifyLongDesc(det, ModTyp));



From admin at berlios.de  Tue Jun 15 01:43:40 2010
From: admin at berlios.de (admin at berlios.de)
Date: Tue, 15 Jun 2010 01:43:40 +0200 (CEST)
Subject: [Bug #17063] Statusnderung von Caches
Message-ID: <201006142343.o5ENhegD029244@unicorn.berlios.de>

Bug #17063, was updated on 2010-Apr-07 10:27
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Open
Resolution: None
Bug Group: Bug reproduceable
Priority: 5
Submitted by: rstweb
Assigned to : none
Summary: Status?nderung von Caches

Details: Wenn ein Status eines Caches ge?ndert wird (sowohl durch Aktualisierung von gc.com, als auch h?ndisch), wird nur der Status vom Hauptwegpunkt und vom Final-Wegpunkt ge?ndert, allerdings nicht von Stages.
Bei mehreren Caches getestet.

Follow-Ups:

Date: 2010-Jun-15 01:43
By: maierkurt

Comment:
Es ist vielleicht etwas verwirrend. Setzt man den Hauptwegpunkt auf "gefunden", so ?bertr?gt sich der Status auch auf die Addis. Sollte diese Status?nderung irrt?mlich geschehen sein, so k?nnte der Nutzer denken: "Kein Problem, setzte ich den Status wieder auf 'leer' "
Hauptwp und Final erhalten dann auch den neuen Status, nur die restlichen Addis nicht.
-------------------------------------------------------

Date: 2010-Jun-14 00:55
By: pfeffer

Comment:
ich w?sste nicht, warum das ein Bug sein sollte.
Wof?r w?re das wichtig?
-------------------------------------------------------

Date: 2010-Apr-07 10:29
By: rstweb

Comment:
Nachtrag: wenn ein Cache durch Abruf von gc.com aktualisiert wird, dann wird sogar nur der Status des Hauptwegpunktes ge?ndert.

Version: 1.1.2536
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17063&group_id=2211


From admin at berlios.de  Tue Jun 15 09:04:00 2010
From: admin at berlios.de (admin at berlios.de)
Date: Tue, 15 Jun 2010 09:04:00 +0200 (CEST)
Subject: [Bug #17262] Mglichkeit Cachewolf 1.1 zu beenden, wenn Konvertierung
Message-ID: <201006150704.o5F740w3025811@unicorn.berlios.de>

Bug #17262, was updated on 2010-Jun-14 19:16
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Open
Resolution: None
Bug Group: Feature Request
Priority: 1
Submitted by: pfeffer
Assigned to : pfeffer
Summary: M?glichkeit Cachewolf 1.1 zu beenden, wenn Konvertierung 

Details: Wenn man Cachewolf 1.1 startet, warnt es vor der Konvertierung der Datenbank. Aber (zumindest in meiner Erinnerung) wird keine M?glichkeit angeboten, den Start von Cachewolf deswegen abzubrechen. Das sollte aber auf jeden Fall m?glich sein.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17262&group_id=2211


From admin at berlios.de  Tue Jun 15 09:04:19 2010
From: admin at berlios.de (admin at berlios.de)
Date: Tue, 15 Jun 2010 09:04:19 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17259] "Liste sortiert halten" funktioniert
	nur in bestimmten Situa
Message-ID: <201006150704.o5F74JOU026069@unicorn.berlios.de>

Bug #17259, was updated on 2010-Jun-14 10:46
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Open
Resolution: None
Bug Group: Bug confirmed
Priority: 2
Submitted by: mik77
Assigned to : mik77
Summary: "Liste sortiert halten" funktioniert nur in bestimmten Situa

Details: Die Funktion die Liste sortiert zu halten, funktioniert nur nach bestimmten Aktionen, wie der ?nderung des Zentrums.

Nach Aktionen wie "Filter aufheben" oder einem Import ist die Liste, obwohl diese Funktion aktiv ist, nicht sortiert.

Dies hat bei bestimmten Arbeitsweisen auch Vorteile. Deswegen die Frage: Bug oder Feature?

Follow-Ups:

Date: 2010-Jun-14 12:08
By: araber95

Comment:
Ist nat?rlich ein gew?nschtes Feature.
Ist auch konform zu anderen Programmen, z.B. Windows Explorer : neue Dateien werden erst mal unten angeh?ngt. Erst bei erneutem Klick auf die ?berschrift wird einsortiert.
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17259&group_id=2211


From admin at berlios.de  Tue Jun 15 09:08:18 2010
From: admin at berlios.de (admin at berlios.de)
Date: Tue, 15 Jun 2010 09:08:18 +0200 (CEST)
Subject: [Bug #17063] Statusnderung von Caches
Message-ID: <201006150708.o5F78I8Z029928@unicorn.berlios.de>

Bug #17063, was updated on 2010-Apr-07 10:27
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Open
Resolution: None
Bug Group: Bug reproduceable
Priority: 5
Submitted by: rstweb
Assigned to : none
Summary: Status?nderung von Caches

Details: Wenn ein Status eines Caches ge?ndert wird (sowohl durch Aktualisierung von gc.com, als auch h?ndisch), wird nur der Status vom Hauptwegpunkt und vom Final-Wegpunkt ge?ndert, allerdings nicht von Stages.
Bei mehreren Caches getestet.

Follow-Ups:

Date: 2010-Jun-15 09:08
By: araber95

Comment:
Ist so gewollt. Wenn man ein paar Stationen schon gefunden hat und irgendwann weitermachen will darf diese Info bei einer Aktualisierung nicht verloren gehen.
-------------------------------------------------------

Date: 2010-Jun-15 01:43
By: maierkurt

Comment:
Es ist vielleicht etwas verwirrend. Setzt man den Hauptwegpunkt auf "gefunden", so ?bertr?gt sich der Status auch auf die Addis. Sollte diese Status?nderung irrt?mlich geschehen sein, so k?nnte der Nutzer denken: "Kein Problem, setzte ich den Status wieder auf 'leer' "
Hauptwp und Final erhalten dann auch den neuen Status, nur die restlichen Addis nicht.
-------------------------------------------------------

Date: 2010-Jun-14 00:55
By: pfeffer

Comment:
ich w?sste nicht, warum das ein Bug sein sollte.
Wof?r w?re das wichtig?
-------------------------------------------------------

Date: 2010-Apr-07 10:29
By: rstweb

Comment:
Nachtrag: wenn ein Cache durch Abruf von gc.com aktualisiert wird, dann wird sogar nur der Status des Hauptwegpunktes ge?ndert.

Version: 1.1.2536
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17063&group_id=2211


From admin at berlios.de  Tue Jun 15 09:09:25 2010
From: admin at berlios.de (admin at berlios.de)
Date: Tue, 15 Jun 2010 09:09:25 +0200 (CEST)
Subject: [Bug #17063] Statusnderung von Caches
Message-ID: <201006150709.o5F79PVR001455@unicorn.berlios.de>

Bug #17063, was updated on 2010-Apr-07 10:27
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Closed
Resolution: Works For Me
Bug Group: Bug reproduceable
Priority: 5
Submitted by: rstweb
Assigned to : none
Summary: Status?nderung von Caches

Details: Wenn ein Status eines Caches ge?ndert wird (sowohl durch Aktualisierung von gc.com, als auch h?ndisch), wird nur der Status vom Hauptwegpunkt und vom Final-Wegpunkt ge?ndert, allerdings nicht von Stages.
Bei mehreren Caches getestet.

Follow-Ups:

Date: 2010-Jun-15 09:08
By: araber95

Comment:
Ist so gewollt. Wenn man ein paar Stationen schon gefunden hat und irgendwann weitermachen will darf diese Info bei einer Aktualisierung nicht verloren gehen.
-------------------------------------------------------

Date: 2010-Jun-15 01:43
By: maierkurt

Comment:
Es ist vielleicht etwas verwirrend. Setzt man den Hauptwegpunkt auf "gefunden", so ?bertr?gt sich der Status auch auf die Addis. Sollte diese Status?nderung irrt?mlich geschehen sein, so k?nnte der Nutzer denken: "Kein Problem, setzte ich den Status wieder auf 'leer' "
Hauptwp und Final erhalten dann auch den neuen Status, nur die restlichen Addis nicht.
-------------------------------------------------------

Date: 2010-Jun-14 00:55
By: pfeffer

Comment:
ich w?sste nicht, warum das ein Bug sein sollte.
Wof?r w?re das wichtig?
-------------------------------------------------------

Date: 2010-Apr-07 10:29
By: rstweb

Comment:
Nachtrag: wenn ein Cache durch Abruf von gc.com aktualisiert wird, dann wird sogar nur der Status des Hauptwegpunktes ge?ndert.

Version: 1.1.2536
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17063&group_id=2211


From admin at berlios.de  Tue Jun 15 09:10:06 2010
From: admin at berlios.de (admin at berlios.de)
Date: Tue, 15 Jun 2010 09:10:06 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17258] Automatische Zoomstufenauswahl
	funktioniert nicht
Message-ID: <201006150710.o5F7A6ss002425@unicorn.berlios.de>

Bug #17258, was updated on 2010-Jun-14 10:42
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Map
Status: Open
Resolution: None
Bug Group: Bug reproduceable
Priority: 5
Submitted by: mik77
Assigned to : pfeffer
Summary: Automatische Zoomstufenauswahl funktioniert nicht

Details: Wenn man in der Karte die Default-Option "H?chster Detailgrad m. aktueller u. Zielpos." w?hlt, wird die Zoomstufe bisher anhand der Kacheln ausgew?hlt. Durch die M?glichkeit mehrere Kacheln anzuzeigen und die Verwendung verschiedener Display- und Kachelgr??en ist dies nicht (mehr) sinnvoll.

Es sollte die h?chste Zommstufe gew?hlt werden, bei der die Entfernung zum Ziel noch auf die l?ngere Seite des Displays passt.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17258&group_id=2211


From admin at berlios.de  Tue Jun 15 09:38:19 2010
From: admin at berlios.de (admin at berlios.de)
Date: Tue, 15 Jun 2010 09:38:19 +0200 (CEST)
Subject: [Bug #17253] Layout fr die MovingMap im Querformat
Message-ID: <201006150738.o5F7cJLB003868@unicorn.berlios.de>

Bug #17253, was updated on 2010-Jun-14 01:06
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: None
Bug Group: Bug confirmed
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: Layout f?r die MovingMap im Querformat

Details: http://www.geoclub.de/viewtopic.php?f=40&t=35941&p=705919&hilit=querformat#p705919

Follow-Ups:

Date: 2010-Jun-15 09:38
By: araber95

Comment:
f?r diese F?lle wird ja die 240x240 genommen.

ich w?rde vorschlagen dieses Verzeichnis in mmcpda umzubenennen. und das andere in mmcpdahires oder so ?hnlich.

Damit das tut muss das prog nur wenig ge?ndert werden. Die Abh?ngigkeit vom Verzeichnisnamen muss da raus. da gab es schon mindestens 2 threads mit fehlern daderwegen.

-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17253&group_id=2211


From araber95 at mail.berlios.de  Tue Jun 15 15:47:53 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Tue, 15 Jun 2010 15:47:53 +0200
Subject: [Cachewolf-svn] r2614 - trunk/src/CacheWolf
Message-ID: <201006151347.o5FDlr6p005820@sheep.berlios.de>

Author: araber95
Date: 2010-06-15 15:47:51 +0200 (Tue, 15 Jun 2010)
New Revision: 2614

Modified:
   trunk/src/CacheWolf/MainTab.java
Log:
wrong details shown if map is called directly from detailspanel.

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2010-06-14 21:51:25 UTC (rev 2613)
+++ trunk/src/CacheWolf/MainTab.java	2010-06-15 13:47:51 UTC (rev 2614)
@@ -267,12 +267,14 @@
 	public void openPanel(CacheHolder chi, int panelNo) {
 		MyLocale.setSIPOff();
 		// To change cache we need to be in panel 0
-		onLeavingPanel(oldCard);
+		onLeavingPanel(oldCard); // is 7 or 1
 		onEnteringPanel(0); oldCard=0;
 		int row = profile.getCacheIndex(chi.getWayPoint());
 		tbP.selectRow(row);
-		switch (panelNo) {// Switch by panel number
+	switch (panelNo) {// Switch by panel number
 		case 1:  // DetailsPanel
+			ch=chi; // wrong (old) detail if map is called directly
+			onEnteringPanel(1);
 			select(detP);
 			break;
 		case 2: // Description Panel



From kalli at mail.berlios.de  Tue Jun 15 21:19:27 2010
From: kalli at mail.berlios.de (kalli at mail.berlios.de)
Date: Tue, 15 Jun 2010 21:19:27 +0200
Subject: [Cachewolf-svn] r2615 - trunk/res_noewe/templates
Message-ID: <201006151919.o5FJJRJ1006906@sheep.berlios.de>

Author: kalli
Date: 2010-06-15 21:19:25 +0200 (Tue, 15 Jun 2010)
New Revision: 2615

Modified:
   trunk/res_noewe/templates/pq.tpl
Log:
Some corrections

Modified: trunk/res_noewe/templates/pq.tpl
===================================================================
--- trunk/res_noewe/templates/pq.tpl	2010-06-15 13:47:51 UTC (rev 2614)
+++ trunk/res_noewe/templates/pq.tpl	2010-06-15 19:19:25 UTC (rev 2615)
@@ -2,9 +2,9 @@
 <tmpl_par name="newline" value="CRLF">
 <tmpl_par name="decsep" value=".">
 <tmpl_par name="Out" value="*.gpx">
-<?xml version="1.0" encoding="utf-8"?<br>
+<?xml version="1.0" encoding="utf-8"?><br>
 <gpx xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" version="1.0" creator="Groundspeak Pocket Query" xsi:schemaLocation="http://www.topografix.com/GPX/1/0 http://www.topografix.com/GPX/1/0/gpx.xsd http://www.groundspeak.com/cache/1/0/1 http://www.groundspeak.com/cache/1/0/1/cache.xsd" xmlns="http://www.topografix.com/GPX/1/0"><br>
-  <name><tmpl_var NAME></name><br>
+  <name>TPL-Export</name><br>
   <desc>Geocache file generated by Groundspeak</desc><br>
   <author>Groundspeak</author><br>
   <email>contact at cachewolf.de</email><br>
@@ -36,12 +36,14 @@
       <groundspeak:country><tmpl_var COUNTRY></groundspeak:country><br>
       <groundspeak:state><tmpl_var STATE></groundspeak:state><br>
       <groundspeak:short_description html="<tmpl_var HTML>"><tmpl_var NAME> (<tmpl_var DIFFICULTY>/<tmpl_var TERRAIN>)</groundspeak:short_description><br>
-      <groundspeak:long_description html="<tmpl_var HTML>"<tmpl_var DESCRIPTION></groundspeak:long_description><br>
-      <groundspeak:encoded_hints><tmpl_var DESCRYPTEDHINTS></groundspeak:encoded_hints><br>
+      <groundspeak:long_description html="<tmpl_var HTML>"><tmpl_var DESCRIPTION></groundspeak:long_description><br>
+      <groundspeak:encoded_hints><tmpl_var DECRYPTEDHINTS></groundspeak:encoded_hints><br>
       <groundspeak:logs><br>
         <groundspeak:log id="<tmpl_var WAYPOINT>0"><br>
+          <groundspeak:date><tmpl_var NOW_DATE>T19:00:00Z</groundspeak:date><br>
+          <groundspeak:type>Write note</groundspeak:type><br>
           <groundspeak:finder id="0">CacheWolf</groundspeak:finder><br>
-          <groundspeak:text encoded="False"><tmpl_loop ATTRIBUTES>&lt;br /&gt;<tmpl_var INC2TXT>&amp;nbsp;:<tmpl_var INFO>&lt;br /&gt;</tmpl_loop></groundspeak:text><br>
+          <groundspeak:text encoded="False"><tmpl_loop ATTRIBUTES>&lt;br /&gt;<tmpl_var INC2TXT>&amp;nbsp;<tmpl_var INFO>&lt;br /&gt;</tmpl_loop></groundspeak:text><br>
         </groundspeak:log><br>
       <tmpl_loop LOGS>  <groundspeak:log id="<tmpl_var WAYPOINT><tmpl_var __COUNTER__>"><br>
           <groundspeak:date><tmpl_var DATE>T19:00:00Z</groundspeak:date><br>



From araber95 at mail.berlios.de  Wed Jun 16 09:26:12 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 16 Jun 2010 09:26:12 +0200
Subject: [Cachewolf-svn] r2616 - trunk/res_noewe/languages
Message-ID: <201006160726.o5G7QCF6028063@sheep.berlios.de>

Author: araber95
Date: 2010-06-16 09:26:08 +0200 (Wed, 16 Jun 2010)
New Revision: 2616

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
Log:
localisation synchronisation

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-06-15 19:19:25 UTC (rev 2615)
+++ trunk/res_noewe/languages/DE.cfg	2010-06-16 07:26:08 UTC (rev 2616)
@@ -844,6 +844,9 @@
 		4291=Hineinzoomen
 		4292=Manuell zoomen
 		4293=Zur Originalaufl%f6sung zoomen
+		4294=Vergr?ssern
+		4295=Mittelpunkt
+		4296=Detaillierung
 		4300=Leer 1 Punkt =+
 		4301=+meter
 		4302=Breite/L%e4nge au%dferhalb des zul%e4ssigen Bereiches beim Lesen von+

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-06-15 19:19:25 UTC (rev 2615)
+++ trunk/res_noewe/languages/EN.cfg	2010-06-16 07:26:08 UTC (rev 2616)
@@ -202,7 +202,7 @@
 		323=Fehler beim Schreiben der Datei
 		324= - retry?
 		325=Not enough reference points, map not calibrated
-		326=No calibrated map available. %0a Please select a scale to display the track and caches.
+		326=
 		327=Information
 		328=Date found
 		329=Hidden on
@@ -230,7 +230,7 @@
 		400=Decode
 		401=Encode
 		500=Switch
-		588=Unit System
+		588=Length Units
 		589=Metric (km)
 		590=Imperial (mi.)
 		591=Leave empty for default language or%0aadd 2 character language, e.g. DE, EN
@@ -549,6 +549,7 @@
 		1741=Crossbearing degrees  must be in interval [0;2*PI]
 		1742=Crossbearing: distance between points to small
 		1743=Crossbearing calculation failed. Please inform the developers at geoclub.de
+		1744=pinpointing with identical bearing angles not possible
 		1800=Download georeferenced maps
 		1801=Download tiles
 		1802=Download georeferenced maps%0a Select online service:
@@ -589,6 +590,11 @@
 		1837=Height of tiles must be greater 0..
 		2000=GPX Export
 		2001=of
+		2100=Explorist Exporter
+		2101=Failed to load the file magellan.cfg
+		2102=Choose target file
+		2103=Error reading the file magellan.cfg
+		2104=choose the output directory for gs-files
 		2500=Error loading attributes or unknown attribute
 		2501=not 24-7
 		2502=available 24-7
@@ -742,7 +748,8 @@
 		2650=hyperlink to GC,...
 		3000=Close
 		4000=Loaded caches:+
-		4001=GPX files from opencaching don't contain information of images, they cannot be laoded. Best you get caches from opencaching by menu /Application/Import/Download from Opencaching
+		4001=GPX files from opencaching don't contain information of images, they cannot be loaded. Best you get caches from opencaching by menu /Application/Import/Download from Opencaching
+		4100=choose directory:
 		4101=Maps
 		4102=Calibrated maps
 		4103=Not calibrated maps
@@ -784,8 +791,11 @@
 		4221=Not enough ressources to load map:+
 		4222=Out of memory error
 		4230=Goto here$g
+		4231=Goto here
 		4232=Create new Waypoint here$n
+		4233=Create new Waypoint here
 		4234=Select a map manually$s
+		4235=Select a map manually
 		4236=Change map directory$c
 		4237=Change map directory
 		4238=Show map
@@ -794,6 +804,7 @@
 		4241=Hide map
 		4242=Modus for automatic map change
 		4244=Highest res. containing dest. & cur. position
+		4245=Highest res. containing dest. & cur. position
 		4246=Highest resolution
 		4247=Highest resolution
 		4248=Keep manual resolution
@@ -817,7 +828,8 @@
 		4268=Show all caches
 		4269=Show marked caches
 		4270=Open
-		4271=--- Maps containing GPS and goto pos. ---
+		4271=maps
+		4272=--- Maps containing GPS and goto pos. ---
 		4273=--- Maps containing curr. position ---
 		4274=--- Maps containing goto position ---
 		4275=--- Other maps ---
@@ -832,6 +844,9 @@
 		4291=Zoom in
 		4292=Manual zoom
 		4293=Zoom to original resolution
+		4294=zoom
+		4295=center
+		4296=detailing
 		4300=empty 1 Pixel =+
 		4301=+meters
 		4302=Lat/Lon out of range while reading+
@@ -901,14 +916,14 @@
 		4922=EPSG code missing in:+
 		4923=fromWgs84: EPSG code+
 		4924=ToWgs84: EPSG code+
-		5498=Login failed. Error loading page after login.
-		5499=Error loading login page.%0aPlease check your internet connection.
 		5000=Load Cachelist
 		5001=Can't spider additional waypoint directly.%0aPlease check main cache.
 		5002=: At the moment, this function is only available for geocaching.com and opencaching.{cz,de,org.uk,pl}.
 		5003=Options
 		5004=Building references for additional waypoints...
 		5497=Error missing tag in spider.def
+		5498=Login failed. Error loading page after login.
+		5499=Error loading login page.%0aPlease check your internet connection.
 		5500=Error
 		5501=Login failed! Wrong account or password?
 		5502=Fetching first page...
@@ -924,7 +939,7 @@
 		5512=+new caches
 		5513=Loading:+
 		5514=%0aGetting bug:+
-		5515=Failed to load cache.%0aPlease check your internet connection and if the selected language at GC.com is English.%0aRetry?
+		5515=Failed to load cache.%0aPlease check your internet connection.%0aRetry?
 		5516=+cache descriptions%0acould not be loaded.
 		5517=Spider updates?
 		5518=+caches in database need an update. Update now?
@@ -980,6 +995,11 @@
 		6103=Orion
 		6104=Cassiopeia
 		6105=Cygnus
+		6106=The Southern Cross
+		6122=Altioth in the Big Dipper
+		6123=Alnilam in Orion
+		6124=Gamma Cassiopeia
+		6125=Deneb in Cygnus
 		6126=Mimosa in Southern Cross
 		7000=Release
 		7001=Release candidate

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-06-15 19:19:25 UTC (rev 2615)
+++ trunk/res_noewe/languages/FR.cfg	2010-06-16 07:26:08 UTC (rev 2616)
@@ -206,7 +206,7 @@
 		327=Information
 		328=Trouv%e9e le
 		329=Cach%e9e le
-		328=Pas trouv%e9e le
+		330=pas trouv%e9e le
 		340=Images de cache:
 		341=Propre images:
 		342=Effac%e9
@@ -228,6 +228,7 @@
 		359=Detenteur d'entretien
 		360=marqueur 2
 		400=D%e9coder
+		401=encoder
 		500=Changer
 		588=Syst%e8me de mesure
 		589=M%e9trique (km)
@@ -334,6 +335,7 @@
 		740=Toutes
 		741=Un
 		742=Aucun
+		743=Sans coordonn%e9es
 		800=Etablir liste
 		801=cherche...
 		802=Caches identifi%e9. Continue recherche...
@@ -385,8 +387,8 @@
 		1027=OC-Idx
 		1028=) ?
 		1029=Il y a des waypoints coch%e9e mais pas visible.%0a(Caches:+
-        1030=, waypoints additionel:+
-        1031=Effacer ceux-ci aussi?
+		1030=, waypoints additionel:+
+		1031=Effacer ceux-ci aussi?
 		1032=Chemin au navigateur:
 		1033=n'est pas correct!
 		1034=Ne peut pas ouvrir le navigateur!
@@ -457,6 +459,7 @@
 		1412=Coordonn%e9es pas valides. Prendre-les quand-m%eame ?
 		1413=Effacer
 		1414=Recherche
+		1415=Palier
 		1500=Destination:
 		1501=Actuel
 		1502=Degr%e9
@@ -471,6 +474,7 @@
 		1511=Ne peut pas interpr%e9ter les donn%e9es du GPS%0aCauses possibles:%0aMauvais Port,%0amauvais baud,%0apas de protocole NMEA%0aConnexion ferm%e9e%0aDerni%e8re cha%eene de lettres:%0a
 		1512=Waypoint
 		1513=Ne peut pas afficher carte sans coordonn%e9es valides - Merci d'entrer coordonn%e9es comme destination, centre ou dans le cache choisi et d%e9marrer GPS
+		1514=Impossible de recalculer les distances, parce que la position GPS n'est pas d%e5fini
 		1600=+T%e9l%e9chargement
 		1601=max. Distance:
 		1602=T%e9l%e9charger images
@@ -540,12 +544,12 @@
 		1736=Charger
 		1737=Enregistrer
 		1738=Enregistrer sous
-		1739=Angle doit %eatre dans la domaine [0;2*PI]
-		1739=[Projection degrees must be in interval [0;2*PI]]
-		1740=[Crossbearing degrees  must be in interval [0;360]]
-		1741=[Crossbearing degrees  must be in interval [0;2*PI]]
-		1742=[Crossbearing: distance between points to small]
-		1743=[Crossbearing calculation failed. Please inform the developers at geoclub.de		]
+		1739=degr%e9s de projection doit %eatre dans l'intervalle [0;2*PI]
+		1740=degr%e9s Crossbearing doit %eatre dans l'intervalle [0;360]
+		1741=degr%e9s Crossbearing doit %eatre dans l'intervalle [0,2*PI]
+		1742=Crossbearing: la distance entre les points est trop petit
+		1743=calcul Crossbearing %e9chou%e9. S'il vous pla%eet informer les d%e9veloppeurs %e0 geoclub.de
+		1744=rep%e9rage avec des angles identiques portant pas possible
 		1800=T%e9l%e9charger des cartes g%e9o-r%e9f%e9renc%e9e
 		1801=T%e9l%e9charger pages
 		1802=T%e9l%e9chargement des cartes g%e9o-r%e9f%e9renc%e9e%0aChoissisez service en ligne:
@@ -744,6 +748,7 @@
 2650 = hyperlink %e0 GC, ...
 		3000=Fermer
 		4000=Caches charg%e9es:
+		4001=GPX fichiers %e0 partir Opencaching ne contiennent pas d'informations d'images, ils ne peuvent pas %eatre charg%e9. Pour le meilleur vous obtenez des caches de Opencaching par le menu /Application/importation/Download from Opencaching
 		4100=Choisir dossier:
 		4101=Cartes
 		4102=Cartes calibr%e9es
@@ -830,10 +835,18 @@
 		4275=--- Autre cartes ---
 		4276=Annuler
 		4277=Choisir
-		4278=Ne peut pas charger ces fichiers .wfl:+%0a
-		4280=[Small Tiles]
-		4281=[Medium Tiles]
-		4282=[Big Tiles]
+		4278=Ne peut pas charger ces fichiers .wfl: \n
+		4279=Goto
+		4280=Petits raccords
+		4281=tuiles %e0 moyen
+		4282=grands carreaux
+		4290=zoom arri%e8re
+		4291=zoomer
+		4292=zoom manuel
+		4293=Zoom sur une r%e9solution originale
+		4294=zoom
+		4295=center
+		4296=detailing
 		4300=1 pixel vide =+
 		4301=+metre
 		4302=Latitude/Longitude hors de l'%e9tendue valide en chargeant+
@@ -848,6 +861,9 @@
 		4404=N'a pas pu %e9tablir une connexion avec le r%e9cepteur GPS. %0a Erreur en ouvrant le port seriel%0a
 		4405=Causes possibles:%0a Port faux %0a Un autre logiciel bloque le port %0a Seulement pour les appareils Loox: port infrarouge ouverts bloque GPS
 		4406=Copiez java_ewe.dll dans le dossier CacheWolf
+		4407=Les fichiers de profil ne sont pas dans le format actuel.%0aPar cons%e9quent, ils sont maintenant convertis au format actuel. En fonction de la taille de l'image et l'ordinateur associ%e9 cette mai prendre quelques minutes. S'il vous pla%eet garder avec nous jusqu'%e0 la conversion est effectu%e9e.
+		4408=Impossible de se connecter %e0 la GPSD:
+		4409=%0apossible raisons:%0aGPSD h%f4te n'est pas accessible ou GPSD s'ex%e9cute pas l%e0
 		4500=Tout:
 		4501=Aff:
 		4502=Trv:
@@ -923,7 +939,7 @@
 		5512=+nouveau Caches
 		5513=Chargeant:+
 		5514=%0aTravel Bug:+
-		5515=Erreur en chargeant la cache.%0aMerci de v%e9rifier votre connexion internet..%0aContinuer d'essayer?
+		5515=Erreur en chargeant la cache.%0aMerci de v%e9rifier votre connexion internet et si vous avez language englais chez gc.com..%0aContinuer d'essayer?
 		5516=+descriptions cache%0ane pouvait pas %eatre charg%e9.
 		5517=Spider mises %e0 jour?
 		5518=+caches en base de donn%e9es ont besoin d'une mise %e0 jour. Mettre %e0 jour maintenant?
@@ -997,7 +1013,31 @@
 		7021=Ce type de version
 		7022=Type de version
 		7023=Erreur en t%e9l%e9chargeant les informations de version
-        	7300=Street / POI
+		7100=Port s%e9rie Options
+		7101=Mise %e0 jour des ports$u
+		7102=Baud:$b
+		7103=Scan$u
+		7104=Test$t
+		7105=Suivant les donn%e9es GPS pour accueillir
+		7106=Toutes les donn%e9es du GPS sera envoy%e9 %e0 TCP-Port 23%0a et peut %eatre redirig%e9 l%e0 %e0 un port s%e9rie 0a% par
+		7107=intervalle en secondes pour l'exploitation foresti%e8re
+		7108=Erreur: Impossible d'ouvrir le port s%e9rie: +
+		7109=Erreur: Impossible d'obtenir la liste des ports s%e9rie disponibles%0a
+		7110=GPS introuvable%0a
+		7111=Trying+
+		7112=at+
+		7113= - obtenu quelques donn%e9es%0a
+		7114=GPS Port trouv%e9%0a
+		7115= - Pas d'%e9tiquette de donn%e9es GPS trouv%e9%0a
+		7116= - Pas de donn%e9es re?ues%0a
+		7117=Afficher les donn%e9es du port s%e9rie directement:%0a
+		7118=Stop
+		7119=Stop
+		7120=ANNUL%e9
+		7121=Recevoir GPS %e0 partir de l'h?te gpsd
+		7122=GPS donn%e9es seront re?ues par un serveur gpsd, et non %e0 partir d'un port s%e9rie
+		7200=Usage: CacheWolf [-c <chemin vers pref.xml>] [-debug]
+        	7300=Street/POI
         	7301=Ville
         	7302=Recherche
         	7303=Annuler
@@ -1005,6 +1045,7 @@
         	7305=avenue des champs-elysees
         	7306=Recherche en cours...
         	7307=Annul%e9 par l'utilisateur
-        	7308=Impossible de se connecter		{..}
+        	7308=Impossible de se connecter
+        	{..}
 	{..}
 {..}

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-06-15 19:19:25 UTC (rev 2615)
+++ trunk/res_noewe/languages/NL.cfg	2010-06-16 07:26:08 UTC (rev 2616)
@@ -87,6 +87,7 @@
 		157=Systeem
 		158=Versie controle
 		159=Filter
+		160=Gemarkeerd filteren
 		161=Toon Blacklist
 		162=Gekalibreerde kaarten downloaden.
 		170=Selecteer basis map voor cache data.
@@ -201,7 +202,7 @@
 		323=Fout bij schrijven van data.
 		324=-opnieuw?
 		325=Te weinig referentiepunten, kaart is niet gekalibreerd.
-		326=Geen gekalibreerde kaart aanwezig. %0aAub selecteer een schaal om de track en caches te tonen.
+		326=
 		327=Notities
 		328=Gegevens gevonden
 		329=Verborgen op
@@ -227,7 +228,11 @@
 		359=eigenaar-onderhoud
 		360=Vlag 2
 		400=Decoderen
+		401=Coderen
 		500=Omdraaien
+		588=Lengte-eenheden
+		589=Metrisch (km)
+		590=Imperial (Meilen)
 		591=Laat leeg voor standaard taal of%0avoeg 2 karakters toe voor taal, bv. DE,EN,NL
 		592=Taal(herstart noodzakelijk)
 		593=Password is optioneel.%0aAlleen gebruiken als je het wil opslaan in pref.xml.
@@ -283,10 +288,10 @@
 		643=Cache details in:
 		644=waypoint
 		645=name
-		646=[cur.centre from GPS]
-		647=[cachegrouped sorting]
-		648=[Debug Mode]
-		649=[use own symbols]
+		646=cur.centre van GPS
+		647=cachegrouped sorteren
+		648=Debug Mode
+		649=Gebruik eigen symbolen
 		700=Selecteer filter
 		701=Afstand
 		702=Moeilijkheidsgraad
@@ -323,6 +328,14 @@
 		733=Additionele Waypoint
 		734=Geen hoofd Waypoint gevonden voor
 		735=Additionele Waypoints moeten het formaat hebben xxYYYY, waarbij xx 2 karakters zijn en YYYY de karakters achter GC van het hoofd Waypoint zijn.
+		736=Te veel logs (Limit kan worden aangepast in voorkeuren)
+		737=Cache-attributen
+		738=Attributen
+		739=Filter op
+		740=alle
+		741=een
+		742=geen
+		743=Zonder co%f6rdinaten
 		800=Maak lijst
 		801=Zoeken.....
 		802=Caches gevonden. Zoeken......
@@ -361,6 +374,7 @@
 		1014=Update cache data
 		1015=Selecteer alles
 		1016=Deselecteer alles
+		1017=G
 		1018=Toon offline in Browser.
 		1019=Zet deze als middelpunt.
 		1020=Toon online in Browser.
@@ -369,7 +383,9 @@
 		1023=Deze functie is momenteel alleen beschikbaar voor geocaching.com.
 		1024=Afstand in lijst is~ten opzichte van de huidige positie~herberekend.
 		1025=Kan middelpunt niet toepassen (verkeerde GPS co%f6rdinaten).
-		1028=)?
+		1026=#Rec
+		1027=OC-Idx
+		1028=) verwijderen?
 		1029=Er zijn verwinkte maar niet zichtbare Waypoints.%0a(Caches:+
 		1030=, additionele Waypoints:+
 		1031=Deeze ook verwijdern?
@@ -435,7 +451,15 @@
 		1404=Afstand
 		1405=Om co%f6rdinaten te laden van GC, geef onder in GCxxxx.
 		1406=Geef co%f6rdinaten in (alle formaten mogelijk) of GCxxxx.
+		1407=Stappen
+		1408=Voet
+		1409=Yards
+		1410=mijl
+		1411=Voer een geldige co?rdinaten.
+		1412=Co%f6rdinaten ongeldig. Toch doen?
+		1413=Verwijderen
 		1414=Zoeken
+		1415=Bearing (lager)
 		1500=Doel:
 		1501=Huidig
 		1502=Graden
@@ -447,6 +471,7 @@
 		1508=breedtegraad
 		1509=lengtegraad
 		1510=Geen data van GPS%0aConnectie naar seri%eble port gesloten
+		1511=Kan niet interpreteren van gegevens van GPS%0a mogelijke redenen:%0a verkeerde Port,%0a verkeerde Baudrate,%0a niet NMEA-protocol%0aConnection op de seri?le poort gesloten%0aLast String probeerde te interpreteren:%0a
 		1512=Wegpunt
 		1513=Kan moving map niet draaien zonder geldige co%f6rdinaten. Geef Centrums- of Doelco%f6rdinaten of start het GPS AUB.
 		1514=Kan afstanden niet opnieuw berekenen doordat er geen GPS positie gegeven is (geen receptie is/was)
@@ -524,16 +549,53 @@
 		1741=[Crossbearing degrees  must be in interval [0;2*PI]]
 		1742=[Crossbearing: distance between points to small]
 		1743=[Crossbearing calculation failed. Please inform the developers at geoclub.de		]
+		1744=Pinpointing met identieke dragende hoeken niet mogelijk
 		1800=Downloaden GEO gerelateerde kaarten.
 		1801=Downloaden tegels
-		1833=[Please don't select the separetor line in the wms service option]
-		1834=[Please enter the correct path to Kosmos.Console.exe into the wms-file.]
+		1802=Laden geogerefereerd kaarten%0aKies online service:
+		1803=voor
+		1804=all
+		1805=aangekruist
+		1806=caches
+		1807=Ca. m per pixel:
+		1808=overlappende in pixels:
+		1809=Lade Overzicht Kaart
+		1810=In een rechthoek:
+		1811=rond het centrum:
+		1812=Tegels
+		1813=Laden kaart voor
+		1814=Per cache
+		1815=Downloaden geografische referenties kaarten
+		1816=Downloaden geografische referentie maps%0a%0a%0a%0a%0a
+		1817=Geen caches zijn aangevinkt
+		1818=getSortedMapServiceIndex: index
+		1819=niet gevonden
+		1820=Downloaden kaart '
+		1821=%0a voor cache:%0a
+		1822=Cache:
+		1823=negeren fout:
+		1824=downloaden overzichtskaart
+		1825=Overzichtskaart: negeren error:
+		1826=Voltooid downloaden en kalibratie van kaarten
+		1827='straal' moet graeter dan 0
+		1828='overlapping' moet groter of gelijk 0
+		1829=Voer het 'centrum' waarrond de kaarten worden gedownload
+		1830=De geselecteerde kaart online service biedt de kaart in de schaal van
+		1831=naar
+		1832=%0a gelieve aanpassen 'Ca. meter pro pixel 'dienovereenkomstig
+		1833=Gelieve niet selecteert de separetor lijn in de WMS-service-optie
+		1834=Voer het juiste pad naar Kosmos.Console.exe in de WMS-bestand.
 		1835=[Tilesize:]
 		1836=[Width of tiles must be greater 0.]
 		1837=[Height of tiles must be greater 0.]
 		2000=Exporten GPX
 		2001=Van
-		2500=Fout bij laden of onbekende pictogrammen.
+		2100=Explorist Exporteur
+		2101=Failed to load het bestand magellan.cfg
+		2102=Kies doelbestand
+		2103=Fout bij het lezen van het bestand magellan.cfg
+		2104=Kies de output directory voor gs-bestanden
+     		2500=Fout bij laden of onbekende pictogrammen.
 		2501=Geen 24/7 cache
 		2502=Beschikbaar 24/7
 		2503=Geen fietsen
@@ -686,6 +748,8 @@
 2650 = hyperlink naar GC, ...
 		3000=Sluiten
 		4000=Geladen caches
+		4001=GPX bestanden uit opencaching bevatten geen informatie van beelden, kunnen zij niet worden downloaden. Beste je caches van opencaching menu /Application/Import/Download from Opencaching
+		4100=Directory selecteren:
 		4101=Kaarten
 		4102=Gekalibreerde kaarten
 		4103=Niet gekalibreerde kaarten
@@ -697,21 +761,165 @@
 		4109=bezig kaarten te laden..
 		4110=Bezig met laden
 		4111=Co%f6rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
+		4112=IO-Fout tijdens het kopi%ebren van beeld:+
+		4113=+voor:+
+		4114=+Fout:+
+		4115=Fout: kan niet decoderen afbeelding:+
+		4116=+-+ afbeelding niet gekopieerd
+		4117=Fout bij importeren .map Bestand:+
+		4118=I/O-fout tijdens het lezen of schrijven van de kalibratie-bestand
+		4119=Geen kalibratie bestand gevonden voor:+
+		4120=Gedaan.
 		4200=Kies kaarten map
-		4266=[Fill white areas]
-		4267=[Show white areas]
-		4268=Bekijk alle cache
-		4269=Bekijk gemarkeerd cache
-		4280=[Small Tiles]
-		4281=[Medium Tiles]
-		4282=[Big Tiles]
+		4201=Informatie
+		4203=Laden kaart lijst ...
+		4204=Het is niet gekalibreerd kaart.  %0a Selecteer een schaal,%0a waarbij het spoor en de geselecteerde caches worden weergegeven. %0a U kunt de kaarten downloaden vanuit het hoofdmenu: application / kaarten gekalibreerd / download
+		4206=Dist: +
+		4207=Fout
+		4208=Programma fout:%0a niet toegestaan mapChangeModus:+
+		4210= De "mitwandernde kaart" kan niet zonder een kaart. %0a Selecteer een %0a (Eventueel een lege)
+		4211=Geen+
+		4212=duidelijker
+		4213=gedetailleerde
+		4214=+Kaart beschikbaar
+		4215=Geen caches geselecteerd met vinkje
+		4216=Laden kaart ...
+		4217=Geen bestand, behorende tot de volgende afbeelding is niet gevonden: %0a
+		4218=Kan niet laden de volgende kaart: %0a
+		4219=Niet genoeg geheugen in kaart te laden:%0a
+		4220=%0a U kunt proberen om alle prgrams%0a%0a sluiten en opnieuw op te starten CacheWolf
+		4221=Niet genoeg ressources te laden kaart: +
+		4222=Out of memory error
+		4230=Ga hier$g
+		4230=Ga hier
+		4232=Maak een nieuw waypoint hier$n
+		4233=Maak een nieuw waypoint hier
+		4234=Selecteer een kaart handmatig$s
+		4235=Selecteer een kaart handmatig
+		4236=Wijzig kaart directory$c
+		4237=Wijzig kaart map
+		4238=Toon kaart
+		4239=Toon kaart
+		4240=Verberg kaart
+		4241=Verberg kaart
+		4242=Modus voor automatische kaart wijzigen
+		4244=Hoogste res. met dest. & Huidig. positie
+		4245=Hoogste res. met dest. & Huidig. positie
+		4246=Hoogste resolutie
+		4247=Hoogste resolutie
+		4248=Houd handleiding resolutie
+		4249=Houd handleiding resolutie
+		4250=Verander de resolutie handmatig
+		4252=Plaats een kaart met alle gemarkeerde caches
+		4253=Plaats een kaart met alle gemarkeerde caches
+		4254=Plaats een kaart met meer details
+		4255=Plaats een kaart met meer details
+		4256=Plaats een kaart voor een beter overzicht
+		4257=Plaats een kaart voor een beter overzicht
+		4258=Verplaats kaart om en belasting kaart
+		4260=Verplaats kaart om goto punt
+		4261=Verplaats kaart om goto punt
+		4262=Verplaats kaart op GPS-positie
+		4263=Verplaats kaart op GPS-positie
+		4264=Verplaats kaart naar centrum
+		4265=Verplaats kaart naar centrum
+		4266=Vul de witte vlakken
+		4267=Toon witte gebieden
+		4268=Toon alle caches
+		4269=Toon gemarkeerd caches
+		4270=Open
+		4271=kaarten
+		4272=--- Kaarten met GPS en goto pos. ---
+		4273=--- Kaarten bevatten Curr. positie ---
+		4274=--- Kaarten bevatten goto positie ---
+		4275=Andere kaarten --- ---
+		4276=Annuleren
+		4277=Selecteer
+		4278=Cannot load WFL-file: \n
+		4279=Goto
+		4280=Tegeltjes
+		4281=Medium Tegels
+		4282=Grote Tegels
+		4290=Uitzoomen
+		4291=Zoom
+		4292=Handmatige zoom
+		4293=Zoom naar originele resolutie
+		4294=Vergroten
+		4295=Centrum
+		4296=Detaillering
+		4300=leeg 1 pixel=+
+		4301=+ meter
+		4302=Lat / Lon buiten bereik tijdens het lezen +
+		4303=niet genoeg lijnen in dossier +
+		4304=niet genoeg punten voor het ijken van de kaart
+		4305=Niet toegelaten waarden in affiene%0a (matrix kan niet worden omgekeerd)%0a in bestand%0a
+		4306=kaart niet gekalibreerd
+		4400=Waarschuwing
+		4401=Negeren fout:%0a kon niet naar voren GPS-gegevens met host:%0a
+		4402=%0astop GPS en start het opnieuw proberen
+		4403=Fout
+		4404=Kon niet verbinden met GPS-ontvanger.%0a Fout tijdens het openen van seri?le poort%0a
+		4405=%0apossible redenen: \n ander (GPS-) programma is het blokkeren van de poort%0awrong poort%0aOn Loox: actief infra-rood poort wordt geblokkeerd door GPS "
+		4406=Kopieer jave_ewe.dll in de directory van het programma cachewolf
+		4407=Het profiel bestanden worden niet in de huidige indeling.%0aTherefore ze nu omgezet naar de huidige indeling. Afhankelijk van de grootte van het profiel en de computer voor dit kan enkele minuten duren. Houd er rekening met ons tot de conversie is gedaan.
+		4408=Kan geen verbinding maken RAPV:
+		4409=%0apossible redenen:%0aGPSD host niet bereikbaar is of RAPV is niet actief zijn
 		4500=Tot:
 		4501=Vis:
 		4502=Fnd:
 		4600=Sommige caches kunnen niet worden getoond door verkeerde blacklist status.
+		4700=negeren fout tijdens%0alezing de kalibratie bestand%0a
+		4701=Zoeken naar beste kaart
+		4702=Optimalisatie
+		4703=Cachewolf kan laden kaarten veel sneller door toevoegen van een identificatiemerk op de bestandsnaam. Wil je dat ik om dit te doen nu?%0aIt kan enkele minuten duren.
+		4704=%0ahernoemen bestand:
+		4705=mislukt hernoemen:%0a
+		4706=%0ato:%0an
+		4707=I/O-fout tijdens het lezen:
+		4708=Fout tijdens het lezen:
+		4709=Kan niet vinden afbeelding assiciated naar:%0a
+		4800=Laden kaart online diensten
+		4801=negeren fout tijdens het lezen van%0a Web Map Service definitie bestand%0a
+		4802=Downloaden gekalibreerd (geografische referenties)%0a kaartbeeld %0a '
+		4803='%0a laden tegel%0a rij
+		4804= kolom
+		4805=Tile
+		4806=: negeren fout:
+		4807=loadTo: failed to download kaart: didn't get http - redirect
+		4808=downloadImage: content-type:
+		4809= is niet een beeld, een begin van de inhoud:
+		4810=Fout tijdens het downloaden of opslaan kaart:%0a
+		4811=OnlineMapService: getMapInfoObjectInternal (Area maparea, punt pixelsize):%0a Deze methode moet worden overbelast met het oog op in staat zijn om het te gebruiken
+		4812=WebMapService: pand> Naam: <ontbreekt in bestand:%0a
+		4813=WebMapService: pand> MainUrl: <ontbreekt in bestand:%0a
+		4814=WebMapService: geen CoordinateReferenceSystemCacheWolf gegeven
+		4815=Co?rdinaat referentie systeem niet ondersteund door CacheWolf:%0a
+		4816=WebMapService: onroerend goed > CoordinateReferenceSystemUrlPart: <ontbreekt in bestand:%0a
+		4817=Aantal strings in CoordinateReferenceSystemUrlPart (
+		4818=) moet overeenkomen met het aantal codes in CoordinateReferenceSystemCacheWolf (
+		4819=) gebruik normale ruimte als scheidingsteken
+		4820=WebMapService: onroerend goed > CoordinateReferenceSystemUrlPart: <onjuist in bestand:%0a
+		4821=WebMapService: pand> ImageFileExtension: < ontbreekt in bestand:%0a
+		4822=zone:
+		4823=niet onder dienst:
+		4824=, service area:
+		4825=schaal
+		4826=niet ondersteund door online kaart service, ondersteund schaal range:
+		4827=(gemeten in meters per pixel verticaal)
+		4828=Co?rdinaat systeem niet ondersteund door Cachewolf:
+		4829=getUrlForBoundingBox: Point:
+		4830=Geen overeenkomende Gau% df-Kr% fcger-streep in de EPSG-code lijst in het. WMS
+		4831=getMapInfoObject: Co?rdinaat systeem niet ondersteund door Cachewolf:
+		4900=+ is niet een Duitse Gauss-Krueger te co?rdineren
+		4920=EPSG code +
+		4921=+ niet ondersteund
+		4922=EPSG code ontbreekt in: +
+		4923=fromWgs84: EPSG code +
+		4924=ToWgs84: EPSG code +
 		5000=Laad cache lijst
 		5001=Kan niet extra waypoint laaden.%0aGelieve te laaden hoofd Waypoint.
 		5002=Op het ogenblik is deze functie slechts toepasselijk voor geocaching.com en opencaching.{cz,de,org.uk,pl}.
+		5003=Opties
 		5004=Bouw de verwijzingen voor extra waypoints
 		5497=Fout, verdwenen tag in spider.def.
 		5498=Login fout. Fout bij het laden van de pagina na login.
@@ -788,6 +996,47 @@
 		6104=Cassiopeia
 		6105=Zwaan
 		6106=Zuiderkruis
+		6122=Altioth in de Grote Beer
+		6123=Alnilam in Orion
+		6124=Gamma Cassiopeia
+		6125=Deneb in Cygnus
+		6126=Mimosa in Zuiderkruis
+		7000=Vrijgeven
+		7001=Vrijgeven kandidaat
+		7002=in ontwikkeling, stabiele
+		7003=in ontwikkeling, de nieuwste
+		7010=al actueel
+		7011=Update beschikbaar
+		7012=niet beschikbaar
+		7013=fout
+		7020=aanbevolen versie type
+		7021=type van deze versie
+		7022=Type versie
+		7023=Fout bij het downloaden van de huidige versie informatie
+		7100=Serial Port Opties
+		7101=Update Poorten$u
+		7102=Baud:$b
+		7103=Scannen$u
+		7104=Proef$t
+		7105=Voorwaarts GPS-gegevens te hosten
+		7106=Alle gegevens van GPS wordt verstuurd naar TCP-poort 23%0a en kan er worden doorgestuurd naar een seri%eble poort%0a door
+		7107=Interval in seconden voor houtkap
+		7108=Fout: failed to open seri%eble poort:+
+		7109=Fout: Kon geen lijst van beschikbare seri%eble poorten%0a
+		7110=GPS niet gevonden%0a
+		7111=Proberen+
+		7112=op+
+		7113=- ik heb bepaalde gegevens%0a
+		7114=GPS Poort gevonden%0a
+		7115=- Geen GPS-gegevens tag gevonden%0a
+		7116=- geen gegevens ontvangen%0a
+		7117=Displaying gegevens van seri?le poort direct:%0a
+		7118=Stop
+		7119=Stop
+		7120=Geannuleerd
+		7121=ontvangen van GPS-ontvangst gpsd
+		7122=GPS-gegevens worden ontvangen van een gpsd server, niet van een seri?le poort
+		7200=Gebruik: CacheWolf [-c <pad naar pref.xml>] [-debug]
 		7300=Straat / POI
 		7301=Stad
 		7302=Zoeken
@@ -797,6 +1046,6 @@
 		7306=zoeken...
 		7307=geannuleerd door gebruiker
 		7308=Kan geen verbinding
-    {..}
+    		{..}
 	{..}
 {..}

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-06-15 19:19:25 UTC (rev 2615)
+++ trunk/res_noewe/languages/PL.cfg	2010-06-16 07:26:08 UTC (rev 2616)
@@ -335,6 +335,7 @@
                 740=wszystkie
                 741=jedna
                 742=zadna
+                743=Bez wsp%f3lrzednych
                 800=Tworzenie listy
                 801=Szukanie...
                 802=Skrzynki zidentyfikowane. Szukanie...
@@ -458,6 +459,7 @@
                 1412=Niepoprawne wspolrzedne. Uzyc tak czy tak?
                 1413=Czysto
                 1414=Szukaj
+		1415=Pelengowac Peilung
                 1500=DST:
                 1501=Aktualna
                 1502=deg
@@ -547,6 +549,7 @@
                 1741=Crossazymut musi byc w przedziale [0;2*PI]
                 1742=Crossazymut: Odleglosc miedzy punktami za mala
                 1743=Crossazymut obliczenia nieudane. Prosze poinformowac programistow na geoclub.de
+		1744=precyzowanie z identycznym katem wplywu nie jest mozliwe
                 1800=Sciagnij skalibrowane mapy
                 1801=Sciagnij kawalki (?)
                 1802=Sciagnij skalibrowane mapy%0a Wybierz serwis online:
@@ -581,12 +584,17 @@
                 1831= do
                 1832=%0a Prosze dostosowac 'Approx. meter pro pixel' accordingly
                 1833=Prosze nie wybierac lini separatora w opcjach serwisu wms
-		1834=[Please enter the correct path to Kosmos.Console.exe into the wms-file.]
+		1834=Prosze wpisac poprawna sciezke do Kosmos.Console.exe w wms pliku.
 		1835=[Tilesize:]
 		1836=[Width of tiles must be greater 0.]
 		1837=[Height of tiles must be greater 0.]
                 2000=GPX Export
                 2001=of
+		2100=Explorist Eksporter
+		2101=Nie mozna zaladowac pliku magellan.cfg
+		2102=Wybierz plik docelowy
+		2103=Blad odczytu pliku magellan.cfg
+		2104=Wybierz katalog wyjsciowy dla GS-files
                 2500=Blad wczytywania albo bledne atrybuty
                 2501=niedostepna 24-7
                 2502=dostepna 24-7
@@ -741,6 +749,7 @@
                 3000=Zamknij
                 4000=Wczytaj skrzynki:+
                 4001=Pliki GPX z opencaching nie zawieraja informacji o obrazach, nie moga byc one wczytane. Najlepiej pobierz skrzynki z opencaching przez menu /Aplikacja/Importuj/Sciagnij Z Opencaching
+		4100=Wybierz katalog:
                 4101=Mapy
                 4102=Skalibrowane mapy
                 4103=Nie skalibrowane mapy
@@ -782,8 +791,11 @@
                 4221=Za malo zrodel do wczytania mapy:+
                 4222=Za malo pamieci
                 4230=Idz tu$g
+                4231=Idz tu
                 4232=Utworz nowy Waypoint tutaj$n
+                4233=Utworz nowy Waypoint tutaj
                 4234=Wybierz mape recznie$s
+                4235=Wybierz mape recznie
                 4236=Zmien katalog map$c
                 4237=Zmien katalog map
                 4238=Pokaz mape
@@ -792,6 +804,7 @@
                 4241=Ukryj mape
                 4242=Sposob autozmian mapy
                 4244=Najwyzsza rozdz. zawierajaca akt. polozenie i cel
+                4245=Najwyzsza rozdz. zawierajaca akt. polozenie i cel
                 4246=Najwieksza rozdzielczosc
                 4247=Najwieksza rozdzielczosc
                 4248=Reczna rozdzielczosc
@@ -815,7 +828,8 @@
 		4268=[Alle Cache anzeigen]
 		4269=[markierte Cache anzeigen]
                 4270=Otworz
-                4271=--- Mapy zawierajace GPS i pozycje IdzDo. ---
+		4271=Mapy
+                4272=--- Mapy zawierajace GPS i pozycje IdzDo. ---
                 4273=--- Mapy zawierajace akt. pozycje ---
                 4274=--- Mapy zawierajace pozycje IdzDo ---
                 4275=--- Inne mapy ---
@@ -823,6 +837,16 @@
                 4277=Wybierz
                 4278=Nie moge wczytac wfl-plik: \n
                 4279=Idz do
+		4280=malych plytek
+		4281=Plytki sredniego
+		4282=duzych plytek
+                4290=pomniejszyc
+                4291=Powieksz
+                4292=Zoom manualny
+                4293=zoom do oryginalnej rozdzielczosci
+		4294=zoom
+		4295=center
+		4296=detailing
                 4300=Pusty 1 Pixel =+
                 4301=+metrow
                 4302=Lat/Lon poza obszarem podczas wczytywania+
@@ -892,14 +916,14 @@
                 4922=EPSG code brakujacy w:+
                 4923=fromWgs84: EPSG code+
                 4924=ToWgs84: EPSG code+
-                5498=Nieudane logowanie. Blad wczytania strony po zalogowaniu.
-                5499=Blad wczytywania strony logowania.%0aProsze sprawdzic polaczenie z internetem.
                 5000=Wczytuje liste skrzynek
                 5001=Nie moge powiazac spiderem waypointow bezposrednio.%0aProsze sprawdzic glowna skrzynke.
                 5002=: Na ten moment, ta funkcja jest dostepna tylko dla geocaching.com i opencaching.{cz,de,org.uk,pl}.
                 5003=Opcje
                 5004=Buduje powiazania z dodatkowymi waypointami...
                 5497=Blad: Brakuje tagu w spider.def
+                5498=Nieudane logowanie. Blad wczytania strony po zalogowaniu.
+                5499=Blad wczytywania strony logowania.%0aProsze sprawdzic polaczenie z internetem.
                 5500=Blad
                 5501=Logowanie nieudane! Brak konta lub zle haslo?
                 5502=Sciagam pierwsza strone...
@@ -971,6 +995,11 @@
                 6103=Orion
                 6104=Cassiopeia
                 6105=Cygnus
+		6106=Krzyzu Poludnia
+		6122=Altioth w Wielki W?z
+		6123=Alnilam w Orionie
+		6124=Gamma Cassiopeia
+		6125=Deneb w gwiazdozbiorze Labedzia
                 6126=Mimosa w Krzyzu Poludnia
                 7000=Wypuszczona
                 7001=RC

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-06-15 19:19:25 UTC (rev 2615)
+++ trunk/res_noewe/languages/SV.cfg	2010-06-16 07:26:08 UTC (rev 2616)
@@ -92,14 +92,14 @@
         	162=Ladda kalibrerad
         	170=V%e4lj databas
         	171=profil finns inte: +
-        	172=Fel: kan inte skapa kartor katalog:% 0A
+        	172=Fel: kan inte skapa kartor katalog:%0a
         	173=gpsbabel:
         	174=korta namn
         	175=Importera
-        	176=F%f6rsta start% 0A V%e4lj en data 0a katalog% och skapa en ny profil% 0A% 0A avancerat:% 0A inte kunde l%e4sa inst%e4llningsfil:% 0A
+        	176=F%f6rsta start%0a V%e4lj en data 0a katalog% och skapa en ny profil%0a%0a avancerat:%0a inte kunde l%e4sa inst%e4llningsfil:%0a
         	177 =-- inte l%e4ngre anv%e4nds --
         	178=versionkontroll
-        	179=Du %e4r p%e5% 0athe nuvarande version.
+        	179=Du %e4r p%e5%0athe nuvarande version.
         	180=Drag cachar
         	181=h%e4r
         	182=Ny lista
@@ -115,7 +115,7 @@
         	192=Spara %e4ndringar
         	193=L%e4gg till Addis
         	195=Nuvarande Centre
-        	196=totalt antal cachar (GC & OC)% 0aTotal # synlig% 0aTotal # hittades
+        	196=totalt antal cachar (GC & OC)%0aTotal # synlig%0aTotal # hittades
         	197=Visa / D%f6lj cachetour
         	198=Cachetour
         	199=L%e4gg till cachetour
@@ -130,7 +130,7 @@
         	208=Rebuild index
         	209=Rebuilding index
         	210=cachar utg%e5: +
-        	211 =% 0aCaches till: +
+        	211 =%0aCaches till: +
         	212=Ta bort alla. XML-filer inte index.xml och tillh%f6rande bilder
         	213=bort f%f6r%e4ldral%f6sa
         	214=Ny v%e4gpunkt
@@ -174,7 +174,7 @@
         	272=CacheWolf version:
         	273=filter on / off
         	274=no autosort
-        	275=Waypoint finns redan!% 0aPlease d%f6pa waypoint innan de l%e4mnar detaljer!
+        	275=Waypoint finns redan!%0aPlease d%f6pa waypoint innan de l%e4mnar detaljer!
         	299=Vanligt uttryck
         	300=Typ:
         	301=Storlek:
@@ -202,11 +202,11 @@
         	323=Fehler beim Schreiben der Datei
         	324=- f%f6rs%f6ka igen?
         	325=Inte nog referenspunkter, karta inte kalibreras
-        	326=Ingen kalibreras karta tillg%e4nglig. % 0A V%e4lj en skala att visa sp%e5r och cachar.
+        	326=Ingen kalibreras karta tillg%e4nglig. %0a V%e4lj en skala att visa sp%e5r och cachar.
         	327=Information
         	328=Datum hittades
         	329=Dold p%e5
-        	330=Datum hittades inte
+        	330=Datum inte hittade
         	340=Cache Bilder:
         	341=User Bilder:
         	342=bort
@@ -233,9 +233,9 @@
         	588=Enhet System
         	589=Metric (km)
         	590=Imperial (mi.)
-        	591=L%e4mna tom f%f6r standardspr%e5k eller% 0aadd 2 tecken spr%e5k, t.ex. DE, EN
+        	591=L%e4mna tom f%f6r standardspr%e5k eller%0aadd 2 tecken spr%e5k, t.ex. DE, EN
         	592=Spr%e5k (behov omstart)
-        	593=L%f6senordet %e4r frivillig h%e4r.% 0aEnter bara om du vill lagra det i pref.xml
+        	593=L%f6senordet %e4r frivillig h%e4r.%0aEnter bara om du vill lagra det i pref.xml
         	594=Passwd
         	595=List
         	596=Namn
@@ -386,7 +386,7 @@
         	1026=# Rec
         	1027=OC-Index
         	1028 =)?
-        	1029=Det finns waypoints som %e4r markerade men osynligt.% 0A (Main cachar: +
+        	1029=Det finns waypoints som %e4r markerade men osynligt.%0a (Main cachar: +
         	1030 =, ytterligare Waypoints: +
         	1031=Ta bort dem ocks%e5?
         	1032=S%f6kv%e4g till webbl%e4sare:
@@ -459,6 +459,7 @@
         	1412=Koordinater ogiltig. Ans%f6k anyway?
         	1413=Clear
         	1414=S%f6k
+		1415=B%e4ring
         	1500=DST:
         	1501=Nuvarande
         	1502=deg
@@ -469,8 +470,8 @@
         	1507=koordinater %e4r utom r%e4ckh%e5ll:
         	1508=latitud
         	1509=longitud
-        	1510=Inga data fr%e5n GPS% 0aConnection till serieport st%e4ngd
-        	1511=Kan inte tolka data fr%e5n GPS% 0A m%f6jliga orsaker:% 0A fel Port,% 0A fel Baudrate,% 0A inte NMEA-protokoll% 0aConnection till serieport st%e4ngd String% 0aLast f%f6rs%f6kt att tolka:% 0A
+        	1510=Inga data fr%e5n GPS%0aConnection till serieport st%e4ngd
+        	1511=Kan inte tolka data fr%e5n GPS%0a m%f6jliga orsaker:%0a fel Port,%0a fel Baudrate,%0a inte NMEA-protokoll%0aConnection till serieport st%e4ngd String%0aLast f%f6rs%f6kt att tolka:%0a
         	1512=Waypoint
         	1513=Kan inte b%f6rja r%f6ra karta utan giltig koordinater. V%e4nligen ange koordinater som destination som center eller i utvalda cache, eller starta GPS
         	1514=Kan inte r%e4kna avst%e5nd, eftersom GPS-position %e4r inte inst%e4lld
@@ -495,7 +496,7 @@
         	1618=Ignorera fel i Cache: +
         	1619 =: kunde inte ladda ner bild fr%e5n URL: +
         	1620=h%e4mta inb%e4ddade bilder: +
-        	1621=Fel vid tolkning av data% 0a fr%e5n Opencaching.de, %e4r% 0aThis troligen ett fel p%e5 Opencaching.de% 0aRetry senare% 0A Status:
+        	1621=Fel vid tolkning av data%0a fr%e5n Opencaching.de, %e4r%0aThis troligen ett fel p%e5 Opencaching.de%0aRetry senare%0a Status:
         	1622=Uteslut hittade cachar
         	1623=Importera upto:
         	1624=+ cachar (tom=alla)
@@ -548,9 +549,10 @@
         	1741=Crossbearing grader m%e5ste vara i intervallet [0, 2 * PI]
         	1742=Crossbearing: avst%e5nd mellan punkter till sm%e5
         	1743=Crossbearing ber%e4kning misslyckades. V%e4nligen informera utvecklarna p%e5 geoclub.de
-        	1800=H%e4mta georefererade kartor
+		1744=utforskning med identiska med vinklarna inte %e4r m%f6jligt
+		1800=H%e4mta georefererade kartor
         	1801=Ladda ner plattor
-        	1802=Ladda georefererade kartor% 0A V%e4lj webbtj%e4nst:
+        	1802=Ladda georefererade kartor%0a V%e4lj webbtj%e4nst:
         	1803=f%f6r
         	1804=alla
         	1805=ikryssad
@@ -564,12 +566,12 @@
         	1813=H%e4mta en karta f%f6r
         	1814=Per cache
         	1815=H%e4mtar georefererade kartor
-        	1816=H%e4mtar georefererade kartor% 0A% 0A% 0A% 0A% 0A
+        	1816=H%e4mtar georefererade kartor%0a%0a%0a%0a%0a
         	1817=Inga cachar %e4r markerade
         	1818=getSortedMapServiceIndex: index
         	1819=inte hittas
         	1820=H%e4mtar karta "
-        	1821 =% 0A f%f6r cache:% 0A
+        	1821 =%0a f%f6r cache:%0a
         	1822=Cache:
         	1823=Ignorera fel:
         	1824=nedladdning %f6versiktskarta
@@ -580,7 +582,7 @@
         	1829=Fyll i "centrum" kring vilka kartor som skall laddas ner
         	1830=Det valda online karttj%e4nst erbjuder karta i skala fr%e5n
         	1831=till
-        	1832 =% 0A Justera "Ca. meter pro pixel "i enlighet
+        	1832 =%0a Justera "Ca. meter pro pixel "i enlighet
         	1833=V%e4lj inte den separetor linje i WMS tj%e4nst alternativet
         	1834=Skriv in r%e4tt s%f6kv%e4g till Kosmos.Console.exe till WMS-filen.
 		1835=[Tilesize:]
@@ -588,6 +590,11 @@
 		1837=[Height of tiles must be greater 0.]
         	2000=GPX Exportera
         	2001=av
+		2100=Explorist Exporter
+		2101=Kunde inte l%e4sa in filen magellan.cfg
+		2102=V%e4lj m%e5lfil
+		2103=Fel vid l%e4sning av filen magellan.cfg
+		2104=V%e4lj produktionen katalog f%f6r GS-filer
         	2500=Fel vid laddning av attribut eller ok%e4nd attribut
         	2501=inte 24-7
         	2502=tillg%e4nglig 24-7
@@ -740,8 +747,9 @@
 2649 = ingen koppling till GC, ...
 2650 = hyperl%e4nk till GC, ...
         	3000=St%e4ng
-        	4000=Loaded cachar: +
+        	4000=Loaded cachar:+
         	4001=GPX filer fr%e5n opencaching inte inneh%e5ller n%e5gon information av bilder, kan de inte laoded. B%e4st du cachar fr%e5n opencaching genom menyn / Application / Import / Download fr%e5n Opencaching
+		4100=V%e4lj katalog:
         	4101=Maps
         	4102=Kalibrerade kartor
         	4103=inte kalibreras kartor
@@ -765,26 +773,29 @@
         	4200=V%e4lj karta katalog
         	4201=Information
         	4203=Lastspecifikationers av kartor ...
-        	4204=Ingen georefererade kartan tillg%e4nglig% 0A V%e4lj en skala% 0A att visa sp%e5ret och cachar. % 0A Du kan f%e5 en av menyn: Application / Kartor / download kalibrerad
+        	4204=Ingen georefererade kartan tillg%e4nglig%0a V%e4lj en skala%0a att visa sp%e5ret och cachar. %0a Du kan f%e5 en av menyn: Application / Kartor / download kalibrerad
         	4206=Dist: +
         	4207=Fel
-        	4208=Bug:% 0aillegal mapChangeModus: +
-        	4210=Flytta kartan kan inte k%f6ras utan en karta - v%e4lj ett. % 0A Du kan v%e4lja en tom karta
+        	4208=Bug:%0aillegal mapChangeModus: +
+        	4210=Flytta kartan kan inte k%f6ras utan en karta - v%e4lj ett. %0a Du kan v%e4lja en tom karta
         	4211=No +
         	4212=mindre
         	4213=mer
         	4214=+ detaljerad karta finns
         	4215=Ingen cachar ut av en f%e4sting
         	4216=Laddar karta ...
-        	4217=Kunde inte hitta bilden i samband med:% 0A
-        	4218=Kunde inte l%e4sa kartan:% 0A
-        	4219=Inte tillr%e4ckligt med minne f%f6r att l%e4sa kartan:% 0A
-        	4220 =% 0A Du kan prova att st%e4nga% 0A alla prgrams och 0A% starta CacheWolf
+        	4217=Kunde inte hitta bilden i samband med:%0a
+        	4218=Kunde inte l%e4sa kartan:%0a
+        	4219=Inte tillr%e4ckligt med minne f%f6r att l%e4sa kartan:%0a
+        	4220 =%0a Du kan prova att st%e4nga%0a alla prgrams och 0A% starta CacheWolf
         	4221=inte tillr%e4ckligt med resurser f%f6r att ladda kartan: +
         	4222=Out of memory error
         	4230=G%e5 hit$g
+        	4231=G%e5 hit
         	4232=Skapa ny waypoint h%e4r$n
+        	4233=Skapa ny waypoint h%e4r
         	4234=V%e4lj en karta manuellt$s
+        	4235=V%e4lj en karta manuellt
         	4236=%e4ndra kartan katalog$c
         	4237=Change map katalog
         	4238=Visa karta
@@ -793,6 +804,7 @@
         	4241=D%f6lj karta
         	4242=Modus f%f6r automatisk karta f%f6r%e4ndring
         	4244=H%f6gsta res. inneh%e5llande dest. & Cur. position
+        	4245=H%f6gsta res. inneh%e5llande dest. & Cur. position
         	4246=H%f6gsta uppl%f6sning
         	4247=H%f6gsta uppl%f6sning
         	4248=Beh%e5ll manual uppl%f6sning
@@ -816,9 +828,10 @@
         	4268=Visa alla cachar
         	4269=Visa markerade cachar
         	4270=%f6ppna
-        	4271 =--- Kartor med GPS och pos goto. ---
-        	4273 =--- Maps inneh%e5ller Curr. position ---
-        	4274 =--- Maps inneh%e5ller goto l%e4ge ---
+        	4271=Kartor
+        	4272 =--- Kartor med GPS och pos goto. ---
+        	4273 =--- Kartor inneh%e5ller Curr. position ---
+        	4274 =--- Kartor inneh%e5ller goto l%e4ge ---
         	4275 =--- Andra kartor ---
         	4276=Avbryt
         	4277=V%e4lj
@@ -827,59 +840,66 @@
         	4280=Liten Tiles
         	4281=Medium Tiles
         	4282=Big Tiles
+		4290=utzoomning
+		4291=zooma in
+		4292=manuell zoom
+		4293=Zooma till ursprunglig uppl%f6sning
+		4294=zoom
+		4295=center
+		4296=detailing
         	4300=tom 1 pixel=+
         	4301=+ meter
         	4302=Lat / Lon r%e4ckh%e5ll n%e4r du l%e4ser +
         	4303=inte tillr%e4ckligt rader i filen +
         	4304=inte tillr%e4ckligt med po%e4ng f%f6r att kalibrera kartan
-        	4305=Ej till%e5tet v%e4rden i affine% 0A (matris kan inte inverteras)% 0A i filen% 0A
+        	4305=Ej till%e5tet v%e4rden i affine%0a (matris kan inte inverteras)%0a i filen%0a
         	4306=map inte kalibreras
         	4400=Varning
-        	4401=Ignorera fel:% 0A kunde inte fram emot GPS-data till host:% 0A
-        	4402 =% 0astop och GPS b%f6rja f%f6rs%f6ka igen
+        	4401=Ignorera fel:%0a kunde inte fram emot GPS-data till host:%0a
+        	4402 =%0astop och GPS b%f6rja f%f6rs%f6ka igen
         	4403=Fel
-        	4404=Kunde inte ansluta till GPS-mottagare.% 0A Fel vid %f6ppning serieport% 0a
-        	4405 =% 0apossible sk%e4l: \ n Another (GPS-) program blockerar port% 0awrong port% 0aOn Loox: aktiv infrar%f6d port blockerar GPS "
+        	4404=Kunde inte ansluta till GPS-mottagare.%0a Fel vid %f6ppning serieport%0a
+        	4405 =%0apossible sk%e4l: \ n Another (GPS-) program blockerar port%0awrong port%0aOn Loox: aktiv infrar%f6d port blockerar GPS "
         	4406=Kopiera jave_ewe.dll i katalogen av cachewolf program
-        	4407=Profilen filer %e4r inte i det aktuella formatet.% 0aTherefore de nu omvandlas till det aktuella formatet. Beroende av storleken p%e5 profilen och den dator som anv%e4nds h%e4r kan ta n%e5gra minuter. V%e4nligen ha med oss tills konverteringen %e4r klar.
+        	4407=Profilen filer %e4r inte i det aktuella formatet.%0aTherefore de nu omvandlas till det aktuella formatet. Beroende av storleken p%e5 profilen och den dator som anv%e4nds h%e4r kan ta n%e5gra minuter. V%e4nligen ha med oss tills konverteringen %e4r klar.
         	4408=Kunde inte ansluta till GPSD:
-        	4409 =% 0apossible sk%e4l:% 0aGPSD v%e4rd %e4r inte n%e5s eller GPSD %e4r inte ig%e5ng det
+        	4409 =%0apossible sk%e4l:%0aGPSD v%e4rd %e4r inte n%e5s eller GPSD %e4r inte ig%e5ng det
         	4500=Tot:
         	4501=Visa:
         	4502=FND:
         	4600=Vissa cache (s) inte kan uppfyllas p%e5 grund av fel svartlista status
-        	4700=Ignorera fel medan% 0areading% kalibrering fil 0a
+        	4700=Ignorera fel medan%0areading% kalibrering fil 0a
         	4701=S%f6ker efter b%e4sta karta
         	4702=Optimering
-        	4703=Cachewolf kan g%f6ra lastning kartor mycket snabbare genom att l%e4gga till ett identifieringsm%e4rke p%e5 filnamnet. Vill du att jag ska g%f6ra det nu?% 0aIt kan ta flera minuter.
-        	4704 =% 0aRenaming fil:
-        	4705=Kunde inte byta namn till% 0A
-        	4706 =% 0ato:% 0an
+        	4703=Cachewolf kan g%f6ra lastning kartor mycket snabbare genom att l%e4gga till ett identifieringsm%e4rke p%e5 filnamnet. Vill du att jag ska g%f6ra det nu?%0aIt kan ta flera minuter.
+        	4704 =%0aRenaming fil:
+        	4705=Kunde inte byta namn till%0a
+        	4706 =%0ato:%0an
         	4707=I / O-Fel vid l%e4sning:
         	4708=Fel vid l%e4sning:
-        	4709=Kunde inte hitta bilden assiciated till:% 0A
+        	4709=Kunde inte hitta bilden assiciated till:%0a
         	4800=Laddar online karttj%e4nster
-        	4801=Ignorera fel medan% 0A l%e4sning Web Map Service definitionsfilen% 0A
-        	4802=H%e4mtar kalibrerad (georefererade)% 0A kartbild% 0a "
-        	4803='% 0A Downloading kakel% 0a rad
+        	4801=Ignorera fel medan%0a l%e4sning Web Map Service definitionsfilen%0a
+        	4802=H%e4mtar kalibrerad (georefererade)%0a kartbild%0a "
+        	4803='%0a Downloading kakel%0a rad
         	4804=kolumn
         	4805=Tile
         	4806 =: Ignorera fel:
         	4807=loadTo: misslyckades med att ladda ner kartan: fick inte http-redirect
         	4808=downloadImage: Content-Type:
         	4809=%e4r inte en bild, b%f6rjar av inneh%e5ll:
-        	4810=Fel vid nedladdning eller spara karta:% 0A
-        	4811=OnlineMapService: getMapInfoObjectInternal (omr%e5de maparea punkt pixelsize):% 0A Denna metod m%e5ste belastas f%f6r att kunna anv%e4nda den
-        	4812=WebMapService: egendom> Namn: <saknas i filen:% 0A
-        	4813=WebMapService: Objekt> MainUrl: <saknas i filen:% 0A
+        	4810=Fel vid nedladdning eller spara karta:%0a
+        	4811=OnlineMapService: getMapInfoObjectInternal (omr%e5de maparea punkt pixelsize):%0a Denna metod m%e5ste belastas f%f6r att kunna anv%e4nda den
+        	4812=WebMapService: egendom> Namn: <saknas i filen:%0a
+        	4813=WebMapService: Objekt> MainUrl: <saknas i filen:%0a
         	4814=WebMapService: ingen CoordinateReferenceSystemCacheWolf ges
-        	4815=koordinatsystem som inte st%f6ds av CacheWolf:% 0A
-        	4816=WebMapService: Objekt> CoordinateReferenceSystemUrlPart: <saknas i filen:% 0A
+        	4815=koordinatsystem som inte st%f6ds av CacheWolf:%0a
+        	4816=WebMapService: Objekt> CoordinateReferenceSystemUrlPart: <saknas i filen:%0a
         	4817=antal str%e4ngar i CoordinateReferenceSystemUrlPart (
         	4818 =) m%e5ste st%e4mma %f6verens med antalet koder i CoordinateReferenceSystemCacheWolf (
         	4819 =) anv%e4nda normal utrymme som separator
-        	4820=WebMapService: Objekt> CoordinateReferenceSystemUrlPart: <felaktig fil:% 0A
-        	4821=WebMapService: Objekt> ImageFileExtension: <saknas i filen:% 0A
+        	4820=WebMapService: Objekt> CoordinateReferenceSystemUrlPart: <felaktig fil:%0a
+        	4821=WebMapService: Objekt> ImageFileExtension: <saknas i filen:%0a
         	4822=area:
         	4823=inte omfattas av tj%e4nsten
         	4824=, service area:
@@ -896,14 +916,14 @@
         	4922=EPSG kod saknas i: +
         	4923=fromWgs84: EPSG kod +
         	4924=ToWgs84: EPSG kod +
-        	5498=Inloggning misslyckades. Fel vid laddning av sidan efter inloggning.
-        	5499=Fel vid inl%e4sning av inloggningssidan.% 0aPlease kontrollera din Internetanslutning.
         	5000=Load Cachelist
-        	5001=Kan inte spindel ytterligare waypoint direkt.% 0aPlease kolla viktigaste cache.
+        	5001=Kan inte spindel ytterligare waypoint direkt.%0aPlease kolla viktigaste cache.
         	5002 =: F%f6r n%e4rvarande %e4r denna funktion endast tillg%e4nglig f%f6r geocaching.com och opencaching. (CZ, DE, org.uk, pl).
         	5003=Inst%e4llningar
         	5004=Building referenser f%f6r ytterligare waypoints ...
         	5497=Fel saknas tag i spider.def
+        	5498=Inloggning misslyckades. Fel vid laddning av sidan efter inloggning.
+        	5499=Fel vid inl%e4sning av inloggningssidan.%0aPlease kontrollera din Internetanslutning.
         	5500=Fel
         	5501=Inloggning misslyckades! Fel konto eller l%f6senord?
         	5502=H%e4mtar f%f6rsta sidan ...
@@ -918,13 +938,13 @@
         	5511=Found +
         	5512=+ nya cachar
         	5513=Laddar: +
-        	5514 =% 0aGetting bug: +
-        	5515=Kunde inte ladda cache.% 0aPlease kontrollera din Internetanslutning.% 0aRetry?
-        	5516=+ cache beskrivningar% 0acould inte laddas.
+        	5514 =%0aGetting bug: +
+        	5515=Kunde inte ladda cache.%0aPlease kontrollera din Internetanslutning.%0aRetry?
+        	5516=+ cache beskrivningar%0acould inte laddas.
         	5517=Spider uppdateringar?
         	5518=+ cachar i databasen beh%f6ver uppdateras. Uppdatera nu?
         	5519=Information
-        	5520=Endast ges maximalt cachar lastades.% 0aRepeat spidering senare att l%e4sa mer cachar.% 0aNo redan existerande cachar har uppdaterats.
+        	5520=Endast ges maximalt cachar lastades.%0aRepeat spidering senare att l%e4sa mer cachar.%0aNo redan existerande cachar har uppdaterats.
         	5521=Sida +
         	5522=S%f6k %e4ldre xml-filer (utan <CACHE... />)?
         	6000=Guid
@@ -975,6 +995,11 @@
         	6103=Orion
         	6104=Cassiopeia
         	6105=Cygnus
+		6106=S?dra Korset
+		6122=Altioth i Karlavagnen
+		6123=Alnilam i Orion
+		6124=Gamma Cassiopeia
+		6125=Deneb i Cygnus
         	6126=Mimosa i Southern Cross
         	7000=Release
         	7001=Release Candidate
@@ -994,18 +1019,18 @@
         	7103=Scan$u
         	7104=Test$t
         	7105=Forward GPS-data att vara v%e4rd
-        	7106=Alla data fr%e5n GPS kommer att skickas till TCP-port 23% 0A och kan omf%f6rdelas det till en seriell port% 0a av
+        	7106=Alla data fr%e5n GPS kommer att skickas till TCP-port 23%0a och kan omf%f6rdelas det till en seriell port%0a av
         	7107=Intervall i sekunder f%f6r avverkning
         	7108=Fel: Kunde inte %f6ppna serieport: +
-        	7109=Fel: Kunde inte h%e4mta lista %f6ver tillg%e4ngliga seriella portar% 0a
-        	7110=GPS hittades inte% 0a
+        	7109=Fel: Kunde inte h%e4mta lista %f6ver tillg%e4ngliga seriella portar%0a
+        	7110=GPS hittades inte%0a
         	7111=Trying +
         	7112=at +
-        	7113=- fick en del data% 0a
-        	7114=GPS Port hittades% 0a
-        	7115=- Ingen GPS data tag hittades% 0a
-        	7116=- inga uppgifter inkom% 0a
-        	7117=Visa data fr%e5n serieporten direkt:% 0A
+        	7113=- fick en del data%0a
+        	7114=GPS Port hittades%0a
+        	7115=- Ingen GPS data tag hittades%0a
+        	7116=- inga uppgifter inkom%0a
+        	7117=Visa data fr%e5n serieporten direkt:%0a
         	7118=Stopp
         	7119=Stopp
         	7120=annullerad
@@ -1024,3 +1049,4 @@
 		{..}
 	{..}
 {..}
+



From araber95 at mail.berlios.de  Wed Jun 16 11:14:13 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 16 Jun 2010 11:14:13 +0200
Subject: [Cachewolf-svn] r2617 - in trunk: . res_noewe res_noewe/languages
	res_noewe/mmc res_noewe/mmc/Desktop src/CacheWolf/navi/touchControls
Message-ID: <201006160914.o5G9EDPd002188@sheep.berlios.de>

Author: araber95
Date: 2010-06-16 11:14:03 +0200 (Wed, 16 Jun 2010)
New Revision: 2617

Added:
   trunk/res_noewe/mmc/
   trunk/res_noewe/mmc/Beschreibung.html
   trunk/res_noewe/mmc/Desktop/
   trunk/res_noewe/mmc/pda/
   trunk/res_noewe/mmc/pda_vga/
Removed:
   trunk/res_noewe/mmc240x320/
   trunk/res_noewe/mmc480x640/
   trunk/res_noewe/mmcDesktop/
Modified:
   trunk/getRes.bat
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/mmc/Desktop/movingMapControls.xml
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
Log:
1. localisation for desktop

Modified: trunk/getRes.bat
===================================================================
--- trunk/getRes.bat	2010-06-16 07:26:08 UTC (rev 2616)
+++ trunk/getRes.bat	2010-06-16 09:14:03 UTC (rev 2617)
@@ -17,12 +17,14 @@
 mkdir .\work\attributes
 copy .\res_noewe\attributes\*.* .\work\attributes\*.*
 REM
-mkdir .\work\mmcDesktop
-copy .\res_noewe\mmcDesktop\*.* .\work\mmcDesktop\*.*
-mkdir .\work\mmc240x320
-copy .\res_noewe\mmc240x320\*.* .\work\mmc240x320\*.*
-mkdir .\work\mmc480x640
-copy .\res_noewe\mmc480x640\*.* .\work\mmc480x640\*.*
+mkdir .\work\mmc
+copy .\res_noewe\mmc\*.* .\work\mmc\*.*
+mkdir .\work\mmc\Desktop
+copy .\res_noewe\mmc\Desktop\*.* .\work\mmc\Desktop\*.*
+mkdir .\work\mmc\pda
+copy .\res_noewe\pda\*.* .\work\pda\*.*
+mkdir .\work\mmc\pda_vga
+copy .\res_noewe\mmc\pda_vga\*.* .\work\mmc\pda_vga\*.*
 REM
 mkdir .\work\webmapservices
 copy .\res_noewe\webmapservices\*.* .\work\webmapservices\*.*

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-06-16 07:26:08 UTC (rev 2616)
+++ trunk/res_noewe/languages/DE.cfg	2010-06-16 09:14:03 UTC (rev 2617)
@@ -844,7 +844,7 @@
 		4291=Hineinzoomen
 		4292=Manuell zoomen
 		4293=Zur Originalaufl%f6sung zoomen
-		4294=Vergr?ssern
+		4294=Vergr%f6ssern
 		4295=Mittelpunkt
 		4296=Detaillierung
 		4300=Leer 1 Punkt =+

Added: trunk/res_noewe/mmc/Beschreibung.html
===================================================================
--- trunk/res_noewe/mmc/Beschreibung.html	2010-06-16 07:26:08 UTC (rev 2616)
+++ trunk/res_noewe/mmc/Beschreibung.html	2010-06-16 09:14:03 UTC (rev 2617)
@@ -0,0 +1,183 @@
+<html xmlns:o="urn:schemas-microsoft-com:office:office"
+xmlns:w="urn:schemas-microsoft-com:office:word"
+xmlns="http://www.w3.org/TR/REC-html40">
+
+<head>
+<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
+<meta name=ProgId content=Word.Document>
+<meta name=Generator content="Microsoft Word 10">
+<meta name=Originator content="Microsoft Word 10">
+<link rel=File-List href="Beschreibung-Dateien/filelist.xml">
+<title>Anpassungen der Schaltfl?chen der Kartenanzeige:</title>
+<!--[if gte mso 9]><xml>
+ <o:DocumentProperties>
+  <o:LastAuthor>.</o:LastAuthor>
+  <o:Revision>4</o:Revision>
+  <o:Created>2010-06-16T08:58:00Z</o:Created>
+  <o:LastSaved>2010-06-16T08:59:00Z</o:LastSaved>
+  <o:Pages>1</o:Pages>
+  <o:Words>166</o:Words>
+  <o:Characters>1050</o:Characters>
+  <o:Company>CF Computer</o:Company>
+  <o:Lines>8</o:Lines>
+  <o:Paragraphs>2</o:Paragraphs>
+  <o:CharactersWithSpaces>1214</o:CharactersWithSpaces>
+  <o:Version>10.6858</o:Version>
+ </o:DocumentProperties>
+</xml><![endif]--><!--[if gte mso 9]><xml>
+ <w:WordDocument>
+  <w:SpellingState>Clean</w:SpellingState>
+  <w:GrammarState>Clean</w:GrammarState>
+  <w:HyphenationZone>21</w:HyphenationZone>
+  <w:Compatibility>
+   <w:BreakWrappedTables/>
+   <w:SnapToGridInCell/>
+   <w:WrapTextWithPunct/>
+   <w:UseAsianBreakRules/>
+  </w:Compatibility>
+  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
+ </w:WordDocument>
+</xml><![endif]-->
+<style>
+<!--
+ /* Font Definitions */
+ @font-face
+	{font-family:Verdana;
+	panose-1:2 11 6 4 3 5 4 4 2 4;
+	mso-font-charset:0;
+	mso-generic-font-family:swiss;
+	mso-font-pitch:variable;
+	mso-font-signature:536871559 0 0 0 415 0;}
+ /* Style Definitions */
+ p.MsoNormal, li.MsoNormal, div.MsoNormal
+	{mso-style-parent:"";
+	margin:0cm;
+	margin-bottom:.0001pt;
+	mso-pagination:widow-orphan;
+	font-size:12.0pt;
+	font-family:"Times New Roman";
+	mso-fareast-font-family:"Times New Roman";}
+p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
+	{margin:0cm;
+	margin-bottom:.0001pt;
+	mso-pagination:widow-orphan;
+	font-size:10.0pt;
+	font-family:"Courier New";
+	mso-fareast-font-family:"Times New Roman";}
+span.SpellE
+	{mso-style-name:"";
+	mso-spl-e:yes;}
+span.GramE
+	{mso-style-name:"";
+	mso-gram-e:yes;}
+ at page Section1
+	{size:595.3pt 841.9pt;
+	margin:70.85pt 57.6pt 2.0cm 57.6pt;
+	mso-header-margin:35.4pt;
+	mso-footer-margin:35.4pt;
+	mso-paper-source:0;}
+div.Section1
+	{page:Section1;}
+-->
+</style>
+<!--[if gte mso 10]>
+<style>
+ /* Style Definitions */
+ table.MsoNormalTable
+	{mso-style-name:"Normale Tabelle";
+	mso-tstyle-rowband-size:0;
+	mso-tstyle-colband-size:0;
+	mso-style-noshow:yes;
+	mso-style-parent:"";
+	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
+	mso-para-margin:0cm;
+	mso-para-margin-bottom:.0001pt;
+	mso-pagination:widow-orphan;
+	font-size:10.0pt;
+	font-family:"Times New Roman";}
+</style>
+<![endif]-->
+</head>
+
+<body lang=DE style='tab-interval:35.4pt'>
+
+<div class=Section1>
+
+<p class=MsoPlainText align=center style='text-align:center'><b
+style='mso-bidi-font-weight:normal'><span style='font-family:Verdana'>Anpassungen
+der Schaltfl?chen der Kartenanzeige:<o:p></o:p></span></b></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'><o:p>&nbsp;</o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'><o:p>&nbsp;</o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>Du kannst deine eigenen
+Einstellungen in einer <span class=SpellE>Xml-Datei</span> mit dem Namen <span
+class=SpellE>my_movingMapControls.xml</span> speichern. <o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>Der Verzeichnisname f?r
+deine Datei ergibt sich automatisch aus dem verwendeten Computer.<br>
+Das Verzeichnis befindet sich unterhalb des <span class=SpellE>CW-Verzeichnisses</span>
+im Verzeichnis /<span class=SpellE>mmc</span>. <br>
+Es gibt 3 M?glichkeiten:<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>1. PC = /Desktop, <o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>2. PDA mit Bildschirm
+-H?he oder -Breite kleiner als 480 Pixel = /<span class=SpellE>pda</span>,<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>3. PDA mit Bildschirm
+-H?he und -Breite <span class=SpellE>gr?sser</span> gleich 480 Pixel = /<span
+class=SpellE>pda_vga</span>.<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'><o:p>&nbsp;</o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>Es wird versucht deine
+Einstellungsdatei als erstes zu ?ffnen.<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>Danach wird versucht
+eine Datei mit den Namen der <span class=SpellE>Bildschirmgr?sse</span> (<span
+class=SpellE>BreitexH?he</span>) zu ?ffnen also z.B. 240x320.xml oder <span
+class=GramE>1280x1024.xml .</span><o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'><o:p>&nbsp;</o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>Sollte das ?ffnen
+dieser Datei auch scheitern (weil wir deine <span class=SpellE>Bildschirmgr?sse</span>
+noch nicht konfiguriert haben) wird die Datei <span class=SpellE>movingMapControls.xml</span>
+ge?ffnet.<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'><o:p>&nbsp;</o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>Folgende Anpassungen
+sind m?glich:<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>1. Bildschirmposition
+der Schaltfl?chen<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>2. Sichtbarkeit der
+Schaltfl?chen<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>3. Dateien der Symbole
+(<span class=SpellE>png-Dateien</span>) = <span class=SpellE>Gr?sse</span> der
+Symbole<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>4. <span class=SpellE>Schriftgr?sse</span>
+der Texte<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>5. Vorhandensein der
+Funktionen<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>6. ?<o:p></o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'><o:p>&nbsp;</o:p></span></p>
+
+<p class=MsoPlainText><span style='font-family:Verdana'>Eigentlich ergibt es
+sich aus den mitgelieferten Dateien. Schau mit einem Editor rein und probier
+es.<o:p></o:p></span></p>
+
+</div>
+
+</body>
+
+</html>

Copied: trunk/res_noewe/mmc/Desktop (from rev 2615, trunk/res_noewe/mmcDesktop)

Modified: trunk/res_noewe/mmc/Desktop/movingMapControls.xml
===================================================================
--- trunk/res_noewe/mmcDesktop/movingMapControls.xml	2010-06-15 19:19:25 UTC (rev 2615)
+++ trunk/res_noewe/mmc/Desktop/movingMapControls.xml	2010-06-16 09:14:03 UTC (rev 2617)
@@ -15,99 +15,99 @@
 
 
 
-	<button action="changeStateOfRole" fromLeft="0" fromTop="0"  changeStateof="map" location="mmcDesktop/top.png"  visibleIf="!map"  localeDefault="map"  alignText="L" textOffsetLeft="10"/>
-	<button action="changeStateOfRole" fromLeft="0" fromTop="0"  changeStateof="map" location="mmcDesktop/top_active.png"  visibleIf="map"  localeDefault="map" alignText="L" textOffsetLeft="10"/>
-	
-	<button action="changeStateOfRole" fromLeft="140" fromTop="0"  changeStateof="zoom" location="mmcDesktop/top.png"  visibleIf="!zoom"  localeDefault="zoom" alignText="L" textOffsetLeft="10"/>
-	<button action="changeStateOfRole" fromLeft="140" fromTop="0"  changeStateof="zoom" location="mmcDesktop/top_active.png"  visibleIf="zoom"  localeDefault="zoom" alignText="L" textOffsetLeft="10"/>
-	
-	<button action="changeStateOfRole" fromLeft="280" fromTop="0"  changeStateof="centermap" location="mmcDesktop/top.png"  visibleIf="!centermap"  localeDefault="center to" alignText="L" textOffsetLeft="10"/>
-	<button action="changeStateOfRole" fromLeft="280" fromTop="0"  changeStateof="centermap" location="mmcDesktop/top_active.png"  visibleIf="centermap"  localeDefault="center to" alignText="L" textOffsetLeft="10"/>
-	
-	<button action="changeStateOfRole" fromLeft="420" fromTop="0"  changeStateof="detail" location="mmcDesktop/top.png"  visibleIf="!detail"  localeDefault="detail" alignText="L" textOffsetLeft="10"/>
-	<button action="changeStateOfRole" fromLeft="420" fromTop="0"  changeStateof="detail" location="mmcDesktop/top_active.png"  visibleIf="detail"  localeDefault="detail" alignText="L" textOffsetLeft="10"/>
+	<button action="changeStateOfRole" fromLeft="0" fromTop="0"  changeStateof="map" location="top.png"  visibleIf="!map"  localeDefault="map" localeID="4271" alignText="L" textOffsetLeft="10"/>
+	<button action="changeStateOfRole" fromLeft="0" fromTop="0"  changeStateof="map" location="top_active.png"  visibleIf="map"  localeDefault="map" localeID="4271" alignText="L" textOffsetLeft="10"/>
 
-	<button action="" fromLeft="560" fromTop="0" location="mmcDesktop/top_long.png"  visibleIf="always"/>
-	<button action="close" fromRight="30" fromTop="0"  changeStateof="detail" location="mmcDesktop/close.png" icon="mmcDesktop/icon_close.png" visibleIf="always" />
+	<button action="changeStateOfRole" fromLeft="140" fromTop="0"  changeStateof="zoom" location="top.png"  visibleIf="!zoom"  localeDefault="zoom" localeID="4294" alignText="L" textOffsetLeft="10"/>
+	<button action="changeStateOfRole" fromLeft="140" fromTop="0"  changeStateof="zoom" location="top_active.png"  visibleIf="zoom"  localeDefault="zoom" localeID="4294" alignText="L" textOffsetLeft="10"/>
 
-	
+	<button action="changeStateOfRole" fromLeft="280" fromTop="0"  changeStateof="centermap" location="top.png"  visibleIf="!centermap"  localeDefault="center to" localeID="4295" alignText="L" textOffsetLeft="10"/>
+	<button action="changeStateOfRole" fromLeft="280" fromTop="0"  changeStateof="centermap" location="top_active.png"  visibleIf="centermap"  localeDefault="center to" localeID="4295" alignText="L" textOffsetLeft="10"/>
+
+	<button action="changeStateOfRole" fromLeft="420" fromTop="0"  changeStateof="detail" location="top.png"  visibleIf="!detail"  localeDefault="detail" localeID="4296" alignText="L" textOffsetLeft="10"/>
+	<button action="changeStateOfRole" fromLeft="420" fromTop="0"  changeStateof="detail" location="top_active.png"  visibleIf="detail"  localeDefault="detail" localeID="4296" alignText="L" textOffsetLeft="10"/>
+
+	<button action="" fromLeft="560" fromTop="0" location="top_long.png"  visibleIf="always"/>
+	<button action="close" fromRight="30" fromTop="0"  changeStateof="detail" location="close.png" icon="icon_close.png" visibleIf="always" />
+
+
 	<!-- sub menu: map -->
-	<button action="selectMap" fromLeft="0" fromTop="20"  location="mmcDesktop/row.png"  icon="mmcDesktop/icon_folder.png"  visibleIf="map" localeDefault="Select a map manually$s" localeID="4235" alignText="L" textOffsetLeft="20"/>	
-	<button action="changeMapDir" fromLeft="0" fromTop="40"  location="mmcDesktop/row.png"  icon="mmcDesktop/icon_folders.png"  visibleIf="map" localeDefault="Change map directory" localeID="4237" alignText="L" textOffsetLeft="20"/>	
-	<button action="changeStateOfRole" fromLeft="0" fromTop="60" changeStateof="show_map" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_map.png"  visibleIf="map+!show_map" localeDefault="Show map" localeID="4239" alignText="L" textOffsetLeft="20"/>	
-	<button action="changeStateOfRole" fromLeft="0" fromTop="60" changeStateof="show_map" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_nomap.png"  visibleIf="map+show_map" localeDefault="Hide map" localeID="4241" alignText="L" textOffsetLeft="20"/>	
-	<button action="changeStateOfRole" fromLeft="0" fromTop="80" changeStateof="fill_white" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_map_no_fill.png"  visibleIf="map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="L" textOffsetLeft="20"/>	
-	<button action="changeStateOfRole" fromLeft="0" fromTop="80" changeStateof="fill_white" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_map_fill.png"  visibleIf="map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="L" textOffsetLeft="20"/>	
-	<button action="changeStateOfRole" fromLeft="0" fromTop="100" changeStateof="show_caches" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_map_cache.png"  visibleIf="map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="L" textOffsetLeft="20"/>	
-	<button action="changeStateOfRole" fromLeft="0" fromTop="100" changeStateof="show_caches" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_map_no_cache.png"  visibleIf="map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="L" textOffsetLeft="20"/>	
-		
+	<button action="selectMap" fromLeft="0" fromTop="20"  location="row.png"  icon="icon_folder.png"  visibleIf="map" localeDefault="Select a map manually$s" localeID="4235" alignText="L" textOffsetLeft="20"/>
+	<button action="changeMapDir" fromLeft="0" fromTop="40"  location="row.png"  icon="icon_folders.png"  visibleIf="map" localeDefault="Change map directory" localeID="4237" alignText="L" textOffsetLeft="20"/>
+	<button action="changeStateOfRole" fromLeft="0" fromTop="60" changeStateof="show_map" location="row.png"  icon="icon_map.png"  visibleIf="map+!show_map" localeDefault="Show map" localeID="4239" alignText="L" textOffsetLeft="20"/>
+	<button action="changeStateOfRole" fromLeft="0" fromTop="60" changeStateof="show_map" location="row.png"  icon="icon_nomap.png"  visibleIf="map+show_map" localeDefault="Hide map" localeID="4241" alignText="L" textOffsetLeft="20"/>
+	<button action="changeStateOfRole" fromLeft="0" fromTop="80" changeStateof="fill_white" location="row.png"  icon="icon_map_no_fill.png"  visibleIf="map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="L" textOffsetLeft="20"/>
+	<button action="changeStateOfRole" fromLeft="0" fromTop="80" changeStateof="fill_white" location="row.png"  icon="icon_map_fill.png"  visibleIf="map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="L" textOffsetLeft="20"/>
+	<button action="changeStateOfRole" fromLeft="0" fromTop="100" changeStateof="show_caches" location="row.png"  icon="icon_map_cache.png"  visibleIf="map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="L" textOffsetLeft="20"/>
+	<button action="changeStateOfRole" fromLeft="0" fromTop="100" changeStateof="show_caches" location="row.png"  icon="icon_map_no_cache.png"  visibleIf="map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="L" textOffsetLeft="20"/>
+
 	<!-- sub menu: zoom -->
-	
-	<button action="changeStateOfRole" fromLeft="140" fromTop="20"  changeStateof="zoom_manually"  location="mmcDesktop/row.png"  icon="mmcDesktop/icon_zoom.png"  visibleIf="zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="L"  textOffsetLeft="20"/>	
-	<button action="changeStateOfRole" fromLeft="140" fromTop="20"  changeStateof="zoom_manually"  location="mmcDesktop/row.png"  icon="mmcDesktop/icon_zoom.png"  visibleIf="zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="L"  textOffsetLeft="20"/>	
-	<button action="zoomin" fromLeft="140" fromTop="40"  location="mmcDesktop/row.png"  icon="mmcDesktop/icon_zoom_in.png"  visibleIf="zoom" localeDefault="Zoom in" localeID="4291" alignText="L"  textOffsetLeft="20"/>	
-	<button action="zoomout" fromLeft="140" fromTop="60" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_zoom_out.png"  visibleIf="zoom" localeDefault="Zoom out" localeID="4290" alignText="L" textOffsetLeft="20"/>	
-	<button action="1to1" fromLeft="140" fromTop="80" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_1to1.png"  visibleIf="zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="L" textOffsetLeft="20"/>	
-	
-	
+
+	<button action="changeStateOfRole" fromLeft="140" fromTop="20"  changeStateof="zoom_manually"  location="row.png"  icon="icon_zoom.png"  visibleIf="zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="L"  textOffsetLeft="20"/>
+	<button action="changeStateOfRole" fromLeft="140" fromTop="20"  changeStateof="zoom_manually"  location="row.png"  icon="icon_zoom.png"  visibleIf="zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="L"  textOffsetLeft="20"/>
+	<button action="zoomin" fromLeft="140" fromTop="40"  location="row.png"  icon="icon_zoom_in.png"  visibleIf="zoom" localeDefault="Zoom in" localeID="4291" alignText="L"  textOffsetLeft="20"/>
+	<button action="zoomout" fromLeft="140" fromTop="60" location="row.png"  icon="icon_zoom_out.png"  visibleIf="zoom" localeDefault="Zoom out" localeID="4290" alignText="L" textOffsetLeft="20"/>
+	<button action="1to1" fromLeft="140" fromTop="80" location="row.png"  icon="icon_1to1.png"  visibleIf="zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="L" textOffsetLeft="20"/>
+
+
 	<!-- sub menu: center map -->
-	
-	<button action="moveToDest" fromLeft="280" fromTop="20" location="mmcDesktop/row.png"   icon="mmcDesktop/icon_to_target.png"  visibleIf="centermap" localeDefault="Move to goto point" localeID="4260" alignText="L" textOffsetLeft="20"/>	
-	<button action="moveToGps" fromLeft="280" fromTop="40"  location="mmcDesktop/row.png"  icon="mmcDesktop/icon_to_gps.png"  visibleIf="centermap" localeDefault="Move to GPS position" localeID="4262" alignText="L" textOffsetLeft="20"/>	
-	<button action="moveToCenter" fromLeft="280" fromTop="60" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_to_centre.png"  visibleIf="centermap" localeDefault="Move to centre" localeID="4264" alignText="L" textOffsetLeft="20"/>	
-	
-	
+
+	<button action="moveToDest" fromLeft="280" fromTop="20" location="row.png"   icon="icon_to_target.png"  visibleIf="centermap" localeDefault="Move to goto point" localeID="4260" alignText="L" textOffsetLeft="20"/>
+	<button action="moveToGps" fromLeft="280" fromTop="40"  location="row.png"  icon="icon_to_gps.png"  visibleIf="centermap" localeDefault="Move to GPS position" localeID="4262" alignText="L" textOffsetLeft="20"/>
+	<button action="moveToCenter" fromLeft="280" fromTop="60" location="row.png"  icon="icon_to_centre.png"  visibleIf="centermap" localeDefault="Move to centre" localeID="4264" alignText="L" textOffsetLeft="20"/>
+
+
 	<!-- sub menu: detail -->
-	
-	<button action="highestResGpsDest" fromLeft="420" fromTop="20" location="mmcDesktop/row.png"    icon="mmcDesktop/icon_map_pos_dest.png"  visibleIf="detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="L" textOffsetLeft="20"/>	
-	<button action="highestResolution" fromLeft="420" fromTop="40"  location="mmcDesktop/row.png"  icon="mmcDesktop/icon_map_highest_res.png"  visibleIf="detail" localeDefault="Highest resolution" localeID="4246" alignText="L" textOffsetLeft="20"/>	
-	<button action="keepManResolution" fromLeft="420" fromTop="60" location="mmcDesktop/row.png"  icon="mmcDesktop/icon_map_man_res.png"  visibleIf="detail" localeDefault="Keep manual resolution" localeID="4248" alignText="L"  textOffsetLeft="20"/>	
-	<button action="allCachesRes" fromLeft="420" fromTop="80" location="mmcDesktop/row.png"   icon="mmcDesktop/icon_map_all.png"  visibleIf="detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="L" textOffsetLeft="20"/>	
-	<button action="moreDetails" fromLeft="420" fromTop="100"  location="mmcDesktop/row.png"   icon="mmcDesktop/icon_map_more_details.png"  visibleIf="detail" localeDefault="Load a map with more details" localeID="4254" alignText="L" textOffsetLeft="20"/>	
-	<button action="moreOverview" fromLeft="420" fromTop="120" location="mmcDesktop/row.png" icon="mmcDesktop/icon_map_less_details.png"  visibleIf="detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="L" textOffsetLeft="20"/>	
-	
+
+	<button action="highestResGpsDest" fromLeft="420" fromTop="20" location="row.png"    icon="icon_map_pos_dest.png"  visibleIf="detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="L" textOffsetLeft="20"/>
+	<button action="highestResolution" fromLeft="420" fromTop="40"  location="row.png"  icon="icon_map_highest_res.png"  visibleIf="detail" localeDefault="Highest resolution" localeID="4246" alignText="L" textOffsetLeft="20"/>
+	<button action="keepManResolution" fromLeft="420" fromTop="60" location="row.png"  icon="icon_map_man_res.png"  visibleIf="detail" localeDefault="Keep manual resolution" localeID="4248" alignText="L"  textOffsetLeft="20"/>
+	<button action="allCachesRes" fromLeft="420" fromTop="80" location="row.png"   icon="icon_map_all.png"  visibleIf="detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="L" textOffsetLeft="20"/>
+	<button action="moreDetails" fromLeft="420" fromTop="100"  location="row.png"   icon="icon_map_more_details.png"  visibleIf="detail" localeDefault="Load a map with more details" localeID="4254" alignText="L" textOffsetLeft="20"/>
+	<button action="moreOverview" fromLeft="420" fromTop="120" location="row.png" icon="icon_map_less_details.png"  visibleIf="detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="L" textOffsetLeft="20"/>
+
 	<!-- statusline -->
-	
-	<button action="" fromLeft="0" fromBottom="25" location="mmcDesktop/status_long.png"  visibleIf="always"/>	
-	<button action="" fromRight="200" fromBottom="25" location="mmcDesktop/status.png"  visibleIf="always" content="distance" alignText="C"/>
-	<button action="" fromRight="100" fromBottom="25" location="mmcDesktop/status.png" visibleIf="always" content="scale" alignText="C"/>
-	
-	
+
+	<button action="" fromLeft="0" fromBottom="25" location="status_long.png"  visibleIf="always"/>
+	<button action="" fromRight="200" fromBottom="25" location="status.png"  visibleIf="always" content="distance" alignText="C"/>
+	<button action="" fromRight="100" fromBottom="25" location="status.png" visibleIf="always" content="scale" alignText="C"/>
+
+
 	<!--status line icons-->
-	
-		<!-- sub menu: map -->
-	<button action="selectMap" fromLeft="10" fromBottom="22"  location="mmcDesktop/icon_folder.png"  visibleIf="always" />	
-	<button action="changeMapDir" fromLeft="30" fromBottom="22"   location="mmcDesktop/icon_folders.png"  visibleIf="always"/>	
-	<button action="changeStateOfRole" fromLeft="50" fromBottom="22"  changeStateof="show_map" location="mmcDesktop/icon_map.png"  visibleIf="!show_map"/>	
-	<button action="changeStateOfRole" fromLeft="50" fromBottom="22"  changeStateof="show_map" location="mmcDesktop/icon_nomap.png"  visibleIf="show_map"/>	
-	<button action="changeStateOfRole" fromLeft="70" fromBottom="22"  changeStateof="fill_white" location="mmcDesktop/icon_map_no_fill.png"  visibleIf="!fill_white"/>	
-	<button action="changeStateOfRole" fromLeft="70" fromBottom="22"  changeStateof="fill_white" location="mmcDesktop/icon_map_fill.png"  visibleIf="fill_white"/>	
-	<button action="changeStateOfRole" fromLeft="90" fromBottom="22"  changeStateof="show_caches" location="mmcDesktop/icon_map_cache.png"  visibleIf="!show_caches"/>	
-	<button action="changeStateOfRole" fromLeft="90" fromBottom="22" changeStateof="show_caches" location="mmcDesktop/icon_map_no_cache.png"  visibleIf="show_caches"/>	
-		
+
+	<!-- sub menu: map -->
+	<button action="selectMap" fromLeft="10" fromBottom="22"  location="icon_folder.png"  visibleIf="always" />
+	<button action="changeMapDir" fromLeft="30" fromBottom="22"   location="icon_folders.png"  visibleIf="always"/>
+	<button action="changeStateOfRole" fromLeft="50" fromBottom="22"  changeStateof="show_map" location="icon_map.png"  visibleIf="!show_map"/>
+	<button action="changeStateOfRole" fromLeft="50" fromBottom="22"  changeStateof="show_map" location="icon_nomap.png"  visibleIf="show_map"/>
+	<button action="changeStateOfRole" fromLeft="70" fromBottom="22"  changeStateof="fill_white" location="icon_map_no_fill.png"  visibleIf="!fill_white"/>
+	<button action="changeStateOfRole" fromLeft="70" fromBottom="22"  changeStateof="fill_white" location="icon_map_fill.png"  visibleIf="fill_white"/>
+	<button action="changeStateOfRole" fromLeft="90" fromBottom="22"  changeStateof="show_caches" location="icon_map_cache.png"  visibleIf="!show_caches"/>
+	<button action="changeStateOfRole" fromLeft="90" fromBottom="22" changeStateof="show_caches" location="icon_map_no_cache.png"  visibleIf="show_caches"/>
+
 	<!-- sub menu: zoom -->
-	
-	<button action="changeStateOfRole" fromLeft="140" fromBottom="22"   changeStateof="zoom_manually"  location="mmcDesktop/icon_zoom.png"  visibleIf="!zoom_manually"/>	
-	<button action="changeStateOfRole" fromLeft="140" fromBottom="22"   changeStateof="zoom_manually"  location="mmcDesktop/icon_zoom.png"  visibleIf="zoom_manually"/>	
-	<button action="zoomin" fromLeft="160" fromBottom="22" location="mmcDesktop/icon_zoom_in.png"  visibleIf="always"/>	
-	<button action="zoomout" fromLeft="180" fromBottom="22" location="mmcDesktop/icon_zoom_out.png"  visibleIf="always"/>	
-	<button action="1to1" fromLeft="200" fromBottom="22" location="mmcDesktop/icon_1to1.png"  visibleIf="always"/>	
-	
-	
+
+	<button action="changeStateOfRole" fromLeft="140" fromBottom="22"   changeStateof="zoom_manually"  location="icon_zoom.png"  visibleIf="!zoom_manually"/>
+	<button action="changeStateOfRole" fromLeft="140" fromBottom="22"   changeStateof="zoom_manually"  location="icon_zoom.png"  visibleIf="zoom_manually"/>
+	<button action="zoomin" fromLeft="160" fromBottom="22" location="icon_zoom_in.png"  visibleIf="always"/>
+	<button action="zoomout" fromLeft="180" fromBottom="22" location="icon_zoom_out.png"  visibleIf="always"/>
+	<button action="1to1" fromLeft="200" fromBottom="22" location="icon_1to1.png"  visibleIf="always"/>
+
+
 	<!-- sub menu: center map -->
-	
-	<button action="moveToDest" fromLeft="250" fromBottom="22" location="mmcDesktop/icon_to_target.png"  visibleIf="always"/>	
-	<button action="moveToGps" fromLeft="270" fromBottom="22"  location="mmcDesktop/icon_to_gps.png"  visibleIf="always"/>	
-	<button action="moveToCenter" fromLeft="290" fromBottom="22" location="mmcDesktop/icon_to_centre.png"  visibleIf="always"/>	
-	
-	
+
+	<button action="moveToDest" fromLeft="250" fromBottom="22" location="icon_to_target.png"  visibleIf="always"/>
+	<button action="moveToGps" fromLeft="270" fromBottom="22"  location="icon_to_gps.png"  visibleIf="always"/>
+	<button action="moveToCenter" fromLeft="290" fromBottom="22" location="icon_to_centre.png"  visibleIf="always"/>
+
+
 	<!-- sub menu: detail -->
-	
-	<button action="highestResGpsDest" fromLeft="340" fromBottom="22" location="mmcDesktop/icon_map_pos_dest.png"  visibleIf="always" />	
-	<button action="highestResolution" fromLeft="360" fromBottom="22"  location="mmcDesktop/icon_map_highest_res.png"  visibleIf="always"/>	
-	<button action="keepManResolution" fromLeft="380" fromBottom="22" location="mmcDesktop/icon_map_man_res.png"  visibleIf="always"/>	
-	<button action="allCachesRes" fromLeft="400" fromBottom="22" location="mmcDesktop/icon_map_all.png"  visibleIf="always"/>	
-	<button action="moreDetails" fromLeft="420" fromBottom="22"  location="mmcDesktop/icon_map_more_details.png"  visibleIf="always"/>	
-	<button action="moreOverview" fromLeft="440" fromBottom="22" location="mmcDesktop/icon_map_less_details.png"  visibleIf="always"/>	
-	
+
+	<button action="highestResGpsDest" fromLeft="340" fromBottom="22" location="icon_map_pos_dest.png"  visibleIf="always" />
+	<button action="highestResolution" fromLeft="360" fromBottom="22"  location="icon_map_highest_res.png"  visibleIf="always"/>
+	<button action="keepManResolution" fromLeft="380" fromBottom="22" location="icon_map_man_res.png"  visibleIf="always"/>
+	<button action="allCachesRes" fromLeft="400" fromBottom="22" location="icon_map_all.png"  visibleIf="always"/>
+	<button action="moreDetails" fromLeft="420" fromBottom="22"  location="icon_map_more_details.png"  visibleIf="always"/>
+	<button action="moreOverview" fromLeft="440" fromBottom="22" location="icon_map_less_details.png"  visibleIf="always"/>
+
 </mmc>

Copied: trunk/res_noewe/mmc/pda (from rev 2615, trunk/res_noewe/mmc240x320)

Copied: trunk/res_noewe/mmc/pda_vga (from rev 2615, trunk/res_noewe/mmc480x640)

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-06-16 07:26:08 UTC (rev 2616)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-06-16 09:14:03 UTC (rev 2617)
@@ -21,6 +21,8 @@
 	public static final String CONFIG_FILE_NAME = "movingMapControls.xml";
 	
 	public static final String CONFIG_FILE_NAME_OVERWRITE = "my_movingMapControls.xml";
+
+	public static String CONFIG_RELATIVE_PATH = "mmc/"; 
 	
 	public static final String SETTINGS = "settings";
 	/**
@@ -207,10 +209,9 @@
 
 			String visibility = attributes.getValue(BUTTON_ATTR_VISIBILITY);
 			String action = attributes.getValue(BUTTON_ATTR_ACTION);
-			String localeDefault = attributes
-					.getValue(BUTTON_ATTR_LOCALE_DEFAULT);
-			String imageLocation = attributes.getValue(BUTTON_ATTR_LOCATION);
-			String iconLocation = attributes.getValue(BUTTON_ATTR_ICON);
+			String localeDefault = attributes.getValue(BUTTON_ATTR_LOCALE_DEFAULT);
+			String imageLocation = CONFIG_RELATIVE_PATH + attributes.getValue(BUTTON_ATTR_LOCATION);
+			String iconLocation = CONFIG_RELATIVE_PATH + attributes.getValue(BUTTON_ATTR_ICON);
 			String alignText = attributes.getValue(BUTTON_ATTR_ALIGNTEXT);
 			String context = attributes.getValue(BUTTON_ATTR_CONTEXT);
 			if (visibility == null) {
@@ -294,23 +295,20 @@
 
 	public boolean readFile() {
 		setDocumentHandler(this);
-		String path = FileBase.makePath(FileBase.getProgramDirectory(),
-				"mmcDesktop/");
+		CONFIG_RELATIVE_PATH=CONFIG_RELATIVE_PATH+"Desktop/";
 
 		if (Vm.isMobile()) {
-			path = FileBase.makePath(FileBase.getProgramDirectory(),
-			"mmc240x320/");
+			CONFIG_RELATIVE_PATH=CONFIG_RELATIVE_PATH+"pda/";
 			
-			if (MyLocale.getScreenHeight() >= 640 && MyLocale.getScreenWidth() >= 480) {
-				path = FileBase.makePath(FileBase.getProgramDirectory(),
-						"mmc480x640/");
+			if (MyLocale.getScreenHeight() >= 480 && MyLocale.getScreenWidth() >= 480) {
+				CONFIG_RELATIVE_PATH=CONFIG_RELATIVE_PATH+"pda_vga/";
 			}
 		}
+		String path = FileBase.makePath(FileBase.getProgramDirectory(),CONFIG_RELATIVE_PATH);
 		path = path.replace('\\', '/');
 		File file = new File(path, CONFIG_FILE_NAME_OVERWRITE);
-		if (!file.exists()) {
-			file = new File(path, CONFIG_FILE_NAME);
-		}
+		if (!file.exists()) {file = new File(path, ""+MyLocale.getScreenWidth()+"x"+MyLocale.getScreenHeight());}
+		if (!file.exists()) {file = new File(path, CONFIG_FILE_NAME);}
 		
 		
 		try {



From admin at berlios.de  Wed Jun 16 12:23:02 2010
From: admin at berlios.de (admin at berlios.de)
Date: Wed, 16 Jun 2010 12:23:02 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17270] Auswertung der gc.com Spracheinstellung
Message-ID: <201006161023.o5GAN2Ms007558@unicorn.berlios.de>

Bug #17270, was updated on 2010-Jun-16 12:23
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Open
Resolution: None
Bug Group: Feature Request
Priority: 5
Submitted by: araber95
Assigned to : none
Summary: Auswertung der gc.com Spracheinstellung

Details: Implementierung Code f?r die Auswertung der Spracheinstellung bei gc.com.

spider.def muss wohl dann mit Sprachkennzeichen versehen werden.


For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17270&group_id=2211


From araber95 at mail.berlios.de  Wed Jun 16 12:54:38 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 16 Jun 2010 12:54:38 +0200
Subject: [Cachewolf-svn] r2618 - in trunk/res_noewe/mmc: pda pda_vga
Message-ID: <201006161054.o5GAscxg020992@sheep.berlios.de>

Author: araber95
Date: 2010-06-16 12:54:34 +0200 (Wed, 16 Jun 2010)
New Revision: 2618

Added:
   trunk/res_noewe/mmc/pda/240x320.xml
   trunk/res_noewe/mmc/pda_vga/480x640.xml
Log:
adding mmc-configfiles for some screen sizes (same as existing defaults)

Added: trunk/res_noewe/mmc/pda/240x320.xml
===================================================================
--- trunk/res_noewe/mmc/pda/240x320.xml	2010-06-16 09:14:03 UTC (rev 2617)
+++ trunk/res_noewe/mmc/pda/240x320.xml	2010-06-16 10:54:34 UTC (rev 2618)
@@ -0,0 +1,70 @@
+<mmc>
+	<settings fontsize="12"/>
+
+	<role name="always" active="true"/>
+	<role name="menu"/>
+	<role name="zoom" disable="map|centermap|detail"/>
+	<role name="centermap"  disable="zoom|map|detail"/>
+	<role name="map" disable="zoom|centermap|detail"/>
+	<role name="detail" disable="zoom|centermap|map"/>
+	<role name="show_map" active="true"/> <!-- this name of role is fix in code! -->
+	<role name="show_caches" active="true"/><!-- this name of role is fix in code! -->
+	<role name="fill_white" active="true"/><!-- this name of role is fix in code! -->
+	<role name="zoom_manually"/><!-- this name of role is fix in code! -->
+
+	<!-- Buttons right side -->
+	<button action="close" fromRight="49" fromTop="1" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_close.png"  alpha="80" visibleIf="!menu" />
+	<button action="moveToGps" fromRight="49" fromTop="50" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_gps.png"  alpha="80" visibleIf="!menu" />
+
+	<!-- buttom text icons -->
+	<button action="changeStateOfRole" fromLeft="0" fromBottom="33" changeStateof="menu" location="mmc240x320/text_left_110x33.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
+
+	<button action="changeStateOfRole" fromRight="110" fromBottom="33" changeStateof="menu" location="mmc240x320/text_right_110x33.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
+
+	<!-- menu items -->
+	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_map.png"  visibleIf="menu+!map" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_map.png" visibleIf="menu+map" />
+
+	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_zoom.png" visibleIf="menu+!zoom" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_zoom.png" visibleIf="menu+zoom" />
+
+	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="mmc240x320/bg_q.png" icon="mmc240x320/icon_map_pos_dest.png" visibleIf="menu+!detail" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_map_pos_dest.png" visibleIf="menu+detail" />
+
+
+	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="mmc240x320/bg_q.png" icon="mmc240x320/icon_to_centre.png" visibleIf="menu+!centermap" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_to_centre.png" visibleIf="menu+centermap" />
+
+
+	<!-- sub menu: map -->
+	<button action="selectMap" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="50"/>
+	<button action="changeMapDir" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="50"/>
+
+	<!-- sub menu: zoom -->
+	<button action="changeStateOfRole" fromLeft="5" fromTop="0" changeStateof="zoom_manually" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom.png"  visibleIf="menu+zoom" localeDefault="Activate manually zoom" localeID="4292" alignText="C" textOffsetLeft="50"/>
+	<button action="zoomin" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="50"/>
+	<button action="zoomout" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="50"/>
+	<button action="1to1" fromLeft="5" fromTop="150"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="50"/>
+
+
+	<!-- sub menu: center map -->
+	<button action="moveToDest" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="50"/>
+	<button action="moveToGps" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="50"/>
+	<button action="moveToCenter" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="50"/>
+
+	<!-- sub menu: detail -->
+	<button action="highestResGpsDest" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="50"/>
+	<button action="highestResolution" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="50"/>
+	<button action="keepManResolution" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="50"/>
+	<button action="allCachesRes" fromLeft="5" fromTop="150"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="50"/>
+	<button action="moreDetails" fromLeft="5" fromTop="200"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="50"/>
+	<button action="moreOverview" fromLeft="5" fromTop="250"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="50"/>
+
+	<button action="changeStateOfRole" fromRight="45" fromTop="100" changeStateof="zoom_manually" location="mmc240x320/icon_zoom.png"  icon="mmc240x320/icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
+</mmc>

Added: trunk/res_noewe/mmc/pda_vga/480x640.xml
===================================================================
--- trunk/res_noewe/mmc/pda_vga/480x640.xml	2010-06-16 09:14:03 UTC (rev 2617)
+++ trunk/res_noewe/mmc/pda_vga/480x640.xml	2010-06-16 10:54:34 UTC (rev 2618)
@@ -0,0 +1,71 @@
+<mmc>
+	<settings fontsize="20"/>
+
+	<role name="always" active="true"/>
+	<role name="menu"/>
+	<role name="zoom" disable="map|centermap|detail"/>
+	<role name="centermap"  disable="zoom|map|detail"/>
+	<role name="map" disable="zoom|centermap|detail"/>
+	<role name="detail" disable="zoom|centermap|map"/>
+	<role name="show_map" active="true"/> <!-- this name of role is fix in code! -->
+	<role name="show_caches" active="true"/><!-- this name of role is fix in code! -->
+	<role name="fill_white" active="true"/><!-- this name of role is fix in code! -->
+	<role name="zoom_manually"/><!-- this name of role is fix in code! -->
+
+	<!-- Buttons right side -->
+	<button action="close" fromRight="91" fromTop="1" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_close.png"  alpha="80" visibleIf="!menu" />
+	<button action="moveToGps" fromRight="91" fromTop="96" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_gps.png"  alpha="80" visibleIf="!menu" />
+
+	<!-- buttom text icons -->
+	<button action="changeStateOfRole" fromLeft="0" fromBottom="80" changeStateof="menu" location="mmc480x640/text_left_110x80.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
+
+	<button action="changeStateOfRole" fromRight="110" fromBottom="80" changeStateof="menu" location="mmc480x640/text_right_110x80.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
+
+	<!-- menu items -->
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+!map" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map.png" visibleIf="menu+map" />
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+!zoom" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+zoom" />
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90.png" icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+!detail" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+detail" />
+
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90.png" icon="mmc480x640/icon_to_centre.png" visibleIf="menu+!centermap" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_to_centre.png" visibleIf="menu+centermap" />
+
+
+	<!-- sub menu: map -->
+	<button action="selectMap" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="75"/>
+	<button action="changeMapDir" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="75"/>
+
+	<!-- sub menu: zoom -->
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="menu+zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmc480x640/360x90_active.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="menu+zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomin" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomout" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="75"/>
+	<button action="1to1" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="75"/>
+
+
+	<!-- sub menu: center map -->
+	<button action="moveToDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToGps" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToCenter" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="75"/>
+
+	<!-- sub menu: detail -->
+	<button action="highestResGpsDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="75"/>
+	<button action="highestResolution" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="75"/>
+	<button action="keepManResolution" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="75"/>
+	<button action="allCachesRes" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="75"/>
+	<button action="moreDetails" fromLeft="3" fromTop="380"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="75"/>
+	<button action="moreOverview" fromLeft="3" fromTop="475"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="75"/>
+
+	<button action="changeStateOfRole" fromRight="70" fromTop="200" changeStateof="zoom_manually" location="mmc480x640/icon_zoom.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
+</mmc>



From araber95 at mail.berlios.de  Wed Jun 16 20:53:36 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 16 Jun 2010 20:53:36 +0200
Subject: [Cachewolf-svn] r2619 - in trunk/res_noewe/symbols: Harry1999
	OCSymbols oder1 oder2 z.B.big z.B.small
Message-ID: <201006161853.o5GIrafF029905@sheep.berlios.de>

Author: araber95
Date: 2010-06-16 20:53:02 +0200 (Wed, 16 Jun 2010)
New Revision: 2619

Added:
   trunk/res_noewe/symbols/Harry1999/100size.png
   trunk/res_noewe/symbols/Harry1999/101size.png
   trunk/res_noewe/symbols/Harry1999/104size.png
   trunk/res_noewe/symbols/Harry1999/13size.png
   trunk/res_noewe/symbols/Harry1999/3size.png
   trunk/res_noewe/symbols/Harry1999/6size.png
   trunk/res_noewe/symbols/Harry1999/8size.png
   trunk/res_noewe/symbols/OCSymbols/10.png
   trunk/res_noewe/symbols/OCSymbols/10size.png
   trunk/res_noewe/symbols/OCSymbols/13.png
   trunk/res_noewe/symbols/OCSymbols/13size.png
   trunk/res_noewe/symbols/OCSymbols/4.png
   trunk/res_noewe/symbols/OCSymbols/4size.png
   trunk/res_noewe/symbols/OCSymbols/6.png
   trunk/res_noewe/symbols/OCSymbols/6size.png
   trunk/res_noewe/symbols/OCSymbols/8.png
   trunk/res_noewe/symbols/OCSymbols/8size.png
   trunk/res_noewe/symbols/oder1/2.png
   trunk/res_noewe/symbols/oder1/3.png
   trunk/res_noewe/symbols/oder1/8.png
   trunk/res_noewe/symbols/oder2/104.png
   trunk/res_noewe/symbols/oder2/3.png
   trunk/res_noewe/symbols/oder2/6.png
   trunk/res_noewe/symbols/oder2/8.png
   trunk/res_noewe/symbols/z.B.big/100size.png
   trunk/res_noewe/symbols/z.B.big/101size.png
   trunk/res_noewe/symbols/z.B.big/104size.png
   trunk/res_noewe/symbols/z.B.big/3size.png
   trunk/res_noewe/symbols/z.B.big/50size.png
   trunk/res_noewe/symbols/z.B.big/51size.png
   trunk/res_noewe/symbols/z.B.big/52size.png
   trunk/res_noewe/symbols/z.B.big/53size.png
   trunk/res_noewe/symbols/z.B.big/54size.png
   trunk/res_noewe/symbols/z.B.big/55size.png
   trunk/res_noewe/symbols/z.B.small/2.png
   trunk/res_noewe/symbols/z.B.small/3.png
   trunk/res_noewe/symbols/z.B.small/50.png
   trunk/res_noewe/symbols/z.B.small/51.png
   trunk/res_noewe/symbols/z.B.small/52.png
   trunk/res_noewe/symbols/z.B.small/53.png
   trunk/res_noewe/symbols/z.B.small/54.png
   trunk/res_noewe/symbols/z.B.small/55.png
   trunk/res_noewe/symbols/z.B.small/8.png
Modified:
   trunk/res_noewe/symbols/z.B.big/
   trunk/res_noewe/symbols/z.B.small/
Log:
some example (own) symbols , not yet in svn

Added: trunk/res_noewe/symbols/Harry1999/100size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/Harry1999/100size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/Harry1999/101size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/Harry1999/101size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/Harry1999/104size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/Harry1999/104size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/Harry1999/13size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/Harry1999/13size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/Harry1999/3size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/Harry1999/3size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/Harry1999/6size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/Harry1999/6size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/Harry1999/8size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/Harry1999/8size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/10.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/10.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/10size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/10size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/13.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/13.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/13size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/13size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/4.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/4.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/4size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/4size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/6.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/6.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/6size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/6size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/8.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/8.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/OCSymbols/8size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/OCSymbols/8size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/oder1/2.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/oder1/2.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/oder1/3.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/oder1/3.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/oder1/8.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/oder1/8.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/oder2/104.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/oder2/104.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/oder2/3.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/oder2/3.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/oder2/6.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/oder2/6.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/oder2/8.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/oder2/8.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream


Property changes on: trunk/res_noewe/symbols/z.B.big
___________________________________________________________________
Name: svn:ignore
   + Thumbs.db


Added: trunk/res_noewe/symbols/z.B.big/100size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/100size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/101size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/101size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/104size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/104size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/3size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/3size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/50size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/50size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/51size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/51size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/52size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/52size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/53size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/53size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/54size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/54size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.big/55size.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.big/55size.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream


Property changes on: trunk/res_noewe/symbols/z.B.small
___________________________________________________________________
Name: svn:ignore
   + Thumbs.db


Added: trunk/res_noewe/symbols/z.B.small/2.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/2.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.small/3.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/3.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.small/50.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/50.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.small/51.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/51.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.small/52.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/52.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.small/53.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/53.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.small/54.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/54.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.small/55.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/55.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/symbols/z.B.small/8.png
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/symbols/z.B.small/8.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From araber95 at mail.berlios.de  Wed Jun 16 20:59:18 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 16 Jun 2010 20:59:18 +0200
Subject: [Cachewolf-svn] r2620 - in trunk: res_noewe resources tools/pgn
	Konvertierung/DoFiles/bin/Debug
Message-ID: <201006161859.o5GIxIma030402@sheep.berlios.de>

Author: araber95
Date: 2010-06-16 20:59:16 +0200 (Wed, 16 Jun 2010)
New Revision: 2620

Modified:
   trunk/res_noewe/
   trunk/resources/
   trunk/tools/pgn Konvertierung/DoFiles/bin/Debug/
Log:



Property changes on: trunk/res_noewe
___________________________________________________________________
Name: svn:ignore
   + Thumbs.db



Property changes on: trunk/resources
___________________________________________________________________
Name: svn:ignore
   + Thumbs.db



Property changes on: trunk/tools/pgn Konvertierung/DoFiles/bin/Debug
___________________________________________________________________
Name: svn:ignore
   + png2gif.exe




From araber95 at mail.berlios.de  Thu Jun 17 12:01:11 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 17 Jun 2010 12:01:11 +0200
Subject: [Cachewolf-svn] r2621 - in trunk/src/CacheWolf: . exp
Message-ID: <201006171001.o5HA1BNj012328@sheep.berlios.de>

Author: araber95
Date: 2010-06-17 12:01:09 +0200 (Thu, 17 Jun 2010)
New Revision: 2621

Modified:
   trunk/src/CacheWolf/CacheType.java
   trunk/src/CacheWolf/exp/TomTomExporter.java
Log:
TomTom-Export now consistent again (language independant) (http://www.geoclub.de/viewtopic.php?f=40&t=45779&start=10)

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2010-06-16 18:59:16 UTC (rev 2620)
+++ trunk/src/CacheWolf/CacheType.java	2010-06-17 10:01:09 UTC (rev 2621)
@@ -11,7 +11,7 @@
 	public String _ocCTypeXmlImport; // GC Type on Spider Import from GC.com 
 	public byte _cwCTypeV2; // V2 Cache Typ 
 	public char _gpxShortCType; // Short Typ (one char abbreviation)
-	public String _imageName; // name of imageNameture for Icon, "showCacheInBrowser" and "KML Export"
+	public String _imageName; // name of imageName for Icon, "showCacheInBrowser" and "KML Export"
 	public String _gpxWptTypeTag; // gpx wpt <type> tag
 	public String _gpxWptSymTag; // gpx wpt <sym> tag
 	public String _gpxWptGCextensionTypTag; // gpx cache extension <groundspeak:type> tag

Modified: trunk/src/CacheWolf/exp/TomTomExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/TomTomExporter.java	2010-06-16 18:59:16 UTC (rev 2620)
+++ trunk/src/CacheWolf/exp/TomTomExporter.java	2010-06-17 10:01:09 UTC (rev 2621)
@@ -80,10 +80,14 @@
 		try{
 			//loop through type
 			for(int j = 0; j < CacheType.guiTypeStrings().length; j++){
+				/*
 				String typeName = CacheType.guiTypeStrings()[j];
 				if (typeName.startsWith("Addi: ")) {
 					typeName = typeName.substring(6);
 				}
+				*/
+				String typeName = CacheType.typeImageForId(CacheType.guiSelect2Cw(j));
+				typeName=typeName.substring(0, typeName.length()-4);		
 				
 				fileName = dirName + "/" + prefix + typeName + ext;
 				dfile = new File(fileName);



From araber95 at mail.berlios.de  Thu Jun 17 12:07:05 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 17 Jun 2010 12:07:05 +0200
Subject: [Cachewolf-svn] r2622 - trunk/res_noewe/exporticons/exporticons
Message-ID: <201006171007.o5HA751o012644@sheep.berlios.de>

Author: araber95
Date: 2010-06-17 12:07:04 +0200 (Thu, 17 Jun 2010)
New Revision: 2622

Modified:
   trunk/res_noewe/exporticons/exporticons/TomTom.zip
Log:
add/change TomTom.zip : lost in last submit

Modified: trunk/res_noewe/exporticons/exporticons/TomTom.zip
===================================================================
(Binary files differ)



From araber95 at mail.berlios.de  Thu Jun 17 12:16:48 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 17 Jun 2010 12:16:48 +0200
Subject: [Cachewolf-svn] r2623 - trunk
Message-ID: <201006171016.o5HAGmVU013153@sheep.berlios.de>

Author: araber95
Date: 2010-06-17 12:16:47 +0200 (Thu, 17 Jun 2010)
New Revision: 2623

Modified:
   trunk/getRes.sh
Log:
update for creating workspace on linux systems. (getRes.sh)

Modified: trunk/getRes.sh
===================================================================
--- trunk/getRes.sh	2010-06-17 10:07:04 UTC (rev 2622)
+++ trunk/getRes.sh	2010-06-17 10:16:47 UTC (rev 2623)
@@ -22,23 +22,24 @@
 mkdir -p work/languages
 mkdir -p work/templates
 mkdir -p work/exporticons
+mkdir -p work/exporticons/exporticons
 mkdir -p work/symbols
-mkdir -p work/mmcDesktop
-mkdir -p work/mmc240x320
-mkdir -p work/mmc480x640
+mkdir -p work/mmc
+mkdir -p work/mmc/Desktop
+mkdir -p work/mmc/pda
+mkdir -p work/mmc/pda_vga
 
 # get ressources
 cp -fa resources/*.* work
 cp -fa res_noewe/*.* work
 cp -fa res_noewe/attributes/* work/attributes
-cp -fa res_noewe/attributes-big/* work/attributes
-cp -fa res_noewe/mmcDesktop/* work/mmcDesktop/
-cp -fa res_noewe/mmc240x320/* work/mmc240x320/
-cp -fa res_noewe/mmc480x640/* work/mmc480x640/
+cp -fa res_noewe/mmc/Desktop/* work/mmc/Desktop/
+cp -fa res_noewe/mmc/pda/* work/pda/
+cp -fa res_noewe/mmc/pda_vga/* work/mmc/pda_vga/
 cp -fa res_noewe/webmapservices/* work/webmapservices/
 cp -fa res_noewe/languages/* work/languages/
 cp -fa res_noewe/templates/* work/templates/
-cp -fa res_noewe/exporticons/* work/exporticons/
+cp -fa res_noewe/exporticons/exporticons/* work/exporticons/exporticons/
 cp -fa res_noewe/symbols/* work/symbols/
 
 # set sane permissions



From araber95 at mail.berlios.de  Thu Jun 17 13:42:28 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 17 Jun 2010 13:42:28 +0200
Subject: [Cachewolf-svn] r2624 - trunk/src/CacheWolf
Message-ID: <201006171142.o5HBgSmH027398@sheep.berlios.de>

Author: araber95
Date: 2010-06-17 13:42:26 +0200 (Thu, 17 Jun 2010)
New Revision: 2624

Modified:
   trunk/src/CacheWolf/myTableModel.java
Log:
Color not empty Cache Status (mostly DNF)

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2010-06-17 10:16:47 UTC (rev 2623)
+++ trunk/src/CacheWolf/myTableModel.java	2010-06-17 11:42:26 UTC (rev 2624)
@@ -16,180 +16,216 @@
 import ewe.util.Vector;
 
 /**
-*	Table model used to display the cache list.
-* 	Used by the table control in the first panel of
-*	CacheWolf.
-* 20061212 salzkammergut, patch to speed up scrolling, Used MyLocale
-*/
-public class myTableModel extends TableModel{
+ * Table model used to display the cache list. Used by the table control in the
+ * first panel of CacheWolf. 20061212 salzkammergut, patch to speed up
+ * scrolling, Used MyLocale
+ */
+public class myTableModel extends TableModel {
 
 	// Colors for Cache status (BG unless otherwise stated)
-	private static final Color COLOR_FLAGED		= new Color(255,255,0);
-	private static final Color COLOR_FOUND		= new Color(152,251,152);
-	private static final Color COLOR_OWNED		= new Color(135,206,235);
-	private static final Color COLOR_AVAILABLE	= new Color(255,128,0);
-	private static final Color COLOR_ARCHIVED	= new Color(200,0,0);
-	private static final Color COLOR_SELECTED	= new Color(141,141,141);
-	private static final Color COLOR_DETAILS_LOADED		= new Color(229,206,235);
-	private static final Color COLOR_WHITE   	= new Color(255,255,255);
-	private Color lineColorBG                   = new Color(255,255,255);
-	private Color lastColorBG                   = new Color(255,255,255);
-	private Color lastColorFG                   = new Color(0,0,0);
+	private static final Color COLOR_STATUS = new Color(206, 152, 255);
+	private static final Color COLOR_FLAGED = new Color(255, 255, 0);
+	private static final Color COLOR_FOUND = new Color(152, 251, 152);
+	private static final Color COLOR_OWNED = new Color(135, 206, 235);
+	private static final Color COLOR_AVAILABLE = new Color(255, 128, 0);
+	private static final Color COLOR_ARCHIVED = new Color(200, 0, 0);
+	private static final Color COLOR_SELECTED = new Color(141, 141, 141);
+	private static final Color COLOR_DETAILS_LOADED = new Color(229, 206, 235);
+	private static final Color COLOR_WHITE = new Color(255, 255, 255);
+	private Color lineColorBG = new Color(255, 255, 255);
+	private Color lastColorBG = new Color(255, 255, 255);
+	private Color lastColorFG = new Color(0, 0, 0);
 	private static final Time lastSyncWorker = new Time();
 	private int lastRow = -2;
 	private CacheDB cacheDB;
 	/** The max number of columns in the list view */
 	public static final int N_COLUMNS = 20;
-	/** How the columns are mapped onto the list view. If colMap[i]=j, it means that
-	 * the element j (as per the list below) is visible in column i.
-	 * [0]TickBox, [1]Type, [2]Distance, [3]Terrain, [4]waypoint, [5]name, [6]coordinates,
-	 * [7]owner, [8]datehidden, [9]status, [10]distance, [11]bearing, [12] Size, [13] # of OC recommend.
-	 * [14] OC index, [15] Solver exists, [16] Note exists, [17] # Additionals, [18] # DNF
-	 * [19] Last Sync Date
-	 *
-	 * Attention: When adding columns here, also add a default width in Preferences.listColWidth
+	/**
+	 * How the columns are mapped onto the list view. If colMap[i]=j, it means
+	 * that the element j (as per the list below) is visible in column i.
+	 * [0]TickBox, [1]Type, [2]Distance, [3]Terrain, [4]waypoint, [5]name,
+	 * [6]coordinates, [7]owner, [8]datehidden, [9]status, [10]distance,
+	 * [11]bearing, [12] Size, [13] # of OC recommend. [14] OC index, [15]
+	 * Solver exists, [16] Note exists, [17] # Additionals, [18] # DNF [19] Last
+	 * Sync Date
+	 * 
+	 * Attention: When adding columns here, also add a default width in
+	 * Preferences.listColWidth
 	 */
 	private int[] colMap;
 	/** The column widths corresponding to the list of columns above */
 	private int[] colWidth;
-	private String [] colName = {" ","?",MyLocale.getMsg(1000,"D"),MyLocale.getMsg(1001,"T"),
-			MyLocale.getMsg(1002,"Waypoint"),"Name",MyLocale.getMsg(1004,"Location"),
-			MyLocale.getMsg(1005,"Owner"),MyLocale.getMsg(1006,"Hidden"),MyLocale.getMsg(1007,"Status"),
-			MyLocale.getMsg(1008,"Dist"),MyLocale.getMsg(1009,"Bear"),MyLocale.getMsg(1017,"S"),
-			MyLocale.getMsg(1026,"#Rec"),MyLocale.getMsg(1027,"OC-IDX"),MyLocale.getMsg(1038,"S"),
-			MyLocale.getMsg(1040,"N"),MyLocale.getMsg(1047,"A"),MyLocale.getMsg(1049,"DNF"),
-			MyLocale.getMsg(1051,"Last synced")};
+	private String[] colName = { " ", "?", MyLocale.getMsg(1000, "D"),
+			MyLocale.getMsg(1001, "T"), MyLocale.getMsg(1002, "Waypoint"),
+			"Name", MyLocale.getMsg(1004, "Location"),
+			MyLocale.getMsg(1005, "Owner"), MyLocale.getMsg(1006, "Hidden"),
+			MyLocale.getMsg(1007, "Status"), MyLocale.getMsg(1008, "Dist"),
+			MyLocale.getMsg(1009, "Bear"), MyLocale.getMsg(1017, "S"),
+			MyLocale.getMsg(1026, "#Rec"), MyLocale.getMsg(1027, "OC-IDX"),
+			MyLocale.getMsg(1038, "S"), MyLocale.getMsg(1040, "N"),
+			MyLocale.getMsg(1047, "A"), MyLocale.getMsg(1049, "DNF"),
+			MyLocale.getMsg(1051, "Last synced") };
 
 	private static Image noFindLogs[] = new Image[4];
 	public static mImage red, blue, yellow; // skull, green
-	private Image checkboxTicked,checkboxUnticked;
+	private Image checkboxTicked, checkboxUnticked;
 	private mImage bug;
-    private static mImage imgSortUp, imgSortDown;
+	private static mImage imgSortUp, imgSortDown;
 	public boolean sortAscending = false;
 	public int sortedBy = -1; // -1 don't sort
-	public boolean isSorted = false; // true if "sort order indicators" should be displayed 
+	public boolean isSorted = false; // true if "sort order indicators" should
+										// be displayed
 	private FontMetrics fm;
-//	private mImage picSizeMicro,picSizeSmall,picSizeReg,picSizeLarge,picSizeVLarge,picSizeNonPhysical;
-	private mImage picHasSolver,picHasNotes;
+	// private mImage
+	// picSizeMicro,picSizeSmall,picSizeReg,picSizeLarge,picSizeVLarge,picSizeNonPhysical;
+	private mImage picHasSolver, picHasNotes;
 	private mImage[] sizePics = new mImage[CacheSize.CW_TOTAL_SIZE_IMAGES];
-	/** This is the modifier (Shift & Control key status) for Pen Events
-	 * it is set in myTableControl.onEvent */
+	/**
+	 * This is the modifier (Shift & Control key status) for Pen Events it is
+	 * set in myTableControl.onEvent
+	 */
 	public int penEventModifiers;
 	public myTableControl tcControl;
-	public boolean showExtraWptInfo=true;
+	public boolean showExtraWptInfo = true;
 
-	public myTableModel(myTableControl tc, FontMetrics fm){
+	public myTableModel(myTableControl tc, FontMetrics fm) {
 		super();
 		cacheDB = Global.getProfile().cacheDB;
-		this.fm=fm;
+		this.fm = fm;
 		tcControl = tc;
 		setColumnNamesAndWidths();
 		numRows = cacheDB.size();
-		//Dimension selrow = new Dimension(-1,1);
-		//this.cursorSize = selrow;
+		// Dimension selrow = new Dimension(-1,1);
+		// this.cursorSize = selrow;
 		noFindLogs[0] = new Image("no_1_log.png");
 		noFindLogs[1] = new Image("no_2_log.png");
 		noFindLogs[2] = new Image("no_3_log.png");
 		noFindLogs[3] = new Image("no_4_log.png");
-		red = new mImage("red.png"); red.transparentColor=Color.White;
-		blue = new mImage("blue.png"); blue.transparentColor=Color.White;
-		//green = new mImage("green.png");green.transparentColor=Color.White;
-		yellow = new mImage("yellow.png");yellow.transparentColor=Color.White;
-		//skull = new mImage("skull.png");skull.transparentColor=Color.DarkBlue;
-		bug = new mImage("bug_table.png");bug.transparentColor=Color.DarkBlue;
+		red = new mImage("red.png");
+		red.transparentColor = Color.White;
+		blue = new mImage("blue.png");
+		blue.transparentColor = Color.White;
+		// green = new mImage("green.png");green.transparentColor=Color.White;
+		yellow = new mImage("yellow.png");
+		yellow.transparentColor = Color.White;
+		// skull = new
+		// mImage("skull.png");skull.transparentColor=Color.DarkBlue;
+		bug = new mImage("bug_table.png");
+		bug.transparentColor = Color.DarkBlue;
 		checkboxTicked = new Image("checkboxTicked.png");
-		checkboxUnticked= new Image("checkboxUnticked.png");
-		imgSortUp = new mImage( "sortup.png" ); imgSortUp.transparentColor = Color.White;
-		imgSortDown = new mImage( "sortdown.png" ); imgSortDown.transparentColor = Color.White;
+		checkboxUnticked = new Image("checkboxUnticked.png");
+		imgSortUp = new mImage("sortup.png");
+		imgSortUp.transparentColor = Color.White;
+		imgSortDown = new mImage("sortdown.png");
+		imgSortDown.transparentColor = Color.White;
 
-//		picSizeMicro=new mImage("sizeMicro.png"); picSizeMicro.transparentColor=Color.White;
-//		picSizeSmall=new mImage("sizeSmall.png"); picSizeSmall.transparentColor=Color.White;
-//		picSizeReg=new mImage("sizeReg.png"); picSizeReg.transparentColor=Color.White;
-//		picSizeLarge=new mImage("sizeLarge.png"); picSizeLarge.transparentColor=Color.White;
-//		picSizeVLarge=new mImage("sizeVLarge.png"); picSizeVLarge.transparentColor=Color.White;
-//		picSizeNonPhysical=new mImage("sizeNonPhysical.png"); picSizeNonPhysical.transparentColor=Color.White;
+		// picSizeMicro=new mImage("sizeMicro.png");
+		// picSizeMicro.transparentColor=Color.White;
+		// picSizeSmall=new mImage("sizeSmall.png");
+		// picSizeSmall.transparentColor=Color.White;
+		// picSizeReg=new mImage("sizeReg.png");
+		// picSizeReg.transparentColor=Color.White;
+		// picSizeLarge=new mImage("sizeLarge.png");
+		// picSizeLarge.transparentColor=Color.White;
+		// picSizeVLarge=new mImage("sizeVLarge.png");
+		// picSizeVLarge.transparentColor=Color.White;
+		// picSizeNonPhysical=new mImage("sizeNonPhysical.png");
+		// picSizeNonPhysical.transparentColor=Color.White;
 
 		for (byte i = 0; i < CacheSize.CW_TOTAL_SIZE_IMAGES; i++) {
 			sizePics[i] = new mImage(CacheSize.sizeImageForId(i));
-			sizePics[i].transparentColor=Color.White;
+			sizePics[i].transparentColor = Color.White;
 		}
 
-		picHasSolver=new mImage("solver_exists.png"); picHasSolver.transparentColor=Color.White;
-		picHasNotes=new mImage("notes_exist.png"); picHasNotes.transparentColor=Color.White;
-//		updateRows();
+		picHasSolver = new mImage("solver_exists.png");
+		picHasSolver.transparentColor = Color.White;
+		picHasNotes = new mImage("notes_exist.png");
+		picHasNotes.transparentColor = Color.White;
+		// updateRows();
 	}
 
 	/**
 	 * Sets the column names and widths from preferences
-	 *
+	 * 
 	 */
 	public void setColumnNamesAndWidths() {
-		colMap=TableColumnChooser.str2Array(Global.getPref().listColMap,0,N_COLUMNS-1,0, -1);
-		colWidth=TableColumnChooser.str2Array(Global.getPref().listColWidth,10,1024,50, colMap.length);
-		numCols=colMap.length;
+		colMap = TableColumnChooser.str2Array(Global.getPref().listColMap, 0,
+				N_COLUMNS - 1, 0, -1);
+		colWidth = TableColumnChooser.str2Array(Global.getPref().listColWidth,
+				10, 1024, 50, colMap.length);
+		numCols = colMap.length;
 		clearCellAdjustments();
 		// If the displayed columns include the checkbox, we use the full menu
-		if ((","+Global.getPref().listColMap+",").indexOf(",0,")>=0)
+		if (("," + Global.getPref().listColMap + ",").indexOf(",0,") >= 0)
 			tcControl.setMenuFull();
 		else
 			tcControl.setMenuSmall();
 	}
 
 	/**
-	 * Return the column widths as a comma delimited string for storing in the preferences
+	 * Return the column widths as a comma delimited string for storing in the
+	 * preferences
+	 * 
 	 * @return
 	 */
 	public String getColWidths() {
 		// Update the list with the current widths
-		for (int col=0; col<numCols; col++) {
-			colWidth[colMap[col]]=getColWidth(col);
+		for (int col = 0; col < numCols; col++) {
+			colWidth[colMap[col]] = getColWidth(col);
 		}
 		clearCellAdjustments();
 		// Convert to string
-		StringBuffer sb=new StringBuffer(100);
-		for (int i=0; i<N_COLUMNS; i++) {
-			if (sb.length()!=0) sb.append(',');
+		StringBuffer sb = new StringBuffer(100);
+		for (int i = 0; i < N_COLUMNS; i++) {
+			if (sb.length() != 0)
+				sb.append(',');
 			sb.append(colWidth[i]);
 		}
 		return sb.toString();
 	}
-	public void updateRows(){
+
+	public void updateRows() {
 		Vector sortDB = new Vector();
 		Vector notVisibleDB = new Vector();
 		CacheHolder ch, addiWpt;
 		// sort cacheDB:
 		// - addi wpts are listet behind the main cache
 		// - filtered caches are moved to the end
-		int size=cacheDB.size();
-		for (int i=0; i<size; i++){
+		int size = cacheDB.size();
+		for (int i = 0; i < size; i++) {
 			ch = cacheDB.get(i);
 			if (!ch.isVisible()) {
 				notVisibleDB.add(ch);
 			} else { // point is not filtered
 				if (Global.getPref().SortingGroupedByCache) {
-					if (ch.isAddiWpt()){ // unfiltered Addi Wpt
+					if (ch.isAddiWpt()) { // unfiltered Addi Wpt
 						// check if main wpt is filtered
-						if(ch.mainCache != null) { // parent exists
-							if (! ch.mainCache.isVisible())
-								sortDB.add(ch); // Unfiltered Addi Wpt with filtered Main Wpt, show it on its own
+						if (ch.mainCache != null) { // parent exists
+							if (!ch.mainCache.isVisible())
+								sortDB.add(ch); // Unfiltered Addi Wpt with
+												// filtered Main Wpt, show it on
+												// its own
 							// else
-							// Main cache is not filtered, Addi will be added below main cache further down
-							// This case doesn't seem to be a problem. It occurs regularly, when
-							// filtered addis are unfiltered, so there is not need to log this case.
-						} else { //Addi without main Cache
+							// Main cache is not filtered, Addi will be added
+							// below main cache further down
+							// This case doesn't seem to be a problem. It occurs
+							// regularly, when
+							// filtered addis are unfiltered, so there is not
+							// need to log this case.
+						} else { // Addi without main Cache
 							sortDB.add(ch);
 						}
 					} else { // Main Wpt, not filtered. Check for Addis
 						sortDB.add(ch);
-						if (ch.hasAddiWpt()){
-							for (int j=0; j<ch.addiWpts.getCount();j++){
-								addiWpt = (CacheHolder)ch.addiWpts.get(j);
-								if (addiWpt.isVisible()) sortDB.add(addiWpt);
+						if (ch.hasAddiWpt()) {
+							for (int j = 0; j < ch.addiWpts.getCount(); j++) {
+								addiWpt = (CacheHolder) ch.addiWpts.get(j);
+								if (addiWpt.isVisible())
+									sortDB.add(addiWpt);
 							}
 						}// if hasAddiWpt
 					} // if AddiWpt
-				}
-				else {
+				} else {
 					sortDB.add(ch);
 				}
 			} // if filtered
@@ -200,27 +236,30 @@
 	}
 
 	/**
-	 * Method to set the row color of the table displaying the cache list, depending on different
-	 * flags set to the cache.
+	 * Method to set the row color of the table displaying the cache list,
+	 * depending on different flags set to the cache.
 	 */
 	/*
 	 * (non-Javadoc)
-	 *
-	 * @see ewe.ui.TableModel#getCellAttributes(int, int, boolean, ewe.ui.TableCellAttributes)
+	 * 
+	 * @see ewe.ui.TableModel#getCellAttributes(int, int, boolean,
+	 * ewe.ui.TableCellAttributes)
 	 */
-	public TableCellAttributes getCellAttributes(int row, int col, boolean isSelected,
-	        TableCellAttributes ta) {
+	public TableCellAttributes getCellAttributes(int row, int col,
+			boolean isSelected, TableCellAttributes ta) {
 		ta = super.getCellAttributes(row, col, isSelected, ta);
 		ta.alignment = CellConstants.LEFT;
 		ta.anchor = CellConstants.LEFT;
 		// The default color of a line is white
 		lineColorBG.set(COLOR_WHITE);
-		// Determination of colors is only done for first column. Other columns take same
+		// Determination of colors is only done for first column. Other columns
+		// take same
 		// color.
 		if (row >= 0) {
-			if (row==0 || row != lastRow) {
+			if (row == 0 || row != lastRow) {
 				try {
-					// Now find out if the line should be painted in an other color.
+					// Now find out if the line should be painted in an other
+					// color.
 					// Selected lines are not considered, so far
 					CacheHolder ch = cacheDB.get(row);
 					if (ch.is_owned())
@@ -229,6 +268,8 @@
 						lineColorBG.set(COLOR_FOUND);
 					else if (ch.is_flaged)
 						lineColorBG.set(COLOR_FLAGED);
+					else if (!ch.getCacheStatus().equals(""))
+						lineColorBG.set(COLOR_STATUS);
 					else if (Global.getPref().debug && ch.detailsLoaded())
 						lineColorBG.set(COLOR_DETAILS_LOADED);
 
@@ -247,7 +288,8 @@
 						}
 					}
 
-					// Now, if a line is selected, blend the determined color with the selection
+					// Now, if a line is selected, blend the determined color
+					// with the selection
 					// color.
 					if (isSelected)
 						mergeColor(lineColorBG, lineColorBG, COLOR_SELECTED);
@@ -256,15 +298,22 @@
 					lastColorFG.set(ta.foreground);
 					lastRow = row;
 				} catch (Exception e) {
-					if (Global.getPref().debug) Global.getPref().log("Ignored Exception in myTableModel.TableCellAttributes()", e, true);
-				};
-			} else  {
+					if (Global.getPref().debug)
+						Global
+								.getPref()
+								.log(
+										"Ignored Exception in myTableModel.TableCellAttributes()",
+										e, true);
+				}
+				;
+			} else {
 				// Here: We already had this row.
 				// Take color computed for last column
 				ta.fillColor = lastColorBG;
 				ta.foreground = lastColorFG;
 			}
-		} else if (row == -1 && colMap[col] == 0 && Global.getProfile().showBlacklisted()) {
+		} else if (row == -1 && colMap[col] == 0
+				&& Global.getProfile().showBlacklisted()) {
 			ta.fillColor = Color.Black;
 			lastColorBG.set(ta.fillColor);
 		}
@@ -272,249 +321,295 @@
 	}
 
 	/**
-	 * Determines the arithmetic mean value of two colors and stores the result in the
-	 * third color.
-	 * @param colorMerged Resulting color
-	 * @param colorA First color to merge. May be same object as <code>colorMerged</code>.
-	 * @param colorB Second color to merge. May be same object as <code>colorMerged</code>.
+	 * Determines the arithmetic mean value of two colors and stores the result
+	 * in the third color.
+	 * 
+	 * @param colorMerged
+	 *            Resulting color
+	 * @param colorA
+	 *            First color to merge. May be same object as
+	 *            <code>colorMerged</code>.
+	 * @param colorB
+	 *            Second color to merge. May be same object as
+	 *            <code>colorMerged</code>.
 	 */
 	private void mergeColor(Color colorMerged, Color colorA, Color colorB) {
-		colorMerged.set((colorA.getRed()+colorB.getRed())/2,
-				         (colorA.getGreen()+colorB.getGreen())/2,
-				         (colorA.getBlue()+colorB.getBlue())/2);
+		colorMerged.set((colorA.getRed() + colorB.getRed()) / 2, (colorA
+				.getGreen() + colorB.getGreen()) / 2,
+				(colorA.getBlue() + colorB.getBlue()) / 2);
 	}
-	public int calculateRowHeight(int row){
-		return java.lang.Math.max(18, charHeight+4);
+
+	public int calculateRowHeight(int row) {
+		return java.lang.Math.max(18, charHeight + 4);
 	}
 
-	public int calculateColWidth(int col){
-		if(col == -1)
-        	return 0;
-        else if (col<numCols)
-        	return colWidth[colMap[col]];
-        else return 0;
+	public int calculateColWidth(int col) {
+		if (col == -1)
+			return 0;
+		else if (col < numCols)
+			return colWidth[colMap[col]];
+		else
+			return 0;
 	}
 
 	/**
-	 * Need to override this method with a null return to avoid
-	 * getCellData being called twice on each access to a cell.
-	 * For further reference see the Ewe source code.
+	 * Need to override this method with a null return to avoid getCellData
+	 * being called twice on each access to a cell. For further reference see
+	 * the Ewe source code.
+	 * 
 	 * @author skg
 	 */
 	public Object getCellText(int row, int col) {
 		return null;
 	}
 
-	public Object getCellData(int row, int col){
-		if(row == -1) {
-            if (colMap[col] == sortedBy && isSorted) {
-                if( sortAscending ) {
-                    return new IconAndText( imgSortUp, colName[colMap[col]], fm);
-                    //return "^ "+colName[colMap[col]];
-                }
-                else {
-                    return new IconAndText( imgSortDown, colName[colMap[col]], fm);
-                    //return "v "+colName[colMap[col]];
-                }
-            }
-            else {
-                return colName[colMap[col]];
-            }
-        }
+	public Object getCellData(int row, int col) {
+		if (row == -1) {
+			if (colMap[col] == sortedBy && isSorted) {
+				if (sortAscending) {
+					return new IconAndText(imgSortUp, colName[colMap[col]], fm);
+					// return "^ "+colName[colMap[col]];
+				} else {
+					return new IconAndText(imgSortDown, colName[colMap[col]],
+							fm);
+					// return "v "+colName[colMap[col]];
+				}
+			} else {
+				return colName[colMap[col]];
+			}
+		}
 		try { // Access to row can fail if many caches are deleted
 			CacheHolder ch = cacheDB.get(row);
-			if(ch!=null /*ch.isVisible()*/){ // Check of visibility needed here??
-				switch(colMap[col]) { // Faster than using column names
-					case 0: // Checkbox
-						if (ch.is_Checked)
-							return checkboxTicked;
+			if (ch != null /* ch.isVisible() */) { // Check of visibility
+													// needed here??
+				switch (colMap[col]) { // Faster than using column names
+				case 0: // Checkbox
+					if (ch.is_Checked)
+						return checkboxTicked;
+					else
+						return checkboxUnticked;
+				case 1: // Type
+					return CacheType.getTypeImage(ch.getType());
+				case 2: // Difficulty;
+					if (!ch.isCacheWpt()) {
+						return "";
+					} else {
+						return CacheTerrDiff.longDT(ch.getHard());
+					}
+				case 3: // Terrain
+					if (!ch.isCacheWpt()) {
+						return "";
+					} else {
+						return CacheTerrDiff.longDT(ch.getTerrain());
+					}
+				case 4: // Waypoint
+					if (showExtraWptInfo) {
+						if (ch.is_incomplete())
+							return ch.getIconAndTextWP(4, fm);
+						if (ch.is_new())
+							return ch.getIconAndTextWP(3, fm);
+						if (ch.is_updated())
+							return ch.getIconAndTextWP(2, fm);
+						if (ch.is_log_updated())
+							return ch.getIconAndTextWP(1, fm);
+					}
+					return ch.getWayPoint();
+				case 5: // Cachename
+					// Fast return for majority of case
+					if (!showExtraWptInfo
+							|| (ch.has_bugs() == false && ch.getNoFindLogs() == 0))
+						return ch.getCacheName();
+					// Now need more checks
+					IconAndText wpVal = new IconAndText();
+					if (ch.has_bugs() == true)
+						wpVal.addColumn(bug);
+					if (ch.getNoFindLogs() > 0) {
+						if (ch.getNoFindLogs() > noFindLogs.length)
+							wpVal.addColumn(noFindLogs[noFindLogs.length - 1]);
 						else
-							return checkboxUnticked;
-					case 1: // Type
-						return CacheType.getTypeImage(ch.getType());
-					case 2: // Difficulty;
-						if (!ch.isCacheWpt()) {
-							return "";
-						} else {
-							return CacheTerrDiff.longDT(ch.getHard());
-						}
-					case 3: // Terrain
-						if (!ch.isCacheWpt()) {
-							return "";
-						} else {
-							return CacheTerrDiff.longDT(ch.getTerrain());
-						}
-					case 4: // Waypoint
-						if (showExtraWptInfo) {
-							if(ch.is_incomplete()) return ch.getIconAndTextWP(4, fm);
-							if(ch.is_new()       ) return ch.getIconAndTextWP(3, fm);
-							if(ch.is_updated()    ) return ch.getIconAndTextWP(2, fm);
-							if(ch.is_log_updated()) return ch.getIconAndTextWP(1, fm);
-						}
-						return ch.getWayPoint();
-					case 5: // Cachename
-						// Fast return for majority of case
-						if (!showExtraWptInfo || (ch.has_bugs() == false && ch.getNoFindLogs()==0)) return ch.getCacheName();
-						// Now need more checks
-						IconAndText wpVal = new IconAndText();
-						if(ch.has_bugs() == true) wpVal.addColumn(bug);
-						if(ch.getNoFindLogs() > 0){
-							if (ch.getNoFindLogs() > noFindLogs.length)
-								wpVal.addColumn(noFindLogs[noFindLogs.length-1]);
-							else
-								wpVal.addColumn(noFindLogs[ch.getNoFindLogs()-1]);
-						}
-						wpVal.addColumn(ch.getCacheName());
-						return wpVal;
-					case 6: // Location
-						return ch.getLatLon();
-					case 7: // Owner
-						return ch.getCacheOwner();
-					case 8: // Date hidden
-						return ch.getDateHidden();
-					case 9: // Status
-						return ch.getCacheStatus();
-					case 10: // Distance
-						return ch.getDistance();
-					case 11: // Bearing
-						return ch.getBearing();
-					case 12: // Size
-						if (ch.isAddiWpt()) {
-							return "";
-						} else {
-							return sizePics[CacheSize.guiSizeImageId(ch.getCacheSize())];
-						}
-					case 13: // OC number of recommendations
-						if (!ch.isCacheWpt()) return null;
-						return Convert.formatInt(ch.getNumRecommended());
-					case 14: // OC rating
-						if (ch.isOC())
-							return Convert.formatInt(ch.recommendationScore);
+							wpVal.addColumn(noFindLogs[ch.getNoFindLogs() - 1]);
+					}
+					wpVal.addColumn(ch.getCacheName());
+					return wpVal;
+				case 6: // Location
+					return ch.getLatLon();
+				case 7: // Owner
+					return ch.getCacheOwner();
+				case 8: // Date hidden
+					return ch.getDateHidden();
+				case 9: // Status
+					return ch.getCacheStatus();
+				case 10: // Distance
+					return ch.getDistance();
+				case 11: // Bearing
+					return ch.getBearing();
+				case 12: // Size
+					if (ch.isAddiWpt()) {
+						return "";
+					} else {
+						return sizePics[CacheSize.guiSizeImageId(ch
+								.getCacheSize())];
+					}
+				case 13: // OC number of recommendations
+					if (!ch.isCacheWpt())
 						return null;
-					case 15: // Is solver filled?
-					    if (ch.hasSolver()) return picHasSolver; else return null;
-					case 16: // Does note exist?
-						if (ch.hasNote()) return picHasNotes; else return null;
-					case 17: // Number of Additional Waypoints;
-						if (ch.mainCache == null && ch.addiWpts.size()>0) {
-							return String.valueOf(ch.addiWpts.size());
-						} else {
-							return "";
+					return Convert.formatInt(ch.getNumRecommended());
+				case 14: // OC rating
+					if (ch.isOC())
+						return Convert.formatInt(ch.recommendationScore);
+					return null;
+				case 15: // Is solver filled?
+					if (ch.hasSolver())
+						return picHasSolver;
+					else
+						return null;
+				case 16: // Does note exist?
+					if (ch.hasNote())
+						return picHasNotes;
+					else
+						return null;
+				case 17: // Number of Additional Waypoints;
+					if (ch.mainCache == null && ch.addiWpts.size() > 0) {
+						return String.valueOf(ch.addiWpts.size());
+					} else {
+						return "";
+					}
+				case 18: // Number of DNF logs
+					if (ch.getNoFindLogs() > 0) {
+						return String.valueOf(ch.getNoFindLogs());
+					} else {
+						return "";
+					}
+				case 19: // Last sync date
+					if (!ch.getLastSync().equals("")) {
+						try {
+							lastSyncWorker.parse(ch.getLastSync(),
+									"yyyyMMddHHmmss");
+						} catch (IllegalArgumentException e) {
+							Global.getPref().log(
+									"Could not parse 'lastSyncDate': "
+											+ ch.getLastSync()
+											+ ". Reset to empty.", e);
+							ch.setLastSync("");
 						}
-					case 18: // Number of DNF logs
-						if (ch.getNoFindLogs()>0) {
-							return String.valueOf(ch.getNoFindLogs());
-						} else {
-							return "";
-						}
-					case 19: // Last sync date
-						if (!ch.getLastSync().equals("")) {
-							try {
-	                            lastSyncWorker.parse(ch.getLastSync(),"yyyyMMddHHmmss");
-                            } catch (IllegalArgumentException e) {
-                            	Global.getPref().log("Could not parse 'lastSyncDate': "+ch.getLastSync()+". Reset to empty.",e);
-                            	ch.setLastSync("");
-                            }
-							return lastSyncWorker.format("yyyy-MM-dd HH:mm");
-						} else {
-							return "";
-						}
+						return lastSyncWorker.format("yyyy-MM-dd HH:mm");
+					} else {
+						return "";
+					}
 				} // Switch
 			} // if
 		} catch (Exception e) {
-			if (Global.getPref().debug) Global.getPref().log("Ignored Exception in myTableModel.getCellData()",e, true);
+			if (Global.getPref().debug)
+				Global.getPref().log(
+						"Ignored Exception in myTableModel.getCellData()", e,
+						true);
 			return null;
 		}
 		return null;
 	}
 
-	public boolean penPressed(Point onTable,Point cell){
+	public boolean penPressed(Point onTable, Point cell) {
 		boolean retval = false;
-		if (cell==null) return false;
-		try{
+		if (cell == null)
+			return false;
+		try {
 			// Check whether the click is on the checkbox image
-			if (cell.y>=0 && colMap[cell.x]==0) {
+			if (cell.y >= 0 && colMap[cell.x] == 0) {
 				Global.getProfile().selectionChanged = true;
-				if ((penEventModifiers & IKeys.SHIFT)>0) {
-					if (tcControl.cursor.y >= 0) { // Second row being marked with shift key pressed
-						if (tcControl.cursor.y<cell.y)
-							toggleSelect(tcControl.cursor.y+1,cell.y,cell.x);
+				if ((penEventModifiers & IKeys.SHIFT) > 0) {
+					if (tcControl.cursor.y >= 0) { // Second row being marked
+													// with shift key pressed
+						if (tcControl.cursor.y < cell.y)
+							toggleSelect(tcControl.cursor.y + 1, cell.y, cell.x);
 						else
-							toggleSelect(cell.y,tcControl.cursor.y-1,cell.x);
-					} else { // Remember this row as start of range, but don't toggle yet
+							toggleSelect(cell.y, tcControl.cursor.y - 1, cell.x);
+					} else { // Remember this row as start of range, but don't
+								// toggle yet
 					}
 				} else { // Single row marked
-					toggleSelect(cell.y,cell.y,cell.x);
+					toggleSelect(cell.y, cell.y, cell.x);
 				}
 			}
-			if(cell.y == -1){ // Hit a header => sort the table accordingly
+			if (cell.y == -1) { // Hit a header => sort the table accordingly
 				// cell.x is the physical column
 				// but we have to sort by the column it is mapped into
-				int mappedCol=colMap[cell.x];
+				int mappedCol = colMap[cell.x];
 				boolean sortvalue = true;
-				if (mappedCol==0) sortvalue = !showExtraWptInfo;
-				else if (mappedCol == sortedBy) sortvalue=!sortAscending;
-				sortTable(mappedCol,sortvalue);
+				if (mappedCol == 0)
+					sortvalue = !showExtraWptInfo;
+				else if (mappedCol == sortedBy)
+					sortvalue = !sortAscending;
+				sortTable(mappedCol, sortvalue);
 				retval = true;
 			}
-		} catch(NullPointerException npex){
+		} catch (NullPointerException npex) {
 			Global.getPref().log("NPE in myTableModel.Penpressed");
 			Vm.showWait(false);
-			}
+		}
 		return retval;
 	}
 
-    public void sortTable(int mappedCol, boolean howToDo){
-        sortedBy = mappedCol;
-        if( mappedCol <= 0 ) {
-        	// 0 is Tickbox header
+	public void sortTable(int mappedCol, boolean howToDo) {
+		sortedBy = mappedCol;
+		if (mappedCol <= 0) {
+			// 0 is Tickbox header
 			// Hide/unhide the additional information about a waypoint such as
 			// travelbugs/number of notfound logs/yellow circle/red circle etc.
 			// This helps on small PDA screens
-            if (mappedCol == 0) showExtraWptInfo=howToDo;
-        }
-        else {
-            sortAscending = howToDo;
-            Vm.showWait( true );
-            // get selected Cache
-            Point a = tcControl.getSelectedCell( null );
-            CacheHolder ch = null;
-            if ( ( a != null ) && ( a.y >= 0 ) && ( a.y < cacheDB.size() ) ) ch = cacheDB.get( a.y );
-            cacheDB.sort( new MyComparer( cacheDB, sortedBy, numRows ), !sortAscending );
-            updateRows(); // = cacheDB.rebuild(sortedVector of ch, invisibleVector of ch)
-            // select previously selected Cache again
-            if( ch != null ) {
-                int rownum = Global.getProfile().getCacheIndex( ch.getWayPoint() );
-                if( rownum >= 0 ) tcControl.cursorTo( rownum, 0, true );
-            }
-            this.isSorted = true;
-            Vm.showWait( false );
-        }
-        tcControl.tbp.refreshControl(); // repaint with update Statusbar
-    }
+			if (mappedCol == 0)
+				showExtraWptInfo = howToDo;
+		} else {
+			sortAscending = howToDo;
+			Vm.showWait(true);
+			// get selected Cache
+			Point a = tcControl.getSelectedCell(null);
+			CacheHolder ch = null;
+			if ((a != null) && (a.y >= 0) && (a.y < cacheDB.size()))
+				ch = cacheDB.get(a.y);
+			cacheDB.sort(new MyComparer(cacheDB, sortedBy, numRows),
+					!sortAscending);
+			updateRows(); // = cacheDB.rebuild(sortedVector of ch,
+							// invisibleVector of ch)
+			// select previously selected Cache again
+			if (ch != null) {
+				int rownum = Global.getProfile()
+						.getCacheIndex(ch.getWayPoint());
+				if (rownum >= 0)
+					tcControl.cursorTo(rownum, 0, true);
+			}
+			this.isSorted = true;
+			Vm.showWait(false);
+		}
+		tcControl.tbp.refreshControl(); // repaint with update Statusbar
+	}
 
-	/** Toggle the select status for a group of caches
-	 * If from==to, the addi Waypoints are also toggled if the cache is a main waypoint
-	 * If from!=to, each cache is toggled irrespective of its type (main or addi)
-	 * @param from index of first cache to toggle
-	 * @param to index of last cache to toggle
-	 * @param x is column of checkbox (does not have to be 0)
+	/**
+	 * Toggle the select status for a group of caches If from==to, the addi
+	 * Waypoints are also toggled if the cache is a main waypoint If from!=to,
+	 * each cache is toggled irrespective of its type (main or addi)
+	 * 
+	 * @param from
+	 *            index of first cache to toggle
+	 * @param to
+	 *            index of last cache to toggle
+	 * @param x
+	 *            is column of checkbox (does not have to be 0)
 	 */
 	void toggleSelect(int from, int to, int x) {
 		CacheHolder ch;
-		boolean singleRow= from == to;
-		for (int j=from; j<=to; j++) {
-			ch=cacheDB.get(j);
-			ch.is_Checked= !ch.is_Checked;
+		boolean singleRow = from == to;
+		for (int j = from; j <= to; j++) {
+			ch = cacheDB.get(j);
+			ch.is_Checked = !ch.is_Checked;
 			tcControl.repaintCell(j, x);
 			// set the ceckbox also for addi wpts
-			if (ch.hasAddiWpt() && singleRow){
+			if (ch.hasAddiWpt() && singleRow) {
 				CacheHolder addiWpt;
-				int addiCount=ch.addiWpts.getCount();
-				for (int i=0;i<addiCount;i++){
-					addiWpt = (CacheHolder)ch.addiWpts.get(i);
+				int addiCount = ch.addiWpts.getCount();
+				for (int i = 0; i < addiCount; i++) {
+					addiWpt = (CacheHolder) ch.addiWpts.get(i);
 					addiWpt.is_Checked = ch.is_Checked;
-					if (addiWpt.isVisible()){
+					if (addiWpt.isVisible()) {
 						tcControl.repaintCell(cacheDB.getIndex(addiWpt), x);
 					}
 				}
@@ -522,8 +617,9 @@
 			}
 		}
 	}
-	public void select(int row,int col,boolean selectOn) {
-		//super.select(row, col, selectOn);
+
+	public void select(int row, int col, boolean selectOn) {
+		// super.select(row, col, selectOn);
 		tcControl.cursorTo(row, col, true);
 	}
 



From araber95 at mail.berlios.de  Thu Jun 17 18:46:03 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 17 Jun 2010 18:46:03 +0200
Subject: [Cachewolf-svn] r2625 - trunk/src/CacheWolf/navi/touchControls
Message-ID: <201006171646.o5HGk338027946@sheep.berlios.de>

Author: araber95
Date: 2010-06-17 18:46:01 +0200 (Thu, 17 Jun 2010)
New Revision: 2625

Modified:
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
Log:
bugfix for last change in mmc

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-06-17 11:42:26 UTC (rev 2624)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-06-17 16:46:01 UTC (rev 2625)
@@ -295,15 +295,16 @@
 
 	public boolean readFile() {
 		setDocumentHandler(this);
-		CONFIG_RELATIVE_PATH=CONFIG_RELATIVE_PATH+"Desktop/";
+		String tmp = CONFIG_RELATIVE_PATH+"Desktop/";
 
 		if (Vm.isMobile()) {
-			CONFIG_RELATIVE_PATH=CONFIG_RELATIVE_PATH+"pda/";
+			tmp=CONFIG_RELATIVE_PATH+"pda/";
 			
 			if (MyLocale.getScreenHeight() >= 480 && MyLocale.getScreenWidth() >= 480) {
-				CONFIG_RELATIVE_PATH=CONFIG_RELATIVE_PATH+"pda_vga/";
+				tmp=CONFIG_RELATIVE_PATH+"pda_vga/";
 			}
 		}
+		CONFIG_RELATIVE_PATH=tmp;
 		String path = FileBase.makePath(FileBase.getProgramDirectory(),CONFIG_RELATIVE_PATH);
 		path = path.replace('\\', '/');
 		File file = new File(path, CONFIG_FILE_NAME_OVERWRITE);



From araber95 at mail.berlios.de  Thu Jun 17 20:02:51 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 17 Jun 2010 20:02:51 +0200
Subject: [Cachewolf-svn] r2626 - trunk/src/CacheWolf
Message-ID: <201006171802.o5HI2pCZ031503@sheep.berlios.de>

Author: araber95
Date: 2010-06-17 20:02:50 +0200 (Thu, 17 Jun 2010)
New Revision: 2626

Modified:
   trunk/src/CacheWolf/PreferencesScreen.java
Log:
preferences : clear gps - Button and added  PM-Switch.

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2010-06-17 16:46:01 UTC (rev 2625)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2010-06-17 18:02:50 UTC (rev 2626)
@@ -22,7 +22,7 @@
 	       inpLogsPerPage,inpMaxLogsToSpider,inpPassword;
 	mCheckBox chkAutoLoad, chkShowDeletedImg, chkMenuAtTop, chkTabsAtTop, chkShowStatus,chkHasCloseButton,
 	          chkSynthShort,chkProxyActive, chkDescShowImg, chkAddDetailsToWaypoint, chkAddDetailsToName, 
-	          chkSetCurrentCentreFromGPSPosition,chkSortingGroupedByCache,chkuseOwnSymbols,chkDebug;
+	          chkSetCurrentCentreFromGPSPosition,chkSortingGroupedByCache,chkuseOwnSymbols,chkDebug,chkPM;
 	mTabbedPanel mTab;
 	mChoice chcGarminPort;
 	mLabel lblGarmin;
@@ -34,8 +34,8 @@
 	CellPanel pnlDisplay = new CellPanel();
 	CellPanel pnlMore = new CellPanel();
 	CellPanel pnlTB = new CellPanel();
-	//Frame frmGarmin = new Frame();
-	ScrollBarPanel scp; // TODO not neede any more?
+
+	// ScrollBarPanel scp;
 	String [] garminPorts= new String[]{"com1","com2","com3","com4","com5","com6","com7","usb"};
 	
 	public PreferencesScreen (Preferences p){
@@ -76,100 +76,91 @@
 		/////////////////////////////////////////////////////////
 		// First panel - General
 		/////////////////////////////////////////////////////////
-		Frame frmDataDir=new Frame();
-		frmDataDir.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_BOTTOM;
-		frmDataDir.addNext(new mLabel(MyLocale.getMsg(603,"Data Directory:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		//frmDataDir.setTag(INSETS,new Insets(10,10,10,10));
-		frmDataDir.addLast(brwBt = new mButton(MyLocale.getMsg(604,"Browse")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.EAST));
+		CellPanel cpDataDir=new CellPanel();
+		cpDataDir.addNext(new mLabel(MyLocale.getMsg(603,"Data Directory:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		DataDir = new mInput();
 		DataDir.setText(pref.getBaseDir());
-		frmDataDir.addLast(DataDir.setTag(CellConstants.SPAN, new Dimension(3,1)),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.EAST));
-		frmDataDir.addNext(chkAutoLoad = new mCheckBox(MyLocale.getMsg(629,"Autoload last profile")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		cpDataDir.addNext(DataDir,CellConstants.STRETCH, (CellConstants.FILL|CellConstants.LEFT));
+		cpDataDir.addLast(brwBt = new mButton(MyLocale.getMsg(604,"Browse")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.RIGHT));
+		cpDataDir.addNext(chkAutoLoad = new mCheckBox(MyLocale.getMsg(629,"Autoload last profile")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		if (pref.autoReloadLastProfile) chkAutoLoad.setState(true);
-		chkAutoLoad.setTag(INSETS,new Insets(0,0,2,0));
-		frmDataDir.addLast(chkSetCurrentCentreFromGPSPosition = new mCheckBox(MyLocale.getMsg(646,"centre from GPS")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.EAST));
+		cpDataDir.addNext(chkSetCurrentCentreFromGPSPosition = new mCheckBox(MyLocale.getMsg(646,"centre from GPS")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.RIGHT));
 		if (pref.setCurrentCentreFromGPSPosition) chkSetCurrentCentreFromGPSPosition.setState(true);
-		pnlGeneral.addLast(frmDataDir,HSTRETCH,HFILL);
+		pnlGeneral.addLast(separator(cpDataDir),HSTRETCH,HFILL);
 		
-		CellPanel pnlBrowser=new CellPanel();
-		pnlBrowser.setTag(INSETS,new Insets(2,0,0,0));
-		pnlBrowser.addNext(new mLabel("Browser:"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		Browser = new mInput();
-		Browser.setText(pref.browser);
-		pnlBrowser.addLast(Browser,CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
-
-		pnlBrowser.addNext(new mLabel(MyLocale.getMsg(601,"Your Alias:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		Alias = new mInput();
-		Alias.setText(pref.myAlias);
-		pnlBrowser.addNext(Alias,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		pnlBrowser.addNext(new mLabel(MyLocale.getMsg(594,"Pwd")));
-		pnlBrowser.addLast(inpPassword=new mInput(pref.password),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		CellPanel cpBrowser=new CellPanel();
+		cpBrowser.addNext(new mLabel("Browser:"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		cpBrowser.addLast(Browser = new mInput(pref.browser),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.LEFT));
+		cpBrowser.addNext(new mLabel(MyLocale.getMsg(601,"Your Alias:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		
+		cpBrowser.addNext(Alias = new mInput(pref.myAlias),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		cpBrowser.addNext(new mLabel(MyLocale.getMsg(594,"Pwd")));
+		cpBrowser.addLast(inpPassword=new mInput(pref.password),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		cpBrowser.addLast(chkPM=new mCheckBox("PM"));
+		if (pref.isPremium) chkPM.setState(true);
 		inpPassword.setToolTip(MyLocale.getMsg(593,"Password is optional here.\nEnter only if you want to store it in pref.xml"));
 		inpPassword.isPassword=true;
-		pnlGeneral.addLast(pnlBrowser,HSTRETCH,HFILL);
+		pnlGeneral.addLast(separator(cpBrowser),HSTRETCH,HFILL);
 		
-		pnlGeneral.addLast(gpsB = new mButton("GPS: " + 
-			(pref.useGPSD ? "gpsd " + pref.gpsdHost : pref.mySPO.portName+"/"+pref.mySPO.baudRate) ),
-			CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
+		CellPanel cpGPS=new CellPanel();
+		cpGPS.addNext(new mLabel("GPS: "),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		cpGPS.addLast(gpsB = new mButton(MyLocale.getMsg(600,"Preferences")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		// "GPS: " + (pref.useGPSD ? "gpsd " + pref.gpsdHost : pref.mySPO.portName+"/"+pref.mySPO.baudRate) 
+		pnlGeneral.addLast(separator(cpGPS),HSTRETCH,HFILL);
 
 		// Garmin and GPSBabel
-		pnlGeneral.addNext(lblGarmin=new mLabel(MyLocale.getMsg(173,"Garmin:  PC Port:")),DONTSTRETCH,LEFT);
-//		lblGarmin.setTag(INSETS,new Insets(4,0,0,0));
-		pnlGeneral.addNext(chcGarminPort=new mChoice(garminPorts,0),DONTSTRETCH,RIGHT);
-		//chcGarminPort.setTag(INSETS,new Insets(4,0,0,0));
+		CellPanel cpBabel=new CellPanel();
+		cpBabel.addNext(lblGarmin=new mLabel(MyLocale.getMsg(173,"Garmin:  PC Port:")),DONTSTRETCH,LEFT);
+		cpBabel.addNext(chcGarminPort=new mChoice(garminPorts,0),DONTSTRETCH,RIGHT);
 		chcGarminPort.selectItem(pref.garminConn);
-		pnlGeneral.addLast(chkSynthShort=new mCheckBox(MyLocale.getMsg(174,"Short Names")),STRETCH,LEFT);
-		//chkSynthShort.setTag(INSETS,new Insets(4,0,0,0));
+		cpBabel.addLast(chkSynthShort=new mCheckBox(MyLocale.getMsg(174,"Short Names")),STRETCH,LEFT);
 		chkSynthShort.setState(!pref.garminGPSBabelOptions.equals(""));
-		//frmGarmin.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_TOP;
-		//frmGarmin.setTag(INSETS,new Insets(4,0,0,0));
-		//pnlGeneral.addLast(frmGarmin);
-		pnlGeneral.addNext(new mLabel(MyLocale.getMsg(643,"Append cache details to:")),DONTSTRETCH,LEFT);
-		pnlGeneral.addNext(chkAddDetailsToWaypoint=new mCheckBox(MyLocale.getMsg(644,"waypoints")),DONTSTRETCH,RIGHT);
+		cpBabel.addNext(new mLabel(MyLocale.getMsg(643,"Append cache details to:")),DONTSTRETCH,LEFT);
+		cpBabel.addNext(chkAddDetailsToWaypoint=new mCheckBox(MyLocale.getMsg(644,"waypoints")),DONTSTRETCH,RIGHT);
 		chkAddDetailsToWaypoint.setState(pref.addDetailsToWaypoint);
-		pnlGeneral.addLast(chkAddDetailsToName=new mCheckBox(MyLocale.getMsg(645,"names")),STRETCH,LEFT);
+		cpBabel.addLast(chkAddDetailsToName=new mCheckBox(MyLocale.getMsg(645,"names")),STRETCH,LEFT);
 		chkAddDetailsToName.setState(pref.addDetailsToName);
-		//pnlGeneral.addLast(new mLabel(""));
+		pnlGeneral.addLast(cpBabel,HSTRETCH,HFILL);
 		
 		/////////////////////////////////////////////////////////
 		// Second panel - Screen
 		/////////////////////////////////////////////////////////
 		
+		CellPanel pnlScreen=new CellPanel();
 		Frame frmScreen=new Frame();
 		frmScreen.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER;
-		CellPanel pnlScreen=new CellPanel();
 		pnlScreen.addNext(new mLabel(MyLocale.getMsg(625,"Screen (needs restart):")));
-		pnlScreen.addNext(new mLabel("Font"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		pnlScreen.addLast(fontSize = new mInput(),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
+		pnlScreen.addNext(new mLabel("Font"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		pnlScreen.addLast(fontSize = new mInput(),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.LEFT));
 		fontSize.maxLength=2;
 		fontSize.setPreferredSize(40,-1);
 		frmScreen.addLast(pnlScreen,HSTRETCH,HFILL);
 		fontSize.setText(Convert.toString(pref.fontSize));
 		
-		frmScreen.addLast(chkHasCloseButton=new mCheckBox(MyLocale.getMsg(631,"PDA has close Button")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));	
+		frmScreen.addLast(chkHasCloseButton=new mCheckBox(MyLocale.getMsg(631,"PDA has close Button")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));	
     	//lblTitle.setTag(INSETS,new Insets(2,0,0,0));
         chkHasCloseButton.setState(pref.hasCloseButton);
-		frmScreen.addNext(chkMenuAtTop = new mCheckBox(MyLocale.getMsg(626,"Menu top")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		frmScreen.addNext(chkMenuAtTop = new mCheckBox(MyLocale.getMsg(626,"Menu top")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		chkMenuAtTop.setTag(INSETS,new Insets(0,0,2,0));
 		chkMenuAtTop.setState(pref.menuAtTop);
-		frmScreen.addNext(chkTabsAtTop = new mCheckBox(MyLocale.getMsg(627,"Tabs top")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		frmScreen.addNext(chkTabsAtTop = new mCheckBox(MyLocale.getMsg(627,"Tabs top")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		chkTabsAtTop.setState(pref.tabsAtTop);
 		chkTabsAtTop.setTag(INSETS,new Insets(0,0,2,0));
-		frmScreen.addLast(chkShowStatus = new mCheckBox(MyLocale.getMsg(628,"Status")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		frmScreen.addLast(chkShowStatus = new mCheckBox(MyLocale.getMsg(628,"Status")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		chkShowStatus.setState(pref.showStatus);
 		chkShowStatus.setTag(INSETS,new Insets(0,0,2,0));
 		pnlDisplay.addLast(frmScreen,CellConstants.HSTRETCH,CellConstants.FILL);
 		
 		Frame frmImages=new Frame();
 		frmImages.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_TOP|UIConstants.BF_BOTTOM;
-		//frmImages.addNext(new mLabel(MyLocale.getMsg(623,"Images:")),CellConstants.VSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		frmImages.addLast(chkShowDeletedImg = new mCheckBox(MyLocale.getMsg(624,"Show deleted images")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		//frmImages.addNext(new mLabel(MyLocale.getMsg(623,"Images:")),CellConstants.VSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		frmImages.addLast(chkShowDeletedImg = new mCheckBox(MyLocale.getMsg(624,"Show deleted images")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		chkShowDeletedImg.setTag(INSETS,new Insets(2,0,0,0));
 		if (pref.showDeletedImages) chkShowDeletedImg.setState(true);
 		//mLabel dummy;
-		//frmImages.addNext(dummy=new mLabel(""),CellConstants.VSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST|CellConstants.NORTH));
+		//frmImages.addNext(dummy=new mLabel(""),CellConstants.VSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT|CellConstants.NORTH));
 		//dummy.setTag(INSETS,new Insets(0,0,2,0));
-		frmImages.addLast(chkDescShowImg = new mCheckBox(MyLocale.getMsg(638,"Show pictures in description")),CellConstants.VSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST|CellConstants.NORTH));
+		frmImages.addLast(chkDescShowImg = new mCheckBox(MyLocale.getMsg(638,"Show pictures in description")),CellConstants.VSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT|CellConstants.NORTH));
 		chkDescShowImg.setTag(INSETS,new Insets(0,0,2,0));
 		if (pref.descShowImg) chkDescShowImg.setState(true);
 		pnlDisplay.addLast(frmImages,CellConstants.STRETCH,CellConstants.FILL);
@@ -177,37 +168,37 @@
 		Frame frmHintLog=new Frame();
 		//frmHintLog.borderStyle=CellPanel.BDR_RAISEDOUTER|CellPanel.BDR_SUNKENINNER|CellPanel.BF_BOTTOM;
 		frmHintLog.addNext(new mLabel(MyLocale.getMsg(630,"HintLogPanel:  Logs per page ")),CellConstants.DONTSTRETCH,CellConstants.DONTFILL);	
-		frmHintLog.addLast(inpLogsPerPage=new mInput(),CellConstants.DONTSTRETCH,CellConstants.DONTFILL|CellConstants.EAST);
+		frmHintLog.addLast(inpLogsPerPage=new mInput(),CellConstants.DONTSTRETCH,CellConstants.DONTFILL|CellConstants.RIGHT);
 		inpLogsPerPage.setText(Convert.toString(pref.logsPerPage));
 		inpLogsPerPage.setPreferredSize(40,-1);
 		//inpLogsPerPage.setTag(INSETS,new Insets(0,0,2,0));
 		//lblHlP.setTag(INSETS,new Insets(6,0,2,0));
 
 		frmHintLog.addNext(new mLabel(MyLocale.getMsg(633,"Max. logs to spider")),CellConstants.DONTSTRETCH,CellConstants.DONTFILL);	
-		frmHintLog.addLast(inpMaxLogsToSpider=new mInput(),CellConstants.DONTSTRETCH,CellConstants.DONTFILL|CellConstants.EAST);
+		frmHintLog.addLast(inpMaxLogsToSpider=new mInput(),CellConstants.DONTSTRETCH,CellConstants.DONTFILL|CellConstants.RIGHT);
 		inpMaxLogsToSpider.setText(Convert.toString(pref.maxLogsToSpider));
 		inpMaxLogsToSpider.setPreferredSize(40,-1);
 		
 		String [] spiderUpdateOptions = { MyLocale.getMsg(640,"Yes"), MyLocale.getMsg(641,"No"), MyLocale.getMsg(642,"Ask") };
-		frmHintLog.addNext(new mLabel( MyLocale.getMsg(639,"Update caches when spidering?") ),DONTSTRETCH,DONTFILL|WEST);
-		frmHintLog.addLast(inpSpiderUpdates=new mChoice(spiderUpdateOptions, pref.spiderUpdates),DONTSTRETCH,DONTFILL|WEST);
+		frmHintLog.addNext(new mLabel( MyLocale.getMsg(639,"Update caches when spidering?") ),DONTSTRETCH,DONTFILL|LEFT);
+		frmHintLog.addLast(inpSpiderUpdates=new mChoice(spiderUpdateOptions, pref.spiderUpdates),DONTSTRETCH,DONTFILL|LEFT);
 		pnlDisplay.addLast(frmHintLog,CellConstants.STRETCH,CellConstants.FILL);
 
 		/////////////////////////////////////////////////////////
 		// Third panel - More
 		/////////////////////////////////////////////////////////
 		CellPanel pnlProxy=new CellPanel();
-		pnlProxy.addNext(new mLabel("Proxy"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		pnlProxy.addLast(Proxy = new mInput(),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST)).setTag(SPAN,new Dimension(2,1));
+		pnlProxy.addNext(new mLabel("Proxy"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		pnlProxy.addLast(Proxy = new mInput(),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.LEFT)).setTag(SPAN,new Dimension(2,1));
 		Proxy.setText(pref.myproxy);
-		pnlProxy.addNext(new mLabel("Port"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		pnlProxy.addLast(ProxyPort = new mInput(),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		pnlProxy.addNext(new mLabel("Port"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		pnlProxy.addLast(ProxyPort = new mInput(),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		ProxyPort.setText(pref.myproxyport);
 		pnlProxy.addNext(new mLabel(""),HSTRETCH,HFILL);
 		pnlProxy.addLast(chkProxyActive=new mCheckBox(MyLocale.getMsg(634,"use Proxy")));
 		chkProxyActive.setState(pref.proxyActive);
 		pnlMore.addLast(pnlProxy,HSTRETCH,HFILL);
-		pnlMore.addNext(new mLabel(MyLocale.getMsg(592,"Language (needs restart)")),DONTSTRETCH,DONTFILL|WEST);
+		pnlMore.addNext(new mLabel(MyLocale.getMsg(592,"Language (needs restart)")),DONTSTRETCH,DONTFILL|LEFT);
 		String[] tmp = (new FileBugfix(FileBase.getProgramDirectory()+"/languages").list("*.cfg", FileBase.LIST_FILES_ONLY)); //"*.xyz" doesn't work on some systems -> use FileBugFix
 		if (tmp == null) tmp = new String[0];
 		String [] langs = new String[tmp.length +1];
@@ -218,19 +209,19 @@
 			if (langs[i+1].equalsIgnoreCase(MyLocale.language)) curlang = i+1 ;
 		}
 		//ewe.sys.Vm.copyArray(tmp, 0, langs, 1, tmp.length);
-		pnlMore.addLast(inpLanguage=new mChoice(langs, curlang),DONTSTRETCH,DONTFILL|WEST);
+		pnlMore.addLast(inpLanguage=new mChoice(langs, curlang),DONTSTRETCH,DONTFILL|LEFT);
 		//inpLanguage.setPreferredSize(20,-1);
 		inpLanguage.setToolTip(MyLocale.getMsg(591,"Select \"auto\" for system language or select your preferred language, e.g. DE or EN"));
 		String [] metriken = {MyLocale.getMsg(589, "Metric (km)"), 
 				              MyLocale.getMsg(590, "Imperial (mi)")};
-		pnlMore.addNext(new mLabel(MyLocale.getMsg(588, "Length units")),DONTSTRETCH,DONTFILL|WEST);
+		pnlMore.addNext(new mLabel(MyLocale.getMsg(588, "Length units")),DONTSTRETCH,DONTFILL|LEFT);
 		int currMetrik = pref.metricSystem == Metrics.METRIC ? 0 : 1;
-		pnlMore.addLast(inpMetric=new mChoice(metriken, currMetrik),DONTSTRETCH,DONTFILL|WEST);
-		pnlMore.addLast(chkSortingGroupedByCache=new mCheckBox(MyLocale.getMsg(647,"Sorting grouped by Cache")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));	
+		pnlMore.addLast(inpMetric=new mChoice(metriken, currMetrik),DONTSTRETCH,DONTFILL|LEFT);
+		pnlMore.addLast(chkSortingGroupedByCache=new mCheckBox(MyLocale.getMsg(647,"Sorting grouped by Cache")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));	
 		chkSortingGroupedByCache.setState(pref.SortingGroupedByCache);
-		pnlMore.addLast(chkuseOwnSymbols=new mCheckBox(MyLocale.getMsg(649,"use own symbols")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));	
+		pnlMore.addLast(chkuseOwnSymbols=new mCheckBox(MyLocale.getMsg(649,"use own symbols")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));	
 		chkuseOwnSymbols.setState(pref.useOwnSymbols);
-		pnlMore.addLast(chkDebug=new mCheckBox(MyLocale.getMsg(648,"Debug Mode")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));	
+		pnlMore.addLast(chkDebug=new mCheckBox(MyLocale.getMsg(648,"Debug Mode")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));	
 		chkDebug.setState(pref.debug);
 
 		/////////////////////////////////////////////////////////
@@ -280,12 +271,20 @@
 		this.addLast(mTab);
 		cancelB = new mButton(MyLocale.getMsg(614,"Cancel"));
 		cancelB.setHotKey(0, IKeys.ESCAPE);
-		addNext(cancelB,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		addNext(cancelB,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		applyB = new mButton(MyLocale.getMsg(615,"Apply"));
 		applyB.setHotKey(0, IKeys.ACTION);
-		addLast(applyB,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		addLast(applyB,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 	}
 	
+	private CellPanel separator(CellPanel pnl) {
+		CellPanel outerPnl = new CellPanel();
+		pnl.setTag(INSETS,new Insets(0,0,2,0));
+		outerPnl.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_BOTTOM;
+		outerPnl.setTag(INSETS,new Insets(0,0,2,0));
+		outerPnl.addLast(pnl,HSTRETCH,HFILL);
+		return outerPnl;
+	}
 	public void onEvent(Event ev){
 		if (ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED){
 			if (ev.target == cancelB){
@@ -321,6 +320,7 @@
 				HttpConnection.setProxy(pref.myproxy, Common.parseInt(pref.myproxyport), pref.proxyActive); // TODO generate an error message if proxy port is not a number
 				//myPreferences.nLogs = Convert.parseInt(nLogs.getText());
 				pref.autoReloadLastProfile=chkAutoLoad.getState();
+				pref.isPremium=chkPM.getState();
 				pref.setCurrentCentreFromGPSPosition=chkSetCurrentCentreFromGPSPosition.getState();
 				pref.showDeletedImages=chkShowDeletedImg.getState();
 				pref.garminConn=chcGarminPort.getSelectedItem().toString();



From admin at berlios.de  Thu Jun 17 20:14:20 2010
From: admin at berlios.de (admin at berlios.de)
Date: Thu, 17 Jun 2010 20:14:20 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17254] GPS-Port Optionen besser als Button
	erkennbar machen
Message-ID: <201006171814.o5HIEK6f009167@unicorn.berlios.de>

Bug #17254, was updated on 2010-Jun-14 01:08
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Closed
Resolution: Fixed
Bug Group: Bug reproduceable
Priority: 1
Submitted by: pfeffer
Assigned to : araber95
Summary: GPS-Port Optionen besser als Button erkennbar machen

Details: Im Forum haben wir immer wieder Fragen, weil jemand nicht gemerkt hat, dass im Einstellungsdialog der Button klickbar ist, der die aktuellen COM-Port-Einstellungen f?r den GPS-Empf?nger anzeigt.
Das Layout sollte so ge?ndert werden, dass das klarer wird.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17254&group_id=2211


From admin at berlios.de  Thu Jun 17 20:23:31 2010
From: admin at berlios.de (admin at berlios.de)
Date: Thu, 17 Jun 2010 20:23:31 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #15475] exportierte GPX Dateien in MapSource
	nicht lesbar
Message-ID: <201006171823.o5HINVhg022362@unicorn.berlios.de>

Bug #15475, was updated on 2009-Apr-02 20:08
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Closed
Resolution: None
Bug Group: Fixed, ready to test
Priority: 5
Submitted by: tester1111
Assigned to : none
Summary: exportierte GPX Dateien in MapSource nicht lesbar

Details: Hallo Entwickler von Cachewolf,

ich habe einige Caches als test.gpx Datei exportiert.
Wenn ich diese test.gpx Datei in MapSource ?ffnen m?chte kommt der Fehler: "test.gpx ist keine zul?ssige MapSourceDatei und konnte nicht ge?ffnet werden."

Ich habe so lange Caches aus der Datei entfernt bis MapSource die Datei wieder akzeptiert hat. Dabei ist mir aufgefallen, das in einem Cache ein ung?ltiges Zeichen (EOT / 04hex) drin stand.

Daraufhin habe ich mir die Seite auf Geocaching.com angesehen und entdeckt, dass in der Cachebeschreibung seltsame Zeichen benutzt wurden.

Der Cache, bei dem dies aufgetreten ist hei?t "New Year's Cache 2008" (GC188DE).

Vielleicht kann man solche Zeichen (wie z.B. EOT) beim Export entfernen.


Gru? Franz

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15475&group_id=2211


From admin at berlios.de  Thu Jun 17 20:24:10 2010
From: admin at berlios.de (admin at berlios.de)
Date: Thu, 17 Jun 2010 20:24:10 +0200 (CEST)
Subject: [Bug #15299] GPX Exporter erzeugt ungltige Dateien
Message-ID: <201006171824.o5HIOAoj023281@unicorn.berlios.de>

Bug #15299, was updated on 2009-Feb-21 10:35
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Closed
Resolution: Fixed
Bug Group: Fixed, ready to test
Priority: 5
Submitted by: greiol
Assigned to : none
Summary: GPX Exporter erzeugt ung?ltige Dateien

Details: Details und Patch siehe http://www.geoclub.de/viewtopic.php?f=40&t=31562

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15299&group_id=2211


From admin at berlios.de  Thu Jun 17 20:25:27 2010
From: admin at berlios.de (admin at berlios.de)
Date: Thu, 17 Jun 2010 20:25:27 +0200 (CEST)
Subject: [Bug #15262] getres.sh "lrmt"
Message-ID: <201006171825.o5HIPRnL025003@unicorn.berlios.de>

Bug #15262, was updated on 2009-Feb-13 20:21
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Closed
Resolution: None
Bug Group: Fixed, ready to test
Priority: 5
Submitted by: greiol
Assigned to : none
Summary: getres.sh "l?rmt"

Details: getres.sh nutzt einige kommandos so, dass unn?tige fehlermeldungen entstehen (haupts?chlich fehlen ein paar -f optionen)

ein patch liegt unter http://cbr2008nrw.ohost.de/getresh.sh.patch.zip



Follow-Ups:

Date: 2009-Feb-13 22:58
By: pfeffer

Comment:
danke

1. ich kann den patch leider nicht anwenden. Bei mir ist das R in getres.sh kleingeschrieben und liegt unter programs.

2. l?sst sich Dein ge?ndertes skript auch mit sh statt mit bash ausf?hren?

da es bei mir nicht klappt, wendet den patch jemand anders an?

Gru?,
   Pfeffer.
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15262&group_id=2211


From admin at berlios.de  Thu Jun 17 20:26:00 2010
From: admin at berlios.de (admin at berlios.de)
Date: Thu, 17 Jun 2010 20:26:00 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #15224] "update selected" makes OC to save the
	index for each cache
Message-ID: <201006171826.o5HIQ0hq025788@unicorn.berlios.de>

Bug #15224, was updated on 2009-Feb-08 22:19
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Closed
Resolution: None
Bug Group: Fixed, ready to test
Priority: 5
Submitted by: pfeffer
Assigned to : none
Summary: "update selected" makes OC to save the index for each cache

Details: "update selected" makes opencaching download to save the index for each cache, which makes it nearly unusable slow.

See: http://www.geoclub.de/viewtopic.php?f=40&t=27764&p=486856#p486856

Follow-Ups:

Date: 2009-Feb-14 11:47
By: pfeffer

Comment:
it's working now - but I didn't understand why the fix works, so i am afraid that there are side effects (e.g. not saving in same cases)
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15224&group_id=2211


From admin at berlios.de  Thu Jun 17 20:27:11 2010
From: admin at berlios.de (admin at berlios.de)
Date: Thu, 17 Jun 2010 20:27:11 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #15148] Memory Leak in der Java Version beim
	Spidern/Aktualisieren
Message-ID: <201006171827.o5HIRBiG027481@unicorn.berlios.de>

Bug #15148, was updated on 2009-Jan-28 20:41
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Closed
Resolution: Duplicate
Bug Group: Bug confirmed
Priority: 5
Submitted by: greiol
Assigned to : none
Summary: Memory Leak in der Java Version beim Spidern/Aktualisieren

Details: Die Javaversion verliert bei Spidern / Aktualisieren immer mehr Old-Generation Heap der auch nach dem Ende des Speicherns mit einer erzwungenen GC nicht freigegebn wird. Dazu kommt es immer wieder zu Out of Memory Exceptions (siehe diverse Freds im Forum).

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15148&group_id=2211


From admin at berlios.de  Thu Jun 17 20:27:58 2010
From: admin at berlios.de (admin at berlios.de)
Date: Thu, 17 Jun 2010 20:27:58 +0200 (CEST)
Subject: [Bug #15146] GPX Importer erkennt Funddatum nicht fr Events und Webcams
Message-ID: <201006171827.o5HIRwmL028583@unicorn.berlios.de>

Bug #15146, was updated on 2009-Jan-28 20:34
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Closed
Resolution: Fixed
Bug Group: Fixed, ready to test
Priority: 5
Submitted by: greiol
Assigned to : none
Summary: GPX Importer erkennt Funddatum nicht f?r Events und Webcams

Details: Der GPX Importer erkennt das Funddatum bei Webcams und Events nicht, da nur auf icon_smile, nicht aber auf 11.png und icon_attended gepr?ft wird.

fix:
in GPXImporter.java die zeile
if(logIcon.equals("icon_smile.gif") &&
durch die zeile
if((logIcon.equals("icon_smile.gif") || logIcon.equals("11.png") || logIcon.equals("icon_attended.gif")) &&
ersetzen. 

leider kann ich kein patchfile anh?ngen

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15146&group_id=2211


From admin at berlios.de  Thu Jun 17 20:29:11 2010
From: admin at berlios.de (admin at berlios.de)
Date: Thu, 17 Jun 2010 20:29:11 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17259] "Liste sortiert halten" funktioniert
	nur in bestimmten Situa
Message-ID: <201006171829.o5HITBr1000157@unicorn.berlios.de>

Bug #17259, was updated on 2010-Jun-14 10:46
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Closed
Resolution: Wont Fix
Bug Group: Bug confirmed
Priority: 2
Submitted by: mik77
Assigned to : mik77
Summary: "Liste sortiert halten" funktioniert nur in bestimmten Situa

Details: Die Funktion die Liste sortiert zu halten, funktioniert nur nach bestimmten Aktionen, wie der ?nderung des Zentrums.

Nach Aktionen wie "Filter aufheben" oder einem Import ist die Liste, obwohl diese Funktion aktiv ist, nicht sortiert.

Dies hat bei bestimmten Arbeitsweisen auch Vorteile. Deswegen die Frage: Bug oder Feature?

Follow-Ups:

Date: 2010-Jun-14 12:08
By: araber95

Comment:
Ist nat?rlich ein gew?nschtes Feature.
Ist auch konform zu anderen Programmen, z.B. Windows Explorer : neue Dateien werden erst mal unten angeh?ngt. Erst bei erneutem Klick auf die ?berschrift wird einsortiert.
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17259&group_id=2211


From araber95 at mail.berlios.de  Thu Jun 17 20:54:44 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 17 Jun 2010 20:54:44 +0200
Subject: [Cachewolf-svn] r2627 - in trunk: . src/CacheWolf
Message-ID: <201006171854.o5HIsiaA001074@sheep.berlios.de>

Author: araber95
Date: 2010-06-17 20:54:42 +0200 (Thu, 17 Jun 2010)
New Revision: 2627

Modified:
   trunk/build.xml
   trunk/src/CacheWolf/myTableModel.java
Log:
only DNF with color (http://www.geoclub.de/viewtopic.php?f=40&t=45826&start=10) thx to Engywuck for his hint

Modified: trunk/build.xml
===================================================================
--- trunk/build.xml	2010-06-17 18:02:50 UTC (rev 2626)
+++ trunk/build.xml	2010-06-17 18:54:42 UTC (rev 2627)
@@ -383,25 +383,10 @@
 			<fileset dir="res_noewe/languages" />
 		</copy>
 		<!-- copy moving map icons  -->
-		<copy todir="${assemble.dir}/mmc240x320" failonerror="true"
+		<copy todir="${assemble.dir}/mmc" failonerror="true"
 			verbose="true">
-			<fileset dir="res_noewe/mmc240x320" />
+			<fileset dir="res_noewe/mmc" />
 		</copy>
-		<!-- copy moving map icons for devices with high ppi -->
-		<copy todir="${assemble.dir}/mmc480x640" failonerror="true"
-			verbose="true">
-			<fileset dir="res_noewe/mmc480x640" />
-		</copy>
-		<!-- copy moving map default icons -->
-		<copy todir="${assemble.dir}/mmcDefault" failonerror="true"
-			verbose="true">
-			<fileset dir="res_noewe/mmcDefault" />
-		</copy>
-		<!-- copy moving map old icons -->
-		<copy todir="${assemble.dir}/mmcOldStyle" failonerror="true"
-			verbose="true">
-			<fileset dir="res_noewe/mmcOldStyle" />
-		</copy>
 		<!-- copy alternative symbol sets -->
 		<copy todir="${assemble.dir}/symbols" failonerror="true" verbose="true">
 			<fileset dir="res_noewe/symbols/*">

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2010-06-17 18:02:50 UTC (rev 2626)
+++ trunk/src/CacheWolf/myTableModel.java	2010-06-17 18:54:42 UTC (rev 2627)
@@ -268,7 +268,7 @@
 						lineColorBG.set(COLOR_FOUND);
 					else if (ch.is_flaged)
 						lineColorBG.set(COLOR_FLAGED);
-					else if (!ch.getCacheStatus().equals(""))
+					else if (ch.getCacheStatus().indexOf(MyLocale.getMsg(319, "not found")) > -1)
 						lineColorBG.set(COLOR_STATUS);
 					else if (Global.getPref().debug && ch.detailsLoaded())
 						lineColorBG.set(COLOR_DETAILS_LOADED);



From maierkurt at mail.berlios.de  Thu Jun 17 21:00:05 2010
From: maierkurt at mail.berlios.de (maierkurt at mail.berlios.de)
Date: Thu, 17 Jun 2010 21:00:05 +0200
Subject: [Cachewolf-svn] r2628 - trunk/src/CacheWolf/navi/touchControls
Message-ID: <201006171900.o5HJ05v5001479@sheep.berlios.de>

Author: maierkurt
Date: 2010-06-17 20:59:52 +0200 (Thu, 17 Jun 2010)
New Revision: 2628

Modified:
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
Log:
Fileextension ".xml" missing

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-06-17 18:54:42 UTC (rev 2627)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-06-17 18:59:52 UTC (rev 2628)
@@ -308,7 +308,7 @@
 		String path = FileBase.makePath(FileBase.getProgramDirectory(),CONFIG_RELATIVE_PATH);
 		path = path.replace('\\', '/');
 		File file = new File(path, CONFIG_FILE_NAME_OVERWRITE);
-		if (!file.exists()) {file = new File(path, ""+MyLocale.getScreenWidth()+"x"+MyLocale.getScreenHeight());}
+		if (!file.exists()) {file = new File(path, ""+MyLocale.getScreenWidth()+"x"+MyLocale.getScreenHeight()+".xml");}
 		if (!file.exists()) {file = new File(path, CONFIG_FILE_NAME);}
 		
 		



From maierkurt at mail.berlios.de  Thu Jun 17 22:27:39 2010
From: maierkurt at mail.berlios.de (maierkurt at mail.berlios.de)
Date: Thu, 17 Jun 2010 22:27:39 +0200
Subject: [Cachewolf-svn] r2629 - in trunk: . res_noewe/mmc/pda
	res_noewe/mmc/pda_vga
Message-ID: <201006172027.o5HKRd3W006161@sheep.berlios.de>

Author: maierkurt
Date: 2010-06-17 22:27:26 +0200 (Thu, 17 Jun 2010)
New Revision: 2629

Added:
   trunk/res_noewe/mmc/pda_vga/480x800.xml
Modified:
   trunk/buildexe.bat
   trunk/cw-ppc2003.jnf
   trunk/res_noewe/mmc/pda/240x320.xml
   trunk/res_noewe/mmc/pda/movingMapControls.xml
   trunk/res_noewe/mmc/pda_vga/480x640.xml
   trunk/runjewel.bat
Log:
Small bugfix in xml-file.
Removed location path from xml file: http://www.geoclub.de/viewtopic.php?f=40&t=35941&start=180
Added 480x800 config file.

Modified: trunk/buildexe.bat
===================================================================
--- trunk/buildexe.bat	2010-06-17 18:59:52 UTC (rev 2628)
+++ trunk/buildexe.bat	2010-06-17 20:27:26 UTC (rev 2629)
@@ -1,8 +1,8 @@
 cd %~d0%~p0
 call getres.bat
-java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
+REM java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-ppc2003.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-jar.jnf
 REM Dont change the order above because the PC version has to overwrite the PDA version of the EWE-file
-rem pause
+pause

Modified: trunk/cw-ppc2003.jnf
===================================================================
--- trunk/cw-ppc2003.jnf	2010-06-17 18:59:52 UTC (rev 2628)
+++ trunk/cw-ppc2003.jnf	2010-06-17 20:27:26 UTC (rev 2629)
@@ -1 +1 @@
-command=programName%3DCacheWolf%26width%3D0%26height%3D0%26startingClass%3DCacheWolf.CacheWolf%26windowTitle%3DWindow%2BTitle%26ewes%3D%26extra%3D%26pathToEwe%3D%26nativeStack%3D0%26vmStack%3D0%26appletWidth%3D0%26appletHeight%3D0%26appletInFrame%3Dfalse%26locale%3D%26useResources%3Dtrue%26noPopupWindows%3Dfalse%26vmOptions%3D/Xmx%2B6M&eweFiles=&targets=%253DTarget%3Dewe/data/MultiListSelect$SelectedItems%253D%25253DPocketPC%25252B2003&createWithPnf=true&eweInfo=outputFile%3Dwork/CacheWolf.ewe%26entries%3Dewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dbin/CacheWolf/%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253DCacheWolf/%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dresources%252526mask%25253D*.gif;*.png;*.ico%252526includeSubdirectories%25253Dfalse%252526pathInEwe%25253D%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dlib%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253D%26addCommandLine%3Dt!
 rue%26commandLine%3DprogramName%253DCacheWolf%2526width%253D0%2526height%253D0%2526startingClass%253DCacheWolf.CacheWolf%2526windowTitle%253DWindow%252BTitle%2526ewes%253D%2526extra%253D%2526pathToEwe%253D%2526nativeStack%253D0%2526vmStack%253D0%2526appletWidth%253D0%2526appletHeight%253D0%2526appletInFrame%253Dfalse%2526locale%253D%2526useResources%253Dtrue%2526noPopupWindows%253Dfalse%2526vmOptions%253D/Xmx%252B6M%26install%3Dtitle%253D%2526category%253DApplications%2526location%253D%2526icon%253D%2526args%253D%2526vmArgs%253D%26addInstallFile%3Dfalse%26usePool%3Dfalse%26useClassPool%3Dfalse&icon=resources/CacheWolf.ico
+command=programName%3DCacheWolf%26width%3D0%26height%3D0%26startingClass%3DCacheWolf.CacheWolf%26windowTitle%3DWindow%2BTitle%26ewes%3D%26extra%3D%26pathToEwe%3D%26nativeStack%3D0%26vmStack%3D0%26appletWidth%3D0%26appletHeight%3D0%26appletInFrame%3Dfalse%26locale%3D%26useResources%3Dtrue%26noPopupWindows%3Dfalse%26vmOptions%3D/Xmx%2B10M&eweFiles=&targets=%253DTarget%3Dewe/data/MultiListSelect$SelectedItems%253D%25253DPocketPC%25252B2003&createWithPnf=true&eweInfo=outputFile%3Dwork/CacheWolf.ewe%26entries%3Dewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dbin/CacheWolf/%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253DCacheWolf/%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dresources%252526mask%25253D*.gif;*.png;*.ico%252526includeSubdirectories%25253Dfalse%252526pathInEwe%25253D%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dlib%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253D%26addCommandLine%3D!
 true%26commandLine%3DprogramName%253DCacheWolf%2526width%253D0%2526height%253D0%2526startingClass%253DCacheWolf.CacheWolf%2526windowTitle%253DWindow%252BTitle%2526ewes%253D%2526extra%253D%2526pathToEwe%253D%2526nativeStack%253D0%2526vmStack%253D0%2526appletWidth%253D0%2526appletHeight%253D0%2526appletInFrame%253Dfalse%2526locale%253D%2526useResources%253Dtrue%2526noPopupWindows%253Dfalse%2526vmOptions%253D/Xmx%252B10M%26install%3Dtitle%253D%2526category%253DApplications%2526location%253D%2526icon%253D%2526args%253D%2526vmArgs%253D%26addInstallFile%3Dfalse%26usePool%3Dfalse%26useClassPool%3Dfalse&icon=resources/CacheWolf.ico

Modified: trunk/res_noewe/mmc/pda/240x320.xml
===================================================================
--- trunk/res_noewe/mmc/pda/240x320.xml	2010-06-17 18:59:52 UTC (rev 2628)
+++ trunk/res_noewe/mmc/pda/240x320.xml	2010-06-17 20:27:26 UTC (rev 2629)
@@ -13,58 +13,58 @@
 	<role name="zoom_manually"/><!-- this name of role is fix in code! -->
 
 	<!-- Buttons right side -->
-	<button action="close" fromRight="49" fromTop="1" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_close.png"  alpha="80" visibleIf="!menu" />
-	<button action="moveToGps" fromRight="49" fromTop="50" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_gps.png"  alpha="80" visibleIf="!menu" />
+	<button action="close" fromRight="49" fromTop="1" location="bg_q.png"  icon="icon_close.png"  alpha="80" visibleIf="!menu" />
+	<button action="moveToGps" fromRight="49" fromTop="50" location="bg_q.png"  icon="icon_gps.png"  alpha="80" visibleIf="!menu" />
 
 	<!-- buttom text icons -->
-	<button action="changeStateOfRole" fromLeft="0" fromBottom="33" changeStateof="menu" location="mmc240x320/text_left_110x33.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
+	<button action="changeStateOfRole" fromLeft="0" fromBottom="33" changeStateof="menu" location="text_left_110x33.png" icon="text_left_110x33.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
 
-	<button action="changeStateOfRole" fromRight="110" fromBottom="33" changeStateof="menu" location="mmc240x320/text_right_110x33.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
+	<button action="changeStateOfRole" fromRight="110" fromBottom="33" changeStateof="menu" location="text_right_110x33.png" icon="text_right_110x33.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
 
 	<!-- menu items -->
-	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_map.png"  visibleIf="menu+!map" />
-	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_map.png" visibleIf="menu+map" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="bg_q.png"  icon="icon_map.png"  visibleIf="menu+!map" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="bg_q_active.png"  icon="icon_map.png" visibleIf="menu+map" />
 
-	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_zoom.png" visibleIf="menu+!zoom" />
-	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_zoom.png" visibleIf="menu+zoom" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="bg_q.png"  icon="icon_zoom.png" visibleIf="menu+!zoom" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="bg_q_active.png"  icon="icon_zoom.png" visibleIf="menu+zoom" />
 
-	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="mmc240x320/bg_q.png" icon="mmc240x320/icon_map_pos_dest.png" visibleIf="menu+!detail" />
-	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_map_pos_dest.png" visibleIf="menu+detail" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="bg_q.png" icon="icon_map_pos_dest.png" visibleIf="menu+!detail" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="bg_q_active.png"  icon="icon_map_pos_dest.png" visibleIf="menu+detail" />
 
 
-	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="mmc240x320/bg_q.png" icon="mmc240x320/icon_to_centre.png" visibleIf="menu+!centermap" />
-	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_to_centre.png" visibleIf="menu+centermap" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="bg_q.png" icon="icon_to_centre.png" visibleIf="menu+!centermap" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="bg_q_active.png"  icon="icon_to_centre.png" visibleIf="menu+centermap" />
 
 
 	<!-- sub menu: map -->
-	<button action="selectMap" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="50"/>
-	<button action="changeMapDir" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="50"/>
+	<button action="selectMap" fromLeft="5" fromTop="0"  location="bg_w.png"  icon="icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="50"/>
+	<button action="changeMapDir" fromLeft="5" fromTop="50"  location="bg_w.png"  icon="icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="bg_w.png"  icon="icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="bg_w.png"  icon="icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="bg_w.png"  icon="icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="bg_w.png"  icon="icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="bg_w.png"  icon="icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="bg_w.png"  icon="icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="50"/>
 
 	<!-- sub menu: zoom -->
-	<button action="changeStateOfRole" fromLeft="5" fromTop="0" changeStateof="zoom_manually" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom.png"  visibleIf="menu+zoom" localeDefault="Activate manually zoom" localeID="4292" alignText="C" textOffsetLeft="50"/>
-	<button action="zoomin" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="50"/>
-	<button action="zoomout" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="50"/>
-	<button action="1to1" fromLeft="5" fromTop="150"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="0" changeStateof="zoom_manually" location="bg_w.png"  icon="icon_zoom.png"  visibleIf="menu+zoom" localeDefault="Activate manually zoom" localeID="4292" alignText="C" textOffsetLeft="50"/>
+	<button action="zoomin" fromLeft="5" fromTop="50"  location="bg_w.png"  icon="icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="50"/>
+	<button action="zoomout" fromLeft="5" fromTop="100"  location="bg_w.png"  icon="icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="50"/>
+	<button action="1to1" fromLeft="5" fromTop="150"  location="bg_w.png"  icon="icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="50"/>
 
 
 	<!-- sub menu: center map -->
-	<button action="moveToDest" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="50"/>
-	<button action="moveToGps" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="50"/>
-	<button action="moveToCenter" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="50"/>
+	<button action="moveToDest" fromLeft="5" fromTop="0"  location="bg_w.png"  icon="icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="50"/>
+	<button action="moveToGps" fromLeft="5" fromTop="50"  location="bg_w.png"  icon="icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="50"/>
+	<button action="moveToCenter" fromLeft="5" fromTop="100"  location="bg_w.png"  icon="icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="50"/>
 
 	<!-- sub menu: detail -->
-	<button action="highestResGpsDest" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="50"/>
-	<button action="highestResolution" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="50"/>
-	<button action="keepManResolution" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="50"/>
-	<button action="allCachesRes" fromLeft="5" fromTop="150"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="50"/>
-	<button action="moreDetails" fromLeft="5" fromTop="200"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="50"/>
-	<button action="moreOverview" fromLeft="5" fromTop="250"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="50"/>
+	<button action="highestResGpsDest" fromLeft="5" fromTop="0"  location="bg_w.png"  icon="icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="50"/>
+	<button action="highestResolution" fromLeft="5" fromTop="50"  location="bg_w.png"  icon="icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="50"/>
+	<button action="keepManResolution" fromLeft="5" fromTop="100"  location="bg_w.png"  icon="icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="50"/>
+	<button action="allCachesRes" fromLeft="5" fromTop="150"  location="bg_w.png"  icon="icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="50"/>
+	<button action="moreDetails" fromLeft="5" fromTop="200"  location="bg_w.png"  icon="icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="50"/>
+	<button action="moreOverview" fromLeft="5" fromTop="250"  location="bg_w.png"  icon="icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="50"/>
 
-	<button action="changeStateOfRole" fromRight="45" fromTop="100" changeStateof="zoom_manually" location="mmc240x320/icon_zoom.png"  icon="mmc240x320/icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
+	<button action="changeStateOfRole" fromRight="45" fromTop="100" changeStateof="zoom_manually" location="icon_zoom.png"  icon="icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
 </mmc>

Modified: trunk/res_noewe/mmc/pda/movingMapControls.xml
===================================================================
--- trunk/res_noewe/mmc/pda/movingMapControls.xml	2010-06-17 18:59:52 UTC (rev 2628)
+++ trunk/res_noewe/mmc/pda/movingMapControls.xml	2010-06-17 20:27:26 UTC (rev 2629)
@@ -13,58 +13,58 @@
 	<role name="zoom_manually"/><!-- this name of role is fix in code! -->
 
 	<!-- Buttons right side -->
-	<button action="close" fromRight="49" fromTop="1" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_close.png"  alpha="80" visibleIf="!menu" />
-	<button action="moveToGps" fromRight="49" fromTop="50" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_gps.png"  alpha="80" visibleIf="!menu" />
+	<button action="close" fromRight="49" fromTop="1" location="bg_q.png"  icon="icon_close.png"  alpha="80" visibleIf="!menu" />
+	<button action="moveToGps" fromRight="49" fromTop="50" location="bg_q.png"  icon="icon_gps.png"  alpha="80" visibleIf="!menu" />
 
 	<!-- buttom text icons -->
-	<button action="changeStateOfRole" fromLeft="0" fromBottom="33" changeStateof="menu" location="mmc240x320/text_left_110x33.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
+	<button action="changeStateOfRole" fromLeft="0" fromBottom="33" changeStateof="menu" location="text_left_110x33.png" icon="text_left_110x33.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
 
-	<button action="changeStateOfRole" fromRight="110" fromBottom="33" changeStateof="menu" location="mmc240x320/text_right_110x33.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
+	<button action="changeStateOfRole" fromRight="110" fromBottom="33" changeStateof="menu" location="text_right_110x33.png" icon="text_right_110x33.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
 
 	<!-- menu items -->
-	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_map.png"  visibleIf="menu+!map" />
-	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_map.png" visibleIf="menu+map" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="bg_q.png"  icon="icon_map.png"  visibleIf="menu+!map" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="1" changeStateof="map" location="bg_q_active.png"  icon="icon_map.png" visibleIf="menu+map" />
 
-	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="mmc240x320/bg_q.png"  icon="mmc240x320/icon_zoom.png" visibleIf="menu+!zoom" />
-	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_zoom.png" visibleIf="menu+zoom" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="bg_q.png"  icon="icon_zoom.png" visibleIf="menu+!zoom" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="50" changeStateof="zoom" location="bg_q_active.png"  icon="icon_zoom.png" visibleIf="menu+zoom" />
 
-	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="mmc240x320/bg_q.png" icon="mmc240x320/icon_map_pos_dest.png" visibleIf="menu+!detail" />
-	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_map_pos_dest.png" visibleIf="menu+detail" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="bg_q.png" icon="icon_map_pos_dest.png" visibleIf="menu+!detail" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="100" changeStateof="detail" location="bg_q_active.png"  icon="icon_map_pos_dest.png" visibleIf="menu+detail" />
 
 
-	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="mmc240x320/bg_q.png" icon="mmc240x320/icon_to_centre.png" visibleIf="menu+!centermap" />
-	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="mmc240x320/bg_q_active.png"  icon="mmc240x320/icon_to_centre.png" visibleIf="menu+centermap" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="bg_q.png" icon="icon_to_centre.png" visibleIf="menu+!centermap" />
+	<button action="changeStateOfRole" fromRight="49" fromTop="150" changeStateof="centermap" location="bg_q_active.png"  icon="icon_to_centre.png" visibleIf="menu+centermap" />
 
 
 	<!-- sub menu: map -->
-	<button action="selectMap" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="50"/>
-	<button action="changeMapDir" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="50"/>
-	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="50"/>
+	<button action="selectMap" fromLeft="5" fromTop="0"  location="bg_w.png"  icon="icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="50"/>
+	<button action="changeMapDir" fromLeft="5" fromTop="50"  location="bg_w.png"  icon="icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="bg_w.png"  icon="icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="100" changeStateof="show_map" location="bg_w.png"  icon="icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="bg_w.png"  icon="icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="150" changeStateof="fill_white" location="bg_w.png"  icon="icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="bg_w.png"  icon="icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="200" changeStateof="show_caches" location="bg_w.png"  icon="icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="50"/>
 
 	<!-- sub menu: zoom -->
-	<button action="changeStateOfRole" fromLeft="5" fromTop="0" changeStateof="zoom_manually" location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom.png"  visibleIf="menu+zoom" localeDefault="Activate manually zoom" localeID="4292" alignText="C" textOffsetLeft="50"/>
-	<button action="zoomin" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="50"/>
-	<button action="zoomout" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="50"/>
-	<button action="1to1" fromLeft="5" fromTop="150"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="50"/>
+	<button action="changeStateOfRole" fromLeft="5" fromTop="0" changeStateof="zoom_manually" location="bg_w.png"  icon="icon_zoom.png"  visibleIf="menu+zoom" localeDefault="Activate manually zoom" localeID="4292" alignText="C" textOffsetLeft="50"/>
+	<button action="zoomin" fromLeft="5" fromTop="50"  location="bg_w.png"  icon="icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="50"/>
+	<button action="zoomout" fromLeft="5" fromTop="100"  location="bg_w.png"  icon="icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="50"/>
+	<button action="1to1" fromLeft="5" fromTop="150"  location="bg_w.png"  icon="icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="50"/>
 
 
 	<!-- sub menu: center map -->
-	<button action="moveToDest" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="50"/>
-	<button action="moveToGps" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="50"/>
-	<button action="moveToCenter" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="50"/>
+	<button action="moveToDest" fromLeft="5" fromTop="0"  location="bg_w.png"  icon="icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="50"/>
+	<button action="moveToGps" fromLeft="5" fromTop="50"  location="bg_w.png"  icon="icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="50"/>
+	<button action="moveToCenter" fromLeft="5" fromTop="100"  location="bg_w.png"  icon="icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="50"/>
 
 	<!-- sub menu: detail -->
-	<button action="highestResGpsDest" fromLeft="5" fromTop="0"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="50"/>
-	<button action="highestResolution" fromLeft="5" fromTop="50"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="50"/>
-	<button action="keepManResolution" fromLeft="5" fromTop="100"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="50"/>
-	<button action="allCachesRes" fromLeft="5" fromTop="150"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="50"/>
-	<button action="moreDetails" fromLeft="5" fromTop="200"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="50"/>
-	<button action="moreOverview" fromLeft="5" fromTop="250"  location="mmc240x320/bg_w.png"  icon="mmc240x320/icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="50"/>
+	<button action="highestResGpsDest" fromLeft="5" fromTop="0"  location="bg_w.png"  icon="icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="50"/>
+	<button action="highestResolution" fromLeft="5" fromTop="50"  location="bg_w.png"  icon="icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="50"/>
+	<button action="keepManResolution" fromLeft="5" fromTop="100"  location="bg_w.png"  icon="icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="50"/>
+	<button action="allCachesRes" fromLeft="5" fromTop="150"  location="bg_w.png"  icon="icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="50"/>
+	<button action="moreDetails" fromLeft="5" fromTop="200"  location="bg_w.png"  icon="icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="50"/>
+	<button action="moreOverview" fromLeft="5" fromTop="250"  location="bg_w.png"  icon="icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="50"/>
 
-	<button action="changeStateOfRole" fromRight="45" fromTop="100" changeStateof="zoom_manually" location="mmc240x320/icon_zoom.png"  icon="mmc240x320/icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
+	<button action="changeStateOfRole" fromRight="45" fromTop="100" changeStateof="zoom_manually" location="icon_zoom.png"  icon="icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
 </mmc>

Modified: trunk/res_noewe/mmc/pda_vga/480x640.xml
===================================================================
--- trunk/res_noewe/mmc/pda_vga/480x640.xml	2010-06-17 18:59:52 UTC (rev 2628)
+++ trunk/res_noewe/mmc/pda_vga/480x640.xml	2010-06-17 20:27:26 UTC (rev 2629)
@@ -13,59 +13,59 @@
 	<role name="zoom_manually"/><!-- this name of role is fix in code! -->
 
 	<!-- Buttons right side -->
-	<button action="close" fromRight="91" fromTop="1" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_close.png"  alpha="80" visibleIf="!menu" />
-	<button action="moveToGps" fromRight="91" fromTop="96" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_gps.png"  alpha="80" visibleIf="!menu" />
+	<button action="close" fromRight="91" fromTop="1" location="90x90.png"  icon="icon_close.png"  alpha="80" visibleIf="!menu" />
+	<button action="moveToGps" fromRight="91" fromTop="96" location="90x90.png"  icon="icon_gps.png"  alpha="80" visibleIf="!menu" />
 
 	<!-- buttom text icons -->
-	<button action="changeStateOfRole" fromLeft="0" fromBottom="80" changeStateof="menu" location="mmc480x640/text_left_110x80.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
+	<button action="changeStateOfRole" fromLeft="0" fromBottom="80" changeStateof="menu" location="text_left_110x80.png" icon="text_left_110x80.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
 
-	<button action="changeStateOfRole" fromRight="110" fromBottom="80" changeStateof="menu" location="mmc480x640/text_right_110x80.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
+	<button action="changeStateOfRole" fromRight="110" fromBottom="80" changeStateof="menu" location="text_right_110x80.png" icon="text_right_110x80.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
 
 	<!-- menu items -->
-	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+!map" />
-	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map.png" visibleIf="menu+map" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="90x90.png"  icon="icon_map.png"  visibleIf="menu+!map" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="90x90_active.png"  icon="icon_map.png" visibleIf="menu+map" />
 
-	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+!zoom" />
-	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+zoom" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="90x90.png"  icon="icon_zoom.png" visibleIf="menu+!zoom" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="90x90_active.png"  icon="icon_zoom.png" visibleIf="menu+zoom" />
 
-	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90.png" icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+!detail" />
-	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+detail" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="90x90.png" icon="icon_map_pos_dest.png" visibleIf="menu+!detail" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="90x90_active.png"  icon="icon_map_pos_dest.png" visibleIf="menu+detail" />
 
 
-	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90.png" icon="mmc480x640/icon_to_centre.png" visibleIf="menu+!centermap" />
-	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_to_centre.png" visibleIf="menu+centermap" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="90x90.png" icon="icon_to_centre.png" visibleIf="menu+!centermap" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="90x90_active.png"  icon="icon_to_centre.png" visibleIf="menu+centermap" />
 
 
 	<!-- sub menu: map -->
-	<button action="selectMap" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="75"/>
-	<button action="changeMapDir" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="75"/>
+	<button action="selectMap" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="75"/>
+	<button action="changeMapDir" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="360x90.png"  icon="icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="360x90.png"  icon="icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="360x90.png"  icon="icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="360x90.png"  icon="icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="360x90.png"  icon="icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="360x90.png"  icon="icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="75"/>
 
 	<!-- sub menu: zoom -->
-	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="menu+zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmc480x640/360x90_active.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="menu+zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
-	<button action="zoomin" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="75"/>
-	<button action="zoomout" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="75"/>
-	<button action="1to1" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="360x90.png"  icon="icon_zoom.png"  visibleIf="menu+zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="360x90_active.png"  icon="icon_zoom.png"  visibleIf="menu+zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomin" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomout" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="75"/>
+	<button action="1to1" fromLeft="3" fromTop="285"  location="360x90.png"  icon="icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="75"/>
 
 
 	<!-- sub menu: center map -->
-	<button action="moveToDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="75"/>
-	<button action="moveToGps" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="75"/>
-	<button action="moveToCenter" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToDest" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToGps" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToCenter" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="75"/>
 
 	<!-- sub menu: detail -->
-	<button action="highestResGpsDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="75"/>
-	<button action="highestResolution" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="75"/>
-	<button action="keepManResolution" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="75"/>
-	<button action="allCachesRes" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="75"/>
-	<button action="moreDetails" fromLeft="3" fromTop="380"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="75"/>
-	<button action="moreOverview" fromLeft="3" fromTop="475"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="75"/>
+	<button action="highestResGpsDest" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="75"/>
+	<button action="highestResolution" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="75"/>
+	<button action="keepManResolution" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="75"/>
+	<button action="allCachesRes" fromLeft="3" fromTop="285"  location="360x90.png"  icon="icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="75"/>
+	<button action="moreDetails" fromLeft="3" fromTop="380"  location="360x90.png"  icon="icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="75"/>
+	<button action="moreOverview" fromLeft="3" fromTop="475"  location="360x90.png"  icon="icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="75"/>
 
-	<button action="changeStateOfRole" fromRight="70" fromTop="200" changeStateof="zoom_manually" location="mmc480x640/icon_zoom.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
+	<button action="changeStateOfRole" fromRight="70" fromTop="200" changeStateof="zoom_manually" location="icon_zoom.png"  icon="icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
 </mmc>

Added: trunk/res_noewe/mmc/pda_vga/480x800.xml
===================================================================
--- trunk/res_noewe/mmc/pda_vga/480x800.xml	2010-06-17 18:59:52 UTC (rev 2628)
+++ trunk/res_noewe/mmc/pda_vga/480x800.xml	2010-06-17 20:27:26 UTC (rev 2629)
@@ -0,0 +1,71 @@
+<mmc>
+	<settings fontsize="20"/>
+
+	<role name="always" active="true"/>
+	<role name="menu"/>
+	<role name="zoom" disable="map|centermap|detail"/>
+	<role name="centermap"  disable="zoom|map|detail"/>
+	<role name="map" disable="zoom|centermap|detail"/>
+	<role name="detail" disable="zoom|centermap|map"/>
+	<role name="show_map" active="true"/> <!-- this name of role is fix in code! -->
+	<role name="show_caches" active="true"/><!-- this name of role is fix in code! -->
+	<role name="fill_white" active="true"/><!-- this name of role is fix in code! -->
+	<role name="zoom_manually"/><!-- this name of role is fix in code! -->
+
+	<!-- Buttons right side -->
+	<button action="close" fromRight="91" fromTop="1" location="90x90.png"  icon="icon_close.png"  alpha="80" visibleIf="!menu" />
+	<button action="moveToGps" fromRight="91" fromTop="96" location="90x90.png"  icon="icon_gps.png"  alpha="80" visibleIf="!menu" />
+
+	<!-- buttom text icons -->
+	<button action="changeStateOfRole" fromLeft="0" fromBottom="80" changeStateof="menu" location="text_left_110x80.png" icon="text_left_110x80.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
+
+	<button action="changeStateOfRole" fromRight="110" fromBottom="80" changeStateof="menu" location="text_right_110x80.png" icon="text_right_110x80.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
+
+	<!-- menu items -->
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="90x90.png"  icon="icon_map.png"  visibleIf="menu+!map" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="90x90_active.png"  icon="icon_map.png" visibleIf="menu+map" />
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="90x90.png"  icon="icon_zoom.png" visibleIf="menu+!zoom" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="90x90_active.png"  icon="icon_zoom.png" visibleIf="menu+zoom" />
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="90x90.png" icon="icon_map_pos_dest.png" visibleIf="menu+!detail" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="90x90_active.png"  icon="icon_map_pos_dest.png" visibleIf="menu+detail" />
+
+
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="90x90.png" icon="icon_to_centre.png" visibleIf="menu+!centermap" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="90x90_active.png"  icon="icon_to_centre.png" visibleIf="menu+centermap" />
+
+
+	<!-- sub menu: map -->
+	<button action="selectMap" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="75"/>
+	<button action="changeMapDir" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="360x90.png"  icon="icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="360x90.png"  icon="icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="360x90.png"  icon="icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="360x90.png"  icon="icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="360x90.png"  icon="icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="360x90.png"  icon="icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="75"/>
+
+	<!-- sub menu: zoom -->
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="360x90.png"  icon="icon_zoom.png"  visibleIf="menu+zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="360x90_active.png"  icon="icon_zoom.png"  visibleIf="menu+zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomin" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomout" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="75"/>
+	<button action="1to1" fromLeft="3" fromTop="285"  location="360x90.png"  icon="icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="75"/>
+
+
+	<!-- sub menu: center map -->
+	<button action="moveToDest" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToGps" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToCenter" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="75"/>
+
+	<!-- sub menu: detail -->
+	<button action="highestResGpsDest" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="75"/>
+	<button action="highestResolution" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="75"/>
+	<button action="keepManResolution" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="75"/>
+	<button action="allCachesRes" fromLeft="3" fromTop="285"  location="360x90.png"  icon="icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="75"/>
+	<button action="moreDetails" fromLeft="3" fromTop="380"  location="360x90.png"  icon="icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="75"/>
+	<button action="moreOverview" fromLeft="3" fromTop="475"  location="360x90.png"  icon="icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="75"/>
+
+	<button action="changeStateOfRole" fromRight="70" fromTop="200" changeStateof="zoom_manually" location="icon_zoom.png"  icon="icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
+</mmc>

Modified: trunk/runjewel.bat
===================================================================
--- trunk/runjewel.bat	2010-06-17 18:59:52 UTC (rev 2628)
+++ trunk/runjewel.bat	2010-06-17 20:27:26 UTC (rev 2629)
@@ -1,2 +1,2 @@
 cd %~d0%~p0
-java -cp lib/ewe.jar Ewe programs/Jewel.ewe cw-pda.jnf
+java -cp lib/ewe.jar Ewe programs/Jewel.ewe cw-ppc2003.jnf



From maierkurt at mail.berlios.de  Fri Jun 18 00:12:55 2010
From: maierkurt at mail.berlios.de (maierkurt at mail.berlios.de)
Date: Fri, 18 Jun 2010 00:12:55 +0200
Subject: [Cachewolf-svn] r2630 - trunk
Message-ID: <201006172212.o5HMCtdJ014770@sheep.berlios.de>

Author: maierkurt
Date: 2010-06-18 00:12:43 +0200 (Fri, 18 Jun 2010)
New Revision: 2630

Modified:
   trunk/buildexe.bat
   trunk/cw-ppc2003.jnf
   trunk/runjewel.bat
Log:
Accidentally committed some wrong files.
Reverting changes.

Modified: trunk/buildexe.bat
===================================================================
--- trunk/buildexe.bat	2010-06-17 20:27:26 UTC (rev 2629)
+++ trunk/buildexe.bat	2010-06-17 22:12:43 UTC (rev 2630)
@@ -1,8 +1,8 @@
 cd %~d0%~p0
 call getres.bat
-REM java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
+java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-ppc2003.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-jar.jnf
 REM Dont change the order above because the PC version has to overwrite the PDA version of the EWE-file
-pause
+

Modified: trunk/cw-ppc2003.jnf
===================================================================
--- trunk/cw-ppc2003.jnf	2010-06-17 20:27:26 UTC (rev 2629)
+++ trunk/cw-ppc2003.jnf	2010-06-17 22:12:43 UTC (rev 2630)
@@ -1 +1 @@
-command=programName%3DCacheWolf%26width%3D0%26height%3D0%26startingClass%3DCacheWolf.CacheWolf%26windowTitle%3DWindow%2BTitle%26ewes%3D%26extra%3D%26pathToEwe%3D%26nativeStack%3D0%26vmStack%3D0%26appletWidth%3D0%26appletHeight%3D0%26appletInFrame%3Dfalse%26locale%3D%26useResources%3Dtrue%26noPopupWindows%3Dfalse%26vmOptions%3D/Xmx%2B10M&eweFiles=&targets=%253DTarget%3Dewe/data/MultiListSelect$SelectedItems%253D%25253DPocketPC%25252B2003&createWithPnf=true&eweInfo=outputFile%3Dwork/CacheWolf.ewe%26entries%3Dewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dbin/CacheWolf/%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253DCacheWolf/%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dresources%252526mask%25253D*.gif;*.png;*.ico%252526includeSubdirectories%25253Dfalse%252526pathInEwe%25253D%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dlib%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253D%26addCommandLine%3D!
 true%26commandLine%3DprogramName%253DCacheWolf%2526width%253D0%2526height%253D0%2526startingClass%253DCacheWolf.CacheWolf%2526windowTitle%253DWindow%252BTitle%2526ewes%253D%2526extra%253D%2526pathToEwe%253D%2526nativeStack%253D0%2526vmStack%253D0%2526appletWidth%253D0%2526appletHeight%253D0%2526appletInFrame%253Dfalse%2526locale%253D%2526useResources%253Dtrue%2526noPopupWindows%253Dfalse%2526vmOptions%253D/Xmx%252B10M%26install%3Dtitle%253D%2526category%253DApplications%2526location%253D%2526icon%253D%2526args%253D%2526vmArgs%253D%26addInstallFile%3Dfalse%26usePool%3Dfalse%26useClassPool%3Dfalse&icon=resources/CacheWolf.ico
+command=programName%3DCacheWolf%26width%3D0%26height%3D0%26startingClass%3DCacheWolf.CacheWolf%26windowTitle%3DWindow%2BTitle%26ewes%3D%26extra%3D%26pathToEwe%3D%26nativeStack%3D0%26vmStack%3D0%26appletWidth%3D0%26appletHeight%3D0%26appletInFrame%3Dfalse%26locale%3D%26useResources%3Dtrue%26noPopupWindows%3Dfalse%26vmOptions%3D/Xmx%2B6M&eweFiles=&targets=%253DTarget%3Dewe/data/MultiListSelect$SelectedItems%253D%25253DPocketPC%25252B2003&createWithPnf=true&eweInfo=outputFile%3Dwork/CacheWolf.ewe%26entries%3Dewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dbin/CacheWolf/%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253DCacheWolf/%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dresources%252526mask%25253D*.gif;*.png;*.ico%252526includeSubdirectories%25253Dfalse%252526pathInEwe%25253D%2526ewesoft/apps/jewel/EweDirEntry%253Dpath%25253Dlib%252526mask%25253D*.class%252526includeSubdirectories%25253Dtrue%252526pathInEwe%25253D%26addCommandLine%3Dt!
 rue%26commandLine%3DprogramName%253DCacheWolf%2526width%253D0%2526height%253D0%2526startingClass%253DCacheWolf.CacheWolf%2526windowTitle%253DWindow%252BTitle%2526ewes%253D%2526extra%253D%2526pathToEwe%253D%2526nativeStack%253D0%2526vmStack%253D0%2526appletWidth%253D0%2526appletHeight%253D0%2526appletInFrame%253Dfalse%2526locale%253D%2526useResources%253Dtrue%2526noPopupWindows%253Dfalse%2526vmOptions%253D/Xmx%252B6M%26install%3Dtitle%253D%2526category%253DApplications%2526location%253D%2526icon%253D%2526args%253D%2526vmArgs%253D%26addInstallFile%3Dfalse%26usePool%3Dfalse%26useClassPool%3Dfalse&icon=resources/CacheWolf.ico

Modified: trunk/runjewel.bat
===================================================================
--- trunk/runjewel.bat	2010-06-17 20:27:26 UTC (rev 2629)
+++ trunk/runjewel.bat	2010-06-17 22:12:43 UTC (rev 2630)
@@ -1,2 +1,2 @@
 cd %~d0%~p0
-java -cp lib/ewe.jar Ewe programs/Jewel.ewe cw-ppc2003.jnf
+java -cp lib/ewe.jar Ewe programs/Jewel.ewe cw-pda.jnf



From araber95 at mail.berlios.de  Fri Jun 18 00:47:23 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 18 Jun 2010 00:47:23 +0200
Subject: [Cachewolf-svn] r2631 - in trunk: . res_noewe/mmc/pda_vga
Message-ID: <201006172247.o5HMlNWk030176@sheep.berlios.de>

Author: araber95
Date: 2010-06-18 00:47:20 +0200 (Fri, 18 Jun 2010)
New Revision: 2631

Modified:
   trunk/getRes.bat
   trunk/res_noewe/mmc/pda_vga/movingMapControls.xml
Log:
and these files too.

Modified: trunk/getRes.bat
===================================================================
--- trunk/getRes.bat	2010-06-17 22:12:43 UTC (rev 2630)
+++ trunk/getRes.bat	2010-06-17 22:47:20 UTC (rev 2631)
@@ -22,7 +22,7 @@
 mkdir .\work\mmc\Desktop
 copy .\res_noewe\mmc\Desktop\*.* .\work\mmc\Desktop\*.*
 mkdir .\work\mmc\pda
-copy .\res_noewe\pda\*.* .\work\pda\*.*
+copy .\res_noewe\mmc\pda\*.* .\work\mmc\pda\*.*
 mkdir .\work\mmc\pda_vga
 copy .\res_noewe\mmc\pda_vga\*.* .\work\mmc\pda_vga\*.*
 REM

Modified: trunk/res_noewe/mmc/pda_vga/movingMapControls.xml
===================================================================
--- trunk/res_noewe/mmc/pda_vga/movingMapControls.xml	2010-06-17 22:12:43 UTC (rev 2630)
+++ trunk/res_noewe/mmc/pda_vga/movingMapControls.xml	2010-06-17 22:47:20 UTC (rev 2631)
@@ -13,59 +13,59 @@
 	<role name="zoom_manually"/><!-- this name of role is fix in code! -->
 
 	<!-- Buttons right side -->
-	<button action="close" fromRight="91" fromTop="1" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_close.png"  alpha="80" visibleIf="!menu" />
-	<button action="moveToGps" fromRight="91" fromTop="96" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_gps.png"  alpha="80" visibleIf="!menu" />
+	<button action="close" fromRight="91" fromTop="1" location="90x90.png"  icon="icon_close.png"  alpha="80" visibleIf="!menu" />
+	<button action="moveToGps" fromRight="91" fromTop="96" location="90x90.png"  icon="icon_gps.png"  alpha="80" visibleIf="!menu" />
 
 	<!-- buttom text icons -->
-	<button action="changeStateOfRole" fromLeft="0" fromBottom="80" changeStateof="menu" location="mmc480x640/text_left_110x80.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
+	<button action="changeStateOfRole" fromLeft="0" fromBottom="80" changeStateof="menu" location="text_left_110x80.png" icon="text_left_110x80.png" alpha="220" visibleIf="!menu" content="distance" alignText="BL"/>
 
-	<button action="changeStateOfRole" fromRight="110" fromBottom="80" changeStateof="menu" location="mmc480x640/text_right_110x80.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
+	<button action="changeStateOfRole" fromRight="110" fromBottom="80" changeStateof="menu" location="text_right_110x80.png" icon="text_right_110x80.png" alpha="220" visibleIf="!menu" content="scale" alignText="BR"/>
 
 	<!-- menu items -->
-	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+!map" />
-	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map.png" visibleIf="menu+map" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="90x90.png"  icon="icon_map.png"  visibleIf="menu+!map" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="1" changeStateof="map" location="90x90_active.png"  icon="icon_map.png" visibleIf="menu+map" />
 
-	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+!zoom" />
-	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_zoom.png" visibleIf="menu+zoom" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="90x90.png"  icon="icon_zoom.png" visibleIf="menu+!zoom" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="95" changeStateof="zoom" location="90x90_active.png"  icon="icon_zoom.png" visibleIf="menu+zoom" />
 
-	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90.png" icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+!detail" />
-	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_map_pos_dest.png" visibleIf="menu+detail" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="90x90.png" icon="icon_map_pos_dest.png" visibleIf="menu+!detail" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="190" changeStateof="detail" location="90x90_active.png"  icon="icon_map_pos_dest.png" visibleIf="menu+detail" />
 
 
-	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90.png" icon="mmc480x640/icon_to_centre.png" visibleIf="menu+!centermap" />
-	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="mmc480x640/90x90_active.png"  icon="mmc480x640/icon_to_centre.png" visibleIf="menu+centermap" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="90x90.png" icon="icon_to_centre.png" visibleIf="menu+!centermap" />
+	<button action="changeStateOfRole" fromRight="91" fromTop="285" changeStateof="centermap" location="90x90_active.png"  icon="icon_to_centre.png" visibleIf="menu+centermap" />
 
 
 	<!-- sub menu: map -->
-	<button action="selectMap" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="75"/>
-	<button action="changeMapDir" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="75"/>
+	<button action="selectMap" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_folder.png"  visibleIf="menu+map" localeDefault="Select a map manually$s" localeID="4235" alignText="C" textOffsetLeft="75"/>
+	<button action="changeMapDir" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_folders.png"  visibleIf="menu+map" localeDefault="Change map directory" localeID="4237" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="360x90.png"  icon="icon_map.png"  visibleIf="menu+map+!show_map" localeDefault="Show map" localeID="4239" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="190" changeStateof="show_map" location="360x90.png"  icon="icon_nomap.png"  visibleIf="menu+map+show_map" localeDefault="Hide map" localeID="4241" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="360x90.png"  icon="icon_map_no_fill.png"  visibleIf="menu+map+!fill_white" localeDefault="Show white areas" localeID="4267" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="285" changeStateof="fill_white" location="360x90.png"  icon="icon_map_fill.png"  visibleIf="menu+map+fill_white" localeDefault="Fill white areas" localeID="4266" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="360x90.png"  icon="icon_map_cache.png"  visibleIf="menu+map+!show_caches" localeDefault="Alle Cache anzeigen" localeID="4268" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="380" changeStateof="show_caches" location="360x90.png"  icon="icon_map_no_cache.png"  visibleIf="menu+map+show_caches" localeDefault="Keine Cache anzeigen" localeID="4269" alignText="C" textOffsetLeft="75"/>
 
 	<!-- sub menu: zoom -->
-	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="menu+zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
-	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="mmc480x640/360x90_active.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="menu+zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
-	<button action="zoomin" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="75"/>
-	<button action="zoomout" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="75"/>
-	<button action="1to1" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="360x90.png"  icon="icon_zoom.png"  visibleIf="menu+zoom+!zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="changeStateOfRole" fromLeft="3" fromTop="0" changeStateof="zoom_manually" location="360x90_active.png"  icon="icon_zoom.png"  visibleIf="menu+zoom+zoom_manually" localeDefault="Manual zoom" localeID="4292" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomin" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_zoom_in.png"  visibleIf="menu+zoom" localeDefault="Zoom in" localeID="4291" alignText="C" textOffsetLeft="75"/>
+	<button action="zoomout" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_zoom_out.png"  visibleIf="menu+zoom" localeDefault="Zoom out" localeID="4290" alignText="C" textOffsetLeft="75"/>
+	<button action="1to1" fromLeft="3" fromTop="285"  location="360x90.png"  icon="icon_1to1.png"  visibleIf="menu+zoom" localeDefault="Zoom to original resolution" localeID="4293" alignText="C" textOffsetLeft="75"/>
 
 
 	<!-- sub menu: center map -->
-	<button action="moveToDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="75"/>
-	<button action="moveToGps" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="75"/>
-	<button action="moveToCenter" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToDest" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_to_target.png"  visibleIf="menu+centermap" localeDefault="Move to goto point" localeID="4260" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToGps" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_to_gps.png"  visibleIf="menu+centermap" localeDefault="Move to GPS position" localeID="4262" alignText="C" textOffsetLeft="75"/>
+	<button action="moveToCenter" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_to_centre.png"  visibleIf="menu+centermap" localeDefault="Move to centre" localeID="4264" alignText="C" textOffsetLeft="75"/>
 
 	<!-- sub menu: detail -->
-	<button action="highestResGpsDest" fromLeft="3" fromTop="0"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="75"/>
-	<button action="highestResolution" fromLeft="3" fromTop="95"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="75"/>
-	<button action="keepManResolution" fromLeft="3" fromTop="190"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="75"/>
-	<button action="allCachesRes" fromLeft="3" fromTop="285"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="75"/>
-	<button action="moreDetails" fromLeft="3" fromTop="380"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="75"/>
-	<button action="moreOverview" fromLeft="3" fromTop="475"  location="mmc480x640/360x90.png"  icon="mmc480x640/icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="75"/>
+	<button action="highestResGpsDest" fromLeft="3" fromTop="0"  location="360x90.png"  icon="icon_map_pos_dest.png"  visibleIf="menu+detail" localeDefault= "Highest res. containing dest.  cur. position" localeID="4244" alignText="C" textOffsetLeft="75"/>
+	<button action="highestResolution" fromLeft="3" fromTop="95"  location="360x90.png"  icon="icon_map_highest_res.png"  visibleIf="menu+detail" localeDefault="Highest resolution" localeID="4246" alignText="C" textOffsetLeft="75"/>
+	<button action="keepManResolution" fromLeft="3" fromTop="190"  location="360x90.png"  icon="icon_map_man_res.png"  visibleIf="menu+detail" localeDefault="Keep manual resolution" localeID="4248" alignText="C" textOffsetLeft="75"/>
+	<button action="allCachesRes" fromLeft="3" fromTop="285"  location="360x90.png"  icon="icon_map_all.png"  visibleIf="menu+detail" localeDefault="Load a map containing all marked caches" localeID="4252" alignText="C" textOffsetLeft="75"/>
+	<button action="moreDetails" fromLeft="3" fromTop="380"  location="360x90.png"  icon="icon_map_more_details.png"  visibleIf="menu+detail" localeDefault="Load a map with more details" localeID="4254" alignText="C" textOffsetLeft="75"/>
+	<button action="moreOverview" fromLeft="3" fromTop="475"  location="360x90.png"  icon="icon_map_less_details.png"  visibleIf="menu+detail" localeDefault="Load a map for a better overview" localeID="4256" alignText="C" textOffsetLeft="75"/>
 
-	<button action="changeStateOfRole" fromRight="70" fromTop="200" changeStateof="zoom_manually" location="mmc480x640/icon_zoom.png"  icon="mmc480x640/icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
+	<button action="changeStateOfRole" fromRight="70" fromTop="200" changeStateof="zoom_manually" location="icon_zoom.png"  icon="icon_zoom.png"  visibleIf="!menu+zoom_manually"/>
 </mmc>



From salzkammergut at mail.berlios.de  Sat Jun 19 15:53:58 2010
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 19 Jun 2010 15:53:58 +0200
Subject: [Cachewolf-svn] r2632 - trunk/src/CacheWolf/navi
Message-ID: <201006191353.o5JDrwSv030167@sheep.berlios.de>

Author: salzkammergut
Date: 2010-06-19 15:53:56 +0200 (Sat, 19 Jun 2010)
New Revision: 2632

Modified:
   trunk/src/CacheWolf/navi/CWGPSPoint.java
Log:
CWGPSPoint - Removed some redundant code

Modified: trunk/src/CacheWolf/navi/CWGPSPoint.java
===================================================================
--- trunk/src/CacheWolf/navi/CWGPSPoint.java	2010-06-17 22:47:20 UTC (rev 2631)
+++ trunk/src/CacheWolf/navi/CWGPSPoint.java	2010-06-19 13:53:56 UTC (rev 2632)
@@ -5,7 +5,7 @@
  * Window - Preferences - Java - Code Style - Code Templates
  */
 package CacheWolf.navi;
-import com.stevesoft.ewe_pat.Regex;
+//import com.stevesoft.ewe_pat.Regex;
 
 import CacheWolf.CWPoint;
 import CacheWolf.Common;
@@ -42,9 +42,9 @@
 	boolean writeLog = false;
 	boolean doLogging = false;
 	FileWriter logFile;
-	String lastStrExamined = new String();
+	String lastStrExamined = "";
 
-	Regex numberMatcher = new Regex("\\-?\\d+");
+	//Regex numberMatcher = new Regex("\\-?\\d+");
 
 	public CWGPSPoint()
 	{
@@ -114,7 +114,7 @@
 	}
 
 	/**
-	 * 
+	 *
 	 * @param logFileDir directory for logfile
 	 * @param seconds	 intervall for writing to logfile
 	 * @param flag		 level of logging
@@ -132,7 +132,7 @@
 		} catch (IOException e) {
 			Vm.debug("Error creating LogFile " + logFileName);
 			return -1;
-		} 
+		}
 		// start timer
 		logTimer = Vm.requestTimer(this, 1000 * seconds);
 		logFlag = flag;
@@ -177,28 +177,28 @@
 	 * @param NMEA	string with data to examine
 	 * @return true if some data could be interpreted false otherwise
 	 */
-	public boolean examine(String NMEA){ 
+	public boolean examine(String NMEA){
 		boolean interpreted = false;
 		boolean logWritten = false;
 		try {
 			int i, start, end;
-			String latDeg="0", latMin="0", latNS="N"; 
+			String latDeg="0", latMin="0", latNS="N";
 			String lonDeg="0", lonMin="0", lonEW="E";
 			String currToken;
 			end = 0;
 			lastStrExamined = NMEA;
 			//Vm.debug(NMEA);
-/*			if (writeLog && (logFlag & LOGRAW) > 0){ 
+/*			if (writeLog && (logFlag & LOGRAW) > 0){
 				try {
 					logFile.write(NMEA);
 					writeLog = false;
 				} catch (IOException e) {}
 			}
 */			while(true){
-				start = NMEA.indexOf("$GP", end);  
+				start = NMEA.indexOf("$GP", end);
 				if (start == -1) break;
-				end = NMEA.indexOf("*", start);  
-				if ((end == -1)||(end+3 > NMEA.length())) break;  
+				end = NMEA.indexOf("*", start);
+				if ((end == -1)||(end+3 > NMEA.length())) break;
 
 
 				//Vm.debug(NMEA.substring(start,end+3));
@@ -206,8 +206,8 @@
 					//Vm.debug("checksum wrong");
 					continue;
 				}
-				// Write log after finding valid NMEA sequence 
-				if (writeLog && (logFlag & LOGRAW) > 0){ 
+				// Write log after finding valid NMEA sequence
+				if (writeLog && (logFlag & LOGRAW) > 0){
 					try {
 						logFile.write(NMEA.substring(start,end+3)+"\n");
 						logWritten = true;
@@ -242,13 +242,13 @@
 						break;
 						case 5: lonEW = currToken;
 						break;
-						case 6: 
+						case 6:
 							if (!latlonerror) {
-								this.Fix = Convert.toInt(currToken); 
-								interpreted = true; 
+								this.Fix = Convert.toInt(currToken);
+								interpreted = true;
 								break;
 							} else {
-								this.Fix = 0; 
+								this.Fix = 0;
 								break;
 							}
 						case 7: this.numSat = Convert.toInt(currToken); interpreted = true; break;
@@ -278,7 +278,7 @@
 						break;
 						case 7: try { this.Speed = Common.parseDouble(currToken); interpreted = true; } catch (NumberFormatException e) {
 							Global.getPref().log("Ignored Exception", e, true);
-						} 
+						}
 						break;
 						} // switch
 					} // while
@@ -301,7 +301,7 @@
 						//Vm.debug(currToken);
 						switch (i){
 						case 1: this.Time = currToken; interpreted = true; break;
-						case 2: status = currToken; 
+						case 2: status = currToken;
 						if (status.equals("A")) this.Fix = 1;
 						else this.Fix = 0;
 						interpreted = true;
@@ -326,7 +326,7 @@
 						break;
 						case 7: if (status.equals("A")){
 							try {this.Speed = Common.parseDouble(currToken)*1.854;
-							interpreted = true; } catch (NumberFormatException e) { 
+							interpreted = true; } catch (NumberFormatException e) {
 								Global.getPref().log("Ignored Exception", e, true);
 							}
 						}
@@ -340,7 +340,7 @@
 						break;
 						case 9: if (status.equals("A") && currToken.length()> 0){
 							try {this.Date = currToken;
-							interpreted = true; } catch (NumberFormatException e) { 
+							interpreted = true; } catch (NumberFormatException e) {
 								Global.getPref().log("Ignored Exception", e, true);
 							}
 						}
@@ -351,7 +351,7 @@
 					else {
 						if (status.equals("A")){
 							this.set(latNS, latDeg, latMin, "0",
-									lonEW, lonDeg, lonMin, "0", TransformCoordinates.DMM);				
+									lonEW, lonDeg, lonMin, "0", TransformCoordinates.DMM);
 						}
 					}
 				} // if
@@ -368,7 +368,7 @@
 						} // switch
 					} // while
 				} // if
-				
+
 				//Vm.debug("End of examine");
 			} //while
 		} catch (Exception e) {
@@ -382,11 +382,11 @@
 		return interpreted;
 	}
 
-	
+
 	/**
 	 * Sets the attributes from a GPSD string
 	 * @param gps	GPSD string with data to examine
-	 *              Format: GPSD,key=value,... 
+	 *              Format: GPSD,key=value,...
 	 * @return true if some data could be interpreted false otherwise
 	 */
 	public boolean examineGpsd(String gps){
@@ -397,12 +397,12 @@
 		while(!ex.endOfSearch()){
 			String part = ex.findNext();
 			if(part.startsWith("A=") && part.indexOf('?')<0){
-				// The current altitude as "A=%f", meters above mean sea level. 
+				// The current altitude as "A=%f", meters above mean sea level.
 				this.Alt=Common.parseDouble(part.substring(2));
 				valid = true;
 			}else if(part.startsWith("D=") && part.indexOf('?')<0){
 				// Returns the UTC time in the ISO 8601 format, "D=yyyy-mm-ddThh:mm:ss.ssZ"
-				//                                               0000000000111111111122 
+				//                                               0000000000111111111122
 				//                                               0123456789012345678901
 				String year = part.substring(2,6);
 				String month = part.substring(7,9);
@@ -414,7 +414,7 @@
 				this.Time=hour+min+sec;
 				valid = true;
 			}else if(part.startsWith("P=")){
-				// Returns the current position in the form "P=%f %f"; numbers are in degrees, latitude first. 
+				// Returns the current position in the form "P=%f %f"; numbers are in degrees, latitude first.
 				if(part.indexOf('?')<0){
 					this.Fix = 1;
 					int spacepos=part.indexOf(' ');
@@ -431,7 +431,7 @@
 				valid = true;
 			}else if(part.startsWith("Q=")){
 				// Returns "Q=%d %f %f %f %f %f": a count of satellites used in the last fix,
-				// and five dimensionless dilution-of-precision (DOP) numbers -- 
+				// and five dimensionless dilution-of-precision (DOP) numbers --
 				// spherical, horizontal, vertical, time, and total geometric.
 				int spacepos=part.indexOf(' ');
 				if(part.indexOf('?')<0 && spacepos>=3){
@@ -454,7 +454,7 @@
 		}
 		return valid;
 	}
-		
+
 	private boolean checkSumOK(String nmea){
 		int startPos = 1; // begin after $
 		int endPos = nmea.length() - 3;// without * an two checksum chars



From salzkammergut at mail.berlios.de  Sat Jun 19 15:58:08 2010
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 19 Jun 2010 15:58:08 +0200
Subject: [Cachewolf-svn] r2633 - in trunk/src/CacheWolf: exp imp navi
Message-ID: <201006191358.o5JDw8VT030382@sheep.berlios.de>

Author: salzkammergut
Date: 2010-06-19 15:58:03 +0200 (Sat, 19 Jun 2010)
New Revision: 2633

Modified:
   trunk/src/CacheWolf/exp/HTMLExporter.java
   trunk/src/CacheWolf/imp/KMLImporter.java
   trunk/src/CacheWolf/imp/LOCXMLImporter.java
   trunk/src/CacheWolf/imp/OCXMLImporter.java
   trunk/src/CacheWolf/navi/MapImporter.java
   trunk/src/CacheWolf/navi/MapInfoObject.java
Log:
Removed unnecessary String object creation (e.g. String xx=new String() )

Modified: trunk/src/CacheWolf/exp/HTMLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/HTMLExporter.java	2010-06-19 13:53:56 UTC (rev 2632)
+++ trunk/src/CacheWolf/exp/HTMLExporter.java	2010-06-19 13:58:03 UTC (rev 2633)
@@ -49,7 +49,6 @@
 		Handle h = new Handle();
 		int exportErrors = 0;
 
-		new String();
 		FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, pref.getExportPath(expName));
 		fc.setTitle("Select target directory:");
 		String targetDir;
@@ -98,7 +97,7 @@
 					try{
 						Template page_tpl = new Template(template_init_page);
 						page_tpl.setParams(varParams);
-						
+
 						if (det != null) {
 
 							for(int j = 0; j<det.CacheLogs.size()-1; j++){

Modified: trunk/src/CacheWolf/imp/KMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/KMLImporter.java	2010-06-19 13:53:56 UTC (rev 2632)
+++ trunk/src/CacheWolf/imp/KMLImporter.java	2010-06-19 13:58:03 UTC (rev 2633)
@@ -19,8 +19,8 @@
 	
 	public Vector points = new Vector();
 	private CWPoint point = new CWPoint();
-	private String file = new String();
-	String strData = new String();
+	private String file = "";
+	String strData = "";
 	private int status = 0;
 	private static int MultiGeometry = 1;
 	private static int LineString = 2;
@@ -72,10 +72,10 @@
 	private void parseCoordinatesLine(){
 		StringTokenizer exBlock = new StringTokenizer(strData, " ");
 		StringTokenizer numbers;
-		String lat = new String();
-		String lon = new String();
+		String lat = "";
+		String lon = "";
 		
-		String test = new String();
+		String test = "";
 		
 		while(exBlock.hasMoreTokens()){
 			test = exBlock.nextToken();

Modified: trunk/src/CacheWolf/imp/LOCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/LOCXMLImporter.java	2010-06-19 13:53:56 UTC (rev 2632)
+++ trunk/src/CacheWolf/imp/LOCXMLImporter.java	2010-06-19 13:58:03 UTC (rev 2633)
@@ -52,7 +52,7 @@
 	String file;
 	CacheHolder holder;
 
-	String strData = new String();
+	String strData = "";
 
 	public LOCXMLImporter(Preferences pf, Profile prof, String f) {
 		pref = pf;

Modified: trunk/src/CacheWolf/imp/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-19 13:53:56 UTC (rev 2632)
+++ trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-06-19 13:58:03 UTC (rev 2633)
@@ -61,13 +61,13 @@
 	Preferences pref;
 	Profile profile;
 	Time dateOfthisSync;
-	String strData = new String();
+	String strData = "";
 	int picCnt;
 	boolean incUpdate = true; // complete or incremental Update
 	Hashtable DBindexID = new Hashtable();
 
-	String picUrl = new String();
-	String picTitle =  new String();
+	String picUrl = "";
+	String picTitle =  "";
 	String picID = new String();
 	String cacheID = new String();
 

Modified: trunk/src/CacheWolf/navi/MapImporter.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImporter.java	2010-06-19 13:53:56 UTC (rev 2632)
+++ trunk/src/CacheWolf/navi/MapImporter.java	2010-06-19 13:58:03 UTC (rev 2633)
@@ -22,9 +22,9 @@
  */
 public class MapImporter extends Form {
 	Preferences pref;
-	String mapsPath = new String();
-	String thisMap = new String();
-	public String selectedMap = new String();
+	String mapsPath = "";
+	String thisMap = "";
+	public String selectedMap = "";
 	CellPanel infPanel;
 	mLabel infLabel = new mLabel("                          ");
 	Vector GCPs = new Vector();
@@ -120,7 +120,7 @@
 	 *	It will use these files to automatically georeference the files during import.
 	 */
 	public int importMap(){
-		String rawFileName = new String();
+		String rawFileName = "";
 		FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, Global.getPref().absoluteBaseDir);
 		fc.addMask("*.png,*.gif,*.bmp,*.jpg");
 		fc.setTitle(MyLocale.getMsg(4100,"Select Directory:"));
@@ -140,7 +140,7 @@
 		//at the same time try to find associated .map files!
 		//These are georeference files targeted for OziExplorer.
 		//So lets check if we have more than 1 png file:
-		String line = new String();
+		String line = "";
 		InputStream in = null;
 		OutputStream out = null;
 		FileReader inMap;

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2010-06-19 13:53:56 UTC (rev 2632)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2010-06-19 13:58:03 UTC (rev 2633)
@@ -46,11 +46,11 @@
 	public CWPoint origAffineUpperLeft; // this is only valid after zooming 
 	public float rotationRad; // contains the rotation of the map == north direction in rad
 	/** full path to the respective worldfile, including ".wfl"*/
-	public String fileNameWFL = new String();
+	public String fileNameWFL = "";
 	/** filename wihout directory */
 //	public String fileName = new String();
 	/** name of the map, introduced to allow 'maps' without an image (empty maps) */ 
-	public String mapName = new String();
+	public String mapName = "";
 	//private Character digSep = new Character(' ');
 	static private String digSep = MyLocale.getDigSeparator();
 	private int coordTrans = 0; 
@@ -163,7 +163,7 @@
 		FileInputStream instream = new FileInputStream (CacheWolf.STRreplace.replace(mapsPath + thisMap + ".wfl", "//", "/"));
 		InputStreamReader in = new InputStreamReader(instream);
 		
-		String line = new String();
+		String line = "";
 		try {
 			for(int i = 0; i<4;i++){
 				line = in.readLine();



From araber95 at mail.berlios.de  Mon Jun 21 01:09:21 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 21 Jun 2010 01:09:21 +0200
Subject: [Cachewolf-svn] r2634 - trunk/src/CacheWolf/navi/touchControls
Message-ID: <201006202309.o5KN9L1T015899@sheep.berlios.de>

Author: araber95
Date: 2010-06-21 01:09:07 +0200 (Mon, 21 Jun 2010)
New Revision: 2634

Modified:
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
Log:
mmc : no icon defined works now for windows CW

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-06-19 13:58:03 UTC (rev 2633)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-06-20 23:09:07 UTC (rev 2634)
@@ -210,8 +210,11 @@
 			String visibility = attributes.getValue(BUTTON_ATTR_VISIBILITY);
 			String action = attributes.getValue(BUTTON_ATTR_ACTION);
 			String localeDefault = attributes.getValue(BUTTON_ATTR_LOCALE_DEFAULT);
-			String imageLocation = CONFIG_RELATIVE_PATH + attributes.getValue(BUTTON_ATTR_LOCATION);
-			String iconLocation = CONFIG_RELATIVE_PATH + attributes.getValue(BUTTON_ATTR_ICON);
+			String imageLocation = attributes.getValue(BUTTON_ATTR_LOCATION);
+			String iconLocation = attributes.getValue(BUTTON_ATTR_ICON);
+			if (iconLocation != null) {
+				iconLocation = CONFIG_RELATIVE_PATH + iconLocation; 
+			}
 			String alignText = attributes.getValue(BUTTON_ATTR_ALIGNTEXT);
 			String context = attributes.getValue(BUTTON_ATTR_CONTEXT);
 			if (visibility == null) {
@@ -234,6 +237,9 @@
 				Vm.debug("Image for '" + localeDefault + "' not found");
 				return;
 			}
+			else {
+				imageLocation = CONFIG_RELATIVE_PATH + imageLocation; 
+			}
 			int localfontsize=getIntFromFile(attributes, SETTINGS_ATTR_FONTSIZE, fontsize);
 			// textoptions
 			TextOptions tOptions = new TextOptions(localfontsize, getIntFromFile(



From kalli at mail.berlios.de  Mon Jun 21 20:46:09 2010
From: kalli at mail.berlios.de (kalli at mail.berlios.de)
Date: Mon, 21 Jun 2010 20:46:09 +0200
Subject: [Cachewolf-svn] r2635 - trunk/src/CacheWolf/exp
Message-ID: <201006211846.o5LIk9U9012188@sheep.berlios.de>

Author: kalli
Date: 2010-06-21 20:46:07 +0200 (Mon, 21 Jun 2010)
New Revision: 2635

Modified:
   trunk/src/CacheWolf/exp/GpxExportNg.java
Log:
Export of attributes as log added

Modified: trunk/src/CacheWolf/exp/GpxExportNg.java
===================================================================
--- trunk/src/CacheWolf/exp/GpxExportNg.java	2010-06-20 23:09:07 UTC (rev 2634)
+++ trunk/src/CacheWolf/exp/GpxExportNg.java	2010-06-21 18:46:07 UTC (rev 2635)
@@ -131,6 +131,7 @@
 
 	private static boolean customIcons;
 	private static boolean sendToGarmin;
+	private static boolean attrib2Log;
 
 	private static int exportIds;
 	private static int exportTarget;
@@ -171,6 +172,7 @@
 		exportTarget = exportOptions.getOutputTarget();
 		sendToGarmin = exportOptions.getSendToGarmin();
 		customIcons = exportOptions.getCustomIcons();
+		attrib2Log = exportOptions.getAttrib2Log();
 
 		if (exportTarget == OUTPUT_SEPARATE || exportTarget == OUTPUT_POI) {
 			final Hashtable fileHandles = new Hashtable();
@@ -739,12 +741,29 @@
 			addLog(ch.getCacheDetails(true).OwnLogId, ch.getCacheDetails(true).OwnLog, finderid ,ret);
 		}
 		else {
+			// add log with attributes
+			if (attrib2Log){
+				addLog (ch.GetCacheID()+Integer.toString(exportlogs), createAttrLog(ch),"",ret);
+			}
 			for (int i = 0; i < exportlogs; i++) {
 				addLog(ch.GetCacheID()+Integer.toString(i), logs.getLog(i),"" ,ret);
 			}
 		}
 		return ret.toString();
 	}
+	private Log createAttrLog(CacheHolder ch) {
+		Attribute attrib;
+		StringBuffer logText = new StringBuffer();
+		for (int i = 0; i < ch.getCacheDetails(true).attributes.count(); i++) {
+			attrib=ch.getCacheDetails(true).attributes.getAttribute(i);
+			logText.append(attrib.getInc()==1?"Yes: ":"No: ").
+			append(attrib.getMsg()).
+			append("<br />").
+			append(newLine);
+		}
+		Log log = new Log("icon_note.gif", "2000-01-01", "CacheWolf",logText.toString());
+		return log;
+	}
 	
 	private StringBuffer addLog(String logId, Log log, String FinderID, StringBuffer ret) {
 		Transformer trans = new Transformer(true);
@@ -912,7 +931,7 @@
 	 */
 	private class GpxExportNgForm extends Form {
 
-		private mCheckBox cbCustomIcons, cbSendToGarmin, cbSeperateHints;
+		private mCheckBox cbCustomIcons, cbSendToGarmin, cbSeperateHints, cbAttrib2Log;
 		private mInput ibMaxLogs, ibPrefix;
 		private mButton btnOk, btnCancel;
 
@@ -983,7 +1002,8 @@
 			cbCustomIcons = new mCheckBox(MyLocale.getMsg(31415,"Custom Icons"));
 			if (!hasGarminMap) cbCustomIcons.modify(ControlConstants.Disabled, 0);
 
-
+			cbAttrib2Log = new mCheckBox(MyLocale.getMsg(31415,"Attrib.->Log"));
+			
 			addNext(new mLabel(MyLocale.getMsg(31415,"GPX Style")));
 			addLast(chStyle);
 
@@ -1000,7 +1020,9 @@
 
             addNext(new mLabel(MyLocale.getMsg(31415,"Prefix")));
             addLast(ibPrefix);
-
+            
+            addLast(cbAttrib2Log);
+            
             addNext(new mLabel(MyLocale.getMsg(31415,"Max Logs")));
             addLast(ibMaxLogs);
 
@@ -1040,6 +1062,10 @@
 				if (cbCustomIcons.change(ControlConstants.Disabled, 0))
 					cbCustomIcons.repaint();
 
+				cbAttrib2Log.state = false;
+				if (cbAttrib2Log.change(ControlConstants.Disabled, 0))
+					cbAttrib2Log.repaint();
+				
 				cbSeperateHints.state = false;
 				if (cbSeperateHints.change(ControlConstants.Disabled, 0))
 					cbSeperateHints.repaint();
@@ -1063,6 +1089,9 @@
 				if (hasGarminMapFrm && cbCustomIcons.change(0, ControlConstants.Disabled))
 					cbCustomIcons.repaint();
 
+				if (cbAttrib2Log.change(0, ControlConstants.Disabled))
+					cbAttrib2Log.repaint();
+				
 				cbSeperateHints.state = false;
 				if (cbSeperateHints.change(ControlConstants.Disabled, 0))
 					cbSeperateHints.repaint();
@@ -1085,6 +1114,9 @@
 				if (hasGarminMapFrm && cbCustomIcons.change(0, ControlConstants.Disabled))
 					cbCustomIcons.repaint();
 
+				if (cbAttrib2Log.change(ControlConstants.Disabled, 0))
+					cbAttrib2Log.repaint();
+		
 				cbSeperateHints.state = false;
 				if (cbSeperateHints.change(ControlConstants.Disabled, 0))
 					cbSeperateHints.repaint();
@@ -1257,6 +1289,14 @@
 		private String getPrefix() {
 			return ibPrefix.getText();
 		}
-
+		
+		/**
+		 * check if user wants to export attributes as log
+		 * 
+		 * @return true if attributes should exported as log, false otherwise
+		 */
+		private boolean getAttrib2Log (){
+			return cbAttrib2Log.state;
+		}
 	}
 }



From araber95 at mail.berlios.de  Tue Jun 22 16:22:53 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Tue, 22 Jun 2010 16:22:53 +0200
Subject: [Cachewolf-svn] r2636 - trunk/src/CacheWolf
Message-ID: <201006221422.o5MEMrJH021583@sheep.berlios.de>

Author: araber95
Date: 2010-06-22 16:22:50 +0200 (Tue, 22 Jun 2010)
New Revision: 2636

Modified:
   trunk/src/CacheWolf/CacheDB.java
   trunk/src/CacheWolf/MainMenu.java
Log:
NPEs ... prevent input

Modified: trunk/src/CacheWolf/CacheDB.java
===================================================================
--- trunk/src/CacheWolf/CacheDB.java	2010-06-21 18:46:07 UTC (rev 2635)
+++ trunk/src/CacheWolf/CacheDB.java	2010-06-22 14:22:50 UTC (rev 2636)
@@ -46,7 +46,10 @@
 	 * @return CacheHolder object with corresponding index
 	 */
 	public CacheHolder get(int index) {
-		return (CacheHolder) vectorDB.get(index);
+		if (vectorDB.size() > index) {
+			return (CacheHolder) vectorDB.get(index);
+		}
+		else return null;
 	}
 
 	/** Gets the stored CacheHolder object by its waypoint. If no such Cache exists,

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2010-06-21 18:46:07 UTC (rev 2635)
+++ trunk/src/CacheWolf/MainMenu.java	2010-06-22 14:22:50 UTC (rev 2636)
@@ -630,7 +630,9 @@
 			// "Organise" pulldown menu
 			///////////////////////////////////////////////////////////////////////
 			if(mev.selectedItem == orgNewWP){
-				if (Global.mainTab.tbP.getSelectedCache() >= 0) Global.mainTab.lastselected = cacheDB.get(Global.mainTab.tbP.getSelectedCache()).getWayPoint();
+				if (Global.mainTab.tbP.getSelectedCache() >= 0) 
+					Global.mainTab.lastselected = cacheDB.get(Global.mainTab.tbP.getSelectedCache()).getWayPoint();
+				else Global.mainTab.lastselected = "";
 				Global.mainTab.newWaypoint(new CacheHolder());
 			}
 



From araber95 at mail.berlios.de  Tue Jun 22 16:28:04 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Tue, 22 Jun 2010 16:28:04 +0200
Subject: [Cachewolf-svn] r2637 - trunk/src/CacheWolf
Message-ID: <201006221428.o5MES4qd022002@sheep.berlios.de>

Author: araber95
Date: 2010-06-22 16:28:03 +0200 (Tue, 22 Jun 2010)
New Revision: 2637

Modified:
   trunk/src/CacheWolf/CacheHolder.java
Log:
exporting Logger and LOGMESSAGE as clean GPX on Template output.

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-22 14:22:50 UTC (rev 2636)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-22 14:28:03 UTC (rev 2637)
@@ -721,8 +721,8 @@
 					logs.put("ICON",det.CacheLogs.getLog(i).getIcon());
 					logs.put("LOGTYPE",image2TypeText(det.CacheLogs.getLog(i).getIcon()));
 					logs.put("DATE", det.CacheLogs.getLog(i).getDate());
-					logs.put("LOGGER", det.CacheLogs.getLog(i).getLogger());
-					logs.put("MESSAGE", STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),"http://www.geocaching.com/images/icons/",null));
+					logs.put("LOGGER", SafeXML.cleanGPX(det.CacheLogs.getLog(i).getLogger()));
+					logs.put("MESSAGE", SafeXML.cleanGPX(STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),"http://www.geocaching.com/images/icons/",null)));
 				}
 				logVect.add(logs);
 			}



From araber95 at mail.berlios.de  Tue Jun 22 21:35:09 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Tue, 22 Jun 2010 21:35:09 +0200
Subject: [Cachewolf-svn] r2638 - in trunk: res_noewe src/CacheWolf
	src/CacheWolf/imp
Message-ID: <201006221935.o5MJZ9S6019669@sheep.berlios.de>

Author: araber95
Date: 2010-06-22 21:35:06 +0200 (Tue, 22 Jun 2010)
New Revision: 2638

Modified:
   trunk/res_noewe/spider.def
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/LogList.java
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
inserting some debug information for better recognition of spiderproblems.

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2010-06-22 14:28:03 UTC (rev 2637)
+++ trunk/res_noewe/spider.def	2010-06-22 19:35:06 UTC (rev 2638)
@@ -62,7 +62,7 @@
 listBlockRex       = <table id="ctl00_ContentBody_dlResults"((?s).*?)</table>
 lineRex            = <tr\ bgcolor='#.{6}'\\s*class="Data\ BorderTop">((?s).*?)</tr>
 directionRex       = /compass/(.*?).gif
-logDateRex         = <td>(.*?)<br\ /><span\ class="Success">
+logDateRex         = <td>\\s*(.*?)<br\ />\\s*<span\ class="Success">
 availableRex       = <span\ class="Strike">
 archivedRex        = <span\ class="OldWarning\ Strike">
 PMRex              = small_profile.gif

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2010-06-22 14:28:03 UTC (rev 2637)
+++ trunk/src/CacheWolf/DetailsPanel.java	2010-06-22 19:35:06 UTC (rev 2638)
@@ -432,8 +432,8 @@
 				&& (Global.mainTab.mainCache.startsWith("GC")
 					|| OC.isOC(Global.mainTab.mainCache) || Global.mainTab.mainCache.startsWith("CW"))
 				&& wpt.startsWith("CW")) {
-			// for what was this?:
-			Global.mainTab.lastselected = Global.mainTab.mainCache; // I don't know exactly, but it's needed for creating a series of Addis
+			// for creating the Addiname on creating a new Waypoint
+			Global.mainTab.lastselected = Global.mainTab.mainCache; 
 
 			inpWaypoint.setText(Global.getProfile().getNewAddiWayPointName(
 					Global.mainTab.mainCache));

Modified: trunk/src/CacheWolf/LogList.java
===================================================================
--- trunk/src/CacheWolf/LogList.java	2010-06-22 14:28:03 UTC (rev 2637)
+++ trunk/src/CacheWolf/LogList.java	2010-06-22 19:35:06 UTC (rev 2638)
@@ -14,7 +14,10 @@
 	
 	/** Get the Log at a certain position in the list */
 	public Log getLog(int i) {
-		return (Log) logList.elementAt(i);
+		if (logList.size()>i) {
+			return (Log) logList.elementAt(i);			
+		}
+		else return null;
 	}
 	
 	/** Return the size of the list */

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-06-22 14:28:03 UTC (rev 2637)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-06-22 19:35:06 UTC (rev 2638)
@@ -352,10 +352,20 @@
 			//Loop pages till maximum distance has been found or no more caches are in the list
 			while(maxDistance > 0){
 				RexPropListBlock.search(htmlListPage);
-				String tableOfHtmlListPage = RexPropListBlock.stringMatched(1);
+				String tableOfHtmlListPage;
+				if (RexPropListBlock.didMatch()) {
+					tableOfHtmlListPage = RexPropListBlock.stringMatched(1);
+				}
+				else {
+					pref.log("check listBlockRex in spider.def\n"+htmlListPage);
+					tableOfHtmlListPage = "";
+				}
 				RexPropLine.search(tableOfHtmlListPage);
 				while (maxDistance > 0){
-					if (!RexPropLine.didMatch()) break;
+					if (!RexPropLine.didMatch()) {
+						if (page_number==1 && found_on_page==0) pref.log("check lineRex in spider.def");
+						break;
+					}
 					found_on_page++;
 					String CacheDescriptionGC=RexPropLine.stringMatched(1);
 					double gotDistance=getDistGC(CacheDescriptionGC);
@@ -371,7 +381,7 @@
 							cachesToLoad.add(chWaypoint);
 							}
 							else {
-								pref.log("no load of : " + chWaypoint);
+								// pref.log("no load of (Premium Cache/other direction/short Distance ?) " + chWaypoint);
 								cachesToUpdate.remove( chWaypoint );
 								}
 						}
@@ -432,7 +442,7 @@
 			pref.log("Found " + numArchivedUpdates + " caches with changed archived status.");
 		}
 		pref.log("Found " + numAvailableUpdates + " caches with changed available status.");
-		pref.log("Found " + numLogUpdates + " caches with new found in log.");
+		pref.log("Found " + numLogUpdates + " caches with new found in log (inc. blacklisted");
 		pref.log("Found " + (cachesToUpdate.size()-numAvailableUpdates-numLogUpdates) + " caches possibly archived.");
 		pref.log("Found " + cachesShouldUpdate.size() + "?=" + (numFoundUpdates+numArchivedUpdates+numAvailableUpdates+numArchivedUpdates) + " caches to update.");
 		pref.log("Found " + numPrivate + " Premium Caches (for non Premium Member.)");
@@ -655,8 +665,9 @@
 			if(rexViewstate.didMatch()){
 				viewstate = rexViewstate.stringMatched(1);
 				//Vm.debug("ViewState: " + viewstate);
-			} else
-				pref.log("[login]:Viewstate not found before login");
+			} else {
+				pref.log("[login]:rexViewstate not found before login\n");
+			}
 
 			if(loginPage.indexOf(loginSuccess) > 0)
 				pref.log("[login]:Already logged in");
@@ -666,7 +677,7 @@
 					// eventvalidation = rexEventvalidation.stringMatched(1);
 					//Vm.debug("EVENTVALIDATION: " + eventvalidation);
 				} else
-					pref.log("[login]:Eventvalidation not found before login");
+					pref.log("[login]:rexEventvalidation not found before login\n");
 				//Ok now login!
 				try{
 					pref.log("[login]:Logging in as "+pref.myAlias);
@@ -705,7 +716,7 @@
 
 			rexViewstate.search(loginPage);
 			if (!rexViewstate.didMatch()) {
-				pref.log("[login]:Viewstate not found");
+				pref.log("[login]:check rexViewstate in SpiderGC.java --> not found after login\n"+loginPage);
 			}
 			viewstate = rexViewstate.stringMatched(1);
 
@@ -718,13 +729,13 @@
 
 			rexCookieID.search(loginPage);
 			if (!rexCookieID.didMatch()) {
-				pref.log("[login]:CookieID not found. Using old one.");
+				pref.log("[login]:check rexCookieID in SpiderGC.java --> CookieID not found. Using old one.\n"+loginPage);
 			} else
 				cookieID = rexCookieID.stringMatched(1);
 			//Vm.debug(cookieID);
 			rexCookieSession.search(loginPage);
 			if (!rexCookieSession.didMatch()) {
-				pref.log("[login]:CookieSession not found. Using old one.");
+				pref.log("[login]:check rexCookieSession in SpiderGC.java --> CookieSession not found. Using old one.\n"+loginPage);
 				//cookieSession="";
 			} else
 				cookieSession = rexCookieSession.stringMatched(1);
@@ -837,6 +848,7 @@
 			viewstate = rexViewstate.stringMatched(1);
 		} else {
 			viewstate = "";
+			pref.log("[getNextListPage]:check rexViewstate in SpiderGC.java\n"+htmlListPage);
 		}
 		
 		Regex rexViewstate1 = new Regex("id=\"__VIEWSTATE1\" value=\"(.*?)\" />");
@@ -846,6 +858,7 @@
 			viewstate1 = rexViewstate1.stringMatched(1);
 		} else {
 			viewstate1 = "";
+			pref.log("[getNextListPage]:check rexViewstate1 in SpiderGC.java\n"+htmlListPage);
 		}
 
 		/*
@@ -901,7 +914,9 @@
 		if (typeChanged(ch,CacheDescription)) { save=true; ret=true;}
 		if (sizeChanged(ch,CacheDescription)) { save=true; ret=true;}
 		if (difficultyOrTerrainChanged(ch,CacheDescription)) {save=true; ret=true;}
-		if (newFoundExists(ch,CacheDescription)) {numLogUpdates++; ret=true;}
+		if (newFoundExists(ch,CacheDescription)) {
+			numLogUpdates++; ret=true;
+			}
 		if (save) ch.save();
 		return ret;
 	}
@@ -914,7 +929,10 @@
 		RexNumFinds.search(doc);
 		if (RexNumFinds.didMatch()) {
 			 return Convert.toInt(RexNumFinds.stringMatched(1));}
-		else return 0;
+		else {
+			pref.log("check RexNumFinds in SpiderGC.java / initialiseProperties\n"+doc);
+			return 0;
+		}
 	}
 	private int getFoundInDB() {
 		CacheHolder ch;
@@ -938,7 +956,10 @@
 		}
 		else {
 			RexPropDistance.search(doc);
-			if (!RexPropDistance.didMatch()) return 0;
+			if (!RexPropDistance.didMatch()) {
+				pref.log("check distRex in spider.def\n"+doc);
+				return 0;
+			}
 			if(MyLocale.getDigSeparator().equals(",")) return Convert.toDouble(RexPropDistance.stringMatched(1).replace('.',','));
 			return Convert.toDouble(RexPropDistance.stringMatched(1));
 		}
@@ -950,7 +971,10 @@
 	 */
 	private String getWP(String doc) throws Exception {
 		RexPropWaypoint.search(doc);
-		if (!RexPropWaypoint.didMatch()) return "???";
+		if (!RexPropWaypoint.didMatch()) {
+			pref.log("check waypointRex in spider.def\n"+doc);
+			return "???";
+		}
 		return "GC"+RexPropWaypoint.stringMatched(1);
 	}
 
@@ -984,6 +1008,7 @@
 					return true;
 				}
 		}
+		pref.log("check TypeRex in spider.def\n"+toCheck);
 		return false;
 	}
 	/*
@@ -1000,6 +1025,7 @@
 					return true;
 				}
 		}
+		pref.log("check SizeRex in spider.def\n"+toCheck);
 		return false;
 	}
 	/*
@@ -1020,6 +1046,9 @@
 				ret=true;
 			}
 		}
+		else {
+			pref.log("check DandTRex in spider.def\n"+toCheck);
+		}
 		return ret;
 	}
 	
@@ -1030,7 +1059,10 @@
 	 */
 	private String getDirection(String doc) throws Exception {
 		RexPropDirection.search(doc);
-		if (!RexPropDirection.didMatch()) return "";
+		if (!RexPropDirection.didMatch()) {
+			pref.log("check directionRex in spider.def\n"+doc);
+			return "";
+		}
 		return RexPropDirection.stringMatched(1);
 	}
 
@@ -1062,7 +1094,9 @@
 		if(!pref.checkLog) return false;
 		// String[] CacheDesc=mString.split(cacheDescrition,'\n');
 		Time lastLogCW = new Time();
-		String slastLogCW=ch.getCacheDetails(true).CacheLogs.getLog(0).getDate();
+		Log lastLog = ch.getCacheDetails(true).CacheLogs.getLog(0);
+		if (lastLog == null) return true;
+		String slastLogCW=lastLog.getDate();
 		if (slastLogCW.equals("")) return true; // or check cacheDescGC also no log?
 		lastLogCW.parse(slastLogCW,"yyyy-MM-dd");
 
@@ -1077,7 +1111,10 @@
 		if (RexPropLogDate.didMatch()) {
 			stmp=RexPropLogDate.stringMatched(1);
 		}
-		else return false;
+		else {
+			pref.log("check logDateRex in spider.def\n"+cacheDescrition);
+			return false;
+		}
 		if (stmp.indexOf("day")>0) {
 			lastLogGC.day=java.lang.Math.max(1, lastLogGC.day-7); // simplyfied (update if not newer than last week)
 		}
@@ -1311,10 +1348,14 @@
 	private String getLatLon(String doc) throws Exception{
 		Regex inRex = new Regex(p.getProp("latLonRex"));
 		inRex.search(doc);
-		if (!inRex.didMatch()) return "???";
+		if (!inRex.didMatch()) {
+			pref.log("check latLonRex in spider.def\n"+doc);
+			return "???";
+		}
 		return inRex.stringMatched(1);
 	}
 
+	boolean shortDescRex_not_yet_found=true;
 	/**
 	 * Get the long description
 	 * @param doc A previously fetched cachepage
@@ -1322,12 +1363,24 @@
 	 */
 	private String getLongDesc(String doc) throws Exception{
 		String res = "";
-		Regex inRex = new Regex(p.getProp("shortDescRex"));
-		Regex rex2 = new Regex(p.getProp("longDescRex"));
-		inRex.search(doc);
-		rex2.search(doc);
-		res = ((inRex.stringMatched(1) == null)?"":inRex.stringMatched(1)) + "<br>";
-		res += rex2.stringMatched(1);
+		Regex shortDescRex = new Regex(p.getProp("shortDescRex"));
+		Regex longDescRex = new Regex(p.getProp("longDescRex"));
+		shortDescRex.search(doc);
+		if (!shortDescRex.didMatch()) {
+			if (shortDescRex_not_yet_found) pref.log("no shortDesc or check shortDescRex in spider.def\n"+doc);
+		}
+		else {
+			res = shortDescRex.stringMatched(1);
+			shortDescRex_not_yet_found=false;
+		}
+		res += "<br>";
+		longDescRex.search(doc);
+		if (!longDescRex.didMatch()) {
+			pref.log("check longDescRex in spider.def\n"+doc);
+		}
+		else {
+			res += longDescRex.stringMatched(1);
+		}
 		int spanEnd = res.lastIndexOf("</span>");
 		if (spanEnd >= 0) {
 			res = res.substring(0, spanEnd);
@@ -1343,8 +1396,10 @@
 	private String getLocation(String doc) throws Exception{
 		Regex inRex = new Regex(p.getProp("cacheLocationRex"));
 		inRex.search(doc);
-		if (!inRex.didMatch()) return "";
-
+		if (!inRex.didMatch()) {
+			pref.log("check cacheLocationRex in spider.def\n"+doc);
+			return "";
+		}
 		return inRex.stringMatched(1);
 	}
 
@@ -1356,7 +1411,10 @@
 	private String getName(String doc) throws Exception{
 		Regex inRex = new Regex(p.getProp("cacheNameRex"));
 		inRex.search(doc);
-		if (!inRex.didMatch()) return "???";
+		if (!inRex.didMatch()) {
+			pref.log("check cacheNameRex in spider.def\n"+doc);
+			return "???";
+		}
 		return inRex.stringMatched(1);
 	}
 
@@ -1368,7 +1426,10 @@
 	private String getOwner(String doc) throws Exception{
 		Regex inRex = new Regex(p.getProp("cacheOwnerRex"));
 		inRex.search(doc);
-		if (!inRex.didMatch()) return "???";
+		if (!inRex.didMatch()) {
+			pref.log("check cacheOwnerRex in spider.def\n"+doc);
+			return "???";
+		}
 		return inRex.stringMatched(1);
 	}
 
@@ -1380,7 +1441,10 @@
 	private String getDateHidden(String doc) throws Exception{
 		Regex inRex = new Regex(p.getProp("dateHiddenRex"));
 		inRex.search(doc);
-		if (!inRex.didMatch()) return "???";
+		if (!inRex.didMatch()) {
+			pref.log("check dateHiddenRex in spider.def\n"+doc);
+			return "???";
+		}
 		return inRex.stringMatched(1);
 	}
 
@@ -1392,7 +1456,10 @@
 	private String getHints(String doc) throws Exception{
 		Regex inRex = new Regex(p.getProp("hintsRex"));
 		inRex.search(doc);
-		if (!inRex.didMatch()) return "";
+		if (!inRex.didMatch()) {
+			pref.log("check hintsRex in spider.def\n"+doc);
+			return "";
+		}
 		return inRex.stringMatched(1);
 	}
 
@@ -1405,7 +1472,10 @@
 		Regex inRex = new Regex(p.getProp("sizeRex"));
 		inRex.search(doc);
 		if(inRex.didMatch()) return inRex.stringMatched(1);
-		else return "None";
+		else {
+			pref.log("check sizeRex in spider.def\n"+doc);
+			return "None";
+		}
 	}
 
 	/**
@@ -1417,7 +1487,10 @@
 		Regex inRex = new Regex(p.getProp("difficultyRex"));
 		inRex.search(doc);
 		if(inRex.didMatch()) return inRex.stringMatched(1);
-		else return "";
+		else {
+			pref.log("check difficultyRex in spider.def\n"+doc);
+			return "";
+		}
 	}
 
 	/**
@@ -1429,7 +1502,10 @@
 		Regex inRex = new Regex(p.getProp("terrainRex"));
 		inRex.search(doc);
 		if(inRex.didMatch()) return inRex.stringMatched(1);
-		else return "";
+		else {
+			pref.log("check terrainRex in spider.def\n"+doc);
+			return "";
+		}
 	}
 
 	/**
@@ -1440,7 +1516,10 @@
 	private byte getType(String doc){
 		RexCacheType.search(doc);
 		if(RexCacheType.didMatch()) return CacheType.gcSpider2CwType(RexCacheType.stringMatched(1));
-		else return 0;
+		else {
+			pref.log("check cacheTypeRex in spider.def\n"+doc);
+			return 0;
+		}
 	}
 
 	/**
@@ -1457,8 +1536,10 @@
 		String singleLog = "";
 		LogList reslts = new LogList();
 		RexLogBlock.search(completeWebPage);
+		if (!RexLogBlock.didMatch()) {
+			pref.log("check blockRex in spider.def\n"+completeWebPage);			
+		}
 		String LogBlock = RexLogBlock.stringMatched(1);
-		//pref.log(LogBlock);
 		exSingleLog.setSource(LogBlock);
 		singleLog = exSingleLog.findNext();
 		exIcon.setSource(singleLog);
@@ -1803,6 +1884,7 @@
 	 * @param wayPoint The name of the cache
 	 * @param is_found Found status of the cached (is inherited by the additional waypoints)
 	 */
+	boolean koords_not_yet_found = true; 
 	private void getAddWaypoints(String doc, String wayPoint, boolean is_found) throws Exception{
 		Extractor exWayBlock = new Extractor(doc,p.getProp("wayBlockExStart"),p.getProp("wayBlockExEnd"), 0, false);
 		String wayBlock = "";
@@ -1848,14 +1930,35 @@
 				}
 				hd.initStates(idx<0);
 				nameRex.search(rowBlock);
+				if (nameRex.didMatch()) {
+					hd.setCacheName(nameRex.stringMatched(1));
+				}
+				else {
+					pref.log("check nameRex in spider.def\n"+rowBlock);			
+				}
 				koordRex.search(rowBlock);
 				typeRex.search(rowBlock);
-				hd.setCacheName(nameRex.stringMatched(1));
-				if(koordRex.didMatch()) hd.setLatLon(koordRex.stringMatched(1));
-				if(typeRex.didMatch()) hd.setType(CacheType.gpxType2CwType("Waypoint|"+typeRex.stringMatched(1)));
+				if(koordRex.didMatch()) {
+					hd.setLatLon(koordRex.stringMatched(1));
+					koords_not_yet_found = false;
+				}
+				else {
+					if (koords_not_yet_found) pref.log("check koordRex in spider.def\n"+rowBlock);			
+				}
+				if(typeRex.didMatch()) {
+					hd.setType(CacheType.gpxType2CwType("Waypoint|"+typeRex.stringMatched(1)));
+				}
+				else {
+					pref.log("check typeRex in spider.def\n"+rowBlock);			
+				}
 				rowBlock = exRowBlock.findNext();
 				descRex.search(rowBlock);
-				hd.getCacheDetails(false).setLongDescription(descRex.stringMatched(1));
+				if (descRex.didMatch()) {
+					hd.getCacheDetails(false).setLongDescription(descRex.stringMatched(1));
+				}
+				else {
+					pref.log("check descRex in spider.def\n"+rowBlock);			
+				}
 				hd.setFound(is_found);
 				hd.setCacheSize(CacheSize.CW_SIZE_NOTCHOSEN);
 				hd.setHard(CacheTerrDiff.CW_DT_UNSET);



From araber95 at mail.berlios.de  Wed Jun 23 11:42:49 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 23 Jun 2010 11:42:49 +0200
Subject: [Cachewolf-svn] r2639 - trunk/src/CacheWolf
Message-ID: <201006230942.o5N9gnXf023927@sheep.berlios.de>

Author: araber95
Date: 2010-06-23 11:42:46 +0200 (Wed, 23 Jun 2010)
New Revision: 2639

Modified:
   trunk/src/CacheWolf/CacheType.java
Log:
correction of wrong locationless text: thx to greiol (http://www.geoclub.de/viewtopic.php?f=40&t=46036)

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2010-06-22 19:35:06 UTC (rev 2638)
+++ trunk/src/CacheWolf/CacheType.java	2010-06-23 09:42:46 UTC (rev 2639)
@@ -120,7 +120,7 @@
 		new CTyp((byte) 100,(byte) 100,'C',"453","453","",(byte) 101,'X',"typeMegaevent.png",new String[] {"Geocache|Mega-Event Cache","Geocache","Mega-Event Cache","Mega"},14,6,9,0x000200),
 		new CTyp((byte) 11,(byte) 11,'C',"11","11","5",(byte) -117,'W',"typeWebcam.png",new String[] {"Geocache|Webcam Cache","Geocache","Webcam Cache","Webcam"},11,7,5,0x000020),
 		new CTyp((byte) 8,(byte) 8,'C',"8","8","",(byte) -120,'U',"typeUnknown.png",new String[] {"Geocache|Unknown Cache","Geocache","Unknown Cache","Mystery"},8,8,6,0x000040),
-		new CTyp((byte) 12,(byte) 12,'C',"12","12","",(byte) -116,'O',"typeLocless.png",new String[] {"Geocache|Locationless new CTyp(Reverse) Cache","Geocache","Locationless new CTyp(Reverse) Cache","Locationless"},12,9,8,0x000080),
+		new CTyp((byte) 12,(byte) 12,'C',"12","12","",(byte) -116,'O',"typeLocless.png",new String[] {"Geocache|Locationless (Reverse) Cache","Geocache","Locationless (Reverse) Cache","Locationless"},12,9,8,0x000080),
 		new CTyp((byte) 13,(byte) 13,'C',"13","13","",(byte) -115,'X',"typeCito.png",new String[] {"Geocache|Cache In Trash Out Event","Geocache","Cache In Trash Out Event","CITO"},13,10,17,0x020000),
 		new CTyp((byte) 104,(byte) 104,'C',"137","137","",(byte) 9,'E',"typeEarth.png",new String[] {"Geocache|Earthcache","Geocache","Earthcache","Earth"},18,11,7,0x000400),
 		new CTyp((byte) 101,(byte) 101,'C',"1858","1858","",(byte) 100,'G',"typeWhereigo.png",new String[] {"Geocache|Wherigo Cache","Geocache","Wherigo Cache","Wherigo"},15,12,18,0x040000),



From araber95 at mail.berlios.de  Wed Jun 23 13:11:39 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Wed, 23 Jun 2010 13:11:39 +0200
Subject: [Cachewolf-svn] r2640 - in trunk: res_noewe/attributes
	res_noewe/languages src/CacheWolf
Message-ID: <201006231111.o5NBBdP7024228@sheep.berlios.de>

Author: araber95
Date: 2010-06-23 13:11:35 +0200 (Wed, 23 Jun 2010)
New Revision: 2640

Added:
   trunk/res_noewe/attributes/landf-no.gif
   trunk/res_noewe/attributes/landf-non.gif
   trunk/res_noewe/attributes/landf-yes.gif
Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/src/CacheWolf/Attribute.java
Log:
new LandF - attribute (quick, but dirty) . todo complete implementation

Added: trunk/res_noewe/attributes/landf-no.gif
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/attributes/landf-no.gif
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/attributes/landf-non.gif
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/attributes/landf-non.gif
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/res_noewe/attributes/landf-yes.gif
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/attributes/landf-yes.gif
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-06-23 09:42:46 UTC (rev 2639)
+++ trunk/res_noewe/languages/DE.cfg	2010-06-23 11:11:35 UTC (rev 2640)
@@ -746,6 +746,8 @@
 		2648=Recherche
 		2649=kein Link zu GC,...
 		2650=Hyperlink zu GC,...
+		2651=*?
+		2652=geh%f6rt zur "Lost and Found" Tour
 		3000=Schlie%dfen
 		4000=Geladene Caches:+
 		4001=GPX-Dateien von Opencaching enthalten keine Informationen zu Bildern, sie werden nicht heruntergeladen. Am besten Caches von Opencaching holen per Men%fc /Anwendung/Import/von Opencaching

Modified: trunk/src/CacheWolf/Attribute.java
===================================================================
--- trunk/src/CacheWolf/Attribute.java	2010-06-23 09:42:46 UTC (rev 2639)
+++ trunk/src/CacheWolf/Attribute.java	2010-06-23 11:11:35 UTC (rev 2640)
@@ -237,6 +237,7 @@
 		{"47","2596","arith_prob","56","0",""},// 96 Rechenaufgabe
 		{"60","2622","othercache","57","0",""},// 122 besondere Cacheart
 		{"48","2598","ask","58","0",""},// 98 Startbedingungen beim Owner erfragen
+		{"72","2652","landf","0","0",""},// todo GC_ID und GC_TEXT setzen
 
 	};
     public static int maxAttRef=attRef.length;	



From araber95 at mail.berlios.de  Thu Jun 24 21:08:03 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 24 Jun 2010 21:08:03 +0200
Subject: [Cachewolf-svn] r2641 - in trunk: res_noewe/attributes
	res_noewe/languages src/CacheWolf
Message-ID: <201006241908.o5OJ83ES019441@sheep.berlios.de>

Author: araber95
Date: 2010-06-24 21:07:58 +0200 (Thu, 24 Jun 2010)
New Revision: 2641

Modified:
   trunk/res_noewe/attributes/landf-no.gif
   trunk/res_noewe/attributes/landf-non.gif
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/Attribute.java
   trunk/src/CacheWolf/AttributesSelector.java
   trunk/src/CacheWolf/FilterScreen.java
Log:
extending attributes with "lost and found tour" attrib (todo filterscreen - scrollbar for AttributeSelector?)

Modified: trunk/res_noewe/attributes/landf-no.gif
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/attributes/landf-non.gif
===================================================================
(Binary files differ)

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/res_noewe/languages/DE.cfg	2010-06-24 19:07:58 UTC (rev 2641)
@@ -682,8 +682,8 @@
 		2584=Geeignet f%fcr Rollst%fchle
 		2585=nicht im Winter
 		2586=Schneesicher / im Winter
-		2587=Erste Hilfe nicht verf%fcgbar
-		2588=Erste Hilfe verf%fcgbar
+		2587=GC: Cache ok OC: keine Erste Hilfe
+		2588=GC: Cachewartung OC: Erste Hilfe
 		2589=Keine Taschenlampe notwendig
 		2590=Taschenlampe notwendig
 		2591=kein Flugger%e4t notwendig
@@ -746,7 +746,7 @@
 		2648=Recherche
 		2649=kein Link zu GC,...
 		2650=Hyperlink zu GC,...
-		2651=*?
+		2651=geh%f6rt nicht zur "Lost and Found" Tour
 		2652=geh%f6rt zur "Lost and Found" Tour
 		3000=Schlie%dfen
 		4000=Geladene Caches:+

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/res_noewe/languages/EN.cfg	2010-06-24 19:07:58 UTC (rev 2641)
@@ -682,8 +682,8 @@
 		2584=wheelchair accessible
 		2585=not available in winter
 		2586=available in winter
-		2587=No first aid there
-		2588=first aid there
+		2587=GC:cache ok OC:No first aid there
+		2588=GC:maintenance OC:first aid there
 		2589=no Flashlight required
 		2590=Flashlight required
 		2591=no aircraft required
@@ -746,6 +746,8 @@
 		2648=investigations necessary
 		2649=no link to GC,...
 		2650=hyperlink to GC,...
+		2651=no loast and found tour
+		2652=lost and found tour
 		3000=Close
 		4000=Loaded caches:+
 		4001=GPX files from opencaching don't contain information of images, they cannot be loaded. Best you get caches from opencaching by menu /Application/Import/Download from Opencaching

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/res_noewe/languages/FR.cfg	2010-06-24 19:07:58 UTC (rev 2641)
@@ -682,8 +682,8 @@
 		2584=Appropri%e9 pour chaises roulantes
 		2585=Pas disponible en hiver
 		2586=Disponible en hiver
-		2587=Entretien de la cache pas n%e9cessaire
-		2588=Entretien de la cache n%e9cessaire
+		2587=GC:Entretien de la cache pas n%e9cessaire OC:No first aid there
+		2588=GC:Entretien de la cache n%e9cessaire OC:first aid there
 2589 = pas de lampe de poche n%e9cessaire
 2590 = Lampe de poche n%e9cessaire
 2591 = pas d'avions n%e9cessaire
@@ -746,6 +746,8 @@
 2648 = enqu%eates n%e9cessaires
 2649 = pas de lien avec GC, ...
 2650 = hyperlink %e0 GC, ...
+		2651=no loast and found tour
+		2652=lost and found tour
 		3000=Fermer
 		4000=Caches charg%e9es:
 		4001=GPX fichiers %e0 partir Opencaching ne contiennent pas d'informations d'images, ils ne peuvent pas %eatre charg%e9. Pour le meilleur vous obtenez des caches de Opencaching par le menu /Application/importation/Download from Opencaching

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/res_noewe/languages/NL.cfg	2010-06-24 19:07:58 UTC (rev 2641)
@@ -682,8 +682,8 @@
 		2584=Rolstoel vriendelijk
 		2585=Niet beschikbaar in de winter
 		2586=In de winter beschikbaar
-		2587=Geen onderhoud nodig
-		2588=Onderhoud noodzakelijk
+		2587=GC:Geen onderhoud nodig OC:No first aid there
+		2588=GC:Onderhoud noodzakelijk OC:first aid there
 2589 = geen zaklamp nodig
 2590 = zaklamp nodig
 2591 = geen vliegtuigen nodig
@@ -746,6 +746,8 @@
 2648 = onderzoeken nodig
 2649 = geen link naar GC, ...
 2650 = hyperlink naar GC, ...
+		2651=no loast and found tour
+		2652=lost and found tour
 		3000=Sluiten
 		4000=Geladen caches
 		4001=GPX bestanden uit opencaching bevatten geen informatie van beelden, kunnen zij niet worden downloaden. Beste je caches van opencaching menu /Application/Import/Download from Opencaching

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/res_noewe/languages/PL.cfg	2010-06-24 19:07:58 UTC (rev 2641)
@@ -682,8 +682,8 @@
                 2584=dostepna z wozkiem inwalidzkim
                 2585=niedostepna zima
                 2586=dostepna zima
-                2587=Nie trzeba serwisu
-                2588=Potrzeba serwisu
+		2587=GC:Nie trzeba serwisu OC:No first aid there
+		2588=GC:Potrzeba serwisu OC:first aid there
 2589 = nie wymaga Latarka
 2590 = Latarka wymagane
 2591 = nie wymaga samolotu
@@ -746,6 +746,8 @@
 2648 = koniecznych badan
 2649 = no link do GC, ...
 2650 = hiperlacze do GC, ...
+		2651=no loast and found tour
+		2652=lost and found tour
                 3000=Zamknij
                 4000=Wczytaj skrzynki:+
                 4001=Pliki GPX z opencaching nie zawieraja informacji o obrazach, nie moga byc one wczytane. Najlepiej pobierz skrzynki z opencaching przez menu /Aplikacja/Importuj/Sciagnij Z Opencaching

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/res_noewe/languages/SV.cfg	2010-06-24 19:07:58 UTC (rev 2641)
@@ -682,8 +682,8 @@
         	2584=Handikappanpassad
         	2585=ej tillg%e4nglig p%e5 vintern
         	2586=tillg%e4nglig i vinter
-        	2587=Inget underh%e5ll beh%f6vs
-        	2588=underh%e5llsbehov
+		2587=GC:Inget underh%e5ll beh%f6vs OC:No first aid there
+		2588=GC:underh%e5llsbehov OC:first aid there
 2589 = ingen ficklampa kr%e4vs
 2590 = Ficklampa som kr%e4vs
 2591 = no flygplan kr%e4vs
@@ -746,6 +746,8 @@
 2648 = utredningar som kr%e4vs
 2649 = ingen koppling till GC, ...
 2650 = hyperl%e4nk till GC, ...
+		2651=no loast and found tour
+		2652=lost and found tour
         	3000=St%e4ng
         	4000=Loaded cachar:+
         	4001=GPX filer fr%e5n opencaching inte inneh%e5ller n%e5gon information av bilder, kan de inte laoded. B%e4st du cachar fr%e5n opencaching genom menyn / Application / Import / Download fr%e5n Opencaching
@@ -1049,4 +1051,3 @@
 		{..}
 	{..}
 {..}
-

Modified: trunk/src/CacheWolf/Attribute.java
===================================================================
--- trunk/src/CacheWolf/Attribute.java	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/src/CacheWolf/Attribute.java	2010-06-24 19:07:58 UTC (rev 2641)
@@ -165,7 +165,7 @@
 		{"29","2560","restrooms","21","28","Public restrooms nearby"},//60 restrooms available
 		{"23","2548","phone","22","29","Telephone nearby"},//48 telephone nearby
 		{"24","2550","picnic","0","30","Picnic tables nearby"},//50 picnic tables available
-		{"43","2588","firstaid","23","42","Firstaid"}, //88 erste Hilfe !!! da 
+		{"43","2588","firstaid","23","42","Firstaid"}, // GC: Cachewartung notwendig (Auto Attribut) , OC: erste Hilfe 
 		// Erlaubt - Permissions (Allowed/Not Allowed)
 		{"11","2524","dogs","0","1","Dogs"},//24 dogs allowed
 		{"05","2512","camping","0","31","Camping available"},//12 Camping allowed
@@ -237,7 +237,9 @@
 		{"47","2596","arith_prob","56","0",""},// 96 Rechenaufgabe
 		{"60","2622","othercache","57","0",""},// 122 besondere Cacheart
 		{"48","2598","ask","58","0",""},// 98 Startbedingungen beim Owner erfragen
-		{"72","2652","landf","0","0",""},// todo GC_ID und GC_TEXT setzen
+		// !!! todo correct Filter Implementation
+		{"72","2652","landf","45","0","Lost And Found Tour"}, // thx to Kappler and MiK
+		// {"-1","2500","error","0","0",""}, //
 
 	};
     public static int maxAttRef=attRef.length;	
@@ -257,6 +259,9 @@
 	}
 	*/
     private static String getMsg(int cw_Id, int cw_Inc){
+    	if (cw_Id<0 || cw_Id>=maxAttRef) {
+    		return MyLocale.getMsg(2500,"error attribute");
+    	}
 		if (cw_Inc==0)
 			return MyLocale.getMsg(Integer.parseInt(attRef[cw_Id][MSG_NR])-1,"");
 		else

Modified: trunk/src/CacheWolf/AttributesSelector.java
===================================================================
--- trunk/src/CacheWolf/AttributesSelector.java	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/src/CacheWolf/AttributesSelector.java	2010-06-24 19:07:58 UTC (rev 2641)
@@ -21,7 +21,6 @@
 
 	public AttributesSelector() {
 		if (MyLocale.getScreenWidth() > 240) { TILESIZE=22; PREF_HEIGHT=180; PREF_WIDTH=205;}
-		//Rect r = new Rect(0,0,TILESIZE * ICONS_PER_ROW,TILESIZE * ICONROWS); // As on GC: 6 wide, 2 high
 		iap.virtualSize =  new Rect(0,0,200,200);
 		iap.setPreferredSize(PREF_WIDTH, PREF_HEIGHT);
 		addLast(iap,CellConstants.STRETCH,FILL);

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2010-06-23 11:11:35 UTC (rev 2640)
+++ trunk/src/CacheWolf/FilterScreen.java	2010-06-24 19:07:58 UTC (rev 2641)
@@ -267,10 +267,7 @@
 		if (MyLocale.getScreenHeight()>240) addTitle(pnlCacheAttributes,MyLocale.getMsg(737,"Attributes"));
 		pnlCacheAttributes.addNext(new mLabel(MyLocale.getMsg(739,"Filter on")+":"), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		pnlCacheAttributes.addLast(chcAttrib = new mChoice(new String[]{MyLocale.getMsg(740,"all"), MyLocale.getMsg(741,"one"), MyLocale.getMsg(742,"none")},0),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-
-		attV=new AttributesSelector();
-		pnlCacheAttributes.addLast(attV, CellConstants.STRETCH|CellConstants.LEFT/*|CellConstants.BORDER*/, CellConstants.STRETCH);
-
+		pnlCacheAttributes.addLast(attV=new AttributesSelector(), CellConstants.STRETCH|CellConstants.LEFT/*|CellConstants.BORDER*/, CellConstants.STRETCH);
 		long[] ini = {0l,0l,0l,0l};
 		attV.setSelectionMasks(ini);
 		



From araber95 at mail.berlios.de  Thu Jun 24 21:12:15 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 24 Jun 2010 21:12:15 +0200
Subject: [Cachewolf-svn] r2642 - in trunk: res_noewe/templates src/CacheWolf
Message-ID: <201006241912.o5OJCFRN019631@sheep.berlios.de>

Author: araber95
Date: 2010-06-24 21:12:14 +0200 (Thu, 24 Jun 2010)
New Revision: 2642

Modified:
   trunk/res_noewe/templates/Short documentation for the export via templates.htm
   trunk/res_noewe/templates/pq.tpl
   trunk/src/CacheWolf/CacheHolder.java
Log:
template : 1. OWNER as cleanGPX 2. adding GCINFO see doc 3. changing pq.tpl to work like NG - GPX export

Modified: trunk/res_noewe/templates/Short documentation for the export via templates.htm
===================================================================
--- trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-24 19:07:58 UTC (rev 2641)
+++ trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-24 19:12:14 UTC (rev 2642)
@@ -385,10 +385,13 @@
 GCTemplate.html / show cache in browser offline<br>
 PATHANDIMAGE<span style='mso-tab-count:7'>??????????????????????????????????????????????????????????????????????????????? </span>:
 path an <span class=SpellE>imagename</span> of the attribute<br>
-IMAGE<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+IMAGE<span style='mso-tab-count:2'>???????????? </span><span style='mso-tab-count:
+7'>????????????????????????????????????????????????????????????????????????????????? </span>:
 <span class=SpellE>imagename</span> of the attribute<br>
 INFO<span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 description of the attribute from language <span class=SpellE>config</span><br>
+GCINFO<span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+description of the attribute as from gc.com<br>
 BR<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 contains &lt;<span class=SpellE>br</span>/&gt; every 5<sup>th</sup> attribute
 else empty (can be used with &lt;<span class=SpellE>tmp_if</span>&gt;<span
@@ -550,8 +553,8 @@
 values for conditions are Strings in java, and not <span class=SpellE><span
 class=GramE>boolean</span></span> values, hence, what evaluates to true and</span><span
 lang=EN-GB style='mso-ansi-language:EN-GB'> </span><span lang=EN-GB
-style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>false needs
-to be specifically defined.<br>
+style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>false needs to
+be specifically defined.<br>
 As of now, the following values evaluate to false:<br>
 &quot;&quot; - the empty string<br>
 &quot;0&quot; - the string containing only the number zero<br>
@@ -601,8 +604,8 @@
 
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>The
-&lt;<span class=SpellE>tmpl_loop</span>&gt; tag is a bit more complicated than
-the other tags. It allows you to create a section of text that</span><span
+&lt;<span class=SpellE>tmpl_loop</span>&gt; tag is a bit more complicated than the
+other tags. It allows you to create a section of text that</span><span
 lang=EN-GB style='mso-ansi-language:EN-GB'> </span><span lang=EN-GB
 style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>will be
 displayed repeatedly for every item in the loop control variable. Inside the
@@ -610,8 +613,8 @@
 style='mso-spacerun:yes'>? </span>you</span></span><span lang=EN-GB
 style='mso-ansi-language:EN-GB'> </span><span lang=EN-GB style='font-size:10.0pt;
 font-family:Arial;mso-ansi-language:EN-GB'>place &lt;<span class=SpellE>tmpl_var</span>&gt;s.<b
-style='mso-bidi-font-weight:normal'> The only loop used by the template exporter
-is '<span class=SpellE>cache_index</span>', see example above. </b></span><span
+style='mso-bidi-font-weight:normal'> The only loop used by the template
+exporter is '<span class=SpellE>cache_index</span>', see example above. </b></span><span
 lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
@@ -649,8 +652,8 @@
 if both __FIRST__ and __LAST__ are false<br>
 __COUNTER__<span style='mso-tab-count:1'> </span></span><span lang=EN-GB
 style='mso-ansi-language:EN-GB'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB
-style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>Which iteration
-is currently on. Starts at 1<br style='mso-special-character:line-break'>
+style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>Which
+iteration is currently on. Starts at 1<br style='mso-special-character:line-break'>
 <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
 <![endif]></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 

Modified: trunk/res_noewe/templates/pq.tpl
===================================================================
--- trunk/res_noewe/templates/pq.tpl	2010-06-24 19:07:58 UTC (rev 2641)
+++ trunk/res_noewe/templates/pq.tpl	2010-06-24 19:12:14 UTC (rev 2642)
@@ -28,7 +28,7 @@
       <groundspeak:container><tmpl_var SIZE></groundspeak:container><br>
       <groundspeak:attributes><br>
         <tmpl_loop ATTRIBUTES>
-        <groundspeak:attribute id="<tmpl_var GCID>" inc="<tmpl_var INC>"><tmpl_var INFO></groundspeak:attribute><br>
+        <groundspeak:attribute id="<tmpl_var GCID>" inc="<tmpl_var INC>"><tmpl_var GCINFO></groundspeak:attribute><br>
         </tmpl_loop>
        </groundspeak:attributes><br>
       <groundspeak:difficulty><tmpl_var DIFFICULTY></groundspeak:difficulty><br>
@@ -43,7 +43,8 @@
           <groundspeak:date><tmpl_var NOW_DATE>T19:00:00Z</groundspeak:date><br>
           <groundspeak:type>Write note</groundspeak:type><br>
           <groundspeak:finder id="0">CacheWolf</groundspeak:finder><br>
-          <groundspeak:text encoded="False"><tmpl_loop ATTRIBUTES>&lt;br /&gt;<tmpl_var INC2TXT>&amp;nbsp;<tmpl_var INFO>&lt;br /&gt;</tmpl_loop></groundspeak:text><br>
+          <groundspeak:text encoded="False"><tmpl_loop ATTRIBUTES><tmpl_var INC2TXT>&amp;nbsp;<tmpl_var INFO>&lt;br /&gt;<br>
+          </tmpl_loop></groundspeak:text><br>
         </groundspeak:log><br>
       <tmpl_loop LOGS>  <groundspeak:log id="<tmpl_var WAYPOINT><tmpl_var __COUNTER__>"><br>
           <groundspeak:date><tmpl_var DATE>T19:00:00Z</groundspeak:date><br>

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-24 19:07:58 UTC (rev 2641)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-24 19:12:14 UTC (rev 2642)
@@ -601,7 +601,7 @@
 		int wpl = wayPoint.length();
 		int wps = (wpl < shortWaypointLength) ? 0 : wpl - shortWaypointLength;
 		varParams.put("SHORTWAYPOINT", wayPoint.substring(wps, wpl));
-		varParams.put("OWNER", cacheOwner);
+		varParams.put("OWNER", SafeXML.cleanGPX(cacheOwner));
 		varParams.put("DIFFICULTY", (isAddiWpt() || isCustomWpt() || hard < 0)?"":decSep.replaceAll(CacheTerrDiff.longDT(hard)));
 		String sHard = Integer.toString(hard);
 		varParams.put("SHORTDIFFICULTY", (isAddiWpt() || isCustomWpt() || hard < 0)?"":sHard);
@@ -700,6 +700,7 @@
 					else
 						atts.put("BR","");
 					atts.put("INFO",det.attributes.getAttribute(i).getMsg());
+					atts.put("GCINFO",det.attributes.getAttribute(i).getGCText());
 					attVect.add(atts);
 				}
 				varParams.put("ATTRIBUTES",attVect);



From araber95 at mail.berlios.de  Thu Jun 24 21:27:43 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 24 Jun 2010 21:27:43 +0200
Subject: [Cachewolf-svn] r2643 - in trunk/res_noewe: . attributes
	exporticons/exporticons
Message-ID: <201006241927.o5OJRhQJ021469@sheep.berlios.de>

Author: araber95
Date: 2010-06-24 21:27:41 +0200 (Thu, 24 Jun 2010)
New Revision: 2643

Added:
   trunk/res_noewe/exporticons/exporticons/Garmin User Symbols.zip
Removed:
   trunk/res_noewe/Garmin User Symbols.zip
Modified:
   trunk/res_noewe/attributes/
Log:
"Garmin User Symbols.zip" moved to exporticons (its is not directly accessed as far as see)

Deleted: trunk/res_noewe/Garmin User Symbols.zip
===================================================================
(Binary files differ)


Property changes on: trunk/res_noewe/attributes
___________________________________________________________________
Name: svn:ignore
   + Thumbs.db


Copied: trunk/res_noewe/exporticons/exporticons/Garmin User Symbols.zip (from rev 2642, trunk/res_noewe/Garmin User Symbols.zip)



From araber95 at mail.berlios.de  Fri Jun 25 00:18:43 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 25 Jun 2010 00:18:43 +0200
Subject: [Cachewolf-svn] r2644 - trunk/src/CacheWolf
Message-ID: <201006242218.o5OMIhZH030586@sheep.berlios.de>

Author: araber95
Date: 2010-06-25 00:18:41 +0200 (Fri, 25 Jun 2010)
New Revision: 2644

Modified:
   trunk/src/CacheWolf/Profile.java
Log:
possibility of aborting conversion to new CW format (https://developer.berlios.de/bugs/?func=detailbug&bug_id=17262&group_id=2211)

Modified: trunk/src/CacheWolf/Profile.java
===================================================================
--- trunk/src/CacheWolf/Profile.java	2010-06-24 19:27:41 UTC (rev 2643)
+++ trunk/src/CacheWolf/Profile.java	2010-06-24 22:18:41 UTC (rev 2644)
@@ -277,7 +277,10 @@
 					if (indexXmlVersion < CURRENTFILEFORMAT && !convertWarningDisplayed) {
 						if (indexXmlVersion < CURRENTFILEFORMAT) {
 							convertWarningDisplayed = true;
-							new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4407, "The profile files are not in the current format.%0aTherefore they are now converted to the current format. Depending of the size of the profile and the computer involved this may take some minutes. Please bear with us until the conversion is done."), FormBase.OKB).execute();
+							int res=new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4407, "The profile files are not in the current format.%0aTherefore they are now converted to the current format. Depending of the size of the profile and the computer involved this may take some minutes. Please bear with us until the conversion is done."), FormBase.YESB|FormBase.NOB).execute();
+							if (res == MessageBox.NOB) {
+								ewe.sys.Vm.exit(0);
+							}
 						}
 					}
 					if (infoBox!=null) {



From admin at berlios.de  Fri Jun 25 00:21:05 2010
From: admin at berlios.de (admin at berlios.de)
Date: Fri, 25 Jun 2010 00:21:05 +0200 (CEST)
Subject: [Bug #17262] Mglichkeit Cachewolf 1.1 zu beenden, wenn Konvertierung
Message-ID: <201006242221.o5OML5lS007872@unicorn.berlios.de>

Bug #17262, was updated on 2010-Jun-14 19:16
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Closed
Resolution: Fixed
Bug Group: Feature Request
Priority: 1
Submitted by: pfeffer
Assigned to : pfeffer
Summary: M?glichkeit Cachewolf 1.1 zu beenden, wenn Konvertierung 

Details: Wenn man Cachewolf 1.1 startet, warnt es vor der Konvertierung der Datenbank. Aber (zumindest in meiner Erinnerung) wird keine M?glichkeit angeboten, den Start von Cachewolf deswegen abzubrechen. Das sollte aber auf jeden Fall m?glich sein.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17262&group_id=2211


From admin at berlios.de  Fri Jun 25 00:32:11 2010
From: admin at berlios.de (admin at berlios.de)
Date: Fri, 25 Jun 2010 00:32:11 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #16696] Cachewolf dies with MemoryException
	for large gc.com spiders
Message-ID: <201006242232.o5OMWBwj018252@unicorn.berlios.de>

Bug #16696, was updated on 2010-Jan-22 19:42
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Open
Resolution: Later
Bug Group: Bug reproduceable
Priority: 5
Submitted by: rohieb
Assigned to : none
Summary: Cachewolf dies with MemoryException for large gc.com spiders

Details: When I try to spider a large amount of cache descriptions (in my case more than ~150), a java.lang.OutOfMemoryError: Java heap space exception is thrown and the spider stops without aborting or displaying an error message. 
This is reproducable on Windows and Linux using Sun Java 1.6.0 update 16. The problem is resolved by raising the Java heap space limit to 256 MB (java -Xmx256M on the command line).

It would be nice if this command line option could be added in the CacheWolf.bat f?r Windows, as well as providing a wrapper script for Linux that calls Java with this command line. Futhermore, it is reasonable to close the spider dialog and display an error message in this case, as it is only visible on the command line that an exception has been thrown.


Follow-Ups:

Date: 2010-Jun-25 00:32
By: araber95

Comment:
irgendwann wird jede heapgr?sse ?berschritten.
(Leider ist das ein bug der vm. bei jedem open(xml) wird neuer Platz verbraten und alter nicht freigegeben.

Siehe auch Index neu aufbauen!

Die scripts zur Erh?hung der Heapsize existieren (aber l?sen das Problem nicht grunds?tzlich)
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=16696&group_id=2211


From admin at berlios.de  Fri Jun 25 00:37:13 2010
From: admin at berlios.de (admin at berlios.de)
Date: Fri, 25 Jun 2010 00:37:13 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #15178] Bad profil craches map start
Message-ID: <201006242237.o5OMbDsf023134@unicorn.berlios.de>

Bug #15178, was updated on 2009-Feb-01 12:07
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Map
Status: Closed
Resolution: None
Bug Group: Bug confirmed
Priority: 5
Submitted by: pfeffer
Assigned to : none
Summary: Bad profil craches map start

Details: see http://www.geoclub.de/viewtopic.php?f=40&t=30629

Follow-Ups:

Date: 2010-Jun-25 00:37
By: araber95

Comment:
na , das gab es ja schon lange nicht mehr. und Einfrieren bei nicht gefundener Karte -- das muss Schnee von gestern sein.
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15178&group_id=2211


From admin at berlios.de  Fri Jun 25 00:39:22 2010
From: admin at berlios.de (admin at berlios.de)
Date: Fri, 25 Jun 2010 00:39:22 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #16194] invalid Character Entitiy bei
	korruptem zip file
Message-ID: <201006242239.o5OMdMLq025103@unicorn.berlios.de>

Bug #16194, was updated on 2009-Aug-29 13:11
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Closed
Resolution: None
Bug Group: None
Priority: 5
Submitted by: greiol
Assigned to : none
Summary: invalid Character Entitiy bei korruptem zip file

Details: Fehler:
invalid Character Entitiy
	at ewesoft.xml.MinML.fatalError(MinML.java:595)
	at ewesoft.xml.MinML.parse(MinML.java:429)
	at CacheWolf.imp.GPXImporter.doIt(GPXImporter.java:148)
	at CacheWolf.MainMenu.onEvent(MainMenu.java:361)
	at ewe.ui.Control.postEvent(Control.java:1380)
	at ewe.ui.MenuState.onEvent(MenuState.java:156)
	at ewe.ui.Control.sendToListeners(Control.java:1356)
	at ewe.ui.Control.postEvent(Control.java:1373)
	at ewe.ui.Menu.postEvent(Menu.java:453)
	at ewe.ui.Menu.onEvent(Menu.java:488)
	at ewe.ui.Control.sendToListeners(Control.java:1356)
	at ewe.ui.Control.postEvent(Control.java:1373)
	at ewe.ui.Menu.postEvent(Menu.java:453)
	at ewe.ui.Control.notifyAction(Control.java:1795)
	at ewe.ui.Menu.penReleased(Menu.java:228)
	at ewe.ui.Control.penClicked(Control.java:2376)
	at ewe.ui.Control.onPenEvent(Control.java:2144)
	at ewe.ui.Menu.onPenEvent(Menu.java:212)
	at ewe.ui.Control.onEvent(Control.java:1439)
	at ewe.ui.Menu.onEvent(Menu.java:508)
	at ewe.ui.Control.postEvent(Control.java:1375)
	at ewe.ui.Menu.postEvent(Menu.java:453)
	at ewe.ui.Window.doPostEvent(Window.java:1200)
	at ewe.ui.Window$windowThread.run(Window.java:858)
	at ewe.sys.mThread.run(mThread.java:250)
	at ewe.sys.Coroutine.run(Coroutine.java:145)

Auswirkung:
CacheWolf "bleibt stehen"

Reprodukzierbarkeit:
Import eines korrupten zip archivs (CRC fehler)

> unzip -t 3507137.zip
Archive:  3507137.zip
    testing: 3507137-wpts.gpx         OK
    testing: 3507137.gpx              bad CRC 2a8f5512  (should be d227027e)
At least one error was detected in 3507137.zip.


Follow-Ups:

Date: 2010-Jun-25 00:39
By: araber95

Comment:
auch schon lange nicht mehr vorgekommen. Ohne Beispiel keine L?sung!
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=16194&group_id=2211


From admin at berlios.de  Fri Jun 25 00:40:21 2010
From: admin at berlios.de (admin at berlios.de)
Date: Fri, 25 Jun 2010 00:40:21 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #16696] Cachewolf dies with MemoryException
	for large gc.com spiders
Message-ID: <201006242240.o5OMeLGk026076@unicorn.berlios.de>

Bug #16696, was updated on 2010-Jan-22 19:42
Here is a current snapshot of the bug.

Project: CacheWolf
Category: None
Status: Closed
Resolution: Later
Bug Group: Bug reproduceable
Priority: 5
Submitted by: rohieb
Assigned to : none
Summary: Cachewolf dies with MemoryException for large gc.com spiders

Details: When I try to spider a large amount of cache descriptions (in my case more than ~150), a java.lang.OutOfMemoryError: Java heap space exception is thrown and the spider stops without aborting or displaying an error message. 
This is reproducable on Windows and Linux using Sun Java 1.6.0 update 16. The problem is resolved by raising the Java heap space limit to 256 MB (java -Xmx256M on the command line).

It would be nice if this command line option could be added in the CacheWolf.bat f?r Windows, as well as providing a wrapper script for Linux that calls Java with this command line. Futhermore, it is reasonable to close the spider dialog and display an error message in this case, as it is only visible on the command line that an exception has been thrown.


Follow-Ups:

Date: 2010-Jun-25 00:32
By: araber95

Comment:
irgendwann wird jede heapgr?sse ?berschritten.
(Leider ist das ein bug der vm. bei jedem open(xml) wird neuer Platz verbraten und alter nicht freigegeben.

Siehe auch Index neu aufbauen!

Die scripts zur Erh?hung der Heapsize existieren (aber l?sen das Problem nicht grunds?tzlich)
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=16696&group_id=2211


From araber95 at mail.berlios.de  Fri Jun 25 15:57:45 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 25 Jun 2010 15:57:45 +0200
Subject: [Cachewolf-svn] r2645 - in trunk: res_noewe/templates src/CacheWolf
Message-ID: <201006251357.o5PDvjq4014533@sheep.berlios.de>

Author: araber95
Date: 2010-06-25 15:57:43 +0200 (Fri, 25 Jun 2010)
New Revision: 2645

Modified:
   trunk/res_noewe/templates/pq.tpl
   trunk/src/CacheWolf/CacheHolder.java
Log:
template exporter without html-tags (gpx compatible). Perhaps there should be added a tmpl_par switch html<-->gpx .

Modified: trunk/res_noewe/templates/pq.tpl
===================================================================
--- trunk/res_noewe/templates/pq.tpl	2010-06-24 22:18:41 UTC (rev 2644)
+++ trunk/res_noewe/templates/pq.tpl	2010-06-25 13:57:43 UTC (rev 2645)
@@ -46,6 +46,12 @@
           <groundspeak:text encoded="False"><tmpl_loop ATTRIBUTES><tmpl_var INC2TXT>&amp;nbsp;<tmpl_var INFO>&lt;br /&gt;<br>
           </tmpl_loop></groundspeak:text><br>
         </groundspeak:log><br>
+        <groundspeak:log id="<tmpl_var WAYPOINT>-1"><br>
+          <groundspeak:date><tmpl_var NOW_DATE>T19:00:00Z</groundspeak:date><br>
+          <groundspeak:type>Write note</groundspeak:type><br>
+          <groundspeak:finder id="1">TBs</groundspeak:finder><br>
+          <groundspeak:text encoded="False"><tmpl_var BUGS><br>
+        </groundspeak:log><br>
       <tmpl_loop LOGS>  <groundspeak:log id="<tmpl_var WAYPOINT><tmpl_var __COUNTER__>"><br>
           <groundspeak:date><tmpl_var DATE>T19:00:00Z</groundspeak:date><br>
           <groundspeak:type><tmpl_var LOGTYPE></groundspeak:type><br>

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-24 22:18:41 UTC (rev 2644)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-25 13:57:43 UTC (rev 2645)
@@ -596,12 +596,12 @@
 		}
 		if (isCustomWpt()) {
 
-		}
+		}		
 		varParams.put("WAYPOINT", wayPoint); //<name>
 		int wpl = wayPoint.length();
 		int wps = (wpl < shortWaypointLength) ? 0 : wpl - shortWaypointLength;
 		varParams.put("SHORTWAYPOINT", wayPoint.substring(wps, wpl));
-		varParams.put("OWNER", SafeXML.cleanGPX(cacheOwner));
+		varParams.put("OWNER", (ModTyp == 0) ? SafeXML.cleanGPX(cacheOwner) : cacheOwner);
 		varParams.put("DIFFICULTY", (isAddiWpt() || isCustomWpt() || hard < 0)?"":decSep.replaceAll(CacheTerrDiff.longDT(hard)));
 		String sHard = Integer.toString(hard);
 		varParams.put("SHORTDIFFICULTY", (isAddiWpt() || isCustomWpt() || hard < 0)?"":sHard);
@@ -668,20 +668,21 @@
 				else {
 					varParams.put("NOTES",STRreplace.replace(badChars.replaceAll(det.getCacheNotes()), "\n", "<br>"));
 				}
-				varParams.put("HINTS",badChars.replaceAll(det.Hints));
-				varParams.put("DECRYPTEDHINTS",badChars.replaceAll(Common.rot13(det.Hints)));
+				varParams.put("HINTS",(ModTyp == 0) ? SafeXML.cleanGPX(badChars.replaceAll(det.Hints)) : badChars.replaceAll(det.Hints));
+				varParams.put("DECRYPTEDHINTS",(ModTyp == 0) ? SafeXML.cleanGPX(badChars.replaceAll(Common.rot13(det.Hints))) : badChars.replaceAll(Common.rot13(det.Hints)));
 			} else {
 				if (ModTyp == 0){
-					varParams.put("NOTES", det.getCacheNotes());
+					varParams.put("NOTES", SafeXML.cleanGPX(det.getCacheNotes()));
 				}
 				else {
 					varParams.put("NOTES", STRreplace.replace(det.getCacheNotes(), "\n", "<br>"));
 				}
-				varParams.put("HINTS", det.Hints);
-				varParams.put("DECRYPTEDHINTS", Common.rot13(det.Hints));
+				varParams.put("HINTS",(ModTyp == 0) ? SafeXML.cleanGPX(det.Hints) : det.Hints);
+				varParams.put("DECRYPTEDHINTS",(ModTyp == 0) ? SafeXML.cleanGPX(Common.rot13(det.Hints)) : Common.rot13(det.Hints));
 			}
-			if (det.Travelbugs.size()>0) varParams.put("BUGS",det.Travelbugs.toHtml());
-			if (det.getSolver()!=null && det.getSolver().trim().length()>0) varParams.put("SOLVER", STRreplace.replace(det.getSolver(),"\n","<br/>\n"));
+			if (det.Travelbugs.size()>0) varParams.put("BUGS",(ModTyp == 0) ? SafeXML.cleanGPX(det.Travelbugs.toHtml()) : det.Travelbugs.toHtml());
+			if (det.getSolver()!=null && det.getSolver().trim().length()>0) 
+				varParams.put("SOLVER", STRreplace.replace(det.getSolver(),"\n","<br/>\n"));
 			varParams.put("COUNTRY", det.Country);
 			varParams.put("STATE", det.State);
 			
@@ -722,8 +723,9 @@
 					logs.put("ICON",det.CacheLogs.getLog(i).getIcon());
 					logs.put("LOGTYPE",image2TypeText(det.CacheLogs.getLog(i).getIcon()));
 					logs.put("DATE", det.CacheLogs.getLog(i).getDate());
-					logs.put("LOGGER", SafeXML.cleanGPX(det.CacheLogs.getLog(i).getLogger()));
-					logs.put("MESSAGE", SafeXML.cleanGPX(STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),"http://www.geocaching.com/images/icons/",null)));
+					logs.put("LOGGER", (ModTyp == 0) ? SafeXML.cleanGPX(det.CacheLogs.getLog(i).getLogger()) : det.CacheLogs.getLog(i).getLogger());
+					String stmp = STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),"http://www.geocaching.com/images/icons/",null);
+					logs.put("MESSAGE", (ModTyp == 0) ? SafeXML.cleanGPX(stmp) : stmp);
 				}
 				logVect.add(logs);
 			}



From araber95 at mail.berlios.de  Fri Jun 25 22:46:20 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 25 Jun 2010 22:46:20 +0200
Subject: [Cachewolf-svn] r2646 - trunk/src/CacheWolf
Message-ID: <201006252046.o5PKkK5o004524@sheep.berlios.de>

Author: araber95
Date: 2010-06-25 22:46:18 +0200 (Fri, 25 Jun 2010)
New Revision: 2646

Modified:
   trunk/src/CacheWolf/Attributes.java
Log:
gpx-import of attributes no longer doubles them.

Modified: trunk/src/CacheWolf/Attributes.java
===================================================================
--- trunk/src/CacheWolf/Attributes.java	2010-06-25 13:57:43 UTC (rev 2645)
+++ trunk/src/CacheWolf/Attributes.java	2010-06-25 20:46:18 UTC (rev 2646)
@@ -80,7 +80,21 @@
 	public void add(int attIdGC, String Yes1No0) {
 		if (_count<attribs.length) {
 			Attribute attr = new Attribute(attIdGC, Yes1No0);
-			attribs[_count++] = attr;
+			boolean doAdd = true;
+			int replace=0;
+			for (int i = 0; i < _count; i++) {
+				if (attribs[i].getImageName().equals(attr.getImageName())){
+					doAdd=false;
+					replace=i;
+				}
+			}
+			if (doAdd) {
+				attribs[_count++] = attr;
+			}
+			else {
+				// free old attr ?
+				attribs[replace]=attr;
+			}
 			attrYes=attr.getYesBit(attrYes);
 			attrNo=attr.getNoBit(attrNo);			
 		}



From araber95 at mail.berlios.de  Fri Jun 25 22:53:01 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 25 Jun 2010 22:53:01 +0200
Subject: [Cachewolf-svn] r2647 - trunk/src/CacheWolf
Message-ID: <201006252053.o5PKr1TY005212@sheep.berlios.de>

Author: araber95
Date: 2010-06-25 22:53:00 +0200 (Fri, 25 Jun 2010)
New Revision: 2647

Modified:
   trunk/src/CacheWolf/Attributes.java
Log:
compare of attribs corrected

Modified: trunk/src/CacheWolf/Attributes.java
===================================================================
--- trunk/src/CacheWolf/Attributes.java	2010-06-25 20:46:18 UTC (rev 2646)
+++ trunk/src/CacheWolf/Attributes.java	2010-06-25 20:53:00 UTC (rev 2647)
@@ -83,7 +83,7 @@
 			boolean doAdd = true;
 			int replace=0;
 			for (int i = 0; i < _count; i++) {
-				if (attribs[i].getImageName().equals(attr.getImageName())){
+				if (attribs[i].getGCId() == attr.getGCId()){
 					doAdd=false;
 					replace=i;
 				}



From admin at berlios.de  Sat Jun 26 00:10:08 2010
From: admin at berlios.de (admin at berlios.de)
Date: Sat, 26 Jun 2010 00:10:08 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17292] neuer Wegpunkt in leerem Profil wird
	Addi
Message-ID: <201006252210.o5PMA8fU025882@unicorn.berlios.de>

Bug #17292, was updated on 2010-Jun-26 00:10
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Open
Resolution: None
Bug Group: Bug unconfirmed
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: neuer Wegpunkt in leerem Profil wird Addi

Details: in einem neuen (leeren) Profil wird ein neu angelegter Wegpunkt ein Addi (mit rotem Dreieck), muss aber nat?lich ein Hauptwegpunkt sein.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17292&group_id=2211


From admin at berlios.de  Sat Jun 26 00:11:36 2010
From: admin at berlios.de (admin at berlios.de)
Date: Sat, 26 Jun 2010 00:11:36 +0200 (CEST)
Subject: [Bug #17293] Kartendownload: Kachelgrenvorgabe ist 0 bei "pro Cache"
Message-ID: <201006252211.o5PMBaXm027117@unicorn.berlios.de>

Bug #17293, was updated on 2010-Jun-26 00:11
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Map
Status: Open
Resolution: None
Bug Group: Bug unconfirmed
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: Kartendownload: Kachelgr??envorgabe ist 0 bei "pro Cache"

Details: Kartendownload: Kachelgr??envorgabe ist 0 bei "pro Cache", was natr?lich einen Fehler verursacht. Vorgabe sollte entweder 500x500 oder 1000x1000 sein.

Gru?,
   Pfeffer

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17293&group_id=2211


From admin at berlios.de  Sat Jun 26 14:30:42 2010
From: admin at berlios.de (admin at berlios.de)
Date: Sat, 26 Jun 2010 14:30:42 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #17292] neuer Wegpunkt in leerem Profil wird
	Addi
Message-ID: <201006261230.o5QCUgN6015770@unicorn.berlios.de>

Bug #17292, was updated on 2010-Jun-26 00:10
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Open
Resolution: None
Bug Group: Bug unconfirmed
Priority: 1
Submitted by: pfeffer
Assigned to : none
Summary: neuer Wegpunkt in leerem Profil wird Addi

Details: in einem neuen (leeren) Profil wird ein neu angelegter Wegpunkt ein Addi (mit rotem Dreieck), muss aber nat?lich ein Hauptwegpunkt sein.

Follow-Ups:

Date: 2010-Jun-26 14:30
By: araber95

Comment:
kann ich nicht best?tigen! Bitte  genaue Vorgehensweise beschreiben!
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=17292&group_id=2211


From admin at berlios.de  Sat Jun 26 14:32:37 2010
From: admin at berlios.de (admin at berlios.de)
Date: Sat, 26 Jun 2010 14:32:37 +0200 (CEST)
Subject: [Bug #15427] Speichermglichkeit fr Filter und Zentrumspunkte
Message-ID: <201006261232.o5QCWbtG020838@unicorn.berlios.de>

Bug #15427, was updated on 2009-Mar-23 15:21
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Open
Resolution: Later
Bug Group: Feature Request
Priority: 5
Submitted by: toje
Assigned to : none
Summary: Speicherm?glichkeit f?r Filter und Zentrumspunkte

Details: Es w?re nett, wenn es eine Speicherm?glichkeit f?r Filter (idealerweise auf Wunsch gemeinsam mit dem jeweils eingestellten Zentrumspunkt) g?be. Ich habe mehrere unterschiedliche "Cachestandorte" (Wohnung, Arbeitsstelle, Wochenendaufenthalt) mit unterschiedlichen Pr?ferenzen, was Cachemerkmale angeht, und es ist etwas l?stig, jeweils den Filter komplett per Hand ?ndern zu m?ssen.

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15427&group_id=2211


From admin at berlios.de  Sat Jun 26 14:36:24 2010
From: admin at berlios.de (admin at berlios.de)
Date: Sat, 26 Jun 2010 14:36:24 +0200 (CEST)
Subject: [Bug #15427] Speichermglichkeit fr Filter und Zentrumspunkte
Message-ID: <201006261236.o5QCaOuO000844@unicorn.berlios.de>

Bug #15427, was updated on 2009-Mar-23 15:21
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Other
Status: Closed
Resolution: None
Bug Group: Feature Request implemented
Priority: 5
Submitted by: toje
Assigned to : none
Summary: Speicherm?glichkeit f?r Filter und Zentrumspunkte

Details: Es w?re nett, wenn es eine Speicherm?glichkeit f?r Filter (idealerweise auf Wunsch gemeinsam mit dem jeweils eingestellten Zentrumspunkt) g?be. Ich habe mehrere unterschiedliche "Cachestandorte" (Wohnung, Arbeitsstelle, Wochenendaufenthalt) mit unterschiedlichen Pr?ferenzen, was Cachemerkmale angeht, und es ist etwas l?stig, jeweils den Filter komplett per Hand ?ndern zu m?ssen.

Follow-Ups:

Date: 2010-Jun-26 14:36
By: araber95

Comment:
Filter k?nnen doch schon lange gespeichert werden.

-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15427&group_id=2211


From admin at berlios.de  Sat Jun 26 14:39:43 2010
From: admin at berlios.de (admin at berlios.de)
Date: Sat, 26 Jun 2010 14:39:43 +0200 (CEST)
Subject: [Cachewolf-svn] [Bug #15147] Garmin Export obsolet
Message-ID: <201006261239.o5QCdhH1009016@unicorn.berlios.de>

Bug #15147, was updated on 2009-Jan-28 20:39
Here is a current snapshot of the bug.

Project: CacheWolf
Category: Import/Export
Status: Closed
Resolution: None
Bug Group: Fixed, ready to test
Priority: 5
Submitted by: greiol
Assigned to : none
Summary: Garmin Export obsolet

Details: Der derzeitige Garmin Export via Men? erzeugt PCX5 Dateien. PCX5 wird seit vielen Versionen nicht mehr von Garmin unterst?tzt und kommt auch mit den "neuen langen" WP Identifiern von GC.com zurecht.

Vorschlag: entfernen

Follow-Ups:

Date: 2010-Jun-26 14:39
By: araber95

Comment:
Das geht doch jetzt ?ber gpsbabel... Oder ich blicks nicht!
-------------------------------------------------------

For detailed info, follow this link:
http://developer.berlios.de/bugs/?func=detailbug&bug_id=15147&group_id=2211


From araber95 at mail.berlios.de  Sun Jun 27 01:01:56 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 27 Jun 2010 01:01:56 +0200
Subject: [Cachewolf-svn] r2648 - trunk/src/CacheWolf
Message-ID: <201006262301.o5QN1um4009732@sheep.berlios.de>

Author: araber95
Date: 2010-06-27 01:01:52 +0200 (Sun, 27 Jun 2010)
New Revision: 2648

Modified:
   trunk/src/CacheWolf/Attributes.java
   trunk/src/CacheWolf/TravelbugList.java
Log:
1. TravelbugList does not grow on importing same TB (from gpx)
2. little enhancement for same problem on attribut list.


Modified: trunk/src/CacheWolf/Attributes.java
===================================================================
--- trunk/src/CacheWolf/Attributes.java	2010-06-25 20:53:00 UTC (rev 2647)
+++ trunk/src/CacheWolf/Attributes.java	2010-06-26 23:01:52 UTC (rev 2648)
@@ -86,6 +86,7 @@
 				if (attribs[i].getGCId() == attr.getGCId()){
 					doAdd=false;
 					replace=i;
+					break;
 				}
 			}
 			if (doAdd) {

Modified: trunk/src/CacheWolf/TravelbugList.java
===================================================================
--- trunk/src/CacheWolf/TravelbugList.java	2010-06-25 20:53:00 UTC (rev 2647)
+++ trunk/src/CacheWolf/TravelbugList.java	2010-06-26 23:01:52 UTC (rev 2648)
@@ -30,7 +30,15 @@
 
 	/** Add a travelbug to the list */
 	public void add(Travelbug pTb) {
-		tbList.add(pTb);
+		boolean doAdd = true;
+		for (int i = 0; i < tbList.size(); i++) {
+			Travelbug element = (Travelbug) tbList.get(i);
+			if (pTb.getName().equals(element.getName())) {
+				doAdd=false;
+				break;
+			}
+		}
+		if (doAdd) tbList.add(pTb);
 	}
 	
 	/** Remove a travelbug from the list */



From araber95 at mail.berlios.de  Sun Jun 27 14:18:32 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 27 Jun 2010 14:18:32 +0200
Subject: [Cachewolf-svn] r2649 - in trunk: res_noewe/templates src/CacheWolf
Message-ID: <201006271218.o5RCIWoI020522@sheep.berlios.de>

Author: araber95
Date: 2010-06-27 14:18:30 +0200 (Sun, 27 Jun 2010)
New Revision: 2649

Modified:
   trunk/res_noewe/templates/pq.tpl
   trunk/src/CacheWolf/CacheHolder.java
Log:
1. <hr> to gpx 2. pq.tpl adding bug text end

Modified: trunk/res_noewe/templates/pq.tpl
===================================================================
--- trunk/res_noewe/templates/pq.tpl	2010-06-26 23:01:52 UTC (rev 2648)
+++ trunk/res_noewe/templates/pq.tpl	2010-06-27 12:18:30 UTC (rev 2649)
@@ -50,7 +50,7 @@
           <groundspeak:date><tmpl_var NOW_DATE>T19:00:00Z</groundspeak:date><br>
           <groundspeak:type>Write note</groundspeak:type><br>
           <groundspeak:finder id="1">TBs</groundspeak:finder><br>
-          <groundspeak:text encoded="False"><tmpl_var BUGS><br>
+          <groundspeak:text encoded="False"><tmpl_var BUGS></groundspeak:text><br>
         </groundspeak:log><br>
       <tmpl_loop LOGS>  <groundspeak:log id="<tmpl_var WAYPOINT><tmpl_var __COUNTER__>"><br>
           <groundspeak:date><tmpl_var DATE>T19:00:00Z</groundspeak:date><br>

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-26 23:01:52 UTC (rev 2648)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-27 12:18:30 UTC (rev 2649)
@@ -710,13 +710,14 @@
 			Vector logVect=new Vector(det.CacheLogs.size());
 			for (int i=0; i<det.CacheLogs.size(); i++) {
 				Hashtable logs=new Hashtable();
+				String stmp;
 				if (det.CacheLogs.getLog(i).getIcon().equals("MAXLOG")) {
 					logs.put("WAYPOINT", wayPoint);
 					logs.put("ICON","");
 					logs.put("LOGTYPE","");
 					logs.put("DATE", "");
 					logs.put("LOGGER", "");
-					logs.put("MESSAGE", "<hr>"+MyLocale.getMsg(736,"Too many logs")+"<hr>");
+					stmp = "<hr>"+MyLocale.getMsg(736,"Too many logs")+"<hr>";
 				}
 				else {
 					logs.put("WAYPOINT", wayPoint);
@@ -724,9 +725,9 @@
 					logs.put("LOGTYPE",image2TypeText(det.CacheLogs.getLog(i).getIcon()));
 					logs.put("DATE", det.CacheLogs.getLog(i).getDate());
 					logs.put("LOGGER", (ModTyp == 0) ? SafeXML.cleanGPX(det.CacheLogs.getLog(i).getLogger()) : det.CacheLogs.getLog(i).getLogger());
-					String stmp = STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),"http://www.geocaching.com/images/icons/",null);
-					logs.put("MESSAGE", (ModTyp == 0) ? SafeXML.cleanGPX(stmp) : stmp);
+					stmp = STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),"http://www.geocaching.com/images/icons/",null);
 				}
+				logs.put("MESSAGE", (ModTyp == 0) ? SafeXML.cleanGPX(stmp) : stmp);
 				logVect.add(logs);
 			}
 			varParams.put("LOGS",logVect);



From maierkurt at mail.berlios.de  Tue Jun 29 07:07:38 2010
From: maierkurt at mail.berlios.de (maierkurt at mail.berlios.de)
Date: Tue, 29 Jun 2010 07:07:38 PM +0200
Subject: [Cachewolf-svn] r2650 - trunk/res_noewe/templates
Message-ID: <20100629170738.E20634808C0@sheep.berlios.de>

Author: maierkurt
Date: 2010-06-29 19:07:38 +0200 (Tue, 29 Jun 2010)
New Revision: 2650

Modified:
   trunk/res_noewe/templates/MyFieldNotes.tpl
Log:
The comma isn't a bad character for groundspeak, it can be used. 
The quotation mark is really bad.

Modified: trunk/res_noewe/templates/MyFieldNotes.tpl
===================================================================
--- trunk/res_noewe/templates/MyFieldNotes.tpl	2010-06-27 12:18:30 UTC (rev 2649)
+++ trunk/res_noewe/templates/MyFieldNotes.tpl	2010-06-29 17:07:38 UTC (rev 2650)
@@ -2,7 +2,7 @@
 <tmpl_par name="Out" value="*.txt">
 <tmpl_par name="charset" value="UTF8">
 <tmpl_par name="newline" value="CRLF">
-<tmpl_par name="badchars" value=",">
+<tmpl_par name="badchars" value="\"">
 <tmpl_loop cache_index>
 <tmpl_unless MAINWP>
 <tmpl_if STATUS>



From mik77 at mail.berlios.de  Wed Jun 30 11:57:03 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 30 Jun 2010 11:57:03 AM +0200
Subject: [Cachewolf-svn] r2651 - trunk/src/CacheWolf
Message-ID: <20100630095703.4AB66480A90@sheep.berlios.de>

Author: mik77
Date: 2010-06-30 11:57:03 +0200 (Wed, 30 Jun 2010)
New Revision: 2651

Modified:
   trunk/src/CacheWolf/SafeXML.java
Log:
Entity &ndash; added.

Modified: trunk/src/CacheWolf/SafeXML.java
===================================================================
--- trunk/src/CacheWolf/SafeXML.java	2010-06-29 17:07:38 UTC (rev 2650)
+++ trunk/src/CacheWolf/SafeXML.java	2010-06-30 09:57:03 UTC (rev 2651)
@@ -115,7 +115,8 @@
 				"&uuml;",   "?",
 				"&yacute;", "?",
 				"&thorn;",  "?",
-				"&yuml;",   "?"
+				"&yuml;",   "?",
+				"&ndash;",  "?"
 				};
 		for (int i = 0; i < mappingArray.length; i = i + 2) {
 			iso2htmlMappings.put( mappingArray[i], mappingArray[i+1]);



From mik77 at mail.berlios.de  Wed Jun 30 03:10:10 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 30 Jun 2010 03:10:10 PM +0200
Subject: [Cachewolf-svn] r2652 - in trunk: res_noewe src/CacheWolf/imp
Message-ID: <20100630131010.CE41F480AD4@sheep.berlios.de>

Author: mik77
Date: 2010-06-30 15:10:10 +0200 (Wed, 30 Jun 2010)
New Revision: 2652

Modified:
   trunk/res_noewe/spider.def
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
first adaptions (AWs and logs) to new GC design

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2010-06-30 09:57:03 UTC (rev 2651)
+++ trunk/res_noewe/spider.def	2010-06-30 13:10:10 UTC (rev 2652)
@@ -39,6 +39,7 @@
 # Version 7.0 - 20100402 adaption to new GC-design
 # Version 7.1 - 20100528 better description recognition
 # Version 8.0 - 20100604 adaption to new GC-design
+# Version 9.0 - 20100630 adaption to new GC-design
 #============================================================
 # A suffix of Rex indicates a regular expression
 # A suffix of ExStart indicates the start of an Extractor search pattern
@@ -126,16 +127,16 @@
 singleLogExEnd     = <small><a\ href="
 # iconEx, nameTempEx, dateEx, singleLogEx werden auf einen singleLog angewendet
 iconExStart        = www.geocaching.com/images/icons/
-iconExEnd          = "\ alt=""\ />
+iconExEnd          = "\ title="
 nameTempExStart    = <a\ href="
 nameTempExEnd      = /a>
 # Name extrahiert aus nameTemp
 nameExStart        = >
 nameExEnd          = <
-dateExStart        = gif"\ alt=""\ />&nbsp;
+dateExStart        = "\ />&nbsp;
 dateExEnd          = \ by\ <a\ href="/profile/?guid=
-logExStart         = found)<br\ />
-logExEnd           = <br\ /><small><a\ href="
+logExStart         = found)<br\ /><br\ />
+logExEnd           = <br\ /><br\ /><small><a\ href="
 logIdExStart         = "\ id="
 logIdExEnd           = ">
 # Die Icons, die einen erfolgreichen Fund signalisieren
@@ -191,13 +192,13 @@
 wayBlockExStart    = <span\ id="ctl00_ContentBody_WaypointsInfo"\ style="font-weight:bold;">Additional\ Waypoints</span>
 wayBlockExEnd      = </table>
 nameRex            = &RefDS=1">(.*)</a>
-koordRex           = <td>\\s*([NSns]\ [0-9]{1,2}..[0-9]{1,2}.[0-9]{1,3}\ [EWew]\ [0-9]{1,3}..[0-9]{1,2}.[0-9]{1,3})\\s*</td>
+koordRex           = <td>\\s*([NSns]\ [0-9]{1,2}..[0-9]{1,2}.[0-9]{1,3}\ [EWew]\ [0-9]{1,3}..[0-9]{1,2}.[0-9]{1,3})&nbsp;\\s*</td>
 descRex            = colspan="6">((?:.|\n|\r)*?)</td>
 typeRex            = </a>\ \\((.*)\\)\\s*</td>
 rowBlockExStart    = <tr
 rowBlockExEnd      = </tr>
-prefixExStart      =
-prefixExEnd        =
+prefixExStart      = <span\ id="awpt_
+prefixExEnd        = ">
 
 #--------------------------------------
 #Section2e: Attributes

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-06-30 09:57:03 UTC (rev 2651)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-06-30 13:10:10 UTC (rev 2652)
@@ -1902,16 +1902,21 @@
 			while(!exRowBlock.endOfSearch()){
 				CacheHolder hd = null;
 
+/*
 				String[] AddiBlock=mString.split(rowBlock,'\n');
 				int linePrefix=8;
 				if(AddiBlock.length < linePrefix + 1) {
 					(new MessageBox(MyLocale.getMsg(5500,"Error"), "GC changed table output \nCW must be changed too!", FormBase.OKB)).execute();
 					break;
 				}				
-//				Extractor exPrefix=new Extractor(AddiBlock[linePrefix].trim(),p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
-//				String prefix=exPrefix.findNext();
 				String prefix=AddiBlock[linePrefix].trim();
+*/
 
+//				Extractor exPrefix=new Extractor(AddiBlock[linePrefix].trim(),p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
+
+				Extractor exPrefix=new Extractor(rowBlock,p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
+				String prefix=exPrefix.findNext();
+
 				String adWayPoint;
 				if (prefix.length() == 2)
 					adWayPoint=prefix+wayPoint.substring(2);



From mik77 at mail.berlios.de  Wed Jun 30 04:53:05 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 30 Jun 2010 04:53:05 PM +0200
Subject: [Cachewolf-svn] r2653 - trunk/src/CacheWolf
Message-ID: <20100630145305.9097048096F@sheep.berlios.de>

Author: mik77
Date: 2010-06-30 16:53:05 +0200 (Wed, 30 Jun 2010)
New Revision: 2653

Modified:
   trunk/src/CacheWolf/ImageDetailForm.java
   trunk/src/CacheWolf/ImagePanel.java
   trunk/src/CacheWolf/ImagePanelImage.java
Log:
show image title and comment in ImageDetailForm

Modified: trunk/src/CacheWolf/ImageDetailForm.java
===================================================================
--- trunk/src/CacheWolf/ImageDetailForm.java	2010-06-30 13:10:10 UTC (rev 2652)
+++ trunk/src/CacheWolf/ImageDetailForm.java	2010-06-30 14:53:05 UTC (rev 2653)
@@ -11,12 +11,14 @@
 	ImageInteractivePanel ipp = new ImageInteractivePanel();
 	ScrollBarPanel scp;
 	
-	public ImageDetailForm(String imgLoc, Preferences p){
+	public ImageDetailForm(String imgLoc, String imgTitle, String imgComment, Preferences p){
 		scp = new MyScrollBarPanel(ipp);
 		ipp.setImage(imgLoc);
 		this.title = "Image";
 		this.setPreferredSize(p.myAppWidth, p.myAppHeight);
 		this.addLast(scp, CellConstants.STRETCH, CellConstants.FILL);
+		this.addLast(new mLabel(imgTitle), CellConstants.DONTSTRETCH, (CellConstants.DONTFILL | CellConstants.WEST));
+		this.addLast(new mLabel(imgComment), CellConstants.DONTSTRETCH, (CellConstants.DONTFILL | CellConstants.WEST));
 	}
 	
 	public void onEvent(Event ev) {

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2010-06-30 13:10:10 UTC (rev 2652)
+++ trunk/src/CacheWolf/ImagePanel.java	2010-06-30 14:53:05 UTC (rev 2653)
@@ -191,7 +191,8 @@
 					AimgText.setLocation(locX,locY+scaleY);
 					addImage(AimgText);
 					AimgText.refresh();
-					ipi.imageText = imgText; 
+					ipi.imageText = imgText;
+					ipi.imageComment = SafeXML.cleanback(pImages.get(i).getComment());
 				}
 				ipi.refresh();
 				locX = locX + thumb_size + padding;
@@ -261,7 +262,7 @@
 				ImagePanelImage ich = (ImagePanelImage)which;
 				fn = ich.fileName;
 				try {
-					ImageDetailForm iF = new ImageDetailForm(fn, pref);
+					ImageDetailForm iF = new ImageDetailForm(fn, ich.imageText, ich.imageComment, pref);
 					iF.execute(null, Gui.CENTER_FRAME);
 				} catch (IllegalArgumentException e) {
 					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht finden"), FormBase.OKB); // @todo: language support

Modified: trunk/src/CacheWolf/ImagePanelImage.java
===================================================================
--- trunk/src/CacheWolf/ImagePanelImage.java	2010-06-30 13:10:10 UTC (rev 2652)
+++ trunk/src/CacheWolf/ImagePanelImage.java	2010-06-30 14:53:05 UTC (rev 2653)
@@ -11,6 +11,7 @@
 public class ImagePanelImage extends AniImage{
 	public String fileName = new String();
 	public String imageText = null;
+	public String imageComment = null;
 	public ImagePanelImage(mImage i){
 		super(i);
 	}



