From salzkammergut at mail.berlios.de  Sat Mar  1 08:50:22 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 1 Mar 2008 08:50:22 +0100
Subject: [Cachewolf-svn] r1224 - trunk/src/CacheWolf
Message-ID: <200803010750.m217oMEW012340@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-01 08:50:19 +0100 (Sat, 01 Mar 2008)
New Revision: 1224

Modified:
   trunk/src/CacheWolf/AttributesSelector.java
Log:
Attributes filter: Bugfix. Under certain circumstances the attributes were not shown correctly (Filter -> create -> cancel; Filter -> create -> attributes:  no attributes shown).

Modified: trunk/src/CacheWolf/AttributesSelector.java
===================================================================
--- trunk/src/CacheWolf/AttributesSelector.java	2008-02-27 19:45:40 UTC (rev 1223)
+++ trunk/src/CacheWolf/AttributesSelector.java	2008-03-01 07:50:19 UTC (rev 1224)
@@ -25,7 +25,7 @@
 		showAttributePalette();
 	}
 
-	protected class attAniImage extends AttributesViewer.attAniImage {
+	protected class attAniImage extends AniImage {
 		public String info;
 		public String attrName;
 		public String value;
@@ -35,7 +35,7 @@
 			super(img);
 		}
 		attAniImage (attAniImage cp, String val) {
-			super(null);
+			//super(null);
 			mImage rawImg=new mImage(Attribute.getImageDir() + cp.attrName + val );
 			setMImage (rawImg.getHeight()!=20 ? rawImg.scale(20,20,null,Image.FOR_DISPLAY) : rawImg  );
 			value = val;
@@ -47,7 +47,7 @@
 		}
 	}
 	
-	protected class attInteractivePanel extends AttributesViewer.attInteractivePanel {
+	protected class attInteractivePanel extends InteractivePanel {
 				public boolean imageMovedOn(AniImage which) {
 			if (!((attAniImage)which).info.startsWith("*")) { // If text starts with * we have no explanation yet
 				mInfo.setText(((attAniImage)which).info);
@@ -93,13 +93,6 @@
 		iap.images.clear();
 		int width = 170;
 		int height = 180;
-		if (getParent() != null) {
-			//iap.setFixedSize(getParent().getSize(null).width-10, getParent().getSize(null).height-20);
-			width = getParent().getSize(null).width-10;
-			height = getParent().getSize(null).height-40;
-			iap.virtualSize = new Rect(0,0,width,height);
-			iap.setPreferredSize(width,height);
-		}
 		int x = 2; int y = 2;
 		long bitMask = 0;
 		String attrName;



From salzkammergut at mail.berlios.de  Sat Mar  1 13:41:44 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 1 Mar 2008 13:41:44 +0100
Subject: [Cachewolf-svn] r1225 - trunk/src/CacheWolf
Message-ID: <200803011241.m21Cficg021984@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-01 13:41:39 +0100 (Sat, 01 Mar 2008)
New Revision: 1225

Modified:
   trunk/src/CacheWolf/AttributesSelector.java
   trunk/src/CacheWolf/AttributesViewer.java
   trunk/src/CacheWolf/DescriptionPanel.java
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/HintLogPanel.java
   trunk/src/CacheWolf/ImagePanel.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/myTableControl.java
Log:
Fix: When switching from listview to other views, the new view displayed data of the previous cache for a short time.
(See http://www.geoclub.de/ftopic22308.html)

Modified: trunk/src/CacheWolf/AttributesSelector.java
===================================================================
--- trunk/src/CacheWolf/AttributesSelector.java	2008-03-01 07:50:19 UTC (rev 1224)
+++ trunk/src/CacheWolf/AttributesSelector.java	2008-03-01 12:41:39 UTC (rev 1225)
@@ -11,7 +11,6 @@
 	public long selectionMaskNo = 0;
 
 	public AttributesSelector() {
-		super( true /* senseless, but hey - its java :D */);
 		//Rect r = new Rect(0,0,TILESIZE * ICONS_PER_ROW,TILESIZE * ICONROWS); // As on GC: 6 wide, 2 high
 		iap.virtualSize = new Rect(0,0,200,200);
 		iap.setPreferredSize(170, 155);

Modified: trunk/src/CacheWolf/AttributesViewer.java
===================================================================
--- trunk/src/CacheWolf/AttributesViewer.java	2008-03-01 07:50:19 UTC (rev 1224)
+++ trunk/src/CacheWolf/AttributesViewer.java	2008-03-01 12:41:39 UTC (rev 1225)
@@ -40,10 +40,6 @@
 		addLast(iap,CellConstants.HSTRETCH,CellConstants.FILL);
 		addLast(mInfo=new mLabel(""),HSTRETCH,HFILL);
 	}
-	public AttributesViewer ( boolean dontinitialize ){
-		// this is only to prevent automatic constructor calling [ AttributesViewer () ]
-		// from AttributesSelector
-	}
 	protected InteractivePanel iap=new attInteractivePanel();
 	
 	public void showImages(Attributes att) {
@@ -57,6 +53,9 @@
 		iap.repaintNow();
 	}
 	
+	public void clear() {
+		iap.images.clear();
+	}
 /*	public void resizeTo(int width, int height) {
 		super.resizeTo(width,height);
 	}

Modified: trunk/src/CacheWolf/DescriptionPanel.java
===================================================================
--- trunk/src/CacheWolf/DescriptionPanel.java	2008-03-01 07:50:19 UTC (rev 1224)
+++ trunk/src/CacheWolf/DescriptionPanel.java	2008-03-01 12:41:39 UTC (rev 1225)
@@ -28,7 +28,7 @@
 		descP.addLast(sbp);
 		this.addLast(descP);
 		this.addLast(buttonP,CellConstants.HSTRETCH,CellConstants.HFILL);
-
+		clear();
 	}
 	
 	/**
@@ -105,6 +105,10 @@
 		currCache = cache;
 	}
 	
+	public void clear() {
+		disp.setPlainText("loading ...");
+	}
+	
 	private void redraw() {
 		int currLine;
 

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-01 07:50:19 UTC (rev 1224)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-01 12:41:39 UTC (rev 1225)
@@ -139,6 +139,10 @@
 		
 	}
 	
+	public void clear() {
+		attV.clear();
+	}
+
 	public void setIsNew(boolean isnew) {
 		isNewWpt = isnew;
 	}

Modified: trunk/src/CacheWolf/HintLogPanel.java
===================================================================
--- trunk/src/CacheWolf/HintLogPanel.java	2008-03-01 07:50:19 UTC (rev 1224)
+++ trunk/src/CacheWolf/HintLogPanel.java	2008-03-01 12:41:39 UTC (rev 1225)
@@ -56,6 +56,7 @@
 		htmlImagDisp.checkScrolls();
 		logpane.addLast(sbplog.getScrollablePanel(), CellConstants.STRETCH, CellConstants.FILL);
 		this.addLast(split);
+		clear();
 	}
 
 	public void setText(CacheHolderDetail cache){
@@ -74,6 +75,12 @@
 		////Vm.debug("In log: " + cache.CacheLogs);
 	}
 
+	public void clear() {
+		if (htmlTxtImage != null) {
+			htmlImagDisp.removeImage(htmlTxtImage);
+			htmlTxtImage.free();		
+		}
+	}
 	void setLogs(int crntLogPosition) {
 		Vm.showWait(true);
 		StringBuffer dummy = new StringBuffer(DEFAULT_STRINGBUFFER_SIZE);
@@ -85,10 +92,7 @@
 			dummy.append("</br>");
 			if(++counter >= logsPerPage) break;
 		}
-		if (htmlTxtImage != null) {
-			htmlImagDisp.removeImage(htmlTxtImage);
-			htmlTxtImage.free();
-		}
+		clear();
 		logs.resizeTo(width, 50);
 		// The cache GCP0T6 crashes the HtmlDisplay
 		// As a temporary fix

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2008-03-01 07:50:19 UTC (rev 1224)
+++ trunk/src/CacheWolf/ImagePanel.java	2008-03-01 12:41:39 UTC (rev 1225)
@@ -36,42 +36,45 @@
 	public ImagePanel(){
 	}
 	
+	static CacheHolderDetail oldCache=null;
 	/**
 	* Method to set the individual cache images.
 	* Gets called immediatly before panel is displayed
 	* @see MainTab#onEvent(Event ev)
 	*/
 	public void setImages(CacheHolderDetail cache){
-		pref = Global.getPref();
-		profile=Global.getProfile();
-		Vm.showWait(true);
-		clearImages();
-		thumb_size = (int)((pref.myAppWidth-2*padding) / 3);
-		thumb_size = thumb_size - padding;
-		int rowCounter = cache.Images.size() + cache.UserImages.size();
-		rowCounter = (int)(rowCounter/3)+1;
-		Rect r = new Rect(new Dimension(pref.myAppWidth,rowCounter*thumb_size+rowCounter*padding+padding));
-		this.virtualSize = r;
-		//this.setPreferredSize(pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+40);
-		this.checkScrolls();
-		this.refresh();
-		locY=0;
-		addTitle(MyLocale.getMsg(340,"Cache Images:"));
-		locY = 20;
-		locX = padding;
-		addImages(cache.Images,cache.ImagesText);
-		// load user images
-		if(locCounter==1 || locCounter ==2) locY = locY + thumb_size;
-		//Vm.debug("thumb_size: " + Convert.toString(thumb_size));
-		//Vm.debug("locy after: " + Convert.toString(locY));
-		if (cache.UserImages.getCount()> 0){
-			addTitle(MyLocale.getMsg(341,"User Images:"));
-			locY = locY + 20;
+		if (cache!=oldCache) {
+			pref = Global.getPref();
+			profile=Global.getProfile();
+			Vm.showWait(true);
+			clearImages();
+			thumb_size = (int)((pref.myAppWidth-2*padding) / 3);
+			thumb_size = thumb_size - padding;
+			int rowCounter = cache.Images.size() + cache.UserImages.size();
+			rowCounter = (int)(rowCounter/3)+1;
+			Rect r = new Rect(new Dimension(pref.myAppWidth,rowCounter*thumb_size+rowCounter*padding+padding));
+			this.virtualSize = r;
+			//this.setPreferredSize(pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+40);
+			this.checkScrolls();
+			this.refresh();
+			locY=0;
+			addTitle(MyLocale.getMsg(340,"Cache Images:"));
+			locY = 20;
 			locX = padding;
-			locCounter = 0;
-			addImages(cache.UserImages,cache.UserImagesText);
-		}
-		
+			addImages(cache.Images,cache.ImagesText);
+			// load user images
+			if(locCounter==1 || locCounter ==2) locY = locY + thumb_size;
+			//Vm.debug("thumb_size: " + Convert.toString(thumb_size));
+			//Vm.debug("locy after: " + Convert.toString(locY));
+			if (cache.UserImages.getCount()> 0){
+				addTitle(MyLocale.getMsg(341,"User Images:"));
+				locY = locY + 20;
+				locX = padding;
+				locCounter = 0;
+				addImages(cache.UserImages,cache.UserImagesText);
+			}
+			oldCache=cache;
+		} // cache!=oldCache	
 		this.refresh();
 		Vm.showWait(false);
 		//this.repaintNow();
@@ -81,7 +84,8 @@
 	 * Clear the images in the panel
 	 *
 	 */
-	private void clearImages() {
+	public void clearImages() {
+		oldCache=null;
 		int lgr = images.size();
 		for(int i = 0; i<lgr;i++){
 			this.removeImage((AniImage)images.get(0));

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-01 07:50:19 UTC (rev 1224)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-01 12:41:39 UTC (rev 1225)
@@ -98,8 +98,19 @@
 		this.selectAndExpand(0);
 	}
 
-
+	public void clearDetails() {
+		imageP.clearImages(); // Remove all images
+		descP.clear(); // write "loading ..."
+		detP.clear(); // Clear only the attributes
+		hintLP.clear(); // Remove the logs
+		solverP.setInstructions("loading ...");
+	}	
+	
 	public void onEvent(Event ev) {
+		// This section clears old data when a new line is selected in the table
+		if (ev instanceof TableEvent) {
+			clearDetails();
+		}
 		if(ev instanceof MultiPanelEvent){
 			// Check whether a profile change is allowed, if not disable the relevant options
 			checkProfileChange();

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-01 07:50:19 UTC (rev 1224)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-01 12:41:39 UTC (rev 1225)
@@ -192,9 +192,12 @@
 	}
 	
 	public void onEvent(Event ev) {
-	    if (ev instanceof PenEvent && (ev.type == PenEvent.PEN_DOWN) ){
+		// If we changed the cache (e.g. via radar panel, we have to clear the details */
+		if (ev instanceof TableEvent) Global.mainTab.clearDetails();
+		if (ev instanceof PenEvent && (ev.type == PenEvent.PEN_DOWN) ){
 			Global.mainTab.tbP.myMod.penEventModifiers=((PenEvent)ev).modifiers;
-	    }
+	    } 
+
 		super.onEvent(ev);
 	}
     ///////////////////////////////////////////////////



From mik77 at mail.berlios.de  Wed Mar  5 11:29:55 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 5 Mar 2008 11:29:55 +0100
Subject: [Cachewolf-svn] r1226 - trunk
Message-ID: <200803051029.m25ATteb024425@sheep.berlios.de>

Author: mik77
Date: 2008-03-05 11:29:24 +0100 (Wed, 05 Mar 2008)
New Revision: 1226

Modified:
   trunk/buildexe.bat
   trunk/buildexe.sh
Log:
Paths to jewel changed to jewel in SVN.

Modified: trunk/buildexe.bat
===================================================================
--- trunk/buildexe.bat	2008-03-01 12:41:39 UTC (rev 1225)
+++ trunk/buildexe.bat	2008-03-05 10:29:24 UTC (rev 1226)
@@ -1,5 +1,5 @@
 call getres.bat
-java -cp lib/ewe.jar Ewe ../Ewe/programs/Jewel.ewe -c cw-pda.jnf
-java -cp lib/ewe.jar Ewe ../Ewe/programs/Jewel.ewe -c cw-pc.jnf
+java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
+java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
 REM Dont change the order above because the PC version has to overwrite the PDA version of the EWE-file
 pause

Modified: trunk/buildexe.sh
===================================================================
--- trunk/buildexe.sh	2008-03-01 12:41:39 UTC (rev 1225)
+++ trunk/buildexe.sh	2008-03-05 10:29:24 UTC (rev 1226)
@@ -1,4 +1,4 @@
 #!/bin/sh
-java -cp lib/ewe.jar Ewe ../Ewe/programs/Jewel.ewe -c cw-pda.jnf
-java -cp lib/ewe.jar Ewe ../Ewe/programs/Jewel.ewe -c cw-pc.jnf
+java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
+java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
 # Dont change the order above because the PC version has to overwrite the PDA version of the EWE-file



From salzkammergut at mail.berlios.de  Fri Mar  7 21:39:22 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Fri, 7 Mar 2008 21:39:22 +0100
Subject: [Cachewolf-svn] r1227 - trunk/src/CacheWolf
Message-ID: <200803072039.m27KdMYm012322@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-07 21:39:18 +0100 (Fri, 07 Mar 2008)
New Revision: 1227

Modified:
   trunk/src/CacheWolf/DetailsPanel.java
Log:
DetailsPanel: Added whereIGo cache type

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-05 10:29:24 UTC (rev 1226)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-07 20:39:18 UTC (rev 1227)
@@ -4,7 +4,6 @@
 import ewe.fx.*;
 import ewe.util.*;
 import ewe.sys.*;
-import ewe.sys.Long;
 
 /**
 *	Class to create the panel to show the cache details.<br>
@@ -19,7 +18,7 @@
 	mInput inpHidden = new mInput();
 	mInput inpOwner = new mInput();
 	mButton btnDelete,btnCenter, btnAddDateTime;
-	mChoice chcType = new mChoice(new String[]{"Custom", "Traditional", "Multi", "Virtual", "Letterbox", "Event", "Mega Event", "Mystery", "Webcam", "Locationless", "CITO", "Earthcache", "Addi: Parking", "Addi: Stage", "Addi: Question", "Addi: Final","Addi: Trailhead","Addi: Reference"},0);
+	mChoice chcType = new mChoice(new String[]{"Custom", "Traditional", "Multi", "Virtual", "Letterbox", "Event", "Mega Event", "Mystery", "Webcam", "Locationless", "CITO", "Earthcache", "wherIGo", "Addi: Parking", "Addi: Stage", "Addi: Question", "Addi: Final","Addi: Trailhead","Addi: Reference"},0);
 	mChoice chcSize = new mChoice(new String[]{"", "Micro", "Small", "Regular", "Large","Other","Very Large","None"},0);
 	mComboBox chcStatus = new mComboBox(new String[]{"", MyLocale.getMsg(313,"Flag 1"), MyLocale.getMsg(314,"Flag 2"), MyLocale.getMsg(315,"Flag 3"), MyLocale.getMsg(316,"Flag 4"), MyLocale.getMsg(317,"Search"), MyLocale.getMsg(318,"Found"), MyLocale.getMsg(319,"Not Found"), MyLocale.getMsg(320,"Owner")},0);
 	mButton btnNewWpt, btnShowBug, btnShowMap, btnGoto, btnAddPicture, btnBlack, btnNotes, btnSave, btnCancel;
@@ -224,16 +223,17 @@
 			case 6: c_type = 5; break;
 			case 453: c_type = 6;break;
 			case 8: c_type = 7; break;
-			case 11: c_type = 8; break;
+			case 11: c_type = 8; break; //Earth
 			case 12: c_type = 9; break;
 			case 13: c_type = 10; break;
 			case 137: c_type = 11;break;
-			case 50: c_type = 12;break;
-			case 51: c_type = 13;break;
-			case 52: c_type = 14;break;
-			case 53: c_type = 15;break;
-			case 54: c_type = 16;break;
-			case 55: c_type = 17;break;
+			case 1858: c_type = 12; break;
+			case 50: c_type = 13;break;
+			case 51: c_type = 14;break;
+			case 52: c_type = 15;break;
+			case 53: c_type = 16;break;
+			case 54: c_type = 17;break;
+			case 55: c_type = 18;break;
 
 			default: Vm.debug("Unknown cachetype: " + type);
 					break;
@@ -262,12 +262,13 @@
 			case 9: ret = "12"; break;
 			case 10: ret = "13";break;
 			case 11: ret = "137";break;
-			case 12: ret = "50";break;
-			case 13: ret = "51";break;
-			case 14: ret = "52";break;
-			case 15: ret = "53";break;
-			case 16: ret = "54";break;
-			case 17: ret = "55";break;
+			case 12: ret = "1858"; break;
+			case 13: ret = "50";break;
+			case 14: ret = "51";break;
+			case 15: ret = "52";break;
+			case 16: ret = "53";break;
+			case 17: ret = "54";break;
+			case 18: ret = "55";break;
 
 			default: Vm.debug("Unknown cachetype: " + num);
 			break;



From salzkammergut at mail.berlios.de  Sat Mar  8 12:27:38 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 8 Mar 2008 12:27:38 +0100
Subject: [Cachewolf-svn] r1228 - trunk/src/CacheWolf
Message-ID: <200803081127.m28BRccs022323@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-08 12:27:33 +0100 (Sat, 08 Mar 2008)
New Revision: 1228

Modified:
   trunk/src/CacheWolf/AttributesSelector.java
   trunk/src/CacheWolf/FilterScreen.java
Log:
AttributesFilter: Should now be drawn correctly

Modified: trunk/src/CacheWolf/AttributesSelector.java
===================================================================
--- trunk/src/CacheWolf/AttributesSelector.java	2008-03-07 20:39:18 UTC (rev 1227)
+++ trunk/src/CacheWolf/AttributesSelector.java	2008-03-08 11:27:33 UTC (rev 1228)
@@ -5,10 +5,11 @@
 import ewe.sys.*;
 import ewe.ui.*;
 
-public class AttributesSelector extends AttributesViewer {
+public class AttributesSelector extends Panel {
 	protected static int TILESIZE=22; // Here we always use the small icons thus tilesize=22
 	public long selectionMaskYes = 0;
 	public long selectionMaskNo = 0;
+	protected mLabel mInfo;
 
 	public AttributesSelector() {
 		//Rect r = new Rect(0,0,TILESIZE * ICONS_PER_ROW,TILESIZE * ICONROWS); // As on GC: 6 wide, 2 high

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2008-03-07 20:39:18 UTC (rev 1227)
+++ trunk/src/CacheWolf/FilterScreen.java	2008-03-08 11:27:33 UTC (rev 1228)
@@ -284,14 +284,17 @@
 		cp.addItem(pnlContainer,"Size",null);
 		cp.addItem(pnlSearch,"Search",null);
 		cp.addItem(pnlCacheAttributes,"Attr",null);
-		addLast(cp);
+		addLast(cp,VSTRETCH,FILL);
 
-		CellPanel btPanel = new CellPanel();
+		Panel btPanel = new Panel();
 		btPanel.addNext(btnCancel = new mButton(MyLocale.getMsg(708,"Cancel")),CellConstants.STRETCH, CellConstants.FILL);
 		btPanel.addNext(btnApply = new mButton(MyLocale.getMsg(709,"Apply")),CellConstants.STRETCH, CellConstants.FILL);
 		btPanel.addLast(btnRoute = new mButton("Route"),CellConstants.STRETCH, CellConstants.FILL);
 		addLast(btPanel.setTag(Control.SPAN, new Dimension(3,1)), CellConstants.STRETCH, CellConstants.FILL);
-		setPreferredSize(240,260);
+		if (MyLocale.getScreenHeight()>240)
+			setPreferredSize(240,260);
+		else
+			setPreferredSize(240,240);
 		cp.select(3);
 	}
 	



From kappler at mail.berlios.de  Sat Mar  8 20:29:08 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Sat, 8 Mar 2008 20:29:08 +0100
Subject: [Cachewolf-svn] r1229 - in trunk: resources src/CacheWolf
Message-ID: <200803081929.m28JT8RN020410@sheep.berlios.de>

Author: kappler
Date: 2008-03-08 20:28:45 +0100 (Sat, 08 Mar 2008)
New Revision: 1229

Added:
   trunk/resources/bug_32x32.gif
   trunk/resources/bug_table.png
   trunk/resources/goto_32x32.png
   trunk/resources/is_black_32x32.png
Removed:
   trunk/resources/bug.png
   trunk/resources/bug_32x32.png
   trunk/resources/goto_32x32-png
Modified:
   trunk/resources/no_black_32x32.png
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/SolverPanel.java
   trunk/src/CacheWolf/myTableModel.java
Log:
Corrected some VGA-Problems: PreferenceScreen, large Icons in DetailsPanel, large ScrollBars in Solver-Output

Deleted: trunk/resources/bug.png
===================================================================
(Binary files differ)

Added: trunk/resources/bug_32x32.gif
===================================================================
(Binary files differ)


Property changes on: trunk/resources/bug_32x32.gif
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Deleted: trunk/resources/bug_32x32.png
===================================================================
(Binary files differ)

Added: trunk/resources/bug_table.png
===================================================================
--- trunk/resources/bug_table.png	2008-03-08 11:27:33 UTC (rev 1228)
+++ trunk/resources/bug_table.png	2008-03-08 19:28:45 UTC (rev 1229)
@@ -0,0 +1,5 @@
+?PNG
+
+
+?????????????s??;?=?MQ????>??#??M#A?iz?0???ts EQ???y?????O???!?????,
+??EQ?e?8:?s9?eAk??[??.M?}????O?4?R??q?g??h@??sTU?%y??S]??%a???0???,m?N???]?ij??ir#??x?????0]?m?8??E????????30?)V???
\ No newline at end of file

Deleted: trunk/resources/goto_32x32-png
===================================================================
(Binary files differ)

Copied: trunk/resources/goto_32x32.png (from rev 1226, trunk/resources/goto_32x32-png)
===================================================================
(Binary files differ)

Added: trunk/resources/is_black_32x32.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/is_black_32x32.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/resources/no_black_32x32.png
===================================================================
(Binary files differ)

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-08 11:27:33 UTC (rev 1228)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-08 19:28:45 UTC (rev 1229)
@@ -50,37 +50,41 @@
 		////////////////////
 		// Tools
 		////////////////////
+		// Use larger Button-Icons on VGA-mobiles
+		int sw = MyLocale.getScreenWidth();
+		String imagesize="";
+		if (Vm.isMobile() && sw >= 400) imagesize="_32x32";  
 		// Button 1: New Waypoint
-		pnlTools.addNext(btnNewWpt = new mButton(imgNewWpt=new mImage("newwpt.png"))); 
+		pnlTools.addNext(btnNewWpt = new mButton(imgNewWpt=new mImage("newwpt"+imagesize+".png"))); 
 		btnNewWpt.setToolTip(MyLocale.getMsg(311,"Create Waypoint"));
 		PenEvent.wantPenMoved(btnNewWpt,PenEvent.WANT_PEN_MOVED_ONOFF,true);
 		imgNewWpt.transparentColor=new Color(255,0,0);
 		// Button 2: Goto
-		pnlTools.addNext(btnGoto = new mButton(imgGoto=new mImage("goto.png")));//Goto.gif funzt manchmal nicht
+		pnlTools.addNext(btnGoto = new mButton(imgGoto=new mImage("goto"+imagesize+".png")));//Goto.gif funzt manchmal nicht
 		imgGoto.transparentColor=Color.White;
 		btnGoto.setToolTip(MyLocale.getMsg(345,"Goto these coordinates"));
 		// Button 3: Travelbugs
-		imgShowBug = new mImage("bug.gif");
-		imgShowBugNo = new mImage("bug_no.gif");
+		imgShowBug = new mImage("bug"+imagesize+".gif");
+		imgShowBugNo = new mImage("bug_no"+imagesize+".gif");
 		pnlTools.addNext(btnShowBug = new mButton(imgShowBugNo)); 
 		//btnShowBug.modify(Control.Disabled,0);
 		btnShowBug.setToolTip(MyLocale.getMsg(346,"Show travelbugs"));
 		// Button 4: Show Map
-		pnlTools.addNext(btnShowMap = new mButton(imgShowMaps = new mImage("globe_small.gif"))); 
+		pnlTools.addNext(btnShowMap = new mButton(imgShowMaps = new mImage("globe_small"+imagesize+".gif"))); 
 		btnShowMap.setToolTip(MyLocale.getMsg(347,"Show map"));
 		// Button 5: Add images
-		pnlTools.addNext(btnAddPicture = new mButton(imgAddImages = new mImage("images.gif"))); 
+		pnlTools.addNext(btnAddPicture = new mButton(imgAddImages = new mImage("images"+imagesize+".gif"))); 
 		btnAddPicture.setToolTip(MyLocale.getMsg(348,"Add user pictures"));
 		// Button 6: Toggle blacklist status
-		imgBlackNo = new mImage("no_black.png"); imgBlackNo.transparentColor=Color.Black;
-		imgBlack = new mImage("is_black.png"); imgBlack.transparentColor=Color.White;
+		imgBlackNo = new mImage("no_black"+imagesize+".png"); imgBlackNo.transparentColor=Color.Black;
+		imgBlack = new mImage("is_black"+imagesize+".png"); imgBlack.transparentColor=Color.White;
 		pnlTools.addNext(btnBlack=new mButton(imgBlackNo)); 
 		btnBlack.setToolTip(MyLocale.getMsg(349,"Toggle Blacklist status"));
 		// Button 7: Notes
-		pnlTools.addNext(btnNotes=new mButton(imgNotes=new mImage("notes.gif"))); imgNotes.transparentColor=Color.DarkBlue;
+		pnlTools.addNext(btnNotes=new mButton(imgNotes=new mImage("notes"+imagesize+".gif"))); imgNotes.transparentColor=Color.DarkBlue;
 		btnNotes.setToolTip(MyLocale.getMsg(351,"Add/Edit notes"));
 		// Button 8: Date/time stamp
-		pnlTools.addLast(btnAddDateTime = new mButton(new mImage("date_time.png"))); 
+		pnlTools.addLast(btnAddDateTime = new mButton(new mImage("date_time"+imagesize+".png"))); 
 		btnAddDateTime.setToolTip(MyLocale.getMsg(350,"Add timestamp to notes"));
 		//showMap.modify(Control.Disabled,0);
 		pnlTools.stretchFirstRow=true;

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-03-08 11:27:33 UTC (rev 1228)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-03-08 19:28:45 UTC (rev 1229)
@@ -36,14 +36,36 @@
 	
 	public PreferencesScreen (Preferences p){
 		mTab=new mTabbedPanel();
-		setPreferredSize(240,240);
-		//scp = new ScrollBarPanel(pnlGeneral);
+		
 		pref = p;
 		this.title = MyLocale.getMsg(600,"Preferences");
 		//this.resizable = false;
 		//this.moveable = true;
 		//this.windowFlagsToSet = Window.FLAG_MAXIMIZE;
+
+		// set dialog-width according to fontsize
+		int sw = MyLocale.getScreenWidth();
+		if((pref.fontSize <= 13)||(sw <= 240)){
+			setPreferredSize(240,240);
+		}
+		else if(pref.fontSize <= 17){
+			setPreferredSize(300,250);
+		}
+		else if(pref.fontSize <= 21){
+			setPreferredSize(350,300);
+		}
+		else if(pref.fontSize <= 24){
+			setPreferredSize(400,350);
+		}
+		else if(pref.fontSize <= 28){
+			setPreferredSize(450,400);
+		}
+		else{
+			setPreferredSize(500,450);
+		}
 		
+		//scp = new ScrollBarPanel(pnlGeneral);
+		
 		/////////////////////////////////////////////////////////
 		// First panel - General
 		/////////////////////////////////////////////////////////

Modified: trunk/src/CacheWolf/SolverPanel.java
===================================================================
--- trunk/src/CacheWolf/SolverPanel.java	2008-03-08 11:27:33 UTC (rev 1228)
+++ trunk/src/CacheWolf/SolverPanel.java	2008-03-08 19:28:45 UTC (rev 1229)
@@ -110,7 +110,7 @@
 		programPanel.addNext(btnSave= new mButton(MyLocale.getMsg(1737,"Save")),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		programPanel.addLast(btnSaveAs= new mButton(MyLocale.getMsg(1738,"SaveAs")),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		*/
-		outputPanel.addLast(new ScrollBarPanel(mOutput = new OutputPanel()));
+		outputPanel.addLast(new MyScrollBarPanel(mOutput = new OutputPanel()));
 
 		this.addLast(split);
 	}

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2008-03-08 11:27:33 UTC (rev 1228)
+++ trunk/src/CacheWolf/myTableModel.java	2008-03-08 19:28:45 UTC (rev 1229)
@@ -76,7 +76,7 @@
 		//green = new mImage("green.png");green.transparentColor=Color.White;
 		yellow = new mImage("yellow.png");yellow.transparentColor=Color.White;
 		skull = new mImage("skull.png");skull.transparentColor=Color.DarkBlue;
-		bug = new mImage("bug.png");bug.transparentColor=Color.DarkBlue;
+		bug = new mImage("bug_table.png");bug.transparentColor=Color.DarkBlue;
 		checkboxTicked = new Image("checkboxTicked.png");
 		checkboxUnticked= new Image("checkboxUnticked.png");
 		picSizeMicro=new mImage("sizeMicro.png"); picSizeMicro.transparentColor=Color.White;



From mik77 at mail.berlios.de  Sat Mar  8 22:57:09 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sat, 8 Mar 2008 22:57:09 +0100
Subject: [Cachewolf-svn] r1230 - trunk/src/CacheWolf/navi
Message-ID: <200803082157.m28Lv9pp000302@sheep.berlios.de>

Author: mik77
Date: 2008-03-08 22:57:07 +0100 (Sat, 08 Mar 2008)
New Revision: 1230

Modified:
   trunk/src/CacheWolf/navi/MovingMap.java
Log:
Better handling when selecting maps with other scale (better overview / more details). It now zooms in and out to the center of the screen regardless where the GPS position is.

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-03-08 19:28:45 UTC (rev 1229)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-03-08 21:57:07 UTC (rev 1230)
@@ -974,15 +974,15 @@
 		int h = (height != 0 ? height : pref.myAppHeight);
 		int x, y;
 		CWPoint cll;
-		if (posCircleX >= 0 && posCircleX <= w && posCircleY >= 0 && posCircleY <= h && ll.isValid()) {
-			x = posCircleX; // posCircle is inside the screen
-			y = posCircleY; // TODO eigentlich interessiert, ob nach dem evtl. Kartenwechsel PosCircle on Screen ist. So wie es jetzt ist, kann 2mal der gleiche Aufruf zum laden unterschiedlicher Karten f?hren, wenn vorher PosCircle nicht auf dem SChirm war, nach dem ersten Laden aber schon.
+		
+		if (currentMap != null) {
+			cll = ScreenXY2LatLon(w/2, h/2);
+		} else {
 			cll = new CWPoint(ll);
-		} else { // when posCircle out of screen - use centre of screen as point which as to be included in the map
-			cll = ScreenXY2LatLon(w/2, h/2);
-			x = w/2;
-			y = h/2;
-		} 
+		}
+		x = w/2;
+		y = h/2;
+
 		Object[] ret = new Object[2];
 		ret[0] = cll;
 		ret[1] = new Rect(x, y, w, h);
@@ -1003,7 +1003,7 @@
 		if (m != null) {
 			boolean saveGpsIgnStatus = dontUpdatePos;
 			dontUpdatePos = true;
-			setMap(m, posCircle.where);
+			setMap(m, cll);
 			setResModus(MovingMap.NORMAL_KEEP_RESOLUTION);
 			dontUpdatePos = saveGpsIgnStatus;
 		}
@@ -1110,7 +1110,7 @@
 			mmp.images.moveToBack(mmp.mapImage);
 			rebuildOverlaySet();
 			forceMapLoad = true; // forces updateOnlyPosition to redraw
-			updateOnlyPosition(where, false);
+			updateAfterMapChange(where);
 			forceMapLoad = false;
 			directionArrows.setMap(currentMap);
 			updateScale();
@@ -1161,6 +1161,32 @@
 			dontUpdatePos = saveIgnoreStatus;
 		}
 	}
+	
+	private void updateAfterMapChange(CWPoint newCenter) {
+		if (!posCircle.where.isValid()) {
+			posCircle.where.set(newCenter);
+		}
+		Point circlePosOnMap = currentMap.calcMapXY(posCircle.where);
+		Point centerOnMap = currentMap.calcMapXY(newCenter);
+		int w = (width != 0 ? width : pref.myAppWidth); // width == 0 happens if this routine is run before the windows is on the screen
+		int h = (height != 0 ? height : pref.myAppHeight);
+		int mapPosX = w/2 - centerOnMap.x;
+		int mapPosY = h/2 - centerOnMap.y;
+		int newPosCircleX = mapPosX + circlePosOnMap.x;
+		int newPosCircleY = mapPosY + circlePosOnMap.y;
+		
+		if (mmp != null && mmp.mapImage != null) mmp.mapImage.move(mapPosX, mapPosY);
+		
+		int wCircle = posCircle.getWidth();
+		int hCircle = posCircle.getHeight();
+		int npx = newPosCircleX-wCircle/2; 
+		int npy = newPosCircleY-hCircle/2;
+		posCircle.move(npx, npy);
+		posCircleX = newPosCircleX;
+		posCircleY = newPosCircleY;
+		
+		updateOnlyPosition(posCircle.where, true);
+	}
 
 	public void hideMap() {
 		if (mmp != null && mmp.mapImage != null)



From mik77 at mail.berlios.de  Sun Mar  9 01:27:45 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 9 Mar 2008 01:27:45 +0100
Subject: [Cachewolf-svn] r1231 - trunk/src/CacheWolf
Message-ID: <200803090027.m290Rjrn004518@sheep.berlios.de>

Author: mik77
Date: 2008-03-09 01:27:40 +0100 (Sun, 09 Mar 2008)
New Revision: 1231

Modified:
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/myTableModel.java
Log:
Another check to prevent out of bounds exception when sorting.
Solved ",/." problem for OC import.

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-08 21:57:07 UTC (rev 1230)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-09 00:27:40 UTC (rev 1231)
@@ -10,6 +10,7 @@
 import ewe.util.*;
 import ewe.util.zip.*;
 import ewe.net.*;
+import ewe.sys.Double;
 
 /**
  *	Class to import Data from opencaching.de. 
@@ -159,6 +160,10 @@
 		Vm.showWait(true);
 		String dist = importOpt.distanceInput.getText();
 		if (dist.length()== 0) return;
+		
+		Double distDouble = new Double();
+		distDouble.value = Common.parseDouble(dist);
+		dist = distDouble.toString(0, 3, 0);
 		//check, if distance is greater than before
 		if (Convert.toInt(dist) > Convert.toInt(profile.distOC) ||
 				pref.downloadmissingOC  ){

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2008-03-08 21:57:07 UTC (rev 1230)
+++ trunk/src/CacheWolf/myTableModel.java	2008-03-09 00:27:40 UTC (rev 1231)
@@ -318,7 +318,7 @@
 				}
 				Vm.showWait(true);
 				Point a = tcControl.getSelectedCell(null);
-				if(a != null) ch = (CacheHolder)cacheDB.get(a.y);
+				if((a != null) && (a.y >= 0) && (a.y < cacheDB.size())) ch = (CacheHolder)cacheDB.get(a.y);
 				if (mappedCol == sortedBy) sortAsc=!sortAsc;
 				else sortAsc = false;
 				sortedBy = mappedCol;



From pfeffer at mail.berlios.de  Sun Mar  9 02:28:20 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 9 Mar 2008 02:28:20 +0100
Subject: [Cachewolf-svn] r1232 - trunk/res_noewe/webmapservices
Message-ID: <200803090128.m291SKAN003664@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-09 02:28:15 +0100 (Sun, 09 Mar 2008)
New Revision: 1232

Modified:
   trunk/res_noewe/webmapservices/de-ni_topo-photo_auto.wms
   trunk/res_noewe/webmapservices/de-ni_topo_100.wms
   trunk/res_noewe/webmapservices/de-sa_photo.wms
   trunk/res_noewe/webmapservices/de-sa_topo_10.wms
   trunk/res_noewe/webmapservices/de-sa_topo_50.wms
   trunk/res_noewe/webmapservices/readme_wms.txt
Log:
.wms-files: covered area was not reconized because of too many digits in the coordinates

Modified: trunk/res_noewe/webmapservices/de-ni_topo-photo_auto.wms
===================================================================
--- trunk/res_noewe/webmapservices/de-ni_topo-photo_auto.wms	2008-03-09 00:27:40 UTC (rev 1231)
+++ trunk/res_noewe/webmapservices/de-ni_topo-photo_auto.wms	2008-03-09 01:28:15 UTC (rev 1232)
@@ -17,6 +17,6 @@
 BoundingBoxTopLeftWGS84:	N 53.99192 E 006.62073
 BoundingBoxButtomRightWGS84:	N 51.27316 E 011.58000
 MinScale:	0.267412
-MaxScale:	59899.495094
+MaxScale:	59899.495
 RecommendedScale:	5.0
 ImageFileExtension: .png

Modified: trunk/res_noewe/webmapservices/de-ni_topo_100.wms
===================================================================
--- trunk/res_noewe/webmapservices/de-ni_topo_100.wms	2008-03-09 00:27:40 UTC (rev 1231)
+++ trunk/res_noewe/webmapservices/de-ni_topo_100.wms	2008-03-09 01:28:15 UTC (rev 1232)
@@ -12,8 +12,8 @@
 LayersUrlPart:	LAYERS=TK100
 StylesUrlPart:	STYLES=
 ImageFormatUrlPart:	FORMAT=image/png
-BoundingBoxTopLeftWGS84:	N 54.94030655149304 E 6.180364501677226
-BoundingBoxButtomRightWGS84:	N 50.50279594367625 E 13.683332705481225
+BoundingBoxTopLeftWGS84:	N 54.940306 E 6.180364
+BoundingBoxButtomRightWGS84:	N 50.502795 E 13.683332
 MinScale:	6.76160460880501
 MaxScale:	52.82503600628914
 RecommendedScale:	15.0

Modified: trunk/res_noewe/webmapservices/de-sa_photo.wms
===================================================================
--- trunk/res_noewe/webmapservices/de-sa_photo.wms	2008-03-09 00:27:40 UTC (rev 1231)
+++ trunk/res_noewe/webmapservices/de-sa_photo.wms	2008-03-09 01:28:15 UTC (rev 1232)
@@ -12,8 +12,8 @@
 LayersUrlPart:   LAYERS=layer_601
 StylesUrlPart:   STYLES=
 ImageFormatUrlPart:   FORMAT=image/png
-BoundingBoxTopLeftWGS84:   N 53.222636951 E 10.501218361
-BoundingBoxButtomRightWGS84:   N 50.527211799 E 13.495718636
+BoundingBoxTopLeftWGS84:   N 53.222636 E 10.5012
+BoundingBoxButtomRightWGS84:   N 50.5272 E 13.4957
 MinScale:   0.00001
 MaxScale:   24.95
 RecommendedScale:	1.0

Modified: trunk/res_noewe/webmapservices/de-sa_topo_10.wms
===================================================================
--- trunk/res_noewe/webmapservices/de-sa_topo_10.wms	2008-03-09 00:27:40 UTC (rev 1231)
+++ trunk/res_noewe/webmapservices/de-sa_topo_10.wms	2008-03-09 01:28:15 UTC (rev 1232)
@@ -12,8 +12,8 @@
 LayersUrlPart:   LAYERS=layer_603
 StylesUrlPart:   STYLES=
 ImageFormatUrlPart:   FORMAT=image/png
-BoundingBoxTopLeftWGS84:   N 53.222636951 E 10.501218361
-BoundingBoxButtomRightWGS84:   N 50.527211799 E 13.495718636
+BoundingBoxTopLeftWGS84:   N 53.2226 E 10.5012
+BoundingBoxButtomRightWGS84:   N 50.5272 E 13.4957
 MinScale:   0.000499
 MaxScale:   249.451559
 RecommendedScale:	1.0

Modified: trunk/res_noewe/webmapservices/de-sa_topo_50.wms
===================================================================
--- trunk/res_noewe/webmapservices/de-sa_topo_50.wms	2008-03-09 00:27:40 UTC (rev 1231)
+++ trunk/res_noewe/webmapservices/de-sa_topo_50.wms	2008-03-09 01:28:15 UTC (rev 1232)
@@ -12,8 +12,8 @@
 LayersUrlPart:   LAYERS=layer_607
 StylesUrlPart:   STYLES=
 ImageFormatUrlPart:   FORMAT=image/png
-BoundingBoxTopLeftWGS84:   N 53.222636951 E 10.501218361
-BoundingBoxButtomRightWGS84:   N 50.527211799 E 13.495718636
+BoundingBoxTopLeftWGS84:   N 53.2226 E 10.5012
+BoundingBoxButtomRightWGS84:   N 50.5272 E 13.4957
 MinScale:   4.989031
 MaxScale:   124.725779
 RecommendedScale:	5.0

Modified: trunk/res_noewe/webmapservices/readme_wms.txt
===================================================================
--- trunk/res_noewe/webmapservices/readme_wms.txt	2008-03-09 00:27:40 UTC (rev 1231)
+++ trunk/res_noewe/webmapservices/readme_wms.txt	2008-03-09 01:28:15 UTC (rev 1232)
@@ -80,6 +80,8 @@
 ImageFormatUrlPart:	FORMAT=image/png
 # Limits of the service in WGS84 coordinates. 
 # You can use any format here, which is accepted by the input coordinates dialog in cachewolf
+# remark: more than 8 digits after the decimal seperator will cause the
+# program to not recognize it
 # taken from getCapabilieties answer: <BoundingBox SRS="EPSG:4326", dont forget to add "N"/"S" and "E"/"W"
 BoundingBoxTopLeftWGS84:	N 52.7691 E 5.673
 BoundingBoxButtomRightWGS84:	N 49.9944 E 10.142
@@ -88,8 +90,8 @@
 # the map download dialog as that scale is measured vertically 
 # (multiply it ba sqrt(2) and you get the scale used here
 # taken from the getCapabilities request "<Layer><ScaleHint min="
-MinScale:	0.1795783591567183
-MaxScale:	5.611823723647454
+MinScale:	0.17957836
+MaxScale:	5.61182372
 # Plaes recommend a scale for this WMS. This scale will appear in the
 # map download dialog as default. Scale is measured in meters per pixel
 # vertical, so, multiply it by 1.41 (=sqrt(2)) to get the scale as measured



From bilbowolf at mail.berlios.de  Sun Mar  9 11:30:14 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Sun, 9 Mar 2008 11:30:14 +0100
Subject: [Cachewolf-svn] r1233 - trunk/docs/CacheWolf Doku/pics
Message-ID: <200803091030.m29AUEqA025028@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-09 11:29:05 +0100 (Sun, 09 Mar 2008)
New Revision: 1233

Added:
   trunk/docs/CacheWolf Doku/pics/GPS.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_beschreibung.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_bilder.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_details.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_goto.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_hints.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_liste.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_radar.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_rechner.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_solver.jpg
   trunk/docs/CacheWolf Doku/pics/ansicht_tourenplaner.jpg
   trunk/docs/CacheWolf Doku/pics/list_popup.jpg
   trunk/docs/CacheWolf Doku/pics/startup.jpg
Log:


Added: trunk/docs/CacheWolf Doku/pics/GPS.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/GPS.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_beschreibung.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_beschreibung.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_bilder.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_bilder.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_details.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_details.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_goto.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_goto.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_hints.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_hints.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_liste.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_liste.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_radar.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_radar.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_rechner.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_rechner.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_solver.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_solver.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/ansicht_tourenplaner.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansicht_tourenplaner.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/list_popup.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/list_popup.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/startup.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/startup.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From bilbowolf at mail.berlios.de  Sun Mar  9 11:34:24 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Sun, 9 Mar 2008 11:34:24 +0100
Subject: [Cachewolf-svn] r1234 - trunk/docs/CacheWolf Doku
Message-ID: <200803091034.m29AYOJh025401@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-09 11:34:22 +0100 (Sun, 09 Mar 2008)
New Revision: 1234

Added:
   trunk/docs/CacheWolf Doku/menu.xml
Modified:
   trunk/docs/CacheWolf Doku/CacheWolf Dokumentation.xml
   trunk/docs/CacheWolf Doku/Der erste Start.xml
   trunk/docs/CacheWolf Doku/ansichten.xml
Log:


Modified: trunk/docs/CacheWolf Doku/CacheWolf Dokumentation.xml
===================================================================
--- trunk/docs/CacheWolf Doku/CacheWolf Dokumentation.xml	2008-03-09 10:29:05 UTC (rev 1233)
+++ trunk/docs/CacheWolf Doku/CacheWolf Dokumentation.xml	2008-03-09 10:34:22 UTC (rev 1234)
@@ -4,7 +4,7 @@
 <!ENTITY __Installation__f6afn1eo SYSTEM "Installation.xml">
 <!ENTITY __DerersteStart__f6anus0g SYSTEM "Der%20erste%20Start.xml">
 <!ENTITY __ansichten__f6anvxip SYSTEM "ansichten.xml">
-<!ENTITY __Men?struktur__f8znfvl8 SYSTEM "Men?struktur.xml">
+<!ENTITY __menu__fay2x5r3 SYSTEM "menu.xml">
 ]>
 <book>
   <title>CacheWolf Dokumentation</title>
@@ -15,5 +15,5 @@
 
   &__ansichten__f6anvxip;
 
-  &__Men?struktur__f8znfvl8;
+  &__menu__fay2x5r3;
 </book>
\ No newline at end of file

Modified: trunk/docs/CacheWolf Doku/Der erste Start.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-03-09 10:29:05 UTC (rev 1233)
+++ trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-03-09 10:34:22 UTC (rev 1234)
@@ -40,13 +40,27 @@
           kopiert</para>
         </revdescription>
       </revision>
+
+      <revision>
+        <revnumber>0.??</revnumber>
+
+        <date>1. M?rz 2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>xx% fertig.</para>
+        </revdescription>
+      </revision>
     </revhistory>
   </chapterinfo>
 
   <title>Der erste Start</title>
 
   <section>
-    <title>Programmstart</title>
+    <title id="start">Programmstart</title>
 
     <para>Wenn man CacheWolf zum ersten Mal startet, erscheint erst folgendes
     Bild:</para>
@@ -68,8 +82,8 @@
     <para>Dieser fordert dich nun auf, ein Basisverzeichnis auszuw?hlen f?r
     die noch kommenden Cache-Daten. Die Idee dahinter ist folgende: In diesem
     Verzeichnis kannst du beliebig viele Unterordner anlegen; jeder dieser
-    ordner ist ein eigenes Profil (kommt noch!) innerhalb des
-    Cachewolf.</para>
+    ordner ist ein eigenes Profil (siehe: <xref linkend="profil" />) innerhalb
+    des Cachewolf.</para>
 
     <tip>
       <para>Auf einem PocketPC kannst du dieses Verzeichnis auf die
@@ -89,13 +103,13 @@
 
     <para><inlinemediaobject>
         <imageobject>
-          <imagedata fileref="pics/cw_empty.jpg" />
+          <imagedata fileref="pics/cw_empty.jpg" width="600" />
         </imageobject>
       </inlinemediaobject></para>
 
     <para>Keine Angst, wir f?llen dieses gleich...</para>
 
-    <para>Doch zuerst einmal w?hle den Men?punkt <literal>Anwendung -
+    <para>Doch zuerst einmal w?hle den Men?punkt <literal>Anwendung -&gt;
     Pr?ferenzen</literal>, hier stellen wir nun ein paar grunds?tzliche Dinge
     ein:</para>
 
@@ -109,6 +123,63 @@
             <imagedata fileref="pics/pref_1.jpg" />
           </imageobject>
         </inlinemediaobject></para>
+
+      <para>Dieser Tab enth?lt einige Einstellungen. Was die Einstellung f?r
+      Profile bewirkt, ist hier <xref linkend="start" /> schon beschrieben
+      worden. Wenn, der Hacken bei <literal>Profil auto. laden</literal>
+      gesetzt wurde, erscheint beim n?chsten und alle weiteren Starts von
+      CacheWolf der Profil-Abfrageschirm</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/startup.jpg" />
+          </imageobject>
+        </inlinemediaobject> </para>
+
+      <para>nicht mehr.</para>
+
+      <para>Bei Browser kannst Du einen Link zu dem Browserprogramm Deiner
+      Wahl einf?gen.</para>
+
+      <example>
+        <title>Link zum Browser</title>
+
+        <para>Der Internet Explorer unter Windows: <literal>C:\Documents and
+        Settings\USER\Application Data\Microsoft\Internet Explorer\Quick
+        Launch</literal></para>
+      </example>
+
+      <para>Unter <literal>Dein Alias</literal> und <literal>Passwt</literal>
+      kannst Du Deine Zugangsdaten zu <literal>geocaching.com</literal>
+      hinterlegen. <emphasis role="bold">Achtung!</emphasis> Dein Passwort
+      wird nicht verschl?sselt hinterlegt. Im Zweifel solltest Du Dein
+      Passwort hier nicht eingeben. CacheWolf wird beim n?chsten einloggen
+      nach Deinem Passwort fragen.</para>
+
+      <para>Mit CacheWolf ist es m?glich Caches direkt an Deinen GPS Empf?nger
+      zu senden (siehe auch <xref linkend="zu_garmin" />). Unter
+      <literal>GPSBabel</literal> l??t sich der Port einstellen, der von
+      GPSBabel beim Export genutzt werden soll. Der gesetzte Hacken bei
+      Kurznamen sorgt daf?r, das nicht die Waypointnamen an den Empf?nger
+      geschickt werden sondern der etwas verk?rzte Cachename (Biespiel: Grosse
+      Dose wird zu Grsse Dse).</para>
+
+      <para>Durch einen Klick auf den <literal>GPS</literal> Button wird der
+      Schirm zur Einstellung des GPS Empf?ngers angezeigt:</para>
+
+      <section>
+        <title>GPS Einstelungen</title>
+
+        <para></para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/GPS.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para></para>
+      </section>
     </section>
 
     <section>
@@ -119,6 +190,22 @@
             <imagedata fileref="pics/pref_2.jpg" />
           </imageobject>
         </inlinemediaobject></para>
+
+      <para>In diesem Tab kannst Du weitere Look &amp; Feel Einstellungen in
+      CacheWolf vornehmen.</para>
+
+      <para>Bei <literal>Font</literal> stellst Du die allgemeine
+      Schriftgr?sse ein, die CacheWolf benutzt. Der Hacken bei <literal>PDA
+      hat Schliessen Button</literal> hat zur Folge, dass auf dem PDA rechts
+      oben im CacheWolf Fenster ein "X" erscheint. Klickst Du auf dieses "X"
+      wird CacheWolf beendet, und aus dem Speicher entfernt.</para>
+
+      <para>Der Hacken neben <literal>Men? oben</literal> setzt die
+      Men?eintr?ge im PDA oben, ansonsten erscheinen diese unten :-) Das Selbe
+      gilt f?r <literal>Tabs oben</literal>. Ein Hacken hier setzt die Tabs in
+      den Ansichten oben. Der Hacken bei <literal>Status</literal> bewirkt,
+      dass CacheWolf eine Statusleiste in der Listenansicht (siehe <xref
+      linkend="liste" />) anzeigt.</para>
     </section>
 
     <section>
@@ -129,6 +216,30 @@
             <imagedata fileref="pics/pref_3.jpg" />
           </imageobject>
         </inlinemediaobject></para>
+
+      <para>In diesem Tab k?nnen Proxydaten eingegeben werden. Durch setzen
+      des Hackens bei "Proxy verwenden" werden diese Daten beim n?chsten
+      Zugriff ins Internet genutzt.</para>
+
+      <para>CacheWolf kennt aktuell drei Sprachen:</para>
+
+      <itemizedlist>
+        <listitem>
+          <para>DE = Deutsch,</para>
+        </listitem>
+
+        <listitem>
+          <para>EN = Englisch,</para>
+        </listitem>
+
+        <listitem>
+          <para>NL = Niederl?ndisch.</para>
+        </listitem>
+      </itemizedlist>
+
+      <para>Um die Sprache zu ?ndern muss das Zweibuchstabenk?rzel eingegeben
+      werden. Nach einem Neustart wird die eingestellte Sprache
+      benutzt.</para>
     </section>
 
     <section>
@@ -139,16 +250,32 @@
             <imagedata fileref="pics/pref_4.jpg" />
           </imageobject>
         </inlinemediaobject></para>
+
+      <para>In diesem Tab kannst Du einstellen, welche Spalten, in welcher
+      Reihenfolge in der Listenansicht (siehe <xref linkend="liste" />)
+      angezeigt werden sollen.</para>
+
+      <tip>
+        <para>Weniger Spalten beschleunigen das Scrollen auf dem PDA.</para>
+      </tip>
     </section>
 
     <section>
       <title>Einstellung T-Bugs</title>
 
+      <para>CacheWolf besitzt eine integrierte Travelbug - Verwaltung (siehe
+      <xref linkend="tbugs_verwalten" />).</para>
+
+      <para>In diesem Tab kannst Du einstellen, welche Spalten, in welcher
+      Reihenfolge in der Travelbugtabelle angezeigt werden sollen.</para>
+
       <para><inlinemediaobject>
           <imageobject>
             <imagedata fileref="pics/pref_5.jpg" />
           </imageobject>
         </inlinemediaobject></para>
+
+      <para></para>
     </section>
   </section>
 
@@ -210,13 +337,9 @@
             Informationen. Dem kann aber abgeholfen werden: CacheWolf bietet
             die M?glichkeit, einzelne Caches aktualisieren zu k?nnen und hier
             werden auch die Additional Waypoints direkt von der Cacheseite
-            geladen, die keine Koordinaten haben.</para>
-
-            <para></para>
-          </note><warning>
-            <para>link zur popup beschreibung in der listenansicht. (in der
-            note)</para>
-          </warning></para>
+            geladen, die keine Koordinaten haben (siehe <xref
+            linkend="list_popup" />).</para>
+          </note></para>
       </section>
 
       <section>

Modified: trunk/docs/CacheWolf Doku/ansichten.xml
===================================================================
--- trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-09 10:29:05 UTC (rev 1233)
+++ trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-09 10:34:22 UTC (rev 1234)
@@ -1,7 +1,116 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <chapter>
+  <chapterinfo>
+    <date>7.9.2007</date>
+
+    <releaseinfo>In Bearbeitung</releaseinfo>
+
+    <edition>CacheWolf 1.0</edition>
+
+    <author>
+      <surname>Marc Schnitzler</surname>
+    </author>
+
+    <revhistory>
+      <revision>
+        <revnumber>0.1</revnumber>
+
+        <date>7. September 2007</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Erster Entwurf</para>
+        </revdescription>
+      </revision>
+    </revhistory>
+  </chapterinfo>
+
   <title>Ansichten</title>
 
-  <xi:include href="ansichten_liste.xml"
-              xmlns:xi="http://www.w3.org/2001/XInclude" />
+  <section>
+    <title id="liste">Liste</title>
+
+    <para></para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/ansicht_liste.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para></para>
+
+    <section>
+      <title id="list_popup">Popup Men? in der Listenansicht</title>
+
+      <para>Durch einen "Rechtsklick" (oder Klick &amp; Hold auf dem PDA) mit
+      der Maus auf die Tabelle in der Listenansicht erscheint folgendes
+      Men?:</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/list_popup.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para></para>
+    </section>
+  </section>
+
+  <section>
+    <title>Tourenplaner</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>Details</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>Beschreibung</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>Bilder</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>Hints &amp; Logs</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>L?ser</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>Rechner</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>Goto</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title id="radar">Radar</title>
+
+    <para></para>
+  </section>
 </chapter>
\ No newline at end of file

Added: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-03-09 10:29:05 UTC (rev 1233)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-03-09 10:34:22 UTC (rev 1234)
@@ -0,0 +1,226 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<chapter>
+  <chapterinfo>
+    <date>2.1.2008</date>
+
+    <releaseinfo>In Bearbeitung</releaseinfo>
+
+    <edition>CacheWolf 1.0</edition>
+
+    <author>
+      <surname>Marc Schnitzler</surname>
+    </author>
+
+    <revhistory>
+      <revision>
+        <revnumber>0.1</revnumber>
+
+        <date>2. Januar 2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Erster Entwurf</para>
+        </revdescription>
+      </revision>
+    </revhistory>
+  </chapterinfo>
+
+  <title>Die Men?s</title>
+
+  <section>
+    <title>Anwendung</title>
+
+    <para></para>
+
+    <section>
+      <title id="profil">Profil</title>
+
+      <para>Dieser Men?punkt erlaubt die Anlage eines neuen Profils, oder das
+      aktuelle Profil zu wechseln. Bei <literal>Profil -&gt; Laden</literal>
+      wird die gleiche Maske gezeigt, wie beim Start von Cachewolf.</para>
+
+      <para>Profile sind im Prinzip nichts anderes, wie ein Verzeichnis
+      unterhalb des Basisverzeichnisses, dass Du beim ersten Start (siehe:
+      <xref linkend="start" />) von Cachewolf angelegt hast. In dem
+      Profilverzeichnis befindet sich eine Datei mit Namen index.xml. Diese
+      Datei enth?lt, neben der Liste der Caches, die in diesem Verzeichnis
+      gespeichert sind, Angaben zum gesetzten Zentrum und die
+      Filtereinstellungen (f?r dieses Profil).</para>
+    </section>
+
+    <section>
+      <title>Preferenzen</title>
+
+      <para>Mit diesem Men?punkt gelangt man zur Einstellung der Pr?ferenzen.
+      Dieses wurde hier: <xref linkend="editPrefs" /> beschrieben.</para>
+    </section>
+
+    <section>
+      <title>Zentrum</title>
+
+      <para>Unter diesem Men?punkt kann das Zentrum gesetzt werden. Das
+      Zentrum wird in der Listenansicht (siehe: <xref linkend="liste" />) und
+      im Radar (siehe: <xref linkend="radar" />) genutzt, um Entfernungen zu
+      berechnen und anzuzeigen.</para>
+
+      <para>Nach der Men?auswahl erscheint das nachfolgende Fenster:</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/zentrum.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>Die Koordinaten, die neben <literal>Aktuell</literal> stehen, sind
+      die Koordinaten, die Cachewolf gerade als Zentrumskoordinaten betrachtet
+      (offensichtlich). Die Koordinaten, die neben <literal>Profil</literal>
+      stehen sind gespeichert, d.h. beim n?chsten Start von Cachewolf werden
+      diese Koordinaten als Zentrumskoordinaten gesetzt. Durch einen Klick auf
+      die Pfeile nach Unten, bzw. Oben kann man die Koordinaten hin und her
+      kopieren.</para>
+
+      <para>Durch einen Klick auf die Koordinaten selbst gelangt man zu
+      nachfolgendem Fenster:</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/coordsparser.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para></para>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Import</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Export</title>
+
+      <para></para>
+
+      <section>
+        <title id="zu_garmin" xreflabel="Export zu Garmin">Zu Garmin</title>
+
+        <para>Dieser Men?eintrag ist nur dann Aktiv, wenn GPSBabel in dem
+        CacheWolf Verzeichnis gefunden wurde.</para>
+      </section>
+    </section>
+
+    <section>
+      <title>Karten</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Speichern</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Speichern &amp; Beenden</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Beenden</title>
+
+      <para></para>
+    </section>
+  </section>
+
+  <section>
+    <title>Suchen</title>
+
+    <para></para>
+
+    <section>
+      <title>Suchen</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Suche aufheben</title>
+
+      <para></para>
+    </section>
+  </section>
+
+  <section>
+    <title>Filter</title>
+
+    <para></para>
+
+    <section>
+      <title>Anwenden</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Erzeugen</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Umkehren</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Aufheben</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Auswahl filtern</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Zeige Blacklist</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Cachetour</title>
+
+      <para></para>
+    </section>
+  </section>
+
+  <section>
+    <title>Verwalten</title>
+
+    <para></para>
+
+    <section>
+      <title id="tbugs_verwalten">Travelbugs verwalten</title>
+
+      <para></para>
+    </section>
+  </section>
+
+  <section>
+    <title>?ber</title>
+
+    <para></para>
+  </section>
+</chapter>
\ No newline at end of file



From mik77 at mail.berlios.de  Sun Mar  9 12:14:18 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 9 Mar 2008 12:14:18 +0100
Subject: [Cachewolf-svn] r1235 - trunk/src/CacheWolf/navi
Message-ID: <200803091114.m29BEImb029335@sheep.berlios.de>

Author: mik77
Date: 2008-03-09 12:14:16 +0100 (Sun, 09 Mar 2008)
New Revision: 1235

Modified:
   trunk/src/CacheWolf/navi/MovingMap.java
Log:
Reverted some changes because they selected not the best map on automatic map change. They are now only used when manually changing scale.

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-03-09 10:34:22 UTC (rev 1234)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-03-09 11:14:16 UTC (rev 1235)
@@ -974,15 +974,15 @@
 		int h = (height != 0 ? height : pref.myAppHeight);
 		int x, y;
 		CWPoint cll;
-		
-		if (currentMap != null) {
+		if (posCircleX >= 0 && posCircleX <= w && posCircleY >= 0 && posCircleY <= h && ll.isValid()) {
+			x = posCircleX; // posCircle is inside the screen
+			y = posCircleY; // TODO eigentlich interessiert, ob nach dem evtl. Kartenwechsel PosCircle on Screen ist. So wie es jetzt ist, kann 2mal der gleiche Aufruf zum laden unterschiedlicher Karten f?hren, wenn vorher PosCircle nicht auf dem SChirm war, nach dem ersten Laden aber schon.
+			cll = new CWPoint(ll);
+		} else { // when posCircle out of screen - use centre of screen as point which as to be included in the map
 			cll = ScreenXY2LatLon(w/2, h/2);
-		} else {
-			cll = new CWPoint(ll);
-		}
-		x = w/2;
-		y = h/2;
-
+			x = w/2;
+			y = h/2;
+		} 
 		Object[] ret = new Object[2];
 		ret[0] = cll;
 		ret[1] = new Rect(x, y, w, h);
@@ -995,10 +995,17 @@
 	 * @return
 	 */
 	public void loadMoreDetailedMap(boolean betterOverview){
-		Object [] s = getRectForMapChange(posCircle.where);
-		CWPoint cll = (CWPoint) s[0]; 
-		Rect screen = (Rect) s[1]; 
-		//Rect screen = new Rect(posCircleX, posCircleY, (width != 0 ? width : pref.myAppWidth), (height != 0 ? height : pref.myAppHeight));
+		int w = (width != 0 ? width : pref.myAppWidth); // width == 0 happens if this routine is run before the windows is on the screen
+		int h = (height != 0 ? height : pref.myAppHeight);
+		Rect screen = new Rect(w/2, h/2, w, h);
+
+		CWPoint cll;
+		if (currentMap != null) {
+			cll = ScreenXY2LatLon(w/2, h/2);
+		} else {
+			cll = new CWPoint(posCircle.where);
+		}
+		
 		MapInfoObject m = maps.getMapChangeResolution(cll, screen, currentMap.scale / currentMap.zoomFactor, !betterOverview);
 		if (m != null) {
 			boolean saveGpsIgnStatus = dontUpdatePos;



From pfeffer at mail.berlios.de  Mon Mar 10 20:09:55 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Mon, 10 Mar 2008 20:09:55 +0100
Subject: [Cachewolf-svn] r1236 - in trunk/src/CacheWolf: . navi
Message-ID: <200803101909.m2AJ9toi014089@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-10 20:09:51 +0100 (Mon, 10 Mar 2008)
New Revision: 1236

Modified:
   trunk/src/CacheWolf/CWPoint.java
   trunk/src/CacheWolf/navi/Area.java
   trunk/src/CacheWolf/navi/Ellipsoid.java
   trunk/src/CacheWolf/navi/GkPoint.java
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/CacheWolf/navi/TransformCoordinates.java
   trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java
Log:
WMS: WMS-Downloader now supports the italian Gau??-Boaga coordinate reference system (EPSG:3003 and EPSG:3004)

Modified: trunk/src/CacheWolf/CWPoint.java
===================================================================
--- trunk/src/CacheWolf/CWPoint.java	2008-03-09 11:14:16 UTC (rev 1235)
+++ trunk/src/CacheWolf/CWPoint.java	2008-03-10 19:09:51 UTC (rev 1236)
@@ -75,7 +75,7 @@
 	 * @param CWPoint LatLonPoint
 	 */
 
-	public CWPoint(CWPoint cwPoint){
+	public CWPoint(TrackPoint cwPoint){
 		super(cwPoint.latDec, cwPoint.lonDec);
 		this.utmValid = false;
 	}
@@ -152,7 +152,7 @@
 	 * @param CWPoint cwPointt
 	 */
 
-	public void set (CWPoint cwPoint){
+	public void set (TrackPoint cwPoint){
 		this.latDec = cwPoint.latDec;
 		this.lonDec = cwPoint.lonDec;
 		this.utmValid = false;
@@ -329,7 +329,7 @@
 	 * @param strNorthing Northing component
 	 */
 	public void set ( String strEasting, String strNorthing ){
-		GkPoint gk = new GkPoint(Common.parseDouble(strEasting), Common.parseDouble(strNorthing));
+		GkPoint gk = new GkPoint(Common.parseDouble(strEasting), Common.parseDouble(strNorthing), GkPoint.GERMAN_GK);
 		
 		this. latDec = TransformCoordinates.germanGkToWgs84(gk).latDec;
 		this. lonDec = TransformCoordinates.germanGkToWgs84(gk).lonDec;
@@ -491,7 +491,7 @@
 	 * Get GK easting
 	 */
 	public String getGKEasting(int decimalplaces) {
-		double gkEasting = TransformCoordinates.wgs84ToGermanGk(this).getGkEasting();
+		double gkEasting = TransformCoordinates.wgs84ToGermanGk(this).getGkEasting(GkPoint.GERMAN_GK);
 		
 		ewe.sys.Double e = new ewe.sys.Double();
 		e.set(gkEasting);
@@ -500,11 +500,11 @@
 	}
 	
 	public String getGermanGkCoordinates() {
-		return TransformCoordinates.wgs84ToGermanGk(this).toString(0, "R:", " H:");
+		return TransformCoordinates.wgs84ToGermanGk(this).toString(0, "R:", " H:", GkPoint.GERMAN_GK);
 	}
 
-	public String getGermanGkCoordinates(int decimalplaces, String pref, String seperator) {
-		return TransformCoordinates.wgs84ToGermanGk(this).toString(decimalplaces, pref, seperator);
+	public String getGermanGkCoordinates(int decimalplaces, String pref, String seperator, int region) {
+		return TransformCoordinates.wgs84ToGermanGk(this).toString(decimalplaces, pref, seperator, region);
 	}
 	
 	/**

Modified: trunk/src/CacheWolf/navi/Area.java
===================================================================
--- trunk/src/CacheWolf/navi/Area.java	2008-03-09 11:14:16 UTC (rev 1235)
+++ trunk/src/CacheWolf/navi/Area.java	2008-03-10 19:09:51 UTC (rev 1236)
@@ -19,7 +19,7 @@
 		 buttomright = new CWPoint();
 	 }
 
-	 public Area(CWPoint tl, CWPoint br){
+	 public Area(TrackPoint tl, TrackPoint br){
 		 topleft = new CWPoint(tl);
 		 buttomright = new CWPoint(br);
 	 }

Modified: trunk/src/CacheWolf/navi/Ellipsoid.java
===================================================================
--- trunk/src/CacheWolf/navi/Ellipsoid.java	2008-03-09 11:14:16 UTC (rev 1235)
+++ trunk/src/CacheWolf/navi/Ellipsoid.java	2008-03-10 19:09:51 UTC (rev 1236)
@@ -2,8 +2,17 @@
 
 public class Ellipsoid {
 	public double a, b;
-	public Ellipsoid(double ai, double bi) {
+	/**
+	 * 
+	 * @param ai
+	 * @param bi
+	 * @param isminoraxis if true bi is interpreted as axis, if false bi is interpreted as flattening
+	 */
+	public Ellipsoid(double ai, double bi, boolean isminoraxis ) {
 		a = ai;
-		b = bi;
+		if (isminoraxis) b = bi; // flattening = (a - b) / a
+		else {
+			b = a - (1/bi) * a;
+		}
 	}
 }

Modified: trunk/src/CacheWolf/navi/GkPoint.java
===================================================================
--- trunk/src/CacheWolf/navi/GkPoint.java	2008-03-09 11:14:16 UTC (rev 1235)
+++ trunk/src/CacheWolf/navi/GkPoint.java	2008-03-10 19:09:51 UTC (rev 1236)
@@ -10,11 +10,12 @@
 	private double easting; // because it is not clear for routines from outside if the stripe number is included, make this available only through methods
 	int stripe;
 	int stripewidth;
+	float lengthOfStripe0; // e.g. in italien GK stripe 1 is at 9 degree
 
 	public GkPoint() { super(); }
 	
 	public GkPoint(GkPoint p) {
-		set(p.easting, p.northing, p.stripe, p.stripewidth);
+		set(p.easting, p.northing, p.stripe, p.stripewidth, p.lengthOfStripe0);
 	}
 	
 	/**
@@ -22,8 +23,9 @@
 	 * @param e
 	 * @param n
 	 */
-	public GkPoint(double e, double n, int stripewidthi) {
-		set(e - 1000000 * stripe - 500000, n, (int) Math.floor(e / 1000000), stripewidthi);
+	public GkPoint(double e, double n, int stripewidthi, float degreeOfStripeZero) {
+		stripe = (int) Math.floor(e / 1000000);
+		set(e - 1000000 * stripe - 500000, n, stripe, stripewidthi, degreeOfStripeZero);
 	}
 	
 	/**
@@ -33,12 +35,16 @@
 	 * @param e
 	 * @param n
 	 */
-	public GkPoint(double e, double n) {
-		set(e, n, 3);
+	public GkPoint(double e, double n, int region) {
+		switch (region) {
+		case GERMAN_GK:	set(e, n, 3, 0); break;
+		case ITALIAN_GB:	set(e, n, 6, 3); break;
+		default: throw new IllegalArgumentException("GkPoint (double, double, int): region: " + region + " not supported");
+		}
 	}
 	
-	public GkPoint(double e, double n, int stripei, int stripewidthi) {
-		set(e, n, stripei, stripewidthi);
+	public GkPoint(double e, double n, int stripei, int stripewidthi, float degreeOfStripeZero) {
+		set(e, n, stripei, stripewidthi, degreeOfStripeZero);
 	}
 		
 	/**
@@ -47,39 +53,63 @@
 	 * @param n
 	 * @param stripewidthi
 	 */
-	public void set(double e, double n, int stripewidthi) {
+	public void set(double e, double n, int stripewidthi, float degreeOfStripeZero) {
 		double stripei = Math.floor(e / 1000000);
-		set(e - 1000000 * stripei - 500000, n, (int) stripei, stripewidthi);
+		set(e - 1000000 * stripei - 500000, n, (int) stripei, stripewidthi, degreeOfStripeZero);
 	}
 	
 	/**
 	 * @param e in meters from center of stripe, it may not contain the stripenumber
 	 */
-	public void set(double e, double n, int stripei, int stripewidthi) {
+	public void set(double e, double n, int stripei, int stripewidthi, float lenthOfStripeZero_) {
 		stripe = stripei;
 		stripewidth = stripewidthi;
 		easting = e;
 		northing = n;
+		lengthOfStripe0 = lenthOfStripeZero_;
 	}
 	
 	public double getStripeLon() {
-		return stripe * stripewidth;
+		return stripe * stripewidth + lengthOfStripe0; // TODO + stripeoffset
 	}
 	
 	public int getStripe() {
 		return stripe;
 	}
+
+	public TrackPoint toTrackPoint(int region) {
+		return new TrackPoint(northing, getGkEasting(region));
+		}
 	
 	/**
 	 * This will give you the normal Gau?-Kr?ger easting value
 	 * (that means including the stripe number)
 	 * @return
 	 */
-	public double getGkEasting() {
-		double e = easting + 500000 + stripe * 1000000;
+	public static final int GERMAN_GK = 4900;
+	public static final int ITALIAN_GB = 3900; 
+	public static final int DEFAULT_GK = GERMAN_GK;
+	
+
+	/**
+	 * 
+	 * @param region international telephone area code * 100  
+	 * @return
+	 * @throws IllegalArgumentException if region is not supported
+	 */
+	public double getGkEasting(int region) {
+		double e;
+		switch (region) {
+		case GERMAN_GK: e = easting + 500000 + stripe * 1000000; break;
+		case ITALIAN_GB:	
+			e = easting + 500000 + stripe * 1000000;
+			if (stripe == 2) e += 20000; // because of an unknown reason the second stripe in EPSG:3004 has an false easting of 2520000
+		break;
+		default: throw new IllegalArgumentException("getGkEasting: area code " + region + "not supported");
+		}
 		return e;
 	}
-	
+
 	/**
 	 * easting measured in meters from stripe middle
 	 * @return
@@ -96,17 +126,19 @@
 		return northing;
 	}
 	
-	
-	public String toString() {
-		return toString(0, "R: ", " H: ");
-	}
+	/**
+	 * assumes _German_ Gau?-Kr?ger
+	 */
+	/*public String toString() {
+		return toString(0, "R: ", " H: ", GERMAN_GK);
+	}*/
 
 	
-	public String toString(int decimalplaces, String prefix, String seperator) {
+	public String toString(int decimalplaces, String prefix, String seperator, int region) {
 		ewe.sys.Double n = new ewe.sys.Double();
 		ewe.sys.Double e = new ewe.sys.Double();
 		n.set(northing);
-		e.set(getGkEasting());
+		e.set(getGkEasting(region));
 		n.decimalPlaces = decimalplaces;
 		e.decimalPlaces = decimalplaces;
 		return prefix + e.toString().replace(',', '.') + seperator + n.toString().replace(',', '.');

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-09 11:14:16 UTC (rev 1235)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-10 19:09:51 UTC (rev 1236)
@@ -318,7 +318,23 @@
 					if (action == miDD) {
 						mnuContextFormt.close();
 						currFormat = CWPoint.DD;
-					}
+						CWPoint wgs = new CWPoint(39, 11.1);
+						//wgs.set("N 40 26 14.80 E 17 49 32.58");
+						wgs.toString();
+						TransformCoordinates.wgs84ToGaussKrueger(wgs, 3003);
+						GkPoint t = new GkPoint();
+						t.set(1623333.54, 4793630.70, 6, 3);
+						wgs = TransformCoordinates.GkToWgs84(t, GkPoint.ITALIAN_GB); 
+						Vm.debug(wgs.toString());
+						Vm.debug(t.toString(0, "R: ", ", ", GkPoint.ITALIAN_GB));
+						Vm.debug(TransformCoordinates.wgs84ToGaussKrueger(wgs, 3003).toString(0, "R: ", ", ", GkPoint.ITALIAN_GB));
+
+						t.set(1628333.54, 4798630.70, 6, 3);
+						wgs = TransformCoordinates.GkToWgs84(t, GkPoint.ITALIAN_GB); 
+						Vm.debug(wgs.toString());
+						Vm.debug(t.toString(0, "R: ", ", ", GkPoint.ITALIAN_GB));
+						Vm.debug(TransformCoordinates.wgs84ToGaussKrueger(wgs, 3003).toString(0, "R: ", ", ", GkPoint.ITALIAN_GB));
+						}
 					if (action == miDMM) {
 						mnuContextFormt.close();
 						currFormat = CWPoint.DMM;

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2008-03-09 11:14:16 UTC (rev 1235)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2008-03-10 19:09:51 UTC (rev 1236)
@@ -493,27 +493,44 @@
 	//	CWPoint topright = new CWPoint(maparea.topleft.latDec, maparea.buttomright.lonDec);
 	//	CWPoint buttomleft = new CWPoint(maparea.buttomright.latDec, maparea.topleft.lonDec);
 		int crs = getCrs(maparea.topleft);
-		ret[TOPLEFT_INDEX] = TransformCoordinates.wgs84ToGermanGk(maparea.topleft, coordinateReferenceSystem[crs]);
-		ret[BUTTOMRIGHT_INDEX] = TransformCoordinates.wgs84ToGermanGk(maparea.buttomright, coordinateReferenceSystem[crs]);
-		ret[TOPRIGHT_INDEX] = new GkPoint(ret[BUTTOMRIGHT_INDEX].getGkEasting(), ret[TOPLEFT_INDEX].northing);
-		ret[BUTTOMLEFT_INDEX] = new GkPoint(ret[TOPLEFT_INDEX].getGkEasting(), ret[BUTTOMRIGHT_INDEX].northing);
-		Vm.debug("rot left direkt: " + TransformCoordinates.germanGkToWgs84(ret[TOPLEFT_INDEX]).getBearing(TransformCoordinates.germanGkToWgs84(ret[BUTTOMLEFT_INDEX])));
-		Vm.debug("rot right direkt: " + TransformCoordinates.germanGkToWgs84(ret[TOPRIGHT_INDEX]).getBearing(TransformCoordinates.germanGkToWgs84(ret[BUTTOMRIGHT_INDEX])));
+		int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[crs]);
+		ret[TOPLEFT_INDEX] = TransformCoordinates.wgs84ToGaussKrueger(maparea.topleft, coordinateReferenceSystem[crs]);
+		ret[BUTTOMRIGHT_INDEX] = TransformCoordinates.wgs84ToGaussKrueger(maparea.buttomright, coordinateReferenceSystem[crs]);
+		ret[TOPRIGHT_INDEX] = new GkPoint(ret[BUTTOMRIGHT_INDEX].getGkEasting(region), ret[TOPLEFT_INDEX].northing, ret[TOPLEFT_INDEX].stripewidth, ret[TOPLEFT_INDEX].lengthOfStripe0);
+		ret[BUTTOMLEFT_INDEX] = new GkPoint(ret[TOPLEFT_INDEX].getGkEasting(region), ret[BUTTOMRIGHT_INDEX].northing, ret[TOPLEFT_INDEX].stripewidth, ret[TOPLEFT_INDEX].lengthOfStripe0);
+		Vm.debug("rot left direkt: " + TransformCoordinates.GkToWgs84(ret[TOPLEFT_INDEX], region).getBearing(TransformCoordinates.GkToWgs84(ret[BUTTOMLEFT_INDEX], region)));
+		Vm.debug("rot right direkt: " + TransformCoordinates.GkToWgs84(ret[TOPRIGHT_INDEX], region).getBearing(TransformCoordinates.GkToWgs84(ret[BUTTOMRIGHT_INDEX], region)));
 		//ret[2] = TransformCoordinates.wgs84ToGermanGk(topright, coordinateReferenceSystem[crs]);
 		//ret[3] = TransformCoordinates.wgs84ToGermanGk(buttomleft, coordinateReferenceSystem[crs]);
 		return ret;	
 	}
 	public Area CenterScaleToArea(CWPoint center, float scale, Point pixelsize) {
-		Area bbox = new Area(); // TODO if coordinatesystem == germenGK
-		GkPoint cgk = TransformCoordinates.wgs84ToGermanGk(center, coordinateReferenceSystem[getCrs(center)]);
-		GkPoint tlgk = new GkPoint(cgk);
-		tlgk.shift(- pixelsize.x * scale / 2, 1);
-		tlgk.shift(pixelsize.y * scale / 2, 0);
-		GkPoint brgk = new GkPoint(cgk);
-		brgk.shift(pixelsize.x * scale / 2, 1);
-		brgk.shift(-pixelsize.y * scale / 2, 0);
-		bbox.topleft = TransformCoordinates.germanGkToWgs84(tlgk);
-		bbox.buttomright = TransformCoordinates.germanGkToWgs84(brgk);
+		Area bbox = new Area();
+		int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[0]);
+		if (region > 0 ) {
+			GkPoint cgk = TransformCoordinates.wgs84ToGaussKrueger(center, coordinateReferenceSystem[getCrs(center)]);
+			GkPoint tlgk = new GkPoint(cgk);
+			tlgk.shift(- pixelsize.x * scale / 2, 1);
+			tlgk.shift(pixelsize.y * scale / 2, 0);
+			GkPoint brgk = new GkPoint(cgk);
+			brgk.shift(pixelsize.x * scale / 2, 1);
+			brgk.shift(-pixelsize.y * scale / 2, 0);
+			bbox.topleft = TransformCoordinates.GkToWgs84(tlgk, region);
+			bbox.buttomright = TransformCoordinates.GkToWgs84(brgk, region);
+		} else {
+			switch (coordinateReferenceSystem[0]) {
+			case TransformCoordinates.EPSG_ETRS89:
+			case TransformCoordinates.EPSG_WGS84:
+				bbox.topleft.set(center);
+				bbox.topleft.shift(-pixelsize.x * scale / 2, 1);
+				bbox.topleft.shift(pixelsize.y * scale / 2, 0);
+				bbox.buttomright.set(center);
+				bbox.buttomright.shift(pixelsize.x * scale / 2, 1);
+				bbox.buttomright.shift(-pixelsize.y * scale / 2, 0);
+				break;
+			default: throw new IllegalArgumentException("CenterScaleToArea: epsg: " + coordinateReferenceSystem[0] + " not supported");
+			}
+		}
 		return bbox;
 	}
 
@@ -528,13 +545,14 @@
 		if ( scale < minscaleWMS || scale > maxscaleWMS ) throw new IllegalArgumentException(MyLocale.getMsg(4825, "scale")+" " + scale / Math.sqrt(2)+ MyLocale.getMsg(4826, " not supported by online map service, supported scale range:")+" " + minscale + " - " + maxscale + MyLocale.getMsg(4827, " (measured in meters per pixel vertically)"));
 		int crs = 0;
 		String bbox = "BBOX=";
-		if (TransformCoordinates.isGermanGk(coordinateReferenceSystem[0])) {
+		int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[0]); 
+		if (region > 0) {
 			crs = getCrs(buttomleft);
 			GkPoint[] gk = getGkArea(maparea);
-			buttomleft = TransformCoordinates.germanGkToWgs84(gk[BUTTOMLEFT_INDEX]);
-			topright = TransformCoordinates.germanGkToWgs84(gk[TOPRIGHT_INDEX]);
-			bbox += TransformCoordinates.wgs84ToGermanGk(buttomleft, coordinateReferenceSystem[crs]).toString(2, "", ",");
-			bbox += "," + TransformCoordinates.wgs84ToGermanGk(topright, coordinateReferenceSystem[crs]).toString(2, "", ",");
+			buttomleft = TransformCoordinates.GkToWgs84(gk[BUTTOMLEFT_INDEX], region);
+			topright = TransformCoordinates.GkToWgs84(gk[TOPRIGHT_INDEX], region);
+			bbox += TransformCoordinates.wgs84ToGaussKrueger(buttomleft, coordinateReferenceSystem[crs]).toString(2, "", ",", region);
+			bbox += "," + TransformCoordinates.wgs84ToGaussKrueger(topright, coordinateReferenceSystem[crs]).toString(2, "", ",", region);
 		} else if (coordinateReferenceSystem[0] == TransformCoordinates.EPSG_WGS84) 
 			bbox += buttomleft.toString(CWPoint.LON_LAT)  + "," + topright.toString(CWPoint.LON_LAT);
 		else throw new IllegalArgumentException(MyLocale.getMsg(4828, "Coordinate system not supported by cachewolf:")+" " + coordinateReferenceSystem.toString());
@@ -554,10 +572,11 @@
 	 * @param p Point for which the epsg code is searched for
 	 * @return
 	 */
-	private int getCrs(CWPoint p) {
+	private int getCrs(TrackPoint p) {
 		int crs = 0;
 		if (coordinateReferenceSystem.length > 1) {
-			GkPoint gkbl = TransformCoordinates.wgs84ToGermanGk(p); // TODO: think / read about what to do if buttom left and top right ae not in the same Gau?-Kr?ger stripe?
+			int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[0]);
+			GkPoint gkbl = TransformCoordinates.wgs84ToGk(p, region); // TODO: think / read about what to do if buttom left and top right ae not in the same Gau?-Kr?ger stripe?
 			crs = TransformCoordinates.whichEpsg(coordinateReferenceSystem, gkbl);
 			if (crs < 0) throw new IllegalArgumentException(MyLocale.getMsg(4829, "getUrlForBoundingBox: Point:")+" " + gkbl.toString() + MyLocale.getMsg(4830, "no matching Gau?-Kr?ger-Stripe in the EPSG-code list in the .wms"));
 		}
@@ -575,7 +594,8 @@
 		CWPoint buttomright = new CWPoint(maparea.buttomright);
 		double metersperpixalhorizontal = ( buttomright.getDistance(buttomleft) + topleft.getDistance(topright))/2 * 1000 / pixelsize.x; 
 		double metersperpixalvertical = ( buttomright.getDistance(topright) + topleft.getDistance(buttomleft))/2 * 1000 / pixelsize.y;
-		if (TransformCoordinates.isGermanGk(coordinateReferenceSystem[0])) {
+		int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[0]); 
+		if ( region > 0) {
 			GkPoint[] gk = getGkArea(maparea);
 			// bounding box in WMS is defined around the pixels, not exactly on the pixels --> the bounding box must be reduced on all edges by half a pixel
 			gk[TOPLEFT_INDEX].shift(metersperpixalhorizontal / 2, 1);
@@ -589,10 +609,10 @@
 
 			Vm.debug("\n" + maparea.topleft.toString(CWPoint.LAT_LON));
 			//Vm.debug(TransformCoordinates.germanGkToWgs84(TransformCoordinates.wgs84ToGermanGk(maparea.topleft)).toString(CWPoint.LAT_LON));
-			topleft.set(gk[TOPLEFT_INDEX].northing, gk[TOPLEFT_INDEX].getGkEasting());
-			buttomright.set(gk[BUTTOMRIGHT_INDEX].northing, gk[BUTTOMRIGHT_INDEX].getGkEasting());
-			topright.set(gk[TOPRIGHT_INDEX].northing, gk[TOPRIGHT_INDEX].getGkEasting());
-			buttomleft.set(gk[BUTTOMLEFT_INDEX].northing, gk[BUTTOMLEFT_INDEX].getGkEasting());
+			topleft.set(gk[TOPLEFT_INDEX].northing, gk[TOPLEFT_INDEX].getGkEasting(region));
+			buttomright.set(gk[BUTTOMRIGHT_INDEX].northing, gk[BUTTOMRIGHT_INDEX].getGkEasting(region));
+			topright.set(gk[TOPRIGHT_INDEX].northing, gk[TOPRIGHT_INDEX].getGkEasting(region));
+			buttomleft.set(gk[BUTTOMLEFT_INDEX].northing, gk[BUTTOMLEFT_INDEX].getGkEasting(region));
 		} else if (coordinateReferenceSystem[0] == TransformCoordinates.EPSG_WGS84) {
 			// bounding box in WMS is defined around the pixels, not exactly on the pixels --> the bounding box must be reduced on all edges by half a pixel
 			topleft.shift(metersperpixalhorizontal / 2, 1);
@@ -609,14 +629,14 @@
 
 		MapInfoObject ret = new MapInfoObject();
 		ret.evalGCP(georef, pixelsize.x, pixelsize.y, coordinateReferenceSystem[getCrs(maparea.topleft)]);
-		Vm.debug("\n nach kal");
-		Vm.debug("fehler tl: " + ret.calcLatLon(0, 0).getDistance(maparea.topleft)*1000);
-		Vm.debug("fehler tl: " + ret.calcLatLon(0, 0).getBearing(maparea.topleft));
-		Vm.debug("fehler br: " + ret.calcLatLon(pixelsize.x, pixelsize.y).getDistance(maparea.buttomright)*1000);
-		Vm.debug("fehler br: " + ret.calcLatLon(pixelsize.x, pixelsize.y).getBearing(maparea.buttomright));
-		Vm.debug(ret.calcLatLon(pixelsize.x, pixelsize.y).toString(CWPoint.LAT_LON));
-		Vm.debug(ret.calcLatLon(pixelsize.x, 0).toString(CWPoint.LAT_LON));
-		Vm.debug(ret.calcLatLon(0, pixelsize.y).toString(CWPoint.LAT_LON));
+		//Vm.debug("\n nach kal");
+		//Vm.debug("fehler tl: " + ret.calcLatLon(0, 0).getDistance(maparea.topleft)*1000);
+		//Vm.debug("fehler tl: " + ret.calcLatLon(0, 0).getBearing(maparea.topleft));
+		//Vm.debug("fehler br: " + ret.calcLatLon(pixelsize.x, pixelsize.y).getDistance(maparea.buttomright)*1000);
+		//Vm.debug("fehler br: " + ret.calcLatLon(pixelsize.x, pixelsize.y).getBearing(maparea.buttomright));
+		//Vm.debug(ret.calcLatLon(pixelsize.x, pixelsize.y).toString(CWPoint.LAT_LON));
+		//Vm.debug(ret.calcLatLon(pixelsize.x, 0).toString(CWPoint.LAT_LON));
+		//Vm.debug(ret.calcLatLon(0, pixelsize.y).toString(CWPoint.LAT_LON));
 		return ret;
 	}
 }

Modified: trunk/src/CacheWolf/navi/TransformCoordinates.java
===================================================================
--- trunk/src/CacheWolf/navi/TransformCoordinates.java	2008-03-09 11:14:16 UTC (rev 1235)
+++ trunk/src/CacheWolf/navi/TransformCoordinates.java	2008-03-10 19:09:51 UTC (rev 1236)
@@ -35,11 +35,15 @@
 	public static final int EPSG_GK2 = 31466; 
 	public static final int EPSG_GK3 = 31467; 
 	public static final int EPSG_GK4 = 31468; 
-	public static final int EPSG_GK5 = 31469; 
+	public static final int EPSG_GK5 = 31469;
+	/** Gau?-Boaga, Monte Mario, Roma 1940, IT_ROMA1940 */
+	public static final int EPSG_ITALIAN_GB_EW1 = 3003; 
+	public static final int EPSG_ITALIAN_GB_EW2 = 3004;
 	
-	private static final Ellipsoid BESSEL = new Ellipsoid(6377397.155, 6356078.962);
-	public static final Ellipsoid WGS84 = new Ellipsoid(6378137.000, 6356752.314);
-
+	private static final Ellipsoid BESSEL = new Ellipsoid(6377397.155, 6356078.962, true);
+	public static final Ellipsoid WGS84 = new Ellipsoid(6378137.000, 6356752.314, true);
+	public static final Ellipsoid HAYFORD1909 = new Ellipsoid(6378388, 297, false);
+	
 	//	 taken from http://crs.bkg.bund.de/crs-eu/ click on "national CRS" -> germany -> DE_DHDN / GK_3 -> DE_DHDN (North) to ETRS89
 	//	 they are the same as http://www.geoclub.de/files/GK_nach_GPS.xls "Parametersatz 4 = Deutschland Nord"
 	private static final TransformParameters GK_NORD_GERMANY_TO_WGS84 = new TransformParameters(590.5, 69.5, 411.6, 0.796, 0.052, 3.601, 8.300, false);
@@ -79,9 +83,23 @@
 	/** Use this for Germany if there is no more specific available. maximal deviations unknown */
 	public static final TransformParameters GK_GERMANY_2001 =  GK_GERMANY_2001_TO_WGS84;
 
+	/** The italian variant of Gau?-Kr?ger (Gau?-Boaga) */
+	// taken from http://crs.bkg.bund.de/crs-eu/ -> italy -> ROMA40 (change the sign of the rotation parameters!)
+	public static final TransformParameters GB_ITALIAN_PENINSULAR_TO_WGS84 =  new TransformParameters(-104.1, -49.1, -9.9, -0.971, 2.917, -0.714, -11.68, false);;
+	//static final Area ITALY_PENINSULAR = new Area(new CWPoint());
+	public static final TransformParameters GB_ITALIAN_SARDINIA_TO_WGS84 =  new TransformParameters(-168.6, -34.0, 38.6, 0.374, 0.679, 1.379, -9.48, false);;
+	static final Area ITALY_SARDINIA = new Area(new CWPoint(42, 6), new CWPoint(38, 11));
+	static final Area ITALY_SARDINIA_GK = new Area(wgs84ToGaussKrueger(ITALY_SARDINIA.topleft, EPSG_ITALIAN_GB_EW1).toTrackPoint(GkPoint.ITALIAN_GB),
+			wgs84ToGaussKrueger(ITALY_SARDINIA.buttomright, EPSG_ITALIAN_GB_EW1).toTrackPoint(GkPoint.ITALIAN_GB));
 
+	public static final TransformParameters GB_ITALIAN_SICILIA_TO_WGS84 =  new TransformParameters(-50.2, -50.4, 84.8, 0.690, 2.012, -0.459, -28.08, false);;
+	static final Area ITALY_SICILIA = new Area(new CWPoint(39, 12), new CWPoint(36.3, 15.6));
+	static final Area ITALY_SICILIA_GK = new Area(wgs84ToGaussKrueger(ITALY_SICILIA.topleft, EPSG_ITALIAN_GB_EW2).toTrackPoint(GkPoint.ITALIAN_GB),
+			wgs84ToGaussKrueger(ITALY_SICILIA.buttomright, EPSG_ITALIAN_GB_EW2).toTrackPoint(GkPoint.ITALIAN_GB));
+
 	private TransformCoordinates() {} // as all members are static, so avoid instantiation
 
+	/* replaced by getGkRegion
 	public static boolean isGermanGk(int epsgcode) {
 		boolean ret = false;
 		switch (epsgcode) {
@@ -92,7 +110,27 @@
 		}
 		return ret;
 	}
-
+	*/
+	
+	/**
+	 * 
+	 * @param epsgcode
+	 * @return region code as needed for GkPoint, -1 if not Gau?-Kr?ger or not supported
+	 */
+	public static int getGkRegion(int epsgcode) {
+		int ret;
+		switch (epsgcode) {
+		case EPSG_GK2:
+		case EPSG_GK3:
+		case EPSG_GK4:
+		case EPSG_GK5: ret = GkPoint.GERMAN_GK; break;
+		case EPSG_ITALIAN_GB_EW1:
+		case EPSG_ITALIAN_GB_EW2: ret = GkPoint.ITALIAN_GB; break;
+		default: ret = -1;
+		}
+		return ret;
+	}
+	
 	public static boolean isSupported(int epsgcode) {
 		boolean ret = false;
 		switch (epsgcode) {
@@ -100,7 +138,10 @@
 		case EPSG_GK2:
 		case EPSG_GK3:
 		case EPSG_GK4:
-		case EPSG_GK5: ret = true; 
+		case EPSG_GK5: 
+		case EPSG_ITALIAN_GB_EW1:
+		case EPSG_ITALIAN_GB_EW2:
+			ret = true; 
 		}
 		return ret;
 	}
@@ -114,28 +155,55 @@
 	 */
 	public static CWPoint germanGkToWgs84(GkPoint gk) {
 		if (gk.northing <= 6089288.064 && gk.northing >= 5585291.767 && // these coordinates are transformed ones from the invers routine
-				( gk.getStripe() == 4 && gk.getGkEasting() >= 4404124.247 && gk.getGkEasting() <= 4679300.398) ||
-				( gk.getStripe() == 5 && gk.getGkEasting() >= 5211904.597 && gk.getGkEasting() <= 5466056.603)
-			) return gkToWgs84(gk, GK_GERMANY_2001);
-		if (gk.northing <= 6097247.910 && gk.northing >= 5800464.725 )return gkToWgs84(gk, GK_NORD_GERMANY);
-		if (gk.northing <= 5800464.725 && gk.northing >= 5577963.555 )return gkToWgs84(gk, GK_MID_GERMANY);
-		if (gk.northing <= 5577963.555 && gk.northing >= 5207294.028 )return gkToWgs84(gk, GK_SOUTH_GERMANY);
-		return  gkToWgs84(gk, GK_GERMANY_2001); 	//TODO use more lokalized transformparameters, which can be obtained from the Landesvermessungs?mter
+				( gk.getStripe() == 4 && gk.getGkEasting(GkPoint.GERMAN_GK) >= 4404124.247 && gk.getGkEasting(GkPoint.GERMAN_GK) <= 4679300.398) ||
+				( gk.getStripe() == 5 && gk.getGkEasting(GkPoint.GERMAN_GK) >= 5211904.597 && gk.getGkEasting(GkPoint.GERMAN_GK) <= 5466056.603)
+			) return gkToWgs84(gk, BESSEL, GK_GERMANY_2001, 1);
+		if (gk.northing <= 6097247.910 && gk.northing >= 5800464.725 )return gkToWgs84(gk, BESSEL, GK_NORD_GERMANY, 1);
+		if (gk.northing <= 5800464.725 && gk.northing >= 5577963.555 )return gkToWgs84(gk, BESSEL, GK_MID_GERMANY, 1);
+		if (gk.northing <= 5577963.555 && gk.northing >= 5207294.028 )return gkToWgs84(gk, BESSEL, GK_SOUTH_GERMANY, 1);
+		return  gkToWgs84(gk, BESSEL, GK_GERMANY_2001, 1);
 	}
+	public static CWPoint italianGkToWgs84(GkPoint gk) {
+		if (ITALY_SARDINIA_GK.isInBound(gk.toTrackPoint(GkPoint.ITALIAN_GB))) return gkToWgs84(gk, HAYFORD1909, GB_ITALIAN_SARDINIA_TO_WGS84, 0.9996);
+		if (ITALY_SICILIA_GK.isInBound(gk.toTrackPoint(GkPoint.ITALIAN_GB))) return gkToWgs84(gk, HAYFORD1909, GB_ITALIAN_SICILIA_TO_WGS84, 0.9996);
+		else return gkToWgs84(gk, HAYFORD1909, GB_ITALIAN_PENINSULAR_TO_WGS84, 0.9996);
+	}
 
+	public static CWPoint GkToWgs84(GkPoint gk, int region) {
+		switch (region) {
+		case GkPoint.GERMAN_GK: return germanGkToWgs84(gk);
+		case GkPoint.ITALIAN_GB: return italianGkToWgs84(gk);
+		}
+		throw new IllegalArgumentException("GkToWgs84: region: " + region + " not supported");
+	}
+	
 	/**
 	 * This is the most abstract method: If you don't know 
 	 * when to use another one (if you are in need to do so, you will
 	 * know), use this one. This routine chooses automatically the best known
-	 * transformation parameters. Currently the maximam deviation is 1m for the
+	 * transformation parameters. Currently the maximal deviation is 1m for the
 	 * former BRD and 1.13m for the former GDR 
 	 * It also chooses automatically the correct stripe
 	 * @param gk
 	 * @return
 	 */
 	public static GkPoint wgs84ToGermanGk(CWPoint ll) {
-		return  wgs84ToGk(ll, getGermanGkTransformParameters(ll)); 	
+		return  wgs84ToGk(ll, GkPoint.GERMAN_GK); 	
 	}
+
+	/**
+	 * 
+	 * @param ll
+	 * @param region e.g. GkPoint.GERMAN_GK 
+	 * @return
+	 */
+	public static GkPoint wgs84ToGk(TrackPoint ll, int region) {
+		switch (region) {
+		case GkPoint.GERMAN_GK:	return  wgs84ToGk(ll, BESSEL, getGermanGkTransformParameters(ll), -1, 3, 0, 1); 	
+		case GkPoint.ITALIAN_GB:return  wgs84ToGk(ll, HAYFORD1909, getItalianGkTransformParameters(ll), -1, 6, 3, 0.9996); 	
+		default: throw new IllegalArgumentException("wgs84ToGk(CWPoint, int): region: " + region + "not supported");
+		}
+	}
 	
 	public static TransformParameters getGermanGkTransformParameters(TrackPoint ll) {
 		if (FORMER_GDR.isInBound(ll)) return GK_GERMANY_2001; // exlcude former GDR from the splitting germany in north/middel/south
@@ -144,18 +212,13 @@
 		if (ll.latDec <= 50.33333334  && ll.latDec >= 47) return  GK_SOUTH_GERMANY;
 		return GK_GERMANY_2001;
 	}
-	
-	/**
-	 * Standard Gau?-Kr?ger: stripewidth = 3, stripe automatically chosen
-	 * @param ll
-	 * @param gk2wgs84
-	 * @return
-	 */
-	public static GkPoint wgs84ToGk(CWPoint ll, TransformParameters gk2wgs84) {
-		return wgs84ToGk(ll, gk2wgs84, -1, 3);
+
+	public static TransformParameters getItalianGkTransformParameters(TrackPoint ll) {
+		if (ITALY_SARDINIA.isInBound(ll)) return GB_ITALIAN_SARDINIA_TO_WGS84;
+		if (ITALY_SICILIA.isInBound(ll)) return GB_ITALIAN_SICILIA_TO_WGS84;
+		else return GB_ITALIAN_PENINSULAR_TO_WGS84;
 	}
 	
-	
 	/**
 	 * This function returns the position in the list of the given epsg code list
 	 * which corresondes to the stripe used in Gau?-Kr?ger Point gk
@@ -167,7 +230,7 @@
 		int stripe = gk.getStripe();
 		int i;
 		for (i = 0; i < epsgcodes.length; i++) {
-			if (getGermanGkStripeEpsg(epsgcodes[i]) == stripe) break;
+			if (getGkStripeEpsg(epsgcodes[i]) == stripe) break;
 		}
 		if (i >= epsgcodes.length) return -1;
 		return i;
@@ -175,7 +238,7 @@
 	
 	/**
 	 * Call this routine to convert from wgs84 into German Gau?-Kr?ger-Coordinates 
-	 * using the Gau?-Kr?ger Projection and the Bessel ellipsoid
+	 * using the Gau?-Kr?ger Projection and the ellipsoid forgk
 	 * If you want the Gau?-Kr?ger-Coordinates in a certain stripe, provide the
 	 * stripe and stripe width, otherwise set stripe to -1, then the stripe 
 	 * will be automatically determined
@@ -184,12 +247,14 @@
 	 * @param stripe stripe to force to, otherwise -1 will determine the stripe automatically
 	 * @return
 	 */ // TODO find out what about the Krassowski in former GDR?
-	public static GkPoint wgs84ToGk(TrackPoint ll, TransformParameters gk2wgs84, int stripe, int stripewidth) {
+	public static GkPoint wgs84ToGk(TrackPoint ll, Ellipsoid forgk, TransformParameters gk2wgs84, int stripe, int stripewidth, int degreeOfStripe0, double scale) {
 		XyzCoordinates wgsxyz = latLon2xyz(ll, 0, WGS84);
-		XyzCoordinates gkxyz = transform(wgsxyz, new TransformParameters(gk2wgs84, true));
-		CWPoint gkll = xyz2Latlon(gkxyz, BESSEL);
-		if (stripe == -1)	return projectLatlon2GkStripeauto(gkll, BESSEL, stripewidth);
-		else return projectLatlon2GK(gkll, BESSEL, stripewidth, stripe); 
+		XyzCoordinates gkxyz = transform(wgsxyz, new TransformParameters(gk2wgs84, true)); // TODO: remove this instantiation, because it is slow
+		CWPoint gkll = xyz2Latlon(gkxyz, forgk);
+		//ewe.sys.Vm.debug("wgs84-ll: " + new CWPoint(ll).toString(CWPoint.DMS));
+		//ewe.sys.Vm.debug("gkll: " + gkll.toString(CWPoint.DMS));
+		if (stripe == -1)	return projectLatlon2GkStripeauto(gkll, forgk, stripewidth, degreeOfStripe0, scale);
+		else return projectLatlon2GK(gkll, forgk, stripewidth, stripe, degreeOfStripe0, scale); 
 	}
 	/**
 	 * Call this method to convert any Gau?-Kr?ger coordinates into
@@ -198,33 +263,39 @@
 	 * @param GK2WGS84 Gau?-Kr?ger-to-WGS84 transformation parameters
 	 * @return
 	 */
-	public static CWPoint gkToWgs84(GkPoint gk, TransformParameters gk2wgs84) {
-		CWPoint gkll = gk2LatLon(gk, BESSEL, 3);
-		XyzCoordinates wgsxyz = latLon2xyz(gkll, 0, BESSEL);
+	public static CWPoint gkToWgs84(GkPoint gk, Ellipsoid gkon, TransformParameters gk2wgs84, double scale) {
+		CWPoint gkll = gk2LatLon(gk, gkon, scale);
+		XyzCoordinates wgsxyz = latLon2xyz(gkll, 0, gkon);
 		XyzCoordinates wgs84xyz = transform(wgsxyz, gk2wgs84);
 		CWPoint wgsll = xyz2Latlon(wgs84xyz, WGS84);
 		return wgsll;
 	}
 	
 	/**
-	 * this routine gives the correct german Gau?-Kr?ger coordinates
+	 * this routine gives the correct Gau?-Kr?ger coordinates
 	 * in the stripe specified by EPSG-Code
 	 * @param wgs84
 	 * @param epsgcode
 	 * @return
-	 * @throws IllegalArgumentException if EPSG code is not german GK or unsupported
+	 * @throws IllegalArgumentException if EPSG code is not supported GK or unsupported
 	 */
-	public static GkPoint wgs84ToGermanGk(TrackPoint wgs84, int epsgcode) throws IllegalArgumentException {
-		return wgs84ToGk(wgs84, getGermanGkTransformParameters(wgs84), getGermanGkStripeEpsg(epsgcode), 3);
+	public static GkPoint wgs84ToGaussKrueger(TrackPoint wgs84, int epsgcode) throws IllegalArgumentException {
+		switch (getGkRegion(epsgcode)) {
+		case GkPoint.GERMAN_GK: return wgs84ToGk(wgs84, BESSEL, getGermanGkTransformParameters(wgs84), getGkStripeEpsg(epsgcode), 3, 0, 1);
+		case GkPoint.ITALIAN_GB: return wgs84ToGk(wgs84, HAYFORD1909, getItalianGkTransformParameters(wgs84), getGkStripeEpsg(epsgcode), 6, 3, 0.9996);
+		}
+		throw new IllegalArgumentException("wgs84ToGaussKrueger: epsg-code: " + epsgcode + "not supported");
 	}
 	
-	private static int getGermanGkStripeEpsg(int epsgcode) {
+	private static int getGkStripeEpsg(int epsgcode) {
 		int stripe;
 		switch (epsgcode) {
 		case EPSG_GK2: stripe = 2; break;
 		case EPSG_GK3: stripe = 3; break;
 		case EPSG_GK4: stripe = 4; break;
 		case EPSG_GK5: stripe = 5; break;
+		case EPSG_ITALIAN_GB_EW1: stripe = 1; break;
+		case EPSG_ITALIAN_GB_EW2: stripe = 2; break;
 		default: throw new IllegalArgumentException("wgs84ToGermanGk: epsgcode: " + epsgcode + MyLocale.getMsg(4900, " is not a german Gauss-Krueger coordinate"));
 		}
 		return stripe; 
@@ -278,8 +349,8 @@
 		double T = Math.atan( from.z * ellipsoid.a / (s * ellipsoid.b));
 		double B = Math.atan( (from.z + e2 * Math.pow(ellipsoid.a, 2) / ellipsoid.b * Math.pow(Math.sin(T), 3) )/(s - e2 * ellipsoid.a * Math.pow(Math.cos(T),3)));
 		double L = Math.atan(from.y / from.x);
-		double N = ellipsoid.a / Math.sqrt(1 - e2 * Math.pow(Math.sin(B),2));
-		double h = s / Math.cos(B)- N;
+		// not used: double N = ellipsoid.a / Math.sqrt(1 - e2 * Math.pow(Math.sin(B),2));
+		// not used: double h = s / Math.cos(B)- N;
 		CWPoint ret = new CWPoint();
 		ret.latDec = B * 180/Math.PI;
 		ret.lonDec = L * 180/Math.PI;
@@ -287,15 +358,16 @@
 		return ret;
 	}
 
-	private static GkPoint projectLatlon2GkStripeauto(CWPoint latlon, Ellipsoid ellipsoid, int stripewidth) {
+	private static GkPoint projectLatlon2GkStripeauto(CWPoint latlon, Ellipsoid ellipsoid, int stripewidth, float degreeOfStripe0, double scale) {
 		if (!latlon.isValid()) throw new IllegalArgumentException("projectLatlon2GK: lat-lon not valid");
-		CWPoint ll = new CWPoint(latlon); // copy the point, in order to avoid modifying the parameter latlon
-		if (ll.lonDec < 0) ll.lonDec += 360;
+		double lonDec = latlon.lonDec;
+		lonDec -= degreeOfStripe0;
+		if (lonDec < 0) lonDec += 360;
 		int stripe;
 		for (stripe = 0; stripe <= 360; stripe += stripewidth) {
-			if (Math.abs(ll.lonDec - stripe) <= ((float)stripewidth) / 2) break;
+			if (Math.abs(lonDec - stripe) <= ((float)stripewidth) / 2) break;
 		}
-		return projectLatlon2GK(latlon, ellipsoid, stripewidth, stripe / stripewidth);
+		return projectLatlon2GK(latlon, ellipsoid, stripewidth, stripe / stripewidth, degreeOfStripe0, scale);
 	}
 
 	/**
@@ -304,9 +376,9 @@
 	 * @param ellipsoid
 	 * @return
 	 */
-	private static GkPoint projectLatlon2GK(CWPoint latlon, Ellipsoid ellipsoid, int stripewidth, int stripe) {
+	private static GkPoint projectLatlon2GK(CWPoint latlon, Ellipsoid ellipsoid, int stripewidth, int stripe, float degreeOfStripe0, double scale) {
 		double e2 = (ellipsoid.a * ellipsoid.a - ellipsoid.b * ellipsoid.b)/(ellipsoid.a * ellipsoid.a);
-		double l = (latlon.lonDec - stripe * stripewidth) /180*Math.PI; // TODO see is int to double works
+		double l = (latlon.lonDec - degreeOfStripe0 - stripe * stripewidth) /180*Math.PI;
 		double B = latlon.latDec /180*Math.PI;
 		double N = ellipsoid.a/ Math.sqrt(1- e2 * Math.pow(Math.sin(B),2));
 		double nue = Math.sqrt(Math.pow(ellipsoid.a, 2) / Math.pow(ellipsoid.b, 2)* e2 * Math.pow(Math.cos(B), 2));
@@ -322,13 +394,13 @@
 
 		double h1 = t/2 * N * Math.pow(Math.cos(B), 2) * l*l;
 		double h2 = t/24 * N * Math.pow(Math.cos(B),4) * (5 - t*t + 9 * nue*nue + 4*Math.pow(nue, 4)) * Math.pow(l,4);
-		double northing = arclength + h1 + h2;
+		double northing = (arclength + h1 + h2) * scale;
 
 		double r1 = N * Math.cos(B) * l;
 		double r2 = N/6 * Math.pow(Math.cos(B), 3) * (1-t*t+nue*nue)*l*l*l;
-		double easting = r1 + r2;		//+ stripe / stripewidth * 1000000 + 500000;
+		double easting = (r1 + r2) * scale;		//+ stripe / stripewidth * 1000000 + 500000;
 		GkPoint ret = new GkPoint();
-		ret.set(easting, northing, stripe, stripewidth);
+		ret.set(easting, northing, stripe, stripewidth, degreeOfStripe0);
 		return ret;
 	}
 
@@ -339,9 +411,9 @@
 	 * @param stripewidth width in degree of the stripe of the Gau?-Kr?ger-System (3 degreee usually used in Gau?-Kr?ger, 6 degree usually in UTM)
 	 * @return
 	 */
-	private static CWPoint gk2LatLon (GkPoint gkp, Ellipsoid ellipsoid, int stripewidth) {
+	private static CWPoint gk2LatLon (GkPoint gkp, Ellipsoid ellipsoid, double scale) {
 		double L0 = gkp.getStripeLon(); // decimal degree of the center of the stripe
-		double y = gkp.getRawEasting();
+		double y = gkp.getRawEasting()/scale;
 
 		double e2 = (ellipsoid.a * ellipsoid.a - ellipsoid.b * ellipsoid.b)/(ellipsoid.a * ellipsoid.a);
 		// note: n1-n6 are similiar to the n1-n6 in projectLatlon2GK, but some term have different factors
@@ -352,7 +424,7 @@
 		double n5 = Math.pow(n1, 3) * 151/96 - Math.pow(n1, 5) * 417/128;
 		double n6 = Math.pow(n1, 4) * 1097/512;
 
-		double B0 = gkp.northing / n2;
+		double B0 = (gkp.northing / scale) / n2;
 		double Bf = B0 + n3 * Math.sin(B0*2) + n4 * Math.sin(B0*4) + n5 * Math.sin(B0*6) + n6 * Math.sin(B0*8);
 
 		double Nf = ellipsoid.a / Math.sqrt (1- e2 * Math.pow(Math.sin(Bf), 2));
@@ -394,7 +466,7 @@
 	/**
 	 * 
 	 * @param d shift in meter
-	 * @param exi rotation in seconds
+	 * @param exi rotation in seconds (change the sign of the values from http://crs.bkg.bund.de/crs-eu/ )
 	 * @param si deviation of scale multiplied by 10^6 
 	 * @param invert
 	 */

Modified: trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java
===================================================================
--- trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java	2008-03-09 11:14:16 UTC (rev 1235)
+++ trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java	2008-03-10 19:09:51 UTC (rev 1236)
@@ -44,24 +44,24 @@
 	 * @return
 	 */
 	public static TrackPoint fromWgs84(TrackPoint ll, int epsgCode) {
-		TrackPoint ret;
+		TrackPoint ret = null;
 		switch (epsgCode) {
 		case TransformCoordinates.EPSG_WGS84:
 		case TransformCoordinates.EPSG_ETRS89:
 			ret = ll;
-			break;
-		case TransformCoordinates.EPSG_GK2:
-		case TransformCoordinates.EPSG_GK3:
-		case TransformCoordinates.EPSG_GK4:
-		case TransformCoordinates.EPSG_GK5:
-			GkPoint xy = TransformCoordinates.wgs84ToGermanGk(ll, epsgCode);
-			ret = new CWPoint(xy.northing, xy.getGkEasting());
-			break;
-		default: throw new IllegalArgumentException(
-				MyLocale.getMsg(4923, "fromWgs84: EPSG code ") 
-				+ epsgCode 
-				+ MyLocale.getMsg(4921, " not supported"));
 		}
+		if (ret == null) {
+			int region = TransformCoordinates.getGkRegion(epsgCode);
+			if (region > 0) {
+				GkPoint xy = TransformCoordinates.wgs84ToGaussKrueger(ll, epsgCode);
+				ret = xy.toTrackPoint(region);
+			} else {
+				throw new IllegalArgumentException(
+						MyLocale.getMsg(4923, "fromWgs84: EPSG code ") 
+						+ epsgCode 
+						+ MyLocale.getMsg(4921, " not supported"));
+			}
+		}
 		return ret;
 	}
 
@@ -72,24 +72,25 @@
 	 * @return
 	 */
 	public static CWPoint toWgs84(CWPoint p, int epsgCode) {
-		CWPoint ret;
+		CWPoint ret = null;
 		switch (epsgCode) {
 		case TransformCoordinates.EPSG_WGS84:
 		case TransformCoordinates.EPSG_ETRS89:
 			ret = p;
 			break;
-		case TransformCoordinates.EPSG_GK2:
-		case TransformCoordinates.EPSG_GK3:
-		case TransformCoordinates.EPSG_GK4:
-		case TransformCoordinates.EPSG_GK5:
-			GkPoint xy = new GkPoint(p.lonDec, p.latDec);
-			ret = TransformCoordinates.germanGkToWgs84(xy);
-			break;
-		default: throw new IllegalArgumentException(
-				MyLocale.getMsg(4924, "ToWgs84: EPSG code ")
-				+ epsgCode
-				+ MyLocale.getMsg(4921, " not supported"));
 		}
+		if (ret == null) {
+			int region = TransformCoordinates.getGkRegion(epsgCode);
+			if (region > 0) {
+				GkPoint xy = new GkPoint(p.lonDec, p.latDec, TransformCoordinates.getGkRegion(epsgCode));
+				ret = TransformCoordinates.GkToWgs84(xy, region);
+			} else {
+				throw new IllegalArgumentException(
+						MyLocale.getMsg(4924, "ToWgs84: EPSG code ")
+						+ epsgCode
+						+ MyLocale.getMsg(4921, " not supported"));
+			}
+		}
 		return ret;
 	}
 }
\ No newline at end of file



From pfeffer at mail.berlios.de  Mon Mar 10 20:12:55 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Mon, 10 Mar 2008 20:12:55 +0100
Subject: [Cachewolf-svn] r1237 - trunk/res_noewe/webmapservices
Message-ID: <200803101912.m2AJCtJ8014828@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-10 20:12:53 +0100 (Mon, 10 Mar 2008)
New Revision: 1237

Added:
   trunk/res_noewe/webmapservices/it-tosc_topo_25.wms
Modified:
   trunk/res_noewe/webmapservices/readme_wms.txt
Log:
WMS: first version of WMS definition file for Toscana, Italy
WMS: in readme EPSG:3003 and EPSG:3004 added

Added: trunk/res_noewe/webmapservices/it-tosc_topo_25.wms
===================================================================
--- trunk/res_noewe/webmapservices/it-tosc_topo_25.wms	2008-03-10 19:09:51 UTC (rev 1236)
+++ trunk/res_noewe/webmapservices/it-tosc_topo_25.wms	2008-03-10 19:12:53 UTC (rev 1237)
@@ -0,0 +1,46 @@
+# For an explanation of this file format see readme_wms.txt in this directory
+TakenFromUrl:	http://www.rete.toscana.it/sett/territorio/carto/repertorio/geoscopio_wms/
+GetCapabilitiesUrl:		http://web.rete.toscana.it/sgrwms/com.rt.wms.RTmap?ServiceName=_rt_wms_cartografia&service=WMS&request=GetCapabilities
+Name:	it.tosc Topo auto detail
+# taken from getCapabilieties answer: <HTTP><GET><OnlineResource xlink:href=
+# note: if it doesn't work, please try adding an "?" to the URL got from there
+MainUrl:	http://web.rete.toscana.it:80/sgrwms/com.rt.wms.RTmap/_rt_wms_cartografia?
+MapType: topo
+ServiceTypeUrlPart:	SERVICE=WMS 
+# taken from the getCapabilities request: <WMT_MS_Capabilities version=
+VersionUrlPart:	VERSION=1.1.0 
+CoordinateReferenceSystemCacheWolf:	3003
+# this usually will match the number above
+CoordinateReferenceSystemUrlPart:	SRS=EPSG:3003
+# Post not supported by Cachewolf --> dont change this
+RequestUrlPart:	REQUEST=GetMap
+# comma seperated (without spaces) list of layers to combine
+# all of supported layers you get from the getCapabilities request <Layer><Name>
+# these names are to be used. Special characters must be URL-encode
+LayersUrlPart:	LAYERS=rst25k_igm
+# if the WMS supports different rendering styles, select the one you need here
+# comma seperated (without spaces) list of style commands for map rendering (do not delete this item even if it is empty
+StylesUrlPart:	STYLES=Default,Default,Default,Default,Default,Default,Default,Default
+# format, dont forget to set ImageFileExtension accordingly
+# you get a list of supported image formats from getCapabilieties answer: <GetMap><Format>
+ImageFormatUrlPart:	FORMAT=image/png
+# Limits of the service in WGS84 coordinates. 
+# You can use any format here, which is accepted by the input coordinates dialog in cachewolf
+# taken from getCapabilieties answer: <BoundingBox SRS="EPSG:4326", dont forget to add "N"/"S" and "E"/"W"
+BoundingBoxTopLeftWGS84:	N 44.50080520 E 9.64254863
+BoundingBoxButtomRightWGS84:	N 42.16874557 E 12.46235998
+# scale range that the service supports in meters per pixel (measured diagonal)
+# Please don't wonder that they do mot match the scale given in
+# the map download dialog as that scale is measured vertically 
+# (multiply it ba sqrt(2) and you get the scale used here
+# taken from the getCapabilities request "<Layer><ScaleHint min="
+MinScale:	0
+MaxScale:	100000000000000000000
+# Plaese recommend a scale for this WMS. This scale will appear in the
+# map download dialog as default. Scale is measured in meters per pixel
+# vertical, so, multiply it by 1.41 (=sqrt(2)) to get the scale as measured
+# above in MinScale and MaxScale
+RecommendedScale:	5
+# set this according to ImageFormatUrlPart (must start with ".")
+ImageFileExtension: .png
+

Modified: trunk/res_noewe/webmapservices/readme_wms.txt
===================================================================
--- trunk/res_noewe/webmapservices/readme_wms.txt	2008-03-10 19:09:51 UTC (rev 1236)
+++ trunk/res_noewe/webmapservices/readme_wms.txt	2008-03-10 19:12:53 UTC (rev 1237)
@@ -45,7 +45,7 @@
 # taken from the getCapabilities request: <WMT_MS_Capabilities version=
 VersionUrlPart:	VERSION=1.1.0 
 # The EPSG-Code, supported by cachewolf: german gau?-kr?ger (31466, 31467, 31468, 
-# 31469) and WGS84 (4326)
+# 31469), italian Gau?-Boaga (3003 and 3004) and WGS84 (4326)
 # You get a list of supported coordinate systems from the WMS in the getCapabilieties 
 # answer under <Layer><SRS> or <CRS>
 # Plases feel free to ask for another coordinate system to be supported by cachewolf 



From bilbowolf at mail.berlios.de  Wed Mar 12 05:45:16 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Wed, 12 Mar 2008 05:45:16 +0100
Subject: [Cachewolf-svn] r1238 - trunk/docs/CacheWolf Doku
Message-ID: <200803120445.m2C4jGWc015358@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-12 05:45:08 +0100 (Wed, 12 Mar 2008)
New Revision: 1238

Modified:
   trunk/docs/CacheWolf Doku/Der erste Start.xml
   trunk/docs/CacheWolf Doku/Installation.xml
   trunk/docs/CacheWolf Doku/menu.xml
Log:
Zwei Kapitel der Dokumentation f?r die 1.0 fertig!

Modified: trunk/docs/CacheWolf Doku/Der erste Start.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-03-10 19:12:53 UTC (rev 1237)
+++ trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-03-12 04:45:08 UTC (rev 1238)
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <chapter>
   <chapterinfo>
-    <date>7.9.2007</date>
+    <title>Der erste Start</title>
 
-    <releaseinfo>In Bearbeitung</releaseinfo>
+    <date>12.3.2008</date>
 
-    <edition>CacheWolf 1.0</edition>
+    <releaseinfo>CacheWolf 1.0</releaseinfo>
 
     <author>
       <surname>Marc Schnitzler</surname>
@@ -42,16 +42,16 @@
       </revision>
 
       <revision>
-        <revnumber>0.??</revnumber>
+        <revnumber>0.99</revnumber>
 
-        <date>1. M?rz 2008</date>
+        <date>12. M?rz 2008</date>
 
         <author>
           <surname>Marc Schnitzler</surname>
         </author>
 
         <revdescription>
-          <para>xx% fertig.</para>
+          <para>Kapitel fertig.</para>
         </revdescription>
       </revision>
     </revhistory>
@@ -134,7 +134,7 @@
           <imageobject>
             <imagedata fileref="pics/startup.jpg" />
           </imageobject>
-        </inlinemediaobject> </para>
+        </inlinemediaobject></para>
 
       <para>nicht mehr.</para>
 
@@ -178,7 +178,14 @@
             </imageobject>
           </inlinemediaobject></para>
 
-        <para></para>
+        <para>Am besten jetzt auf <literal>Update Ports</literal> klicken.
+        Damit ermittelt CacheWolf welche Ports auf dem PDA zur verf?gung
+        stehen. Danach den Port des GPS Empf?ngers einstellen. Bei
+        <literal>Baud</literal> die Geschwindigkeit des Empf?ngers einstellen;
+        4800 passt in der Regel. Durch einen Klick auf <literal>Test</literal>
+        kannst Du ?berpr?fen, ob eine Verbindung zum Empf?nger besteht. Vorher
+        bitte sicherstellen, dass der Empf?nger angeschaltet ist. Mit
+        <literal>OK</literal> die Einstellungen best?tigen.</para>
       </section>
     </section>
 
@@ -349,18 +356,35 @@
         "Importiere GPX". In den LOC-Dateien sind allerdings sehr wenig
         Informationen enthalten, insbesondere fehlt die Beschreibung des
         Caches.</para>
-
-        <warning>
-          <para>nicht ausf?hrlich genug</para>
-        </warning>
       </section>
 
       <section>
         <title>Direktes herunterladen (spidern)</title>
 
-        <para><warning>
-            <para>Spider beschreiben</para>
-          </warning></para>
+        <para>Durch anw?hlen von <literal>Anwendung -&gt; Import -&gt; Spider
+        von geocaching.com</literal> wirst Du zuerst aufgefordert Dein
+        Passwort einzugeben. Dies ist das gleiche Passwort, wie Du f?r Dein
+        Account bei geocaching.com nutzt. Dein Alias hast Du ja bereits in den
+        Pr?ferenzen eingetragen. Nach der Eingabe Deines Passwortes loggt sich
+        CacheWolf auf der geocaching.com Homepage ein und pr?sentiert dann die
+        SPideroptionen:</para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/spider_gc.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Unter <literal>max. Abstand</literal> wird die Entfernung zum
+        aktuellem Zentrum eingestellt (siehe <xref linkend="zentrum" />).
+        Cachewolf wird alle Caches im Umkreis von dem Zentrum herunterladen.
+        Wird der Hacken bei <literal>Bilder downloaden</literal> gesetzt, wird
+        Cachewolf die Bilder in der Cachebeschreibung als auch die
+        Spoilerbilder herunterladen. </para>
+
+        <para>Mit <literal>OK</literal> wird der Spider gestartet. Je nach
+        Entfernung und Cachedichte wird das Spidern nun einige Zeit in
+        Anspruch nehmen.</para>
       </section>
     </section>
 
@@ -399,10 +423,11 @@
           (je nach Option mit allen in der Cachbeschreibung anzeigezeigten
           Bildern heruntergeladen und automatisch importiert. Dabei merkt sich
           CacheWolf automatisch das Datum, an dem zu letzt heruntergeladen
-          wurde. Bei einem erneuten Aufruf mit dem gleichen Zentrum und dem
-          gleichen Abstand werden dann nur die Hinzuf?gungen und ?nderungen
-          heruntergeladen und eingelesen. Diese Funktion ist bei Opencaching
-          kostenlos, selbst eine Anmeldung ist dort nicht erforderlich.</para>
+          wurde. Bei einem erneuten Aufruf mit dem gleichen Zentrum (siehe
+          <xref linkend="zentrum" />) und dem gleichen Abstand werden dann nur
+          die Hinzuf?gungen und ?nderungen heruntergeladen und eingelesen.
+          Diese Funktion ist bei Opencaching kostenlos, selbst eine Anmeldung
+          ist dort nicht erforderlich.</para>
         </listitem>
       </orderedlist>
     </section>

Modified: trunk/docs/CacheWolf Doku/Installation.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Installation.xml	2008-03-10 19:12:53 UTC (rev 1237)
+++ trunk/docs/CacheWolf Doku/Installation.xml	2008-03-12 04:45:08 UTC (rev 1238)
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <chapter>
   <chapterinfo>
-    <date>7.9.2007</date>
+    <title>Installation</title>
 
-    <releaseinfo>In Bearbeitung</releaseinfo>
+    <date>12.3.2008</date>
 
-    <edition>CacheWolf 1.0</edition>
+    <releaseinfo>CacheWolf 1.0</releaseinfo>
 
     <author>
       <surname>Marc Schnitzler</surname>
@@ -25,6 +25,20 @@
           <para>Erster Entwurf, kopiert www.cachewolf.de</para>
         </revdescription>
       </revision>
+
+      <revision>
+        <revnumber>0.99</revnumber>
+
+        <date>12.3.2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Kapitel fertig</para>
+        </revdescription>
+      </revision>
     </revhistory>
   </chapterinfo>
 

Modified: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-03-10 19:12:53 UTC (rev 1237)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-03-12 04:45:08 UTC (rev 1238)
@@ -59,7 +59,7 @@
     </section>
 
     <section>
-      <title>Zentrum</title>
+      <title id="zentrum">Zentrum</title>
 
       <para>Unter diesem Men?punkt kann das Zentrum gesetzt werden. Das
       Zentrum wird in der Listenansicht (siehe: <xref linkend="liste" />) und



From mik77 at mail.berlios.de  Wed Mar 12 22:27:43 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 12 Mar 2008 22:27:43 +0100
Subject: [Cachewolf-svn] r1239 - in trunk: res_noewe src/CacheWolf
Message-ID: <200803122127.m2CLRhhV021493@sheep.berlios.de>

Author: mik77
Date: 2008-03-12 22:27:40 +0100 (Wed, 12 Mar 2008)
New Revision: 1239

Modified:
   trunk/res_noewe/GCTemplate.html
   trunk/src/CacheWolf/ShowCacheInBrowser.java
Log:
Insert link to online cache description in offline cache description

Modified: trunk/res_noewe/GCTemplate.html
===================================================================
--- trunk/res_noewe/GCTemplate.html	2008-03-12 04:45:08 UTC (rev 1238)
+++ trunk/res_noewe/GCTemplate.html	2008-03-12 21:27:40 UTC (rev 1239)
@@ -65,7 +65,7 @@
 	<FONT face="Verdana" size="-2">&nbsp;&nbsp;&nbsp;(ratings out of 5 stars. 1 is easiest, 5 is hardest)</FONT><br/>
 	Container: <strong><tmpl_var SIZE></strong><br/><br/>
 </div>
-<div style="float:right;margin:0; margin-top:10px"><FONT face="Verdana" size="4"><strong><tmpl_var WAYPOINT></strong></FONT><br/></div>
+<div style="float:right;margin:0; margin-top:10px"><FONT face="Verdana" size="4"><strong><a href="<tmpl_var URL>"><tmpl_var WAYPOINT></a></strong></FONT><br/></div>
 
 <div style="float:left">
 	<div style="float:left;">

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-03-12 04:45:08 UTC (rev 1238)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-03-12 21:27:40 UTC (rev 1239)
@@ -108,7 +108,7 @@
 					}
 					
 					tpl.setParam("DATE", chD.DateHidden);
-//					tpl.setParam("URL", ch.URL);
+					tpl.setParam("URL", chD.URL);
 					if (chD.Travelbugs.size()>0) tpl.setParam("BUGS",chD.Travelbugs.toHtml());
 					if (chD.CacheNotes!=null && chD.CacheNotes.trim().length()>0) tpl.setParam("NOTES", STRreplace.replace(chD.CacheNotes,"\n","<br/>\n"));
 					if (chD.Solver!=null && chD.Solver.trim().length()>0) tpl.setParam("SOLVER", STRreplace.replace(chD.Solver,"\n","<br/>\n"));



From mik77 at mail.berlios.de  Wed Mar 12 23:37:05 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 12 Mar 2008 23:37:05 +0100
Subject: [Cachewolf-svn] r1240 - in trunk: res_noewe/languages src/CacheWolf
Message-ID: <200803122237.m2CMb58t000534@sheep.berlios.de>

Author: mik77
Date: 2008-03-12 23:37:02 +0100 (Wed, 12 Mar 2008)
New Revision: 1240

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/CalcPanel.java
Log:
Additional units (steps=63cm, feet, yards, miles) added to CalcPanel

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-12 21:27:40 UTC (rev 1239)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-12 22:37:02 UTC (rev 1240)
@@ -320,6 +320,10 @@
 		1404=Strecke
 		1405=Koordinaten von GC laden: GCxxxxx unten eingeben
 		1406=Koordinaten in beliebigem Format oder GCxxxx
+		1407=Schritte
+		1408=Fu%df
+		1409=Yards
+		1410=Meilen
 		1500=Ziel:
 		1501=Aktuell
 		1502=Grad

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-12 21:27:40 UTC (rev 1239)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-12 22:37:02 UTC (rev 1240)
@@ -321,6 +321,10 @@
 		1404=Distance
 		1405=To load coordinates from GC, enter GCxxxxx below
 		1406=Enter coordinates in any format or GCxxxx
+		1407=steps
+		1408=feet
+		1409=yards
+		1410=miles
 		1500=DST:
 		1501=Current
 		1502=deg

Modified: trunk/src/CacheWolf/CalcPanel.java
===================================================================
--- trunk/src/CacheWolf/CalcPanel.java	2008-03-12 21:27:40 UTC (rev 1239)
+++ trunk/src/CacheWolf/CalcPanel.java	2008-03-12 22:37:02 UTC (rev 1240)
@@ -86,7 +86,7 @@
 			inpBearing.setPreferredSize(fm.getTextWidth("99999999"),fm.getHeight()*4/3);
 			inpDistance.setPreferredSize(fm.getTextWidth("99999999"),fm.getHeight()*4/3);
 		}
-		BottomP.addLast(chcDistUnit = new mChoice(new String[]{"m", "km"},0),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST)).setTag(CellConstants.INSETS,new ewe.fx.Insets(0,2,0,0));
+		BottomP.addLast(chcDistUnit = new mChoice(new String[]{"m", "km", MyLocale.getMsg(1407,"steps"), MyLocale.getMsg(1408,"feet"), MyLocale.getMsg(1409,"yards"), MyLocale.getMsg(1410,"miles")},0),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST)).setTag(CellConstants.INSETS,new ewe.fx.Insets(0,2,0,0));
 		chcDistUnit.setInt(0);
 		
 		// Buttons for calc and save
@@ -110,12 +110,38 @@
 		coords.set(btnChangeLatLon.getText());
 		currFormat = chkFormat.getSelectedIndex();
 		degKm.degrees = Common.parseDouble(inpBearing.getText());
-		if (chcDistUnit.getInt() == 0)
+		
+		double rawDistance = Common.parseDouble(inpDistance.getText());
+		switch ( chcDistUnit.getInt() ) {
+		case 0:
 			// meter
-			degKm.distance = Common.parseDouble(inpDistance.getText()) / 1000;
-		else 
+			degKm.distance = rawDistance / 1000.0;
+			break;
+		case 1:
 			// kilometer
-			degKm.distance = Common.parseDouble(inpDistance.getText());
+			degKm.distance = rawDistance;
+			break;
+		case 2:
+			// steps
+			degKm.distance = rawDistance * 0.00063;
+			break;
+		case 3:
+			// feet
+			degKm.distance = rawDistance * 0.0003048;
+			break;
+		case 4:
+			// yards
+			degKm.distance = rawDistance * 0.0009144;
+			break;
+		case 5:
+			// miles
+			degKm.distance = rawDistance * 1.609344;
+			break;
+		default:
+			// meter
+			degKm.distance = rawDistance / 1000.0;
+			break;
+		}
 		return;
 	}
 	



From salzkammergut at mail.berlios.de  Sat Mar 15 10:08:06 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 15 Mar 2008 10:08:06 +0100
Subject: [Cachewolf-svn] r1241 - trunk/src/CacheWolf
Message-ID: <200803150908.m2F986fJ006652@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-15 10:08:03 +0100 (Sat, 15 Mar 2008)
New Revision: 1241

Modified:
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/myInteractivePanel.java
   trunk/src/CacheWolf/myTableControl.java
Log:
Bugfix: Sometimes the description was not displayed
See also http://www.geoclub.de/ftopic23011.html, http://www.geoclub.de/ftopic23008.html

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-12 22:37:02 UTC (rev 1240)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-15 09:08:03 UTC (rev 1241)
@@ -150,6 +150,10 @@
 		isNewWpt = isnew;
 	}
 	
+	public boolean isNew() {
+		return isNewWpt;
+	}
+	
 	public boolean isDirty() {
 		return dirty_notes || dirty_details || isNewWpt;
 	}

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-12 22:37:02 UTC (rev 1240)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-15 09:08:03 UTC (rev 1241)
@@ -156,8 +156,10 @@
 			if(detP.isDirty()) {
 				cacheDirty=true;
 				detP.saveDirtyWaypoint();
-				tbP.myMod.updateRows();// This sorts the waypoint (if it is new) into the right position
-				tbP.selectRow(profile.getCacheIndex(detP.thisCache.wayPoint));
+				if (detP.isNew()) {
+					tbP.myMod.updateRows();// This sorts the waypoint (if it is new) into the right position
+					tbP.selectRow(profile.getCacheIndex(detP.thisCache.wayPoint));
+				}
 				//was tbP.refreshTable();
 				tbP.tc.update(true); // Update and repaint
 				if (statBar!=null) statBar.updateDisplay();

Modified: trunk/src/CacheWolf/myInteractivePanel.java
===================================================================
--- trunk/src/CacheWolf/myInteractivePanel.java	2008-03-12 22:37:02 UTC (rev 1240)
+++ trunk/src/CacheWolf/myInteractivePanel.java	2008-03-15 09:08:03 UTC (rev 1241)
@@ -40,6 +40,7 @@
 			String fn = new String();
 			if(which instanceof RadarPanelImage){
 				RadarPanelImage ich = (RadarPanelImage)which;
+				Global.mainTab.clearDetails();				
 				mt.selectAndActive(ich.rownum);
 			}
 		} else {

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-12 22:37:02 UTC (rev 1240)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-15 09:08:03 UTC (rev 1241)
@@ -192,8 +192,6 @@
 	}
 	
 	public void onEvent(Event ev) {
-		// If we changed the cache (e.g. via radar panel, we have to clear the details */
-		if (ev instanceof TableEvent) Global.mainTab.clearDetails();
 		if (ev instanceof PenEvent && (ev.type == PenEvent.PEN_DOWN) ){
 			Global.mainTab.tbP.myMod.penEventModifiers=((PenEvent)ev).modifiers;
 	    } 



From salzkammergut at mail.berlios.de  Sat Mar 15 10:36:13 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 15 Mar 2008 10:36:13 +0100
Subject: [Cachewolf-svn] r1242 - trunk/src/CacheWolf
Message-ID: <200803150936.m2F9aDWv009710@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-15 10:36:11 +0100 (Sat, 15 Mar 2008)
New Revision: 1242

Modified:
   trunk/src/CacheWolf/myTableControl.java
Log:
Eliminated unnecessary second call to clearDetails() each time the cache changed.

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-15 09:08:03 UTC (rev 1241)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-15 09:36:11 UTC (rev 1242)
@@ -76,16 +76,19 @@
 				setSelectForAll(true);
 				ev.consumed = true;
 			}
-			else if (ev.key == IKeys.HOME) Global.mainTab.tbP.selectRow(0); //  cursorTo(0,cursor.x+listMode,true);
-			else if (ev.key == IKeys.END) Global.mainTab.tbP.selectRow(model.numRows-1); //cursorTo(model.numRows-1,cursor.x+listMode,true);
-			else if (ev.key == IKeys.PAGE_DOWN) Global.mainTab.tbP.selectRow(java.lang.Math.min(cursor.y+ getOnScreen(null).height-1, model.numRows-1)); //cursorTo(java.lang.Math.min(cursor.y+ getOnScreen(null).height-1, model.numRows-1),cursor.x+listMode,true); // I don't know why this doesn't work: tbp.doScroll(IScroll.Vertical, IScroll.PageHigher, 1);
-			else if (ev.key == IKeys.PAGE_UP) Global.mainTab.tbP.selectRow(java.lang.Math.max(cursor.y-getOnScreen(null).height+1, 0)); // cursorTo(java.lang.Math.max(cursor.y-getOnScreen(null).height+1, 0),cursor.x+listMode,true);
-			else if (ev.key == IKeys.ACTION || ev.key == IKeys.ENTER) Global.mainTab.select(Global.mainTab.descP);
-			else if (ev.key == IKeys.DOWN) Global.mainTab.tbP.selectRow(java.lang.Math.min(cursor.y+ 1, model.numRows-1)); 
-			else if (ev.key == IKeys.UP) Global.mainTab.tbP.selectRow(java.lang.Math.max(cursor.y-1, 0));
-			else if (ev.key == IKeys.LEFT && Global.mainForm.cacheListVisible && cursor.y>=0 && cursor.y<tbp.myMod.numRows) Global.mainForm.cacheList.addCache(((CacheHolder)cacheDB.elementAt(cursor.y)).wayPoint); 
-			else if (ev.key == 6 ) MainMenu.search(); // (char)6 == ctrl + f 
-			else super.onKeyEvent(ev);
+			else  {
+				Global.mainTab.clearDetails();
+				if (ev.key == IKeys.HOME) Global.mainTab.tbP.selectRow(0); //  cursorTo(0,cursor.x+listMode,true);
+				else if (ev.key == IKeys.END) Global.mainTab.tbP.selectRow(model.numRows-1); //cursorTo(model.numRows-1,cursor.x+listMode,true);
+				else if (ev.key == IKeys.PAGE_DOWN) Global.mainTab.tbP.selectRow(java.lang.Math.min(cursor.y+ getOnScreen(null).height-1, model.numRows-1)); //cursorTo(java.lang.Math.min(cursor.y+ getOnScreen(null).height-1, model.numRows-1),cursor.x+listMode,true); // I don't know why this doesn't work: tbp.doScroll(IScroll.Vertical, IScroll.PageHigher, 1);
+				else if (ev.key == IKeys.PAGE_UP) Global.mainTab.tbP.selectRow(java.lang.Math.max(cursor.y-getOnScreen(null).height+1, 0)); // cursorTo(java.lang.Math.max(cursor.y-getOnScreen(null).height+1, 0),cursor.x+listMode,true);
+				else if (ev.key == IKeys.ACTION || ev.key == IKeys.ENTER) Global.mainTab.select(Global.mainTab.descP);
+				else if (ev.key == IKeys.DOWN) Global.mainTab.tbP.selectRow(java.lang.Math.min(cursor.y+ 1, model.numRows-1)); 
+				else if (ev.key == IKeys.UP) Global.mainTab.tbP.selectRow(java.lang.Math.max(cursor.y-1, 0));
+				else if (ev.key == IKeys.LEFT && Global.mainForm.cacheListVisible && cursor.y>=0 && cursor.y<tbp.myMod.numRows) Global.mainForm.cacheList.addCache(((CacheHolder)cacheDB.elementAt(cursor.y)).wayPoint); 
+				else if (ev.key == 6 ) MainMenu.search(); // (char)6 == ctrl + f 
+				else super.onKeyEvent(ev);
+			}
 		}
 		else super.onKeyEvent(ev);
 	}
@@ -261,7 +264,7 @@
 			if (row != -2 && col != -2){
 				if (scrollToVisible(row,col)) repaintNow();
 				addToSelection(Rect.buff.set(0,row,model.numCols,1),true);
-				fireSelectionEvent(TableEvent.FLAG_SELECTED_BY_ARROWKEY);
+				//fireSelectionEvent(TableEvent.FLAG_SELECTED_BY_ARROWKEY);
 				clickedFlags = TableEvent.FLAG_SELECTED_BY_ARROWKEY;
 				if (clickMode) clicked(row,col);
 				clickedFlags = 0;



From salzkammergut at mail.berlios.de  Sat Mar 15 12:12:15 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 15 Mar 2008 12:12:15 +0100
Subject: [Cachewolf-svn] r1243 - trunk/src/CacheWolf
Message-ID: <200803151112.m2FBCFP9016094@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-15 12:12:13 +0100 (Sat, 15 Mar 2008)
New Revision: 1243

Modified:
   trunk/src/CacheWolf/DescriptionPanel.java
Log:
Fix for http://www.geoclub.de/ftopic21390.html

Modified: trunk/src/CacheWolf/DescriptionPanel.java
===================================================================
--- trunk/src/CacheWolf/DescriptionPanel.java	2008-03-15 09:36:11 UTC (rev 1242)
+++ trunk/src/CacheWolf/DescriptionPanel.java	2008-03-15 11:12:13 UTC (rev 1243)
@@ -36,23 +36,24 @@
 	*/
 	String description = null;
 	public void setText(CacheHolderDetail cache){
+		boolean isHtml=cache.is_HTML;
 		if (currCache == cache) return;
 		int scrollto = 0;
 		if (cache.hasSameMainCache(currCache)) scrollto = disp.getTopLine();
 		if (cache == null) desc = "";
 		else {
 			if (cache.isAddiWpt()) {
+				isHtml=true;
 				if (cache.LongDescription != null && cache.LongDescription.length() > 0)
 					 desc = cache.LongDescription + "<hr>\n"+cache.mainCache.getCacheDetails(true).LongDescription;
 				else desc = cache.mainCache.getCacheDetails(true).LongDescription;
-
 			} else // not an addi-wpt
 				desc = cache.LongDescription;
 		}
 		if (!desc.equals(description)) {
 			//disp.getDecoderProperties().setBoolean("allowImages",true);
 			Vm.showWait(true); 
-			if (cache.is_HTML) {
+			if (isHtml) {
 				if (Global.getPref().descShowImg) {
 					Vector Images;
 					if (cache.isAddiWpt()) {



From salzkammergut at mail.berlios.de  Sat Mar 15 18:11:23 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 15 Mar 2008 18:11:23 +0100
Subject: [Cachewolf-svn] r1244 - trunk/src/CacheWolf
Message-ID: <200803151711.m2FHBNB9009795@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-15 18:11:20 +0100 (Sat, 15 Mar 2008)
New Revision: 1244

Modified:
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/DescriptionPanel.java
Log:
Follow up to Rev 1243. The event logic of the listview ist too complicated to easily maintain it. I will simplify it for the upcoming EVE version.

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2008-03-15 11:12:13 UTC (rev 1243)
+++ trunk/src/CacheWolf/CacheHolder.java	2008-03-15 17:11:20 UTC (rev 1244)
@@ -425,7 +425,14 @@
 		if ((!this.isAddiWpt()) && (!ch.isAddiWpt())) return false;
 		CacheHolder main1, main2;
 		if (this.isAddiWpt()) main1 = this.mainCache;  else main1 = this;
-		if (ch.isAddiWpt()) main2 = ch.mainCache; else main2 = ch; 
+		if (ch instanceof CacheHolderDetail) {
+			if (ch.isAddiWpt()) 
+				main2=ch.mainCache;
+			else 
+				return main1.wayPoint.equals(ch.wayPoint);
+		} else { // ch instanceof CacheHolder 
+			if (ch.isAddiWpt()) main2 = ch.mainCache; else main2 = ch; 
+		}
 		return main1 == main2;
 	}
 

Modified: trunk/src/CacheWolf/DescriptionPanel.java
===================================================================
--- trunk/src/CacheWolf/DescriptionPanel.java	2008-03-15 11:12:13 UTC (rev 1243)
+++ trunk/src/CacheWolf/DescriptionPanel.java	2008-03-15 17:11:20 UTC (rev 1244)
@@ -34,23 +34,25 @@
 	/**
 	*	Set the text to display. Text should be HTML formated.
 	*/
-	String description = null;
+	//String description = null;
 	public void setText(CacheHolderDetail cache){
 		boolean isHtml=cache.is_HTML;
-		if (currCache == cache) return;
+		//if (currCache == cache) return;
 		int scrollto = 0;
 		if (cache.hasSameMainCache(currCache)) scrollto = disp.getTopLine();
 		if (cache == null) desc = "";
 		else {
 			if (cache.isAddiWpt()) {
-				isHtml=true;
+				CacheHolderDetail mainCache=cache.mainCache.getCacheDetails(true);
+				isHtml=mainCache.is_HTML;
 				if (cache.LongDescription != null && cache.LongDescription.length() > 0)
-					 desc = cache.LongDescription + "<hr>\n"+cache.mainCache.getCacheDetails(true).LongDescription;
-				else desc = cache.mainCache.getCacheDetails(true).LongDescription;
+					 desc = cache.LongDescription + (isHtml?"<hr>\n":"\n")+mainCache.LongDescription;
+				else 
+					desc = mainCache.LongDescription;
 			} else // not an addi-wpt
 				desc = cache.LongDescription;
 		}
-		if (!desc.equals(description)) {
+		//if (!desc.equals(description)) {
 			//disp.getDecoderProperties().setBoolean("allowImages",true);
 			Vm.showWait(true); 
 			if (isHtml) {
@@ -97,12 +99,15 @@
 				disp.endHtml();
 				
 			}
-			else
+			else {
+				disp.startHtml(); // To clear the old HTML display
+				disp.endHtml();
 				disp.setPlainText(desc);
+			}
 			disp.scrollTo(scrollto,false);
-			description = desc;
+			//description = desc;
 			Vm.showWait(false);
-		}
+		//}
 		currCache = cache;
 	}
 	



From kappler at mail.berlios.de  Sat Mar 15 20:33:43 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Sat, 15 Mar 2008 20:33:43 +0100
Subject: [Cachewolf-svn] r1245 - trunk/src/CacheWolf
Message-ID: <200803151933.m2FJXheO009357@sheep.berlios.de>

Author: kappler
Date: 2008-03-15 20:33:31 +0100 (Sat, 15 Mar 2008)
New Revision: 1245

Modified:
   trunk/src/CacheWolf/GPXImporter.java
Log:
Filter-state is restored after GPX-Import

Modified: trunk/src/CacheWolf/GPXImporter.java
===================================================================
--- trunk/src/CacheWolf/GPXImporter.java	2008-03-15 17:11:20 UTC (rev 1244)
+++ trunk/src/CacheWolf/GPXImporter.java	2008-03-15 19:33:31 UTC (rev 1245)
@@ -2,6 +2,7 @@
 
 import ewesoft.xml.*;
 import ewesoft.xml.sax.*;
+import ewe.fx.Color;
 import ewe.io.*;
 import ewe.sys.*;
 import ewe.sys.Double;
@@ -87,6 +88,7 @@
 */	
 	public void doIt(int how){
 		Filter flt = new Filter();
+		boolean wasFiltered = (profile.filterActive==Filter.FILTER_ACTIVE);
 		flt.clearFilter();
 		try{
 			ewe.io.Reader r;
@@ -146,6 +148,10 @@
 				e.printStackTrace();
 				Vm.showWait(false);
 			}
+		if(wasFiltered){
+			flt.setFilter();
+			flt.doFilter();
+		}
 	}
 	public void startElement(String name, AttributeList atts){
 		strBuf=new StringBuffer(300);



From salzkammergut at mail.berlios.de  Sat Mar 15 20:43:40 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 15 Mar 2008 20:43:40 +0100
Subject: [Cachewolf-svn] r1246 - trunk/src/exp
Message-ID: <200803151943.m2FJhe5P010550@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-15 20:43:36 +0100 (Sat, 15 Mar 2008)
New Revision: 1246

Modified:
   trunk/src/exp/HTMLExporter.java
Log:
Added HTML-Template variable DATE
See http://www.geoclub.de/ftopic22916-4.html

Modified: trunk/src/exp/HTMLExporter.java
===================================================================
--- trunk/src/exp/HTMLExporter.java	2008-03-15 19:33:31 UTC (rev 1245)
+++ trunk/src/exp/HTMLExporter.java	2008-03-15 19:43:36 UTC (rev 1246)
@@ -97,6 +97,7 @@
 					varParams.put("BEARING", holder.bearing);
 					varParams.put("LATLON", holder.LatLon);
 					varParams.put("STATUS", holder.CacheStatus);
+					varParams.put("DATE", holder.DateHidden);
 					cache_index.add(varParams);
 					//We can generate the individual page here!
 					try{
@@ -112,6 +113,7 @@
 						page_tpl.setParam("BEARING", holder.bearing);
 						page_tpl.setParam("LATLON", holder.LatLon);
 						page_tpl.setParam("STATUS", holder.CacheStatus);
+						page_tpl.setParam("DATE", holder.DateHidden);
 						if (holder.is_HTML)
 							page_tpl.setParam("DESCRIPTION", modifyLongDesc(holder,targetDir));
 						else {



From bilbowolf at mail.berlios.de  Sun Mar 16 13:19:44 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Sun, 16 Mar 2008 13:19:44 +0100
Subject: [Cachewolf-svn] r1247 - in trunk/docs/CacheWolf Doku: . pics
Message-ID: <200803161219.m2GCJi0b000883@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-16 13:19:19 +0100 (Sun, 16 Mar 2008)
New Revision: 1247

Added:
   trunk/docs/CacheWolf Doku/pics/ansichten.jpg
   trunk/docs/CacheWolf Doku/pics/black.jpg
   trunk/docs/CacheWolf Doku/pics/calender.jpg
   trunk/docs/CacheWolf Doku/pics/dnfzeile.png
   trunk/docs/CacheWolf Doku/pics/farbbsp1.jpg
   trunk/docs/CacheWolf Doku/pics/farbbsp2.jpg
   trunk/docs/CacheWolf Doku/pics/gefunden_am.jpg
   trunk/docs/CacheWolf Doku/pics/goto.jpg
   trunk/docs/CacheWolf Doku/pics/menu.jpg
   trunk/docs/CacheWolf Doku/pics/new_cache.jpg
   trunk/docs/CacheWolf Doku/pics/no_1_log.png
   trunk/docs/CacheWolf Doku/pics/no_2_log.png
   trunk/docs/CacheWolf Doku/pics/no_3_log.png
   trunk/docs/CacheWolf Doku/pics/no_4_log.png
   trunk/docs/CacheWolf Doku/pics/notes.jpg
   trunk/docs/CacheWolf Doku/pics/pics.jpg
   trunk/docs/CacheWolf Doku/pics/spider_gc.jpg
   trunk/docs/CacheWolf Doku/pics/statusleiste.jpg
   trunk/docs/CacheWolf Doku/pics/tb.jpg
   trunk/docs/CacheWolf Doku/pics/time.jpg
   trunk/docs/CacheWolf Doku/pics/touricon.jpg
   trunk/docs/CacheWolf Doku/pics/welt.jpg
Modified:
   trunk/docs/CacheWolf Doku/Der erste Start.xml
   trunk/docs/CacheWolf Doku/ansichten.xml
   trunk/docs/CacheWolf Doku/menu.xml
Log:
Doku f?r die 1.0 vorangetrieben.

Modified: trunk/docs/CacheWolf Doku/Der erste Start.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-03-15 19:43:36 UTC (rev 1246)
+++ trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-03-16 12:19:19 UTC (rev 1247)
@@ -250,7 +250,7 @@
     </section>
 
     <section>
-      <title>Einstellung Liste</title>
+      <title id="einstellungListe">Einstellung Liste</title>
 
       <para><inlinemediaobject>
           <imageobject>
@@ -380,7 +380,7 @@
         Cachewolf wird alle Caches im Umkreis von dem Zentrum herunterladen.
         Wird der Hacken bei <literal>Bilder downloaden</literal> gesetzt, wird
         Cachewolf die Bilder in der Cachebeschreibung als auch die
-        Spoilerbilder herunterladen. </para>
+        Spoilerbilder herunterladen.</para>
 
         <para>Mit <literal>OK</literal> wird der Spider gestartet. Je nach
         Entfernung und Cachedichte wird das Spidern nun einige Zeit in

Modified: trunk/docs/CacheWolf Doku/ansichten.xml
===================================================================
--- trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-15 19:43:36 UTC (rev 1246)
+++ trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-16 12:19:19 UTC (rev 1247)
@@ -25,15 +25,41 @@
           <para>Erster Entwurf</para>
         </revdescription>
       </revision>
+
+      <revision>
+        <revnumber>0.3</revnumber>
+
+        <date>16.03.2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>ca. 30% erledigt.</para>
+        </revdescription>
+      </revision>
     </revhistory>
   </chapterinfo>
 
   <title>Ansichten</title>
 
+  <para>CacheWolf bietet verschiedene "Ansichten". Diese werden ?ber die
+  Reiter zur Verf?gung gestellt:</para>
+
+  <para><inlinemediaobject>
+      <imageobject>
+        <imagedata fileref="pics/ansichten.jpg" />
+      </imageobject>
+    </inlinemediaobject></para>
+
   <section>
     <title id="liste">Liste</title>
 
-    <para></para>
+    <para>Die Listenansicht zeigt tabellarisch die Caches im ausgew?hlten
+    Profil an. Welche Spalten scihtbar sind l??t sich in den Pr?ferenzen
+    einstellen (siehe <xref linkend="einstellungListe" />). Ein Doppelklick
+    auf eine Zeile ?ffnet die Beschreibung zu dem Cache.</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -41,8 +67,137 @@
         </imageobject>
       </inlinemediaobject></para>
 
-    <para></para>
+    <para>Nur in dieser Ansicht wird das Men? </para>
 
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/menu.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>angeboten! Die einzelnen Funktionen im Men? werden hier <xref
+    linkend="menue" /> beschrieben.</para>
+
+    <para>Ebenfalls nur in dieser Ansicht verf?gbar ist die
+    Statusleiste:</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/statusleiste.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>?ber diese Leiste l??t sich die Tourenverwaltung <inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/touricon.jpg" />
+        </imageobject>
+      </inlinemediaobject> ?ffnen. Der Tourenplaner wird weiter unten
+    beschrieben. Der aktuelle Filter <inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/filtericon.gif" />
+        </imageobject>
+      </inlinemediaobject> l??t ein- und auschalten. Der Filter <xref
+    linkend="filter" /> wird hier ausf?hrlich beschrieben.</para>
+
+    <para>Durch einen Klick auf den Spaltenkopf wird die Tabelle neu sortiert.
+    Zuerst aufsteigend und dann absteigend, oder andersherum, je nachdem "wo"
+    man angefangen hat. Die Spaltenbreite l??t sich ebefalls ver?ndern.</para>
+
+    <para><emphasis role="bold">In der Listenansicht k?nnen einzelne Zeilen
+    mit Farben hinterlegt sein:</emphasis></para>
+
+    <itemizedlist>
+      <listitem>
+        <para>helles Rot bedeutet, der Cache ist nicht suchbar,</para>
+      </listitem>
+
+      <listitem>
+        <para>dunkles Rot bedeutet, der Cache wurde archiviert,</para>
+      </listitem>
+
+      <listitem>
+        <para>blaue Zeilen kennzeichnen eigene Caches,</para>
+      </listitem>
+
+      <listitem>
+        <para>gr?ne Zeilen kennzeichnen Caches, die man gefunden hat,</para>
+      </listitem>
+
+      <listitem>
+        <para>gelbe Zeilen kennzeichnen Caches, die der Suche
+        entsprechen.</para>
+      </listitem>
+    </itemizedlist>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/farbbsp1.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para><emphasis role="bold">Punkte vor dem Wegpunktnamen informieren ?ber
+    folgende Sachverhalte:</emphasis></para>
+
+    <itemizedlist>
+      <listitem>
+        <para>ein gelber Punkt kennzeichnet den Cache als ?neu? nach einer
+        Datenaktualisierung durch einen GPX?Import oder durch spidern,</para>
+      </listitem>
+
+      <listitem>
+        <para>ein roter Punkt bedeutet, dass es in der Cachebeschreibung ein
+        Update gegeben hat,</para>
+      </listitem>
+
+      <listitem>
+        <para>ein blauer Punkt bedeutet, dass neue Logeintr?ge vorhanden
+        sind.</para>
+      </listitem>
+    </itemizedlist>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/farbbsp2.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para><emphasis role="bold">DNF (did not find = nicht gefunden)
+    Farbcodierung:</emphasis></para>
+
+    <para>Vor einzelnen Cache Namen k?nnen Farbbalken erscheinen. Diese zeigen
+    an, wie h?ufig in Folge der Cache nicht gefunden wurde, wenn der letzte
+    Logeintrag ein DNF war:</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/dnfzeile.png" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/no_1_log.png" />
+        </imageobject>
+      </inlinemediaobject> Letzter Logeintrag ist ein DNF</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/no_2_log.png" />
+        </imageobject>
+      </inlinemediaobject> Letzten beiden Logeintr?ge sind DNFs</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/no_3_log.png" />
+        </imageobject>
+      </inlinemediaobject> Letzten drei Logeintr?ge sind DNFs</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/no_4_log.png" />
+        </imageobject>
+      </inlinemediaobject> Letzten vier oder mehr Logeintr?ge sind DNFs</para>
+
     <section>
       <title id="list_popup">Popup Men? in der Listenansicht</title>
 
@@ -56,7 +211,70 @@
           </imageobject>
         </inlinemediaobject></para>
 
-      <para></para>
+      <orderedlist>
+        <listitem>
+          <para><literal>Beschreibung ?ffnen</literal> ?ffnet die
+          <literal>Details</literal> Ansicht f?r den ausgew?hlten Cache in der
+          <literal>Listen</literal> Ansicht.</para>
+        </listitem>
+
+        <listitem>
+          <para><literal>Gehe zu diesem</literal> ?ffnet die
+          <literal>Goto</literal> Ansicht f?r den gew?hlten Cache. Dabei wird
+          als Zielkoordinate die Koordinate des Caches ?bernommen.</para>
+        </listitem>
+
+        <listitem>
+          <para><literal>Diesen als Zentrum setzen</literal> sortiert die
+          Listenansicht neu; dabei werden die Entfernungen zu den restlichen
+          Caches neu berechnet.</para>
+        </listitem>
+
+        <listitem>
+          <para><literal>Im Browser online ?ffnen</literal>: Die originale
+          Cachebeschreibung wird von geocaching.com oder opencaching.de
+          gezeigt. Braucht eine on-line Verbindung. Die Daten in Cachewolf
+          werden hierbei nicht aktualisiert! In der Java Version wird dies
+          nicht funktionieren, da aktuell ein Bug in der EWE VM vorhanden
+          ist.</para>
+        </listitem>
+
+        <listitem>
+          <para><literal>Im Browser offline ?ffnen</literal>: Die
+          Cachebeschreibung wird in dem Browser (der in den Pr?ferenzen
+          eingestellt wurde) dargestellt. In der Java Version wird dies nicht
+          funktionieren, da aktuell ein Bug in der EWE VM vorhanden
+          ist.</para>
+        </listitem>
+
+        <listitem>
+          <para>Nichtmarkierte ausfiltern: </para>
+        </listitem>
+
+        <listitem>
+          <para><literal>Markierte l?schen</literal>: Es werden alle Caches
+          gel?scht, die mit einem H?kchen versehen sind.</para>
+        </listitem>
+
+        <listitem>
+          <para><literal>Markierte aktualisieren</literal>: Alle Caches, die
+          mit einem H?kchen versehen sind werden aktualisiert indem Cachewolf
+          eine Verbindung zu geocaching.com aufbaut. Hinweis: Arbeitest Du
+          sonst mit GPX - Dateien, dann benutze diese Funktionalit?t, um an
+          die Additional Waypoints zu gelangen, die keine Koordinaten haben
+          (und somit nicht in der GPX Datei vorhanden).</para>
+        </listitem>
+
+        <listitem>
+          <para><literal>Alle w?hlen:</literal> Alle Caches werden mit einem
+          H?kchen vesehen.</para>
+        </listitem>
+
+        <listitem>
+          <para><literal>Alle abw?hlen</literal>: Die H?kchen werden von allen
+          Caches entfernt.</para>
+        </listitem>
+      </orderedlist>
     </section>
   </section>
 
@@ -69,13 +287,124 @@
   <section>
     <title>Details</title>
 
-    <para></para>
+    <para>Die Details?Seite zeigt einige Eckdaten zu dem gew?hlten
+    Cache:.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/ansicht_details.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Weitere Funktionalit?t wird durch die Felder im oberen Rand der
+    Ansicht angeboten:</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/new_cache.jpg" />
+        </imageobject>
+      </inlinemediaobject> Mit diesem Button kann ein neuer Wegpunkt angelegt
+    werden.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/goto.jpg" />
+        </imageobject>
+      </inlinemediaobject> Mit diesem Button wird die <literal>Goto</literal>
+    Ansicht ge?ffnet. Die Zielkoordinaten sind dann bereits auf die
+    Koordinaten des Caches gesetzt.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/tb.jpg" />
+        </imageobject>
+      </inlinemediaobject> Sind Travelbugs in diesem Cache vorhanden (kein
+    roter Strich!) kann man die Beschreibungen zu den TBs ?ffnen.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/welt.jpg" />
+        </imageobject>
+      </inlinemediaobject> Mit der Weltkugel wird eine Karte ge?ffnet, auf dem
+    die Lage des Caches eingezeichnet ist. Die Kartenansicht wird im
+    nachfolgenden Kapitel ausf?hrlich beschrieben.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/pics.jpg" />
+        </imageobject>
+      </inlinemediaobject> Mit diesem Button k?nnen eigene Bilder zum Cache
+    hinzugef?gt werden. Dies d?rfte f?r diejenigen Interessant sein, die ihre
+    Cachereisen archivieren. Zum Thema archivieren gibt es hier <xref
+    linkend="verwalten" /> mehr.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/black.jpg" />
+        </imageobject>
+      </inlinemediaobject> Vielleicht gibt es Caches die einfach "nerven".
+    Durch einen Klick auf diesen Button wird dieser Cache auf die "Blacklist"
+    gesetzt. Somit erscheint er dann nicht mehr in der Listenansicht. Dies ist
+    nicht das gleiche wie l?schen, denn gel?schte Caches w?rden bei der
+    n?chsten Aktualisierung wieder erscheinen.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/notes.jpg" />
+        </imageobject>
+      </inlinemediaobject> Durch einen Klick auf diesen Button wird ein
+    Notizenfenster ge?ffnet. Die Notizen werden mit dem Cache
+    gespeichert.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/time.jpg" />
+        </imageobject>
+      </inlinemediaobject> Durch einen Klick auf diesen Button wird zu den
+    Notizen die Uhrzeit und das Datum des PDAs hinzugef?gt.</para>
+
+    <para>?nderungen in den Textfeldern oder in den Auswahlfeldern werden
+    gespeichert! Am Interessantesten d?rfte das Feld neben
+    <literal>Status</literal> sein. Durch einen Klick auf das Datumsfeld kann
+    das Gefunden Datum gesetzt werden (Datum wird durch ein Klick auf das
+    gr?ne H?ckchen gesetzt). </para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/calender.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Ebenso wird die Uhrzeit gespeichert. </para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/gefunden_am.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <section>
+      <title>Die Kartenansicht</title>
+
+      <para></para>
+    </section>
   </section>
 
   <section>
     <title>Beschreibung</title>
 
-    <para></para>
+    <para>Die Beschreibung erfolgt weitesgehend in HTML. Bilder werden falls
+    m?glich ebenfalls angezeigt.. Ansonsten k?nnen die Bilder in der
+    Bilderansicht (n?chster Reiter) anschauen.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/ansicht_beschreibung.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Mit <literal>+</literal> und <literal>-</literal> l??t sich die
+    Schriftgr??e vergr??ern und verkleinern.</para>
   </section>
 
   <section>

Modified: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-03-15 19:43:36 UTC (rev 1246)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-03-16 12:19:19 UTC (rev 1247)
@@ -28,7 +28,7 @@
     </revhistory>
   </chapterinfo>
 
-  <title>Die Men?s</title>
+  <title id="menue">Die Men?s</title>
 
   <section>
     <title>Anwendung</title>
@@ -116,7 +116,7 @@
     </section>
 
     <section>
-      <title>Karten</title>
+      <title id="karten">Karten</title>
 
       <para></para>
     </section>
@@ -159,7 +159,7 @@
   </section>
 
   <section>
-    <title>Filter</title>
+    <title id="filter">Filter</title>
 
     <para></para>
 
@@ -207,11 +207,35 @@
   </section>
 
   <section>
-    <title>Verwalten</title>
+    <title id="verwalten">Verwalten</title>
 
     <para></para>
 
     <section>
+      <title>Kopieren</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Verschieben</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>L?schen</title>
+
+      <para></para>
+    </section>
+
+    <section>
+      <title>Index neu erstellen</title>
+
+      <para></para>
+    </section>
+
+    <section>
       <title id="tbugs_verwalten">Travelbugs verwalten</title>
 
       <para></para>

Added: trunk/docs/CacheWolf Doku/pics/ansichten.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/ansichten.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/black.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/black.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/calender.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/calender.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/dnfzeile.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/dnfzeile.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/farbbsp1.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/farbbsp1.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/farbbsp2.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/farbbsp2.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/gefunden_am.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/gefunden_am.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/goto.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/goto.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/menu.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/menu.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/new_cache.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/new_cache.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/no_1_log.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/no_1_log.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/no_2_log.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/no_2_log.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/no_3_log.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/no_3_log.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/no_4_log.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/no_4_log.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/notes.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/notes.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/pics.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/pics.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/spider_gc.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/spider_gc.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/statusleiste.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/statusleiste.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/tb.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/tb.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/time.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/time.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/touricon.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/touricon.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/welt.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/welt.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From mik77 at mail.berlios.de  Sun Mar 16 17:07:25 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 16 Mar 2008 17:07:25 +0100
Subject: [Cachewolf-svn] r1248 - in trunk/src/CacheWolf: . navi
Message-ID: <200803161607.m2GG7Psk002122@sheep.berlios.de>

Author: mik77
Date: 2008-03-16 17:07:20 +0100 (Sun, 16 Mar 2008)
New Revision: 1248

Modified:
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/OCXMLImporterScreen.java
   trunk/src/CacheWolf/Profile.java
   trunk/src/CacheWolf/SpiderGC.java
   trunk/src/CacheWolf/navi/MapLoaderGui.java
Log:
OC download now always converts decimal separator of distance to "."
Last used GC spider distance is now saved per profile. (Fallback to OC distance and vice versa)

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-16 12:19:19 UTC (rev 1247)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-16 16:07:20 UTC (rev 1248)
@@ -163,7 +163,7 @@
 		
 		Double distDouble = new Double();
 		distDouble.value = Common.parseDouble(dist);
-		dist = distDouble.toString(0, 3, 0);
+		dist = distDouble.toString(0, 1, 0).replace(',', '.');
 		//check, if distance is greater than before
 		if (Convert.toInt(dist) > Convert.toInt(profile.distOC) ||
 				pref.downloadmissingOC  ){

Modified: trunk/src/CacheWolf/OCXMLImporterScreen.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporterScreen.java	2008-03-16 12:19:19 UTC (rev 1247)
+++ trunk/src/CacheWolf/OCXMLImporterScreen.java	2008-03-16 16:07:20 UTC (rev 1248)
@@ -23,6 +23,7 @@
 	static int IMAGES = 2;
 	static int ALL = 4;
 	static int INCLUDEFOUND = 8;
+	static int ISGC = 16;
 
 	
 	public OCXMLImporterScreen(String title, int options) {
@@ -33,7 +34,19 @@
 		if ((options & DIST) > 0) {
 			this.addNext(distLbl = new mLabel(MyLocale.getMsg(1601,"Distance:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 			distanceInput = new mInput();
-			distanceInput.setText(Global.getProfile().distOC);
+			String dist1;
+			String dist2;
+			if ((options & ISGC) > 0) {
+				dist1 = Global.getProfile().distGC;
+				dist2 = Global.getProfile().distOC;
+			} else {
+				dist1 = Global.getProfile().distOC;
+				dist2 = Global.getProfile().distGC;
+			}
+			if ( dist1.equals("") || dist1.equals("0") || dist1.equals("0.0") ) {
+				dist1 = dist2;
+			}
+			distanceInput.setText(dist1);
 			this.addNext(distanceInput,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 			this.addLast(distUnit = new mLabel(" km"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		}

Modified: trunk/src/CacheWolf/Profile.java
===================================================================
--- trunk/src/CacheWolf/Profile.java	2008-03-16 12:19:19 UTC (rev 1247)
+++ trunk/src/CacheWolf/Profile.java	2008-03-16 16:07:20 UTC (rev 1248)
@@ -39,6 +39,8 @@
 	public String last_sync_opencaching = new String();
 	/** Distance for opencaching caches */
 	public String distOC = new String();
+	/** Distance for geocaching caches */
+	public String distGC = new String();
 
 	public final static boolean SHOW_PROGRESS_BAR = true;
 	public final static boolean NO_SHOW_PROGRESS_BAR = false;
@@ -90,6 +92,7 @@
 		dataDir="";  
 		last_sync_opencaching = "";
 		distOC = "";
+		distGC = "";
 		hasUnsavedChanges=false;
 	}
 
@@ -147,14 +150,18 @@
 				last_sync_opencaching = "20050801000000";
 			}
 			if(distOC == null || distOC.endsWith("null") || distOC.equals("")){
-				distOC = "0";
+				distOC = "0.0";
 			}
+			if(distGC == null || distGC.endsWith("null") || distGC.equals("")){
+				distGC = "0.0";
+			}
 
 			detfile.print("    <FILTER status = \""+filterActive+(filterInverted?"T":"F")+ 
 					"\" rose = \""+filterRose+"\" type = \""+filterType+
 					"\" var = \""+filterVar+"\" dist = \""+filterDist.replace('"',' ')+"\" diff = \""+
 					filterDiff+"\" terr = \""+filterTerr+"\" size = \""+filterSize+"\" attributesYes = \""+filterAttrYes+"\" attributesNo = \""+filterAttrNo+"\" attributesChoice = \""+filterAttrChoice+"\" />\n");
 			detfile.print("    <SYNCOC date = \""+last_sync_opencaching+"\" dist = \""+distOC+"\"/>\n");
+			detfile.print("    <SPIDERGC dist = \""+distGC+"\"/>\n");
 			int size=cacheDB.size();
 			for(int i = 0; i<size;i++){
 				if(showprogress){
@@ -227,6 +234,9 @@
 					last_sync_opencaching=text.substring(start,text.indexOf("\"",start));
 					start=text.indexOf("dist = \"")+8;
 					distOC=text.substring(start,text.indexOf("\"",start));
+				} else if (text.indexOf("<SPIDERGC")>=0) {
+					int start=text.indexOf("dist = \"")+8;
+					distGC=text.substring(start,text.indexOf("\"",start));
 				} else if (text.indexOf("<FILTER")>=0){
 					ex.setSource(text);
 					String temp=ex.findNext(); // Filter status is now first, need to deal with old versions which don't have filter status
@@ -361,7 +371,7 @@
 
 	public String toString() {
 		return "Profile: Name="+name+"\nCentre="+centre.toString()+"\ndataDir="+dataDir+"\nlastSyncOC="+
-		last_sync_opencaching+"\ndistOC="+distOC;
+		last_sync_opencaching+"\ndistOC="+distOC+"\ndistGC="+distGC;
 	}
 
 	public void setSelectForAll(boolean selectStatus) {

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-16 12:19:19 UTC (rev 1247)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-16 16:07:20 UTC (rev 1248)
@@ -27,6 +27,7 @@
 import ewe.net.*;
 import ewe.io.*;
 import ewe.sys.*;
+import ewe.sys.Double;
 import ewe.util.*;
 import com.stevesoft.ewe_pat.*;
 import ewe.ui.*;
@@ -299,12 +300,18 @@
 			if(login() != Form.IDOK) return;
 		}
 
-		OCXMLImporterScreen options = new OCXMLImporterScreen(MyLocale.getMsg(5510,"Spider Options"),	OCXMLImporterScreen.INCLUDEFOUND | OCXMLImporterScreen.DIST| OCXMLImporterScreen.IMAGES);
-		options.distanceInput.setText("");
+		OCXMLImporterScreen options = new OCXMLImporterScreen(MyLocale.getMsg(5510,"Spider Options"),	OCXMLImporterScreen.INCLUDEFOUND | OCXMLImporterScreen.DIST| OCXMLImporterScreen.IMAGES| OCXMLImporterScreen.ISGC);
 		if (options.execute() == OCXMLImporterScreen.IDCANCEL) {return; }
 		String dist = options.distanceInput.getText();
 		if (dist.length()== 0) return;
 		distance = Common.parseDouble(dist);
+		
+		//save last radius to profile
+		Double distDouble = new Double();
+		distDouble.value = distance;
+		dist = distDouble.toString(0, 1, 0).replace(',', '.');
+		profile.distGC = dist;
+
 		boolean doNotgetFound = options.foundCheckBox.getState();
 		boolean getImages = options.imagesCheckBox.getState();
 		options.close(0);

Modified: trunk/src/CacheWolf/navi/MapLoaderGui.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-16 12:19:19 UTC (rev 1247)
+++ trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-16 16:07:20 UTC (rev 1248)
@@ -85,6 +85,7 @@
 		pnlTiles.addNext(distLbl = new mLabel(MyLocale.getMsg(1810,"Within a rectangle of:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		distanceInput = new mInput();
 		int tmp = Convert.toInt((Global.getProfile().distOC));
+		tmp = java.lang.Math.max(tmp, Convert.toInt((Global.getProfile().distGC)));
 		distanceInput.setText(Convert.toString((tmp > 0 ? tmp : 15)));
 		pnlTiles.addNext(distanceInput,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		pnlTiles.addLast(km);



From mik77 at mail.berlios.de  Sun Mar 16 18:07:41 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 16 Mar 2008 18:07:41 +0100
Subject: [Cachewolf-svn] r1249 - in trunk: res_noewe res_noewe/languages
	src/CacheWolf
Message-ID: <200803161707.m2GH7fKs008559@sheep.berlios.de>

Author: mik77
Date: 2008-03-16 18:07:36 +0100 (Sun, 16 Mar 2008)
New Revision: 1249

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/spider.def
   trunk/src/CacheWolf/SpiderGC.java
   trunk/src/CacheWolf/TravelbugJourneyScreen.java
Log:
Get name of travelbug when getting mission via tracking number

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-16 16:07:20 UTC (rev 1248)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-16 17:07:36 UTC (rev 1249)
@@ -733,7 +733,7 @@
 		6041=Lege TB in aktuellen Cache
 		6042=Neuer Travelbug
 		6043=Travelbug l%f6schen
-		6044=Ziel von GC holen
+		6044=Ziel (und Name) abrufen
 		6045=On-line %d6ffnen
 		6046=Nur nicht geloggte zeigen
 		6047=Ausgew%e4hlte Zeilen l%f6schen

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-16 16:07:20 UTC (rev 1248)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-16 17:07:36 UTC (rev 1249)
@@ -719,7 +719,7 @@
 		6041=Drop TB in cache
 		6042=New Travelbug
 		6043=Delete Travelbug
-		6044=Get Mission
+		6044=Get mission (and name)
 		6045=Open on-line
 		6046=Show only not logged
 		6047=Delete selected Travelbugs

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2008-03-16 16:07:20 UTC (rev 1248)
+++ trunk/res_noewe/spider.def	2008-03-16 17:07:36 UTC (rev 1249)
@@ -16,6 +16,7 @@
 # Version 3.0 - 20071010 adaption to new GC-design
 # Version 3.1 - 20071013 Use the given prefix for addi waypoints
 # Version 3.2 - 20071024 longer end sequence for longDescRex
+# Version 3.3 - 20080316 get travelbug name by tracking number
 #============================================================
 # A suffix of Rex indicates a regular expression
 # A suffix of ExStart indicates the start of an Extractor search pattern
@@ -105,7 +106,10 @@
 bugGuidExEnd       = "
 bugNotFound        = No\ results\ were\ found\ for\ your\ search
 bugTotalRecords    = Total\ Records:\ <b>1</b>
+bugNameStart       = <span id="lbHeading">
+bugNameEnd         = </span>
 
+
 #--------------------------------------
 #Section2c: Images
 #--------------------------------------

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-16 16:07:20 UTC (rev 1248)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-16 17:07:36 UTC (rev 1249)
@@ -1318,6 +1318,36 @@
 			return "";
 		}
 	}
+	
+	/**
+	 * Fetch a bug's mission and namefor a given tracking number
+	 * @param TB the travelbug
+	 * @return true if suceeded
+	 */
+	public boolean getBugMissionAndNameByTrackNr(Travelbug TB) {
+		String bugDetails;
+		String trackNr = TB.getTrackingNo();
+		try{
+			pref.log("Fetching bug detailsByTrackNr: "+trackNr);
+			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr);
+		}catch(Exception ex){
+			pref.log("Could not fetch bug details");
+			bugDetails="";
+		}
+		try {
+			if (bugDetails.indexOf(p.getProp("bugNotFound"))>=0) {
+//				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), MessageBox.OKB)).execute();
+				return false;
+			}
+			Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
+			TB.setMission( exDetails.findNext() );
+			Extractor exName = new Extractor(bugDetails,p.getProp("bugNameStart"),p.getProp("bugNameEnd"),0,Extractor.EXCLUDESTARTEND);
+			TB.setName( exName.findNext() );
+			return true;
+		} catch (Exception ex) {
+			return false;
+		}
+	}
 
 	private class myProperties extends Properties {
 		myProperties() {

Modified: trunk/src/CacheWolf/TravelbugJourneyScreen.java
===================================================================
--- trunk/src/CacheWolf/TravelbugJourneyScreen.java	2008-03-16 16:07:20 UTC (rev 1248)
+++ trunk/src/CacheWolf/TravelbugJourneyScreen.java	2008-03-16 17:07:36 UTC (rev 1249)
@@ -534,28 +534,30 @@
 			TravelbugJourney tbj=tblMyTravelbugJourneys.getTBJourney(selectedRow);
 			SpiderGC spider=new SpiderGC(Global.getPref(),Global.getProfile(),false);
 			Vm.showWait(true);
-			String strBugMission = "";
-			// First check whether ID is set
-			if (tbj.getTb().getGuid().length()==0) {
-				//if not, try to get mission by tracking number
+			
+			//if we have an ID, get mission by ID
+			if (tbj.getTb().getGuid().length()!=0) {
+				tbj.getTb().setMission(spider.getBugMissionByGuid(tbj.getTb().getGuid()));
+			} else {
+				//try to get mission and name by tracking number
+				boolean suceeded = false;
 				if (tbj.getTb().getTrackingNo().length() != 0) {
-					strBugMission = spider.getBugMissionByTrackNr(tbj.getTb().getTrackingNo());
+					suceeded = spider.getBugMissionAndNameByTrackNr(tbj.getTb());
 				}
 				//if this has't worked, try to get ID by name
-				if (strBugMission.length() == 0) {
+				if (!suceeded) {
 					tbj.getTb().setGuid(spider.getBugId(tbj.getTb().getName().trim()));
+					//if we have an ID now, get mission by ID
+					if (tbj.getTb().getGuid().length()!=0) {
+						tbj.getTb().setMission(spider.getBugMissionByGuid(tbj.getTb().getGuid()));
+					}
 				}
- 			}
-			// If we have an ID, we can get the mission
-			if ( (strBugMission.length() == 0) && (tbj.getTb().getGuid().length()!=0)) { 
-				strBugMission = spider.getBugMissionByGuid(tbj.getTb().getGuid());
 			}
-			if (strBugMission.length() != 0) {
-				tbj.getTb().setMission(strBugMission);
-			}			
+			
 			Vm.showWait(false);
 			tcTbJourneyList.repaint();
 			txtMission.setHtml(tbj.getTb().getMission());
+			inpName.setText(tbj.getTb().getName());
 			lblId.setText(tbj.getTb().getGuid());
 			lowerpane.repaint();
 		}



From pfeffer at mail.berlios.de  Sun Mar 16 18:52:23 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 16 Mar 2008 18:52:23 +0100
Subject: [Cachewolf-svn] r1250 - trunk/src/CacheWolf/navi
Message-ID: <200803161752.m2GHqNuh016039@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-16 18:52:20 +0100 (Sun, 16 Mar 2008)
New Revision: 1250

Modified:
   trunk/src/CacheWolf/navi/TransformCoordinates.java
Log:
WMS: speeding up coordinate system transformation by avoiding instantiation of transformation parameters

Modified: trunk/src/CacheWolf/navi/TransformCoordinates.java
===================================================================
--- trunk/src/CacheWolf/navi/TransformCoordinates.java	2008-03-16 17:07:36 UTC (rev 1249)
+++ trunk/src/CacheWolf/navi/TransformCoordinates.java	2008-03-16 17:52:20 UTC (rev 1250)
@@ -46,53 +46,53 @@
 	
 	//	 taken from http://crs.bkg.bund.de/crs-eu/ click on "national CRS" -> germany -> DE_DHDN / GK_3 -> DE_DHDN (North) to ETRS89
 	//	 they are the same as http://www.geoclub.de/files/GK_nach_GPS.xls "Parametersatz 4 = Deutschland Nord"
-	private static final TransformParameters GK_NORD_GERMANY_TO_WGS84 = new TransformParameters(590.5, 69.5, 411.6, 0.796, 0.052, 3.601, 8.300, false);
+	private static final TransformParameters GK_NORD_GERMANY_TO_WGS84 = new TransformParameters(590.5, 69.5, 411.6, 0.796, 0.052, 3.601, 8.300);
 	/** use this for nord Germany, maximum deviation sub meter, valid in the former BRD (west germany) in 52?20' N ... 55?00' N */
 	public static final TransformParameters GK_NORD_GERMANY =  GK_NORD_GERMANY_TO_WGS84; 
 
 	//	 taken from http://crs.bkg.bund.de/crs-eu/ click on "national CRS" -> germany -> DE_DHDN / GK_3 -> DE_DHDN (Middle) to ETRS89
-	private static final TransformParameters GK_MID_GERMANY_TO_WGS84 = new TransformParameters(584.8, 67.0, 400.3, -0.105, -0.013, 2.378, 10.290, false);
+	private static final TransformParameters GK_MID_GERMANY_TO_WGS84 = new TransformParameters(584.8, 67.0, 400.3, -0.105, -0.013, 2.378, 10.290);
 	/** use this for mid-Germany, maximum deviation sub meter, valid in the former BRD (west germany) in 50?20' N ... 52?20' N */
 	public static final TransformParameters GK_MID_GERMANY =  GK_MID_GERMANY_TO_WGS84; 
 
 	//	 taken from http://crs.bkg.bund.de/crs-eu/ click on "national CRS" -> germany -> DE_DHDN / GK_3 -> DE_DHDN (South) to ETRS89
-	private static final TransformParameters GK_SOUTH_GERMANY_TO_WGS84 = new TransformParameters(597.1, 71.4, 412.1, -0.894, -0.068, 1.563, 7.580, false);
+	private static final TransformParameters GK_SOUTH_GERMANY_TO_WGS84 = new TransformParameters(597.1, 71.4, 412.1, -0.894, -0.068, 1.563, 7.580);
 	/** use this for south Germany, maximum deviation sub meter, valid in the former BRD (west germany) in 47?00' N ... 50?20' N */
 	public static final TransformParameters GK_SOUTH_GERMANY =  GK_SOUTH_GERMANY_TO_WGS84; 
 
 	public static Area FORMER_GDR = new Area(new CWPoint(54.923414, 10.503013), new CWPoint(50.402578, 14.520637)); 
 	
 	// taken from http://www.lverma.nrw.de/produkte/druckschriften/verwaltungsvorschriften/images/gps/TrafopsNRW.pdf for NRW this transform has deviations lower than 34cm.
-	private static final TransformParameters GK_NRW_GERMANY_TO_WGS84 = new TransformParameters(566.1, 116.3, 390.1, -1.11, -0.24, 3.76, 12.6, false);
+	private static final TransformParameters GK_NRW_GERMANY_TO_WGS84 = new TransformParameters(566.1, 116.3, 390.1, -1.11, -0.24, 3.76, 12.6);
 	/** use this for NRW in Germany. Deviations less than 34 cm */
 	public static final TransformParameters GK_NRW_GERMANY =  GK_NRW_GERMANY_TO_WGS84; 
 
 	// taken from http://www.lverma.nrw.de/produkte/druckschriften/verwaltungsvorschriften/images/gps/TrafopsNRW.pdf for NRW this transform has deviations lower than 113cm.
 	// these matches to  http://www.geoclub.de/files/GK_nach_GPS.xls "Parametersatz 3 = Deutschland 1995"
-	private static final TransformParameters GK_GERMANY_1995_TO_WGS84 = new TransformParameters(582, 105, 414, -1.04, -0.35, +3.08, 8.3, false);
+	private static final TransformParameters GK_GERMANY_1995_TO_WGS84 = new TransformParameters(582, 105, 414, -1.04, -0.35, +3.08, 8.3);
 	/** Use this for Germany if there is no more specific available. Deviations less than 113 cm */
 	public static final TransformParameters GK_GERMANY_1995 =  GK_GERMANY_1995_TO_WGS84; 
 
 	// taken from http://www.geodatenzentrum.de/geodaten/gdz_home1.gdz_home_start?gdz_home_para1=Technische%A0Hinweise&gdz_home_para2=Technische%A0Hinweise&gdz_home_menu_nr=10&gdz_home_menu_nr2=1&gdz_home_para3=/auftrag/html/gdz_tech_geo_deu.htm&gdz_home_spr=deu&gdz_home_para0=0
-	private static final TransformParameters GK_GERMANY_BKG_TO_WGS84 = new TransformParameters(586, 87, 409, -0.52, -0.15, 2.82, 9, false);
+	private static final TransformParameters GK_GERMANY_BKG_TO_WGS84 = new TransformParameters(586, 87, 409, -0.52, -0.15, 2.82, 9);
 	/** Use this for Germany if there is no more specific available. Deviations unknown. Data source: Bundesamt f?r Kartographie und Geod?sie, taken from website on: 1-11-2007 */
 	public static final TransformParameters GK_GERMANY_BKG =  GK_GERMANY_BKG_TO_WGS84; 
 
 	// take from http://www.geoclub.de/files/GK_nach_GPS.xls "Parametersatz 2 = Deutschland 2001"
-	private static final TransformParameters GK_GERMANY_2001_TO_WGS84 = new TransformParameters(598.1, 73.7, 418.2, -0.202, -0.045, 2.455, 6.700, false);
+	private static final TransformParameters GK_GERMANY_2001_TO_WGS84 = new TransformParameters(598.1, 73.7, 418.2, -0.202, -0.045, 2.455, 6.700);
 	/** Use this for Germany if there is no more specific available. maximal deviations unknown */
 	public static final TransformParameters GK_GERMANY_2001 =  GK_GERMANY_2001_TO_WGS84;
 
 	/** The italian variant of Gau?-Kr?ger (Gau?-Boaga) */
 	// taken from http://crs.bkg.bund.de/crs-eu/ -> italy -> ROMA40 (change the sign of the rotation parameters!)
-	public static final TransformParameters GB_ITALIAN_PENINSULAR_TO_WGS84 =  new TransformParameters(-104.1, -49.1, -9.9, -0.971, 2.917, -0.714, -11.68, false);;
+	public static final TransformParameters GB_ITALIAN_PENINSULAR_TO_WGS84 =  new TransformParameters(-104.1, -49.1, -9.9, -0.971, 2.917, -0.714, -11.68);
 	//static final Area ITALY_PENINSULAR = new Area(new CWPoint());
-	public static final TransformParameters GB_ITALIAN_SARDINIA_TO_WGS84 =  new TransformParameters(-168.6, -34.0, 38.6, 0.374, 0.679, 1.379, -9.48, false);;
+	public static final TransformParameters GB_ITALIAN_SARDINIA_TO_WGS84 =  new TransformParameters(-168.6, -34.0, 38.6, 0.374, 0.679, 1.379, -9.48);
 	static final Area ITALY_SARDINIA = new Area(new CWPoint(42, 6), new CWPoint(38, 11));
 	static final Area ITALY_SARDINIA_GK = new Area(wgs84ToGaussKrueger(ITALY_SARDINIA.topleft, EPSG_ITALIAN_GB_EW1).toTrackPoint(GkPoint.ITALIAN_GB),
 			wgs84ToGaussKrueger(ITALY_SARDINIA.buttomright, EPSG_ITALIAN_GB_EW1).toTrackPoint(GkPoint.ITALIAN_GB));
 
-	public static final TransformParameters GB_ITALIAN_SICILIA_TO_WGS84 =  new TransformParameters(-50.2, -50.4, 84.8, 0.690, 2.012, -0.459, -28.08, false);;
+	public static final TransformParameters GB_ITALIAN_SICILIA_TO_WGS84 =  new TransformParameters(-50.2, -50.4, 84.8, 0.690, 2.012, -0.459, -28.08);
 	static final Area ITALY_SICILIA = new Area(new CWPoint(39, 12), new CWPoint(36.3, 15.6));
 	static final Area ITALY_SICILIA_GK = new Area(wgs84ToGaussKrueger(ITALY_SICILIA.topleft, EPSG_ITALIAN_GB_EW2).toTrackPoint(GkPoint.ITALIAN_GB),
 			wgs84ToGaussKrueger(ITALY_SICILIA.buttomright, EPSG_ITALIAN_GB_EW2).toTrackPoint(GkPoint.ITALIAN_GB));
@@ -249,7 +249,7 @@
 	 */ // TODO find out what about the Krassowski in former GDR?
 	public static GkPoint wgs84ToGk(TrackPoint ll, Ellipsoid forgk, TransformParameters gk2wgs84, int stripe, int stripewidth, int degreeOfStripe0, double scale) {
 		XyzCoordinates wgsxyz = latLon2xyz(ll, 0, WGS84);
-		XyzCoordinates gkxyz = transform(wgsxyz, new TransformParameters(gk2wgs84, true)); // TODO: remove this instantiation, because it is slow
+		XyzCoordinates gkxyz = transform(wgsxyz, gk2wgs84.inverted); 
 		CWPoint gkll = xyz2Latlon(gkxyz, forgk);
 		//ewe.sys.Vm.debug("wgs84-ll: " + new CWPoint(ll).toString(CWPoint.DMS));
 		//ewe.sys.Vm.debug("gkll: " + gkll.toString(CWPoint.DMS));
@@ -468,17 +468,24 @@
 	 * @param d shift in meter
 	 * @param exi rotation in seconds (change the sign of the values from http://crs.bkg.bund.de/crs-eu/ )
 	 * @param si deviation of scale multiplied by 10^6 
-	 * @param invert
+	 * @param addinverted
 	 */
-	public TransformParameters(double dxi, double dyi, double dzi, double exi, double eyi, double ezi, double si, boolean invert) {
+	public TransformParameters(double dxi, double dyi, double dzi, double exi, double eyi, double ezi, double si) {
+		set (dxi, dyi, dzi, exi, eyi, ezi, si, true);
+	}
+		
+	protected void set(double dxi, double dyi, double dzi, double exi, double eyi, double ezi, double si, boolean addinverted) {
 		dx = dxi; dy = dyi; dz = dzi; 
 		ex = exi * Math.PI/180/3600;
 		ey = eyi * Math.PI/180/3600; 
 		ez = ezi * Math.PI/180/3600;
 		s = 1/(1 - si * Math.pow(10, -6));
-		if (invert) invert();
+		if (addinverted) {
+			inverted = new TransformParameters(this, false);
+			inverted.invert();
+		} else inverted = null;
 	}
-
+	
 	public TransformParameters(TransformParameters tp, boolean invert) {
 		dx = tp.dx;	dy = tp.dy;	dz = tp.dz;
 		ex = tp.ex;	ey = tp.ey;	ez = tp.ez;
@@ -491,6 +498,7 @@
 		ex *= -1; ey *= -1;	ez *= -1;
 		s = 1/s;
 	}
+	public TransformParameters inverted = null;
 }
 
 



From mik77 at mail.berlios.de  Sun Mar 16 19:39:20 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 16 Mar 2008 19:39:20 +0100
Subject: [Cachewolf-svn] r1251 - trunk/res_noewe/webmapservices
Message-ID: <200803161839.m2GIdK2R014273@sheep.berlios.de>

Author: mik77
Date: 2008-03-16 19:39:18 +0100 (Sun, 16 Mar 2008)
New Revision: 1251

Added:
   trunk/res_noewe/webmapservices/it.tos_topo-simplistic_auto.wms
Modified:
   trunk/res_noewe/webmapservices/it-tosc_topo_25.wms
Log:
WMS for Toscana

Modified: trunk/res_noewe/webmapservices/it-tosc_topo_25.wms
===================================================================
--- trunk/res_noewe/webmapservices/it-tosc_topo_25.wms	2008-03-16 17:52:20 UTC (rev 1250)
+++ trunk/res_noewe/webmapservices/it-tosc_topo_25.wms	2008-03-16 18:39:18 UTC (rev 1251)
@@ -1,46 +1,20 @@
-# For an explanation of this file format see readme_wms.txt in this directory
-TakenFromUrl:	http://www.rete.toscana.it/sett/territorio/carto/repertorio/geoscopio_wms/
-GetCapabilitiesUrl:		http://web.rete.toscana.it/sgrwms/com.rt.wms.RTmap?ServiceName=_rt_wms_cartografia&service=WMS&request=GetCapabilities
-Name:	it.tosc Topo auto detail
-# taken from getCapabilieties answer: <HTTP><GET><OnlineResource xlink:href=
-# note: if it doesn't work, please try adding an "?" to the URL got from there
-MainUrl:	http://web.rete.toscana.it:80/sgrwms/com.rt.wms.RTmap/_rt_wms_cartografia?
+TakenFromUrl:   http://www.rete.toscana.it/sett/territorio/carto/repertorio/geoscopio_wms/
+GetCapabilitiesUrl:      http://web.rete.toscana.it/sgrwms/com.rt.wms.RTmap?ServiceName=_rt_wms_cartografia&service=WMS&request=GetCapabilities
+Name:   it.tos Topo-Monochrome AutoDetail
+MainUrl:   http://web.rete.toscana.it:80/sgrwms/com.rt.wms.RTmap/_rt_wms_cartografia?
 MapType: topo
-ServiceTypeUrlPart:	SERVICE=WMS 
-# taken from the getCapabilities request: <WMT_MS_Capabilities version=
-VersionUrlPart:	VERSION=1.1.0 
-CoordinateReferenceSystemCacheWolf:	3003
-# this usually will match the number above
-CoordinateReferenceSystemUrlPart:	SRS=EPSG:3003
-# Post not supported by Cachewolf --> dont change this
-RequestUrlPart:	REQUEST=GetMap
-# comma seperated (without spaces) list of layers to combine
-# all of supported layers you get from the getCapabilities request <Layer><Name>
-# these names are to be used. Special characters must be URL-encode
-LayersUrlPart:	LAYERS=rst25k_igm
-# if the WMS supports different rendering styles, select the one you need here
-# comma seperated (without spaces) list of style commands for map rendering (do not delete this item even if it is empty
-StylesUrlPart:	STYLES=Default,Default,Default,Default,Default,Default,Default,Default
-# format, dont forget to set ImageFileExtension accordingly
-# you get a list of supported image formats from getCapabilieties answer: <GetMap><Format>
-ImageFormatUrlPart:	FORMAT=image/png
-# Limits of the service in WGS84 coordinates. 
-# You can use any format here, which is accepted by the input coordinates dialog in cachewolf
-# taken from getCapabilieties answer: <BoundingBox SRS="EPSG:4326", dont forget to add "N"/"S" and "E"/"W"
-BoundingBoxTopLeftWGS84:	N 44.50080520 E 9.64254863
-BoundingBoxButtomRightWGS84:	N 42.16874557 E 12.46235998
-# scale range that the service supports in meters per pixel (measured diagonal)
-# Please don't wonder that they do mot match the scale given in
-# the map download dialog as that scale is measured vertically 
-# (multiply it ba sqrt(2) and you get the scale used here
-# taken from the getCapabilities request "<Layer><ScaleHint min="
-MinScale:	0
-MaxScale:	100000000000000000000
-# Plaese recommend a scale for this WMS. This scale will appear in the
-# map download dialog as default. Scale is measured in meters per pixel
-# vertical, so, multiply it by 1.41 (=sqrt(2)) to get the scale as measured
-# above in MinScale and MaxScale
-RecommendedScale:	5
-# set this according to ImageFormatUrlPart (must start with ".")
+ServiceTypeUrlPart:   SERVICE=WMS
+VersionUrlPart:   VERSION=1.1.0
+CoordinateReferenceSystemCacheWolf:   3003
+CoordinateReferenceSystemUrlPart:   SRS=EPSG:3003
+RequestUrlPart:   REQUEST=GetMap
+LayersUrlPart:   LAYERS=idrst10k,rst100k,rst25k_igm
+StylesUrlPart:   STYLES=Default,Default,Default,Default,Default,Default,Default,Default
+ImageFormatUrlPart:   FORMAT=image/png
+BoundingBoxTopLeftWGS84:   N 44.50080520 E 9.64254863
+BoundingBoxButtomRightWGS84:   N 42.16874557 E 12.46235998
+MinScale:   0
+MaxScale:   71
+#Scale 2 and 3 are scaled versions of scale 1. Scale 5 and 6 are scaled versions of scale 4
+RecommendedScale:   5
 ImageFileExtension: .png
-

Added: trunk/res_noewe/webmapservices/it.tos_topo-simplistic_auto.wms
===================================================================
--- trunk/res_noewe/webmapservices/it.tos_topo-simplistic_auto.wms	2008-03-16 17:52:20 UTC (rev 1250)
+++ trunk/res_noewe/webmapservices/it.tos_topo-simplistic_auto.wms	2008-03-16 18:39:18 UTC (rev 1251)
@@ -0,0 +1,20 @@
+TakenFromUrl:   http://www.rete.toscana.it/sett/territorio/carto/repertorio/geoscopio_wms/
+GetCapabilitiesUrl:      http://web.rete.toscana.it/sgrwms/com.rt.wms.RTmap?ServiceName=_rt_wms_topogr&service=WMS&request=GetCapabilities
+Name:   it.tos Topo-Simplistic AutoDetail
+MainUrl:   http://web.rete.toscana.it:80/sgrwms/com.rt.wms.RTmap/_rt_wms_topogr?
+MapType: topo
+ServiceTypeUrlPart:   SERVICE=WMS
+VersionUrlPart:   VERSION=1.1.0
+CoordinateReferenceSystemCacheWolf:   3003
+CoordinateReferenceSystemUrlPart:   SRS=EPSG:3003
+RequestUrlPart:   REQUEST=GetMap
+LayersUrlPart:   LAYERS=idisoipse,idtoponctr10k,_idbati,idedifici10k,idedifici2k,idareabagnata,idcorsi,idinfrferrovia,_idreg,idstradeestesa,_idstradegallerie
+StylesUrlPart:   STYLES=Default,Default,Default,Default,Default,Default,Default,Default
+ImageFormatUrlPart:   FORMAT=image/png
+BoundingBoxTopLeftWGS84:   N 44.50080520 E 9.64254863
+BoundingBoxButtomRightWGS84:   N 42.16874557 E 12.46235998
+MinScale:   0
+MaxScale:   14.14214
+#H?henlinien nur bei Scale unter 4.0
+RecommendedScale:   3.9
+ImageFileExtension: .png
\ No newline at end of file



From mik77 at mail.berlios.de  Sun Mar 16 19:41:03 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 16 Mar 2008 19:41:03 +0100
Subject: [Cachewolf-svn] r1252 - trunk/res_noewe/webmapservices
Message-ID: <200803161841.m2GIf3Kp014550@sheep.berlios.de>

Author: mik77
Date: 2008-03-16 19:41:01 +0100 (Sun, 16 Mar 2008)
New Revision: 1252

Added:
   trunk/res_noewe/webmapservices/it.tos_topo-monochrome_auto.wms
Removed:
   trunk/res_noewe/webmapservices/it-tosc_topo_25.wms
Log:
WMS renamed

Deleted: trunk/res_noewe/webmapservices/it-tosc_topo_25.wms
===================================================================
--- trunk/res_noewe/webmapservices/it-tosc_topo_25.wms	2008-03-16 18:39:18 UTC (rev 1251)
+++ trunk/res_noewe/webmapservices/it-tosc_topo_25.wms	2008-03-16 18:41:01 UTC (rev 1252)
@@ -1,20 +0,0 @@
-TakenFromUrl:   http://www.rete.toscana.it/sett/territorio/carto/repertorio/geoscopio_wms/
-GetCapabilitiesUrl:      http://web.rete.toscana.it/sgrwms/com.rt.wms.RTmap?ServiceName=_rt_wms_cartografia&service=WMS&request=GetCapabilities
-Name:   it.tos Topo-Monochrome AutoDetail
-MainUrl:   http://web.rete.toscana.it:80/sgrwms/com.rt.wms.RTmap/_rt_wms_cartografia?
-MapType: topo
-ServiceTypeUrlPart:   SERVICE=WMS
-VersionUrlPart:   VERSION=1.1.0
-CoordinateReferenceSystemCacheWolf:   3003
-CoordinateReferenceSystemUrlPart:   SRS=EPSG:3003
-RequestUrlPart:   REQUEST=GetMap
-LayersUrlPart:   LAYERS=idrst10k,rst100k,rst25k_igm
-StylesUrlPart:   STYLES=Default,Default,Default,Default,Default,Default,Default,Default
-ImageFormatUrlPart:   FORMAT=image/png
-BoundingBoxTopLeftWGS84:   N 44.50080520 E 9.64254863
-BoundingBoxButtomRightWGS84:   N 42.16874557 E 12.46235998
-MinScale:   0
-MaxScale:   71
-#Scale 2 and 3 are scaled versions of scale 1. Scale 5 and 6 are scaled versions of scale 4
-RecommendedScale:   5
-ImageFileExtension: .png

Copied: trunk/res_noewe/webmapservices/it.tos_topo-monochrome_auto.wms (from rev 1251, trunk/res_noewe/webmapservices/it-tosc_topo_25.wms)



From pfeffer at mail.berlios.de  Sun Mar 16 20:10:52 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 16 Mar 2008 20:10:52 +0100
Subject: [Cachewolf-svn] r1253 - in trunk: res_noewe/languages
	src/CacheWolf/navi
Message-ID: <200803161910.m2GJAqom023415@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-16 20:10:49 +0100 (Sun, 16 Mar 2008)
New Revision: 1253

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/CacheWolf/navi/MovingMap.java
Log:
MovingMap: Buf fixed: when no valid coordinates were available far the map ti center on, it could crash. Maybe this fixes: http://www.geoclub.de/ftopic23003.html

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-16 18:41:01 UTC (rev 1252)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-16 19:10:49 UTC (rev 1253)
@@ -337,6 +337,7 @@
 		1510=Keine Daten vom GPS%0aVerbindung zum seriellen Port geschlossen
 		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a 
 		1512=Wegpunkt
+		1513=Kann Karte nicht ohne g%fcltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew%e4hlten Cache eingeben oder GPS starten
 		1600=Opencaching.de Download
 		1601=max. Abstand:
 		1602=Bilder downloaden

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-16 18:41:01 UTC (rev 1252)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-16 19:10:49 UTC (rev 1253)
@@ -338,6 +338,7 @@
 		1510=No data from GPS%0aConnection to serial port closed
 		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:%0a 
 		1512=Waypoint
+		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination as center or in selected cache, or start GPS
 		1600=Opencahing.de Download
 		1601=Distance:
 		1602=Download Images

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-16 18:41:01 UTC (rev 1252)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-16 19:10:49 UTC (rev 1253)
@@ -295,15 +295,25 @@
 	}
 	
 	public void switchToMovingMap() {
-		CWPoint centerTo;
+		CWPoint centerTo = null;
 		if (myNavigation.isGpsPosValid()) centerTo = new CWPoint(myNavigation.gpsPos); // set gps-pos if gps is on
 		else {
 			// setze Zielpunkt als Ausgangspunkt, wenn GPS aus ist und lade entsprechende Karte
 			//centerTo = new CWPoint(myNavigation.destination);
 			if (myNavigation.destination.isValid())	centerTo = new CWPoint(myNavigation.destination);
-			else centerTo = new CWPoint(pref.curCentrePt); // if not goto-point defined move map to centere point
-		}  
-		mainT.SwitchToMovingMap(centerTo, false);
+			else {
+				if (mainT.ch != null && mainT.ch.pos.isValid()) centerTo = new CWPoint(mainT.ch.pos);
+				else {
+					if (pref.curCentrePt.isValid()) centerTo = new CWPoint(pref.curCentrePt);
+					else {
+					}
+				}
+			}
+		}
+		if (centerTo != null && centerTo.isValid())
+			mainT.SwitchToMovingMap(centerTo, false);
+		else
+		(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1513, "Cannot start moving map without valid coordinates. Please enter coordinates as destination, as center, in selected cache or start GPS"), MessageBox.OKB)).execute(); 
 	}
 	
 	/**

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-03-16 18:41:01 UTC (rev 1252)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-03-16 19:10:49 UTC (rev 1253)
@@ -164,9 +164,11 @@
 		if (mmp.mapImage != null) mmp.mapImage.screenDimChanged(); 
 		if (posCircle != null) posCircle.screenDimChanged();
 		if (tracks != null) rebuildOverlaySet();
-		for (int i = symbols.size() -1; i >= 0; i-- ) {
-			((MapSymbol)symbols.get(i)).screenDimChanged();
-		}
+		if (symbols != null) { // TODO: see if the rest of the code works with symbols = null
+			for (int i = symbols.size() -1; i >= 0; i-- ) {
+				((MapSymbol)symbols.get(i)).screenDimChanged();
+			}
+}
 	}
 
 	boolean loadingMapList = false;



From pfeffer at mail.berlios.de  Sun Mar 16 21:38:04 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 16 Mar 2008 21:38:04 +0100
Subject: [Cachewolf-svn] r1254 - trunk/src/CacheWolf
Message-ID: <200803162038.m2GKc49f018183@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-16 21:38:02 +0100 (Sun, 16 Mar 2008)
New Revision: 1254

Modified:
   trunk/src/CacheWolf/PreferencesScreen.java
Log:
Preferences: display a list of available languages

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 19:10:49 UTC (rev 1253)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 20:38:02 UTC (rev 1254)
@@ -1,5 +1,6 @@
 package CacheWolf;
 
+import utils.FileBugfix;
 import ewe.ui.*;
 import ewe.io.*;
 import ewe.fx.*;
@@ -14,9 +15,9 @@
 */
 public class PreferencesScreen extends Form {
 	mButton cancelB, applyB, brwBt, gpsB,btnCentre;
-	mChoice NS, EW;
+	mChoice NS, EW, inpLanguage;
 	mInput NSDeg, NSm, EWDeg, EWm, DataDir, Proxy, ProxyPort, Alias, nLogs, Browser, fontSize, inpGPS, 
-	       inpLogsPerPage,inpMaxLogsToSpider,inpPassword,inpLanguage;
+	       inpLogsPerPage,inpMaxLogsToSpider,inpPassword;
 	mCheckBox dif, ter, loc, own, hid, stat, dist, bear, chkAutoLoad, chkShowDeletedImg, chkMenuAtTop, 
 	          chkTabsAtTop, chkShowStatus,chkHasCloseButton,chkSynthShort,chkProxyActive, chkDescShowImg;
 	mTabbedPanel mTab;
@@ -192,9 +193,19 @@
 		chkProxyActive.setState(pref.proxyActive);
 		pnlMore.addLast(pnlProxy,HSTRETCH,HFILL);
 		pnlMore.addNext(new mLabel(MyLocale.getMsg(592,"Language (needs restart)")),DONTSTRETCH,DONTFILL|WEST);
-		pnlMore.addLast(inpLanguage=new mInput(MyLocale.language),DONTSTRETCH,DONTFILL|WEST);
-		inpLanguage.setPreferredSize(20,-1);
-		inpLanguage.setToolTip(MyLocale.getMsg(591,""));
+		String[] tmp = (new FileBugfix(FileBugfix.getProgramDirectory()+"/languages").list("*.cfg", File.LIST_FILES_ONLY)); //"*.xyz" doesn't work on some systems -> use FileBugFix
+		if (tmp == null) tmp = new String[0];
+		String [] langs = new String[tmp.length +1];
+		langs[0] = "auto";
+		int curlang = 0;
+		for (int i = 0; i < tmp.length; i++) {
+			langs[i+1] = tmp[i].substring(0, tmp[i].lastIndexOf('.'));
+			if (langs[i+1].equalsIgnoreCase(MyLocale.language)) curlang = i+1 ;
+		}
+		//ewe.sys.Vm.copyArray(tmp, 0, langs, 1, tmp.length);
+		pnlMore.addLast(inpLanguage=new mChoice(langs, curlang),DONTSTRETCH,DONTFILL|WEST);
+		//inpLanguage.setPreferredSize(20,-1);
+		inpLanguage.setToolTip(MyLocale.getMsg(591,"Select \"auto\" for system language or select your preferred language, e.g. DE or EN"));
 		
 		/////////////////////////////////////////////////////////
 		// Fourth/Fifth panel - Listview and Travelbugs



From mirabilos at mail.berlios.de  Sun Mar 16 21:54:41 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 16 Mar 2008 21:54:41 +0100
Subject: [Cachewolf-svn] r1255 - in trunk/src: CacheWolf CacheWolf/navi exp
Message-ID: <200803162054.m2GKsfPt024977@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-16 21:54:40 +0100 (Sun, 16 Mar 2008)
New Revision: 1255

Modified:
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/FilterScreen.java
   trunk/src/CacheWolf/ImagePanel.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/NewProfileForm.java
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/OCXMLImporterScreen.java
   trunk/src/CacheWolf/Parser.java
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/Rebuild.java
   trunk/src/CacheWolf/SpiderGC.java
   trunk/src/CacheWolf/TravelbugPickup.java
   trunk/src/CacheWolf/myTableControl.java
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/CacheWolf/navi/MapImporter.java
   trunk/src/CacheWolf/navi/MapInfoObject.java
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/CacheWolf/navi/MapLoaderGui.java
   trunk/src/CacheWolf/navi/MapsList.java
   trunk/src/CacheWolf/navi/MovingMap.java
   trunk/src/exp/MagellanExporter.java
Log:
fix all MyLocale.getMsg() calls:
??? some of the message numbers were not unique
??? some of the message texts were not unique
??? change wrong idiom:
  ??? x = MyLocale.getMsg(###, "Text" + variable);
  to right idiom:
  ??? x = MyLocale.getMsg(###, "Text") + variable;

A perl script which helped me:

| $f = "";
| while (<>) {
| 	chomp;
| 	$f .= $_;
| }
| while ($f =~ s/MyLocale.getMsg\(([0-9]*),\s*"(.*?)"\)//) {
| 	print "$1=$2\n";
| }


Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -134,7 +134,6 @@
 		//btnNotes = new mButton("Notes");
 		//this.addLast(btnNotes.setTag(Control.SPAN, new Dimension(3,1)),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		//this.addNext(new mLabel(MyLocale.getMsg(308,"Notes:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		//this.addLast(btnCenter = new mButton(MyLocale.getMsg(309,"Make Centre")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 //		this.addLast(btnDelete = new mButton(MyLocale.getMsg(310,"Delete")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		attV=new AttributesViewer();
 		this.addLast(attV);
@@ -329,7 +328,7 @@
 					MapDetailForm mdf = new MapDetailForm(thisCache.wayPoint, pref, profile);
 					mdf.execute();
 				} catch (IllegalArgumentException e) {
-					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(322,"Kann Bild/Karte nicht finden")+": "+e.getMessage(), MessageBox.OKB);
+					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(322,"Cannot find image/map")+": "+e.getMessage(), MessageBox.OKB);
 					tmp.exec();
 				}
 	*/		}
@@ -502,7 +501,7 @@
 					  if (idx<0) idx=profile.getCacheIndex("CW"+ ch.wayPoint.substring(ch.wayPoint.length() == 5?1:2));
 					  if (idx<0) (new MessageBox(MyLocale.getMsg(144,"Warning"),
 							  MyLocale.getMsg(734,"No main cache found for addi waypoint ")+" "+ch.wayPoint+
-							  "\n"+MyLocale.getMsg(735,"Addi Waypoints must have the format xxYYYY, where xx are any 2 chars and YYYY are the main cache's chars after the GC"),FormBase.OKB)).execute();
+							  "\n"+MyLocale.getMsg(735,"Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC"),FormBase.OKB)).execute();
 				  }
 				  profile.buildReferences(); // TODO this takes quite long -> use profile.setAddiRef instead
 			  } else {
@@ -580,7 +579,7 @@
 					tbjList=new TravelbugJourneyList();
 					tbjList.readTravelbugsFile();
 					TravelbugList tbl=tbjList.getMyTravelbugs();
-					TravelbugScreen tbs=new TravelbugScreen(tbl,MyLocale.getMsg(6017,"Drop a travelbug"),false);
+					TravelbugScreen tbs=new TravelbugScreen(tbl,MyLocale.getMsg(6017,"Drop Travelbug"),false);
 					tbs.execute();
 					if (tbs.selectedItem>=0) {
 						Travelbug tb=tbl.getTB(tbs.selectedItem);

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/FilterScreen.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -128,21 +128,21 @@
 		//////////////////////////
 		// Panel 2 - Cache attributes
 		//////////////////////////
-		addTitle(pnlAttributes,MyLocale.getMsg(720,"Status"));
+		addTitle(pnlAttributes,MyLocale.getMsg(728,"Status"));
 		mLabel lblTitleAtt; 
 		pnlAttributes.addLast(lblTitleAtt=new mLabel(MyLocale.getMsg(715,"Show all caches with status:")),HSTRETCH,FILL);
 		lblTitleAtt.setTag(SPAN,new Dimension(2,1));
 		pnlAttributes.addNext(chkArchived = new mCheckBox(MyLocale.getMsg(710,"Archived")), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAttributes.addLast(chkNotArchived = new mCheckBox(MyLocale.getMsg(729,"Nicht archiviert")), CellConstants.DONTSTRETCH, CellConstants.FILL);
+		pnlAttributes.addLast(chkNotArchived = new mCheckBox(MyLocale.getMsg(729,"Not archived")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlAttributes.addNext(chkAvailable = new mCheckBox(MyLocale.getMsg(730,"Suchbar")), CellConstants.DONTSTRETCH, CellConstants.FILL);
+		pnlAttributes.addNext(chkAvailable = new mCheckBox(MyLocale.getMsg(730,"Searchable")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		pnlAttributes.addLast(chkNotAvailable = new mCheckBox(MyLocale.getMsg(711,"Not available")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
 		pnlAttributes.addNext(chkFound = new mCheckBox(MyLocale.getMsg(703,"Found")), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAttributes.addLast(chkNotFound = new mCheckBox(MyLocale.getMsg(731,"Noch nicht gefunden")), CellConstants.DONTSTRETCH, CellConstants.FILL);
+		pnlAttributes.addLast(chkNotFound = new mCheckBox(MyLocale.getMsg(731,"Not yet found")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
 		pnlAttributes.addNext(chkOwned = new mCheckBox(MyLocale.getMsg(707,"Owned")), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAttributes.addLast(chkNotOwned = new mCheckBox(MyLocale.getMsg(732,"Anderer Besitzer")), CellConstants.DONTSTRETCH, CellConstants.FILL);
+		pnlAttributes.addLast(chkNotOwned = new mCheckBox(MyLocale.getMsg(732,"Other owner")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 
 		//////////////////////////
 		// Panel 3 - Cache ratings

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/ImagePanel.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -187,7 +187,7 @@
 					locY = locY+thumb_size+padding;
 				}
 			}catch(IllegalArgumentException imex){ // file not found, could not decode etc.
-				MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht laden")+":\n"+imex.getMessage(), MessageBox.OKB); // @todo: language support
+				MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(326,"Cannot load image/map")+":\n"+imex.getMessage(), MessageBox.OKB); // @todo: language support
 				tmp.exec();
 			} catch (OutOfMemoryError e) { // TODO show an error icon in the panel instead of nothing
 				(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+":\n"+location,MessageBox.OKB)).exec();
@@ -246,7 +246,7 @@
 					ImageDetailForm iF = new ImageDetailForm(fn, pref);
 					iF.execute(null, Gui.CENTER_FRAME);
 				} catch (IllegalArgumentException e) {
-					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht finden"), MessageBox.OKB); // @todo: language support
+					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(322,"Cannot find image/map"), MessageBox.OKB); // @todo: language support
 					tmp.exec();
 				} catch (OutOfMemoryError e) {
 					(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+"\n"+fn,MessageBox.OKB)).exec();

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -55,8 +55,8 @@
 		///////////////////////////////////////////////////////////////////////
 		MenuItem[] mnuImport = new MenuItem[6];
 		mnuImport[0] = loadcaches  = new MenuItem(MyLocale.getMsg(129,"Import GPX")); //TODO internationalization
-		mnuImport[1] = loadOC      = new MenuItem(MyLocale.getMsg(130,"Download von opencaching.de")); 
-		mnuImport[2] = spider      = new MenuItem(MyLocale.getMsg(131,"Spider von geocaching.com")); 
+		mnuImport[1] = loadOC      = new MenuItem(MyLocale.getMsg(130,"Download from opencaching.de")); 
+		mnuImport[2] = spider      = new MenuItem(MyLocale.getMsg(131,"Spider from geocaching.com")); 
 		mnuImport[3] = update      = new MenuItem(MyLocale.getMsg(1014,"Update cache data"));
 		mnuImport[4] = mnuSeparator = new MenuItem("-"); 
 		mnuImport[5] = mnuForceLogin      = new MenuItem("Always login to GC"); 
@@ -100,7 +100,7 @@
 		// Create the "Application" pulldown menu
 		///////////////////////////////////////////////////////////////////////
 		MenuItem [] appMenuItems=new MenuItem[11];
-		appMenuItems[0] = profiles 	 = new MenuItem(MyLocale.getMsg(121,"Profile"), 0, profileMenu); 
+		appMenuItems[0] = profiles 	 = new MenuItem(MyLocale.getMsg(121,"Profiles"), 0, profileMenu); 
 		appMenuItems[1] = preferences = new MenuItem(MyLocale.getMsg(108,"Preferences")); 
 		appMenuItems[2] = mnuEditCenter = new MenuItem(MyLocale.getMsg(1110,"Centre"));
 		appMenuItems[3] = mnuSeparator;
@@ -117,7 +117,7 @@
 		// Create the "Search" pulldown menu
 		///////////////////////////////////////////////////////////////////////
 		MenuItem[] searchMenuItems=new MenuItem[2];
-		searchMenuItems[0] = search = new MenuItem(MyLocale.getMsg(112,"Search$"+(char)6)); // char 6 = ctrl +f 
+		searchMenuItems[0] = search = new MenuItem(MyLocale.getMsg(112,"Search")+"$");
 		searchMenuItems[1] = searchClr = new MenuItem(MyLocale.getMsg(113,"Clear search"));
 
 		///////////////////////////////////////////////////////////////////////
@@ -434,7 +434,7 @@
 						MapImporter map = new MapImporter(pref, sM.getSelectedMap(),sM.worldfileexists);
 						map.execute(null, Gui.CENTER_FRAME);
 					} catch (java.lang.OutOfMemoryError e) {
-						MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), MyLocale.getMsg(156,"Out of memory error, map to big"), MessageBox.OKB);
+						MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), MyLocale.getMsg(156,"Out of memory error, map too big"), MessageBox.OKB);
 						tmpMB.exec();
 					}
 				}

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -254,7 +254,7 @@
 	/** Update the distances of all caches to the centre and display a message 
 	 */
 	public void updateBearDist(){// Called from DetailsPanel, GotoPanel and myTableControl
-		MessageBox info = new MessageBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(1024,"Entfernungen in der Listenansicht \n werden neu berechnet...").replace('~','\n'), 0);
+		MessageBox info = new MessageBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(1024,"Distances in list view \n are recalculated now..."), 0);
 		info.exec();
 		tbP.pref = pref;
 		profile.updateBearingDistance();
@@ -388,7 +388,7 @@
 		updatePendingChanges();
 		if (askForConfirmation) { // Don't know whether to save, have to ask
 			if (profile.hasUnsavedChanges &&     // Only ask if there were changes 
-					(new MessageBox(MyLocale.getMsg(144,"Warnung"),MyLocale.getMsg(1207,"Your profile has unsaved changes. Do you want to save?"),MessageBox.DEFOKB|MessageBox.NOB)).execute()==MessageBox.IDOK) {
+					(new MessageBox(MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(1207,"Your profile has unsaved changes. Do you want to save?"),MessageBox.DEFOKB|MessageBox.NOB)).execute()==MessageBox.IDOK) {
 				saveIndex=true; 
 			}
 		}
@@ -405,5 +405,3 @@
 		}
 	}
 }
-// 
-

Modified: trunk/src/CacheWolf/NewProfileForm.java
===================================================================
--- trunk/src/CacheWolf/NewProfileForm.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/NewProfileForm.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -41,7 +41,7 @@
 				profileDir=inpDir.getDisplayText();
 				File f=new File(baseDir+profileDir);
 				if (f.exists()) {
-					MessageBox mb=new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(1114,"Directory exists already."),MBOK);
+					MessageBox mb=new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(1114,"Directory already exists"),MBOK);
 					mb.execute();
 					profileDir="";
 				} else {

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -402,7 +402,7 @@
 	}
 
 	private void startCacheLog(String name, AttributeList atts){
-		inf.setInfo(MyLocale.getMsg(1612,"Importing Cachlog:")+" " + numLogImported);
+		inf.setInfo(MyLocale.getMsg(1612,"Importing cache log:")+" " + numLogImported);
 		if (name.equals("logtype")){
 			logtype = Convert.toInt(atts.getValue("id"));
 			switch (logtype) {
@@ -516,7 +516,7 @@
 						fetchUrl=imgRegexUrl.stringMatched(2); // URL in Anf?hrungszeichen in (2) falls ohne in (3) Ergebnis ist auf jeden Fall ohne Anf?hrungszeichen 
 						if (fetchUrl==null) { fetchUrl=imgRegexUrl.stringMatched(3); }
 						if (fetchUrl==null) { // TODO Fehler ausgeben: nicht abgedeckt ist der Fall, dass in einem Cache Links auf Bilder mit unterschiedlichen URL, aber gleichem Dateinamen sind.
-							inf.addWarning(MyLocale.getMsg(1617, "Ignoriere Fehler in html-Cache-Description: \"<img\" without \"src=\" in cache "+chD.wayPoint));
+							inf.addWarning(MyLocale.getMsg(1617, "Ignoring error in HTML cache description: \"<img\" without \"src=\" in cache ")+chD.wayPoint);
 							continue;
 						}
 						inf.setInfo(MyLocale.getMsg(1611,"Importing cache description:")+" " + numDescImported + "\n"+MyLocale.getMsg(1620, "downloading embedded images: ") + numDownloaded++);

Modified: trunk/src/CacheWolf/OCXMLImporterScreen.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporterScreen.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/OCXMLImporterScreen.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -66,7 +66,7 @@
 
 		if((options & ALL) > 0){
 			missingCheckBox = new mCheckBox();
-			missingCheckBox.setText(MyLocale.getMsg(1606,"Alle erneut downloaden"));
+			missingCheckBox.setText(MyLocale.getMsg(1606,"Re-download all"));
 			missingCheckBox.setState(false); // @ToDo: aus Prefs
 			this.addLast(missingCheckBox, CellConstants.DONTSTRETCH, CellConstants.DONTFILL|CellConstants.WEST);
 		}

Modified: trunk/src/CacheWolf/Parser.java
===================================================================
--- trunk/src/CacheWolf/Parser.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/Parser.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -170,7 +170,7 @@
      * Add an error message to the message stack and raise an Exception.
     */
 	private void err(String str) throws Exception {
-    	messageStack.add(MyLocale.getMsg(1700,"Error on line: ") + thisToken.line + "  "+MyLocale.getMsg(1701,"position: ") + thisToken.position);
+    	messageStack.add(MyLocale.getMsg(1700,"Error on line: ") + thisToken.line + " "+MyLocale.getMsg(1701," position: ") + thisToken.position);
     	messageStack.add(str);
     	// move cursor to error location
     	if (Global.mainTab.solverP.mText.setSelectionRange(0,thisToken.line-1,thisToken.position+thisToken.token.length()-1,thisToken.line-1))Global.mainTab.solverP.mText.repaintNow();

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -228,7 +228,7 @@
 				MyLocale.getMsg(612,"Distance"),
 				MyLocale.getMsg(613,"Bearing"),
 				MyLocale.getMsg(635,"Size"),
-				MyLocale.getMsg(636,"OC Empfehlungen"),
+				MyLocale.getMsg(636,"OC Recommends"),
 				MyLocale.getMsg(637,"OC Index")},pref.listColMap),MyLocale.getMsg(595,"List"),null);
 
 		Card c=mTab.addCard(tccBugs=new TableColumnChooser(new String[] {

Modified: trunk/src/CacheWolf/Rebuild.java
===================================================================
--- trunk/src/CacheWolf/Rebuild.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/Rebuild.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -17,7 +17,7 @@
 		
 		myProgressBarForm pbf = new myProgressBarForm();
 		Handle h = new Handle();
-		pbf.setTask(h,MyLocale.getMsg(209,"Rebuilding index"));
+		pbf.setTask(h,MyLocale.getMsg(209,"Rebuilding Index"));
 		pbf.exec();
 
 		FileBugfix file=new FileBugfix(Global.getProfile().dataDir);
@@ -54,8 +54,8 @@
 				if (pbf.isClosed) break;
 			}
 			(new MessageBox(MyLocale.getMsg(327, "Information"), 
-					  MyLocale.getMsg(210,"Caches nicht in index.xml: ")+orphans+
-					  MyLocale.getMsg(211,"\nDavon hinzugef?gt: ")+nAdded
+					  MyLocale.getMsg(210,"Caches not in index.xml: ")+orphans+
+					  MyLocale.getMsg(211,"\nAdded these: ")+nAdded
 					, MessageBox.OKB)).execute();
 			prof.buildReferences();
 			prof.saveIndex(Global.getPref(),true);

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -163,7 +163,7 @@
 				}catch(Exception ex){
 					pref.log("[login]:Login failed with exception.", ex);
 					infB.close(0);
-					(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed. Error loading page after login."), MessageBox.OKB)).execute();
+					(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5515,"Login failed. Error loading page after login."), MessageBox.OKB)).execute();
 					return ERR_LOGIN;
 				}
 			}

Modified: trunk/src/CacheWolf/TravelbugPickup.java
===================================================================
--- trunk/src/CacheWolf/TravelbugPickup.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/TravelbugPickup.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -11,7 +11,7 @@
 	 */
 	public static Travelbug pickupTravelbug(TravelbugList tbl) {
 		Travelbug tb=null;
-		TravelbugScreen tbs=new TravelbugScreen(tbl,MyLocale.getMsg(6016,"Pick up travelbug"),true);
+		TravelbugScreen tbs=new TravelbugScreen(tbl,MyLocale.getMsg(6016,"Pick up Travelbug"),true);
 		tbs.execute(); // Select TB to pick up
 		if (tbs.selectedItem>=0) { // Was a TB selected ?
 			// If the returned item is bigger than number of bugs in cache

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -21,8 +21,8 @@
 			MyLocale.getMsg(1010,"Goto"),
 			MyLocale.getMsg(1019,"Enter"),
 			"-",
-			MyLocale.getMsg(1020,"Open in $browser online"),
-			MyLocale.getMsg(1018,"Open in browser offline"),
+			MyLocale.getMsg(1020,"Open online in browser"),
+			MyLocale.getMsg(1018,"Open offline in browser"),
 			"-",
 			MyLocale.getMsg(1012,"Delete selected"),
 			"-",
@@ -34,8 +34,8 @@
 			MyLocale.getMsg(1010,"Goto"),
 			MyLocale.getMsg(1019,"Enter"),
 			"-",
-			MyLocale.getMsg(1020,"Open in $browser online"),
-			MyLocale.getMsg(1018,"Open in browser offline")},
+			MyLocale.getMsg(1020,"Open online in browser"),
+			MyLocale.getMsg(1018,"Open offline in browser"),
 			MyLocale.getMsg(1013,"With selection"));
 
 	myTableControl(TablePanel tablePanel) {
@@ -115,7 +115,7 @@
 			setSelectForAll(false);
 		}
 
-		if (selectedItem.toString().equals(MyLocale.getMsg(1012,"Delete"))){
+		if (selectedItem.toString().equals(MyLocale.getMsg(1012,"Delete selected"))){
 			Vm.showWait(true);
 			// Count # of caches to delete
 			int count=0;
@@ -123,7 +123,7 @@
 				if ( ((CacheHolder)cacheDB.get(i)).is_Checked) count++;
 			}
 			if (count>0) {
-				if ((new MessageBox(MyLocale.getMsg(144,"Warnung"),MyLocale.getMsg(1022, "Delete all caches that have a tick?"), MessageBox.YESB | MessageBox.NOB)).execute() != Form.IDYES) return;
+				if ((new MessageBox(MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(1022, "Delete all caches that have a tick?"), MessageBox.YESB | MessageBox.NOB)).execute() != Form.IDYES) return;
 				DataMover dm=new DataMover();
 				myProgressBarForm pbf = new myProgressBarForm();
 				Handle h = new Handle();
@@ -151,7 +151,7 @@
 			Vm.showWait(false);
 		}
 
-		if (selectedItem.toString().equals(MyLocale.getMsg(1019,"Centre"))){
+		if (selectedItem.toString().equals(MyLocale.getMsg(1019,"Enter"))){
 			CacheHolder thisCache = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
 			CWPoint cp=new CWPoint(thisCache.LatLon);
 			if (!cp.isValid()){
@@ -168,7 +168,7 @@
 			ch = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
 			Global.mainTab.gotoPoint(ch.pos);
 		}
-		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1020,"Open online in Browser"))){
+		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1020,"Open online in browser"))){
 			ch = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
 			CacheHolderDetail chD=ch.getCacheDetails(false, true);
 			try {
@@ -180,7 +180,7 @@
 				(new MessageBox("Error", "Cannot start browser!\n"+ex.toString()+"\nThe are two possible reasons:\n * path to internet browser in \npreferences not correct\n * An bug in ewe VM, please be \npatient for an update",MessageBox.OKB)).execute();
 			}
 		}
-		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1018,"Open in browser offline"))) {
+		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1018,"Open offline in browser"))) {
 			ShowCacheInBrowser sc=new ShowCacheInBrowser();
 			sc.showCache(((CacheHolder)cacheDB.get(tbp.getSelectedCache())).getCacheDetails(false, true));
 		}

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -267,7 +267,7 @@
 		}
 		// cannot interprete data
 		if (fix == -2) {
-			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1511, "Cannot interpret data from GPS\n possible reasons:\n wrong Port,\n wrong Baudrate,\n not NMEA-Protocol\nConnection to serial port closed\nLast String tried to interprete:\n")+myNavigation.gpsPos.lastStrExamined, MessageBox.OKB)).exec();
+			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1511, "Cannot interpret data from GPS\n possible reasons:\n wrong port,\n wrong baudrate,\n not NMEA 0183 protocol\nConnection to serial port closed\nLast string tried to parse:\n")+myNavigation.gpsPos.lastStrExamined, MessageBox.OKB)).exec();
 			gpsStatus = RED;
 			myNavigation.stopGps(); // TODO automatic in myNavigate?
 		}
@@ -290,7 +290,7 @@
 
 	
 	private String getGotoBtnText() {
-		if (myNavigation.destination == null) return MyLocale.getMsg(999,"Not set");
+		if (myNavigation.destination == null) return MyLocale.getMsg(999,"not set");
 		else return myNavigation.destination.toString(currFormat);
 	}
 	

Modified: trunk/src/CacheWolf/navi/MapImporter.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImporter.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/navi/MapImporter.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -128,7 +128,7 @@
 		if(tmp != FileChooser.IDYES) return Form.IDCANCEL;
 		File inDir = fc.getChosenFile();
 		File mapFile;
-		InfoBox inf = new InfoBox("Info", MyLocale.getMsg(4109,"Loading maps...            \n"), InfoBox.PROGRESS_WITH_WARNINGS, false); 
+		InfoBox inf = new InfoBox("Info", MyLocale.getMsg(4109,"Loading maps...")+"            \n", InfoBox.PROGRESS_WITH_WARNINGS, false); 
 		inf.setPreferredSize(220, 300);
 		inf.setInfoHeight(100);
 		inf.relayout(false);
@@ -332,7 +332,7 @@
 						wfl.saveWFL(mapsPath, thisMap);
 						if(Global.mainTab.mm != null) Global.mainTab.mm.mapsloaded = false; 
 					} catch (IOException e) {
-						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(321, "Error writing file ") + e.getMessage()+MyLocale.getMsg(324, " - retry?"), MessageBox.YESB | MessageBox.NOB);
+						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(323, "Error writing file ") + e.getMessage()+MyLocale.getMsg(324, " - retry?"), MessageBox.YESB | MessageBox.NOB);
 						if (tmpMB.execute() == MessageBox.IDYES) retry = true;
 					}catch (IllegalArgumentException e) {
 						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(325, "Map not calibrated")+MyLocale.getMsg(324, " - retry?"), MessageBox.YESB | MessageBox.NOB);

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -91,7 +91,7 @@
 	 */
 	public MapInfoObject(double scalei, double lat) {
 		super(new CWPoint(1,0), new CWPoint(0,1));
-		mapName=MyLocale.getMsg(4300, "empty 1 Pixel = ") + scalei + MyLocale.getMsg(4301,"meters");
+		mapName=MyLocale.getMsg(4300, "empty 1 Pixel = ") + scalei + MyLocale.getMsg(4307,"meters");
 		double meters2deg = 1/(1000*(new CWPoint(0,0)).getDistance(new CWPoint(1,0)));
 		double pixel2deg = meters2deg * scalei;
 		affine[0]=0; //x2lat

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -67,7 +67,7 @@
 			try {
 				if (!showprogress && ((i & 0) == 0) && (new Time().getTime()-start  > 100) ) { // reason for (i & 7 == 0): test time only after i is incremented 15 times
 					showprogress = true;      
-					progressBox = new InfoBox(MyLocale.getMsg(327, "Info"), MyLocale.getMsg(4800, "Loading online map services"));
+					progressBox = new InfoBox(MyLocale.getMsg(327, "Information"), MyLocale.getMsg(4800, "Loading online map services"));
 					progressBox.exec(); 
 					progressBox.waitUntilPainted(500);
 					ewe.sys.Vm.showWait(true);
@@ -578,7 +578,7 @@
 			int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[0]);
 			GkPoint gkbl = TransformCoordinates.wgs84ToGk(p, region); // TODO: think / read about what to do if buttom left and top right ae not in the same Gau?-Kr?ger stripe?
 			crs = TransformCoordinates.whichEpsg(coordinateReferenceSystem, gkbl);
-			if (crs < 0) throw new IllegalArgumentException(MyLocale.getMsg(4829, "getUrlForBoundingBox: Point:")+" " + gkbl.toString() + MyLocale.getMsg(4830, "no matching Gau?-Kr?ger-Stripe in the EPSG-code list in the .wms"));
+			if (crs < 0) throw new IllegalArgumentException(MyLocale.getMsg(4829, "getUrlForBoundingBox: Point:")+" " + gkbl.toString() + MyLocale.getMsg(4830, "no matching Gauss-Krueger-Stripe in the EPSG-code list in the .wms"));
 		}
 		return crs;
 	}

Modified: trunk/src/CacheWolf/navi/MapLoaderGui.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -38,7 +38,7 @@
 	mLabel km = new mLabel("km");
 	mLabel coosLbl;
 	mButton coosBtn;
-	mLabel scaleLbl = new mLabel(MyLocale.getMsg(1807,"Approx. m per pixel:"));
+	mLabel scaleLbl = new mLabel(MyLocale.getMsg(1807,"Approx. m per pixel")+":");
 	mInput scaleInput = new mInput ("3");
 	mInput scaleInputPerCache = new mInput ("1");
 	mLabel overlappingLbl = new mLabel(MyLocale.getMsg(1808,"overlapping in pixel:"));
@@ -127,7 +127,7 @@
 		okBPerCache.setHotKey(0, IKeys.ENTER);
 		pnlPerCache.addLast(okBPerCache, CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
 
-		mTab.addCard(pnlPerCache, MyLocale.getMsg(1814, "Per cache"), MyLocale.getMsg(1813, "Per Cache"));
+		mTab.addCard(pnlPerCache, MyLocale.getMsg(1814, "per cache"), MyLocale.getMsg(1814, "per cache"));
 		this.addLast(mTab);
 	}
 

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/navi/MapsList.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -119,7 +119,7 @@
 		for (int i=size()-1; i >= 0 ;i--) {
 			if (!showprogress && ((i & 31) == 0) && (new Time().getTime()-start  > 100) ) { // reason for (i & 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4701,"Searching for best map"));
+				progressBox = new InfoBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(4701,"Searching for best map"));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -198,7 +198,7 @@
 		for (int i=size() -1; i>=0 ;i--) {
 			if (!showprogress && ((i & 31) == 0) && (new Time().getTime()-start  > 100) ) { // reason for (i & 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4701,"Searching for best map"));
+				progressBox = new InfoBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(4701,"Searching for best map"));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -267,7 +267,7 @@
 		for (int i=size()-1; i >= 0 ;i--) { 
 			if (!showprogress && ((i & 31) == 0) && (new Time().getTime()-start  > 100) ) { // reason for (i & 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4701,"Searching for best map"));
+				progressBox = new InfoBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(4701,"Searching for best map"));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -445,7 +445,7 @@
 					if ( (new MessageBox(MyLocale.getMsg(4702,"Optimisation"), MyLocale.getMsg(4703,"Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?\n It can take several minutes"), 
 							MessageBox.YESB | MessageBox.NOB)).execute() == MessageBox.IDYES)
 					{
-						renameProgressInfoB = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4704,"\nRenaming file:")+"    \n");
+						renameProgressInfoB = new InfoBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(4704,"\nRenaming file:")+"    \n");
 						renameProgressInfoB.exec();
 						renameProgressInfoB.waitUntilPainted(100);
 						rename = 1; // rename
@@ -467,7 +467,7 @@
 					map.fileNameWFL = path + filename + ".wfl";
 				}
 			} catch (IOException ioex) { // this should not happen
-				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4706,"Error while reading:")+" "+path+filename+": "+ ioex.getMessage(), MessageBox.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4707,"Error while reading:")+" "+path+filename+": "+ ioex.getMessage(), MessageBox.OKB)).exec();
 			}
 		}
 	}

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -183,7 +183,7 @@
 		//this.mapPath = mapsPath;
 		Vm.showWait(this, true);
 		resetCenterOfMap();
-		InfoBox inf = new InfoBox(MyLocale.getMsg(4201, "Info"), MyLocale.getMsg(4203, "Loading list of maps..."));
+		InfoBox inf = new InfoBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4203, "Loading list of maps..."));
 		inf.exec();
 		inf.waitUntilPainted(100);
 		boolean saveGpsIgnoreStatus = dontUpdatePos;
@@ -1025,7 +1025,7 @@
 	public void loadMapForAllCaches(){
 		Area sur = Global.getProfile().getSourroundingArea(true);
 		if (sur == null) {
-			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4215, "Keine  Caches mit H?ckchen ausgew?hlt"), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4215, "Did not select any caches"), MessageBox.OKB)).execute();
 			return;
 		}
 		MapInfoObject newmap = maps.getMapForArea(sur.topleft, sur.buttomright);
@@ -1370,7 +1370,7 @@
 	MenuItem showMapMI = new MenuItem(MyLocale.getMsg(4238, "Show map"), new IconAndText(new mImage("map_on.png"), MyLocale.getMsg(4239, "Show map"), null, Graphics.RIGHT));
 	MenuItem hideMapMI = new MenuItem(MyLocale.getMsg(4240, "Hide map"), new IconAndText(new mImage("map_off.png"), MyLocale.getMsg(4241, "Hide map"), null, Graphics.RIGHT));
 	// automatic
-	MenuItem mapChangeModusMI = new MenuItem(MyLocale.getMsg(4242, "Modus for automatic map change"), MenuItem.Separator, null);;
+	MenuItem mapChangeModusMI = new MenuItem(MyLocale.getMsg(4242, "Mode for automatic map change"), MenuItem.Separator, null);;
 	MenuItem highestResGpsDestMI = new MenuItem(MyLocale.getMsg(4244, "Highest res. containing dest. & cur. position"), new IconAndText(new mImage("res_gps_goto.png"), MyLocale.getMsg(4245, "Highest res. containing dest. & cur. position"), null, Graphics.RIGHT)); //immer h?chste Aufl?sung w?hlen, die akt. Pos. und Ziel enthalten 
 	MenuItem highestResolutionMI = new MenuItem(MyLocale.getMsg(4246, "Highest resolution"), new IconAndText(new mImage("res_high.png"), MyLocale.getMsg(4247, "Highest resolution"), null, Graphics.RIGHT)); //immer h?chste Aufl?sung w?hlen 
 	MenuItem keepManResolutionMI = new MenuItem(MyLocale.getMsg(4248, "Keep manual resolution"), new IconAndText(new mImage("res_manuell.png"), MyLocale.getMsg(4249, "Keep manual resolution"), null, Graphics.RIGHT)); // manuell gew?hlte Aufl?sung beibehalten  
@@ -1852,7 +1852,7 @@
 			}
 		}
 		if (gotopos != null) {
-			list.addItem(MyLocale.getMsg(4274, "--- Karten des Ziels ---"));
+			list.addItem(MyLocale.getMsg(4274, "--- maps of target area ---"));
 			row++;
 			cmp = "FF1"+Area.getEasyFindString(gotopos, 30);
 			for(int i = 0; i<maps.size();i++){
@@ -1869,7 +1869,7 @@
 				}
 			}
 		}
-		list.addItem(MyLocale.getMsg(4275, "--- andere Karten ---"));
+		list.addItem(MyLocale.getMsg(4275, "--- other maps ---"));
 		row++;
 		for(int i = 0; i<maps.size();i++){
 			ml = (MapListEntry)maps.get(i);

Modified: trunk/src/exp/MagellanExporter.java
===================================================================
--- trunk/src/exp/MagellanExporter.java	2008-03-16 20:38:02 UTC (rev 1254)
+++ trunk/src/exp/MagellanExporter.java	2008-03-16 20:54:40 UTC (rev 1255)
@@ -81,10 +81,10 @@
 					}
 					reader.close();
 				} catch (FileNotFoundException e) {
-					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2101, "Failure at loading magellan.cfg\n" + e.getMessage()));
+					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2101, "Failure at loading magellan.cfg\n") + e.getMessage());
 					info.show();
 				} catch (IOException e) {
-					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2103, "Failure at reading magellan.cfg\n" + e.getMessage()));
+					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2103, "Failure at reading magellan.cfg\n") + e.getMessage());
 					info.show();
 				} finally {
 					cacheDB.sort(new DistanceComparer(centre),false);



From mirabilos at mail.berlios.de  Sun Mar 16 21:54:59 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 16 Mar 2008 21:54:59 +0100
Subject: [Cachewolf-svn] r1256 - trunk/res_noewe/languages
Message-ID: <200803162054.m2GKsxxL025074@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-16 21:54:59 +0100 (Sun, 16 Mar 2008)
New Revision: 1256

Modified:
   trunk/res_noewe/languages/EN.cfg
Log:
regenerate from current source code


Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-16 20:54:40 UTC (rev 1255)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-16 20:54:59 UTC (rev 1256)
@@ -10,64 +10,56 @@
 		106=to MS AutoRoute CSV
 		107=Export
 		108=Preferences
-		109=Load caches
 		110=Save & Exit
 		111=Exit
 		112=Search
-		113=Clear Search
-		114=Create filter
-		115=Invert filter
-		116=Clear filter
+		113=Clear search
+		114=Create
+		115=Invert
+		116=Clear
 		117=About
 		118=WolfLanguage
 		119=Search for:
 		120=Application
-		121=Profile
-		122=to Garmin
-		123=to CacheMate
+		121=Profiles
+		122=to GPS
+		123=to Cachemate
 		124=to OZI
 		125=to Google Earth
-		126=to TomTom OV2
 		127=Save
 		128=via Template
 		129=Import GPX
 		130=Download from opencaching.de
 		131=Spider from geocaching.com
-		132=To Magellan
-		139=Manage Travelbugs
-		140=Organise            
-		141=Copy 
-		142=Move 
-		143=Delete 
-		144=Warning 
-		145=Cachedata of ALL SHOWN caches will be deleted! Continue? 
-		146=Cachedata of ALL SHOWN caches will be copied! Continue? 
-		147=Cachedata of ALL SHOWN caches will be moved! Continue? 
-		148=Select Target directory 
+		132=to Magellan
+		139=Manage travelbugs
+		140=Organise
+		141=Copy
+		142=Move
+		143=Delete
+		144=Warning
+		145=Cachedata of ALL VISIBLE caches will be deleted! Continue?
+		146=Cachedata of ALL VISIBLE caches will be copied! Continue?
+		147=Cachedata of ALL VISIBLE caches will be moved! Continue?
+		148=Select Target directory
 		149=Maps
 		150=Import
 		151=Calibrate
-		152=Map import
-		153=Map import successful
-		154=Error when importing map!
 		155=Legend
-		156=Out of memory error, map to big
+		156=Out of memory error, map too big
 		157=System
 		158=Version Check
 		159=Filter
-		160=Filter out selected
+		160=Filter selected
 		161=Show Blacklist
 		162=Download calibrated
 		170=Select base directory for cache data
-		171=Profile does not exist:+
-		172=Error: cannot create maps directory:%0a
-		173=GPSBabel:
+		171=Profile does not exist: 
+		172=Error: cannot create maps directory: %0a
+		173=Garmin:  PC Port:
 		174=Short Names
 		175=Import
-		176=-- not used any more--
-		177=-- not used any more--
-		178=Version Check
-		179=You are at%0athe current version.
+		178=Version Checking
 		180=Drag caches
 		181=here
 		182=New list
@@ -75,30 +67,21 @@
 		184=Save as
 		185=Save (without confirmation)
 		186=Also drag Addi Wpts
-		187=Show only these waypoints
 		188=CACHETOUR: NEW
-		189=Apply list
+		189=Apply List
 		190=Show only these waypoints
-		191=Select file
+		191=Select File
 		192=Save changes
 		193=add Addis
-		195=Current Centre
+		195=Current centre
 		196=Total # of caches (GC&OC)%0aTotal # visible%0aTotal # found
-		197=Show/Hide cachetour	
+		197=Show/Hide cachetour
 		198=Cachetour
 		199=Add to cachetour
-		200=Details
-		201=Description
-		202=Images
-		203=Hint & Logs
-		204=Solver
-		205=Radar
-		206=List
-		207=Always login to GC
-		208=Rebuild index
-		209=Rebuilding index
-		210=Caches not in index.xml:+
-		211=%0aThereof added:+  
+		208=Rebuild Index
+		209=Rebuilding Index
+		210=Caches not in index.xml: 
+		211=%0aAdded these: 
 		212=Delete all .xml files not in index.xml and associated pictures
 		213=Deleting orphans
 		300=Type:
@@ -110,10 +93,10 @@
 		306=Owner:
 		307=Status:
 		308=Notes:
-		309=Set as centre
+		309=Centre
 		310=Delete
-		311=New Waypoint
-		312=Save
+		311=Create Waypoint
+		312=Error
 		313=Flag 1
 		314=Flag 2
 		315=Flag 3
@@ -122,60 +105,54 @@
 		318=Found
 		319=Not Found
 		320=Owner
-		320=Besitzer
 		321=Error
-		322=Couldn't find image/map
-		323=Fehler beim Schreiben der Datei
+		322=Cannot find image/map
+		323=Error writing file 
 		324= - retry?
-		325=Not enough reference points, map not calibrated
-		326=No calibrated map available. %0a Please select a scale to display the track and caches.
+		325=Map not calibrated
+		326=Cannot load image/map
 		327=Information
 		328=Date found
-		329=Hidden on
+		329=Hidden date
 		340=Cache Images:
 		341=User Images:
 		342=Deleted
 		343=Not enough free memory to load cache image
 		344=Delete image
-		345=Go to these coordinates
+		345=Goto these coordinates
 		346=Show travelbugs
 		347=Show map
 		348=Add user pictures
 		349=Toggle Blacklist status
 		350=Add timestamp to notes
 		351=Add/Edit notes
-		400=Dekode
-		500=Switch
-		591=Leave empty for default language or%0aadd 2 character language, e.g. DE, EN
+		591=Select "auto" for system language or select your preferred language, e.g. DE or EN
 		592=Language (needs restart)
 		593=Password is optional here.%0aEnter only if you want to store it in pref.xml
-		594=Passwd
+		594=Pwd
 		595=List
-		596=Name
-		597=Waypoint
-		598=Type
-		599=Checkbox
+		596=name
+		597=waypoint
+		598=type
+		599=checkbox
 		600=Preferences
-		601=Your alias:
-		602=Home coordinates:
-		603=Profile directory
-		604=Search
-		605=Table columns:
+		601=Your Alias:
+		603=Data Directory:
+		604=Browse
 		606=Difficulty
 		607=Terrain
-		608=Coordinates
+		608=Location
 		609=Owner
-		610=Hiddon on
+		610=Hidden
 		611=Status
 		612=Distance
-		613=Heading
+		613=Bearing
 		614=Cancel
 		615=Apply
 		616=Select directory
 		617=Paste
 		618=Copy
 		619=Parse
-		620=Save
 		621=General
 		622=Screen
 		623=Images:
@@ -191,103 +168,79 @@
 		633=Max. logs to spider
 		634=use Proxy
 		635=Size
-		636=OC Recs
+		636=OC Recommends
 		637=OC Index
-		638=Show pictures in description		
-		700=Set filter
-		701=Distance
-		702=Difficulty
+		638=Show pictures in description
+		700=Set Filter
+		701=Distance: 
+		702=Difficulty: 
 		703=Found
-		704=Not found
-		705=in last
-		706=Found
-		707=Owner
+		707=Owned
 		708=Cancel
-		709=Apply filter
+		709=Apply
 		710=Archived
 		711=Not available
 		712=Select route file
-		713=Save filter
-		714=Bearing & Distance
+		714=Bearings & Distance
 		715=Show all caches with status:
 		716=Deselect all
 		717=Select all
 		718=Cache ratings
 		719=Cache types
-		720=Status
-		721=Direction
-		722=Rating
+		720=Attributes
+		721=Bearing
+		722=Ratings
 		723=Types
 		724=Container
 		725=Note: Filters are additive, active filter=green
 		726=Additional waypoints
 		727=Cache container
-		728=Add. Waypt
+		728=Status
 		729=Not archived
-		730=Available
+		730=Searchable
 		731=Not yet found
 		732=Other owner
-		733=Addi Wpt
-		734=No main waypoint found for
-		735=Addi Waypoints must have the format xxYYYY, where xx are any 2 chars and YYYY are the main cache's chars after the GC
-		736=Too many logs (Limit can be adjusted in preferences)
-		737=Cache-attributes
+		733=Add. Wpt
+		734=No main cache found for addi waypoint 
+		735=Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC
+		736=Too many logs
+		737=Attributes
 		738=Attributes
 		739=Filter on
 		740=all
 		741=one
 		742=none
-		800=Creating list
-		801=searching...
-		802=Caches identified. searching...
-		803=Done!
-		804=Collecting cache details
-		805=Collecting data for:
-		900=List
-		901=Loc
-		902=Nearest
-		903=Cancel
-		904=Multi
-		905=Load Caches
-		906=List of Caches:
-		907=Max distance:
-		908=Select waypoint file:
 		909=Select file(s)
-		910=Select template file
+		910=Select Template file
 		950=Transfer
 		951=Sending to GPS
 		952=Converting...
-		999=Not set
+		999=not set
 		1000=D
 		1001=T
 		1002=Waypoint
-		1003=Name
 		1004=Location
 		1005=Owner
 		1006=Hidden
 		1007=Status
 		1008=Dist
 		1009=Bear
-		1010=Goto this one
-		1011=Filter out non-selected
+		1010=Goto
+		1011=Filter out non selected
 		1012=Delete selected
 		1013=With selection
 		1014=Update cache data
 		1015=Select all
-		1016=Deselect all
+		1016=De-select all
 		1017=S
-		1018=Open offline in Browser
-		1019=Set this as centre
-		1020=Open online in Browser
-		1021=Open cache description
+		1018=Open offline in browser
+		1019=Enter
+		1020=Open online in browser
+		1021=Open description
 		1022=Delete all caches that have a tick?
-		1023=This function is currently only available for geocaching.com
-		1024=Distances in list view recalculated~from current position
-		1025=Cannot set centre (Invalid GPS position)
+		1024=Distances in list view %0a are recalculated now...
 		1026=#Rec
-		1027=OC-Idx
-		1100=Profiles
-		1105=Browse
+		1027=OC-IDX
 		1106=Choose profile or New
 		1107=New
 		1108=Choose profile
@@ -295,24 +248,22 @@
 		1110=Centre
 		1111=Create new profile:
 		1112=New profile name
-		1113=Cannot create directory (must not contain caracters forbidden by operating system)
-		1114=Directory exists already.
+		1113=Cannot create directory
+		1114=Directory already exists
 		1115=Centre
 		1116=Current
 		1117=copy
 		1118=Profile
-		1119=Old Profiles
 		1120=Diff
 		1121=Terr
 		1200=List
 		1201=Details
 		1202=Description
 		1203=Images
-		1204=Hint & Logs
+		1204=Hints & Logs
 		1205=Solver
 		1206=Calc
 		1207=Your profile has unsaved changes. Do you want to save?
-		1300=Last Setting
 		1301=Select Profile:
 		1400=Zone
 		1401=Northing
@@ -320,7 +271,7 @@
 		1403=Bearing
 		1404=Distance
 		1405=To load coordinates from GC, enter GCxxxxx below
-		1406=Enter coordinates in any format or GCxxxx
+		1406=Enter coordinates in any format or GCxxxxx
 		1407=steps
 		1408=feet
 		1409=yards
@@ -328,7 +279,7 @@
 		1500=DST:
 		1501=Current
 		1502=deg
-		1503=North centered
+		1503=North Centered
 		1504=Start
 		1505=Stop
 		1506=Map
@@ -336,31 +287,30 @@
 		1508=latitude
 		1509=longditue
 		1510=No data from GPS%0aConnection to serial port closed
-		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:%0a 
+		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong port,%0a wrong baudrate,%0a not NMEA 0183 protocol%0aConnection to serial port closed%0aLast string tried to parse:%0a
 		1512=Waypoint
-		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination as center or in selected cache, or start GPS
-		1600=Opencahing.de Download
+		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination, as center, in selected cache or start GPS
+		1600=Opencaching.de Download
 		1601=Distance:
 		1602=Download Images
-		1603=Download Maps
 		1604=Cancel
 		1605=OK
-		1606=redownload all
+		1606=Re-download all
 		1607=Update from opencaching successful
-		1608=Downloading data from opencaching...
-		1609=Importing Cache: 
-		1610=download missing map
-		1611=Importing cache description: 
-		1612=Importing Log: 
-		1613=Importing picture:
+		1608=downloading data%0a from opencaching
+		1609=Importing Cache:
+		1611=Importing cache description:
+		1612=Importing cache log:
+		1613=Pictures:
 		1614=Error while unzipping udpate file
 		1615=Error parsing update file, state:
 		1616=Error: could not download udpate file from opencaching.de
-		1617=Ignoring error in html-Cache-Description: "<img" without "src=" in cache+
-		1618=Ignoring error in Cache:+
-		1619=: could not download image from URL:+
-		1620=downloading embedded images:+
-		1621=Error while interpreting data%0a from Opencaching.de,%0aThis is most probaly a bug at Opencaching.de%0aRetry later%0a Status:
+		1617=Ignoring error in HTML cache description: "<img" without "src=" in cache 
+		1618=Ignoring error in cache: 
+		1619=: could not download image from URL: 
+		1620=downloading embedded images: 
+		1621=Error parsing update file%0a this is likely a bug in opencaching.de%0aplease try again later%0a, state:
+		1622=Exclude found caches
 		1700=Error on line: 
 		1701= position: 
 		1702=Variable not defined: 
@@ -392,189 +342,107 @@
 		1730=Unterminated string
 		1731=Invalid format character
 		1732=Invalid character
-		1733=Input command	
+		1733=Input command
 		1734=Clear output
 		1735=Solve!
 		1736=Load
 		1737=Save
-		1738=SaveAs	
+		1738=SaveAs
 		1739=Projection degrees must be in interval [0;2*PI]
 		1800=Download georeferenced maps
-		1801=Download tiles
 		1802=Download georeferenced maps%0a Select online service:
 		1803=for
 		1804=all
 		1805=selected
 		1806=caches
-		1807=Approx. m per pixel:
+		1807=Approx. m per pixel
 		1808=overlapping in pixel:
 		1809=download an overview map
 		1810=Within a rectangle of:
-		1811=around the centre: 
+		1811=around the centre:
 		1812=Tiles
 		1813=Download one map for
-		1814=Per cache
+		1814=per cache
 		1815=Downloading georeferenced maps
 		1816=Downloading georeferenced maps%0a %0a %0a %0a %0a
-		1817=No caches are seleted
-		1818=getSortedMapServiceIndex: index 
+		1817=No Caches are seleted
+		1818=getSortedMapServiceIndex: index
 		1819=not found
 		1820=Downloading map '
 		1821=%0a for cache:%0a
-		1822=Cache: 
-		1823=Ignoring error: 
+		1822=Cache:
+		1823=Ignoring error:
 		1824=downloading overview map
-		1825=Overview map: Ignoring error: 
+		1825=Overview map: Ignoring error:
 		1826=Finished downloading and calibration of maps
 		1827='radius' must be graeter than 0
-		1828='overlapping' must be greater or equal 0 
+		1828='overlapping' must be greater or equal 0
 		1829=Please enter the 'centre' around which the maps shall be downloaded
-		1830=The selected online map service provides map in the scale from 
-		1831= to 
+		1830=The selected online map service provides map in the scale from
+		1831= to
 		1832=%0a please adjust 'Approx. meter pro pixel' accordingly
-		2000=GPX Export
-		2001=of
-		2500=Error loading attributes or unknown attribute
-		2501=not 24-7
-		2502=available 24-7
-		2503=no bikes
-		2504=bikes allowed
-		2505=*boat-no
-		2506=*boat-yes
-		2507=*cactus-no
-		2508=*cactus-yes
-		2509=no campfires
-		2510=campfires allowed
-		2511=No camping
-		2512=Camping allowed
-		2513=*cliff-no
-		2514=falling rocks nearby
-		2515=no difficult climbing
-		2516=difficult climbing
-		2517=*compass-no
-		2518=*compass-yes
-		2519=*cow-no
-		2520=watch for livestock
-		2521=*danger-no
-		2522=dangerous area
-		2523=no dogs
-		2524=dogs allowed
-		2525=*fee-no
-		2526=access/parking fees
-		2527=*hiking-no
-		2528=significant hike
-		2529=no horses
-		2530=horses allowed
-		2531=*hunting-no
-		2532=hunting area
-		2533=no off-road vehicles
-		2534=off-road vehicles allowed
-		2535=no kids
-		2536=kid friendly
-		2537=*mine-no
-		2538=*mine-yes
-		2539=no motorcycles
-		2540=motorcycles allowed
-		2541=not recommended at night
-		2542=recommended at night
-		2543=takes more than one hour
-		2544=takes less than one hour
-		2545=*parking-no
-		2546=parking available
-		2547=*phone-no
-		2548=telephone nearby
-		2549=*picnic-no
-		2550=picnic tables available
-		2551=*poisonoak-no
-		2552=*poisonoak-yes
-		2553=*public-no
-		2554=public transit available
-		2555=no quads
-		2556=quads allowed
-		2557=*rappelling-no
-		2558=climbing gear
-		2559=*restrooms-no
-		2560=restrooms available
-		2561=*scenic-no
-		2562=scenic view
-		2563=*scuba-no
-		2564=*scuba-yes
-		2565=*snakes-no
-		2566=*snakes-yes
-		2567=no snowmobiles
-		2568=*snowmobiles-yes
-		2569=no stealth required
-		2570=stealth required
-		2571=not stroller accessible
-		2572=stroller accessible
-		2573=*swimming-no
-		2574=*swimming-yes
-		2575=*thorn-no
-		2576=thorns!
-		2577=*ticks-no
-		2578=ticks!
-		2579=*wading-no
-		2580=may require wading
-		2581=*water-no
-		2582=drinking water nearby
-		2583=not wheelchair accessible
-		2584=wheelchair accessible
-		2585=not available in winter
-		2586=available in winter
-		2587=No maintenance needed
-		2588=Needs maintenance
+		2100=Magellan Exporter
+		2101=Failure at loading magellan.cfg%0a
+		2102=Select target file:
+		2103=Failure at reading magellan.cfg%0a
+		2104=Choose directory for exporting .gs files
 		3000=Close
 		4000=Loaded caches
+		4100=Select Directory:
 		4101=Maps
-		4102=Calibrated maps
-		4103=Not calibrated maps
+		4102=Calibrated Maps
+		4103=Non Calibrated Maps
 		4104=Cancel
-		4105=Load
-		4106=Calibrate map
+		4105=Open
+		4106=Calibrate map:
 		4107=Done!
-		4108=Coordinates:
 		4109=Loading maps...
-		4110=loading
-		4111=Coordinates must be entered in the format N XX XX.XXX E XXX XX.XXX
-		4112=IO-Error while copying image from:+
-		4113=to:+
-		4114=+error:+
-		4115=Error: could not decode image:+
-		4116=+-+image not copied
-		4117=Error while importing .map-file:+
+		4110=Loading: 
+		4111=Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM
+		4112=IO-Error while copying image from: 
+		4113= to: 
+		4114= error: 
+		4115=Error: could not decode image: 
+		4116= - image not copied
+		4117=Error while importing .map-file: 
 		4118=IO-Error while reading or writing calibration file
-		4119=No calibration file found for:+
+		4119=No calibration file found for: 
 		4120=done.
-		4200=Choose map directory
+		4200=Select map directory:
 		4201=Information
 		4203=Loading list of maps...
-		4206=Dist:+
+		4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches
+		4205=No georeferenced map available  %0a you can get one by the menu: Application/Maps/download calibrated
+		4206=Dist: 
 		4207=Error
-		4208=Bug: %0aillegal mapChangeModus:+
+		4208=Bug: %0aillegal mapChangeModus: 
+		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
 		4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
-		4211=No+
+		4211=No 
 		4212=less
 		4213=more
-		4214=+detailed map available
-		4215=No caches selected by check mark
+		4214= detailed map available
+		4215=Did not select any caches
 		4216=Loading map...
 		4217=Could not find image associated with: %0a
 		4218=Could not load map: %0a
 		4219=Not enough memory to load map: %0a
-		4220=%0a You can try to close %0a all prgrams and %0a restart CacheWolf
-		4221=Not enough ressources to load map:+
+		4220=%0aYou can try to close%0a all prgrams and %0arestart CacheWolf
+		4221=Not enough ressources to load map: 
 		4222=Out of memory error
 		4230=Goto here$g
 		4232=Create new Waypoint here$n
 		4234=Select a map manually$s
+		4235=Select a map manually
 		4236=Change map directory$c
 		4237=Change map directory
 		4238=Show map
 		4239=Show map
 		4240=Hide map
 		4241=Hide map
-		4242=Modus for automatic map change
+		4242=Mode for automatic map change
 		4244=Highest res. containing dest. & cur. position
+		4245=Highest res. containing dest. & cur. position
 		4246=Highest resolution
 		4247=Highest resolution
 		4248=Keep manual resolution
@@ -587,56 +455,57 @@
 		4256=Load a map for a better overview
 		4257=Load a map for a better overview
 		4258=Move map to and load map
-		4260=Move map to goto point
-		4261=Move map to goto point
-		4262=Move map to GPS position
-		4263=Move map to GPS position
-		4264=Move map to centre
-		4265=Move map to centre
+		4260=Move to goto point
+		4261=Move to goto point
+		4262=Move to GPS position
+		4263=Move to GPS position
+		4264=Move to centre
+		4265=Move to centre
 		4270=Open
-		4271=--- Maps containing GPS and goto pos. ---
+		4271=Maps
+		4272=--- Maps containing GPS and goto pos. ---
 		4273=--- Maps containing curr. position ---
-		4274=--- Maps containing goto position ---
-		4275=--- Other maps ---
+		4274=--- maps of target area ---
+		4275=--- other maps ---
 		4276=Cancel
 		4277=Select
-		4278=Cannot load wfl-file: \n
-		4300=empty 1 Pixel =+
-		4301=+meters
-		4302=Lat/Lon out of range while reading+
-		4303=not enough lines in file+
+		4278=Cannot load wfl-file: %0a
+		4300=empty 1 Pixel = 
+		4301=Lat/Lon out of range while reading 
+		4303=not enough lines in file 
 		4304=not enough points to calibrate the map
 		4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file %0a
 		4306=map not calibrated
+		4307=meters
 		4400=Warning
 		4401=Ignoring error:%0a could not forward GPS data to host:%0a
 		4402=%0astop and start GPS to retry
 		4403=Error
-		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port%0a
-		4405=%0apossible reasons:\n Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS"
+		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port 
+		4405=%0apossible reasons:%0a Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS
 		4406=Please copy jave_ewe.dll into the directory of the cachewolf program
 		4500=Tot:
-		4501=Vis:
+		4501=Dsp:
 		4502=Fnd:
 		4600=Some cache(s) cannot be shown because of wrong blacklist status
-		4700=Ignoring error while%0areading calibration file%0a
+		4700=Ignoring error while %0a reading calibration file %0a
 		4701=Searching for best map
 		4702=Optimisation
-		4703=Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?%0aIt can take several minutes.
+		4703=Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?%0a It can take several minutes
 		4704=%0aRenaming file:
 		4705=Failed to rename:%0a
-		4706=%0ato:%0an
-		4707=Error while reading: 
+		4706=%0ato:%0a
+		4707=Error while reading:
 		4800=Loading online map services
 		4801=Ignoring error while %0a reading web map service definition file %0a
 		4802=Downloading calibrated (georeferenced) %0a map image %0a '
-		4803=' %0a Downloading tile %0a row 
-		4804= column 
-		4805=Tile 
-		4806=: Ignoring error: 
+		4803=' %0a Downloading tile %0a row
+		4804= column
+		4805=Tile
+		4806=: Ignoring error:
 		4807=loadTo: failed to download map: didn't get http-redirect
-		4808=downloadImage: content-type: 
-		4809= is not an image, begin of content: 
+		4808=downloadImage: content-type:
+		4809= is not an image, begin of content:
 		4810=Error while downloading or saving map:%0a
 		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
 		4812=WebMapService: property >Name:< missing in file:%0a
@@ -644,31 +513,30 @@
 		4814=WebMapService: no CoordinateReferenceSystemCacheWolf given
 		4815=Coordinate reference system not supported by CacheWolf:%0a
 		4816=WebMapService: property >CoordinateReferenceSystemUrlPart:< missing in file:%0a
-		4817=Number of strings in CoordinateReferenceSystemUrlPart (
+		4817=number of strings in CoordinateReferenceSystemUrlPart (
 		4818=) must match the number of codes in CoordinateReferenceSystemCacheWolf (
 		4819=) use normal space as separator
 		4820=WebMapService: property >CoordinateReferenceSystemUrlPart:< incorrect in file:%0a
 		4821=WebMapService: property >ImageFileExtension:< missing in file:%0a
-		4822=area: 
-		4823= not covered by service: 
-		4824=, service area: 
-		4825=scale 
-		4826= not supported by online map service, supported scale range: 
+		4822=area:
+		4823= not covered by service:
+		4824=, service area:
+		4825=scale
+		4826= not supported by online map service, supported scale range:
 		4827= (measured in meters per pixel vertically)
-		4828=Coordinate system not supported by Cachewolf: 
-		4829=getUrlForBoundingBox: Point: 
-		4830=No matching Gau?-Kr?ger-Stripe in the EPSG-code list in the .wms
-		4831=getMapInfoObject: Coordinate system not supported by Cachewolf: 
-		4900=+is not a german Gauss-Krueger coordinate
-		4920=EPSG code+
-		4921=+not supported
-		4922=EPSG code missing in:+
-		4923=fromWgs84: EPSG code+
-		4924=ToWgs84: EPSG code+
-		5498=Login failed. Error loading page after login. 
-		5499=Error loading login page
-		5000=Load Cachelist
+		4828=Coordinate system not supported by cachewolf:
+		4829=getUrlForBoundingBox: Point:
+		4830=no matching Gauss-Krueger-Stripe in the EPSG-code list in the .wms
+		4831=getMapInfoObject: Coordinate system not supported by cachewolf:
+		4900= is not a german Gauss-Krueger coordinate
+		4920=EPSG code 
+		4921= not supported
+		4922=EPSG code missing in: 
+		4923=fromWgs84: EPSG code 
+		4924=ToWgs84: EPSG code 
+		5000=Loading Cache-List
 		5497=Error missing tag in spider.def
+		5499=Error loading login page
 		5500=Error
 		5501=Login failed! Wrong account or password?
 		5502=Fetching first page...
@@ -680,10 +548,11 @@
 		5508=Logging in...
 		5509=Coordinates for centre must be set
 		5510=Spider Options
-		5511=Found+
-		5512=+caches
-		5513=Loading:+
-		5514=%0aGetting bug:+
+		5511=Found 
+		5512= caches
+		5513=Loading: 
+		5514=%0aGetting bug: 
+		5515=Login failed. Error loading page after login.
 		6000=Guid
 		6001=Name
 		6002=track#
@@ -693,24 +562,24 @@
 		6006=From Date
 		6007=From Log
 		6008=To Prof
-	  6009=To Wpt
+		6009=To Wpt
 		6010=To Date
 		6011=To Log
 		6015=*** OTHER ***
-		6016=Pick up travelbug
-		6017=Drop travelbug
+		6016=Pick up Travelbug
+		6017=Drop Travelbug
 		6018=Travelbug name
 		6019=Tracking number
 		6020=Travelbug not found.
 		6021=More than one travelbug found. Specify name more precisely.
-		6022=: Current cache:+
+		6022=: Current cache: 
 		6025=Name:
 		6026=Tracking #:
-		6027=Id/Guid:
+		6027=ID/GUID:
 		6028=Name
 		6029=Profile/Cache:
 		6030=Date found:
-		6031=Logged
+		6031=Logged:
 		6032=From
 		6033=Date dropped:
 		6034=To
@@ -720,7 +589,7 @@
 		6041=Drop TB in cache
 		6042=New Travelbug
 		6043=Delete Travelbug
-		6044=Get mission (and name)
+		6044=Get Mission
 		6045=Open on-line
 		6046=Show only not logged
 		6047=Delete selected Travelbugs
@@ -728,23 +597,20 @@
 		6051=Don't show column
 		6100=Sun
 		6101=Moon
-		6102=Greater Bear
+		6102=Grater Bear
 		6103=Orion
 		6104=Cassiopeia
 		6105=Cygnus
-		6106=Mimosa in Southern Cross
-		7000=Release
-		7001=Release candidate
-		7002=in development, stable
-		7003=in development, newest
-		7010=bereits aktuell(er)
-		7011=Update available
-		7012=not available
-		7013=error
-		7020=recommended version type
-		7021=type of this version
-		7022=Type of version
-		7023=Error downloading current version information
+		6106=Southern Cross
+		6122=Alioth in Greater Bear
+		6123=Alnilam in Orion
+		6124=Cassiopeia Gamma
+		6125=Deneb in Cygnus
+		6126=Becrux in Southern Cross
+		7020=Recommended version type
+		7021=This version type
+		7022=Version type
+		7023=Error getting current version information
 		{..}
 	{..}
 {..}



From mirabilos at mail.berlios.de  Sun Mar 16 22:02:03 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 16 Mar 2008 22:02:03 +0100
Subject: [Cachewolf-svn] r1257 - trunk/res_noewe/languages
Message-ID: <200803162102.m2GL23Np027427@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-16 22:02:02 +0100 (Sun, 16 Mar 2008)
New Revision: 1257

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/NL.cfg
Log:
automated regeneration of DE and NL files from EN file:
??? nuke all IDs no longer in use
??? copy the English text for all IDs unknown in these languages

next, I???ll tend to the texts


Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-16 20:54:59 UTC (rev 1256)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-16 21:02:02 UTC (rev 1257)
@@ -10,7 +10,6 @@
 		106=nach MS AutoRoute CSV
 		107=Export
 		108=Pr%e4ferenzen
-		109=Cacheliste laden
 		110=Speichern & Beenden
 		111=Beenden
 		112=Suchen
@@ -27,7 +26,6 @@
 		123=zu CacheMate
 		124=nach OZI
 		125=nach Google Earth
-		126=nach TomTom OV2
 		127=Speichern
 		128=%fcber Template
 		129=Importiere GPX
@@ -47,9 +45,6 @@
 		149=Karten
 		150=Importieren
 		151=Kalibrieren
-		152=Karte import
-		153=Kartenimport erfolgreich
-		154=Fehler beim Kartenimport!
 		155=Legende
 		156=Nicht gen%fcgend freier Speicher, Karte zu gro%df
 		157=System
@@ -64,10 +59,7 @@
 		173=GPSBabel:
 		174=Kurznamen
 		175=Import
-		176=--frei geworden--
-		177=--frei geworden--
 		178=Versionspr%fcfung
-		179=Sie haben die%0aaktuelle Version.
 		180=Caches hierher
 		181=ziehen
 		182=Neue Liste
@@ -75,7 +67,6 @@
 		184=Speichern als
 		185=Speichern (ohne Nachfrage)
 		186=Addi Wegpunkte mitziehen
-		187=Nur diese Wegpunkte anzeigen
 		188=CACHETOUR: NEU
 		189=Liste anwenden
 		190=Nur diese Wegpunkte zeigen
@@ -87,14 +78,6 @@
 		197=Cachetour anzeigen/verbergen
 		198=Cachetour
 		199=Zu Cachetour hinzuf%fcgen	
-		200=Details
-		201=Beschreibung
-		202=Bilder
-		203=Hint & Logs
-		204=L%f6ser
-		205=Radar
-		206=Liste
-		207=Immer neu einloggen
 		208=Index neu erstellen
 		209=Wiederaufbau Index
 		210=Caches nicht in index.xml:+
@@ -143,8 +126,6 @@
 		349=Blacklist-Status umschalten
 		350=Zeitstempel zu Notizen hinzuf%fcgen
 		351=Notizen hinzuf%fcgen/%e4ndern
-		400=Dekodieren
-		500=Umschalten
 		591=Leer f%fcr Sprache des Betriebssystems%0aoder 2 Zeichen f%fcr andere Sprache , z.B. DE, EN
 		592=Sprache (braucht Neustart)
 		593=Password ist hier optional.%0aNur eingeben wenn es in pref.xml%0agespeichert werden soll.
@@ -156,10 +137,8 @@
 		599=Auswahlbox
 		600=Pr%e4ferenzen
 		601=Dein Alias:
-		602=Heimatkoordinaten:
 		603=Verzeichnis f%fcr Profile
 		604=Suchen
-		605=Tabellenspalten:
 		606=Schwierigkeit
 		607=Terrain
 		608=Koordinaten
@@ -174,7 +153,6 @@
 		617=Einf%fcgen
 		618=Kopieren
 		619=Parse
-		620=Speichern
 		621=Allgemein
 		622=Ansicht
 		623=Bilder:
@@ -197,16 +175,12 @@
 		701=Entfernung
 		702=Schwierigkeit
 		703=Gefunden
-		704=Nicht gefunden
-		705=in den
-		706=Gefunden
 		707=Besitzer
 		708=Abbrechen
 		709=Anwenden
 		710=Archiviert
 		711=Nicht suchbar
 		712=Route Datei w%e4hlen
-		713=Speicher Filter
 		714=Richtung & Entfernung
 		715=Zeige alle Caches mit Status
 		716=Alle abw%e4hlen
@@ -236,21 +210,6 @@
 		740=Allen
 		741=Einem
 		742=Keinem
-		800=Erstelle Liste
-		801=suche...
-		802=Caches identifiziert. Suche weiter...
-		803=Fertig!
-		804=Cache Details sammeln
-		805=Hole Daten zu:
-		900=Liste
-		901=Loc
-		902=Umkreis
-		903=Abbruch
-		904=Multi
-		905=Cachedaten laden
-		906=Cacheliste:
-		907=Max Entfernung:
-		908=Wegpunktdatei w%e4hlen:
 		909=Datei(en) w%e4hlen
 		910=Vorlagendatei w%e4hlen
 		950=Transfer
@@ -260,7 +219,6 @@
 		1000=D
 		1001=T
 		1002=Wegpunkt
-		1003=Name
 		1004=Koordinaten
 		1005=Besitzer
 		1006=Versteckt am
@@ -280,13 +238,9 @@
 		1020=Im Browser online %f6ffnen
 		1021=Beschreibung %f6ffnen
 		1022=Alle mit H%e4kchen markierten Caches l%f6schen?
-		1023=Diese Funktion steht gegenw%e4rtig nur f%fcr Geocaching.com zur Verf%fcgung
 		1024=Entfernungen in der Listenansicht~vom aktuellen Standpunkt aus~neu berechnet
-		1025=Kann Zentrum nicht setzen (GPS-Position unzul%e4ssig)
 		1026=#Rec
 		1027=OC-Idx
-		1100=Profile
-		1105=Suchen
 		1106=Profil w%e4hlen oder Neu
 		1107=Neu
 		1108=Profil w%e4hlen
@@ -300,7 +254,6 @@
 		1116=Aktuell
 		1117=kopieren
 		1118=Profil
-		1119=Alte Profile
 		1120=Schwier
 		1121=Gel%e4nde
 		1200=Liste
@@ -311,7 +264,6 @@
 		1205=L%f6ser
 		1206=Rechner
 		1207=%c4nderungen im Profil Speichern?
-		1300=Letzte Einstellung
 		1301=Profil ausw%e4hlen:
 		1400=Zone
 		1401=Nord
@@ -341,14 +293,12 @@
 		1600=Opencaching.de Download
 		1601=max. Abstand:
 		1602=Bilder downloaden
-		1603=Karten downloaden
 		1604=Abbrechen
 		1605=OK
 		1606=Alle neu downloaden
 		1607=Update von opencaching erfolgreich
 		1608=Daten von opencaching downloaden...
 		1609=Importiere Cache: 
-		1610=download der fehlenden Karte
 		1611=Importiere Cachebeschreibung: 
 		1612=Importiere Log: 
 		1613=Importiere Bild:
@@ -400,7 +350,6 @@
 		1738=Speichern als	
 		1739=Winkel muss im Bereich [0;2*PI] sein
 		1800=Georeferenzierte Karten herunterladen
-		1801=Kacheln herunterladen
 		1802=Download georeferenzierter Karten%0a W%e4hle Onlinedienst:
 		1803=f%fcr
 		1804=alle
@@ -432,102 +381,11 @@
 		1830=Der gew%e4hlte Kartendienst bietet Karten in einem Ma%dfstab von 
 		1831= bis 
 		1832=%0a Bitte 'Ca. m pro Pixel' entsprechend anpassen
-		2000=GPX Export
-		2001=von
 		2100=Magellan Exporter
 		2101=Fehler beim laden der Datei magellan.cfg
 		2102=Zieldatei w%e4hlen
 		2103=Fehler beim lesen der Datei magellan.cfg
 		2104=Ausgabeverzeichnis f%fcr die .gs Dateien ausw%e4hlen
-		2500=Fehler beim Laden oder unkekanntes Attribut
-		2501=Nicht immer zug%e4nglich
-		2502=Immer zug%e4nglich (24/7)
-		2503=Keine Fahrr%e4der
-		2504=Fahrr%e4der erlaubt
-		2505=*boat-no
-		2506=*boat-yes
-		2507=*cactus-no
-		2508=*cactus-yes
-		2509=Keine Lagerfeuer
-		2510=Lagerfeuer erlaubt
-		2511=Kein Camping
-		2512=Camping erlaubt
-		2513=*cliff-no
-		2514=Gefahr durch Steinfall
-		2515=Kein schwieriges Klettern
-		2516=Schwieriges Klettern
-		2517=*compass-no
-		2518=*compass-yes
-		2519=*cow-no
-		2520=Achtung Weidevieh
-		2521=*danger-no
-		2522=Gef%e4hrliches Gebiet
-		2523=Keine Hunde
-		2524=Hunde erlaubt
-		2525=*fee-no
-		2526=Eintritts-/Parkgeb%fchr
-		2527=*hiking-no
-		2528=Anstrengende Wanderung
-		2529=Keine Pferde
-		2530=Pferde erlaubt
-		2531=*hunting-no
-		2532=Jagdgebiet
-		2533=Keine Gel%e4ndefahrzeuge
-		2534=Gel%e4ndefahrzeuge erlaubt
-		2535=Keine Kinder
-		2536=Kinderfreundlich
-		2537=*mine-no
-		2538=*mine-yes
-		2539=Keine Motorr%e4der
-		2540=Motorr%e4der erlaubt
-		2541=Nicht bei Nacht empfohlen
-		2542=Auch bei Nacht m%f6glich
-		2543=Dauert l%e4nger als eine Stunde
-		2544=In weniger als 1 Stunde m%f6glich
-		2545=*parking-no
-		2546=Parkplatz verf%fcgbar
-		2547=*phone-no
-		2548=Telefon verf%fcgbar
-		2549=*picnic-no
-		2550=Picnictische verf%fcgbar
-		2551=*poisonoak-no
-		2552=*poisonoak-yes
-		2553=*public-no
-		2554=%d6ffentliches Verkehrsmittel verf%fcgbar
-		2555=Keine Quadbikes
-		2556=Quadbikes erlaubt
-		2557=*rappelling-no
-		2558=Kletterausr%fcstung notwendig
-		2559=*restrooms-no
-		2560=Toiletten verf%fcgbar
-		2561=*scenic-no
-		2562=Sch%f6ner Ausblick
-		2563=*scuba-no
-		2564=*scuba-yes
-		2565=*snakes-no
-		2566=*snakes-yes
-		2567=Keine Snowmobile
-		2568=*snowmobiles-yes
-		2569=Kein heimliches Agieren notwendig
-		2570=Heimliches Agieren notwendig
-		2571=F%fcr Kinderwagen nicht geeignet
-		2572=F%fcr Kinderwagen geeignet
-		2573=*swimming-no
-		2574=*swimming-yes
-		2575=*thorn-no
-		2576=Dornen!
-		2577=*ticks-no
-		2578=Zecken!
-		2579=*wading-no
-		2580=Waten m%f6glich
-		2581=*water-no
-		2582=Trinkwasser verf%fcgbar
-		2583=F%fcr Rollst%fchle nicht geeignet
-		2584=Geeignet f%fc Rollst%fchle
-		2585=Im Winter nicht verf%fcgbar
-		2586=Auch im Winter verf%fcgbar
-		2587=Keine Cachewartung notwendig
-		2588=Cache-wartung notwendig
 		3000=Schlie%dfen
 		4000=Geladene Caches:
 		4100=Verzeichnis w%e4hlen:
@@ -538,7 +396,6 @@
 		4105=Laden
 		4106=Karte kalibrieren:
 		4107=Fertig!
-		4108=Koordinaten:
 		4109=Lade Karten...
 		4110=Lade
 		4111=Koordinaten m%fcssen in dem Format N XX XX,XXX E XXX XX,XXX eingegeben werden
@@ -559,6 +416,7 @@
 		4206=Entf:+
 		4207=Fehler
 		4208=Programmfehler: %0a nichterlaubter mapChangeModus:+
+		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
 		4210=Die mitwandernde Karte kann nicht ohne Karte gestartet werden. %0a Bitte w%e4hlen Sie eine %0a (evtl. eine leere)
 		4211=Keine+
 		4212=%fcbersichtlichere
@@ -573,9 +431,7 @@
 		4221=Nicht gen%fcgend Ressourcen verf%fcgbar:+
 		4222=Fehler: (RAM) Speicher voll
 		4230=Setze Ziel hier$z
-		4231=Setze Ziel hier
 		4232=Hier neuen Wegpunkt erzeugen$n
-		4233=Hier neuen Wegpunkt erzeugen
 		4234=Karte manuell ausw%e4hlen$s
 		4235=Karte manuell ausw%e4hlen
 		4236=Kartenverzeichnis wechseln$c
@@ -616,11 +472,11 @@
 		4278=Kann folgende .wfl-Datei nicht laden:+%0a
 		4300=Leer 1 Punkt =+
 		4301=+meter
-		4302=Breite/L%e4nge au%dferhalb des zul%e4ssigen Bereiches beim Lesen von+
 		4303=Zu wenig Zeilen in Datei+
 		4304=Zu wenig Punkte, um die Karte zu kalibrieren
 		4305=Ung%fcltige Transformationsparameter%0a (Matrix kann nicht invertiert werden)%0a in der Datei %0a
 		4306=Karte ist nicht georeferenziert
+		4307=meters
 		4400=Warnung
 		4401=Ignoriere Fehler: Konnte Daten nicht an Host weiterleiten:%0a
 		4402=F%fcr einen neuen Versuch, stoppe und starte GPS neu
@@ -681,7 +537,6 @@
 		4924=ToWgs84: EPSG code+
 		5000=Lade Cacheliste
 		5497=Fehler: Ein Tag in spider.def fehlt
-		5498=Login nicht m%f6glich. Fehler beim Laden der Seite nach Login.
 		5499=Fehler beim Laden der Login Seite
 		5500=Fehler
 		5501=Login nicht m%f6glich. Falscher Name oder Passwort?
@@ -698,6 +553,7 @@
 		5512=+Caches
 		5513=Laden von:+
 		5514=%0aTravelbug:+ 
+		5515=Login failed. Error loading page after login.
 		6000=Guid
 		6001=Name
 		6002=Track#
@@ -707,7 +563,7 @@
 		6006=Von Datum
 		6007=Von Log
 		6008=Nach Prof
-	  6009=Nach Wegpt
+		6009=Nach Wegpt
 		6010=Nach Datum
 		6011=Nach Log
 		6015=*** ANDERER ***
@@ -752,14 +608,6 @@
 		6124=Kassiopeia Gamma
 		6125=Deneb im Schwan
 		6126=Mimosa im Kreuz des S%fcdens
-		7000=Freigegeben
-		7001=Kandidat f%fcr Freigabe
-		7002=In Entwicklung, stabil
-		7003=In Entwicklung, neuste
-		7010=bereits aktuell(er)
-		7011=Update verf%fcgbar
-		7012=nicht verf%fcgbar
-		7013=Fehler
 		7020=Empfohlener Versionstyp
 		7021=Dieser Versiontyp
 		7022=Versionstyp

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-16 20:54:59 UTC (rev 1256)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-16 21:02:02 UTC (rev 1257)
@@ -10,7 +10,6 @@
 		106=naar MS AutoRoute CSV
 		107=Exporteren
 		108=Voorkeuren
-		109=Caches laden
 		110=Opslaan & Exit
 		111=Exit
 		112=Zoeken
@@ -27,7 +26,6 @@
 		123=Naar CacheMate
 		124=Naar OZI
 		125=Naar Google Earth
-		126=Naar TomTom OV2
 		127=Opslaan
 		128=Via sjabloon
 		129=Importeren GPX
@@ -47,14 +45,12 @@
 		149=Kaarten
 		150=Importeren
 		151=Kalibreren
-		152=Kaart importeren
-		153=Kaart importeren gelukt.
-		154=Fout bij importeren kaart.
 		155=Verklaring
 		156=Te weinig geheugen, kaart is te groot!
 		157=Systeem
 		158=Versie controle
 		159=Filter
+		160=Filter selected
 		161=Toon Blacklist
 		162=Gekalibreerde kaarten downloaden.
 		170=Selecteer basis map voor cache data.
@@ -63,10 +59,7 @@
 		173=GPSBabel:
 		174=Verkorte namen
 		175=Importeren
-		176=Nieuwe versie
-		177=Nieuwe versie%0abeschikbaar.
 		178=Versie controle
-		179=Je hebt de%0anieuwste versie.
 		180=Verplaats caches
 		181=Hier
 		182=Nieuwe lijst
@@ -74,7 +67,6 @@
 		184=Opslaan als
 		185=Opslaan (zonder bevestiging).
 		186=Additionele Waypoints mee verplaatsen.
-		187=Toon alleen deze Waypoints.
 		188=CACHE TOUR: NIEUW
 		189=Lijst toepassen
 		190=Toon alleen deze Waypoints.
@@ -86,13 +78,12 @@
 		197=Toon/verberg cache tour.
 		198=Cache tour
 		199=Aan cache tour toevoegen.
-		200=Details
-		201=Beschrijving
-		202=Afbeeldingen
-		203=Hints & logs
-		204=Oplosser
-		205=Radar
-		206=Lijst
+		208=Rebuild Index
+		209=Rebuilding Index
+		210=Caches not in index.xml: 
+		211=%0aAdded these: 
+		212=Delete all .xml files not in index.xml and associated pictures
+		213=Deleting orphans
 		300=Type:
 		301=Grote:
 		302=Waypoint:
@@ -135,8 +126,6 @@
 		349=Status Blacklist omkeren.
 		350=Tijdmarkering toevoegen aan notities.
 		351=Toevoegen/wijzigingen notities.
-		400=Decoderen
-		500=Omdraaien
 		591=Laat leeg voor standaard taal of%0avoeg 2 karakters toe voor taal, bv. DE,EN,NL
 		592=Taal(herstart noodzakelijk)
 		593=Password is optioneel.%0aAlleen gebruiken als je het wil opslaan in pref.xml.
@@ -148,10 +137,8 @@
 		599=Checkbox
 		600=Voorkeuren
 		601=Jouw Nickname
-		602=Thuis co?rdinaten
 		603=Profiel map
 		604=Zoeken
-		605=Tabel kolommen
 		606=Moeilijkheidsgraad
 		607=Terrein
 		608=Co?rdinaten
@@ -166,7 +153,6 @@
 		617=Plakken
 		618=Kopieer
 		619=Bloktekst
-		620=Opslaan
 		621=Algemeen
 		622=Scherm
 		623=Afbeeldingen:
@@ -181,20 +167,20 @@
 		632=Meer
 		633=Maximale logs naar werkgeheugen
 		634=use Proxy
+		635=Size
+		636=OC Recommends
+		637=OC Index
+		638=Show pictures in description
 		700=Selecteer filter
 		701=Afstand
 		702=Moeilijkheidsgraad
 		703=Gevonden
-		704=Niet gevonden
-		705=In laatste
-		706=Gevonden
 		707=Eigenaar
 		708=Afbreken
 		709=Toepassen
 		710=Gearchiveerd
 		711=Niet beschikbaar
 		712=Selecteer route file.
-		713=Sla filter op.
 		714=Richting & afstand
 		715=Toon alle caches met status:
 		716=Deselecteer alles
@@ -217,21 +203,13 @@
 		733=Additionele Waypoint
 		734=Geen hoofd Waypoint gevonden voor
 		735=Additionele Waypoints moeten het formaat hebben xxYYYY, waarbij xx 2 karakters zijn en YYYY de karakters achter GC van het hoofd Waypoint zijn.
-		800=Maak lijst
-		801=Zoeken.....
-		802=Caches gevonden. Zoeken......
-		803=Klaar!
-		804=Verzamelen van de cache gegevens.
-		805=Verzamel gegevens voor:
-		900=Lijst
-		901=Loc
-		902=Dichtstbijzijnde
-		903=Annuleer
-		904=Multi
-		905=Laad caches
-		906=Lijst van caches:
-		907=Maximale afstand:
-		908=Selecteer Waypoint file:
+		736=Too many logs
+		737=Attributes
+		738=Attributes
+		739=Filter on
+		740=all
+		741=one
+		742=none
 		909=Selecteer file(s)
 		910=Selecteer sjabloon file
 		950=Verplaats
@@ -241,7 +219,6 @@
 		1000=D
 		1001=T
 		1002=Waypoint
-		1003=Naam
 		1004=Co?rdinaat
 		1005=Eigenaar
 		1006=Verborgen op
@@ -255,16 +232,15 @@
 		1014=Update cache data
 		1015=Selecteer alles
 		1016=Deselecteer alles
+		1017=S
 		1018=Toon offline in Browser.
 		1019=Zet deze als middelpunt.
 		1020=Toon online in Browser.
 		1021=Toon cachebeschrijving
 		1022=Verwijder alle caches die zijn aangevinkt.
-		1023=Deze functie is momenteel alleen beschikbaar voor geocaching.com.
 		1024=Afstand in lijst is~ten opzichte van de huidige positie~herberekend.
-		1025=Kan middelpunt niet toepassen (verkeerde GPS co?rdinaten).
-		1100=Profielen
-		1105=Bladeren
+		1026=#Rec
+		1027=OC-IDX
 		1106=Kies profiel of nieuw.
 		1107=Nieuw profiel
 		1108=Kies profiel
@@ -278,7 +254,6 @@
 		1116=Huidig
 		1117=Kopie
 		1118=Profiel
-		1119=Oude profielen
 		1120=Moeilijkheidsgraad
 		1121=Terrein
 		1200=Lijst
@@ -289,7 +264,6 @@
 		1205=Oplosser
 		1206=Calculator
 		1207=Jouw profiel is veranderd, wil je het profiel opslaan?
-		1300=Laatste instellingen
 		1301=Selecteer profiel
 		1400=Zone
 		1401=Northing	
@@ -298,21 +272,33 @@
 		1404=Afstand
 		1405=Om co?rdinaten te laden van GC, geef onder in GCxxxx.
 		1406=Geef co?rdinaten in (alle formaten mogelijk) of GCxxxx.
+		1407=steps
+		1408=feet
+		1409=yards
+		1410=miles
 		1500=Doel:
 		1501=Huidig
 		1502=Graden
 		1503=Noord voor
+		1504=Start
+		1505=Stop
+		1506=Map
+		1507=Coordinates are out of range:
+		1508=latitude
+		1509=longditue
+		1510=No data from GPS%0aConnection to serial port closed
+		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong port,%0a wrong baudrate,%0a not NMEA 0183 protocol%0aConnection to serial port closed%0aLast string tried to parse:%0a
+		1512=Waypoint
+		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination, as center, in selected cache or start GPS
 		1600=Download van Opencaching.de 
 		1601=Afstand:
 		1602=Download afbeeldingen
-		1603=Download kaarten
 		1604=Annuleren
 		1605=OK
 		1606=Redownload alles
 		1607=Update van Opencaching.de is gelukt.
 		1608=Download data van Opencaching.de.
 		1609=Importeren cache
-		1610=Download missende kaart.
 		1611=Import cache beschrijving.
 		1612=Import log
 		1613=Import afbeelding
@@ -324,6 +310,7 @@
 		1619=: kon de afbeelding van URL niet downloaden:+	
 		1620=download bijgesloten afbeeldingen:+
 		1621=Fout tijdens interpreteren data%0a van Opencaching.de,%0aDit is vermoedelijk een fout bij Opencaching.de%0aprobeer later nogmaals%0aStatus:
+		1622=Exclude found caches
 		1700=Fout in lijn:
 		1701=Positie:
 		1702=Variabele niet gedefinieerd.
@@ -361,101 +348,47 @@
 		1736=Laden
 		1737=Opslaan
 		1738=Opslaan als
+		1739=Projection degrees must be in interval [0;2*PI]
 		1800=Downloaden GEO gerelateerde kaarten.
-		1801=Downloaden tegels
-		2000=Exporten GPX
-		2001=Van
-		2500=Fout bij laden of onbekende pictogrammen.
-		2501=Geen 24/7 cache
-		2502=Beschikbaar 24/7
-		2503=Geen fietsen
-		2504=Fietsen toegestaan
-		2505=*geen boten
-		2506=*boten toegestaan
-		2507=*geen cactus
-		2508=*cactus aanwezig
-		2509=Geen kampvuur
-		2510=Kampvuur toegestaan
-		2511=Niet kamperen
-		2512=Kamperen toegestaan
-		2513=*geen kliffen
-		2514=Vallende rotsen nabij.
-		2515=Geen moeilijke klimpartijen.
-		2516=Moeilijke klimpartijen
-		2517=*geen kompas
-		2518=*kompas toegestaan
-		2519=*geen koeien
-		2520=Let op ongedierte
-		2521=*geen gevaar
-		2522=Gevaarlijk gebied
-		2523=Geen honden
-		2524=Honden toegestaan
-		2525=*geen kosten
-		2526=Toegaan/parkeer kosten
-		2527=*geen wandeling
-		2528=Aanmerkelijke wandeling
-		2529=Geen paarden
-		2530=Paarden toegestaan
-		2531=*geen jagen
-		2532=Jachtgebied.
-		2533=Geen terreinwagens
-		2534=Terreinwagens toegestaan
-		2535=Kind onvriendelijk
-		2536=Kind vriendelijk
-		2537=*mijnen 
-		2538=*geen mijnen
-		2539=Geen motorfietsen
-		2540=Motorfietsen toegestaan
-		2541=Niet aanbevolen tijdens donker
-		2542=Nacht cache
-		2543=Duurt langer dan 1 uur
-		2544=Duurt korter dan 1 uur
-		2545=*geen parkeerplaats
-		2546=Parkeerplaats aanwezig
-		2547=*geen telefoon
-		2548=Telefoon dichtbij
-		2549=*picknicken verboden
-		2550=Picknicken toegestaan
-		2551=*geen gifeik
-		2552=*wel gifeik
-		2553=*geen openbaarvervoer
-		2554=Openbaarvervoer aanwezig
-		2555=Geen quads
-		2556=Quads toegestaan
-		2557=*geen abseilen
-		2558=Klimmiddelen nodig
-		2559=*geen overnachting
-		2560=Overnachting aanwezig
-		2561=*geen pittoresk uitzicht
-		2562=Pittoresk uitzicht
-		2563=*geen duikuitrusting
-		2564=Duikuitrusting nodig
-		2565=*geen haaien
-		2566=*haaien aanwezig
-		2567=*geen sneeuwvoertuigen
-		2568=*sneeuwvoertuigen toegestaan
-		2569=Stiekemheid niet nodig
-		2570=Stiekemheid geboden 
-		2571=Kinderwagen onvriendelijk
-		2572=Kinderwagen vriendelijk
-		2573=*geen zwemmen
-		2574=*zwemmen noodzakelijk
-		2575=*geen doorns
-		2576=Doorns
-		2577=*geen teken
-		2578=Teken
-		2579=*geen waden
-		2580=Waden is mogelijk
-		2581=*geen water
-		2582=Drinkbaar water in de buurt
-		2583=Rolstoel onvriendelijk
-		2584=Rolstoel vriendelijk
-		2585=Niet beschikbaar in de winter
-		2586=In de winter beschikbaar
-		2587=Geen onderhoud nodig
-		2588=Onderhoud noodzakelijk
+		1802=Download georeferenced maps%0a Select online service:
+		1803=for
+		1804=all
+		1805=selected
+		1806=caches
+		1807=Approx. m per pixel
+		1808=overlapping in pixel:
+		1809=download an overview map
+		1810=Within a rectangle of:
+		1811=around the centre:
+		1812=Tiles
+		1813=Download one map for
+		1814=per cache
+		1815=Downloading georeferenced maps
+		1816=Downloading georeferenced maps%0a %0a %0a %0a %0a
+		1817=No Caches are seleted
+		1818=getSortedMapServiceIndex: index
+		1819=not found
+		1820=Downloading map '
+		1821=%0a for cache:%0a
+		1822=Cache:
+		1823=Ignoring error:
+		1824=downloading overview map
+		1825=Overview map: Ignoring error:
+		1826=Finished downloading and calibration of maps
+		1827='radius' must be graeter than 0
+		1828='overlapping' must be greater or equal 0
+		1829=Please enter the 'centre' around which the maps shall be downloaded
+		1830=The selected online map service provides map in the scale from
+		1831= to
+		1832=%0a please adjust 'Approx. meter pro pixel' accordingly
+		2100=Magellan Exporter
+		2101=Failure at loading magellan.cfg%0a
+		2102=Select target file:
+		2103=Failure at reading magellan.cfg%0a
+		2104=Choose directory for exporting .gs files
 		3000=Sluiten
 		4000=Geladen caches
+		4100=Select Directory:
 		4101=Kaarten
 		4102=Gekalibreerde kaarten
 		4103=Niet gekalibreerde kaarten
@@ -463,18 +396,146 @@
 		4105=Laden
 		4106=Kalibreert kaart
 		4107=Gebeurt!
-		4108=Co?rdinaten:
 		4109=bezig kaarten te laden..
 		4110=Bezig met laden
 		4111=Co?rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
+		4112=IO-Error while copying image from: 
+		4113= to: 
+		4114= error: 
+		4115=Error: could not decode image: 
+		4116= - image not copied
+		4117=Error while importing .map-file: 
+		4118=IO-Error while reading or writing calibration file
+		4119=No calibration file found for: 
+		4120=done.
 		4200=Kies kaarten map
+		4201=Information
+		4203=Loading list of maps...
+		4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches
+		4205=No georeferenced map available  %0a you can get one by the menu: Application/Maps/download calibrated
+		4206=Dist: 
+		4207=Error
+		4208=Bug: %0aillegal mapChangeModus: 
+		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
+		4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
+		4211=No 
+		4212=less
+		4213=more
+		4214= detailed map available
+		4215=Did not select any caches
+		4216=Loading map...
+		4217=Could not find image associated with: %0a
+		4218=Could not load map: %0a
+		4219=Not enough memory to load map: %0a
+		4220=%0aYou can try to close%0a all prgrams and %0arestart CacheWolf
+		4221=Not enough ressources to load map: 
+		4222=Out of memory error
+		4230=Goto here$g
+		4232=Create new Waypoint here$n
+		4234=Select a map manually$s
+		4235=Select a map manually
+		4236=Change map directory$c
+		4237=Change map directory
+		4238=Show map
+		4239=Show map
+		4240=Hide map
+		4241=Hide map
+		4242=Mode for automatic map change
+		4244=Highest res. containing dest. & cur. position
+		4245=Highest res. containing dest. & cur. position
+		4246=Highest resolution
+		4247=Highest resolution
+		4248=Keep manual resolution
+		4249=Keep manual resolution
+		4250=Change resolution manually
+		4252=Load a map containing all marked caches
+		4253=Load a map containing all marked caches
+		4254=Load a map with more details
+		4255=Load a map with more details
+		4256=Load a map for a better overview
+		4257=Load a map for a better overview
+		4258=Move map to and load map
+		4260=Move to goto point
+		4261=Move to goto point
+		4262=Move to GPS position
+		4263=Move to GPS position
+		4264=Move to centre
+		4265=Move to centre
+		4270=Open
+		4271=Maps
+		4272=--- Maps containing GPS and goto pos. ---
+		4273=--- Maps containing curr. position ---
+		4274=--- maps of target area ---
+		4275=--- other maps ---
+		4276=Cancel
+		4277=Select
+		4278=Cannot load wfl-file: %0a
+		4300=empty 1 Pixel = 
+		4301=Lat/Lon out of range while reading 
+		4303=not enough lines in file 
+		4304=not enough points to calibrate the map
+		4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file %0a
+		4306=map not calibrated
+		4307=meters
+		4400=Warning
+		4401=Ignoring error:%0a could not forward GPS data to host:%0a
+		4402=%0astop and start GPS to retry
+		4403=Error
+		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port 
+		4405=%0apossible reasons:%0a Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS
+		4406=Please copy jave_ewe.dll into the directory of the cachewolf program
 		4500=Tot:
 		4501=Vis:
 		4502=Fnd:
 		4600=Sommige caches kunnen niet worden getoond door verkeerde blacklist status.
+		4700=Ignoring error while %0a reading calibration file %0a
+		4701=Searching for best map
+		4702=Optimisation
+		4703=Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?%0a It can take several minutes
+		4704=%0aRenaming file:
+		4705=Failed to rename:%0a
+		4706=%0ato:%0a
+		4707=Error while reading:
+		4800=Loading online map services
+		4801=Ignoring error while %0a reading web map service definition file %0a
+		4802=Downloading calibrated (georeferenced) %0a map image %0a '
+		4803=' %0a Downloading tile %0a row
+		4804= column
+		4805=Tile
+		4806=: Ignoring error:
+		4807=loadTo: failed to download map: didn't get http-redirect
+		4808=downloadImage: content-type:
+		4809= is not an image, begin of content:
+		4810=Error while downloading or saving map:%0a
+		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
+		4812=WebMapService: property >Name:< missing in file:%0a
+		4813=WebMapService: property >MainUrl:< missing in file:%0a
+		4814=WebMapService: no CoordinateReferenceSystemCacheWolf given
+		4815=Coordinate reference system not supported by CacheWolf:%0a
+		4816=WebMapService: property >CoordinateReferenceSystemUrlPart:< missing in file:%0a
+		4817=number of strings in CoordinateReferenceSystemUrlPart (
+		4818=) must match the number of codes in CoordinateReferenceSystemCacheWolf (
+		4819=) use normal space as separator
+		4820=WebMapService: property >CoordinateReferenceSystemUrlPart:< incorrect in file:%0a
+		4821=WebMapService: property >ImageFileExtension:< missing in file:%0a
+		4822=area:
+		4823= not covered by service:
+		4824=, service area:
+		4825=scale
+		4826= not supported by online map service, supported scale range:
+		4827= (measured in meters per pixel vertically)
+		4828=Coordinate system not supported by cachewolf:
+		4829=getUrlForBoundingBox: Point:
+		4830=no matching Gauss-Krueger-Stripe in the EPSG-code list in the .wms
+		4831=getMapInfoObject: Coordinate system not supported by cachewolf:
+		4900= is not a german Gauss-Krueger coordinate
+		4920=EPSG code 
+		4921= not supported
+		4922=EPSG code missing in: 
+		4923=fromWgs84: EPSG code 
+		4924=ToWgs84: EPSG code 
 		5000=Laad cache lijst
 		5497=Fout, verdwenen tag in spider.def.
-		5498=Login fout. Fout bij het laden van de pagina na login.
 		5499=Fout bij het laden van de login pagina.
 		5500=Fout
 		5501=Login mislukt! Verkeerde accountnaam of password
@@ -491,6 +552,7 @@
 		5512=+caches
 		5513=Bezig met laden:+
 		5514=%0aTravelbug
+		5515=Login failed. Error loading page after login.
 		6000=Guid
 		6001=Naam
 		6002=Track#
@@ -540,6 +602,15 @@
 		6104=Cassiopeia
 		6105=Zwaan
 		6106=Zuiderkruis
+		6122=Alioth in Greater Bear
+		6123=Alnilam in Orion
+		6124=Cassiopeia Gamma
+		6125=Deneb in Cygnus
+		6126=Becrux in Southern Cross
+		7020=Recommended version type
+		7021=This version type
+		7022=Version type
+		7023=Error getting current version information
 		{..}
 	{..}
 {..}



From mirabilos at mail.berlios.de  Sun Mar 16 22:04:18 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 16 Mar 2008 22:04:18 +0100
Subject: [Cachewolf-svn] r1258 - trunk/res_noewe/languages
Message-ID: <200803162104.m2GL4Id9028432@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-16 22:04:18 +0100 (Sun, 16 Mar 2008)
New Revision: 1258

Modified:
   trunk/res_noewe/languages/NL.cfg
Log:
???????? ??? entities (%f6 enzo)


Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-16 21:02:02 UTC (rev 1257)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-16 21:04:18 UTC (rev 1258)
@@ -34,7 +34,7 @@
 		132=Naar Magellan
 		139=Beheren Travelbugs
 		140=Organiseren
-		141=Kopi?ren
+		141=Kopi%ebren
 		142=Verplaatsen
 		143=Verwijderen
 		144=Waarschuwing
@@ -88,7 +88,7 @@
 		301=Grote:
 		302=Waypoint:
 		303=Naam:
-		304=Co?rdinaten:
+		304=Co%f6rdinaten:
 		305=Verborgen op:
 		306=Eigenaar:
 		307=Status:
@@ -119,7 +119,7 @@
 		342=Verwijderd
 		343=Niet genoeg geheugen om cache afbeeldingen te laden.
 		344=Verwijder afbeeldingen
-		345=Ga naar deze co?rdinaten.
+		345=Ga naar deze co%f6rdinaten.
 		346=Toon Travelbugs
 		347=Toon kaart
 		348=Eigen afbeeldingen toevoegen.
@@ -141,7 +141,7 @@
 		604=Zoeken
 		606=Moeilijkheidsgraad
 		607=Terrein
-		608=Co?rdinaten
+		608=Co%f6rdinaten
 		609=Eigenaar
 		610=Verborgen op
 		611=Status
@@ -219,7 +219,7 @@
 		1000=D
 		1001=T
 		1002=Waypoint
-		1004=Co?rdinaat
+		1004=Co%f6rdinaat
 		1005=Eigenaar
 		1006=Verborgen op
 		1007=Status
@@ -270,8 +270,8 @@
 		1402=Easting
 		1403=Richting
 		1404=Afstand
-		1405=Om co?rdinaten te laden van GC, geef onder in GCxxxx.
-		1406=Geef co?rdinaten in (alle formaten mogelijk) of GCxxxx.
+		1405=Om co%f6rdinaten te laden van GC, geef onder in GCxxxx.
+		1406=Geef co%f6rdinaten in (alle formaten mogelijk) of GCxxxx.
 		1407=steps
 		1408=feet
 		1409=yards
@@ -323,10 +323,10 @@
 		1709=Onbekende functie:
 		1710=Kan de lege string niet tellen.
 		1711=Gekopieerde karakter strings moeten van dezelfde lengte zijn.
-		1712=Ongeldige co?rdinaten:
-		1713=Ongeldig co?rdinaat formaat. Toegestaan zijn CW/DD/DMM/DMS/UTM
+		1712=Ongeldige co%f6rdinaten:
+		1713=Ongeldig co%f6rdinaat formaat. Toegestaan zijn CW/DD/DMM/DMS/UTM
 		1714=Ga naar: Waypoint bestaat niet:
-		1715=Instr: Start co?rdinaat niet in string.
+		1715=Instr: Start co%f6rdinaat niet in string.
 		1716=Mid: Geheel getal verwacht.
 		1717=Mid: Argument valt buiten de range.
 		1718=Kan geen negatieve afstand projecteren.
@@ -337,7 +337,7 @@
 		1725=Onverwachte karakter(s)
 		1726=Te veel argumenten voor deze functie.
 		1727=Ongeldig aantal argumenten.
-		1728=Functie niet ge?mplementeerd.
+		1728=Functie niet ge%efmplementeerd.
 		1729=Deling door 0.
 		1730=Oneindige string
 		1731=Ongeldig formaat karakters.
@@ -398,7 +398,7 @@
 		4107=Gebeurt!
 		4109=bezig kaarten te laden..
 		4110=Bezig met laden
-		4111=Co?rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
+		4111=Co%f6rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
 		4112=IO-Error while copying image from: 
 		4113= to: 
 		4114= error: 
@@ -546,7 +546,7 @@
 		5506=Password
 		5507=Status
 		5508=Bezig met inloggen...
-		5509=Co?rdinaten voor middelpunt moeten worden ingegeven.
+		5509=Co%f6rdinaten voor middelpunt moeten worden ingegeven.
 		5510=Spider options
 		5511=Gevonden+
 		5512=+caches
@@ -571,7 +571,7 @@
 		6018=Naam Travelbug
 		6019=Tracking nummer
 		6020=Travelbug niet gevonden
-		6021=Meer dan ??n Travelbug gevonden. Specificeer de namen duidelijker.
+		6021=Meer dan %e9%e9n Travelbug gevonden. Specificeer de namen duidelijker.
 		6022=:Huidige cache:+
 		6025=Naam:
 		6026=Tracking #:



From mirabilos at mail.berlios.de  Sun Mar 16 22:07:54 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 16 Mar 2008 22:07:54 +0100
Subject: [Cachewolf-svn] r1259 - trunk/src/CacheWolf
Message-ID: <200803162107.m2GL7su8029557@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-16 22:07:54 +0100 (Sun, 16 Mar 2008)
New Revision: 1259

Modified:
   trunk/src/CacheWolf/myTableControl.java
Log:
fix build, sorry, pasto


Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-16 21:04:18 UTC (rev 1258)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-16 21:07:54 UTC (rev 1259)
@@ -35,7 +35,7 @@
 			MyLocale.getMsg(1019,"Enter"),
 			"-",
 			MyLocale.getMsg(1020,"Open online in browser"),
-			MyLocale.getMsg(1018,"Open offline in browser"),
+			MyLocale.getMsg(1018,"Open offline in browser")},
 			MyLocale.getMsg(1013,"With selection"));
 
 	myTableControl(TablePanel tablePanel) {



From mirabilos at mail.berlios.de  Sun Mar 16 22:09:21 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 16 Mar 2008 22:09:21 +0100
Subject: [Cachewolf-svn] r1260 - trunk/res_noewe/languages
Message-ID: <200803162109.m2GL9LY6030107@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-16 22:09:21 +0100 (Sun, 16 Mar 2008)
New Revision: 1260

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/NL.cfg
Log:
pfeffer says: trailing spaces must be replaced by plus signs,
otherwise they are truncated


Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-16 21:07:54 UTC (rev 1259)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-16 21:09:21 UTC (rev 1260)
@@ -33,15 +33,15 @@
 		131=Spider von geocaching.com
 		132=nach Magellan
 		139=Travelbugs verwalten
-		140=Verwalten 
-		141=Kopieren 
-		142=Verschieben 
+		140=Verwalten+
+		141=Kopieren+
+		142=Verschieben+
 		143=L%f6schen
-		144=Warnung 
-		145=Cachedaten ALLER ANGEZEIGTEN Caches werden gel%f6scht!  Weiter? 
-		146=Cachedaten ALLER ANGEZEIGTEN Caches werden kopiert!  Weiter? 
-		147=Cachedaten ALLER ANGEZEIGTEN Caches werden verschoben!  Weiter? 
-		148=Zielverzeichnis w%e4hlen 
+		144=Warnung+
+		145=Cachedaten ALLER ANGEZEIGTEN Caches werden gel%f6scht!  Weiter?+
+		146=Cachedaten ALLER ANGEZEIGTEN Caches werden kopiert!  Weiter?+
+		147=Cachedaten ALLER ANGEZEIGTEN Caches werden verschoben!  Weiter?+
+		148=Zielverzeichnis w%e4hlen+
 		149=Karten
 		150=Importieren
 		151=Kalibrieren
@@ -81,7 +81,7 @@
 		208=Index neu erstellen
 		209=Wiederaufbau Index
 		210=Caches nicht in index.xml:+
-		211=%0aDavon hinzugef%fcgt:+  
+		211=%0aDavon hinzugef%fcgt:+ +
 		212=Alle .xml Dateien (und Bilder) l%f6schen, die nicht in index.xml sind
 		213=Verwaiste .xml Dateien l%f6schen
 		300=Type:
@@ -163,7 +163,7 @@
 		628=Status
 		629=Profil auto. laden
 		630=Hinweise/Logs:  Logs pro Seite
-		631=PDA hat Schliessen Button 
+		631=PDA hat Schliessen Button+
 		632=Mehr
 		633=Max. logs spidern
 		634=Proxy verwenden
@@ -287,7 +287,7 @@
 		1508=Breite
 		1509=L%e4nge
 		1510=Keine Daten vom GPS%0aVerbindung zum seriellen Port geschlossen
-		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a 
+		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a+
 		1512=Wegpunkt
 		1513=Kann Karte nicht ohne g%fcltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew%e4hlten Cache eingeben oder GPS starten
 		1600=Opencaching.de Download
@@ -298,9 +298,9 @@
 		1606=Alle neu downloaden
 		1607=Update von opencaching erfolgreich
 		1608=Daten von opencaching downloaden...
-		1609=Importiere Cache: 
-		1611=Importiere Cachebeschreibung: 
-		1612=Importiere Log: 
+		1609=Importiere Cache:+
+		1611=Importiere Cachebeschreibung:+
+		1612=Importiere Log:+
 		1613=Importiere Bild:
 		1614=Fehler beim Entpacken der Update-Datei
 		1615=Fehler beim Interpretieren der Update-Datei, Status:
@@ -311,21 +311,21 @@
 		1620=download eingebundener Bilder:+
 		1621=Fehler beim Interpretieren%0a der Update-Datei,%0aDies ist vermutlich ein Fehler bei Opencaching.de%0aSp%e4ter erneut versuchen%0a Status:
 		1622=Gefundene Caches nicht laden
-		1700=Fehler in Zeile: 
-		1701=Spalte: 
-		1702=Variable nicht definiert: 
-		1703=Keine erlaubte Zahl: 
+		1700=Fehler in Zeile:+
+		1701=Spalte:+
+		1702=Variable nicht definiert:+
+		1703=Keine erlaubte Zahl:+
 		1704=Unerwartetes Ende des Pogrammes
 		1705=Fehlendes ENDIF
-		1706=Erwartet: 
-		1707=Gefunden: 
-		1708=Funktionsname nicht eindeutig: 
-		1709=Unbekannte Funktion: 
+		1706=Erwartet:+
+		1707=Gefunden:+
+		1708=Funktionsname nicht eindeutig:+
+		1709=Unbekannte Funktion:+
 		1710=Kann leere Zeichenkette nicht z%e4hlen
 		1711=Ersatzzeichenketten m%fcssen gleiche L%e4nge haben
-		1712=Unzul%e4ssige Koordinate: 
+		1712=Unzul%e4ssige Koordinate:+
 		1713=Falsches Koordinatenformat. Erlaubt sind CW/DD/DMM/DMS/UTM
-		1714=Goto: Wegpunkt existiert nicht: 
+		1714=Goto: Wegpunkt existiert nicht:+
 		1715=instr: Startposition nicht in Zeichenkette
 		1716=mid: Ganzzahliger Parameter erwartet
 		1717=mid: Parameter ausserhalb des erlaubten Bereichs
@@ -333,11 +333,11 @@
 		1719=Winkel muss im Bereich [0;360] sein
 		1720=Kann die Wurzel einer negativen Zahl nicht berechnen
 		1723=Vergleichsoperator erwartet
-		1724=Variable hat keinen Wert: 
-		1725=Unerwartete(s) Zeichen: 
-		1726=Funktion hat zu viele Argumente 
+		1724=Variable hat keinen Wert:+
+		1725=Unerwartete(s) Zeichen:+
+		1726=Funktion hat zu viele Argumente+
 		1727=Funktion hat falsche Anzahl von Argumenten
-		1728=Funktion noch nicht implementiert: 
+		1728=Funktion noch nicht implementiert:+
 		1729=Division durch 0
 		1730=Fehlendes " am Ende der Zeichenkette
 		1731=Nicht erlaubtes Formatierungzeichen
@@ -359,27 +359,27 @@
 		1808=%dcberlappung in Pixel:
 		1809=Lade %dcbersichtskarte
 		1810=In einem Rechteck von:
-		1811=um das Zentrum: 
+		1811=um das Zentrum:+
 		1812=Kacheln
 		1813=Lade Karte f%fcr
 		1814=Pro Cache		
 		1815=Lade georeferenzierte Karten
 		1816=Lade georeferenzierte Karten%0a %0a %0a %0a %0a
 		1817=Keine Caches selektiert
-		1818=getSortedMapServiceIndex: Index 
+		1818=getSortedMapServiceIndex: Index+
 		1819=nicht gefunden
 		1820=Lade Karte '
 		1821=%0a f%fcr Cache:%0a
-		1822=Cache: 
-		1823=Ignoriere Fehler: 
+		1822=Cache:+
+		1823=Ignoriere Fehler:+
 		1824=Lade %dcberblickskarte
-		1825=%dcberblickskarte: Ignoriere Fehler: 
+		1825=%dcberblickskarte: Ignoriere Fehler:+
 		1826=Laden und Kalibrieren der Karten beendet
 		1827='Radius' muss gr%f6%dfer als 0 sein
 		1828='%dcberlappung' muss gr%f6%dfer oder gleich 0 sein
 		1829=Bitte 'Zentrum' eingeben, um das die Karten geladen werden sollen
-		1830=Der gew%e4hlte Kartendienst bietet Karten in einem Ma%dfstab von 
-		1831= bis 
+		1830=Der gew%e4hlte Kartendienst bietet Karten in einem Ma%dfstab von+
+		1831= bis+
 		1832=%0a Bitte 'Ca. m pro Pixel' entsprechend anpassen
 		2100=Magellan Exporter
 		2101=Fehler beim laden der Datei magellan.cfg
@@ -496,17 +496,17 @@
 		4704=%0aUmbenennen der Datei:
 		4705=Fehler beim Umbenennen:%0a
 		4706=%0anach:%0an
-		4707=Fehler beim Lesen von: 
+		4707=Fehler beim Lesen von:+
 		4800=Lade Onlinekartendienste
 		4801=Ignoriere Fehler beim %0a Lesen der Web Map Service Definitionsdatei %0a
 		4802=Lade kalibriertes (georeferenziertes) %0a Kartenbild %0a '
-		4803=' %0a Lade Kachel %0a Reihe 
-		4804= Spalte 
-		4805=Kachel 
-		4806=: Ignoriere Fehler: 
+		4803=' %0a Lade Kachel %0a Reihe+
+		4804= Spalte+
+		4805=Kachel+
+		4806=: Ignoriere Fehler:+
 		4807=loadTo: Karte laden fehlgeschlagen: Kein http-redirect erhalten
-		4808=downloadImage: content-type: 
-		4809= ist kein Bild, Anfang des Inhalts: 
+		4808=downloadImage: content-type:+
+		4809= ist kein Bild, Anfang des Inhalts:+
 		4810=Fehler beim Laden oder Speichern der Karte:%0a
 		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a Diese Methode muss %fcberladen werden um sie zu nutzen
 		4812=WebMapService: Eigenschaft >Name:< fehlt in Datei:%0a
@@ -519,16 +519,16 @@
 		4819=)%fcbereinstimmen. Benutzte normale Leerschritte als Trenner
 		4820=WebMapService: Eigenschaft >CoordinateReferenceSystemUrlPart:< fehlerhaft in Datei:%0a
 		4821=WebMapService: Eigenschaft >ImageFileExtension:< fehlt in Datei:%0a
-		4822=Bereich: 
-		4823= wird vom Dienst: 
-		4824=nicht abgedeckt, Dienstbereich: 
-		4825=Ma%dfstab 
-		4826= wird von diesem Kartendienst nicht unterst%fctzt, unterst%fctzter Ma%dfstabsbereich: 
+		4822=Bereich:+
+		4823= wird vom Dienst:+
+		4824=nicht abgedeckt, Dienstbereich:+
+		4825=Ma%dfstab+
+		4826= wird von diesem Kartendienst nicht unterst%fctzt, unterst%fctzter Ma%dfstabsbereich:+
 		4827= (gemessen vertikal in Metern pro Pixel)
-		4828=Koordinatensystem wird von Cachewolf nicht unterst%fctzt: 
-		4829=getUrlForBoundingBox: Punkt: 
+		4828=Koordinatensystem wird von Cachewolf nicht unterst%fctzt:+
+		4829=getUrlForBoundingBox: Punkt:+
 		4830=Kein passender Gau%df-Kr%fcger-Streifen in der EPSG-Codeliste in der .wms-Datei
-		4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst%fctzt: 
+		4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst%fctzt:+
 		4900=+ist keine deutsche Gau%df-Kr%fcger-Koordinate
 		4920=EPSG-Code+
 		4921=+nicht unterst%fctzt
@@ -552,7 +552,7 @@
 		5511=Gefunden+
 		5512=+Caches
 		5513=Laden von:+
-		5514=%0aTravelbug:+ 
+		5514=%0aTravelbug:++
 		5515=Login failed. Error loading page after login.
 		6000=Guid
 		6001=Name

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-16 21:07:54 UTC (rev 1259)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-16 21:09:21 UTC (rev 1260)
@@ -54,7 +54,7 @@
 		161=Show Blacklist
 		162=Download calibrated
 		170=Select base directory for cache data
-		171=Profile does not exist: 
+		171=Profile does not exist:+
 		172=Error: cannot create maps directory: %0a
 		173=Garmin:  PC Port:
 		174=Short Names
@@ -80,8 +80,8 @@
 		199=Add to cachetour
 		208=Rebuild Index
 		209=Rebuilding Index
-		210=Caches not in index.xml: 
-		211=%0aAdded these: 
+		210=Caches not in index.xml:+
+		211=%0aAdded these:+
 		212=Delete all .xml files not in index.xml and associated pictures
 		213=Deleting orphans
 		300=Type:
@@ -107,7 +107,7 @@
 		320=Owner
 		321=Error
 		322=Cannot find image/map
-		323=Error writing file 
+		323=Error writing file+
 		324= - retry?
 		325=Map not calibrated
 		326=Cannot load image/map
@@ -162,7 +162,7 @@
 		627=Tabs top
 		628=Status
 		629=Autoload last profile
-		630=HintLogPanel:  Logs per page 
+		630=HintLogPanel:  Logs per page+
 		631=PDA has close Button
 		632=More
 		633=Max. logs to spider
@@ -172,8 +172,8 @@
 		637=OC Index
 		638=Show pictures in description
 		700=Set Filter
-		701=Distance: 
-		702=Difficulty: 
+		701=Distance:+
+		702=Difficulty:+
 		703=Found
 		707=Owned
 		708=Cancel
@@ -201,7 +201,7 @@
 		731=Not yet found
 		732=Other owner
 		733=Add. Wpt
-		734=No main cache found for addi waypoint 
+		734=No main cache found for addi waypoint+
 		735=Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC
 		736=Too many logs
 		737=Attributes
@@ -305,27 +305,27 @@
 		1614=Error while unzipping udpate file
 		1615=Error parsing update file, state:
 		1616=Error: could not download udpate file from opencaching.de
-		1617=Ignoring error in HTML cache description: "<img" without "src=" in cache 
-		1618=Ignoring error in cache: 
-		1619=: could not download image from URL: 
-		1620=downloading embedded images: 
+		1617=Ignoring error in HTML cache description: "<img" without "src=" in cache+
+		1618=Ignoring error in cache:+
+		1619=: could not download image from URL:+
+		1620=downloading embedded images:+
 		1621=Error parsing update file%0a this is likely a bug in opencaching.de%0aplease try again later%0a, state:
 		1622=Exclude found caches
-		1700=Error on line: 
-		1701= position: 
-		1702=Variable not defined: 
-		1703=Not a valid number: 
+		1700=Error on line:+
+		1701= position:+
+		1702=Variable not defined:+
+		1703=Not a valid number:+
 		1704=Unexpected end of source
 		1705=Missing ENDIF
-		1706=Expected 
-		1707=Found: 
-		1708=Ambiguous function name: 
-		1709=Unknown function: 
+		1706=Expected+
+		1707=Found:+
+		1708=Ambiguous function name:+
+		1709=Unknown function:+
 		1710=Cannot count empty string
 		1711=Replacement characters strings must be of equal length
-		1712=Invalid coordinate: 
+		1712=Invalid coordinate:+
 		1713=Invalid coordinate format. Allowed are CW/DD/DMM/DMS/UTM
-		1714=Goto: Waypoint does not exist: 
+		1714=Goto: Waypoint does not exist:+
 		1715=instr: Start position not in string
 		1716=mid: Integer argument expected
 		1717=mid: Argument out of range
@@ -333,11 +333,11 @@
 		1719=Projection degrees must be in interval [0;360]
 		1720=Cannot calculate square root of a negative number
 		1723=Comparison operator expected
-		1724=Variable not set: 
-		1725=Unexpected character(s): 
-		1726=Too many arguments for function 
+		1724=Variable not set:+
+		1725=Unexpected character(s):+
+		1726=Too many arguments for function+
 		1727=Invalid number of arguments
-		1728=Function not yet implemented: 
+		1728=Function not yet implemented:+
 		1729=Division by 0
 		1730=Unterminated string
 		1731=Invalid format character
@@ -397,28 +397,28 @@
 		4106=Calibrate map:
 		4107=Done!
 		4109=Loading maps...
-		4110=Loading: 
+		4110=Loading:+
 		4111=Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM
-		4112=IO-Error while copying image from: 
-		4113= to: 
-		4114= error: 
-		4115=Error: could not decode image: 
+		4112=IO-Error while copying image from:+
+		4113= to:+
+		4114= error:+
+		4115=Error: could not decode image:+
 		4116= - image not copied
-		4117=Error while importing .map-file: 
+		4117=Error while importing .map-file:+
 		4118=IO-Error while reading or writing calibration file
-		4119=No calibration file found for: 
+		4119=No calibration file found for:+
 		4120=done.
 		4200=Select map directory:
 		4201=Information
 		4203=Loading list of maps...
 		4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches
 		4205=No georeferenced map available  %0a you can get one by the menu: Application/Maps/download calibrated
-		4206=Dist: 
+		4206=Dist:+
 		4207=Error
-		4208=Bug: %0aillegal mapChangeModus: 
+		4208=Bug: %0aillegal mapChangeModus:+
 		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
 		4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
-		4211=No 
+		4211=No+
 		4212=less
 		4213=more
 		4214= detailed map available
@@ -428,7 +428,7 @@
 		4218=Could not load map: %0a
 		4219=Not enough memory to load map: %0a
 		4220=%0aYou can try to close%0a all prgrams and %0arestart CacheWolf
-		4221=Not enough ressources to load map: 
+		4221=Not enough ressources to load map:+
 		4222=Out of memory error
 		4230=Goto here$g
 		4232=Create new Waypoint here$n
@@ -470,9 +470,9 @@
 		4276=Cancel
 		4277=Select
 		4278=Cannot load wfl-file: %0a
-		4300=empty 1 Pixel = 
-		4301=Lat/Lon out of range while reading 
-		4303=not enough lines in file 
+		4300=empty 1 Pixel =+
+		4301=Lat/Lon out of range while reading+
+		4303=not enough lines in file+
 		4304=not enough points to calibrate the map
 		4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file %0a
 		4306=map not calibrated
@@ -481,7 +481,7 @@
 		4401=Ignoring error:%0a could not forward GPS data to host:%0a
 		4402=%0astop and start GPS to retry
 		4403=Error
-		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port 
+		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port+
 		4405=%0apossible reasons:%0a Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS
 		4406=Please copy jave_ewe.dll into the directory of the cachewolf program
 		4500=Tot:
@@ -529,11 +529,11 @@
 		4830=no matching Gauss-Krueger-Stripe in the EPSG-code list in the .wms
 		4831=getMapInfoObject: Coordinate system not supported by cachewolf:
 		4900= is not a german Gauss-Krueger coordinate
-		4920=EPSG code 
+		4920=EPSG code+
 		4921= not supported
-		4922=EPSG code missing in: 
-		4923=fromWgs84: EPSG code 
-		4924=ToWgs84: EPSG code 
+		4922=EPSG code missing in:+
+		4923=fromWgs84: EPSG code+
+		4924=ToWgs84: EPSG code+
 		5000=Loading Cache-List
 		5497=Error missing tag in spider.def
 		5499=Error loading login page
@@ -548,10 +548,10 @@
 		5508=Logging in...
 		5509=Coordinates for centre must be set
 		5510=Spider Options
-		5511=Found 
+		5511=Found+
 		5512= caches
-		5513=Loading: 
-		5514=%0aGetting bug: 
+		5513=Loading:+
+		5514=%0aGetting bug:+
 		5515=Login failed. Error loading page after login.
 		6000=Guid
 		6001=Name
@@ -572,7 +572,7 @@
 		6019=Tracking number
 		6020=Travelbug not found.
 		6021=More than one travelbug found. Specify name more precisely.
-		6022=: Current cache: 
+		6022=: Current cache:+
 		6025=Name:
 		6026=Tracking #:
 		6027=ID/GUID:

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-16 21:07:54 UTC (rev 1259)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-16 21:09:21 UTC (rev 1260)
@@ -80,8 +80,8 @@
 		199=Aan cache tour toevoegen.
 		208=Rebuild Index
 		209=Rebuilding Index
-		210=Caches not in index.xml: 
-		211=%0aAdded these: 
+		210=Caches not in index.xml:+
+		211=%0aAdded these:+
 		212=Delete all .xml files not in index.xml and associated pictures
 		213=Deleting orphans
 		300=Type:
@@ -290,7 +290,7 @@
 		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong port,%0a wrong baudrate,%0a not NMEA 0183 protocol%0aConnection to serial port closed%0aLast string tried to parse:%0a
 		1512=Waypoint
 		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination, as center, in selected cache or start GPS
-		1600=Download van Opencaching.de 
+		1600=Download van Opencaching.de+
 		1601=Afstand:
 		1602=Download afbeeldingen
 		1604=Annuleren
@@ -399,26 +399,26 @@
 		4109=bezig kaarten te laden..
 		4110=Bezig met laden
 		4111=Co%f6rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
-		4112=IO-Error while copying image from: 
-		4113= to: 
-		4114= error: 
-		4115=Error: could not decode image: 
+		4112=IO-Error while copying image from:+
+		4113= to:+
+		4114= error:+
+		4115=Error: could not decode image:+
 		4116= - image not copied
-		4117=Error while importing .map-file: 
+		4117=Error while importing .map-file:+
 		4118=IO-Error while reading or writing calibration file
-		4119=No calibration file found for: 
+		4119=No calibration file found for:+
 		4120=done.
 		4200=Kies kaarten map
 		4201=Information
 		4203=Loading list of maps...
 		4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches
 		4205=No georeferenced map available  %0a you can get one by the menu: Application/Maps/download calibrated
-		4206=Dist: 
+		4206=Dist:+
 		4207=Error
-		4208=Bug: %0aillegal mapChangeModus: 
+		4208=Bug: %0aillegal mapChangeModus:+
 		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
 		4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
-		4211=No 
+		4211=No+
 		4212=less
 		4213=more
 		4214= detailed map available
@@ -428,7 +428,7 @@
 		4218=Could not load map: %0a
 		4219=Not enough memory to load map: %0a
 		4220=%0aYou can try to close%0a all prgrams and %0arestart CacheWolf
-		4221=Not enough ressources to load map: 
+		4221=Not enough ressources to load map:+
 		4222=Out of memory error
 		4230=Goto here$g
 		4232=Create new Waypoint here$n
@@ -470,9 +470,9 @@
 		4276=Cancel
 		4277=Select
 		4278=Cannot load wfl-file: %0a
-		4300=empty 1 Pixel = 
-		4301=Lat/Lon out of range while reading 
-		4303=not enough lines in file 
+		4300=empty 1 Pixel =+
+		4301=Lat/Lon out of range while reading+
+		4303=not enough lines in file+
 		4304=not enough points to calibrate the map
 		4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file %0a
 		4306=map not calibrated
@@ -481,7 +481,7 @@
 		4401=Ignoring error:%0a could not forward GPS data to host:%0a
 		4402=%0astop and start GPS to retry
 		4403=Error
-		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port 
+		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port+
 		4405=%0apossible reasons:%0a Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS
 		4406=Please copy jave_ewe.dll into the directory of the cachewolf program
 		4500=Tot:
@@ -529,11 +529,11 @@
 		4830=no matching Gauss-Krueger-Stripe in the EPSG-code list in the .wms
 		4831=getMapInfoObject: Coordinate system not supported by cachewolf:
 		4900= is not a german Gauss-Krueger coordinate
-		4920=EPSG code 
+		4920=EPSG code+
 		4921= not supported
-		4922=EPSG code missing in: 
-		4923=fromWgs84: EPSG code 
-		4924=ToWgs84: EPSG code 
+		4922=EPSG code missing in:+
+		4923=fromWgs84: EPSG code+
+		4924=ToWgs84: EPSG code+
 		5000=Laad cache lijst
 		5497=Fout, verdwenen tag in spider.def.
 		5499=Fout bij het laden van de login pagina.



From bilbowolf at mail.berlios.de  Sun Mar 16 22:36:23 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Sun, 16 Mar 2008 22:36:23 +0100
Subject: [Cachewolf-svn] r1261 - in trunk/docs/CacheWolf Doku: . pics
Message-ID: <200803162136.m2GLaNlu005979@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-16 22:35:44 +0100 (Sun, 16 Mar 2008)
New Revision: 1261

Added:
   trunk/docs/CacheWolf Doku/pics/bilder.jpg
   trunk/docs/CacheWolf Doku/pics/georef_laden.jpg
   trunk/docs/CacheWolf Doku/pics/georef_per_cache.jpg
   trunk/docs/CacheWolf Doku/pics/hint_log.jpg
   trunk/docs/CacheWolf Doku/pics/loeser.jpg
   trunk/docs/CacheWolf Doku/pics/radar.jpg
   trunk/docs/CacheWolf Doku/pics/rechner.jpg
   trunk/docs/CacheWolf Doku/pics/tourenplaner.jpg
Modified:
   trunk/docs/CacheWolf Doku/ansichten.xml
   trunk/docs/CacheWolf Doku/menu.xml
   trunk/docs/CacheWolf Doku/pics/goto.jpg
Log:
Das vorletzte Kapitel ist zu 80% fertig. Macht jetzt (endlich!) grosse Spr?nge.

Modified: trunk/docs/CacheWolf Doku/ansichten.xml
===================================================================
--- trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-16 21:09:21 UTC (rev 1260)
+++ trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-16 21:35:44 UTC (rev 1261)
@@ -1,6 +1,8 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <chapter>
   <chapterinfo>
+    <title>Ansichten</title>
+
     <date>7.9.2007</date>
 
     <releaseinfo>In Bearbeitung</releaseinfo>
@@ -36,7 +38,7 @@
         </author>
 
         <revdescription>
-          <para>ca. 30% erledigt.</para>
+          <para>ca. 80% erledigt (fehlen noch L?ser und Tourenplaner).</para>
         </revdescription>
       </revision>
     </revhistory>
@@ -67,7 +69,7 @@
         </imageobject>
       </inlinemediaobject></para>
 
-    <para>Nur in dieser Ansicht wird das Men? </para>
+    <para>Nur in dieser Ansicht wird das Men?</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -248,7 +250,7 @@
         </listitem>
 
         <listitem>
-          <para>Nichtmarkierte ausfiltern: </para>
+          <para>Nichtmarkierte ausfiltern:</para>
         </listitem>
 
         <listitem>
@@ -281,7 +283,28 @@
   <section>
     <title>Tourenplaner</title>
 
-    <para></para>
+    <para>Der Tourenplaner l??t sich entweder ?ber die Listenansicht
+    (<inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/touricon.jpg" />
+        </imageobject>
+      </inlinemediaobject>) ?ffnen.</para>
+
+    <informaltable>
+      <tgroup cols="2">
+        <tbody>
+          <row>
+            <entry><inlinemediaobject>
+                <imageobject>
+                  <imagedata fileref="pics/tourenplaner.jpg" />
+                </imageobject>
+              </inlinemediaobject></entry>
+
+            <entry valign="top"><para></para></entry>
+          </row>
+        </tbody>
+      </tgroup>
+    </informaltable>
   </section>
 
   <section>
@@ -367,7 +390,7 @@
     gespeichert! Am Interessantesten d?rfte das Feld neben
     <literal>Status</literal> sein. Durch einen Klick auf das Datumsfeld kann
     das Gefunden Datum gesetzt werden (Datum wird durch ein Klick auf das
-    gr?ne H?ckchen gesetzt). </para>
+    gr?ne H?ckchen gesetzt).</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -375,7 +398,7 @@
         </imageobject>
       </inlinemediaobject></para>
 
-    <para>Ebenso wird die Uhrzeit gespeichert. </para>
+    <para>Ebenso wird die Uhrzeit gespeichert.</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -410,36 +433,525 @@
   <section>
     <title>Bilder</title>
 
-    <para></para>
+    <para>Falls Bilder in der Cachebeschreibung vorhanden sind, werden diese
+    in der Bilder?Ansicht als ?Thumbnails? dargestellt. Ein Klick auf ein Bild
+    ?ffnet ein neues Fenster. In diesem Fenster wird das Bild so dargestellt,
+    dass es in das vorhandene Fenster passt. Nochmal auf das Bild klicken und
+    es wird in der Originalaufl?sung dargestellt. Falls vorhanden, steht die
+    Bildbeschreibung unter dem jeweiligen Bild.</para>
+
+    <para>Bilder k?nnen durch rechte Maustaste gel?scht werden (z.B. um am PDA
+    Platz zu sparen). In den Pr?ferenzen ist einstellbar ob gel?schte Bilder
+    durch ein rotes ? ersetzt werden oder ?berhaupt nicht angezeigt
+    werden.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/bilder.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
   </section>
 
   <section>
     <title>Hints &amp; Logs</title>
 
-    <para></para>
+    <para>In der Hints &amp; Logs-Ansicht werden im oberen Teil des
+    Bildschirms (falls vorhanden) 5 Logeintr?ge gezeigt. Falls mehr als 5 Logs
+    vorhanden sind, kann man mit den &gt;&gt; und &lt;&lt; Kn?pfen in den
+    Eintr?gen vorw?rts und r?ckw?rts bl?ttern. Die Anzahl der anzuzeigenden
+    Logs kann in den Pr?ferenzen auch auf einen anderen Wert als 5 eingestellt
+    werden.</para>
+
+    <para>Den mit ROT13 verschl?sselten Hint (L?sungshinweise zum Cache) im
+    unteren Teil des Bildschirms kann man mit ?Decode" entschl?sseln.</para>
+
+    <para>Der Balken zwischen Hint und Logs kann durch Ziehen verschoben
+    werden um so je nach Bedarf f?r Hint oder Logs mehr Platz zu schaffen.
+    Durch Doppelklicken auf den Balken kann der Hintbereich bzw.der Logbereich
+    maximiert werden.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/hint_log.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
   </section>
 
   <section>
     <title>L?ser</title>
 
+    <para>Der L?ser wurde geschaffen, um die bei uns beliebten
+    "Rechne-Dir-einen-Wolf"-Multis zu erleichtern. Er hat viele Funktionen,
+    die das L?sen von umfangreichen Berechnungen vereinfachen.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/loeser.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Der Solver hat zwei Bereiche: Der obere (weisse) dient zur Eingabe
+    von Befehlen, der untere (graue) stellt die Ausgabe dar.</para>
+
+    <para>Der Knopf 'Rechne!' f?hrt die Befehle im oberen Bereich aus und
+    stellt das Ergebnis im unteren Bereich dar. Die anderen Kn?pfe dienen zum
+    Laden bzw. Speichern von Befehlsfolgen.</para>
+
+    <para>Die Gr??e der Bereiche kann durch Ziehen des Steges zwischen den
+    Bereichen angepa?t werden. Ein Doppelklick auf den Steg maximiert jeweils
+    den oberen oder unteren Teil.</para>
+
+    <para>Wenn nur ein Befehl ausgef?hrt werden soll, kann es schneller sein
+    durch Doppelklick auf das obere Fenster die Direkteingabe
+    aufzurufen.</para>
+
+    <para>Der Ausgabebereich kann auf zwei Arten gel?scht werden: Durch den
+    Befehl cls(), ?ber das Kontextmen? (=rechte Maustaste).</para>
+
+    <para>Um die Tipparbeit (insbesondere unterwegs) auf ein Minimum zu
+    reduzieren:</para>
+
+    <itemizedlist>
+      <listitem>
+        <para>m?ssen Funktionsnamen nicht mehr ausgeschrieben werden. Es
+        gen?gt wenn so viele Zeichen angegeben werden, wie notwendig um die
+        Funktion eindeutig zu bestimmen. Beispiel: Statt crosstotal reicht
+        auch cr</para>
+
+        <para>Hinweis: Die mindestens anzugebenden Buchstaben sind bei den
+        weiter unten beschriebenen Funktionen unterstrichen wie z.B.
+        quersumme</para>
+      </listitem>
+
+      <listitem>
+        <para>sind einige Funktionen auch unter mehrfachen Namen ansprechbar
+        (alias). So kann statt crosstotal auch Quersumme geschrieben werden,
+        bzw. wegen oben auch kurz q</para>
+      </listitem>
+
+      <listitem>
+        <para>kann die Funktion show weggelassen werden (sie ist aber noch
+        erlaubt)</para>
+      </listitem>
+
+      <listitem>
+        <para>ist das Semikolon als Befehlsende nicht mehr notwending ausser
+        wenn mehrere Befehle auf einer Zeile stehen sollen. Fortsetzungszeilen
+        k?nnen durch _ oder \ erzwungen werden (sollte aber kaum notwendig
+        sein).</para>
+      </listitem>
+
+      <listitem>
+        <para>kann umgeschaltet werden ob Variablennamen Case-sensitiv sein
+        sollen. Funktionsname sind nicht case-sensitiv, d.h. die
+        Gross-/Kleinschreibung ist egal: Quersumme oder quersumme liefert das
+        gleiche Ergebnis. Bei Variablen ist aber standardm??ig A nicht gleich
+        a, also Vorsicht!</para>
+      </listitem>
+    </itemizedlist>
+
     <para></para>
+
+    <table frame="box" rules="all">
+      <caption>Zuweisungen</caption>
+
+      <thead>
+        <tr align="center">
+          <th>Befehl</th>
+
+          <th>Beschreibung</th>
+
+          <th>Beispiel</th>
+
+          <th>Ergebnis</th>
+        </tr>
+      </thead>
+
+      <tbody>
+        <tr>
+          <td>var = value;</td>
+
+          <td>Variablen einen Wert (value) zuweisen</td>
+
+          <td>a = 5 WP="N 47 13.876 E 11 23.547"</td>
+
+          <td>Keine Anzeige bei Zuweisung</td>
+        </tr>
+
+        <tr>
+          <td></td>
+
+          <td>Zuweisung und Anzeige</td>
+
+          <td>e=7; e</td>
+
+          <td>7</td>
+        </tr>
+
+        <tr>
+          <td></td>
+
+          <td>Mehrere Zuweisungen in einer Zeile</td>
+
+          <td>c=4; d=5; c</td>
+
+          <td>4</td>
+        </tr>
+
+        <tr>
+          <td>show()</td>
+
+          <td>Werte anzeigen</td>
+
+          <td>"N 34 12." show(a) "12" # oder auch "N 34 12." a "12"</td>
+
+          <td>N 34 12.512 N 34 12.512</td>
+        </tr>
+
+        <tr>
+          <td>: :</td>
+
+          <td>Formatierung: Nach einem numerischen Ausdruck k?nnen zwischen
+          zwei : die Formatierungszeichen 0 # und . verwendet werden. 0 steht
+          f?r eine Ziffer, # f?r beliebig viele Ziffern</td>
+
+          <td>3.31:000: 3.56:0.0: 3.5671:0.#:</td>
+
+          <td>003 3.6 3.5671</td>
+        </tr>
+      </tbody>
+    </table>
+
+    <para><emphasis role="bold">Globale Variable</emphasis></para>
+
+    <para>Der L?ser unterscheidet zwischen lokalen und globalen Variablen.
+    Globale Variable merken sich ihren Wert zwischen mehrfachem Klick auf den
+    'Rechne!' Knopf, lokale Variable hingegen nicht. Globale Variable habe als
+    erstes Zeichen ein $. Beispiel:</para>
+
+    <para><literal>$S=$S+1; "STAGE " $S</literal></para>
+
+    <para>Wenn diese Befehle mit dreimaligem Klick auf 'Rechne!' ausgef?hrt
+    werden, ergibt es folgende Ausgabe:</para>
+
+    <para><literal>STAGE 1 STAGE 2 STAGE 3</literal></para>
+
+    <para>Ein weiterer Unterschied ist, da? globale Variable mit der leeren
+    Zeichenkette vorbelegt werden. Lokale Variable werden nicht initialisiert.
+    Wenn eine lokale Variable verwendet wird, ohne da? ihr zuvor ein Wert
+    zugewiesen wurde, ergibt das einen Fehler. Beispiel:</para>
+
+    <para><literal>A=B</literal></para>
+
+    <para>ergibt</para>
+
+    <para><literal>Fehler in Zeile:1 Spalte:1 Variable hat keinen Wert:
+    B</literal></para>
+
+    <para>Alle Wegpunkte sind standardm??ig auch als globale Variable
+    ansprechbar, sowohl schreibend als auch lesend. Beispiel:</para>
+
+    <para><literal>$GCZ10H $OCABCD="N 47 23.456 W 1 25.987"</literal></para>
+
+    <para>zeigt die Koordinate des Wegpunktes GCZ10H an und setzt den Wegpunkt
+    OCABCD auf eine neue Koordinate.</para>
+
+    <table frame="box" rules="all">
+      <caption>Basisoperationen</caption>
+
+      <thead>
+        <tr align="center">
+          <th>Befehl</th>
+
+          <th>Beschreibung</th>
+
+          <th>Beispiel</th>
+
+          <th>Ergebnis</th>
+        </tr>
+      </thead>
+
+      <tbody>
+        <tr>
+          <td>+</td>
+
+          <td>Addition</td>
+
+          <td>b = a + 1;</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td>-</td>
+
+          <td>Subtraktion</td>
+
+          <td>b = a - 42;</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td>/</td>
+
+          <td>Division</td>
+
+          <td>b = a / 3;</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td>*</td>
+
+          <td>Multiplikation</td>
+
+          <td>b = a * 7;</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td>(, )</td>
+
+          <td>Klammern zur Gruppierung</td>
+
+          <td>d = a * (b + c);</td>
+
+          <td></td>
+        </tr>
+      </tbody>
+    </table>
+
+    <table frame="box" rules="all">
+      <caption>Trigonometrie</caption>
+
+      <thead>
+        <tr align="center">
+          <th>Befehl</th>
+
+          <th>Beschreibung</th>
+
+          <th>Beispiel</th>
+
+          <th>Ergebnis</th>
+        </tr>
+      </thead>
+
+      <tbody>
+        <tr>
+          <td><emphasis role="underline">cos</emphasis>()</td>
+
+          <td>Cosinus</td>
+
+          <td>b = cos(a);</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td><emphasis role="underline">si</emphasis>n()</td>
+
+          <td>Sinus</td>
+
+          <td>b = sin(a);</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td><emphasis role="underline">ta</emphasis>n()</td>
+
+          <td>Tangens</td>
+
+          <td>b = tan(a);</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td><emphasis role="underline">ac</emphasis>os()</td>
+
+          <td>Arcosinus</td>
+
+          <td>b = acos(a);</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td><emphasis role="underline">as</emphasis>in()</td>
+
+          <td>Asinus</td>
+
+          <td>b = asin(a);</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td><emphasis role="underline">at</emphasis>an()</td>
+
+          <td>Atangens</td>
+
+          <td>b = atan(a);</td>
+
+          <td></td>
+        </tr>
+      </tbody>
+    </table>
+
+    <table frame="box" rules="all">
+      <caption>Zeichenketten Funktionen</caption>
+
+      <thead>
+        <tr align="center">
+          <th>Befehl</th>
+
+          <th>Beschreibung</th>
+
+          <th>Beispiel</th>
+
+          <th>Ergebnis</th>
+        </tr>
+      </thead>
+
+      <tbody>
+        <tr>
+          <td></td>
+
+          <td></td>
+
+          <td></td>
+
+          <td></td>
+        </tr>
+      </tbody>
+    </table>
+
+    <table frame="box" rules="all">
+      <caption>Koordinaten Funktionen</caption>
+
+      <thead>
+        <tr align="center">
+          <th>Befehl</th>
+
+          <th>Beschreibung</th>
+
+          <th>Beispiel</th>
+
+          <th>Ergebnis</th>
+        </tr>
+      </thead>
+
+      <tbody>
+        <tr>
+          <td></td>
+
+          <td></td>
+
+          <td></td>
+
+          <td></td>
+        </tr>
+      </tbody>
+    </table>
+
+    <table frame="box" rules="all">
+      <caption>Diverse</caption>
+
+      <thead>
+        <tr align="center">
+          <th>Befehl</th>
+
+          <th>Beschreibung</th>
+
+          <th>Beispiel</th>
+
+          <th>Ergebnis</th>
+        </tr>
+      </thead>
+
+      <tbody>
+        <tr>
+          <td></td>
+
+          <td></td>
+
+          <td></td>
+
+          <td></td>
+        </tr>
+      </tbody>
+    </table>
   </section>
 
   <section>
     <title>Rechner</title>
 
-    <para></para>
+    <para>Die Rechneransicht erlaubt die Projektion und Umwandlung von
+    Koordinaten. Projezierte Koordinaten lassen sich gleich als neuer Wegpunkt
+    in der Datenbank abspeichern. Umwandeln kann man zwischen UTM und
+    verschiedenen Formaten von Grad, Minute und Sekunde.</para>
+
+    <para>?ber den Goto Button kann sich auch direkt zu den errechneten
+    Koordinaten f?hren lassen.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/rechner.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
   </section>
 
   <section>
-    <title>Goto</title>
+    <title id="goto">Goto</title>
 
-    <para></para>
+    <para>Sofern ein GPS Empf?nger angeschlossen ist und die GPS Einstellungen
+    in den Pr?ferenzen gesetzt sind kann man mit der Hilfe dieser Ansicht sich
+    zu einem Cache navigieren lassen.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/goto.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Die Navigation wird gestartet und beendet durch einen Klick auf den
+    ?Start?-Knopf. Neue Zielkoordinaten k?nnen ?ber den Knopf ?Neuer Wegpunkt?
+    eingegeben werden. Soll die aktuell gemessene Position als Zentrum genutzt
+    werden (f?r Radar und die Entfernungsberechnung in der Listenansicht)
+    klickt man auf den ?Zentrum?-Knopf. Hat man GPS-Empfang erscheinen eine
+    rote, eine blaue und eine gelbe Linie in der Kompassrose. Die rote Linie
+    zeigt die aktuelle Richtung (sofern man sich bewegt) und die blaue Linie
+    die Richtung zur Zielkoordinate. Liegen blaue und rote Linie ?bereinander
+    bewegt man sich direkt auf den Cache zu. Die gelbe Linie zeigt die
+    Richtung der Sonne. H?lt man also den PDA mit der gelben Linien auf die
+    Sonne zeigt die blaue Linie direkt auf den Cache!</para>
   </section>
 
   <section>
     <title id="radar">Radar</title>
 
+    <para>Der Radar ist sehr n?tzlich, um eine Cachetour zu planen. Jeder
+    Kreis entspricht einem Sprung von 10km. Durch ?-? und ?+? kann man auf das
+    Zentrum hinein- und herauszommen. Durch einen Klick auf ?Toggle? werden
+    neben den Cachesymbolen die Wegpunktnamen ebenfalls angezeigt. Ein
+    erneuter Klick auf ?Toggle? zeigt den Cachenamen an. Infos werden auch
+    gezeigt, wenn man mit der Maus ?ber ein Cachesymbol f?hrt. </para>
+
+    <para>Der rote Kreis zeigt den aktuell in der Listenansicht gew?hlten
+    Cache. Man kann auf ein anderes Cachesymbol klicken: Die Ansicht wechselt
+    dann wieder auf die Listenansicht, in dem der gew?hlte Cache markiert
+    ist.</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/radar.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
     <para></para>
   </section>
 </chapter>
\ No newline at end of file

Modified: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-03-16 21:09:21 UTC (rev 1260)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-03-16 21:35:44 UTC (rev 1261)
@@ -1,6 +1,8 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <chapter>
   <chapterinfo>
+    <title>Die Men?s</title>
+
     <date>2.1.2008</date>
 
     <releaseinfo>In Bearbeitung</releaseinfo>
@@ -25,6 +27,20 @@
           <para>Erster Entwurf</para>
         </revdescription>
       </revision>
+
+      <revision>
+        <revnumber>0.2</revnumber>
+
+        <date>16.3.2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Etwas mehr geschafft...</para>
+        </revdescription>
+      </revision>
     </revhistory>
   </chapterinfo>
 
@@ -118,7 +134,152 @@
     <section>
       <title id="karten">Karten</title>
 
+      <para>Mit CacheWolf (ab der Version 0.9m) ist es m?glich, Karten zu
+      importieren und zu kalibrieren. Diese werden dann als Moving Map genutzt
+      (siehe <xref lang="" linkend="goto" />).</para>
+
+      <sidebar>
+        <para>Eine Moving Map unterscheidet sich von den typischen mobilen
+        Navigationssystemen (die heute h?ufig auf PDAs im Auto genutzt werden)
+        dadurch, dass dem Computer keinerlei Information ?ber Strassen und
+        Wege vorliegen. Der Computer kann "nur" von einer GPS Koordinate auf
+        die x/y Koordinaten der Karte umrechnen und kann dadurch auf der Karte
+        darstellen, wo man sich befindet.</para>
+      </sidebar>
+
       <para></para>
+
+      <section>
+        <title>Kalibrierte herunterladen</title>
+
+        <para>?ber diese Funktion lassen sich georeferenzierte Karten direkt
+        aus dem Internat laden. Hierbei k?nnen zwei grunds?tzlich
+        unterschiedliche Quellen genutzt werden. Expedia schon in fr?heren
+        Versionen angeboten. Mit der 1.0 werden nun WMS Quellen ebenfalls
+        angeboten.</para>
+
+        <sidebar>
+          <para>Ein Web Map Service (WMS) ist ein Web Service, der auf den WMS
+          Implementation Specifications beruht, einer Schnittstelle, um Karten
+          zu generieren. <citation>Expedia</citation></para>
+        </sidebar>
+
+        <para>Siehe die Datei <literal>readme_wms.txt</literal> im Verzeichnis
+        <literal>webmapservices</literal>, um eigene WMS Quellen
+        einzubinden.</para>
+
+        <para>Mit der 1.0 werden Quellen f?r Karten folgender Bundesl?nder
+        angeboten:</para>
+
+        <itemizedlist>
+          <listitem>
+            <para>Deutschland TOPO 1000</para>
+          </listitem>
+
+          <listitem>
+            <para>Deutschland TOPO 500</para>
+          </listitem>
+
+          <listitem>
+            <para>Deutschland TOPO 200</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Bayern</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Baden-W?rtemberg</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Rheinland Pfalz</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Mecklenburg Vorpommern</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Sachsen</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Sachsen Anhalt</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Nordrhein Westphalen</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Baden-W?rtemberg</para>
+          </listitem>
+        </itemizedlist>
+
+        <para>F?r einige Bundesl?nder sind ebenfalls Luftbildaufnahmen
+        verf?gbar.</para>
+
+        <para>Nach dem Klick auf diese Men?option erscheint folgendes
+        Fenster:</para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/georef_laden.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Hier muss man nun unterscheiden, was genau man haben m?chte. Mit
+        dem Reiter "Tiles" werden aneinander h?ngende Kacheln geladen. Wie
+        viele wird bestimmt durch die Auswahl "all caches", bzw. "selected
+        caches" in Verbindung mit dem gesetzten Hacken bei
+        <literal>for</literal>. W?hlt man "all" wird CacheWolf ein Rechteck
+        berechnen, der alle Caches umfasst und dann Kacheln gem?? der
+        eingestellten Genauigkeit (<literal>Approx. m per pixel</literal>)
+        bilden und herunterladen. Die Angabe bei overlapping in pixel legt
+        fest, wie viel die einzelnen Kacheln sich ?berlappen, sprich bei 0
+        liegen die Kachelkanten genau aneinander, ansonsten ?berschneiden sie
+        sich.</para>
+
+        <para>Statt die Kachel f?r alle Caches zu laden kann man auch sagen,
+        dass ein Rechteck um eine gesetzte Mitte (<literal>around the
+        center</literal>) heruntergeladen werden soll.</para>
+
+        <para>Der Hacken bei <literal>download an overview map</literal> wird
+        CacheWolf veranlassen eine Kachel zu ermitteln und herunterzuladen,
+        die das gesamte Rechteck umschliesst.</para>
+
+        <para>Die eben beschriebene Kachelmethode kann sehr viele Daten
+        (Dateien) generieren. In Gebieten, wo Caches weit auseinander liegen
+        erzeugt man hierdurch einen ziemlichen ?berhang an Daten. Daher
+        besteht auch die M?glichkeit, Karten je Cache zu laden:</para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/georef_per_cache.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Auch hier besteht die M?glichkeit eine Karte je Cache in der
+        Datenbank oder nur f?r die, die in der Listenansicht (einen H?ckchen
+        wurde gesetzt) selektiert wurden.</para>
+
+        <para>Durch ein Klick auf <literal>OK</literal> beginnt der Download.
+        Je nach dem, wie die Parameter eingestellt wurden kann der Download
+        etwas Zeit in Anspruch nehmen.</para>
+      </section>
+
+      <section>
+        <title>Importieren</title>
+
+        <para></para>
+      </section>
+
+      <section>
+        <title>Kalibrieren</title>
+
+        <para></para>
+      </section>
     </section>
 
     <section>

Added: trunk/docs/CacheWolf Doku/pics/bilder.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/bilder.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/georef_laden.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/georef_laden.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/georef_per_cache.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/georef_per_cache.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/docs/CacheWolf Doku/pics/goto.jpg
===================================================================
(Binary files differ)

Added: trunk/docs/CacheWolf Doku/pics/hint_log.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/hint_log.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/loeser.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/loeser.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/radar.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/radar.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/rechner.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/rechner.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/tourenplaner.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/tourenplaner.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From mirabilos at mail.berlios.de  Sun Mar 16 23:20:18 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 16 Mar 2008 23:20:18 +0100
Subject: [Cachewolf-svn] r1262 - in trunk: res_noewe/languages src/CacheWolf
	src/CacheWolf/navi
Message-ID: <200803162220.m2GMKIm7014449@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-16 23:20:17 +0100 (Sun, 16 Mar 2008)
New Revision: 1262

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/myTableControl.java
   trunk/src/CacheWolf/navi/MapLoaderGui.java
Log:
fix the languages (all three) up to 4244
I?m too tired to continue today, will do it tomorrow

pfeffer and mik77 asked me for an explanation:

first, I have fixed the languages in the source code
(note: some entries got new numbers since there were
 doublettes)

then I have re-generated the EN.cfg file from the source
(this means that changes always must be made to the source,
 not to the EN.cfg file, first)
? pfeffer told me that mik77 had fixed some of the EN.cfg
  entries, sorry about that, we can go through them later

then I adapted the DE.cfg and NL.cfg files BUT UNTIL THIS
COMMIT, NO TEXT WAS CHANGED: the numbers (IDs) no longer in
use were deleted, and the IDs not in them were copied from
the EN.cfg file

this commit fixes some in EN.cfg *and* the source,
and fixes some in DE.cfg and NL.cfg (not yet finished)


Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-16 21:35:44 UTC (rev 1261)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-16 22:20:17 UTC (rev 1262)
@@ -21,9 +21,9 @@
 		118=WolfLanguage
 		119=Suche nach:
 		120=Anwendung
-		121=Profil
-		122=zu Garmin
-		123=zu CacheMate
+		121=Profile
+		122=nach Garmin
+		123=nach CacheMate
 		124=nach OZI
 		125=nach Google Earth
 		127=Speichern
@@ -81,7 +81,7 @@
 		208=Index neu erstellen
 		209=Wiederaufbau Index
 		210=Caches nicht in index.xml:+
-		211=%0aDavon hinzugef%fcgt:+ +
+		211=%0aDavon hinzugef%fcgt:+
 		212=Alle .xml Dateien (und Bilder) l%f6schen, die nicht in index.xml sind
 		213=Verwaiste .xml Dateien l%f6schen
 		300=Type:
@@ -106,11 +106,11 @@
 		319=Nicht gefunden
 		320=Besitzer
 		321=Fehler
-		322=Kann Bild/Karte nicht laden
+		322=Kann Bild/Karte nicht finden
 		323=Fehler beim Schreiben der Datei
 		324= - neu versuchen?
 		325=Zuwenige Referenzpunkte, Karte nicht kalibriert
-		326=
+		326=Kann Bild/Karte nicht laden
 		327=Information
 		328=Gefunden am
 		329=Versteckt am
@@ -126,9 +126,9 @@
 		349=Blacklist-Status umschalten
 		350=Zeitstempel zu Notizen hinzuf%fcgen
 		351=Notizen hinzuf%fcgen/%e4ndern
-		591=Leer f%fcr Sprache des Betriebssystems%0aoder 2 Zeichen f%fcr andere Sprache , z.B. DE, EN
+		591=Leer f%fcr Sprache des Betriebssystems%0aoder 2 Zeichen f%fcr andere Sprache, z.B. DE, EN, NL
 		592=Sprache (braucht Neustart)
-		593=Password ist hier optional.%0aNur eingeben wenn es in pref.xml%0agespeichert werden soll.
+		593=Password ist hier optional.%0aNur eingeben wenn es in pref.xml%0agespeichert werden soll
 		594=Passwt
 		595=Liste
 		596=Name
@@ -137,7 +137,7 @@
 		599=Auswahlbox
 		600=Pr%e4ferenzen
 		601=Dein Alias:
-		603=Verzeichnis f%fcr Profile
+		603=Verzeichnis f%fcr Profile:
 		604=Suchen
 		606=Schwierigkeit
 		607=Terrain
@@ -162,8 +162,8 @@
 		627=Tabs oben
 		628=Status
 		629=Profil auto. laden
-		630=Hinweise/Logs:  Logs pro Seite
-		631=PDA hat Schliessen Button+
+		630=Hinweise/Logs: Logs pro Seite
+		631=PDA hat Schliessen Button
 		632=Mehr
 		633=Max. logs spidern
 		634=Proxy verwenden
@@ -182,12 +182,12 @@
 		711=Nicht suchbar
 		712=Route Datei w%e4hlen
 		714=Richtung & Entfernung
-		715=Zeige alle Caches mit Status
+		715=Zeige alle Caches mit Status:
 		716=Alle abw%e4hlen
 		717=Alle w%e4hlen
 		718=Cache Bewertungen
 		719=Cache Typen
-		720=Status
+		720=Attribute
 		721=Richtung
 		722=Bewertung
 		723=Typen
@@ -195,14 +195,14 @@
 		725=Hinweis: Filter sind additiv, aktiv = gr%fcn
 		726=Zus%e4tzliche Wegpunkte
 		727=Beh%e4lter
-		728=Zus. WegPkt
+		728=Status
 		729=Nicht archiviert
 		730=Suchbar
 		731=Noch nicht gefunden
 		732=Anderer Besitzer
 		733=Addi Wpt
 		734=Kein Hauptwegpunkt gefunden zu
-		735=Addi Waypoints m%fcssen das Format xxYYYY haben, wobei xx beliebige Zeichen und YYYY die Zeichen des Hauptcaches nach dem GC sind
+		735=Addi Waypoints m%fcssen das Format xxYYYYY haben, wobei xx beliebige Zeichen und YYYYY die Zeichen des Hauptcaches nach dem GC/OC sind
 		736=Zu viele Logs (Maximum in Pr%e4ferenzen einstellen)
 		737=Cache-Attribute
 		738=Attribute
@@ -214,7 +214,7 @@
 		910=Vorlagendatei w%e4hlen
 		950=Transfer
 		951=Zu GPS %fcbertragen
-		952=Umwandeln ...
+		952=Umwandeln...
 		999=Nicht gesetzt
 		1000=D
 		1001=T
@@ -238,7 +238,7 @@
 		1020=Im Browser online %f6ffnen
 		1021=Beschreibung %f6ffnen
 		1022=Alle mit H%e4kchen markierten Caches l%f6schen?
-		1024=Entfernungen in der Listenansicht~vom aktuellen Standpunkt aus~neu berechnet
+		1024=Entfernungen in der Listenansicht%0avom aktuellen Standpunkt aus%0aneu berechnet
 		1026=#Rec
 		1027=OC-Idx
 		1106=Profil w%e4hlen oder Neu
@@ -248,7 +248,7 @@
 		1110=Zentrum
 		1111=Neues Profil anlegen
 		1112=Profilname
-		1113=Kann Verzeichnis nicht erstellen (Es darf kein vom Betriebssystem verbotenen Zeichen beinhalten)
+		1113=Kann Verzeichnis nicht erstellen (darf kein vom Betriebssystem verbotenes Zeichen be%efnhalten)
 		1114=Verzeichnis existiert bereits
 		1115=Zentrum
 		1116=Aktuell
@@ -263,7 +263,7 @@
 		1204=Hint & Logs
 		1205=L%f6ser
 		1206=Rechner
-		1207=%c4nderungen im Profil Speichern?
+		1207=%c4nderungen im Profil speichern?
 		1301=Profil ausw%e4hlen:
 		1400=Zone
 		1401=Nord
@@ -287,7 +287,7 @@
 		1508=Breite
 		1509=L%e4nge
 		1510=Keine Daten vom GPS%0aVerbindung zum seriellen Port geschlossen
-		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a+
+		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA 0183-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a+
 		1512=Wegpunkt
 		1513=Kann Karte nicht ohne g%fcltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew%e4hlten Cache eingeben oder GPS starten
 		1600=Opencaching.de Download
@@ -335,7 +335,7 @@
 		1723=Vergleichsoperator erwartet
 		1724=Variable hat keinen Wert:+
 		1725=Unerwartete(s) Zeichen:+
-		1726=Funktion hat zu viele Argumente+
+		1726=Funktion hat zu viele Argumente:+
 		1727=Funktion hat falsche Anzahl von Argumenten
 		1728=Funktion noch nicht implementiert:+
 		1729=Division durch 0

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-16 21:35:44 UTC (rev 1261)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-16 22:20:17 UTC (rev 1262)
@@ -56,7 +56,7 @@
 		170=Select base directory for cache data
 		171=Profile does not exist:+
 		172=Error: cannot create maps directory: %0a
-		173=Garmin:  PC Port:
+		173=GPSBabel:
 		174=Short Names
 		175=Import
 		178=Version Checking
@@ -126,7 +126,7 @@
 		349=Toggle Blacklist status
 		350=Add timestamp to notes
 		351=Add/Edit notes
-		591=Select "auto" for system language or select your preferred language, e.g. DE or EN
+		591=Select "auto" for system language or select your preferred language, e.g. DE, EN, NL
 		592=Language (needs restart)
 		593=Password is optional here.%0aEnter only if you want to store it in pref.xml
 		594=Pwd
@@ -202,7 +202,7 @@
 		732=Other owner
 		733=Add. Wpt
 		734=No main cache found for addi waypoint+
-		735=Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC
+		735=Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC/OC
 		736=Too many logs
 		737=Attributes
 		738=Attributes
@@ -234,7 +234,7 @@
 		1016=De-select all
 		1017=S
 		1018=Open offline in browser
-		1019=Enter
+		1019=Set as centre
 		1020=Open online in browser
 		1021=Open description
 		1022=Delete all caches that have a tick?
@@ -297,7 +297,7 @@
 		1605=OK
 		1606=Re-download all
 		1607=Update from opencaching successful
-		1608=downloading data%0a from opencaching
+		1608=downloading data%0a from opencaching.de...
 		1609=Importing Cache:
 		1611=Importing cache description:
 		1612=Importing cache log:
@@ -365,7 +365,7 @@
 		1814=per cache
 		1815=Downloading georeferenced maps
 		1816=Downloading georeferenced maps%0a %0a %0a %0a %0a
-		1817=No Caches are seleted
+		1817=No Caches are selected
 		1818=getSortedMapServiceIndex: index
 		1819=not found
 		1820=Downloading map '
@@ -375,7 +375,7 @@
 		1824=downloading overview map
 		1825=Overview map: Ignoring error:
 		1826=Finished downloading and calibration of maps
-		1827='radius' must be graeter than 0
+		1827='radius' must be greater than 0
 		1828='overlapping' must be greater or equal 0
 		1829=Please enter the 'centre' around which the maps shall be downloaded
 		1830=The selected online map service provides map in the scale from

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-16 21:35:44 UTC (rev 1261)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-16 22:20:17 UTC (rev 1262)
@@ -46,14 +46,14 @@
 		150=Importeren
 		151=Kalibreren
 		155=Verklaring
-		156=Te weinig geheugen, kaart is te groot!
+		156=Te weinig geheugen, kaart is te groot
 		157=Systeem
-		158=Versie controle
-		159=Filter
-		160=Filter selected
+		158=Versie proefen
+		159=Filteren
+		160=Gekozene filteren
 		161=Toon Blacklist
-		162=Gekalibreerde kaarten downloaden.
-		170=Selecteer basis map voor cache data.
+		162=Gekalibreerde kaarten downloaden
+		170=Selecteer basis map voor cache data
 		171=Profiel bestaat niet:+
 		172=Fout: kan kaarten map niet maken:%0a.
 		173=GPSBabel:
@@ -61,29 +61,29 @@
 		175=Importeren
 		178=Versie controle
 		180=Verplaats caches
-		181=Hier
+		181=naar hier
 		182=Nieuwe lijst
 		183=Geladen lijst
 		184=Opslaan als
-		185=Opslaan (zonder bevestiging).
-		186=Additionele Waypoints mee verplaatsen.
+		185=Opslaan (zonder bevestiging)
+		186=Additionele Waypoints mee verplaatsen
 		188=CACHE TOUR: NIEUW
 		189=Lijst toepassen
-		190=Toon alleen deze Waypoints.
+		190=Toon alleen deze Waypoints
 		191=Selecteer file
 		192=Wijzigingen opslaan
 		193=Additionele Waypoints toevoegen
-		195=Huidige middelpunt
-		196=Totaal aantal # caches (GC&OC)%0aTotaal # zichtbaar%0aTotaal # gevonden.
-		197=Toon/verberg cache tour.
+		195=Actueel middelpunt
+		196=Totaal aantal # caches (GC&OC)%0aTotaal # zichtbaar%0aTotaal # gevonden
+		197=Toon/verberg cache tour
 		198=Cache tour
-		199=Aan cache tour toevoegen.
-		208=Rebuild Index
-		209=Rebuilding Index
-		210=Caches not in index.xml:+
-		211=%0aAdded these:+
-		212=Delete all .xml files not in index.xml and associated pictures
-		213=Deleting orphans
+		199=Aan cache tour toevoegen
+		208=Index bouwen
+		209=Nieuw bouwen van Index
+		210=Caches niet in index.xml:+
+		211=%0aDeze toegevoegt:+
+		212=Verwijderen alle .xml files niet in index.xml en hun plaatjes
+		213=Verwijderen wees .xml files
 		300=Type:
 		301=Grote:
 		302=Waypoint:
@@ -93,7 +93,7 @@
 		306=Eigenaar:
 		307=Status:
 		308=Opmerkingen:
-		309=Selecteer als middelpunt.
+		309=Selecteer als middelpunt
 		310=Verwijder
 		311=Nieuw Waypoint
 		312=Opslaan
@@ -106,38 +106,38 @@
 		319=Niet gevonden
 		320=Eigenaar
 		321=Fout
-		322=Kan afbeelding/kaart niet vinden.
-		323=Fout bij schrijven van data.
-		324=-opnieuw?
-		325=Te weinig referentiepunten, kaart is niet gekalibreerd.
-		326=Geen gekalibreerde kaart aanwezig. %0aAub selecteer een schaal om de track en caches te tonen.
+		322=Kan afbeelding/kaart niet vinden
+		323=Fout bij schrijven van data
+		324= - opnieuw?
+		325=Te weinig referentiepunten, kaart is niet gekalibreerd
+		326=Kan afbeelding/kaart niet laden
 		327=Notities
 		328=Gegevens gevonden
 		329=Verborgen op
 		340=Cache afbeeldingen
 		341=Eigen afbeeldingen
 		342=Verwijderd
-		343=Niet genoeg geheugen om cache afbeeldingen te laden.
+		343=Niet genoeg geheugen om cache afbeeldingen te laden
 		344=Verwijder afbeeldingen
-		345=Ga naar deze co%f6rdinaten.
+		345=Ga naar deze co%f6rdinaten
 		346=Toon Travelbugs
 		347=Toon kaart
-		348=Eigen afbeeldingen toevoegen.
-		349=Status Blacklist omkeren.
-		350=Tijdmarkering toevoegen aan notities.
-		351=Toevoegen/wijzigingen notities.
-		591=Laat leeg voor standaard taal of%0avoeg 2 karakters toe voor taal, bv. DE,EN,NL
-		592=Taal(herstart noodzakelijk)
-		593=Password is optioneel.%0aAlleen gebruiken als je het wil opslaan in pref.xml.
-		594=Password
+		348=Eigen afbeeldingen toevoegen
+		349=Status Blacklist omkeren
+		350=Tijdmarkering toevoegen aan notities
+		351=Toevoegen/wijzigingen notities
+		591=Laat leeg voor standaard taal of%0avoeg 2 karakters toe voor taal, bv. DE, EN, NL
+		592=Taal (herstart noodig)
+		593=Wachtwoord is optioneel.%0aAlleen gebruiken als je het wil opslaan in pref.xml
+		594=Wachtwoord
 		595=Lijst
 		596=Naam
 		597=Waypoint
 		598=Type
 		599=Checkbox
 		600=Voorkeuren
-		601=Jouw Nickname
-		603=Profiel map
+		601=Jouw Nicknaam:
+		603=Profiel map:
 		604=Zoeken
 		606=Moeilijkheidsgraad
 		607=Terrein
@@ -156,21 +156,21 @@
 		621=Algemeen
 		622=Scherm
 		623=Afbeeldingen:
-		624=Toon verwijderde afbeeldingen.
-		625=Scherm(herstart noodzakelijk)
+		624=Toon verwijderde afbeeldingen
+		625=Scherm (herstart noodig):
 		626=Menu boven
 		627=Tabs boven
 		628=Status
-		629=Laatste profiel automatisch laden.
-		630=Hints/logs: logs per pagina.
-		631=PDA heeft stopknop.
+		629=Laatste profiel automatisch laden
+		630=Hints/logs: logs per pagina
+		631=PDA heeft stopknop
 		632=Meer
 		633=Maximale logs naar werkgeheugen
-		634=use Proxy
-		635=Size
-		636=OC Recommends
+		634=Proxy gebruiken
+		635=Groote
+		636=OC recommandatie's
 		637=OC Index
-		638=Show pictures in description
+		638=Plaatjes in descriptie tonen
 		700=Selecteer filter
 		701=Afstand
 		702=Moeilijkheidsgraad
@@ -180,42 +180,42 @@
 		709=Toepassen
 		710=Gearchiveerd
 		711=Niet beschikbaar
-		712=Selecteer route file.
+		712=Selecteer route file
 		714=Richting & afstand
 		715=Toon alle caches met status:
 		716=Deselecteer alles
 		717=Selecteer alles
 		718=Cache beoordeling
 		719=Cache type
-		720=Status
+		720=Attribuuten
 		721=Richting
 		722=Beoordeling
 		723=Type
-		724=Container
-		725=Notities: Filters zijn aanpasbaar, actieve filter=groen.
+		724=Soort doos
+		725=Notitie: Filters zijn aanpasbaar, actieve filter=groen
 		726=Additionele Waypoints
-		727=Container
-		728=Additionele Waypoint
+		727=Soort doos
+		728=Status
 		729=Niet gearchiveerd
 		730=Beschikbaar
 		731=Nog niet gevonden
 		732=Andere eigenaar
 		733=Additionele Waypoint
 		734=Geen hoofd Waypoint gevonden voor
-		735=Additionele Waypoints moeten het formaat hebben xxYYYY, waarbij xx 2 karakters zijn en YYYY de karakters achter GC van het hoofd Waypoint zijn.
+		735=Additionele Waypoints moeten het formaat hebben xxYYYYY, waarbij xx 2 karakters zijn en YYYYY de karakters achter GC/OC van het hoofd Waypoint
 		736=Too many logs
-		737=Attributes
-		738=Attributes
-		739=Filter on
-		740=all
-		741=one
-		742=none
+		737=Attribuuten
+		738=Attribuuten
+		739=Filter op
+		740=alle
+		741=%e9%e9n
+		742=geen
 		909=Selecteer file(s)
 		910=Selecteer sjabloon file
 		950=Verplaats
 		951=Zenden naar GPS
 		952=Converteren......
-		999=Not set
+		999=Niet gestellt
 		1000=D
 		1001=T
 		1002=Waypoint
@@ -225,33 +225,33 @@
 		1007=Status
 		1008=Afstand
 		1009=Richting
-		1010=Ga hier naartoe.
-		1011=Niet geselecteerden uitfilteren.
+		1010=Ga hier naartoe
+		1011=Niet geselecteerden uitfilteren
 		1012=Verwijder geselecteerden
 		1013=Met selectie
-		1014=Update cache data
+		1014=Aktualiseer gekozen
 		1015=Selecteer alles
 		1016=Deselecteer alles
 		1017=S
-		1018=Toon offline in Browser.
-		1019=Zet deze als middelpunt.
-		1020=Toon online in Browser.
+		1018=Toon offline in Browser
+		1019=Zet deze als middelpunt
+		1020=Toon online in Browser
 		1021=Toon cachebeschrijving
-		1022=Verwijder alle caches die zijn aangevinkt.
-		1024=Afstand in lijst is~ten opzichte van de huidige positie~herberekend.
+		1022=Verwijder gekozen caches
+		1024=Afstand in lijst is%0aten opzichte van de huidige positie%0aherberekend
 		1026=#Rec
 		1027=OC-IDX
-		1106=Kies profiel of nieuw.
+		1106=Kies profiel of nieuw
 		1107=Nieuw profiel
 		1108=Kies profiel
 		1109=Open profiel
 		1110=Middelpunt
-		1111=Maak een nieuw profiel.
-		1112=Naam nieuw profiel.
-		1113=Kan geen map maken (mag geen karakters hebben die niet door het OS worden geaccepteerd).
+		1111=Maak een nieuw profiel
+		1112=Naam nieuw profiel
+		1113=Kan geen map maken (mag geen karakters hebben die niet door het OS worden geaccepteerd)
 		1114=Map bestaat al
 		1115=Middelpunt
-		1116=Huidig
+		1116=Actueel
 		1117=Kopie
 		1118=Profiel
 		1120=Moeilijkheidsgraad
@@ -260,87 +260,87 @@
 		1201=Details
 		1202=Beschrijving
 		1203=Afbeeldingen
-		1204=Hints & logs
+		1204=Hints & Logs
 		1205=Oplosser
 		1206=Calculator
-		1207=Jouw profiel is veranderd, wil je het profiel opslaan?
-		1301=Selecteer profiel
+		1207=Jouw profiel is veranderd, wil jij het profiel opslaan?
+		1301=Selecteer profiel:
 		1400=Zone
-		1401=Northing	
-		1402=Easting
+		1401=Noord
+		1402=Oost
 		1403=Richting
 		1404=Afstand
-		1405=Om co%f6rdinaten te laden van GC, geef onder in GCxxxx.
-		1406=Geef co%f6rdinaten in (alle formaten mogelijk) of GCxxxx.
-		1407=steps
+		1405=Om co%f6rdinaten te laden van GC, geef onder in GCxxxxx
+		1406=Geef co%f6rdinaten (alle formaten mogelijk) of GCxxxxx
+		1407=staps
 		1408=feet
 		1409=yards
 		1410=miles
 		1500=Doel:
-		1501=Huidig
+		1501=Actueel
 		1502=Graden
 		1503=Noord voor
 		1504=Start
 		1505=Stop
-		1506=Map
-		1507=Coordinates are out of range:
+		1506=Kaart
+		1507=Ko%f6rdinaten buiten geldige bereik:
 		1508=latitude
 		1509=longditue
-		1510=No data from GPS%0aConnection to serial port closed
-		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong port,%0a wrong baudrate,%0a not NMEA 0183 protocol%0aConnection to serial port closed%0aLast string tried to parse:%0a
+		1510=Geen data van GPS%0aConnectie met serial port toegemaakt
+		1511=Kan data van GPS niet interpreteren%0a mogelijke achtergrond:%0a fout port,%0a fout baudrate,%0a niet NMEA 0183 protocol%0aConnectie met serial port toegemaakt%0aLaatste string probeerd interpreteren:%0a
 		1512=Waypoint
-		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination, as center, in selected cache or start GPS
-		1600=Download van Opencaching.de+
+		1513=Kan zich verplaatsende kaart niet aanvangen zonder geldige co%f6rdinaten. A.U.B. schrijv co%f6rdinaten als doel, middelpunt, in gekozen cache of start GPS
+		1600=Download van Opencaching.de
 		1601=Afstand:
 		1602=Download afbeeldingen
 		1604=Annuleren
 		1605=OK
 		1606=Redownload alles
 		1607=Update van Opencaching.de is gelukt.
-		1608=Download data van Opencaching.de.
-		1609=Importeren cache
-		1611=Import cache beschrijving.
-		1612=Import log
-		1613=Import afbeelding
-		1614=Fout bij het unzippen van update file.
+		1608=Download data van Opencaching.de...
+		1609=Importeren cache:
+		1611=Importeren cache beschrijving:
+		1612=Importeren log:
+		1613=Importeren afbeelding:
+		1614=Fout bij het unzippen van update file
 		1615=Fout bij het interpreteren van update file, status:
-		1616=Fout: Kan de update file niet downloaden van Opencaching.de.
-		1617=Negeert fout in html-cache-beschrijving:"<img" without "src=" in cache+
+		1616=Fout: Kan de update file niet downloaden van Opencaching.de
+		1617=Negeert fout in html-cache-beschrijving: "<img" zonder "src=" in cache+
 		1618=Negeert fout in cache:+
-		1619=: kon de afbeelding van URL niet downloaden:+	
+		1619=: kon de afbeelding niet downloaden van URL:+
 		1620=download bijgesloten afbeeldingen:+
-		1621=Fout tijdens interpreteren data%0a van Opencaching.de,%0aDit is vermoedelijk een fout bij Opencaching.de%0aprobeer later nogmaals%0aStatus:
-		1622=Exclude found caches
-		1700=Fout in lijn:
+		1621=Fout tijdens interpreteren data%0a van Opencaching.de%0aDit is vermoedelijk een fout bij Opencaching.de%0aprobeer later nog es%0aStatus:
+		1622=Excludeer gevondene caches
+		1700=Fout in lijn:+
 		1701=Positie:
 		1702=Variabele niet gedefinieerd.
-		1703=Geen geldig nummer.
-		1704=Plotseling eind van zoekopdracht.
+		1703=Geen geldig nummer:
+		1704=Plotseling eind van zoekopdracht
 		1705=Geen ENDIF
-		1706=Verwacht:
-		1707=Gevonden:
-		1708=Geen eensluidende functienaam:
-		1709=Onbekende functie:
-		1710=Kan de lege string niet tellen.
-		1711=Gekopieerde karakter strings moeten van dezelfde lengte zijn.
-		1712=Ongeldige co%f6rdinaten:
+		1706=Verwacht:+
+		1707=Gevonden:+
+		1708=Geen eensluidende functienaam:+
+		1709=Onbekende functie:+
+		1710=Kan de lege string niet tellen
+		1711=Gekopieerde karakter strings moeten van dezelfde lengte zijn
+		1712=Ongeldige co%f6rdinaten:+
 		1713=Ongeldig co%f6rdinaat formaat. Toegestaan zijn CW/DD/DMM/DMS/UTM
-		1714=Ga naar: Waypoint bestaat niet:
-		1715=Instr: Start co%f6rdinaat niet in string.
-		1716=Mid: Geheel getal verwacht.
-		1717=Mid: Argument valt buiten de range.
-		1718=Kan geen negatieve afstand projecteren.
-		1719=Projectiehoek moet liggen tussen 0 en 360.
-		1720=Kan niet rekenen met negatieve getallen.
-		1723=Vergelijking van operator verwacht.
-		1724=Variabele niet benoemd.
-		1725=Onverwachte karakter(s)
-		1726=Te veel argumenten voor deze functie.
-		1727=Ongeldig aantal argumenten.
-		1728=Functie niet ge%efmplementeerd.
+		1714=Ga naar: Waypoint bestaat niet:+
+		1715=instr: Start co%f6rdinaat niet in string
+		1716=mid: Geheel getal verwacht
+		1717=mid: Argument valt buiten het geldige bereik
+		1718=Kan geen negatieve afstand projecteren
+		1719=Projectiehoek moet liggen tussen 0 en 360
+		1720=Kan niet rekenen met negatieve getallen
+		1723=Vergelijking van operator verwacht
+		1724=Variabele niet benoemd:+
+		1725=Onverwachte karakter(s):+
+		1726=Te veel argumenten voor functie+
+		1727=Ongeldig aantal argumenten
+		1728=Functie niet ge%efmplementeerd:+
 		1729=Deling door 0.
 		1730=Oneindige string
-		1731=Ongeldig formaat karakters.
+		1731=Ongeldig formaat karakters
 		1732=Ongeldige karakter
 		1733=Opdracht ingeven
 		1734=Verwijder ingaven
@@ -348,99 +348,99 @@
 		1736=Laden
 		1737=Opslaan
 		1738=Opslaan als
-		1739=Projection degrees must be in interval [0;2*PI]
-		1800=Downloaden GEO gerelateerde kaarten.
-		1802=Download georeferenced maps%0a Select online service:
-		1803=for
-		1804=all
-		1805=selected
+		1739=Projection degrees moet tussen 0 en 2*PI zijn
+		1800=Downloaden GEO gerelateerde kaarten
+		1802=Download GEO gerelateerde kaarten%0a Select online dienst:
+		1803=voor
+		1804=alle
+		1805=gekozen
 		1806=caches
-		1807=Approx. m per pixel
+		1807=ca. m per pixel
 		1808=overlapping in pixel:
-		1809=download an overview map
-		1810=Within a rectangle of:
-		1811=around the centre:
-		1812=Tiles
-		1813=Download one map for
+		1809=download overzicht kaart
+		1810=Binnen rectangle van:
+		1811=rondom middelpunt:
+		1812=Ticheln
+		1813=Download %e9%e9n kaart voor
 		1814=per cache
-		1815=Downloading georeferenced maps
-		1816=Downloading georeferenced maps%0a %0a %0a %0a %0a
-		1817=No Caches are seleted
+		1815=Downloaden GEO gerelateerde kaarten
+		1816=Downloaden GEO gerelateerde kaarten%0a %0a %0a %0a %0a
+		1817=Geen caches zijn gekozen
 		1818=getSortedMapServiceIndex: index
-		1819=not found
-		1820=Downloading map '
-		1821=%0a for cache:%0a
+		1819=niet gevonden
+		1820=Downloaden kaart '
+		1821=%0a voor cache:%0a
 		1822=Cache:
-		1823=Ignoring error:
-		1824=downloading overview map
-		1825=Overview map: Ignoring error:
-		1826=Finished downloading and calibration of maps
-		1827='radius' must be graeter than 0
-		1828='overlapping' must be greater or equal 0
-		1829=Please enter the 'centre' around which the maps shall be downloaded
-		1830=The selected online map service provides map in the scale from
-		1831= to
-		1832=%0a please adjust 'Approx. meter pro pixel' accordingly
+		1823=Negeert fout:
+		1824=Downloaden overzicht kaart
+		1825=Overzicht kaart: Negeert fout:
+		1826=Klaar downloaden en calibreren van kaarten
+		1827='radius' moet groter dan 0 zijn
+		1828='overlapping' moet groter of gelijk 0 zijn
+		1829=A.U.B. geef middelpunt voor downloaded kaarten rondom
+		1830=Het gekozen online kaart service bevoorradet kaarten in het scala van
+		1831= tot
+		1832=%0a A.U.B. aanpassen 'Approx. meter pro pixel' volgens dit
 		2100=Magellan Exporter
-		2101=Failure at loading magellan.cfg%0a
-		2102=Select target file:
-		2103=Failure at reading magellan.cfg%0a
-		2104=Choose directory for exporting .gs files
+		2101=Fout openen magellan.cfg%0a
+		2102=Kies doel file:
+		2103=Fout lezen magellan.cfg%0a
+		2104=Kies map voor ge%ebxporteerd .gs files
 		3000=Sluiten
 		4000=Geladen caches
-		4100=Select Directory:
+		4100=Kies map:
 		4101=Kaarten
 		4102=Gekalibreerde kaarten
 		4103=Niet gekalibreerde kaarten
 		4104=Wijzigen
 		4105=Laden
-		4106=Kalibreert kaart
+		4106=Kalibreert kaart:
 		4107=Gebeurt!
 		4109=bezig kaarten te laden..
 		4110=Bezig met laden
-		4111=Co%f6rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
-		4112=IO-Error while copying image from:+
-		4113= to:+
-		4114= error:+
-		4115=Error: could not decode image:+
-		4116= - image not copied
-		4117=Error while importing .map-file:+
-		4118=IO-Error while reading or writing calibration file
-		4119=No calibration file found for:+
-		4120=done.
+		4111=Co%f6rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX
+		4112=I/O fout kopieren afbeelding van:+
+		4113= naar:+
+		4114= fout:+
+		4115=Fout: kan afbeelding niet decoderen:+
+		4116= - afbeelding niet kopierd
+		4117=Fout importeren .map file:+
+		4118=I/O fout lezen of schrijven calibratie file
+		4119=Geen calibratie file gevonden voor:+
+		4120=klaar.
 		4200=Kies kaarten map
-		4201=Information
-		4203=Loading list of maps...
-		4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches
-		4205=No georeferenced map available  %0a you can get one by the menu: Application/Maps/download calibrated
-		4206=Dist:+
-		4207=Error
-		4208=Bug: %0aillegal mapChangeModus:+
+		4201=Informatie
+		4203=Laden lijst van kaarten...
+		4204=Geen GEO gerelateerde kaart beschikbaar %0a A.U.B. kies scala %0a voor tonen baan en caches
+		4205=Geen GEO gerelateerde kaart beschikbaar %0a Krijg %e9%e9n bij het menu: Application/Maps/download calibrated
+		4206=Afst:+
+		4207=Fout
+		4208=Programma fout: %0aillegal mapChangeModus:+
 		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
 		4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
-		4211=No+
-		4212=less
-		4213=more
-		4214= detailed map available
-		4215=Did not select any caches
-		4216=Loading map...
-		4217=Could not find image associated with: %0a
-		4218=Could not load map: %0a
-		4219=Not enough memory to load map: %0a
-		4220=%0aYou can try to close%0a all prgrams and %0arestart CacheWolf
-		4221=Not enough ressources to load map:+
-		4222=Out of memory error
-		4230=Goto here$g
-		4232=Create new Waypoint here$n
-		4234=Select a map manually$s
-		4235=Select a map manually
-		4236=Change map directory$c
-		4237=Change map directory
-		4238=Show map
-		4239=Show map
-		4240=Hide map
-		4241=Hide map
-		4242=Mode for automatic map change
+		4211=Geen+
+		4212=minder
+		4213=meer
+		4214= gedetailleerd kaart beschikbaar
+		4215=Geen cache gekozen
+		4216=Laden kaart...
+		4217=Kan afbeelding niet vinden voor file: %0a
+		4218=Kan kaart niet laden: %0a
+		4219=Te weinig geheugen voor laden kaart: %0a
+		4220=%0aJij kan proberen stoppen%0a alle programma's en opnieuw starten CacheWolf
+		4221=Niet genoeg capaciteit om kaart te laden:+
+		4222=Fout: te weinig geheugen
+		4230=Ga hier$g
+		4232=Maak nieuw Waypoint hier$n
+		4234=Kies kaart handmatig$s
+		4235=Kies kaart handmatig
+		4236=Wisselen kaart map$c
+		4237=Wisselen kaart map
+		4238=Toon kaart
+		4239=Toon kaart
+		4240=Verberg kaart
+		4241=Verberg kaart
+		4242=Manier voor automatisch kaart wisselen
 		4244=Highest res. containing dest. & cur. position
 		4245=Highest res. containing dest. & cur. position
 		4246=Highest resolution

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-16 21:35:44 UTC (rev 1261)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-16 22:20:17 UTC (rev 1262)
@@ -501,7 +501,7 @@
 					  if (idx<0) idx=profile.getCacheIndex("CW"+ ch.wayPoint.substring(ch.wayPoint.length() == 5?1:2));
 					  if (idx<0) (new MessageBox(MyLocale.getMsg(144,"Warning"),
 							  MyLocale.getMsg(734,"No main cache found for addi waypoint ")+" "+ch.wayPoint+
-							  "\n"+MyLocale.getMsg(735,"Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC"),FormBase.OKB)).execute();
+							  "\n"+MyLocale.getMsg(735,"Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC/OC"),FormBase.OKB)).execute();
 				  }
 				  profile.buildReferences(); // TODO this takes quite long -> use profile.setAddiRef instead
 			  } else {

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-16 21:35:44 UTC (rev 1261)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-16 22:20:17 UTC (rev 1262)
@@ -106,7 +106,7 @@
 		}
 
 		// this is only a dummy-InfoBox for capturing the output
-		inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching"), InfoBox.PROGRESS_WITH_WARNINGS, false);
+		inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching.de"), InfoBox.PROGRESS_WITH_WARNINGS, false);
 //		inf.setPreferredSize(220, 300);
 //		inf.relayout(false);
 //		inf.exec();
@@ -195,7 +195,7 @@
 			+ "&charset=utf-8"
 			+ "&cdata=0"
 			+ "&session=0";
-		inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching"), InfoBox.PROGRESS_WITH_WARNINGS, false);
+		inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching.de"), InfoBox.PROGRESS_WITH_WARNINGS, false);
 		inf.setPreferredSize(220, 300);
 		inf.relayout(false);
 		inf.exec();
@@ -222,7 +222,7 @@
 		BufferedReader r;
 		String file = new String();
 
-		//inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching"), InfoBox.PROGRESS_WITH_WARNINGS, false);
+		//inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching.de"), InfoBox.PROGRESS_WITH_WARNINGS, false);
 		
 		picCnt = 0;
 		try{

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 21:35:44 UTC (rev 1261)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 22:20:17 UTC (rev 1262)
@@ -107,7 +107,7 @@
 		inpGPS.setText(pref.mySPO.portName+"/"+pref.mySPO.baudRate);
 		
 		// Garmin and GPSBabel
-		frmGarmin.addNext(lblGarmin=new mLabel(MyLocale.getMsg(173,"Garmin:  PC Port:")),DONTSTRETCH,LEFT);
+		frmGarmin.addNext(lblGarmin=new mLabel(MyLocale.getMsg(173,"GPSBabel:")),DONTSTRETCH,LEFT);
 		lblGarmin.setTag(INSETS,new Insets(4,0,0,0));
 		frmGarmin.addNext(chcGarminPort=new mChoice(garminPorts,0),DONTSTRETCH,LEFT);
 		chcGarminPort.setTag(INSETS,new Insets(4,0,0,0));
@@ -205,7 +205,7 @@
 		//ewe.sys.Vm.copyArray(tmp, 0, langs, 1, tmp.length);
 		pnlMore.addLast(inpLanguage=new mChoice(langs, curlang),DONTSTRETCH,DONTFILL|WEST);
 		//inpLanguage.setPreferredSize(20,-1);
-		inpLanguage.setToolTip(MyLocale.getMsg(591,"Select \"auto\" for system language or select your preferred language, e.g. DE or EN"));
+		inpLanguage.setToolTip(MyLocale.getMsg(591,"Select \"auto\" for system language or select your preferred language, e.g. DE, EN, NL"));
 		
 		/////////////////////////////////////////////////////////
 		// Fourth/Fifth panel - Listview and Travelbugs

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-16 21:35:44 UTC (rev 1261)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-16 22:20:17 UTC (rev 1262)
@@ -19,7 +19,7 @@
 	private Menu mFull = new Menu(new String[]{
 			MyLocale.getMsg(1021,"Open description"),
 			MyLocale.getMsg(1010,"Goto"),
-			MyLocale.getMsg(1019,"Enter"),
+			MyLocale.getMsg(1019,"Set as centre"),
 			"-",
 			MyLocale.getMsg(1020,"Open online in browser"),
 			MyLocale.getMsg(1018,"Open offline in browser"),
@@ -32,7 +32,7 @@
 	private Menu mSmall = new Menu(new String[]{
 			MyLocale.getMsg(1021,"Open description"),
 			MyLocale.getMsg(1010,"Goto"),
-			MyLocale.getMsg(1019,"Enter"),
+			MyLocale.getMsg(1019,"Set as centre"),
 			"-",
 			MyLocale.getMsg(1020,"Open online in browser"),
 			MyLocale.getMsg(1018,"Open offline in browser")},
@@ -151,7 +151,7 @@
 			Vm.showWait(false);
 		}
 
-		if (selectedItem.toString().equals(MyLocale.getMsg(1019,"Enter"))){
+		if (selectedItem.toString().equals(MyLocale.getMsg(1019,"Set as centre"))){
 			CacheHolder thisCache = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
 			CWPoint cp=new CWPoint(thisCache.LatLon);
 			if (!cp.isValid()){

Modified: trunk/src/CacheWolf/navi/MapLoaderGui.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-16 21:35:44 UTC (rev 1261)
+++ trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-16 22:20:17 UTC (rev 1262)
@@ -185,7 +185,7 @@
 		if (forCachesChkBox.getState() || perCache) {
 			Area surArea = Global.getProfile().getSourroundingArea(onlySelected); // calculate map boundaries from cacheDB
 			if (surArea == null) {
-				(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1817, "No Caches are seleted"), MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1817, "No Caches are selected"), MessageBox.OKB)).execute();
 				Vm.showWait(false);
 				progressBox.close(0);
 				return;
@@ -282,7 +282,7 @@
 					overlapping = Convert.toInt(overlappingInput.getText());
 					if (!forCachesChkBox.getState()) {
 						if (radius <= 0) { 
-							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1827, "'radius' must be graeter than 0"), MessageBox.OKB)).execute();
+							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1827, "'radius' must be greater than 0"), MessageBox.OKB)).execute();
 							return;
 						}
 						if (overlapping < 0) { 



From mirabilos at mail.berlios.de  Mon Mar 17 00:02:30 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Mon, 17 Mar 2008 00:02:30 +0100
Subject: [Cachewolf-svn] r1263 - trunk/res_noewe/languages
Message-ID: <200803162302.m2GN2UZ6018859@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-17 00:02:30 +0100 (Mon, 17 Mar 2008)
New Revision: 1263

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
Log:
bring back the 7000+x which are dynamically generated in Version.java
10x pfeffer@ for spotting this


Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-16 22:20:17 UTC (rev 1262)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-16 23:02:30 UTC (rev 1263)
@@ -608,6 +608,14 @@
 		6124=Kassiopeia Gamma
 		6125=Deneb im Schwan
 		6126=Mimosa im Kreuz des S%fcdens
+		7000=Freigegeben
+		7001=Kandidat f%fcr Freigabe
+		7002=In Entwicklung, stabil
+		7003=In Entwicklung, neuste
+		7010=bereits aktuell(er)
+		7011=Update verf%fcgbar
+		7012=nicht verf%fcgbar
+		7013=Fehler
 		7020=Empfohlener Versionstyp
 		7021=Dieser Versiontyp
 		7022=Versionstyp

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-16 22:20:17 UTC (rev 1262)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-16 23:02:30 UTC (rev 1263)
@@ -607,6 +607,18 @@
 		6124=Cassiopeia Gamma
 		6125=Deneb in Cygnus
 		6126=Becrux in Southern Cross
+		7000=Release
+		7001=Release candidate
+		7002=in development, stable
+		7003=in development, newest
+		7010=bereits aktuell(er)
+		7011=Update available
+		7012=not available
+		7013=error
+		7020=recommended version type
+		7021=type of this version
+		7022=Type of version
+		7023=Error downloading current version information
 		7020=Recommended version type
 		7021=This version type
 		7022=Version type



From mirabilos at mail.berlios.de  Mon Mar 17 00:11:57 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Mon, 17 Mar 2008 00:11:57 +0100
Subject: [Cachewolf-svn] r1264 - in trunk: res_noewe/languages src/CacheWolf
	src/CacheWolf/navi src/exp
Message-ID: <200803162311.m2GNBvTX021052@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-17 00:11:55 +0100 (Mon, 17 Mar 2008)
New Revision: 1264

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/FilterScreen.java
   trunk/src/CacheWolf/ImagePanel.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/NewProfileForm.java
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/OCXMLImporterScreen.java
   trunk/src/CacheWolf/Parser.java
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/Rebuild.java
   trunk/src/CacheWolf/SpiderGC.java
   trunk/src/CacheWolf/TravelbugPickup.java
   trunk/src/CacheWolf/myTableControl.java
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/CacheWolf/navi/MapImporter.java
   trunk/src/CacheWolf/navi/MapInfoObject.java
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/CacheWolf/navi/MapLoaderGui.java
   trunk/src/CacheWolf/navi/MapsList.java
   trunk/src/CacheWolf/navi/MovingMap.java
   trunk/src/exp/MagellanExporter.java
Log:
revert all my changes from today, i.e. changesets
 1255,1256,1257,1258,1259,1260,1262,1263

pfeffer@ said that it's better to do this post-1.0,
and since 1.0 is ???almost done??? I agree; this can
then be re-applied later by executing
$ svn merge -c 1264 .


Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-16 23:11:55 UTC (rev 1264)
@@ -10,6 +10,7 @@
 		106=nach MS AutoRoute CSV
 		107=Export
 		108=Pr%e4ferenzen
+		109=Cacheliste laden
 		110=Speichern & Beenden
 		111=Beenden
 		112=Suchen
@@ -21,11 +22,12 @@
 		118=WolfLanguage
 		119=Suche nach:
 		120=Anwendung
-		121=Profile
-		122=nach Garmin
-		123=nach CacheMate
+		121=Profil
+		122=zu Garmin
+		123=zu CacheMate
 		124=nach OZI
 		125=nach Google Earth
+		126=nach TomTom OV2
 		127=Speichern
 		128=%fcber Template
 		129=Importiere GPX
@@ -33,18 +35,21 @@
 		131=Spider von geocaching.com
 		132=nach Magellan
 		139=Travelbugs verwalten
-		140=Verwalten+
-		141=Kopieren+
-		142=Verschieben+
+		140=Verwalten 
+		141=Kopieren 
+		142=Verschieben 
 		143=L%f6schen
-		144=Warnung+
-		145=Cachedaten ALLER ANGEZEIGTEN Caches werden gel%f6scht!  Weiter?+
-		146=Cachedaten ALLER ANGEZEIGTEN Caches werden kopiert!  Weiter?+
-		147=Cachedaten ALLER ANGEZEIGTEN Caches werden verschoben!  Weiter?+
-		148=Zielverzeichnis w%e4hlen+
+		144=Warnung 
+		145=Cachedaten ALLER ANGEZEIGTEN Caches werden gel%f6scht!  Weiter? 
+		146=Cachedaten ALLER ANGEZEIGTEN Caches werden kopiert!  Weiter? 
+		147=Cachedaten ALLER ANGEZEIGTEN Caches werden verschoben!  Weiter? 
+		148=Zielverzeichnis w%e4hlen 
 		149=Karten
 		150=Importieren
 		151=Kalibrieren
+		152=Karte import
+		153=Kartenimport erfolgreich
+		154=Fehler beim Kartenimport!
 		155=Legende
 		156=Nicht gen%fcgend freier Speicher, Karte zu gro%df
 		157=System
@@ -59,7 +64,10 @@
 		173=GPSBabel:
 		174=Kurznamen
 		175=Import
+		176=--frei geworden--
+		177=--frei geworden--
 		178=Versionspr%fcfung
+		179=Sie haben die%0aaktuelle Version.
 		180=Caches hierher
 		181=ziehen
 		182=Neue Liste
@@ -67,6 +75,7 @@
 		184=Speichern als
 		185=Speichern (ohne Nachfrage)
 		186=Addi Wegpunkte mitziehen
+		187=Nur diese Wegpunkte anzeigen
 		188=CACHETOUR: NEU
 		189=Liste anwenden
 		190=Nur diese Wegpunkte zeigen
@@ -78,10 +87,18 @@
 		197=Cachetour anzeigen/verbergen
 		198=Cachetour
 		199=Zu Cachetour hinzuf%fcgen	
+		200=Details
+		201=Beschreibung
+		202=Bilder
+		203=Hint & Logs
+		204=L%f6ser
+		205=Radar
+		206=Liste
+		207=Immer neu einloggen
 		208=Index neu erstellen
 		209=Wiederaufbau Index
 		210=Caches nicht in index.xml:+
-		211=%0aDavon hinzugef%fcgt:+
+		211=%0aDavon hinzugef%fcgt:+  
 		212=Alle .xml Dateien (und Bilder) l%f6schen, die nicht in index.xml sind
 		213=Verwaiste .xml Dateien l%f6schen
 		300=Type:
@@ -106,11 +123,11 @@
 		319=Nicht gefunden
 		320=Besitzer
 		321=Fehler
-		322=Kann Bild/Karte nicht finden
+		322=Kann Bild/Karte nicht laden
 		323=Fehler beim Schreiben der Datei
 		324= - neu versuchen?
 		325=Zuwenige Referenzpunkte, Karte nicht kalibriert
-		326=Kann Bild/Karte nicht laden
+		326=
 		327=Information
 		328=Gefunden am
 		329=Versteckt am
@@ -126,9 +143,11 @@
 		349=Blacklist-Status umschalten
 		350=Zeitstempel zu Notizen hinzuf%fcgen
 		351=Notizen hinzuf%fcgen/%e4ndern
-		591=Leer f%fcr Sprache des Betriebssystems%0aoder 2 Zeichen f%fcr andere Sprache, z.B. DE, EN, NL
+		400=Dekodieren
+		500=Umschalten
+		591=Leer f%fcr Sprache des Betriebssystems%0aoder 2 Zeichen f%fcr andere Sprache , z.B. DE, EN
 		592=Sprache (braucht Neustart)
-		593=Password ist hier optional.%0aNur eingeben wenn es in pref.xml%0agespeichert werden soll
+		593=Password ist hier optional.%0aNur eingeben wenn es in pref.xml%0agespeichert werden soll.
 		594=Passwt
 		595=Liste
 		596=Name
@@ -137,8 +156,10 @@
 		599=Auswahlbox
 		600=Pr%e4ferenzen
 		601=Dein Alias:
-		603=Verzeichnis f%fcr Profile:
+		602=Heimatkoordinaten:
+		603=Verzeichnis f%fcr Profile
 		604=Suchen
+		605=Tabellenspalten:
 		606=Schwierigkeit
 		607=Terrain
 		608=Koordinaten
@@ -153,6 +174,7 @@
 		617=Einf%fcgen
 		618=Kopieren
 		619=Parse
+		620=Speichern
 		621=Allgemein
 		622=Ansicht
 		623=Bilder:
@@ -162,8 +184,8 @@
 		627=Tabs oben
 		628=Status
 		629=Profil auto. laden
-		630=Hinweise/Logs: Logs pro Seite
-		631=PDA hat Schliessen Button
+		630=Hinweise/Logs:  Logs pro Seite
+		631=PDA hat Schliessen Button 
 		632=Mehr
 		633=Max. logs spidern
 		634=Proxy verwenden
@@ -175,19 +197,23 @@
 		701=Entfernung
 		702=Schwierigkeit
 		703=Gefunden
+		704=Nicht gefunden
+		705=in den
+		706=Gefunden
 		707=Besitzer
 		708=Abbrechen
 		709=Anwenden
 		710=Archiviert
 		711=Nicht suchbar
 		712=Route Datei w%e4hlen
+		713=Speicher Filter
 		714=Richtung & Entfernung
-		715=Zeige alle Caches mit Status:
+		715=Zeige alle Caches mit Status
 		716=Alle abw%e4hlen
 		717=Alle w%e4hlen
 		718=Cache Bewertungen
 		719=Cache Typen
-		720=Attribute
+		720=Status
 		721=Richtung
 		722=Bewertung
 		723=Typen
@@ -195,14 +221,14 @@
 		725=Hinweis: Filter sind additiv, aktiv = gr%fcn
 		726=Zus%e4tzliche Wegpunkte
 		727=Beh%e4lter
-		728=Status
+		728=Zus. WegPkt
 		729=Nicht archiviert
 		730=Suchbar
 		731=Noch nicht gefunden
 		732=Anderer Besitzer
 		733=Addi Wpt
 		734=Kein Hauptwegpunkt gefunden zu
-		735=Addi Waypoints m%fcssen das Format xxYYYYY haben, wobei xx beliebige Zeichen und YYYYY die Zeichen des Hauptcaches nach dem GC/OC sind
+		735=Addi Waypoints m%fcssen das Format xxYYYY haben, wobei xx beliebige Zeichen und YYYY die Zeichen des Hauptcaches nach dem GC sind
 		736=Zu viele Logs (Maximum in Pr%e4ferenzen einstellen)
 		737=Cache-Attribute
 		738=Attribute
@@ -210,15 +236,31 @@
 		740=Allen
 		741=Einem
 		742=Keinem
+		800=Erstelle Liste
+		801=suche...
+		802=Caches identifiziert. Suche weiter...
+		803=Fertig!
+		804=Cache Details sammeln
+		805=Hole Daten zu:
+		900=Liste
+		901=Loc
+		902=Umkreis
+		903=Abbruch
+		904=Multi
+		905=Cachedaten laden
+		906=Cacheliste:
+		907=Max Entfernung:
+		908=Wegpunktdatei w%e4hlen:
 		909=Datei(en) w%e4hlen
 		910=Vorlagendatei w%e4hlen
 		950=Transfer
 		951=Zu GPS %fcbertragen
-		952=Umwandeln...
+		952=Umwandeln ...
 		999=Nicht gesetzt
 		1000=D
 		1001=T
 		1002=Wegpunkt
+		1003=Name
 		1004=Koordinaten
 		1005=Besitzer
 		1006=Versteckt am
@@ -238,9 +280,13 @@
 		1020=Im Browser online %f6ffnen
 		1021=Beschreibung %f6ffnen
 		1022=Alle mit H%e4kchen markierten Caches l%f6schen?
-		1024=Entfernungen in der Listenansicht%0avom aktuellen Standpunkt aus%0aneu berechnet
+		1023=Diese Funktion steht gegenw%e4rtig nur f%fcr Geocaching.com zur Verf%fcgung
+		1024=Entfernungen in der Listenansicht~vom aktuellen Standpunkt aus~neu berechnet
+		1025=Kann Zentrum nicht setzen (GPS-Position unzul%e4ssig)
 		1026=#Rec
 		1027=OC-Idx
+		1100=Profile
+		1105=Suchen
 		1106=Profil w%e4hlen oder Neu
 		1107=Neu
 		1108=Profil w%e4hlen
@@ -248,12 +294,13 @@
 		1110=Zentrum
 		1111=Neues Profil anlegen
 		1112=Profilname
-		1113=Kann Verzeichnis nicht erstellen (darf kein vom Betriebssystem verbotenes Zeichen be%efnhalten)
+		1113=Kann Verzeichnis nicht erstellen (Es darf kein vom Betriebssystem verbotenen Zeichen beinhalten)
 		1114=Verzeichnis existiert bereits
 		1115=Zentrum
 		1116=Aktuell
 		1117=kopieren
 		1118=Profil
+		1119=Alte Profile
 		1120=Schwier
 		1121=Gel%e4nde
 		1200=Liste
@@ -263,7 +310,8 @@
 		1204=Hint & Logs
 		1205=L%f6ser
 		1206=Rechner
-		1207=%c4nderungen im Profil speichern?
+		1207=%c4nderungen im Profil Speichern?
+		1300=Letzte Einstellung
 		1301=Profil ausw%e4hlen:
 		1400=Zone
 		1401=Nord
@@ -287,20 +335,22 @@
 		1508=Breite
 		1509=L%e4nge
 		1510=Keine Daten vom GPS%0aVerbindung zum seriellen Port geschlossen
-		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA 0183-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a+
+		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a 
 		1512=Wegpunkt
 		1513=Kann Karte nicht ohne g%fcltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew%e4hlten Cache eingeben oder GPS starten
 		1600=Opencaching.de Download
 		1601=max. Abstand:
 		1602=Bilder downloaden
+		1603=Karten downloaden
 		1604=Abbrechen
 		1605=OK
 		1606=Alle neu downloaden
 		1607=Update von opencaching erfolgreich
 		1608=Daten von opencaching downloaden...
-		1609=Importiere Cache:+
-		1611=Importiere Cachebeschreibung:+
-		1612=Importiere Log:+
+		1609=Importiere Cache: 
+		1610=download der fehlenden Karte
+		1611=Importiere Cachebeschreibung: 
+		1612=Importiere Log: 
 		1613=Importiere Bild:
 		1614=Fehler beim Entpacken der Update-Datei
 		1615=Fehler beim Interpretieren der Update-Datei, Status:
@@ -311,21 +361,21 @@
 		1620=download eingebundener Bilder:+
 		1621=Fehler beim Interpretieren%0a der Update-Datei,%0aDies ist vermutlich ein Fehler bei Opencaching.de%0aSp%e4ter erneut versuchen%0a Status:
 		1622=Gefundene Caches nicht laden
-		1700=Fehler in Zeile:+
-		1701=Spalte:+
-		1702=Variable nicht definiert:+
-		1703=Keine erlaubte Zahl:+
+		1700=Fehler in Zeile: 
+		1701=Spalte: 
+		1702=Variable nicht definiert: 
+		1703=Keine erlaubte Zahl: 
 		1704=Unerwartetes Ende des Pogrammes
 		1705=Fehlendes ENDIF
-		1706=Erwartet:+
-		1707=Gefunden:+
-		1708=Funktionsname nicht eindeutig:+
-		1709=Unbekannte Funktion:+
+		1706=Erwartet: 
+		1707=Gefunden: 
+		1708=Funktionsname nicht eindeutig: 
+		1709=Unbekannte Funktion: 
 		1710=Kann leere Zeichenkette nicht z%e4hlen
 		1711=Ersatzzeichenketten m%fcssen gleiche L%e4nge haben
-		1712=Unzul%e4ssige Koordinate:+
+		1712=Unzul%e4ssige Koordinate: 
 		1713=Falsches Koordinatenformat. Erlaubt sind CW/DD/DMM/DMS/UTM
-		1714=Goto: Wegpunkt existiert nicht:+
+		1714=Goto: Wegpunkt existiert nicht: 
 		1715=instr: Startposition nicht in Zeichenkette
 		1716=mid: Ganzzahliger Parameter erwartet
 		1717=mid: Parameter ausserhalb des erlaubten Bereichs
@@ -333,11 +383,11 @@
 		1719=Winkel muss im Bereich [0;360] sein
 		1720=Kann die Wurzel einer negativen Zahl nicht berechnen
 		1723=Vergleichsoperator erwartet
-		1724=Variable hat keinen Wert:+
-		1725=Unerwartete(s) Zeichen:+
-		1726=Funktion hat zu viele Argumente:+
+		1724=Variable hat keinen Wert: 
+		1725=Unerwartete(s) Zeichen: 
+		1726=Funktion hat zu viele Argumente 
 		1727=Funktion hat falsche Anzahl von Argumenten
-		1728=Funktion noch nicht implementiert:+
+		1728=Funktion noch nicht implementiert: 
 		1729=Division durch 0
 		1730=Fehlendes " am Ende der Zeichenkette
 		1731=Nicht erlaubtes Formatierungzeichen
@@ -350,6 +400,7 @@
 		1738=Speichern als	
 		1739=Winkel muss im Bereich [0;2*PI] sein
 		1800=Georeferenzierte Karten herunterladen
+		1801=Kacheln herunterladen
 		1802=Download georeferenzierter Karten%0a W%e4hle Onlinedienst:
 		1803=f%fcr
 		1804=alle
@@ -359,33 +410,124 @@
 		1808=%dcberlappung in Pixel:
 		1809=Lade %dcbersichtskarte
 		1810=In einem Rechteck von:
-		1811=um das Zentrum:+
+		1811=um das Zentrum: 
 		1812=Kacheln
 		1813=Lade Karte f%fcr
 		1814=Pro Cache		
 		1815=Lade georeferenzierte Karten
 		1816=Lade georeferenzierte Karten%0a %0a %0a %0a %0a
 		1817=Keine Caches selektiert
-		1818=getSortedMapServiceIndex: Index+
+		1818=getSortedMapServiceIndex: Index 
 		1819=nicht gefunden
 		1820=Lade Karte '
 		1821=%0a f%fcr Cache:%0a
-		1822=Cache:+
-		1823=Ignoriere Fehler:+
+		1822=Cache: 
+		1823=Ignoriere Fehler: 
 		1824=Lade %dcberblickskarte
-		1825=%dcberblickskarte: Ignoriere Fehler:+
+		1825=%dcberblickskarte: Ignoriere Fehler: 
 		1826=Laden und Kalibrieren der Karten beendet
 		1827='Radius' muss gr%f6%dfer als 0 sein
 		1828='%dcberlappung' muss gr%f6%dfer oder gleich 0 sein
 		1829=Bitte 'Zentrum' eingeben, um das die Karten geladen werden sollen
-		1830=Der gew%e4hlte Kartendienst bietet Karten in einem Ma%dfstab von+
-		1831= bis+
+		1830=Der gew%e4hlte Kartendienst bietet Karten in einem Ma%dfstab von 
+		1831= bis 
 		1832=%0a Bitte 'Ca. m pro Pixel' entsprechend anpassen
+		2000=GPX Export
+		2001=von
 		2100=Magellan Exporter
 		2101=Fehler beim laden der Datei magellan.cfg
 		2102=Zieldatei w%e4hlen
 		2103=Fehler beim lesen der Datei magellan.cfg
 		2104=Ausgabeverzeichnis f%fcr die .gs Dateien ausw%e4hlen
+		2500=Fehler beim Laden oder unkekanntes Attribut
+		2501=Nicht immer zug%e4nglich
+		2502=Immer zug%e4nglich (24/7)
+		2503=Keine Fahrr%e4der
+		2504=Fahrr%e4der erlaubt
+		2505=*boat-no
+		2506=*boat-yes
+		2507=*cactus-no
+		2508=*cactus-yes
+		2509=Keine Lagerfeuer
+		2510=Lagerfeuer erlaubt
+		2511=Kein Camping
+		2512=Camping erlaubt
+		2513=*cliff-no
+		2514=Gefahr durch Steinfall
+		2515=Kein schwieriges Klettern
+		2516=Schwieriges Klettern
+		2517=*compass-no
+		2518=*compass-yes
+		2519=*cow-no
+		2520=Achtung Weidevieh
+		2521=*danger-no
+		2522=Gef%e4hrliches Gebiet
+		2523=Keine Hunde
+		2524=Hunde erlaubt
+		2525=*fee-no
+		2526=Eintritts-/Parkgeb%fchr
+		2527=*hiking-no
+		2528=Anstrengende Wanderung
+		2529=Keine Pferde
+		2530=Pferde erlaubt
+		2531=*hunting-no
+		2532=Jagdgebiet
+		2533=Keine Gel%e4ndefahrzeuge
+		2534=Gel%e4ndefahrzeuge erlaubt
+		2535=Keine Kinder
+		2536=Kinderfreundlich
+		2537=*mine-no
+		2538=*mine-yes
+		2539=Keine Motorr%e4der
+		2540=Motorr%e4der erlaubt
+		2541=Nicht bei Nacht empfohlen
+		2542=Auch bei Nacht m%f6glich
+		2543=Dauert l%e4nger als eine Stunde
+		2544=In weniger als 1 Stunde m%f6glich
+		2545=*parking-no
+		2546=Parkplatz verf%fcgbar
+		2547=*phone-no
+		2548=Telefon verf%fcgbar
+		2549=*picnic-no
+		2550=Picnictische verf%fcgbar
+		2551=*poisonoak-no
+		2552=*poisonoak-yes
+		2553=*public-no
+		2554=%d6ffentliches Verkehrsmittel verf%fcgbar
+		2555=Keine Quadbikes
+		2556=Quadbikes erlaubt
+		2557=*rappelling-no
+		2558=Kletterausr%fcstung notwendig
+		2559=*restrooms-no
+		2560=Toiletten verf%fcgbar
+		2561=*scenic-no
+		2562=Sch%f6ner Ausblick
+		2563=*scuba-no
+		2564=*scuba-yes
+		2565=*snakes-no
+		2566=*snakes-yes
+		2567=Keine Snowmobile
+		2568=*snowmobiles-yes
+		2569=Kein heimliches Agieren notwendig
+		2570=Heimliches Agieren notwendig
+		2571=F%fcr Kinderwagen nicht geeignet
+		2572=F%fcr Kinderwagen geeignet
+		2573=*swimming-no
+		2574=*swimming-yes
+		2575=*thorn-no
+		2576=Dornen!
+		2577=*ticks-no
+		2578=Zecken!
+		2579=*wading-no
+		2580=Waten m%f6glich
+		2581=*water-no
+		2582=Trinkwasser verf%fcgbar
+		2583=F%fcr Rollst%fchle nicht geeignet
+		2584=Geeignet f%fc Rollst%fchle
+		2585=Im Winter nicht verf%fcgbar
+		2586=Auch im Winter verf%fcgbar
+		2587=Keine Cachewartung notwendig
+		2588=Cache-wartung notwendig
 		3000=Schlie%dfen
 		4000=Geladene Caches:
 		4100=Verzeichnis w%e4hlen:
@@ -396,6 +538,7 @@
 		4105=Laden
 		4106=Karte kalibrieren:
 		4107=Fertig!
+		4108=Koordinaten:
 		4109=Lade Karten...
 		4110=Lade
 		4111=Koordinaten m%fcssen in dem Format N XX XX,XXX E XXX XX,XXX eingegeben werden
@@ -416,7 +559,6 @@
 		4206=Entf:+
 		4207=Fehler
 		4208=Programmfehler: %0a nichterlaubter mapChangeModus:+
-		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
 		4210=Die mitwandernde Karte kann nicht ohne Karte gestartet werden. %0a Bitte w%e4hlen Sie eine %0a (evtl. eine leere)
 		4211=Keine+
 		4212=%fcbersichtlichere
@@ -431,7 +573,9 @@
 		4221=Nicht gen%fcgend Ressourcen verf%fcgbar:+
 		4222=Fehler: (RAM) Speicher voll
 		4230=Setze Ziel hier$z
+		4231=Setze Ziel hier
 		4232=Hier neuen Wegpunkt erzeugen$n
+		4233=Hier neuen Wegpunkt erzeugen
 		4234=Karte manuell ausw%e4hlen$s
 		4235=Karte manuell ausw%e4hlen
 		4236=Kartenverzeichnis wechseln$c
@@ -472,11 +616,11 @@
 		4278=Kann folgende .wfl-Datei nicht laden:+%0a
 		4300=Leer 1 Punkt =+
 		4301=+meter
+		4302=Breite/L%e4nge au%dferhalb des zul%e4ssigen Bereiches beim Lesen von+
 		4303=Zu wenig Zeilen in Datei+
 		4304=Zu wenig Punkte, um die Karte zu kalibrieren
 		4305=Ung%fcltige Transformationsparameter%0a (Matrix kann nicht invertiert werden)%0a in der Datei %0a
 		4306=Karte ist nicht georeferenziert
-		4307=meters
 		4400=Warnung
 		4401=Ignoriere Fehler: Konnte Daten nicht an Host weiterleiten:%0a
 		4402=F%fcr einen neuen Versuch, stoppe und starte GPS neu
@@ -496,17 +640,17 @@
 		4704=%0aUmbenennen der Datei:
 		4705=Fehler beim Umbenennen:%0a
 		4706=%0anach:%0an
-		4707=Fehler beim Lesen von:+
+		4707=Fehler beim Lesen von: 
 		4800=Lade Onlinekartendienste
 		4801=Ignoriere Fehler beim %0a Lesen der Web Map Service Definitionsdatei %0a
 		4802=Lade kalibriertes (georeferenziertes) %0a Kartenbild %0a '
-		4803=' %0a Lade Kachel %0a Reihe+
-		4804= Spalte+
-		4805=Kachel+
-		4806=: Ignoriere Fehler:+
+		4803=' %0a Lade Kachel %0a Reihe 
+		4804= Spalte 
+		4805=Kachel 
+		4806=: Ignoriere Fehler: 
 		4807=loadTo: Karte laden fehlgeschlagen: Kein http-redirect erhalten
-		4808=downloadImage: content-type:+
-		4809= ist kein Bild, Anfang des Inhalts:+
+		4808=downloadImage: content-type: 
+		4809= ist kein Bild, Anfang des Inhalts: 
 		4810=Fehler beim Laden oder Speichern der Karte:%0a
 		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a Diese Methode muss %fcberladen werden um sie zu nutzen
 		4812=WebMapService: Eigenschaft >Name:< fehlt in Datei:%0a
@@ -519,16 +663,16 @@
 		4819=)%fcbereinstimmen. Benutzte normale Leerschritte als Trenner
 		4820=WebMapService: Eigenschaft >CoordinateReferenceSystemUrlPart:< fehlerhaft in Datei:%0a
 		4821=WebMapService: Eigenschaft >ImageFileExtension:< fehlt in Datei:%0a
-		4822=Bereich:+
-		4823= wird vom Dienst:+
-		4824=nicht abgedeckt, Dienstbereich:+
-		4825=Ma%dfstab+
-		4826= wird von diesem Kartendienst nicht unterst%fctzt, unterst%fctzter Ma%dfstabsbereich:+
+		4822=Bereich: 
+		4823= wird vom Dienst: 
+		4824=nicht abgedeckt, Dienstbereich: 
+		4825=Ma%dfstab 
+		4826= wird von diesem Kartendienst nicht unterst%fctzt, unterst%fctzter Ma%dfstabsbereich: 
 		4827= (gemessen vertikal in Metern pro Pixel)
-		4828=Koordinatensystem wird von Cachewolf nicht unterst%fctzt:+
-		4829=getUrlForBoundingBox: Punkt:+
+		4828=Koordinatensystem wird von Cachewolf nicht unterst%fctzt: 
+		4829=getUrlForBoundingBox: Punkt: 
 		4830=Kein passender Gau%df-Kr%fcger-Streifen in der EPSG-Codeliste in der .wms-Datei
-		4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst%fctzt:+
+		4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst%fctzt: 
 		4900=+ist keine deutsche Gau%df-Kr%fcger-Koordinate
 		4920=EPSG-Code+
 		4921=+nicht unterst%fctzt
@@ -537,6 +681,7 @@
 		4924=ToWgs84: EPSG code+
 		5000=Lade Cacheliste
 		5497=Fehler: Ein Tag in spider.def fehlt
+		5498=Login nicht m%f6glich. Fehler beim Laden der Seite nach Login.
 		5499=Fehler beim Laden der Login Seite
 		5500=Fehler
 		5501=Login nicht m%f6glich. Falscher Name oder Passwort?
@@ -552,8 +697,7 @@
 		5511=Gefunden+
 		5512=+Caches
 		5513=Laden von:+
-		5514=%0aTravelbug:++
-		5515=Login failed. Error loading page after login.
+		5514=%0aTravelbug:+ 
 		6000=Guid
 		6001=Name
 		6002=Track#
@@ -563,7 +707,7 @@
 		6006=Von Datum
 		6007=Von Log
 		6008=Nach Prof
-		6009=Nach Wegpt
+	  6009=Nach Wegpt
 		6010=Nach Datum
 		6011=Nach Log
 		6015=*** ANDERER ***

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-16 23:11:55 UTC (rev 1264)
@@ -10,56 +10,64 @@
 		106=to MS AutoRoute CSV
 		107=Export
 		108=Preferences
+		109=Load caches
 		110=Save & Exit
 		111=Exit
 		112=Search
-		113=Clear search
-		114=Create
-		115=Invert
-		116=Clear
+		113=Clear Search
+		114=Create filter
+		115=Invert filter
+		116=Clear filter
 		117=About
 		118=WolfLanguage
 		119=Search for:
 		120=Application
-		121=Profiles
-		122=to GPS
-		123=to Cachemate
+		121=Profile
+		122=to Garmin
+		123=to CacheMate
 		124=to OZI
 		125=to Google Earth
+		126=to TomTom OV2
 		127=Save
 		128=via Template
 		129=Import GPX
 		130=Download from opencaching.de
 		131=Spider from geocaching.com
-		132=to Magellan
-		139=Manage travelbugs
-		140=Organise
-		141=Copy
-		142=Move
-		143=Delete
-		144=Warning
-		145=Cachedata of ALL VISIBLE caches will be deleted! Continue?
-		146=Cachedata of ALL VISIBLE caches will be copied! Continue?
-		147=Cachedata of ALL VISIBLE caches will be moved! Continue?
-		148=Select Target directory
+		132=To Magellan
+		139=Manage Travelbugs
+		140=Organise            
+		141=Copy 
+		142=Move 
+		143=Delete 
+		144=Warning 
+		145=Cachedata of ALL SHOWN caches will be deleted! Continue? 
+		146=Cachedata of ALL SHOWN caches will be copied! Continue? 
+		147=Cachedata of ALL SHOWN caches will be moved! Continue? 
+		148=Select Target directory 
 		149=Maps
 		150=Import
 		151=Calibrate
+		152=Map import
+		153=Map import successful
+		154=Error when importing map!
 		155=Legend
-		156=Out of memory error, map too big
+		156=Out of memory error, map to big
 		157=System
 		158=Version Check
 		159=Filter
-		160=Filter selected
+		160=Filter out selected
 		161=Show Blacklist
 		162=Download calibrated
 		170=Select base directory for cache data
 		171=Profile does not exist:+
-		172=Error: cannot create maps directory: %0a
+		172=Error: cannot create maps directory:%0a
 		173=GPSBabel:
 		174=Short Names
 		175=Import
-		178=Version Checking
+		176=-- not used any more--
+		177=-- not used any more--
+		178=Version Check
+		179=You are at%0athe current version.
 		180=Drag caches
 		181=here
 		182=New list
@@ -67,21 +75,30 @@
 		184=Save as
 		185=Save (without confirmation)
 		186=Also drag Addi Wpts
+		187=Show only these waypoints
 		188=CACHETOUR: NEW
-		189=Apply List
+		189=Apply list
 		190=Show only these waypoints
-		191=Select File
+		191=Select file
 		192=Save changes
 		193=add Addis
-		195=Current centre
+		195=Current Centre
 		196=Total # of caches (GC&OC)%0aTotal # visible%0aTotal # found
-		197=Show/Hide cachetour
+		197=Show/Hide cachetour	
 		198=Cachetour
 		199=Add to cachetour
-		208=Rebuild Index
-		209=Rebuilding Index
+		200=Details
+		201=Description
+		202=Images
+		203=Hint & Logs
+		204=Solver
+		205=Radar
+		206=List
+		207=Always login to GC
+		208=Rebuild index
+		209=Rebuilding index
 		210=Caches not in index.xml:+
-		211=%0aAdded these:+
+		211=%0aThereof added:+  
 		212=Delete all .xml files not in index.xml and associated pictures
 		213=Deleting orphans
 		300=Type:
@@ -93,10 +110,10 @@
 		306=Owner:
 		307=Status:
 		308=Notes:
-		309=Centre
+		309=Set as centre
 		310=Delete
-		311=Create Waypoint
-		312=Error
+		311=New Waypoint
+		312=Save
 		313=Flag 1
 		314=Flag 2
 		315=Flag 3
@@ -105,54 +122,60 @@
 		318=Found
 		319=Not Found
 		320=Owner
+		320=Besitzer
 		321=Error
-		322=Cannot find image/map
-		323=Error writing file+
+		322=Couldn't find image/map
+		323=Fehler beim Schreiben der Datei
 		324= - retry?
-		325=Map not calibrated
-		326=Cannot load image/map
+		325=Not enough reference points, map not calibrated
+		326=No calibrated map available. %0a Please select a scale to display the track and caches.
 		327=Information
 		328=Date found
-		329=Hidden date
+		329=Hidden on
 		340=Cache Images:
 		341=User Images:
 		342=Deleted
 		343=Not enough free memory to load cache image
 		344=Delete image
-		345=Goto these coordinates
+		345=Go to these coordinates
 		346=Show travelbugs
 		347=Show map
 		348=Add user pictures
 		349=Toggle Blacklist status
 		350=Add timestamp to notes
 		351=Add/Edit notes
-		591=Select "auto" for system language or select your preferred language, e.g. DE, EN, NL
+		400=Dekode
+		500=Switch
+		591=Leave empty for default language or%0aadd 2 character language, e.g. DE, EN
 		592=Language (needs restart)
 		593=Password is optional here.%0aEnter only if you want to store it in pref.xml
-		594=Pwd
+		594=Passwd
 		595=List
-		596=name
-		597=waypoint
-		598=type
-		599=checkbox
+		596=Name
+		597=Waypoint
+		598=Type
+		599=Checkbox
 		600=Preferences
-		601=Your Alias:
-		603=Data Directory:
-		604=Browse
+		601=Your alias:
+		602=Home coordinates:
+		603=Profile directory
+		604=Search
+		605=Table columns:
 		606=Difficulty
 		607=Terrain
-		608=Location
+		608=Coordinates
 		609=Owner
-		610=Hidden
+		610=Hiddon on
 		611=Status
 		612=Distance
-		613=Bearing
+		613=Heading
 		614=Cancel
 		615=Apply
 		616=Select directory
 		617=Paste
 		618=Copy
 		619=Parse
+		620=Save
 		621=General
 		622=Screen
 		623=Images:
@@ -162,85 +185,109 @@
 		627=Tabs top
 		628=Status
 		629=Autoload last profile
-		630=HintLogPanel:  Logs per page+
+		630=HintLogPanel:  Logs per page 
 		631=PDA has close Button
 		632=More
 		633=Max. logs to spider
 		634=use Proxy
 		635=Size
-		636=OC Recommends
+		636=OC Recs
 		637=OC Index
-		638=Show pictures in description
-		700=Set Filter
-		701=Distance:+
-		702=Difficulty:+
+		638=Show pictures in description		
+		700=Set filter
+		701=Distance
+		702=Difficulty
 		703=Found
-		707=Owned
+		704=Not found
+		705=in last
+		706=Found
+		707=Owner
 		708=Cancel
-		709=Apply
+		709=Apply filter
 		710=Archived
 		711=Not available
 		712=Select route file
-		714=Bearings & Distance
+		713=Save filter
+		714=Bearing & Distance
 		715=Show all caches with status:
 		716=Deselect all
 		717=Select all
 		718=Cache ratings
 		719=Cache types
-		720=Attributes
-		721=Bearing
-		722=Ratings
+		720=Status
+		721=Direction
+		722=Rating
 		723=Types
 		724=Container
 		725=Note: Filters are additive, active filter=green
 		726=Additional waypoints
 		727=Cache container
-		728=Status
+		728=Add. Waypt
 		729=Not archived
-		730=Searchable
+		730=Available
 		731=Not yet found
 		732=Other owner
-		733=Add. Wpt
-		734=No main cache found for addi waypoint+
-		735=Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC/OC
-		736=Too many logs
-		737=Attributes
+		733=Addi Wpt
+		734=No main waypoint found for
+		735=Addi Waypoints must have the format xxYYYY, where xx are any 2 chars and YYYY are the main cache's chars after the GC
+		736=Too many logs (Limit can be adjusted in preferences)
+		737=Cache-attributes
 		738=Attributes
 		739=Filter on
 		740=all
 		741=one
 		742=none
+		800=Creating list
+		801=searching...
+		802=Caches identified. searching...
+		803=Done!
+		804=Collecting cache details
+		805=Collecting data for:
+		900=List
+		901=Loc
+		902=Nearest
+		903=Cancel
+		904=Multi
+		905=Load Caches
+		906=List of Caches:
+		907=Max distance:
+		908=Select waypoint file:
 		909=Select file(s)
-		910=Select Template file
+		910=Select template file
 		950=Transfer
 		951=Sending to GPS
 		952=Converting...
-		999=not set
+		999=Not set
 		1000=D
 		1001=T
 		1002=Waypoint
+		1003=Name
 		1004=Location
 		1005=Owner
 		1006=Hidden
 		1007=Status
 		1008=Dist
 		1009=Bear
-		1010=Goto
-		1011=Filter out non selected
+		1010=Goto this one
+		1011=Filter out non-selected
 		1012=Delete selected
 		1013=With selection
 		1014=Update cache data
 		1015=Select all
-		1016=De-select all
+		1016=Deselect all
 		1017=S
-		1018=Open offline in browser
-		1019=Set as centre
-		1020=Open online in browser
-		1021=Open description
+		1018=Open offline in Browser
+		1019=Set this as centre
+		1020=Open online in Browser
+		1021=Open cache description
 		1022=Delete all caches that have a tick?
-		1024=Distances in list view %0a are recalculated now...
+		1023=This function is currently only available for geocaching.com
+		1024=Distances in list view recalculated~from current position
+		1025=Cannot set centre (Invalid GPS position)
 		1026=#Rec
-		1027=OC-IDX
+		1027=OC-Idx
+		1100=Profiles
+		1105=Browse
 		1106=Choose profile or New
 		1107=New
 		1108=Choose profile
@@ -248,22 +295,24 @@
 		1110=Centre
 		1111=Create new profile:
 		1112=New profile name
-		1113=Cannot create directory
-		1114=Directory already exists
+		1113=Cannot create directory (must not contain caracters forbidden by operating system)
+		1114=Directory exists already.
 		1115=Centre
 		1116=Current
 		1117=copy
 		1118=Profile
+		1119=Old Profiles
 		1120=Diff
 		1121=Terr
 		1200=List
 		1201=Details
 		1202=Description
 		1203=Images
-		1204=Hints & Logs
+		1204=Hint & Logs
 		1205=Solver
 		1206=Calc
 		1207=Your profile has unsaved changes. Do you want to save?
+		1300=Last Setting
 		1301=Select Profile:
 		1400=Zone
 		1401=Northing
@@ -271,7 +320,7 @@
 		1403=Bearing
 		1404=Distance
 		1405=To load coordinates from GC, enter GCxxxxx below
-		1406=Enter coordinates in any format or GCxxxxx
+		1406=Enter coordinates in any format or GCxxxx
 		1407=steps
 		1408=feet
 		1409=yards
@@ -279,7 +328,7 @@
 		1500=DST:
 		1501=Current
 		1502=deg
-		1503=North Centered
+		1503=North centered
 		1504=Start
 		1505=Stop
 		1506=Map
@@ -287,45 +336,46 @@
 		1508=latitude
 		1509=longditue
 		1510=No data from GPS%0aConnection to serial port closed
-		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong port,%0a wrong baudrate,%0a not NMEA 0183 protocol%0aConnection to serial port closed%0aLast string tried to parse:%0a
+		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:%0a 
 		1512=Waypoint
-		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination, as center, in selected cache or start GPS
-		1600=Opencaching.de Download
+		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination as center or in selected cache, or start GPS
+		1600=Opencahing.de Download
 		1601=Distance:
 		1602=Download Images
+		1603=Download Maps
 		1604=Cancel
 		1605=OK
-		1606=Re-download all
+		1606=redownload all
 		1607=Update from opencaching successful
-		1608=downloading data%0a from opencaching.de...
-		1609=Importing Cache:
-		1611=Importing cache description:
-		1612=Importing cache log:
-		1613=Pictures:
+		1608=Downloading data from opencaching...
+		1609=Importing Cache: 
+		1610=download missing map
+		1611=Importing cache description: 
+		1612=Importing Log: 
+		1613=Importing picture:
 		1614=Error while unzipping udpate file
 		1615=Error parsing update file, state:
 		1616=Error: could not download udpate file from opencaching.de
-		1617=Ignoring error in HTML cache description: "<img" without "src=" in cache+
-		1618=Ignoring error in cache:+
+		1617=Ignoring error in html-Cache-Description: "<img" without "src=" in cache+
+		1618=Ignoring error in Cache:+
 		1619=: could not download image from URL:+
 		1620=downloading embedded images:+
-		1621=Error parsing update file%0a this is likely a bug in opencaching.de%0aplease try again later%0a, state:
-		1622=Exclude found caches
-		1700=Error on line:+
-		1701= position:+
-		1702=Variable not defined:+
-		1703=Not a valid number:+
+		1621=Error while interpreting data%0a from Opencaching.de,%0aThis is most probaly a bug at Opencaching.de%0aRetry later%0a Status:
+		1700=Error on line: 
+		1701= position: 
+		1702=Variable not defined: 
+		1703=Not a valid number: 
 		1704=Unexpected end of source
 		1705=Missing ENDIF
-		1706=Expected+
-		1707=Found:+
-		1708=Ambiguous function name:+
-		1709=Unknown function:+
+		1706=Expected 
+		1707=Found: 
+		1708=Ambiguous function name: 
+		1709=Unknown function: 
 		1710=Cannot count empty string
 		1711=Replacement characters strings must be of equal length
-		1712=Invalid coordinate:+
+		1712=Invalid coordinate: 
 		1713=Invalid coordinate format. Allowed are CW/DD/DMM/DMS/UTM
-		1714=Goto: Waypoint does not exist:+
+		1714=Goto: Waypoint does not exist: 
 		1715=instr: Start position not in string
 		1716=mid: Integer argument expected
 		1717=mid: Argument out of range
@@ -333,116 +383,198 @@
 		1719=Projection degrees must be in interval [0;360]
 		1720=Cannot calculate square root of a negative number
 		1723=Comparison operator expected
-		1724=Variable not set:+
-		1725=Unexpected character(s):+
-		1726=Too many arguments for function+
+		1724=Variable not set: 
+		1725=Unexpected character(s): 
+		1726=Too many arguments for function 
 		1727=Invalid number of arguments
-		1728=Function not yet implemented:+
+		1728=Function not yet implemented: 
 		1729=Division by 0
 		1730=Unterminated string
 		1731=Invalid format character
 		1732=Invalid character
-		1733=Input command
+		1733=Input command	
 		1734=Clear output
 		1735=Solve!
 		1736=Load
 		1737=Save
-		1738=SaveAs
+		1738=SaveAs	
 		1739=Projection degrees must be in interval [0;2*PI]
 		1800=Download georeferenced maps
+		1801=Download tiles
 		1802=Download georeferenced maps%0a Select online service:
 		1803=for
 		1804=all
 		1805=selected
 		1806=caches
-		1807=Approx. m per pixel
+		1807=Approx. m per pixel:
 		1808=overlapping in pixel:
 		1809=download an overview map
 		1810=Within a rectangle of:
-		1811=around the centre:
+		1811=around the centre: 
 		1812=Tiles
 		1813=Download one map for
-		1814=per cache
+		1814=Per cache
 		1815=Downloading georeferenced maps
 		1816=Downloading georeferenced maps%0a %0a %0a %0a %0a
-		1817=No Caches are selected
-		1818=getSortedMapServiceIndex: index
+		1817=No caches are seleted
+		1818=getSortedMapServiceIndex: index 
 		1819=not found
 		1820=Downloading map '
 		1821=%0a for cache:%0a
-		1822=Cache:
-		1823=Ignoring error:
+		1822=Cache: 
+		1823=Ignoring error: 
 		1824=downloading overview map
-		1825=Overview map: Ignoring error:
+		1825=Overview map: Ignoring error: 
 		1826=Finished downloading and calibration of maps
-		1827='radius' must be greater than 0
-		1828='overlapping' must be greater or equal 0
+		1827='radius' must be graeter than 0
+		1828='overlapping' must be greater or equal 0 
 		1829=Please enter the 'centre' around which the maps shall be downloaded
-		1830=The selected online map service provides map in the scale from
-		1831= to
+		1830=The selected online map service provides map in the scale from 
+		1831= to 
 		1832=%0a please adjust 'Approx. meter pro pixel' accordingly
-		2100=Magellan Exporter
-		2101=Failure at loading magellan.cfg%0a
-		2102=Select target file:
-		2103=Failure at reading magellan.cfg%0a
-		2104=Choose directory for exporting .gs files
+		2000=GPX Export
+		2001=of
+		2500=Error loading attributes or unknown attribute
+		2501=not 24-7
+		2502=available 24-7
+		2503=no bikes
+		2504=bikes allowed
+		2505=*boat-no
+		2506=*boat-yes
+		2507=*cactus-no
+		2508=*cactus-yes
+		2509=no campfires
+		2510=campfires allowed
+		2511=No camping
+		2512=Camping allowed
+		2513=*cliff-no
+		2514=falling rocks nearby
+		2515=no difficult climbing
+		2516=difficult climbing
+		2517=*compass-no
+		2518=*compass-yes
+		2519=*cow-no
+		2520=watch for livestock
+		2521=*danger-no
+		2522=dangerous area
+		2523=no dogs
+		2524=dogs allowed
+		2525=*fee-no
+		2526=access/parking fees
+		2527=*hiking-no
+		2528=significant hike
+		2529=no horses
+		2530=horses allowed
+		2531=*hunting-no
+		2532=hunting area
+		2533=no off-road vehicles
+		2534=off-road vehicles allowed
+		2535=no kids
+		2536=kid friendly
+		2537=*mine-no
+		2538=*mine-yes
+		2539=no motorcycles
+		2540=motorcycles allowed
+		2541=not recommended at night
+		2542=recommended at night
+		2543=takes more than one hour
+		2544=takes less than one hour
+		2545=*parking-no
+		2546=parking available
+		2547=*phone-no
+		2548=telephone nearby
+		2549=*picnic-no
+		2550=picnic tables available
+		2551=*poisonoak-no
+		2552=*poisonoak-yes
+		2553=*public-no
+		2554=public transit available
+		2555=no quads
+		2556=quads allowed
+		2557=*rappelling-no
+		2558=climbing gear
+		2559=*restrooms-no
+		2560=restrooms available
+		2561=*scenic-no
+		2562=scenic view
+		2563=*scuba-no
+		2564=*scuba-yes
+		2565=*snakes-no
+		2566=*snakes-yes
+		2567=no snowmobiles
+		2568=*snowmobiles-yes
+		2569=no stealth required
+		2570=stealth required
+		2571=not stroller accessible
+		2572=stroller accessible
+		2573=*swimming-no
+		2574=*swimming-yes
+		2575=*thorn-no
+		2576=thorns!
+		2577=*ticks-no
+		2578=ticks!
+		2579=*wading-no
+		2580=may require wading
+		2581=*water-no
+		2582=drinking water nearby
+		2583=not wheelchair accessible
+		2584=wheelchair accessible
+		2585=not available in winter
+		2586=available in winter
+		2587=No maintenance needed
+		2588=Needs maintenance
 		3000=Close
 		4000=Loaded caches
-		4100=Select Directory:
 		4101=Maps
-		4102=Calibrated Maps
-		4103=Non Calibrated Maps
+		4102=Calibrated maps
+		4103=Not calibrated maps
 		4104=Cancel
-		4105=Open
-		4106=Calibrate map:
+		4105=Load
+		4106=Calibrate map
 		4107=Done!
+		4108=Coordinates:
 		4109=Loading maps...
-		4110=Loading:+
-		4111=Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM
+		4110=loading
+		4111=Coordinates must be entered in the format N XX XX.XXX E XXX XX.XXX
 		4112=IO-Error while copying image from:+
-		4113= to:+
-		4114= error:+
+		4113=to:+
+		4114=+error:+
 		4115=Error: could not decode image:+
-		4116= - image not copied
+		4116=+-+image not copied
 		4117=Error while importing .map-file:+
 		4118=IO-Error while reading or writing calibration file
 		4119=No calibration file found for:+
 		4120=done.
-		4200=Select map directory:
+		4200=Choose map directory
 		4201=Information
 		4203=Loading list of maps...
-		4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches
-		4205=No georeferenced map available  %0a you can get one by the menu: Application/Maps/download calibrated
 		4206=Dist:+
 		4207=Error
 		4208=Bug: %0aillegal mapChangeModus:+
-		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
 		4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
 		4211=No+
 		4212=less
 		4213=more
-		4214= detailed map available
-		4215=Did not select any caches
+		4214=+detailed map available
+		4215=No caches selected by check mark
 		4216=Loading map...
 		4217=Could not find image associated with: %0a
 		4218=Could not load map: %0a
 		4219=Not enough memory to load map: %0a
-		4220=%0aYou can try to close%0a all prgrams and %0arestart CacheWolf
+		4220=%0a You can try to close %0a all prgrams and %0a restart CacheWolf
 		4221=Not enough ressources to load map:+
 		4222=Out of memory error
 		4230=Goto here$g
 		4232=Create new Waypoint here$n
 		4234=Select a map manually$s
-		4235=Select a map manually
 		4236=Change map directory$c
 		4237=Change map directory
 		4238=Show map
 		4239=Show map
 		4240=Hide map
 		4241=Hide map
-		4242=Mode for automatic map change
+		4242=Modus for automatic map change
 		4244=Highest res. containing dest. & cur. position
-		4245=Highest res. containing dest. & cur. position
 		4246=Highest resolution
 		4247=Highest resolution
 		4248=Keep manual resolution
@@ -455,57 +587,56 @@
 		4256=Load a map for a better overview
 		4257=Load a map for a better overview
 		4258=Move map to and load map
-		4260=Move to goto point
-		4261=Move to goto point
-		4262=Move to GPS position
-		4263=Move to GPS position
-		4264=Move to centre
-		4265=Move to centre
+		4260=Move map to goto point
+		4261=Move map to goto point
+		4262=Move map to GPS position
+		4263=Move map to GPS position
+		4264=Move map to centre
+		4265=Move map to centre
 		4270=Open
-		4271=Maps
-		4272=--- Maps containing GPS and goto pos. ---
+		4271=--- Maps containing GPS and goto pos. ---
 		4273=--- Maps containing curr. position ---
-		4274=--- maps of target area ---
-		4275=--- other maps ---
+		4274=--- Maps containing goto position ---
+		4275=--- Other maps ---
 		4276=Cancel
 		4277=Select
-		4278=Cannot load wfl-file: %0a
+		4278=Cannot load wfl-file: \n
 		4300=empty 1 Pixel =+
-		4301=Lat/Lon out of range while reading+
+		4301=+meters
+		4302=Lat/Lon out of range while reading+
 		4303=not enough lines in file+
 		4304=not enough points to calibrate the map
 		4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file %0a
 		4306=map not calibrated
-		4307=meters
 		4400=Warning
 		4401=Ignoring error:%0a could not forward GPS data to host:%0a
 		4402=%0astop and start GPS to retry
 		4403=Error
-		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port+
-		4405=%0apossible reasons:%0a Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS
+		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port%0a
+		4405=%0apossible reasons:\n Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS"
 		4406=Please copy jave_ewe.dll into the directory of the cachewolf program
 		4500=Tot:
-		4501=Dsp:
+		4501=Vis:
 		4502=Fnd:
 		4600=Some cache(s) cannot be shown because of wrong blacklist status
-		4700=Ignoring error while %0a reading calibration file %0a
+		4700=Ignoring error while%0areading calibration file%0a
 		4701=Searching for best map
 		4702=Optimisation
-		4703=Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?%0a It can take several minutes
+		4703=Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?%0aIt can take several minutes.
 		4704=%0aRenaming file:
 		4705=Failed to rename:%0a
-		4706=%0ato:%0a
-		4707=Error while reading:
+		4706=%0ato:%0an
+		4707=Error while reading: 
 		4800=Loading online map services
 		4801=Ignoring error while %0a reading web map service definition file %0a
 		4802=Downloading calibrated (georeferenced) %0a map image %0a '
-		4803=' %0a Downloading tile %0a row
-		4804= column
-		4805=Tile
-		4806=: Ignoring error:
+		4803=' %0a Downloading tile %0a row 
+		4804= column 
+		4805=Tile 
+		4806=: Ignoring error: 
 		4807=loadTo: failed to download map: didn't get http-redirect
-		4808=downloadImage: content-type:
-		4809= is not an image, begin of content:
+		4808=downloadImage: content-type: 
+		4809= is not an image, begin of content: 
 		4810=Error while downloading or saving map:%0a
 		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
 		4812=WebMapService: property >Name:< missing in file:%0a
@@ -513,30 +644,31 @@
 		4814=WebMapService: no CoordinateReferenceSystemCacheWolf given
 		4815=Coordinate reference system not supported by CacheWolf:%0a
 		4816=WebMapService: property >CoordinateReferenceSystemUrlPart:< missing in file:%0a
-		4817=number of strings in CoordinateReferenceSystemUrlPart (
+		4817=Number of strings in CoordinateReferenceSystemUrlPart (
 		4818=) must match the number of codes in CoordinateReferenceSystemCacheWolf (
 		4819=) use normal space as separator
 		4820=WebMapService: property >CoordinateReferenceSystemUrlPart:< incorrect in file:%0a
 		4821=WebMapService: property >ImageFileExtension:< missing in file:%0a
-		4822=area:
-		4823= not covered by service:
-		4824=, service area:
-		4825=scale
-		4826= not supported by online map service, supported scale range:
+		4822=area: 
+		4823= not covered by service: 
+		4824=, service area: 
+		4825=scale 
+		4826= not supported by online map service, supported scale range: 
 		4827= (measured in meters per pixel vertically)
-		4828=Coordinate system not supported by cachewolf:
-		4829=getUrlForBoundingBox: Point:
-		4830=no matching Gauss-Krueger-Stripe in the EPSG-code list in the .wms
-		4831=getMapInfoObject: Coordinate system not supported by cachewolf:
-		4900= is not a german Gauss-Krueger coordinate
+		4828=Coordinate system not supported by Cachewolf: 
+		4829=getUrlForBoundingBox: Point: 
+		4830=No matching Gau?-Kr?ger-Stripe in the EPSG-code list in the .wms
+		4831=getMapInfoObject: Coordinate system not supported by Cachewolf: 
+		4900=+is not a german Gauss-Krueger coordinate
 		4920=EPSG code+
-		4921= not supported
+		4921=+not supported
 		4922=EPSG code missing in:+
 		4923=fromWgs84: EPSG code+
 		4924=ToWgs84: EPSG code+
-		5000=Loading Cache-List
+		5498=Login failed. Error loading page after login. 
+		5499=Error loading login page
+		5000=Load Cachelist
 		5497=Error missing tag in spider.def
-		5499=Error loading login page
 		5500=Error
 		5501=Login failed! Wrong account or password?
 		5502=Fetching first page...
@@ -549,10 +681,9 @@
 		5509=Coordinates for centre must be set
 		5510=Spider Options
 		5511=Found+
-		5512= caches
+		5512=+caches
 		5513=Loading:+
 		5514=%0aGetting bug:+
-		5515=Login failed. Error loading page after login.
 		6000=Guid
 		6001=Name
 		6002=track#
@@ -562,12 +693,12 @@
 		6006=From Date
 		6007=From Log
 		6008=To Prof
-		6009=To Wpt
+	  6009=To Wpt
 		6010=To Date
 		6011=To Log
 		6015=*** OTHER ***
-		6016=Pick up Travelbug
-		6017=Drop Travelbug
+		6016=Pick up travelbug
+		6017=Drop travelbug
 		6018=Travelbug name
 		6019=Tracking number
 		6020=Travelbug not found.
@@ -575,11 +706,11 @@
 		6022=: Current cache:+
 		6025=Name:
 		6026=Tracking #:
-		6027=ID/GUID:
+		6027=Id/Guid:
 		6028=Name
 		6029=Profile/Cache:
 		6030=Date found:
-		6031=Logged:
+		6031=Logged
 		6032=From
 		6033=Date dropped:
 		6034=To
@@ -589,7 +720,7 @@
 		6041=Drop TB in cache
 		6042=New Travelbug
 		6043=Delete Travelbug
-		6044=Get Mission
+		6044=Get mission (and name)
 		6045=Open on-line
 		6046=Show only not logged
 		6047=Delete selected Travelbugs
@@ -597,16 +728,11 @@
 		6051=Don't show column
 		6100=Sun
 		6101=Moon
-		6102=Grater Bear
+		6102=Greater Bear
 		6103=Orion
 		6104=Cassiopeia
 		6105=Cygnus
-		6106=Southern Cross
-		6122=Alioth in Greater Bear
-		6123=Alnilam in Orion
-		6124=Cassiopeia Gamma
-		6125=Deneb in Cygnus
-		6126=Becrux in Southern Cross
+		6106=Mimosa in Southern Cross
 		7000=Release
 		7001=Release candidate
 		7002=in development, stable
@@ -619,10 +745,6 @@
 		7021=type of this version
 		7022=Type of version
 		7023=Error downloading current version information
-		7020=Recommended version type
-		7021=This version type
-		7022=Version type
-		7023=Error getting current version information
 		{..}
 	{..}
 {..}

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-16 23:11:55 UTC (rev 1264)
@@ -10,6 +10,7 @@
 		106=naar MS AutoRoute CSV
 		107=Exporteren
 		108=Voorkeuren
+		109=Caches laden
 		110=Opslaan & Exit
 		111=Exit
 		112=Zoeken
@@ -26,6 +27,7 @@
 		123=Naar CacheMate
 		124=Naar OZI
 		125=Naar Google Earth
+		126=Naar TomTom OV2
 		127=Opslaan
 		128=Via sjabloon
 		129=Importeren GPX
@@ -34,7 +36,7 @@
 		132=Naar Magellan
 		139=Beheren Travelbugs
 		140=Organiseren
-		141=Kopi%ebren
+		141=Kopi?ren
 		142=Verplaatsen
 		143=Verwijderen
 		144=Waarschuwing
@@ -45,55 +47,62 @@
 		149=Kaarten
 		150=Importeren
 		151=Kalibreren
+		152=Kaart importeren
+		153=Kaart importeren gelukt.
+		154=Fout bij importeren kaart.
 		155=Verklaring
-		156=Te weinig geheugen, kaart is te groot
+		156=Te weinig geheugen, kaart is te groot!
 		157=Systeem
-		158=Versie proefen
-		159=Filteren
-		160=Gekozene filteren
+		158=Versie controle
+		159=Filter
 		161=Toon Blacklist
-		162=Gekalibreerde kaarten downloaden
-		170=Selecteer basis map voor cache data
+		162=Gekalibreerde kaarten downloaden.
+		170=Selecteer basis map voor cache data.
 		171=Profiel bestaat niet:+
 		172=Fout: kan kaarten map niet maken:%0a.
 		173=GPSBabel:
 		174=Verkorte namen
 		175=Importeren
+		176=Nieuwe versie
+		177=Nieuwe versie%0abeschikbaar.
 		178=Versie controle
+		179=Je hebt de%0anieuwste versie.
 		180=Verplaats caches
-		181=naar hier
+		181=Hier
 		182=Nieuwe lijst
 		183=Geladen lijst
 		184=Opslaan als
-		185=Opslaan (zonder bevestiging)
-		186=Additionele Waypoints mee verplaatsen
+		185=Opslaan (zonder bevestiging).
+		186=Additionele Waypoints mee verplaatsen.
+		187=Toon alleen deze Waypoints.
 		188=CACHE TOUR: NIEUW
 		189=Lijst toepassen
-		190=Toon alleen deze Waypoints
+		190=Toon alleen deze Waypoints.
 		191=Selecteer file
 		192=Wijzigingen opslaan
 		193=Additionele Waypoints toevoegen
-		195=Actueel middelpunt
-		196=Totaal aantal # caches (GC&OC)%0aTotaal # zichtbaar%0aTotaal # gevonden
-		197=Toon/verberg cache tour
+		195=Huidige middelpunt
+		196=Totaal aantal # caches (GC&OC)%0aTotaal # zichtbaar%0aTotaal # gevonden.
+		197=Toon/verberg cache tour.
 		198=Cache tour
-		199=Aan cache tour toevoegen
-		208=Index bouwen
-		209=Nieuw bouwen van Index
-		210=Caches niet in index.xml:+
-		211=%0aDeze toegevoegt:+
-		212=Verwijderen alle .xml files niet in index.xml en hun plaatjes
-		213=Verwijderen wees .xml files
+		199=Aan cache tour toevoegen.
+		200=Details
+		201=Beschrijving
+		202=Afbeeldingen
+		203=Hints & logs
+		204=Oplosser
+		205=Radar
+		206=Lijst
 		300=Type:
 		301=Grote:
 		302=Waypoint:
 		303=Naam:
-		304=Co%f6rdinaten:
+		304=Co?rdinaten:
 		305=Verborgen op:
 		306=Eigenaar:
 		307=Status:
 		308=Opmerkingen:
-		309=Selecteer als middelpunt
+		309=Selecteer als middelpunt.
 		310=Verwijder
 		311=Nieuw Waypoint
 		312=Opslaan
@@ -106,42 +115,46 @@
 		319=Niet gevonden
 		320=Eigenaar
 		321=Fout
-		322=Kan afbeelding/kaart niet vinden
-		323=Fout bij schrijven van data
-		324= - opnieuw?
-		325=Te weinig referentiepunten, kaart is niet gekalibreerd
-		326=Kan afbeelding/kaart niet laden
+		322=Kan afbeelding/kaart niet vinden.
+		323=Fout bij schrijven van data.
+		324=-opnieuw?
+		325=Te weinig referentiepunten, kaart is niet gekalibreerd.
+		326=Geen gekalibreerde kaart aanwezig. %0aAub selecteer een schaal om de track en caches te tonen.
 		327=Notities
 		328=Gegevens gevonden
 		329=Verborgen op
 		340=Cache afbeeldingen
 		341=Eigen afbeeldingen
 		342=Verwijderd
-		343=Niet genoeg geheugen om cache afbeeldingen te laden
+		343=Niet genoeg geheugen om cache afbeeldingen te laden.
 		344=Verwijder afbeeldingen
-		345=Ga naar deze co%f6rdinaten
+		345=Ga naar deze co?rdinaten.
 		346=Toon Travelbugs
 		347=Toon kaart
-		348=Eigen afbeeldingen toevoegen
-		349=Status Blacklist omkeren
-		350=Tijdmarkering toevoegen aan notities
-		351=Toevoegen/wijzigingen notities
-		591=Laat leeg voor standaard taal of%0avoeg 2 karakters toe voor taal, bv. DE, EN, NL
-		592=Taal (herstart noodig)
-		593=Wachtwoord is optioneel.%0aAlleen gebruiken als je het wil opslaan in pref.xml
-		594=Wachtwoord
+		348=Eigen afbeeldingen toevoegen.
+		349=Status Blacklist omkeren.
+		350=Tijdmarkering toevoegen aan notities.
+		351=Toevoegen/wijzigingen notities.
+		400=Decoderen
+		500=Omdraaien
+		591=Laat leeg voor standaard taal of%0avoeg 2 karakters toe voor taal, bv. DE,EN,NL
+		592=Taal(herstart noodzakelijk)
+		593=Password is optioneel.%0aAlleen gebruiken als je het wil opslaan in pref.xml.
+		594=Password
 		595=Lijst
 		596=Naam
 		597=Waypoint
 		598=Type
 		599=Checkbox
 		600=Voorkeuren
-		601=Jouw Nicknaam:
-		603=Profiel map:
+		601=Jouw Nickname
+		602=Thuis co?rdinaten
+		603=Profiel map
 		604=Zoeken
+		605=Tabel kolommen
 		606=Moeilijkheidsgraad
 		607=Terrein
-		608=Co%f6rdinaten
+		608=Co?rdinaten
 		609=Eigenaar
 		610=Verborgen op
 		611=Status
@@ -153,194 +166,194 @@
 		617=Plakken
 		618=Kopieer
 		619=Bloktekst
+		620=Opslaan
 		621=Algemeen
 		622=Scherm
 		623=Afbeeldingen:
-		624=Toon verwijderde afbeeldingen
-		625=Scherm (herstart noodig):
+		624=Toon verwijderde afbeeldingen.
+		625=Scherm(herstart noodzakelijk)
 		626=Menu boven
 		627=Tabs boven
 		628=Status
-		629=Laatste profiel automatisch laden
-		630=Hints/logs: logs per pagina
-		631=PDA heeft stopknop
+		629=Laatste profiel automatisch laden.
+		630=Hints/logs: logs per pagina.
+		631=PDA heeft stopknop.
 		632=Meer
 		633=Maximale logs naar werkgeheugen
-		634=Proxy gebruiken
-		635=Groote
-		636=OC recommandatie's
-		637=OC Index
-		638=Plaatjes in descriptie tonen
+		634=use Proxy
 		700=Selecteer filter
 		701=Afstand
 		702=Moeilijkheidsgraad
 		703=Gevonden
+		704=Niet gevonden
+		705=In laatste
+		706=Gevonden
 		707=Eigenaar
 		708=Afbreken
 		709=Toepassen
 		710=Gearchiveerd
 		711=Niet beschikbaar
-		712=Selecteer route file
+		712=Selecteer route file.
+		713=Sla filter op.
 		714=Richting & afstand
 		715=Toon alle caches met status:
 		716=Deselecteer alles
 		717=Selecteer alles
 		718=Cache beoordeling
 		719=Cache type
-		720=Attribuuten
+		720=Status
 		721=Richting
 		722=Beoordeling
 		723=Type
-		724=Soort doos
-		725=Notitie: Filters zijn aanpasbaar, actieve filter=groen
+		724=Container
+		725=Notities: Filters zijn aanpasbaar, actieve filter=groen.
 		726=Additionele Waypoints
-		727=Soort doos
-		728=Status
+		727=Container
+		728=Additionele Waypoint
 		729=Niet gearchiveerd
 		730=Beschikbaar
 		731=Nog niet gevonden
 		732=Andere eigenaar
 		733=Additionele Waypoint
 		734=Geen hoofd Waypoint gevonden voor
-		735=Additionele Waypoints moeten het formaat hebben xxYYYYY, waarbij xx 2 karakters zijn en YYYYY de karakters achter GC/OC van het hoofd Waypoint
-		736=Too many logs
-		737=Attribuuten
-		738=Attribuuten
-		739=Filter op
-		740=alle
-		741=%e9%e9n
-		742=geen
+		735=Additionele Waypoints moeten het formaat hebben xxYYYY, waarbij xx 2 karakters zijn en YYYY de karakters achter GC van het hoofd Waypoint zijn.
+		800=Maak lijst
+		801=Zoeken.....
+		802=Caches gevonden. Zoeken......
+		803=Klaar!
+		804=Verzamelen van de cache gegevens.
+		805=Verzamel gegevens voor:
+		900=Lijst
+		901=Loc
+		902=Dichtstbijzijnde
+		903=Annuleer
+		904=Multi
+		905=Laad caches
+		906=Lijst van caches:
+		907=Maximale afstand:
+		908=Selecteer Waypoint file:
 		909=Selecteer file(s)
 		910=Selecteer sjabloon file
 		950=Verplaats
 		951=Zenden naar GPS
 		952=Converteren......
-		999=Niet gestellt
+		999=Not set
 		1000=D
 		1001=T
 		1002=Waypoint
-		1004=Co%f6rdinaat
+		1003=Naam
+		1004=Co?rdinaat
 		1005=Eigenaar
 		1006=Verborgen op
 		1007=Status
 		1008=Afstand
 		1009=Richting
-		1010=Ga hier naartoe
-		1011=Niet geselecteerden uitfilteren
+		1010=Ga hier naartoe.
+		1011=Niet geselecteerden uitfilteren.
 		1012=Verwijder geselecteerden
 		1013=Met selectie
-		1014=Aktualiseer gekozen
+		1014=Update cache data
 		1015=Selecteer alles
 		1016=Deselecteer alles
-		1017=S
-		1018=Toon offline in Browser
-		1019=Zet deze als middelpunt
-		1020=Toon online in Browser
+		1018=Toon offline in Browser.
+		1019=Zet deze als middelpunt.
+		1020=Toon online in Browser.
 		1021=Toon cachebeschrijving
-		1022=Verwijder gekozen caches
-		1024=Afstand in lijst is%0aten opzichte van de huidige positie%0aherberekend
-		1026=#Rec
-		1027=OC-IDX
-		1106=Kies profiel of nieuw
+		1022=Verwijder alle caches die zijn aangevinkt.
+		1023=Deze functie is momenteel alleen beschikbaar voor geocaching.com.
+		1024=Afstand in lijst is~ten opzichte van de huidige positie~herberekend.
+		1025=Kan middelpunt niet toepassen (verkeerde GPS co?rdinaten).
+		1100=Profielen
+		1105=Bladeren
+		1106=Kies profiel of nieuw.
 		1107=Nieuw profiel
 		1108=Kies profiel
 		1109=Open profiel
 		1110=Middelpunt
-		1111=Maak een nieuw profiel
-		1112=Naam nieuw profiel
-		1113=Kan geen map maken (mag geen karakters hebben die niet door het OS worden geaccepteerd)
+		1111=Maak een nieuw profiel.
+		1112=Naam nieuw profiel.
+		1113=Kan geen map maken (mag geen karakters hebben die niet door het OS worden geaccepteerd).
 		1114=Map bestaat al
 		1115=Middelpunt
-		1116=Actueel
+		1116=Huidig
 		1117=Kopie
 		1118=Profiel
+		1119=Oude profielen
 		1120=Moeilijkheidsgraad
 		1121=Terrein
 		1200=Lijst
 		1201=Details
 		1202=Beschrijving
 		1203=Afbeeldingen
-		1204=Hints & Logs
+		1204=Hints & logs
 		1205=Oplosser
 		1206=Calculator
-		1207=Jouw profiel is veranderd, wil jij het profiel opslaan?
-		1301=Selecteer profiel:
+		1207=Jouw profiel is veranderd, wil je het profiel opslaan?
+		1300=Laatste instellingen
+		1301=Selecteer profiel
 		1400=Zone
-		1401=Noord
-		1402=Oost
+		1401=Northing	
+		1402=Easting
 		1403=Richting
 		1404=Afstand
-		1405=Om co%f6rdinaten te laden van GC, geef onder in GCxxxxx
-		1406=Geef co%f6rdinaten (alle formaten mogelijk) of GCxxxxx
-		1407=staps
-		1408=feet
-		1409=yards
-		1410=miles
+		1405=Om co?rdinaten te laden van GC, geef onder in GCxxxx.
+		1406=Geef co?rdinaten in (alle formaten mogelijk) of GCxxxx.
 		1500=Doel:
-		1501=Actueel
+		1501=Huidig
 		1502=Graden
 		1503=Noord voor
-		1504=Start
-		1505=Stop
-		1506=Kaart
-		1507=Ko%f6rdinaten buiten geldige bereik:
-		1508=latitude
-		1509=longditue
-		1510=Geen data van GPS%0aConnectie met serial port toegemaakt
-		1511=Kan data van GPS niet interpreteren%0a mogelijke achtergrond:%0a fout port,%0a fout baudrate,%0a niet NMEA 0183 protocol%0aConnectie met serial port toegemaakt%0aLaatste string probeerd interpreteren:%0a
-		1512=Waypoint
-		1513=Kan zich verplaatsende kaart niet aanvangen zonder geldige co%f6rdinaten. A.U.B. schrijv co%f6rdinaten als doel, middelpunt, in gekozen cache of start GPS
-		1600=Download van Opencaching.de
+		1600=Download van Opencaching.de 
 		1601=Afstand:
 		1602=Download afbeeldingen
+		1603=Download kaarten
 		1604=Annuleren
 		1605=OK
 		1606=Redownload alles
 		1607=Update van Opencaching.de is gelukt.
-		1608=Download data van Opencaching.de...
-		1609=Importeren cache:
-		1611=Importeren cache beschrijving:
-		1612=Importeren log:
-		1613=Importeren afbeelding:
-		1614=Fout bij het unzippen van update file
+		1608=Download data van Opencaching.de.
+		1609=Importeren cache
+		1610=Download missende kaart.
+		1611=Import cache beschrijving.
+		1612=Import log
+		1613=Import afbeelding
+		1614=Fout bij het unzippen van update file.
 		1615=Fout bij het interpreteren van update file, status:
-		1616=Fout: Kan de update file niet downloaden van Opencaching.de
-		1617=Negeert fout in html-cache-beschrijving: "<img" zonder "src=" in cache+
+		1616=Fout: Kan de update file niet downloaden van Opencaching.de.
+		1617=Negeert fout in html-cache-beschrijving:"<img" without "src=" in cache+
 		1618=Negeert fout in cache:+
-		1619=: kon de afbeelding niet downloaden van URL:+
+		1619=: kon de afbeelding van URL niet downloaden:+	
 		1620=download bijgesloten afbeeldingen:+
-		1621=Fout tijdens interpreteren data%0a van Opencaching.de%0aDit is vermoedelijk een fout bij Opencaching.de%0aprobeer later nog es%0aStatus:
-		1622=Excludeer gevondene caches
-		1700=Fout in lijn:+
+		1621=Fout tijdens interpreteren data%0a van Opencaching.de,%0aDit is vermoedelijk een fout bij Opencaching.de%0aprobeer later nogmaals%0aStatus:
+		1700=Fout in lijn:
 		1701=Positie:
 		1702=Variabele niet gedefinieerd.
-		1703=Geen geldig nummer:
-		1704=Plotseling eind van zoekopdracht
+		1703=Geen geldig nummer.
+		1704=Plotseling eind van zoekopdracht.
 		1705=Geen ENDIF
-		1706=Verwacht:+
-		1707=Gevonden:+
-		1708=Geen eensluidende functienaam:+
-		1709=Onbekende functie:+
-		1710=Kan de lege string niet tellen
-		1711=Gekopieerde karakter strings moeten van dezelfde lengte zijn
-		1712=Ongeldige co%f6rdinaten:+
-		1713=Ongeldig co%f6rdinaat formaat. Toegestaan zijn CW/DD/DMM/DMS/UTM
-		1714=Ga naar: Waypoint bestaat niet:+
-		1715=instr: Start co%f6rdinaat niet in string
-		1716=mid: Geheel getal verwacht
-		1717=mid: Argument valt buiten het geldige bereik
-		1718=Kan geen negatieve afstand projecteren
-		1719=Projectiehoek moet liggen tussen 0 en 360
-		1720=Kan niet rekenen met negatieve getallen
-		1723=Vergelijking van operator verwacht
-		1724=Variabele niet benoemd:+
-		1725=Onverwachte karakter(s):+
-		1726=Te veel argumenten voor functie+
-		1727=Ongeldig aantal argumenten
-		1728=Functie niet ge%efmplementeerd:+
+		1706=Verwacht:
+		1707=Gevonden:
+		1708=Geen eensluidende functienaam:
+		1709=Onbekende functie:
+		1710=Kan de lege string niet tellen.
+		1711=Gekopieerde karakter strings moeten van dezelfde lengte zijn.
+		1712=Ongeldige co?rdinaten:
+		1713=Ongeldig co?rdinaat formaat. Toegestaan zijn CW/DD/DMM/DMS/UTM
+		1714=Ga naar: Waypoint bestaat niet:
+		1715=Instr: Start co?rdinaat niet in string.
+		1716=Mid: Geheel getal verwacht.
+		1717=Mid: Argument valt buiten de range.
+		1718=Kan geen negatieve afstand projecteren.
+		1719=Projectiehoek moet liggen tussen 0 en 360.
+		1720=Kan niet rekenen met negatieve getallen.
+		1723=Vergelijking van operator verwacht.
+		1724=Variabele niet benoemd.
+		1725=Onverwachte karakter(s)
+		1726=Te veel argumenten voor deze functie.
+		1727=Ongeldig aantal argumenten.
+		1728=Functie niet ge?mplementeerd.
 		1729=Deling door 0.
 		1730=Oneindige string
-		1731=Ongeldig formaat karakters
+		1731=Ongeldig formaat karakters.
 		1732=Ongeldige karakter
 		1733=Opdracht ingeven
 		1734=Verwijder ingaven
@@ -348,194 +361,120 @@
 		1736=Laden
 		1737=Opslaan
 		1738=Opslaan als
-		1739=Projection degrees moet tussen 0 en 2*PI zijn
-		1800=Downloaden GEO gerelateerde kaarten
-		1802=Download GEO gerelateerde kaarten%0a Select online dienst:
-		1803=voor
-		1804=alle
-		1805=gekozen
-		1806=caches
-		1807=ca. m per pixel
-		1808=overlapping in pixel:
-		1809=download overzicht kaart
-		1810=Binnen rectangle van:
-		1811=rondom middelpunt:
-		1812=Ticheln
-		1813=Download %e9%e9n kaart voor
-		1814=per cache
-		1815=Downloaden GEO gerelateerde kaarten
-		1816=Downloaden GEO gerelateerde kaarten%0a %0a %0a %0a %0a
-		1817=Geen caches zijn gekozen
-		1818=getSortedMapServiceIndex: index
-		1819=niet gevonden
-		1820=Downloaden kaart '
-		1821=%0a voor cache:%0a
-		1822=Cache:
-		1823=Negeert fout:
-		1824=Downloaden overzicht kaart
-		1825=Overzicht kaart: Negeert fout:
-		1826=Klaar downloaden en calibreren van kaarten
-		1827='radius' moet groter dan 0 zijn
-		1828='overlapping' moet groter of gelijk 0 zijn
-		1829=A.U.B. geef middelpunt voor downloaded kaarten rondom
-		1830=Het gekozen online kaart service bevoorradet kaarten in het scala van
-		1831= tot
-		1832=%0a A.U.B. aanpassen 'Approx. meter pro pixel' volgens dit
-		2100=Magellan Exporter
-		2101=Fout openen magellan.cfg%0a
-		2102=Kies doel file:
-		2103=Fout lezen magellan.cfg%0a
-		2104=Kies map voor ge%ebxporteerd .gs files
+		1800=Downloaden GEO gerelateerde kaarten.
+		1801=Downloaden tegels
+		2000=Exporten GPX
+		2001=Van
+		2500=Fout bij laden of onbekende pictogrammen.
+		2501=Geen 24/7 cache
+		2502=Beschikbaar 24/7
+		2503=Geen fietsen
+		2504=Fietsen toegestaan
+		2505=*geen boten
+		2506=*boten toegestaan
+		2507=*geen cactus
+		2508=*cactus aanwezig
+		2509=Geen kampvuur
+		2510=Kampvuur toegestaan
+		2511=Niet kamperen
+		2512=Kamperen toegestaan
+		2513=*geen kliffen
+		2514=Vallende rotsen nabij.
+		2515=Geen moeilijke klimpartijen.
+		2516=Moeilijke klimpartijen
+		2517=*geen kompas
+		2518=*kompas toegestaan
+		2519=*geen koeien
+		2520=Let op ongedierte
+		2521=*geen gevaar
+		2522=Gevaarlijk gebied
+		2523=Geen honden
+		2524=Honden toegestaan
+		2525=*geen kosten
+		2526=Toegaan/parkeer kosten
+		2527=*geen wandeling
+		2528=Aanmerkelijke wandeling
+		2529=Geen paarden
+		2530=Paarden toegestaan
+		2531=*geen jagen
+		2532=Jachtgebied.
+		2533=Geen terreinwagens
+		2534=Terreinwagens toegestaan
+		2535=Kind onvriendelijk
+		2536=Kind vriendelijk
+		2537=*mijnen 
+		2538=*geen mijnen
+		2539=Geen motorfietsen
+		2540=Motorfietsen toegestaan
+		2541=Niet aanbevolen tijdens donker
+		2542=Nacht cache
+		2543=Duurt langer dan 1 uur
+		2544=Duurt korter dan 1 uur
+		2545=*geen parkeerplaats
+		2546=Parkeerplaats aanwezig
+		2547=*geen telefoon
+		2548=Telefoon dichtbij
+		2549=*picknicken verboden
+		2550=Picknicken toegestaan
+		2551=*geen gifeik
+		2552=*wel gifeik
+		2553=*geen openbaarvervoer
+		2554=Openbaarvervoer aanwezig
+		2555=Geen quads
+		2556=Quads toegestaan
+		2557=*geen abseilen
+		2558=Klimmiddelen nodig
+		2559=*geen overnachting
+		2560=Overnachting aanwezig
+		2561=*geen pittoresk uitzicht
+		2562=Pittoresk uitzicht
+		2563=*geen duikuitrusting
+		2564=Duikuitrusting nodig
+		2565=*geen haaien
+		2566=*haaien aanwezig
+		2567=*geen sneeuwvoertuigen
+		2568=*sneeuwvoertuigen toegestaan
+		2569=Stiekemheid niet nodig
+		2570=Stiekemheid geboden 
+		2571=Kinderwagen onvriendelijk
+		2572=Kinderwagen vriendelijk
+		2573=*geen zwemmen
+		2574=*zwemmen noodzakelijk
+		2575=*geen doorns
+		2576=Doorns
+		2577=*geen teken
+		2578=Teken
+		2579=*geen waden
+		2580=Waden is mogelijk
+		2581=*geen water
+		2582=Drinkbaar water in de buurt
+		2583=Rolstoel onvriendelijk
+		2584=Rolstoel vriendelijk
+		2585=Niet beschikbaar in de winter
+		2586=In de winter beschikbaar
+		2587=Geen onderhoud nodig
+		2588=Onderhoud noodzakelijk
 		3000=Sluiten
 		4000=Geladen caches
-		4100=Kies map:
 		4101=Kaarten
 		4102=Gekalibreerde kaarten
 		4103=Niet gekalibreerde kaarten
 		4104=Wijzigen
 		4105=Laden
-		4106=Kalibreert kaart:
+		4106=Kalibreert kaart
 		4107=Gebeurt!
+		4108=Co?rdinaten:
 		4109=bezig kaarten te laden..
 		4110=Bezig met laden
-		4111=Co%f6rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX
-		4112=I/O fout kopieren afbeelding van:+
-		4113= naar:+
-		4114= fout:+
-		4115=Fout: kan afbeelding niet decoderen:+
-		4116= - afbeelding niet kopierd
-		4117=Fout importeren .map file:+
-		4118=I/O fout lezen of schrijven calibratie file
-		4119=Geen calibratie file gevonden voor:+
-		4120=klaar.
+		4111=Co?rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
 		4200=Kies kaarten map
-		4201=Informatie
-		4203=Laden lijst van kaarten...
-		4204=Geen GEO gerelateerde kaart beschikbaar %0a A.U.B. kies scala %0a voor tonen baan en caches
-		4205=Geen GEO gerelateerde kaart beschikbaar %0a Krijg %e9%e9n bij het menu: Application/Maps/download calibrated
-		4206=Afst:+
-		4207=Fout
-		4208=Programma fout: %0aillegal mapChangeModus:+
-		4209=setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:
-		4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
-		4211=Geen+
-		4212=minder
-		4213=meer
-		4214= gedetailleerd kaart beschikbaar
-		4215=Geen cache gekozen
-		4216=Laden kaart...
-		4217=Kan afbeelding niet vinden voor file: %0a
-		4218=Kan kaart niet laden: %0a
-		4219=Te weinig geheugen voor laden kaart: %0a
-		4220=%0aJij kan proberen stoppen%0a alle programma's en opnieuw starten CacheWolf
-		4221=Niet genoeg capaciteit om kaart te laden:+
-		4222=Fout: te weinig geheugen
-		4230=Ga hier$g
-		4232=Maak nieuw Waypoint hier$n
-		4234=Kies kaart handmatig$s
-		4235=Kies kaart handmatig
-		4236=Wisselen kaart map$c
-		4237=Wisselen kaart map
-		4238=Toon kaart
-		4239=Toon kaart
-		4240=Verberg kaart
-		4241=Verberg kaart
-		4242=Manier voor automatisch kaart wisselen
-		4244=Highest res. containing dest. & cur. position
-		4245=Highest res. containing dest. & cur. position
-		4246=Highest resolution
-		4247=Highest resolution
-		4248=Keep manual resolution
-		4249=Keep manual resolution
-		4250=Change resolution manually
-		4252=Load a map containing all marked caches
-		4253=Load a map containing all marked caches
-		4254=Load a map with more details
-		4255=Load a map with more details
-		4256=Load a map for a better overview
-		4257=Load a map for a better overview
-		4258=Move map to and load map
-		4260=Move to goto point
-		4261=Move to goto point
-		4262=Move to GPS position
-		4263=Move to GPS position
-		4264=Move to centre
-		4265=Move to centre
-		4270=Open
-		4271=Maps
-		4272=--- Maps containing GPS and goto pos. ---
-		4273=--- Maps containing curr. position ---
-		4274=--- maps of target area ---
-		4275=--- other maps ---
-		4276=Cancel
-		4277=Select
-		4278=Cannot load wfl-file: %0a
-		4300=empty 1 Pixel =+
-		4301=Lat/Lon out of range while reading+
-		4303=not enough lines in file+
-		4304=not enough points to calibrate the map
-		4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file %0a
-		4306=map not calibrated
-		4307=meters
-		4400=Warning
-		4401=Ignoring error:%0a could not forward GPS data to host:%0a
-		4402=%0astop and start GPS to retry
-		4403=Error
-		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port+
-		4405=%0apossible reasons:%0a Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS
-		4406=Please copy jave_ewe.dll into the directory of the cachewolf program
 		4500=Tot:
 		4501=Vis:
 		4502=Fnd:
 		4600=Sommige caches kunnen niet worden getoond door verkeerde blacklist status.
-		4700=Ignoring error while %0a reading calibration file %0a
-		4701=Searching for best map
-		4702=Optimisation
-		4703=Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?%0a It can take several minutes
-		4704=%0aRenaming file:
-		4705=Failed to rename:%0a
-		4706=%0ato:%0a
-		4707=Error while reading:
-		4800=Loading online map services
-		4801=Ignoring error while %0a reading web map service definition file %0a
-		4802=Downloading calibrated (georeferenced) %0a map image %0a '
-		4803=' %0a Downloading tile %0a row
-		4804= column
-		4805=Tile
-		4806=: Ignoring error:
-		4807=loadTo: failed to download map: didn't get http-redirect
-		4808=downloadImage: content-type:
-		4809= is not an image, begin of content:
-		4810=Error while downloading or saving map:%0a
-		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
-		4812=WebMapService: property >Name:< missing in file:%0a
-		4813=WebMapService: property >MainUrl:< missing in file:%0a
-		4814=WebMapService: no CoordinateReferenceSystemCacheWolf given
-		4815=Coordinate reference system not supported by CacheWolf:%0a
-		4816=WebMapService: property >CoordinateReferenceSystemUrlPart:< missing in file:%0a
-		4817=number of strings in CoordinateReferenceSystemUrlPart (
-		4818=) must match the number of codes in CoordinateReferenceSystemCacheWolf (
-		4819=) use normal space as separator
-		4820=WebMapService: property >CoordinateReferenceSystemUrlPart:< incorrect in file:%0a
-		4821=WebMapService: property >ImageFileExtension:< missing in file:%0a
-		4822=area:
-		4823= not covered by service:
-		4824=, service area:
-		4825=scale
-		4826= not supported by online map service, supported scale range:
-		4827= (measured in meters per pixel vertically)
-		4828=Coordinate system not supported by cachewolf:
-		4829=getUrlForBoundingBox: Point:
-		4830=no matching Gauss-Krueger-Stripe in the EPSG-code list in the .wms
-		4831=getMapInfoObject: Coordinate system not supported by cachewolf:
-		4900= is not a german Gauss-Krueger coordinate
-		4920=EPSG code+
-		4921= not supported
-		4922=EPSG code missing in:+
-		4923=fromWgs84: EPSG code+
-		4924=ToWgs84: EPSG code+
 		5000=Laad cache lijst
 		5497=Fout, verdwenen tag in spider.def.
+		5498=Login fout. Fout bij het laden van de pagina na login.
 		5499=Fout bij het laden van de login pagina.
 		5500=Fout
 		5501=Login mislukt! Verkeerde accountnaam of password
@@ -546,13 +485,12 @@
 		5506=Password
 		5507=Status
 		5508=Bezig met inloggen...
-		5509=Co%f6rdinaten voor middelpunt moeten worden ingegeven.
+		5509=Co?rdinaten voor middelpunt moeten worden ingegeven.
 		5510=Spider options
 		5511=Gevonden+
 		5512=+caches
 		5513=Bezig met laden:+
 		5514=%0aTravelbug
-		5515=Login failed. Error loading page after login.
 		6000=Guid
 		6001=Naam
 		6002=Track#
@@ -571,7 +509,7 @@
 		6018=Naam Travelbug
 		6019=Tracking nummer
 		6020=Travelbug niet gevonden
-		6021=Meer dan %e9%e9n Travelbug gevonden. Specificeer de namen duidelijker.
+		6021=Meer dan ??n Travelbug gevonden. Specificeer de namen duidelijker.
 		6022=:Huidige cache:+
 		6025=Naam:
 		6026=Tracking #:
@@ -602,15 +540,6 @@
 		6104=Cassiopeia
 		6105=Zwaan
 		6106=Zuiderkruis
-		6122=Alioth in Greater Bear
-		6123=Alnilam in Orion
-		6124=Cassiopeia Gamma
-		6125=Deneb in Cygnus
-		6126=Becrux in Southern Cross
-		7020=Recommended version type
-		7021=This version type
-		7022=Version type
-		7023=Error getting current version information
 		{..}
 	{..}
 {..}

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -134,6 +134,7 @@
 		//btnNotes = new mButton("Notes");
 		//this.addLast(btnNotes.setTag(Control.SPAN, new Dimension(3,1)),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		//this.addNext(new mLabel(MyLocale.getMsg(308,"Notes:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		//this.addLast(btnCenter = new mButton(MyLocale.getMsg(309,"Make Centre")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 //		this.addLast(btnDelete = new mButton(MyLocale.getMsg(310,"Delete")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		attV=new AttributesViewer();
 		this.addLast(attV);
@@ -328,7 +329,7 @@
 					MapDetailForm mdf = new MapDetailForm(thisCache.wayPoint, pref, profile);
 					mdf.execute();
 				} catch (IllegalArgumentException e) {
-					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(322,"Cannot find image/map")+": "+e.getMessage(), MessageBox.OKB);
+					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(322,"Kann Bild/Karte nicht finden")+": "+e.getMessage(), MessageBox.OKB);
 					tmp.exec();
 				}
 	*/		}
@@ -501,7 +502,7 @@
 					  if (idx<0) idx=profile.getCacheIndex("CW"+ ch.wayPoint.substring(ch.wayPoint.length() == 5?1:2));
 					  if (idx<0) (new MessageBox(MyLocale.getMsg(144,"Warning"),
 							  MyLocale.getMsg(734,"No main cache found for addi waypoint ")+" "+ch.wayPoint+
-							  "\n"+MyLocale.getMsg(735,"Addi Waypoints must have the format xxYYYYY, where xx are any 2 chars and YYYYY are the 4..5 main cache's chars after the GC/OC"),FormBase.OKB)).execute();
+							  "\n"+MyLocale.getMsg(735,"Addi Waypoints must have the format xxYYYY, where xx are any 2 chars and YYYY are the main cache's chars after the GC"),FormBase.OKB)).execute();
 				  }
 				  profile.buildReferences(); // TODO this takes quite long -> use profile.setAddiRef instead
 			  } else {
@@ -579,7 +580,7 @@
 					tbjList=new TravelbugJourneyList();
 					tbjList.readTravelbugsFile();
 					TravelbugList tbl=tbjList.getMyTravelbugs();
-					TravelbugScreen tbs=new TravelbugScreen(tbl,MyLocale.getMsg(6017,"Drop Travelbug"),false);
+					TravelbugScreen tbs=new TravelbugScreen(tbl,MyLocale.getMsg(6017,"Drop a travelbug"),false);
 					tbs.execute();
 					if (tbs.selectedItem>=0) {
 						Travelbug tb=tbl.getTB(tbs.selectedItem);

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/FilterScreen.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -128,21 +128,21 @@
 		//////////////////////////
 		// Panel 2 - Cache attributes
 		//////////////////////////
-		addTitle(pnlAttributes,MyLocale.getMsg(728,"Status"));
+		addTitle(pnlAttributes,MyLocale.getMsg(720,"Status"));
 		mLabel lblTitleAtt; 
 		pnlAttributes.addLast(lblTitleAtt=new mLabel(MyLocale.getMsg(715,"Show all caches with status:")),HSTRETCH,FILL);
 		lblTitleAtt.setTag(SPAN,new Dimension(2,1));
 		pnlAttributes.addNext(chkArchived = new mCheckBox(MyLocale.getMsg(710,"Archived")), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAttributes.addLast(chkNotArchived = new mCheckBox(MyLocale.getMsg(729,"Not archived")), CellConstants.DONTSTRETCH, CellConstants.FILL);
+		pnlAttributes.addLast(chkNotArchived = new mCheckBox(MyLocale.getMsg(729,"Nicht archiviert")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
-		pnlAttributes.addNext(chkAvailable = new mCheckBox(MyLocale.getMsg(730,"Searchable")), CellConstants.DONTSTRETCH, CellConstants.FILL);
+		pnlAttributes.addNext(chkAvailable = new mCheckBox(MyLocale.getMsg(730,"Suchbar")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		pnlAttributes.addLast(chkNotAvailable = new mCheckBox(MyLocale.getMsg(711,"Not available")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
 		pnlAttributes.addNext(chkFound = new mCheckBox(MyLocale.getMsg(703,"Found")), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAttributes.addLast(chkNotFound = new mCheckBox(MyLocale.getMsg(731,"Not yet found")), CellConstants.DONTSTRETCH, CellConstants.FILL);
+		pnlAttributes.addLast(chkNotFound = new mCheckBox(MyLocale.getMsg(731,"Noch nicht gefunden")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 		
 		pnlAttributes.addNext(chkOwned = new mCheckBox(MyLocale.getMsg(707,"Owned")), CellConstants.DONTSTRETCH, CellConstants.FILL);
-		pnlAttributes.addLast(chkNotOwned = new mCheckBox(MyLocale.getMsg(732,"Other owner")), CellConstants.DONTSTRETCH, CellConstants.FILL);
+		pnlAttributes.addLast(chkNotOwned = new mCheckBox(MyLocale.getMsg(732,"Anderer Besitzer")), CellConstants.DONTSTRETCH, CellConstants.FILL);
 
 		//////////////////////////
 		// Panel 3 - Cache ratings

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/ImagePanel.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -187,7 +187,7 @@
 					locY = locY+thumb_size+padding;
 				}
 			}catch(IllegalArgumentException imex){ // file not found, could not decode etc.
-				MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(326,"Cannot load image/map")+":\n"+imex.getMessage(), MessageBox.OKB); // @todo: language support
+				MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht laden")+":\n"+imex.getMessage(), MessageBox.OKB); // @todo: language support
 				tmp.exec();
 			} catch (OutOfMemoryError e) { // TODO show an error icon in the panel instead of nothing
 				(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+":\n"+location,MessageBox.OKB)).exec();
@@ -246,7 +246,7 @@
 					ImageDetailForm iF = new ImageDetailForm(fn, pref);
 					iF.execute(null, Gui.CENTER_FRAME);
 				} catch (IllegalArgumentException e) {
-					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(322,"Cannot find image/map"), MessageBox.OKB); // @todo: language support
+					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht finden"), MessageBox.OKB); // @todo: language support
 					tmp.exec();
 				} catch (OutOfMemoryError e) {
 					(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+"\n"+fn,MessageBox.OKB)).exec();

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -55,8 +55,8 @@
 		///////////////////////////////////////////////////////////////////////
 		MenuItem[] mnuImport = new MenuItem[6];
 		mnuImport[0] = loadcaches  = new MenuItem(MyLocale.getMsg(129,"Import GPX")); //TODO internationalization
-		mnuImport[1] = loadOC      = new MenuItem(MyLocale.getMsg(130,"Download from opencaching.de")); 
-		mnuImport[2] = spider      = new MenuItem(MyLocale.getMsg(131,"Spider from geocaching.com")); 
+		mnuImport[1] = loadOC      = new MenuItem(MyLocale.getMsg(130,"Download von opencaching.de")); 
+		mnuImport[2] = spider      = new MenuItem(MyLocale.getMsg(131,"Spider von geocaching.com")); 
 		mnuImport[3] = update      = new MenuItem(MyLocale.getMsg(1014,"Update cache data"));
 		mnuImport[4] = mnuSeparator = new MenuItem("-"); 
 		mnuImport[5] = mnuForceLogin      = new MenuItem("Always login to GC"); 
@@ -100,7 +100,7 @@
 		// Create the "Application" pulldown menu
 		///////////////////////////////////////////////////////////////////////
 		MenuItem [] appMenuItems=new MenuItem[11];
-		appMenuItems[0] = profiles 	 = new MenuItem(MyLocale.getMsg(121,"Profiles"), 0, profileMenu); 
+		appMenuItems[0] = profiles 	 = new MenuItem(MyLocale.getMsg(121,"Profile"), 0, profileMenu); 
 		appMenuItems[1] = preferences = new MenuItem(MyLocale.getMsg(108,"Preferences")); 
 		appMenuItems[2] = mnuEditCenter = new MenuItem(MyLocale.getMsg(1110,"Centre"));
 		appMenuItems[3] = mnuSeparator;
@@ -117,7 +117,7 @@
 		// Create the "Search" pulldown menu
 		///////////////////////////////////////////////////////////////////////
 		MenuItem[] searchMenuItems=new MenuItem[2];
-		searchMenuItems[0] = search = new MenuItem(MyLocale.getMsg(112,"Search")+"$");
+		searchMenuItems[0] = search = new MenuItem(MyLocale.getMsg(112,"Search$"+(char)6)); // char 6 = ctrl +f 
 		searchMenuItems[1] = searchClr = new MenuItem(MyLocale.getMsg(113,"Clear search"));
 
 		///////////////////////////////////////////////////////////////////////
@@ -434,7 +434,7 @@
 						MapImporter map = new MapImporter(pref, sM.getSelectedMap(),sM.worldfileexists);
 						map.execute(null, Gui.CENTER_FRAME);
 					} catch (java.lang.OutOfMemoryError e) {
-						MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), MyLocale.getMsg(156,"Out of memory error, map too big"), MessageBox.OKB);
+						MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), MyLocale.getMsg(156,"Out of memory error, map to big"), MessageBox.OKB);
 						tmpMB.exec();
 					}
 				}

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -254,7 +254,7 @@
 	/** Update the distances of all caches to the centre and display a message 
 	 */
 	public void updateBearDist(){// Called from DetailsPanel, GotoPanel and myTableControl
-		MessageBox info = new MessageBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(1024,"Distances in list view \n are recalculated now..."), 0);
+		MessageBox info = new MessageBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(1024,"Entfernungen in der Listenansicht \n werden neu berechnet...").replace('~','\n'), 0);
 		info.exec();
 		tbP.pref = pref;
 		profile.updateBearingDistance();
@@ -388,7 +388,7 @@
 		updatePendingChanges();
 		if (askForConfirmation) { // Don't know whether to save, have to ask
 			if (profile.hasUnsavedChanges &&     // Only ask if there were changes 
-					(new MessageBox(MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(1207,"Your profile has unsaved changes. Do you want to save?"),MessageBox.DEFOKB|MessageBox.NOB)).execute()==MessageBox.IDOK) {
+					(new MessageBox(MyLocale.getMsg(144,"Warnung"),MyLocale.getMsg(1207,"Your profile has unsaved changes. Do you want to save?"),MessageBox.DEFOKB|MessageBox.NOB)).execute()==MessageBox.IDOK) {
 				saveIndex=true; 
 			}
 		}
@@ -405,3 +405,5 @@
 		}
 	}
 }
+// 
+

Modified: trunk/src/CacheWolf/NewProfileForm.java
===================================================================
--- trunk/src/CacheWolf/NewProfileForm.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/NewProfileForm.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -41,7 +41,7 @@
 				profileDir=inpDir.getDisplayText();
 				File f=new File(baseDir+profileDir);
 				if (f.exists()) {
-					MessageBox mb=new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(1114,"Directory already exists"),MBOK);
+					MessageBox mb=new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(1114,"Directory exists already."),MBOK);
 					mb.execute();
 					profileDir="";
 				} else {

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -106,7 +106,7 @@
 		}
 
 		// this is only a dummy-InfoBox for capturing the output
-		inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching.de"), InfoBox.PROGRESS_WITH_WARNINGS, false);
+		inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching"), InfoBox.PROGRESS_WITH_WARNINGS, false);
 //		inf.setPreferredSize(220, 300);
 //		inf.relayout(false);
 //		inf.exec();
@@ -195,7 +195,7 @@
 			+ "&charset=utf-8"
 			+ "&cdata=0"
 			+ "&session=0";
-		inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching.de"), InfoBox.PROGRESS_WITH_WARNINGS, false);
+		inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching"), InfoBox.PROGRESS_WITH_WARNINGS, false);
 		inf.setPreferredSize(220, 300);
 		inf.relayout(false);
 		inf.exec();
@@ -222,7 +222,7 @@
 		BufferedReader r;
 		String file = new String();
 
-		//inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching.de"), InfoBox.PROGRESS_WITH_WARNINGS, false);
+		//inf = new InfoBox("Opencaching download", MyLocale.getMsg(1608,"downloading data\n from opencaching"), InfoBox.PROGRESS_WITH_WARNINGS, false);
 		
 		picCnt = 0;
 		try{
@@ -402,7 +402,7 @@
 	}
 
 	private void startCacheLog(String name, AttributeList atts){
-		inf.setInfo(MyLocale.getMsg(1612,"Importing cache log:")+" " + numLogImported);
+		inf.setInfo(MyLocale.getMsg(1612,"Importing Cachlog:")+" " + numLogImported);
 		if (name.equals("logtype")){
 			logtype = Convert.toInt(atts.getValue("id"));
 			switch (logtype) {
@@ -516,7 +516,7 @@
 						fetchUrl=imgRegexUrl.stringMatched(2); // URL in Anf?hrungszeichen in (2) falls ohne in (3) Ergebnis ist auf jeden Fall ohne Anf?hrungszeichen 
 						if (fetchUrl==null) { fetchUrl=imgRegexUrl.stringMatched(3); }
 						if (fetchUrl==null) { // TODO Fehler ausgeben: nicht abgedeckt ist der Fall, dass in einem Cache Links auf Bilder mit unterschiedlichen URL, aber gleichem Dateinamen sind.
-							inf.addWarning(MyLocale.getMsg(1617, "Ignoring error in HTML cache description: \"<img\" without \"src=\" in cache ")+chD.wayPoint);
+							inf.addWarning(MyLocale.getMsg(1617, "Ignoriere Fehler in html-Cache-Description: \"<img\" without \"src=\" in cache "+chD.wayPoint));
 							continue;
 						}
 						inf.setInfo(MyLocale.getMsg(1611,"Importing cache description:")+" " + numDescImported + "\n"+MyLocale.getMsg(1620, "downloading embedded images: ") + numDownloaded++);

Modified: trunk/src/CacheWolf/OCXMLImporterScreen.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporterScreen.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/OCXMLImporterScreen.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -66,7 +66,7 @@
 
 		if((options & ALL) > 0){
 			missingCheckBox = new mCheckBox();
-			missingCheckBox.setText(MyLocale.getMsg(1606,"Re-download all"));
+			missingCheckBox.setText(MyLocale.getMsg(1606,"Alle erneut downloaden"));
 			missingCheckBox.setState(false); // @ToDo: aus Prefs
 			this.addLast(missingCheckBox, CellConstants.DONTSTRETCH, CellConstants.DONTFILL|CellConstants.WEST);
 		}

Modified: trunk/src/CacheWolf/Parser.java
===================================================================
--- trunk/src/CacheWolf/Parser.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/Parser.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -170,7 +170,7 @@
      * Add an error message to the message stack and raise an Exception.
     */
 	private void err(String str) throws Exception {
-    	messageStack.add(MyLocale.getMsg(1700,"Error on line: ") + thisToken.line + " "+MyLocale.getMsg(1701," position: ") + thisToken.position);
+    	messageStack.add(MyLocale.getMsg(1700,"Error on line: ") + thisToken.line + "  "+MyLocale.getMsg(1701,"position: ") + thisToken.position);
     	messageStack.add(str);
     	// move cursor to error location
     	if (Global.mainTab.solverP.mText.setSelectionRange(0,thisToken.line-1,thisToken.position+thisToken.token.length()-1,thisToken.line-1))Global.mainTab.solverP.mText.repaintNow();

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -107,7 +107,7 @@
 		inpGPS.setText(pref.mySPO.portName+"/"+pref.mySPO.baudRate);
 		
 		// Garmin and GPSBabel
-		frmGarmin.addNext(lblGarmin=new mLabel(MyLocale.getMsg(173,"GPSBabel:")),DONTSTRETCH,LEFT);
+		frmGarmin.addNext(lblGarmin=new mLabel(MyLocale.getMsg(173,"Garmin:  PC Port:")),DONTSTRETCH,LEFT);
 		lblGarmin.setTag(INSETS,new Insets(4,0,0,0));
 		frmGarmin.addNext(chcGarminPort=new mChoice(garminPorts,0),DONTSTRETCH,LEFT);
 		chcGarminPort.setTag(INSETS,new Insets(4,0,0,0));
@@ -205,7 +205,7 @@
 		//ewe.sys.Vm.copyArray(tmp, 0, langs, 1, tmp.length);
 		pnlMore.addLast(inpLanguage=new mChoice(langs, curlang),DONTSTRETCH,DONTFILL|WEST);
 		//inpLanguage.setPreferredSize(20,-1);
-		inpLanguage.setToolTip(MyLocale.getMsg(591,"Select \"auto\" for system language or select your preferred language, e.g. DE, EN, NL"));
+		inpLanguage.setToolTip(MyLocale.getMsg(591,"Select \"auto\" for system language or select your preferred language, e.g. DE or EN"));
 		
 		/////////////////////////////////////////////////////////
 		// Fourth/Fifth panel - Listview and Travelbugs
@@ -228,7 +228,7 @@
 				MyLocale.getMsg(612,"Distance"),
 				MyLocale.getMsg(613,"Bearing"),
 				MyLocale.getMsg(635,"Size"),
-				MyLocale.getMsg(636,"OC Recommends"),
+				MyLocale.getMsg(636,"OC Empfehlungen"),
 				MyLocale.getMsg(637,"OC Index")},pref.listColMap),MyLocale.getMsg(595,"List"),null);
 
 		Card c=mTab.addCard(tccBugs=new TableColumnChooser(new String[] {

Modified: trunk/src/CacheWolf/Rebuild.java
===================================================================
--- trunk/src/CacheWolf/Rebuild.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/Rebuild.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -17,7 +17,7 @@
 		
 		myProgressBarForm pbf = new myProgressBarForm();
 		Handle h = new Handle();
-		pbf.setTask(h,MyLocale.getMsg(209,"Rebuilding Index"));
+		pbf.setTask(h,MyLocale.getMsg(209,"Rebuilding index"));
 		pbf.exec();
 
 		FileBugfix file=new FileBugfix(Global.getProfile().dataDir);
@@ -54,8 +54,8 @@
 				if (pbf.isClosed) break;
 			}
 			(new MessageBox(MyLocale.getMsg(327, "Information"), 
-					  MyLocale.getMsg(210,"Caches not in index.xml: ")+orphans+
-					  MyLocale.getMsg(211,"\nAdded these: ")+nAdded
+					  MyLocale.getMsg(210,"Caches nicht in index.xml: ")+orphans+
+					  MyLocale.getMsg(211,"\nDavon hinzugef?gt: ")+nAdded
 					, MessageBox.OKB)).execute();
 			prof.buildReferences();
 			prof.saveIndex(Global.getPref(),true);

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -163,7 +163,7 @@
 				}catch(Exception ex){
 					pref.log("[login]:Login failed with exception.", ex);
 					infB.close(0);
-					(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5515,"Login failed. Error loading page after login."), MessageBox.OKB)).execute();
+					(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed. Error loading page after login."), MessageBox.OKB)).execute();
 					return ERR_LOGIN;
 				}
 			}

Modified: trunk/src/CacheWolf/TravelbugPickup.java
===================================================================
--- trunk/src/CacheWolf/TravelbugPickup.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/TravelbugPickup.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -11,7 +11,7 @@
 	 */
 	public static Travelbug pickupTravelbug(TravelbugList tbl) {
 		Travelbug tb=null;
-		TravelbugScreen tbs=new TravelbugScreen(tbl,MyLocale.getMsg(6016,"Pick up Travelbug"),true);
+		TravelbugScreen tbs=new TravelbugScreen(tbl,MyLocale.getMsg(6016,"Pick up travelbug"),true);
 		tbs.execute(); // Select TB to pick up
 		if (tbs.selectedItem>=0) { // Was a TB selected ?
 			// If the returned item is bigger than number of bugs in cache

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -19,10 +19,10 @@
 	private Menu mFull = new Menu(new String[]{
 			MyLocale.getMsg(1021,"Open description"),
 			MyLocale.getMsg(1010,"Goto"),
-			MyLocale.getMsg(1019,"Set as centre"),
+			MyLocale.getMsg(1019,"Enter"),
 			"-",
-			MyLocale.getMsg(1020,"Open online in browser"),
-			MyLocale.getMsg(1018,"Open offline in browser"),
+			MyLocale.getMsg(1020,"Open in $browser online"),
+			MyLocale.getMsg(1018,"Open in browser offline"),
 			"-",
 			MyLocale.getMsg(1012,"Delete selected"),
 			"-",
@@ -32,10 +32,10 @@
 	private Menu mSmall = new Menu(new String[]{
 			MyLocale.getMsg(1021,"Open description"),
 			MyLocale.getMsg(1010,"Goto"),
-			MyLocale.getMsg(1019,"Set as centre"),
+			MyLocale.getMsg(1019,"Enter"),
 			"-",
-			MyLocale.getMsg(1020,"Open online in browser"),
-			MyLocale.getMsg(1018,"Open offline in browser")},
+			MyLocale.getMsg(1020,"Open in $browser online"),
+			MyLocale.getMsg(1018,"Open in browser offline")},
 			MyLocale.getMsg(1013,"With selection"));
 
 	myTableControl(TablePanel tablePanel) {
@@ -115,7 +115,7 @@
 			setSelectForAll(false);
 		}
 
-		if (selectedItem.toString().equals(MyLocale.getMsg(1012,"Delete selected"))){
+		if (selectedItem.toString().equals(MyLocale.getMsg(1012,"Delete"))){
 			Vm.showWait(true);
 			// Count # of caches to delete
 			int count=0;
@@ -123,7 +123,7 @@
 				if ( ((CacheHolder)cacheDB.get(i)).is_Checked) count++;
 			}
 			if (count>0) {
-				if ((new MessageBox(MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(1022, "Delete all caches that have a tick?"), MessageBox.YESB | MessageBox.NOB)).execute() != Form.IDYES) return;
+				if ((new MessageBox(MyLocale.getMsg(144,"Warnung"),MyLocale.getMsg(1022, "Delete all caches that have a tick?"), MessageBox.YESB | MessageBox.NOB)).execute() != Form.IDYES) return;
 				DataMover dm=new DataMover();
 				myProgressBarForm pbf = new myProgressBarForm();
 				Handle h = new Handle();
@@ -151,7 +151,7 @@
 			Vm.showWait(false);
 		}
 
-		if (selectedItem.toString().equals(MyLocale.getMsg(1019,"Set as centre"))){
+		if (selectedItem.toString().equals(MyLocale.getMsg(1019,"Centre"))){
 			CacheHolder thisCache = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
 			CWPoint cp=new CWPoint(thisCache.LatLon);
 			if (!cp.isValid()){
@@ -168,7 +168,7 @@
 			ch = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
 			Global.mainTab.gotoPoint(ch.pos);
 		}
-		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1020,"Open online in browser"))){
+		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1020,"Open online in Browser"))){
 			ch = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
 			CacheHolderDetail chD=ch.getCacheDetails(false, true);
 			try {
@@ -180,7 +180,7 @@
 				(new MessageBox("Error", "Cannot start browser!\n"+ex.toString()+"\nThe are two possible reasons:\n * path to internet browser in \npreferences not correct\n * An bug in ewe VM, please be \npatient for an update",MessageBox.OKB)).execute();
 			}
 		}
-		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1018,"Open offline in browser"))) {
+		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1018,"Open in browser offline"))) {
 			ShowCacheInBrowser sc=new ShowCacheInBrowser();
 			sc.showCache(((CacheHolder)cacheDB.get(tbp.getSelectedCache())).getCacheDetails(false, true));
 		}

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -267,7 +267,7 @@
 		}
 		// cannot interprete data
 		if (fix == -2) {
-			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1511, "Cannot interpret data from GPS\n possible reasons:\n wrong port,\n wrong baudrate,\n not NMEA 0183 protocol\nConnection to serial port closed\nLast string tried to parse:\n")+myNavigation.gpsPos.lastStrExamined, MessageBox.OKB)).exec();
+			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1511, "Cannot interpret data from GPS\n possible reasons:\n wrong Port,\n wrong Baudrate,\n not NMEA-Protocol\nConnection to serial port closed\nLast String tried to interprete:\n")+myNavigation.gpsPos.lastStrExamined, MessageBox.OKB)).exec();
 			gpsStatus = RED;
 			myNavigation.stopGps(); // TODO automatic in myNavigate?
 		}
@@ -290,7 +290,7 @@
 
 	
 	private String getGotoBtnText() {
-		if (myNavigation.destination == null) return MyLocale.getMsg(999,"not set");
+		if (myNavigation.destination == null) return MyLocale.getMsg(999,"Not set");
 		else return myNavigation.destination.toString(currFormat);
 	}
 	

Modified: trunk/src/CacheWolf/navi/MapImporter.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImporter.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/navi/MapImporter.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -128,7 +128,7 @@
 		if(tmp != FileChooser.IDYES) return Form.IDCANCEL;
 		File inDir = fc.getChosenFile();
 		File mapFile;
-		InfoBox inf = new InfoBox("Info", MyLocale.getMsg(4109,"Loading maps...")+"            \n", InfoBox.PROGRESS_WITH_WARNINGS, false); 
+		InfoBox inf = new InfoBox("Info", MyLocale.getMsg(4109,"Loading maps...            \n"), InfoBox.PROGRESS_WITH_WARNINGS, false); 
 		inf.setPreferredSize(220, 300);
 		inf.setInfoHeight(100);
 		inf.relayout(false);
@@ -332,7 +332,7 @@
 						wfl.saveWFL(mapsPath, thisMap);
 						if(Global.mainTab.mm != null) Global.mainTab.mm.mapsloaded = false; 
 					} catch (IOException e) {
-						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(323, "Error writing file ") + e.getMessage()+MyLocale.getMsg(324, " - retry?"), MessageBox.YESB | MessageBox.NOB);
+						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(321, "Error writing file ") + e.getMessage()+MyLocale.getMsg(324, " - retry?"), MessageBox.YESB | MessageBox.NOB);
 						if (tmpMB.execute() == MessageBox.IDYES) retry = true;
 					}catch (IllegalArgumentException e) {
 						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(325, "Map not calibrated")+MyLocale.getMsg(324, " - retry?"), MessageBox.YESB | MessageBox.NOB);

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -91,7 +91,7 @@
 	 */
 	public MapInfoObject(double scalei, double lat) {
 		super(new CWPoint(1,0), new CWPoint(0,1));
-		mapName=MyLocale.getMsg(4300, "empty 1 Pixel = ") + scalei + MyLocale.getMsg(4307,"meters");
+		mapName=MyLocale.getMsg(4300, "empty 1 Pixel = ") + scalei + MyLocale.getMsg(4301,"meters");
 		double meters2deg = 1/(1000*(new CWPoint(0,0)).getDistance(new CWPoint(1,0)));
 		double pixel2deg = meters2deg * scalei;
 		affine[0]=0; //x2lat

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -67,7 +67,7 @@
 			try {
 				if (!showprogress && ((i & 0) == 0) && (new Time().getTime()-start  > 100) ) { // reason for (i & 7 == 0): test time only after i is incremented 15 times
 					showprogress = true;      
-					progressBox = new InfoBox(MyLocale.getMsg(327, "Information"), MyLocale.getMsg(4800, "Loading online map services"));
+					progressBox = new InfoBox(MyLocale.getMsg(327, "Info"), MyLocale.getMsg(4800, "Loading online map services"));
 					progressBox.exec(); 
 					progressBox.waitUntilPainted(500);
 					ewe.sys.Vm.showWait(true);
@@ -578,7 +578,7 @@
 			int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[0]);
 			GkPoint gkbl = TransformCoordinates.wgs84ToGk(p, region); // TODO: think / read about what to do if buttom left and top right ae not in the same Gau?-Kr?ger stripe?
 			crs = TransformCoordinates.whichEpsg(coordinateReferenceSystem, gkbl);
-			if (crs < 0) throw new IllegalArgumentException(MyLocale.getMsg(4829, "getUrlForBoundingBox: Point:")+" " + gkbl.toString() + MyLocale.getMsg(4830, "no matching Gauss-Krueger-Stripe in the EPSG-code list in the .wms"));
+			if (crs < 0) throw new IllegalArgumentException(MyLocale.getMsg(4829, "getUrlForBoundingBox: Point:")+" " + gkbl.toString() + MyLocale.getMsg(4830, "no matching Gau?-Kr?ger-Stripe in the EPSG-code list in the .wms"));
 		}
 		return crs;
 	}

Modified: trunk/src/CacheWolf/navi/MapLoaderGui.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -38,7 +38,7 @@
 	mLabel km = new mLabel("km");
 	mLabel coosLbl;
 	mButton coosBtn;
-	mLabel scaleLbl = new mLabel(MyLocale.getMsg(1807,"Approx. m per pixel")+":");
+	mLabel scaleLbl = new mLabel(MyLocale.getMsg(1807,"Approx. m per pixel:"));
 	mInput scaleInput = new mInput ("3");
 	mInput scaleInputPerCache = new mInput ("1");
 	mLabel overlappingLbl = new mLabel(MyLocale.getMsg(1808,"overlapping in pixel:"));
@@ -127,7 +127,7 @@
 		okBPerCache.setHotKey(0, IKeys.ENTER);
 		pnlPerCache.addLast(okBPerCache, CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
 
-		mTab.addCard(pnlPerCache, MyLocale.getMsg(1814, "per cache"), MyLocale.getMsg(1814, "per cache"));
+		mTab.addCard(pnlPerCache, MyLocale.getMsg(1814, "Per cache"), MyLocale.getMsg(1813, "Per Cache"));
 		this.addLast(mTab);
 	}
 
@@ -185,7 +185,7 @@
 		if (forCachesChkBox.getState() || perCache) {
 			Area surArea = Global.getProfile().getSourroundingArea(onlySelected); // calculate map boundaries from cacheDB
 			if (surArea == null) {
-				(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1817, "No Caches are selected"), MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1817, "No Caches are seleted"), MessageBox.OKB)).execute();
 				Vm.showWait(false);
 				progressBox.close(0);
 				return;
@@ -282,7 +282,7 @@
 					overlapping = Convert.toInt(overlappingInput.getText());
 					if (!forCachesChkBox.getState()) {
 						if (radius <= 0) { 
-							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1827, "'radius' must be greater than 0"), MessageBox.OKB)).execute();
+							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1827, "'radius' must be graeter than 0"), MessageBox.OKB)).execute();
 							return;
 						}
 						if (overlapping < 0) { 

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/navi/MapsList.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -119,7 +119,7 @@
 		for (int i=size()-1; i >= 0 ;i--) {
 			if (!showprogress && ((i & 31) == 0) && (new Time().getTime()-start  > 100) ) { // reason for (i & 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(4701,"Searching for best map"));
+				progressBox = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4701,"Searching for best map"));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -198,7 +198,7 @@
 		for (int i=size() -1; i>=0 ;i--) {
 			if (!showprogress && ((i & 31) == 0) && (new Time().getTime()-start  > 100) ) { // reason for (i & 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(4701,"Searching for best map"));
+				progressBox = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4701,"Searching for best map"));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -267,7 +267,7 @@
 		for (int i=size()-1; i >= 0 ;i--) { 
 			if (!showprogress && ((i & 31) == 0) && (new Time().getTime()-start  > 100) ) { // reason for (i & 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(4701,"Searching for best map"));
+				progressBox = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4701,"Searching for best map"));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -445,7 +445,7 @@
 					if ( (new MessageBox(MyLocale.getMsg(4702,"Optimisation"), MyLocale.getMsg(4703,"Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?\n It can take several minutes"), 
 							MessageBox.YESB | MessageBox.NOB)).execute() == MessageBox.IDYES)
 					{
-						renameProgressInfoB = new InfoBox(MyLocale.getMsg(327,"Information"), MyLocale.getMsg(4704,"\nRenaming file:")+"    \n");
+						renameProgressInfoB = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4704,"\nRenaming file:")+"    \n");
 						renameProgressInfoB.exec();
 						renameProgressInfoB.waitUntilPainted(100);
 						rename = 1; // rename
@@ -467,7 +467,7 @@
 					map.fileNameWFL = path + filename + ".wfl";
 				}
 			} catch (IOException ioex) { // this should not happen
-				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4707,"Error while reading:")+" "+path+filename+": "+ ioex.getMessage(), MessageBox.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4706,"Error while reading:")+" "+path+filename+": "+ ioex.getMessage(), MessageBox.OKB)).exec();
 			}
 		}
 	}

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -183,7 +183,7 @@
 		//this.mapPath = mapsPath;
 		Vm.showWait(this, true);
 		resetCenterOfMap();
-		InfoBox inf = new InfoBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4203, "Loading list of maps..."));
+		InfoBox inf = new InfoBox(MyLocale.getMsg(4201, "Info"), MyLocale.getMsg(4203, "Loading list of maps..."));
 		inf.exec();
 		inf.waitUntilPainted(100);
 		boolean saveGpsIgnoreStatus = dontUpdatePos;
@@ -1025,7 +1025,7 @@
 	public void loadMapForAllCaches(){
 		Area sur = Global.getProfile().getSourroundingArea(true);
 		if (sur == null) {
-			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4215, "Did not select any caches"), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4215, "Keine  Caches mit H?ckchen ausgew?hlt"), MessageBox.OKB)).execute();
 			return;
 		}
 		MapInfoObject newmap = maps.getMapForArea(sur.topleft, sur.buttomright);
@@ -1370,7 +1370,7 @@
 	MenuItem showMapMI = new MenuItem(MyLocale.getMsg(4238, "Show map"), new IconAndText(new mImage("map_on.png"), MyLocale.getMsg(4239, "Show map"), null, Graphics.RIGHT));
 	MenuItem hideMapMI = new MenuItem(MyLocale.getMsg(4240, "Hide map"), new IconAndText(new mImage("map_off.png"), MyLocale.getMsg(4241, "Hide map"), null, Graphics.RIGHT));
 	// automatic
-	MenuItem mapChangeModusMI = new MenuItem(MyLocale.getMsg(4242, "Mode for automatic map change"), MenuItem.Separator, null);;
+	MenuItem mapChangeModusMI = new MenuItem(MyLocale.getMsg(4242, "Modus for automatic map change"), MenuItem.Separator, null);;
 	MenuItem highestResGpsDestMI = new MenuItem(MyLocale.getMsg(4244, "Highest res. containing dest. & cur. position"), new IconAndText(new mImage("res_gps_goto.png"), MyLocale.getMsg(4245, "Highest res. containing dest. & cur. position"), null, Graphics.RIGHT)); //immer h?chste Aufl?sung w?hlen, die akt. Pos. und Ziel enthalten 
 	MenuItem highestResolutionMI = new MenuItem(MyLocale.getMsg(4246, "Highest resolution"), new IconAndText(new mImage("res_high.png"), MyLocale.getMsg(4247, "Highest resolution"), null, Graphics.RIGHT)); //immer h?chste Aufl?sung w?hlen 
 	MenuItem keepManResolutionMI = new MenuItem(MyLocale.getMsg(4248, "Keep manual resolution"), new IconAndText(new mImage("res_manuell.png"), MyLocale.getMsg(4249, "Keep manual resolution"), null, Graphics.RIGHT)); // manuell gew?hlte Aufl?sung beibehalten  
@@ -1852,7 +1852,7 @@
 			}
 		}
 		if (gotopos != null) {
-			list.addItem(MyLocale.getMsg(4274, "--- maps of target area ---"));
+			list.addItem(MyLocale.getMsg(4274, "--- Karten des Ziels ---"));
 			row++;
 			cmp = "FF1"+Area.getEasyFindString(gotopos, 30);
 			for(int i = 0; i<maps.size();i++){
@@ -1869,7 +1869,7 @@
 				}
 			}
 		}
-		list.addItem(MyLocale.getMsg(4275, "--- other maps ---"));
+		list.addItem(MyLocale.getMsg(4275, "--- andere Karten ---"));
 		row++;
 		for(int i = 0; i<maps.size();i++){
 			ml = (MapListEntry)maps.get(i);

Modified: trunk/src/exp/MagellanExporter.java
===================================================================
--- trunk/src/exp/MagellanExporter.java	2008-03-16 23:02:30 UTC (rev 1263)
+++ trunk/src/exp/MagellanExporter.java	2008-03-16 23:11:55 UTC (rev 1264)
@@ -81,10 +81,10 @@
 					}
 					reader.close();
 				} catch (FileNotFoundException e) {
-					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2101, "Failure at loading magellan.cfg\n") + e.getMessage());
+					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2101, "Failure at loading magellan.cfg\n" + e.getMessage()));
 					info.show();
 				} catch (IOException e) {
-					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2103, "Failure at reading magellan.cfg\n") + e.getMessage());
+					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2103, "Failure at reading magellan.cfg\n" + e.getMessage()));
 					info.show();
 				} finally {
 					cacheDB.sort(new DistanceComparer(centre),false);



From kappler at mail.berlios.de  Mon Mar 17 10:39:57 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Mon, 17 Mar 2008 10:39:57 +0100
Subject: [Cachewolf-svn] r1265 - in trunk: resources src/CacheWolf
Message-ID: <200803170939.m2H9dvqu028032@sheep.berlios.de>

Author: kappler
Date: 2008-03-17 10:39:24 +0100 (Mon, 17 Mar 2008)
New Revision: 1265

Added:
   trunk/resources/108_vga.png
   trunk/resources/bug_no_vga.gif
   trunk/resources/bug_vga.gif
   trunk/resources/cachetour_vga.png
   trunk/resources/calendar_vga.png
   trunk/resources/date_time.gif
   trunk/resources/date_time_vga.gif
   trunk/resources/descr_vga.gif
   trunk/resources/details_vga.gif
   trunk/resources/filter_vga.png
   trunk/resources/globe_small_vga.gif
   trunk/resources/goto_vga.gif
   trunk/resources/goto_vga.png
   trunk/resources/images_vga.gif
   trunk/resources/is_black_vga.png
   trunk/resources/more_vga.gif
   trunk/resources/newwpt_vga.png
   trunk/resources/no_black_vga.png
   trunk/resources/notes_vga.gif
   trunk/resources/projecttab_vga.gif
   trunk/resources/radar_vga.gif
   trunk/resources/solver_vga.gif
Removed:
   trunk/resources/108_32x32.png
   trunk/resources/bug_32x32.gif
   trunk/resources/bug_no_32x32.gif
   trunk/resources/date_time.png
   trunk/resources/date_time_32x32.png
   trunk/resources/descr_32x32.gif
   trunk/resources/details_32x32.gif
   trunk/resources/globe_small_32x32.gif
   trunk/resources/goto_32x32.gif
   trunk/resources/goto_32x32.png
   trunk/resources/images_32x32.gif
   trunk/resources/is_black_32x32.png
   trunk/resources/more_32x32.gif
   trunk/resources/newwpt_32x32.png
   trunk/resources/no_black_32x32.png
   trunk/resources/notes_32x32.gif
   trunk/resources/projecttab_32x32.gif
   trunk/resources/radar_32x32.gif
   trunk/resources/solver_32x32.gif
Modified:
   trunk/resources/calendar.png
   trunk/resources/filter.png
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/FilterScreen.java
   trunk/src/CacheWolf/InfoBox.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/StatusBar.java
Log:
VGA: improved some Icons; Filterscreen and Infoboxes resize with FontSize

Deleted: trunk/resources/108_32x32.png
===================================================================
(Binary files differ)

Copied: trunk/resources/108_vga.png (from rev 1243, trunk/resources/108_32x32.png)
===================================================================
(Binary files differ)

Deleted: trunk/resources/bug_32x32.gif
===================================================================
(Binary files differ)

Deleted: trunk/resources/bug_no_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/bug_no_vga.gif (from rev 1243, trunk/resources/bug_no_32x32.gif)
===================================================================
(Binary files differ)

Copied: trunk/resources/bug_vga.gif (from rev 1243, trunk/resources/bug_32x32.gif)
===================================================================
(Binary files differ)

Added: trunk/resources/cachetour_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/cachetour_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/resources/calendar.png
===================================================================
(Binary files differ)

Added: trunk/resources/calendar_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/calendar_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/date_time.gif
===================================================================
(Binary files differ)


Property changes on: trunk/resources/date_time.gif
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Deleted: trunk/resources/date_time.png
===================================================================
(Binary files differ)

Deleted: trunk/resources/date_time_32x32.png
===================================================================
(Binary files differ)

Added: trunk/resources/date_time_vga.gif
===================================================================
(Binary files differ)


Property changes on: trunk/resources/date_time_vga.gif
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Deleted: trunk/resources/descr_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/descr_vga.gif (from rev 1243, trunk/resources/descr_32x32.gif)
===================================================================
(Binary files differ)

Deleted: trunk/resources/details_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/details_vga.gif (from rev 1243, trunk/resources/details_32x32.gif)
===================================================================
(Binary files differ)

Modified: trunk/resources/filter.png
===================================================================
(Binary files differ)

Added: trunk/resources/filter_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/filter_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Deleted: trunk/resources/globe_small_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/globe_small_vga.gif (from rev 1243, trunk/resources/globe_small_32x32.gif)

Deleted: trunk/resources/goto_32x32.gif
===================================================================
(Binary files differ)

Deleted: trunk/resources/goto_32x32.png
===================================================================
(Binary files differ)

Copied: trunk/resources/goto_vga.gif (from rev 1243, trunk/resources/goto_32x32.gif)
===================================================================
(Binary files differ)

Copied: trunk/resources/goto_vga.png (from rev 1243, trunk/resources/goto_32x32.png)
===================================================================
(Binary files differ)

Deleted: trunk/resources/images_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/images_vga.gif (from rev 1243, trunk/resources/images_32x32.gif)
===================================================================
(Binary files differ)

Deleted: trunk/resources/is_black_32x32.png
===================================================================
(Binary files differ)

Copied: trunk/resources/is_black_vga.png (from rev 1243, trunk/resources/is_black_32x32.png)
===================================================================
(Binary files differ)

Deleted: trunk/resources/more_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/more_vga.gif (from rev 1243, trunk/resources/more_32x32.gif)
===================================================================
(Binary files differ)

Deleted: trunk/resources/newwpt_32x32.png
===================================================================
(Binary files differ)

Copied: trunk/resources/newwpt_vga.png (from rev 1243, trunk/resources/newwpt_32x32.png)

Deleted: trunk/resources/no_black_32x32.png
===================================================================
(Binary files differ)

Copied: trunk/resources/no_black_vga.png (from rev 1243, trunk/resources/no_black_32x32.png)
===================================================================
(Binary files differ)

Deleted: trunk/resources/notes_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/notes_vga.gif (from rev 1243, trunk/resources/notes_32x32.gif)

Deleted: trunk/resources/projecttab_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/projecttab_vga.gif (from rev 1253, trunk/resources/projecttab_32x32.gif)

Deleted: trunk/resources/radar_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/radar_vga.gif (from rev 1243, trunk/resources/radar_32x32.gif)
===================================================================
(Binary files differ)

Deleted: trunk/resources/solver_32x32.gif
===================================================================
(Binary files differ)

Copied: trunk/resources/solver_vga.gif (from rev 1243, trunk/resources/solver_32x32.gif)
===================================================================
(Binary files differ)

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-16 23:11:55 UTC (rev 1264)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-17 09:39:24 UTC (rev 1265)
@@ -53,7 +53,7 @@
 		// Use larger Button-Icons on VGA-mobiles
 		int sw = MyLocale.getScreenWidth();
 		String imagesize="";
-		if (Vm.isMobile() && sw >= 400) imagesize="_32x32";  
+		if (Vm.isMobile() && sw >= 400) imagesize="_vga";  
 		// Button 1: New Waypoint
 		pnlTools.addNext(btnNewWpt = new mButton(imgNewWpt=new mImage("newwpt"+imagesize+".png"))); 
 		btnNewWpt.setToolTip(MyLocale.getMsg(311,"Create Waypoint"));
@@ -84,7 +84,7 @@
 		pnlTools.addNext(btnNotes=new mButton(imgNotes=new mImage("notes"+imagesize+".gif"))); imgNotes.transparentColor=Color.DarkBlue;
 		btnNotes.setToolTip(MyLocale.getMsg(351,"Add/Edit notes"));
 		// Button 8: Date/time stamp
-		pnlTools.addLast(btnAddDateTime = new mButton(new mImage("date_time"+imagesize+".png"))); 
+		pnlTools.addLast(btnAddDateTime = new mButton(new mImage("date_time"+imagesize+".gif"))); 
 		btnAddDateTime.setToolTip(MyLocale.getMsg(350,"Add timestamp to notes"));
 		//showMap.modify(Control.Disabled,0);
 		pnlTools.stretchFirstRow=true;
@@ -118,7 +118,7 @@
 		this.addNext(new mLabel(MyLocale.getMsg(307,"Status:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		CellPanel cp=new CellPanel();
 		cp.addNext(chcStatus,CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
-		cp.addLast(btnFoundDate=new mButton(new mImage("calendar.png")),DONTSTRETCH,DONTFILL);
+		cp.addLast(btnFoundDate=new mButton(new mImage("calendar"+imagesize+".png")),DONTSTRETCH,DONTFILL);
 		this.addLast(cp,DONTSTRETCH,HFILL).setTag(Control.SPAN, new Dimension(2,1));
 		
 		this.addNext(new mLabel(MyLocale.getMsg(306,"Owner:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
@@ -127,7 +127,7 @@
 		this.addNext(new mLabel(MyLocale.getMsg(305,"Hidden on:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		CellPanel ip=new CellPanel();
 		ip.addNext(inpHidden,CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
-		ip.addLast(btnHiddenDate=new mButton(new mImage("calendar.png")),DONTSTRETCH,DONTFILL);
+		ip.addLast(btnHiddenDate=new mButton(new mImage("calendar"+imagesize+".png")),DONTSTRETCH,DONTFILL);
 		this.addLast(ip,DONTSTRETCH,HFILL).setTag(Control.SPAN, new Dimension(2,1));
 		inpHidden.modifyAll(DisplayOnly,0);
 		

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2008-03-16 23:11:55 UTC (rev 1264)
+++ trunk/src/CacheWolf/FilterScreen.java	2008-03-17 09:39:24 UTC (rev 1265)
@@ -291,10 +291,24 @@
 		btPanel.addNext(btnApply = new mButton(MyLocale.getMsg(709,"Apply")),CellConstants.STRETCH, CellConstants.FILL);
 		btPanel.addLast(btnRoute = new mButton("Route"),CellConstants.STRETCH, CellConstants.FILL);
 		addLast(btPanel.setTag(Control.SPAN, new Dimension(3,1)), CellConstants.STRETCH, CellConstants.FILL);
-		if (MyLocale.getScreenHeight()>240)
-			setPreferredSize(240,260);
-		else
-			setPreferredSize(240,240);
+		int sw = MyLocale.getScreenWidth(); int sh = MyLocale.getScreenHeight(); 
+		Preferences pref = Global.getPref();int fs = pref.fontSize;
+		int psx; int psy;
+		if((sw>300) && (sh>300)){
+			// larger screens: size according to fontsize
+			psx=240;psy=260;
+			if(fs > 12){psx=300;psy=330;}
+			if(fs > 17){psx=400;psy=340;}
+			if(fs > 23){psx=500;psy=350;}
+			setPreferredSize(psx,psy);
+		}
+		else{
+			// small screens: fixed size
+			if (sh>240)
+				setPreferredSize(240,260);
+			else
+				setPreferredSize(240,240);
+		}
 		cp.select(3);
 	}
 	

Modified: trunk/src/CacheWolf/InfoBox.java
===================================================================
--- trunk/src/CacheWolf/InfoBox.java	2008-03-16 23:11:55 UTC (rev 1264)
+++ trunk/src/CacheWolf/InfoBox.java	2008-03-17 09:39:24 UTC (rev 1265)
@@ -47,13 +47,24 @@
 
 	public InfoBox(String title, String info, int ty){
 		this(title, info, ty, true);
-		this.setPreferredSize(170, 50);
+//		this.setPreferredSize(170, 50);
 		relayout(false);
 	}
 
 	public InfoBox(String title, String info, int ty, boolean autoWrap) {
 		type = ty;
-		this.setPreferredSize(150,50);
+//		this.setPreferredSize(150,50);
+		// Resize InfoBox with Fontsize
+		Preferences pref=Global.getPref();
+		int fs = pref.fontSize;
+		int sw = MyLocale.getScreenWidth();
+		int psx; int psy;
+		psx=170;psy=50;
+		if((fs > 11) && (sw >= 200)){psx=200;psy=70;}
+		if((fs > 16) && (sw >= 250)){psx=250;psy=90;}
+		if((fs > 21) && (sw >= 300)){psx=300;psy=110;}
+		if((fs > 24) && (sw >= 350)){psx=350;psy=130;}
+		this.setPreferredSize(psx, psy);
 		this.title = title;
 		switch (type) {
 		case CHECKBOX: 
@@ -77,7 +88,7 @@
 			msgArea.autoWrap = autoWrap;
 			msgArea.alignment = Gui.CENTER;
 			msgArea.anchor = Gui.CENTER;
-			msgArea.setPreferredSize(150, 50);
+			msgArea.setPreferredSize(psx-20, psy);
 			this.addLast(msgArea.getScrollablePanel(), CellConstants.HEXPAND | CellConstants.HGROW, CellConstants.HEXPAND | CellConstants.HGROW);
 			warnings = new TextMessage("");
 			warnings.autoWrap = autoWrap;
@@ -104,6 +115,9 @@
 	public void setInfoHeight(int heighti) {
 		msgArea.setPreferredSize(getPreferredSize(null).width, heighti);
 	}
+	public void setInfoWidth(int widthi) {
+		msgArea.setPreferredSize(widthi,getPreferredSize(null).height);
+	}
 	public String getInfo(){
 		return msgArea.getText();
 	}

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-16 23:11:55 UTC (rev 1264)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-17 09:39:24 UTC (rev 1265)
@@ -658,7 +658,7 @@
 		for(int j = 0; j <	cachesToUpdate.size(); j++){
 			int i = ((Integer)cachesToUpdate.get(j)).intValue();
 			ch = (CacheHolder)cacheDB.get(i);
-			infB.setInfo("Loading: " + ch.wayPoint);
+//			infB.setInfo("Loading: " + ch.wayPoint);
 			infB.setInfo(MyLocale.getMsg(5513,"Loading: ") + ch.wayPoint +" (" + (j+1) + " / " + cachesToUpdate.size() + ")");
 			infB.redisplay();
 			if (ch.wayPoint.substring(0,2).equalsIgnoreCase("GC"))   

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-16 23:11:55 UTC (rev 1264)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-17 09:39:24 UTC (rev 1265)
@@ -53,7 +53,7 @@
 		int sw = MyLocale.getScreenWidth();
 		if ( sw <= 240) this.dontExpandTabs=true;
 		String imagesize="";
-		if (Vm.isMobile() && sw >= 400) imagesize="_32x32";  
+		if (Vm.isMobile() && sw >= 400) imagesize="_vga";  
 		calcP = new CalcPanel(); // Init here so that Global.MainT is already set
 		tbP = new TablePanel(pref, profile, statBar);
 		Card c = this.addCard(new TableForm(tbP), MyLocale.getMsg(1200,"List"), null);

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-03-16 23:11:55 UTC (rev 1264)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-03-17 09:39:24 UTC (rev 1265)
@@ -46,7 +46,8 @@
 
 		// set dialog-width according to fontsize
 		int sw = MyLocale.getScreenWidth();
-		if((pref.fontSize <= 13)||(sw <= 240)){
+		int sh = MyLocale.getScreenHeight();
+		if((pref.fontSize <= 13)||(sw <= 240)||(sh <= 240)){
 			setPreferredSize(240,240);
 		}
 		else if(pref.fontSize <= 17){

Modified: trunk/src/CacheWolf/StatusBar.java
===================================================================
--- trunk/src/CacheWolf/StatusBar.java	2008-03-16 23:11:55 UTC (rev 1264)
+++ trunk/src/CacheWolf/StatusBar.java	2008-03-17 09:39:24 UTC (rev 1265)
@@ -21,13 +21,24 @@
 	
 	public StatusBar(Preferences p, Vector db){
 		pref=p;
-		addNext(btnCacheTour=new mButton(imgCacheTour=new mImage("cachetour.png")),CellConstants.DONTSTRETCH, CellConstants.DONTFILL);
+		int sw = MyLocale.getScreenWidth();
+		boolean MobileVGA = (Vm.isMobile() && sw >= 400);
+		String imagesize="";
+		if(MobileVGA) imagesize="_vga";  
+		addNext(btnCacheTour=new mButton(imgCacheTour=new mImage("cachetour"+imagesize+".png")),CellConstants.DONTSTRETCH, CellConstants.DONTFILL);
 		imgCacheTour.transparentColor=Color.White;
-		btnCacheTour.setPreferredSize(20,13);btnCacheTour.borderWidth=0; 
+		if(MobileVGA)
+			btnCacheTour.setPreferredSize(28,20);
+		else
+			btnCacheTour.setPreferredSize(20,13);
+		btnCacheTour.borderWidth=0; 
 		btnCacheTour.setToolTip(MyLocale.getMsg(197,"Show/Hide cachetour"));
-		addNext(btnFlt= new mButton(imgFlt=new mImage("filter.png")),CellConstants.DONTSTRETCH, CellConstants.DONTFILL); 
+		addNext(btnFlt= new mButton(imgFlt=new mImage("filter" + imagesize + ".png")),CellConstants.DONTSTRETCH, CellConstants.DONTFILL); 
 		btnFlt.backGround=new ewe.fx.Color(0,255,0); 
-		btnFlt.setPreferredSize(20,13);
+		if(MobileVGA)
+			btnFlt.setPreferredSize(28,20);
+		else
+			btnFlt.setPreferredSize(20,13);
 		btnFlt.borderWidth=0; imgFlt.transparentColor=Color.White;
 		btnFlt.setToolTip("Filter status");
 //		addNext(lblFlt= new mLabel("Flt"),CellConstants.DONTSTRETCH, CellConstants.DONTFILL); lblFlt.backGround=new ewe.fx.Color(0,255,0);



From mik77 at mail.berlios.de  Mon Mar 17 12:24:42 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Mon, 17 Mar 2008 12:24:42 +0100
Subject: [Cachewolf-svn] r1266 - trunk/src/CacheWolf
Message-ID: <200803171124.m2HBOgrb005716@sheep.berlios.de>

Author: mik77
Date: 2008-03-17 12:23:50 +0100 (Mon, 17 Mar 2008)
New Revision: 1266

Modified:
   trunk/src/CacheWolf/MyLocale.java
Log:
Take system language when "auto" is selected.

Modified: trunk/src/CacheWolf/MyLocale.java
===================================================================
--- trunk/src/CacheWolf/MyLocale.java	2008-03-17 09:39:24 UTC (rev 1265)
+++ trunk/src/CacheWolf/MyLocale.java	2008-03-17 11:23:50 UTC (rev 1266)
@@ -36,7 +36,7 @@
 	public static String language=getLanguage();
 	
 	private static void init() {
-		 if ( language.length()==0) // Was a non-standard language specified
+		 if ( ( language.length()==0 ) || ( language.equalsIgnoreCase("auto") ) ) // Was a non-standard language specified
 			 l = Vm.getLocale();
 		 else {
 			 l=new Locale(Locale.createID(language,"",0));



From kappler at mail.berlios.de  Mon Mar 17 14:26:40 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Mon, 17 Mar 2008 14:26:40 +0100
Subject: [Cachewolf-svn] r1267 - in trunk: . src/CacheWolf
Message-ID: <200803171326.m2HDQesr006057@sheep.berlios.de>

Author: kappler
Date: 2008-03-17 14:26:31 +0100 (Mon, 17 Mar 2008)
New Revision: 1267

Modified:
   trunk/compile.bat
   trunk/src/CacheWolf/
   trunk/src/CacheWolf/MyScrollBarPanel.java
Log:
VGA: Use Large ScrollBars in ImagePanel

Modified: trunk/compile.bat
===================================================================
--- trunk/compile.bat	2008-03-17 11:23:50 UTC (rev 1266)
+++ trunk/compile.bat	2008-03-17 13:26:31 UTC (rev 1267)
@@ -1,3 +1,4 @@
 if not exist bin\CacheWolf mkdir bin\CacheWolf
 if not exist bin\exp mkdir bin\exp
 javac -classpath ./lib/CompileEwe.zip;./lib/  -d ./bin/ -deprecation ./src/CacheWolf/*.java ./src/CacheWolf/imp/*.java ./src/CacheWolf/navi/*.java ./src/exp/*.java ./src/utils/*.java
+pause
\ No newline at end of file


Property changes on: trunk/src/CacheWolf
___________________________________________________________________
Name: svn:ignore
   + MainMenuKappler.java


Modified: trunk/src/CacheWolf/MyScrollBarPanel.java
===================================================================
--- trunk/src/CacheWolf/MyScrollBarPanel.java	2008-03-17 11:23:50 UTC (rev 1266)
+++ trunk/src/CacheWolf/MyScrollBarPanel.java	2008-03-17 13:26:31 UTC (rev 1267)
@@ -2,6 +2,7 @@
 
 import ewe.ui.ScrollBarPanel;
 import ewe.ui.ScrollClient;
+import ewe.ui.ScrollablePanel;
 
 /**
  * Always use this class instead of ewe.ui.ScrollBarPanel
@@ -21,5 +22,8 @@
 	{
 		this(client,0);
 	}
-
+	public ScrollablePanel getScrollablePanel()
+	{
+		return new MyScrollBarPanel(getScrollClient());
+	}
 }



From bilbowolf at mail.berlios.de  Mon Mar 17 21:31:51 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Mon, 17 Mar 2008 21:31:51 +0100
Subject: [Cachewolf-svn] r1268 - trunk/src/CacheWolf
Message-ID: <200803172031.m2HKVpn2005099@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-17 21:31:49 +0100 (Mon, 17 Mar 2008)
New Revision: 1268

Modified:
   trunk/src/CacheWolf/SpiderGC.java
Log:
Ergibt die Umkreissuche weniger als "10 Seiten" Ergebnis funktioniert die weiterschaltung ?ber
ctl16 nicht! Habe wieder auf die Nutzung von page_number umgestellt.
Hoffe, dass ich da etwas nicht verschlimmbesert habe.
Siehe: http://www.geoclub.de/ftopic23065.html

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-17 13:26:31 UTC (rev 1267)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-17 20:31:49 UTC (rev 1268)
@@ -413,7 +413,7 @@
 				if(distance > 0){
 					page_number++;
 					if(page_number >= 15) page_number = 5;
-					doc = URL.encodeURL("__EVENTTARGET",false) +"="+ URL.encodeURL("pgrTop$_ctl16",false)
+					doc = URL.encodeURL("__EVENTTARGET",false) +"="+ URL.encodeURL("pgrTop$_ctl" +page_number,false)
 					    + "&" + URL.encodeURL("__EVENTARGUMENT",false) +"="+ URL.encodeURL("",false)
 					    + "&" + URL.encodeURL("__VIEWSTATE",false) +"="+ URL.encodeURL(viewstate,false)
 					    + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+ URL.encodeURL(eventvalidation,false);



From bilbowolf at mail.berlios.de  Mon Mar 17 22:14:35 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Mon, 17 Mar 2008 22:14:35 +0100
Subject: [Cachewolf-svn] r1269 - trunk/docs/CacheWolf Doku
Message-ID: <200803172114.m2HLEZvY009159@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-17 22:14:33 +0100 (Mon, 17 Mar 2008)
New Revision: 1269

Modified:
   trunk/docs/CacheWolf Doku/ansichten.xml
Log:
Etwas weitergekommen. 85% von diesem Kapitel fertig. 
Es fehlt weiterhin das Kapitel mit der Beschreibung der
Menuefunktionen.

Modified: trunk/docs/CacheWolf Doku/ansichten.xml
===================================================================
--- trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-17 20:31:49 UTC (rev 1268)
+++ trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-17 21:14:33 UTC (rev 1269)
@@ -41,6 +41,21 @@
           <para>ca. 80% erledigt (fehlen noch L?ser und Tourenplaner).</para>
         </revdescription>
       </revision>
+
+      <revision>
+        <revnumber>0.85</revnumber>
+
+        <date>17.03.2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>ca. 85% erledigt (fehlen noch Tourenplaner und Moving
+          Map).</para>
+        </revdescription>
+      </revision>
     </revhistory>
   </chapterinfo>
 
@@ -819,14 +834,135 @@
 
       <tbody>
         <tr>
-          <td></td>
+          <td>length(String)</td>
 
-          <td></td>
+          <td>Stringl?nge</td>
 
-          <td></td>
+          <td>length("HelloWorld")</td>
 
-          <td></td>
+          <td>10</td>
         </tr>
+
+        <tr>
+          <td rowspan="2">mid(String, start, [optionale_L?nge])</td>
+
+          <td rowspan="2">Zeichenkette ausschneiden</td>
+
+          <td>mid("HelloWorld", 5)</td>
+
+          <td>oWorld</td>
+        </tr>
+
+        <tr>
+          <td>mid("HelloWorld,5,2)</td>
+
+          <td>oW</td>
+        </tr>
+
+        <tr>
+          <td rowspan="2">instr([start],String1,String2)</td>
+
+          <td rowspan="2">Position von String2 in String1</td>
+
+          <td>instr("HelloWorld", "o")</td>
+
+          <td rowspan="2">7</td>
+        </tr>
+
+        <tr>
+          <td>instr(6,"HelloWorld","o")</td>
+        </tr>
+
+        <tr>
+          <td>count(String1,String2)</td>
+
+          <td>Z?hle die Zeichen von String2 in String1</td>
+
+          <td>count("HelloWorld", "HWo")</td>
+
+          <td>H=1 W=1 o=2</td>
+        </tr>
+
+        <tr>
+          <td>replace(String,StrWas,StrWomit)</td>
+
+          <td>Ersetze alle Vorkommen von StrWas mit StrWomit</td>
+
+          <td>replace("HelloWorld", "e", "a")</td>
+
+          <td>HalloWorld</td>
+        </tr>
+
+        <tr>
+          <td>ucase(String)</td>
+
+          <td>String in GROSSBUCHSTABEN</td>
+
+          <td>ucase("HelloWorld")</td>
+
+          <td>HELLOWORLD</td>
+        </tr>
+
+        <tr>
+          <td>lcase(String)</td>
+
+          <td>String in kleinbuchstaben</td>
+
+          <td>lcase("HelloWorld")</td>
+
+          <td>helloworld</td>
+        </tr>
+
+        <tr>
+          <td>reverse (String)</td>
+
+          <td>String umdrehen</td>
+
+          <td>reverse("HelloWorld")</td>
+
+          <td>dlroWolleH</td>
+        </tr>
+
+        <tr>
+          <td>val(String)</td>
+
+          <td>String addieren (A=1,B=2,...)</td>
+
+          <td>val("HelloWorld")</td>
+
+          <td>124</td>
+        </tr>
+
+        <tr>
+          <td>sval(String)</td>
+
+          <td>Ersetze Buchstaben durch ihre Position im Alphabet</td>
+
+          <td>sval("HelloWorld")</td>
+
+          <td>08 05 12 12 15 23 15 18 12 04</td>
+        </tr>
+
+        <tr>
+          <td>encode(String,String2,String3)</td>
+
+          <td>Alle Zeichen in String, die in String2 vorkommen durch
+          korrespondierende Zeichen in String3 ersetzen</td>
+
+          <td>encode("HelloWorld","HWo", "hwO")</td>
+
+          <td>hellOwOrld</td>
+        </tr>
+
+        <tr>
+          <td>rot13(String)</td>
+
+          <td>Rot13 encoder</td>
+
+          <td>rot13("HelloWorld"</td>
+
+          <td>UryybJbeyq</td>
+        </tr>
       </tbody>
     </table>
 
@@ -847,14 +983,142 @@
 
       <tbody>
         <tr>
-          <td></td>
+          <td>bearing(Kordinate1,Koordinate2)</td>
 
-          <td></td>
+          <td>Richtung von Koordinate1 zu Koordinate2 berechnen (in ?)</td>
 
-          <td></td>
+          <td>bearing(WP,"N 47 14.460 E 11 24.667")</td>
 
-          <td></td>
+          <td>449926</td>
         </tr>
+
+        <tr>
+          <td>center()<para>Alias: Zentrum</para></td>
+
+          <td>Derzeitiges Zentrum</td>
+
+          <td>$Z=center()</td>
+
+          <td>Derzeitiges Zentrum in globaler Variable $Z speichern</td>
+        </tr>
+
+        <tr>
+          <td rowspan="2">center(Koordinate)</td>
+
+          <td rowspan="2">Zentrum setzen</td>
+
+          <td>center($Z)</td>
+
+          <td>Zentrum wieder auf vorher gespeicherten Wert setzen</td>
+        </tr>
+
+        <tr>
+          <td>ce(pz())</td>
+
+          <td>Profilzentrum ins derzeitige Zentrum kopieren</td>
+        </tr>
+
+        <tr>
+          <td>curpos<para>Alias: cp</para></td>
+
+          <td>Derzeitige GPS Position</td>
+
+          <td>$CURRENT=cp()</td>
+
+          <td>GPS-Position in globaler Variable $CURRENT speichern</td>
+        </tr>
+
+        <tr>
+          <td>distance(Kordinate1,Koordinate2)</td>
+
+          <td>Distanz zwischen zwei Koordinaten berechnen (in m)</td>
+
+          <td>distance(WP,"N 47 14.460 E 11 24.667")</td>
+
+          <td>1999.75</td>
+        </tr>
+
+        <tr>
+          <td rowspan="2">goto(Koordinate,optionaler_Wegpunktname)</td>
+
+          <td rowspan="2">Koordinate in GotoPanel bzw. Wegpunkt eintragen</td>
+
+          <td>goto("N 47 13.876 E 11 23.647")</td>
+
+          <td>Trage N 47 13.876 E 11 23.547 ins Goto als Ziel ein</td>
+        </tr>
+
+        <tr>
+          <td>goto(WP,"GCXXYY")</td>
+
+          <td>wie oben, aber speichere zus?tzlich in Wegpunkt GCXXYY</td>
+        </tr>
+
+        <tr>
+          <td>project(Koordinate, Winkel_in_Grad, Distanz_in_m)</td>
+
+          <td>Koordinate projizieren</td>
+
+          <td>project(WP,45,2000)</td>
+
+          <td>N 47?14.640 E 011? 24.672</td>
+        </tr>
+
+        <tr>
+          <td rowspan="4">format(Koordinate, optionales_Format)<para>Erlaubte
+          Formate: "CW", "DMS", "DMM", "UTM"</para></td>
+
+          <td rowspan="4">Koordinate formatieren</td>
+
+          <td>format(WP,"UTM")</td>
+
+          <td>32T 681097 N 5233641</td>
+        </tr>
+
+        <tr>
+          <td>format(WP,"dms")</td>
+
+          <td>N 47?13'52.6" E 011? 23' 32.8"</td>
+        </tr>
+
+        <tr>
+          <td>format(WP,"dmm")</td>
+
+          <td>N 47?13.876 E 011?23.547</td>
+        </tr>
+
+        <tr>
+          <td>format(WP,"cw")</td>
+
+          <td>N 47?13.876 E 011?23.547</td>
+        </tr>
+
+        <tr>
+          <td>profilecenter()<para>Alias: ProfilZentrum oder auch:
+          pz</para></td>
+
+          <td>Profilzentrum</td>
+
+          <td>$Z=profilecenter()</td>
+
+          <td>Profilzentrum in globaler Variable $Z speichern</td>
+        </tr>
+
+        <tr>
+          <td rowspan="2">profilecenter(Koordinate)</td>
+
+          <td rowspan="2">Profilzentrum setzen</td>
+
+          <td>pz($Z)</td>
+
+          <td>Profilzentrum wieder auf vorher gespeicherten Wert setzen</td>
+        </tr>
+
+        <tr>
+          <td>pz(ce())</td>
+
+          <td>Derzeitiges Zentrum in Profilzentrum kopieren</td>
+        </tr>
       </tbody>
     </table>
 
@@ -875,16 +1139,236 @@
 
       <tbody>
         <tr>
+          <td rowspan="4">crosstotal()<para>Alias: quersumme</para></td>
+
+          <td>Quersumme</td>
+
+          <td>crosstotal(1981)</td>
+
+          <td>19</td>
+        </tr>
+
+        <tr>
+          <td>Quersumme von Quersumme</td>
+
+          <td>crosstotal(1981,1)</td>
+
+          <td>19</td>
+        </tr>
+
+        <tr>
+          <td rowspan="2">2. Argument ist Anzahl der Iterationen</td>
+
+          <td>q(1981,2)</td>
+
+          <td>10</td>
+        </tr>
+
+        <tr>
+          <td>cr(1981,3)</td>
+
+          <td>1</td>
+        </tr>
+
+        <tr>
+          <td>sqrt()</td>
+
+          <td>Wurzel</td>
+
+          <td>cx = sqrt(4)</td>
+
+          <td>cx hat Wert 2</td>
+        </tr>
+
+        <tr>
+          <td>a^x</td>
+
+          <td>Potenz</td>
+
+          <td>b = cx^3</td>
+
+          <td>b hat Wert 8</td>
+        </tr>
+
+        <tr>
+          <td>abs</td>
+
+          <td>Absolutwert</td>
+
+          <td>abs(-3)</td>
+
+          <td>3</td>
+        </tr>
+
+        <tr>
+          <td>cls()</td>
+
+          <td>Ausgabebereich l?schen</td>
+
           <td></td>
 
           <td></td>
+        </tr>
 
+        <tr>
+          <td>ignorecase Alias: ic</td>
+
+          <td>Anzeigen oder setzen ob Variablennamen die
+          Gross-/Kleinschreibung unterscheiden</td>
+
+          <td>ic()</td>
+
+          <td>FALSE</td>
+        </tr>
+
+        <tr>
+          <td rowspan="3"></td>
+
+          <td rowspan="3">Gross-/Kleinschreibung wird ignoriert</td>
+
+          <td>ic(1)</td>
+
+          <td>3</td>
+        </tr>
+
+        <tr>
+          <td>A=3</td>
+
           <td></td>
+        </tr>
 
+        <tr>
+          <td>a</td>
+
           <td></td>
         </tr>
+
+        <tr>
+          <td rowspan="3"></td>
+
+          <td rowspan="3">Gross-/Kleinschreibung wichtig</td>
+
+          <td>ic(0)</td>
+
+          <td>Fehlermeldung weil A &lt;&gt; a</td>
+        </tr>
+
+        <tr>
+          <td>A=3</td>
+
+          <td></td>
+        </tr>
+
+        <tr>
+          <td>a</td>
+
+          <td></td>
+        </tr>
       </tbody>
     </table>
+
+    <para>Hinweis: Der Status von ignorecase bleibt ?ber die CW-Sitzung hinaus
+    erhalten, weil er in den Pr?ferenzen gespeichert wird!!</para>
+
+    <para><emphasis role="bold">Bedingte Ausf?hrung</emphasis></para>
+
+    <para>Der L?ser kennt auch einen einfachen IF-Befehl, der eine bedingte
+    Ausf?hrung erm?glicht. Die Syntax ist:</para>
+
+    <para><literal>IF Bedingung THEN Beliebig viele Befehle
+    ENDIF</literal></para>
+
+    <para>Eine Schachtelung von IF Befehlen ist nicht m?glich.</para>
+
+    <example>
+      <title>Beispiel</title>
+
+      <programlisting>A=3
+IF $GCXXYY="" THEN
+   $GCXXYY="N 47 12." A "67 E 013 45." 2*A "89"
+   "STAGE 1 = " $GCXXYY
+   g($GCXXYY)  # Koordinaten in Goto-Schirm als neues Ziel kopieren
+ENDIF</programlisting>
+
+      <para>Ergibt folgende Ausgabe:</para>
+
+      <para><literal>STAGE 1 = N 47? 12.367 E 013? 45.689</literal></para>
+    </example>
+
+    <para>Wenn die Berechnung noch einmal aufgerufen wird (durch Klick auf
+    'Rechne!') erfolgt keine Ausgabe, weil die Bedingung beim zweiten mal
+    falsch ist.</para>
+
+    <para>Hinweis: Durch Aneinanderreihen von IF-Befehlen, k?nnen die
+    Berechungen f?r komplexe Multis vorbereitet werden, ohne im Feld gro?e
+    ?nderungen vornehmen zu m?ssen. Weitere Informationen dazu unter <ulink
+    url="http://www.cachewolf.de/wiki/pmwiki.php/Main/Beispiele#SolverAlternative">Beispiele</ulink>
+    (auf www.cachewolf.de). </para>
+
+    <para>Erlaubte Vergleichsoperatoren sind:</para>
+
+    <table border="1">
+      <caption>Vergleichsoperatoren</caption>
+
+      <tr>
+        <td>&lt;</td>
+
+        <td>Kleiner</td>
+      </tr>
+
+      <tr>
+        <td>&gt;</td>
+
+        <td>Gr??er</td>
+      </tr>
+
+      <tr>
+        <td>&lt;=</td>
+
+        <td>Kleiner oder gleich</td>
+      </tr>
+
+      <tr>
+        <td>&gt;=</td>
+
+        <td>Gr??er oder gleich</td>
+      </tr>
+
+      <tr>
+        <td>==</td>
+
+        <td>Gleich</td>
+      </tr>
+
+      <tr>
+        <td>=</td>
+
+        <td>Gleich</td>
+      </tr>
+
+      <tr>
+        <td>!=</td>
+
+        <td>Ungleich</td>
+      </tr>
+
+      <tr>
+        <td>&lt;&gt;</td>
+
+        <td>Ungleich</td>
+      </tr>
+    </table>
+
+    <para><emphasis role="bold">Besondere Befehle</emphasis></para>
+
+    <para><literal>STOP</literal> Beendet die Befehlsausf?hrung</para>
+
+    <para><literal>ST</literal> Wie <literal>STOP</literal></para>
+
+    <para><literal>$</literal> Listet alle globalen Variablen (nicht
+    Wegpunkte)</para>
+
+    <para><literal>?</literal> Listet alle lokalen Variablen</para>
   </section>
 
   <section>
@@ -929,6 +1413,14 @@
     bewegt man sich direkt auf den Cache zu. Die gelbe Linie zeigt die
     Richtung der Sonne. H?lt man also den PDA mit der gelben Linien auf die
     Sonne zeigt die blaue Linie direkt auf den Cache!</para>
+
+    <para>Der Map Button verdient ein eigenes Kapitel.</para>
+
+    <section>
+      <title>Map (auch Karte)</title>
+
+      <para></para>
+    </section>
   </section>
 
   <section>
@@ -939,7 +1431,7 @@
     Zentrum hinein- und herauszommen. Durch einen Klick auf ?Toggle? werden
     neben den Cachesymbolen die Wegpunktnamen ebenfalls angezeigt. Ein
     erneuter Klick auf ?Toggle? zeigt den Cachenamen an. Infos werden auch
-    gezeigt, wenn man mit der Maus ?ber ein Cachesymbol f?hrt. </para>
+    gezeigt, wenn man mit der Maus ?ber ein Cachesymbol f?hrt.</para>
 
     <para>Der rote Kreis zeigt den aktuell in der Listenansicht gew?hlten
     Cache. Man kann auf ein anderes Cachesymbol klicken: Die Ansicht wechselt



From pfeffer at mail.berlios.de  Tue Mar 18 01:53:02 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Tue, 18 Mar 2008 01:53:02 +0100
Subject: [Cachewolf-svn] r1270 - trunk/src/CacheWolf
Message-ID: <200803180053.m2I0r2bp017613@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-18 01:52:59 +0100 (Tue, 18 Mar 2008)
New Revision: 1270

Modified:
   trunk/src/CacheWolf/ImageDetailForm.java
   trunk/src/CacheWolf/ImageInteractivePanel.java
   trunk/src/CacheWolf/ImagePanel.java
Log:
ImagePanels: Bug fixed: memory was not freed, see http://www.geoclub.de/ftopic22148.html
ImagePanels: ScrollBars not shown, when not necessary
ImagePanels: Image size now fits to windows size, instead of application window size

Modified: trunk/src/CacheWolf/ImageDetailForm.java
===================================================================
--- trunk/src/CacheWolf/ImageDetailForm.java	2008-03-17 21:14:33 UTC (rev 1269)
+++ trunk/src/CacheWolf/ImageDetailForm.java	2008-03-18 00:52:59 UTC (rev 1270)
@@ -10,58 +10,17 @@
 * the available app size.
 */
 public class ImageDetailForm extends Form{
-	String location = new String();
-	int origH, origW;
-	int state = 0; // 0 = nothing, -1 = scaled to app, 1 = scaled to original size
-	int scaleX = 0, scaleY = 0;
-	Preferences pref;
 	ImageInteractivePanel ipp = new ImageInteractivePanel();
-	AniImage ai;
 	ScrollBarPanel scp;
 	
 	public ImageDetailForm(String imgLoc, Preferences p){
 		scp = new MyScrollBarPanel(ipp);
-		setUp(imgLoc, p);
+		ipp.setImage(imgLoc);
 		this.title = "Image";
-		this.setPreferredSize(pref.myAppWidth, pref.myAppHeight);
-		this.addLast(scp.getScrollablePanel(), CellConstants.STRETCH, CellConstants.FILL);
+		this.setPreferredSize(p.myAppWidth, p.myAppHeight);
+		this.addLast(scp, CellConstants.STRETCH, CellConstants.FILL);
 	}
 	
-	public ImageDetailForm(){
-	}
-
-	/**
-	 * Display Image.
-	 * @param imgLoc path to the image file
-	 * @param p Preferences.
-	 * @throws IllegalArgumentException if file not found getcause() gives the name and path of the missing file.
-	 */
-	public void setUp(String imgLoc, Preferences p) throws IllegalArgumentException {
-		pref = p;	
-		location = imgLoc;
-		try {
-			mImage mI = new mImage(imgLoc);
-			double scaleFactorX = 1, scaleFactorY = 1, scaleFactor = 1;
-			origH = mI.getHeight();
-			origW = mI.getWidth();
-			if(origW >= pref.myAppWidth) scaleFactorX = pref.myAppWidth/(double)origW;
-			if(origH >= pref.myAppHeight) scaleFactorY = pref.myAppHeight/(double)origH;
-			if(scaleFactorX >= scaleFactorY) scaleFactor = scaleFactorY;
-			if(scaleFactorY >= scaleFactorX) scaleFactor = scaleFactorX;
-			state = -1;
-			scaleX = (int)(origW*scaleFactor);
-			scaleY = (int)(origH*scaleFactor);
-			mI = mI.scale(scaleX, scaleY, null, 0);
-			ai = new AniImage(mI);
-			ai.setLocation(0,0);
-			ipp.addImage(ai);
-			ipp.setPreferredSize(origW, origH);
-			ipp.setParams(state, scaleX, scaleY, origH, origW, scp, imgLoc);
-		} catch (IllegalArgumentException e) {
-			IllegalArgumentException t = new IllegalArgumentException(imgLoc);
-			throw(t);
-		}
-	}
 	public void onEvent(Event ev) {
 		if (ev instanceof ControlEvent && ev.type==ControlEvent.EXITED) {
 			ev.consumed=true;

Modified: trunk/src/CacheWolf/ImageInteractivePanel.java
===================================================================
--- trunk/src/CacheWolf/ImageInteractivePanel.java	2008-03-17 21:14:33 UTC (rev 1269)
+++ trunk/src/CacheWolf/ImageInteractivePanel.java	2008-03-18 00:52:59 UTC (rev 1270)
@@ -9,48 +9,72 @@
 *	This class handles the resizing im images
 */
 public class ImageInteractivePanel extends InteractivePanel{
-	int origH, origW;
-	int state = 0; // 0 = nothing, -1 = scaled to app, 1 = scaled to original size
-	int scaleX = 0, scaleY = 0;
+	int state = -1; // 0 = nothing, -1 = scaled to window, 1 = scaled to original size
 	ScrollBarPanel scp;
 	String imgLoc = new String();
+	AniImage pic = null;
 	private Menu mClose = new Menu(new String[]{
 			"Close"},"");
+	public ImageInteractivePanel() {
+		super();
+		this.setMenu(mClose);
+	}
 	
-	public void setParams(int state, int scaleX, int scaleY, int origH, int origW, ScrollBarPanel sp, String loc){
-		imgLoc = loc;
-		this.state = state;
-		this.scaleX = scaleX;
-		this.scaleY = scaleY;
-		this.origH = origH;
-		this.origW = origW;
-		scp = sp;
-		setMenu(mClose);
+	public void resizeTo(int w, int h) {
+		this.width = w;
+		this.height = h;
+		if (state == -1) fitImageToWindow();
+		virtualSize = new Rect(0, 0, java.lang.Math.max(w, pic.getWidth()), java.lang.Math.max(h, pic.getHeight()));
+		checkScrolls();
+		super.resizeTo(w, h);
 	}
 	
+	public void setImage(String filename) {
+		imgLoc = filename;
+		mImage mI = new mImage(imgLoc);
+		if (pic != null) {
+			this.removeImage(pic);
+			pic.freeSource();
+			pic.free();
+		}
+		pic = new AniImage(mI);
+		pic.setLocation(0, 0);
+		mI.freeSource();
+		// mI.free(); this works in the java-VM, but it will delete the image in the ewe-vm --> leave it commeted out
+		this.addImage(pic);
+		virtualSize = new Rect(pic.getSize(null));
+		checkScrolls();
+	}
+	
+	public void fitImageToWindow() {
+		Rect s = this.parent.getRect();
+		int ww = pic.getWidth();
+		int wh = pic.getHeight();
+		double scale =  java.lang.Math.max((double)ww/(double)s.width, (double)wh/(double)s.height);
+		if (scale != 1){
+			this.removeImage(pic);
+			AniImage tmp = new AniImage(pic.scale((int)(ww/scale), (int)(wh/scale),null,0));
+			pic.freeSource();
+			pic.free();
+			pic = tmp;
+			pic.setLocation(0, 0);
+			this.addImage(pic);
+			virtualSize = new Rect(pic.getSize(null));
+			checkScrolls();
+		}
+		
+	}
+	
 	public void imageClicked(AniImage which, Point pos){
-		if(state == -1){
-			//Vm.debug("Hit and state -1!");
-			this.removeImage(which);
-			mImage mI = new mImage(imgLoc);
-			//this.refresh();
-			which = new AniImage(mI);
-			this.addImage(which);
-			//this.setPreferredSize(origW, origH);
+		state = -state;
+		if(state == 1){
+			setImage(imgLoc);
 			this.repaintNow();
-			scp.repaintNow();
 		}
-		if(state == 1){
-			//Vm.debug("Hit and state 1!");
-			this.removeImage(which);
-			//this.refresh();
-			which = new AniImage(which.scale(scaleX,scaleY,null,0));
-			this.addImage(which);
-			//this.setPreferredSize(b,h);
+		if(state == -1){
+			fitImageToWindow();
 			this.repaintNow();
-			scp.repaintNow();
 		}
-		state = -state;
 	}
 	public void penRightReleased(Point p){
 			menuState.doShowMenu(p,true,null); // direct call (not through doMenu) is neccesary because it will exclude the whole table
@@ -61,4 +85,12 @@
 	public void popupMenuEvent(Object selectedItem){
 		postEvent(new ControlEvent(ControlEvent.EXITED,this));
 	}
+	public void formClosing() {
+		super.formClosing();
+		if (pic != null) {
+			pic.freeSource();
+			pic.free();
+		}
+		
+	}
 }

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2008-03-17 21:14:33 UTC (rev 1269)
+++ trunk/src/CacheWolf/ImagePanel.java	2008-03-18 00:52:59 UTC (rev 1270)
@@ -52,7 +52,7 @@
 			thumb_size = thumb_size - padding;
 			int rowCounter = cache.Images.size() + cache.UserImages.size();
 			rowCounter = (int)(rowCounter/3)+1;
-			Rect r = new Rect(new Dimension(pref.myAppWidth,rowCounter*thumb_size+rowCounter*padding+padding));
+			Rect r = new Rect(0, 0, pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+padding);
 			this.virtualSize = r;
 			//this.setPreferredSize(pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+40);
 			this.checkScrolls();
@@ -159,7 +159,10 @@
 					scaleY = mI.getHeight();
 				}
 				mI = mI.scale(scaleX,scaleY,null,0);
+				mI.freeSource();
 				ipi = new ImagePanelImage(mI);
+				ipi.freeSource();
+				//mI.free(); --> this only works in java-VM, in ewe it will delete the image, so leave it commented out
 				ipi.fileName = location; // this is set only to easily identify the filename of the image clicked
 				ipi.setLocation(locX, locY);
 				addImage(ipi);



From bilbowolf at mail.berlios.de  Tue Mar 18 21:08:49 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Tue, 18 Mar 2008 21:08:49 +0100
Subject: [Cachewolf-svn] r1271 - trunk/src/exp
Message-ID: <200803182008.m2IK8njd023028@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-18 21:08:47 +0100 (Tue, 18 Mar 2008)
New Revision: 1271

Modified:
   trunk/src/exp/GPXExporter.java
Log:
Fixed GPX export bug in additional waypoint:
See: http://www.geoclub.de/ftopic23079.html

Modified: trunk/src/exp/GPXExporter.java
===================================================================
--- trunk/src/exp/GPXExporter.java	2008-03-18 00:52:59 UTC (rev 1270)
+++ trunk/src/exp/GPXExporter.java	2008-03-18 20:08:47 UTC (rev 1271)
@@ -83,7 +83,7 @@
 				strBuf.append("    </groundspeak:cache>\r\n");
 			}else {
 				// there is no HTML in the description of addi wpts
-				strBuf.append("    <cmt>").append(ch.LongDescription).append("</cmt>\r\n");
+				strBuf.append("    <cmt>").append(SafeXML.cleanGPX(ch.LongDescription)).append("</cmt>\r\n");
 				strBuf.append("    <sym>").append(CacheType.transType(ch.type)).append("</sym>\r\n");
 				strBuf.append("    <type>Waypoint|").append(CacheType.transType(ch.type)).append("</type>\r\n");
 			}



From bilbowolf at mail.berlios.de  Tue Mar 18 21:14:48 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Tue, 18 Mar 2008 21:14:48 +0100
Subject: [Cachewolf-svn] r1272 - trunk/src/CacheWolf
Message-ID: <200803182014.m2IKEmjj023985@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-18 21:14:47 +0100 (Tue, 18 Mar 2008)
New Revision: 1272

Modified:
   trunk/src/CacheWolf/MainMenu.java
Log:
Habe die Cachemate export option deaktiviert.

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-18 20:08:47 UTC (rev 1271)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-18 20:14:47 UTC (rev 1272)
@@ -66,7 +66,7 @@
 		///////////////////////////////////////////////////////////////////////
 		// subMenu for export, part of "Application" menu below
 		///////////////////////////////////////////////////////////////////////
-		MenuItem[] exitems = new MenuItem[13];
+		MenuItem[] exitems = new MenuItem[12];
 		//Vm.debug("Hi in MainMenu "+lr);
 		exitems[0] = exporthtml = new MenuItem(MyLocale.getMsg(100,"to HTML"));
 		exitems[1] = exportpcx5 = new MenuItem(MyLocale.getMsg(101,"to PCX5 Mapsource"));
@@ -77,12 +77,12 @@
 		exitems[6] = exportMSARCSV = new MenuItem(MyLocale.getMsg(106,"to MS AutoRoute CSV"));
 		exitems[7] = exportGPS = new MenuItem(MyLocale.getMsg(122,"to GPS"));
 		if(!(new File(cwd + "/gpsbabel.exe")).exists()) exitems[7].modifiers = MenuItem.Disabled;
-		exitems[8] = exportCacheMate = new MenuItem(MyLocale.getMsg(123,"to Cachemate"));
-		if(!(new File(cwd + "/cmconvert/cmconvert.exe")).exists()) exitems[8].modifiers = MenuItem.Disabled;
-		exitems[9] = exportOZI = new MenuItem(MyLocale.getMsg(124,"to OZI"));
-		exitems[10] = exportKML = new MenuItem(MyLocale.getMsg(125,"to Google Earth"));
-		exitems[11] = exportMagellan = new MenuItem(MyLocale.getMsg(132,"to Magellan"));
-		exitems[12] = exportTPL = new MenuItem(MyLocale.getMsg(128,"via Template"));
+		//exitems[8] = exportCacheMate = new MenuItem(MyLocale.getMsg(123,"to Cachemate"));
+		//if(!(new File(cwd + "/cmconvert/cmconvert.exe")).exists()) exitems[8].modifiers = MenuItem.Disabled;
+		exitems[8] = exportOZI = new MenuItem(MyLocale.getMsg(124,"to OZI"));
+		exitems[9] = exportKML = new MenuItem(MyLocale.getMsg(125,"to Google Earth"));
+		exitems[10] = exportMagellan = new MenuItem(MyLocale.getMsg(132,"to Magellan"));
+		exitems[11] = exportTPL = new MenuItem(MyLocale.getMsg(128,"via Template"));
 
 		Menu exportMenu = new Menu(exitems, MyLocale.getMsg(107,"Export"));
 



From bilbowolf at mail.berlios.de  Tue Mar 18 21:20:39 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Tue, 18 Mar 2008 21:20:39 +0100
Subject: [Cachewolf-svn] r1273 - trunk/src/CacheWolf
Message-ID: <200803182020.m2IKKdfk024440@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-18 21:20:38 +0100 (Tue, 18 Mar 2008)
New Revision: 1273

Modified:
   trunk/src/CacheWolf/FilterScreen.java
Log:
"Route" button im FilterScreen deaktiviert. Wird nicht bis zur 1.0 zufriedenstellend funktionieren.

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2008-03-18 20:14:47 UTC (rev 1272)
+++ trunk/src/CacheWolf/FilterScreen.java	2008-03-18 20:20:38 UTC (rev 1273)
@@ -290,6 +290,7 @@
 		btPanel.addNext(btnCancel = new mButton(MyLocale.getMsg(708,"Cancel")),CellConstants.STRETCH, CellConstants.FILL);
 		btPanel.addNext(btnApply = new mButton(MyLocale.getMsg(709,"Apply")),CellConstants.STRETCH, CellConstants.FILL);
 		btPanel.addLast(btnRoute = new mButton("Route"),CellConstants.STRETCH, CellConstants.FILL);
+		btnRoute.modify(Control.Disabled,0);
 		addLast(btPanel.setTag(Control.SPAN, new Dimension(3,1)), CellConstants.STRETCH, CellConstants.FILL);
 		int sw = MyLocale.getScreenWidth(); int sh = MyLocale.getScreenHeight(); 
 		Preferences pref = Global.getPref();int fs = pref.fontSize;



From pfeffer at mail.berlios.de  Wed Mar 19 01:42:13 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 19 Mar 2008 01:42:13 +0100
Subject: [Cachewolf-svn] r1274 - trunk/src/CacheWolf
Message-ID: <200803190042.m2J0gDtZ015258@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-19 01:42:11 +0100 (Wed, 19 Mar 2008)
New Revision: 1274

Modified:
   trunk/src/CacheWolf/MyLocale.java
Log:
Languages: make the method more resistant against wrong data in the cachewolf-config in order to avoid start cancellation without any message

Modified: trunk/src/CacheWolf/MyLocale.java
===================================================================
--- trunk/src/CacheWolf/MyLocale.java	2008-03-18 20:20:38 UTC (rev 1273)
+++ trunk/src/CacheWolf/MyLocale.java	2008-03-19 00:42:11 UTC (rev 1274)
@@ -13,6 +13,7 @@
 import ewe.sys.Double;
 import ewe.sys.Long;
 import ewe.ui.Gui;
+import ewe.ui.MessageBox;
 import ewe.ui.Window;
 /**
  *  This class handles internationalisation and some other local stuff like
@@ -39,7 +40,12 @@
 		 if ( ( language.length()==0 ) || ( language.equalsIgnoreCase("auto") ) ) // Was a non-standard language specified
 			 l = Vm.getLocale();
 		 else {
-			 l=new Locale(Locale.createID(language,"",0));
+			 int tmp = Locale.createID(language,"",0);
+			 if (tmp > -1) l=new Locale(tmp);
+			 else { // language not found
+				 (new MessageBox("Error", "Language " + language + " not found - using standard language", MessageBox.OKB)).execute(); // don't copy this messagebox into a language file, because it is only used if no languages file can be accessed
+				 l = Vm.getLocale(); 
+			 }
 		 }
 		 ewe.io.TreeConfigFile tcf = ewe.io.TreeConfigFile.getConfigFile("languages/" + getLocaleLanguage().toUpperCase() + ".cfg");
 		 if (tcf != null){			 
@@ -50,7 +56,7 @@
 					public Object get(int id,Object data){return data;}
 					public Object get(String id,Object data){return data;}
 				};
-			 Vm.out().println("languages/" + getLocaleLanguage().toUpperCase() + ".cfg couldn't loaded. Set to default-language!");
+				(new MessageBox("Error", "Language file languages/" + getLocaleLanguage().toUpperCase() + ".cfg couldn't be loaded - using hard coded messages", MessageBox.OKB)).execute();
 		 }
 		 
 		 double testA = Convert.toDouble("1,50") + Convert.toDouble("3,00");



From mik77 at mail.berlios.de  Wed Mar 19 21:56:19 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 19 Mar 2008 21:56:19 +0100
Subject: [Cachewolf-svn] r1275 - trunk/src/CacheWolf
Message-ID: <200803192056.m2JKuJOg014648@sheep.berlios.de>

Author: mik77
Date: 2008-03-19 21:56:17 +0100 (Wed, 19 Mar 2008)
New Revision: 1275

Modified:
   trunk/src/CacheWolf/NotesScreen.java
Log:
Use new icons in NotesScreen.

Modified: trunk/src/CacheWolf/NotesScreen.java
===================================================================
--- trunk/src/CacheWolf/NotesScreen.java	2008-03-19 00:42:11 UTC (rev 1274)
+++ trunk/src/CacheWolf/NotesScreen.java	2008-03-19 20:56:17 UTC (rev 1275)
@@ -14,12 +14,17 @@
 public class NotesScreen extends Form{
 	mTextPad wayNotes = new mTextPad();
 	CacheHolderDetail thisCache = null;
-	mButton addDateTime = new mButton((IImage)new mImage("date_time.png"));
+	mButton addDateTime;
 	mButton btSave = new mButton(MyLocale.getMsg(127,"Save"));
 	mButton cancelBtn = new mButton("Cancel");
 	ScrollBarPanel sbp = new MyScrollBarPanel(wayNotes);
 	
 	public NotesScreen(CacheHolderDetail ch){
+		int sw = MyLocale.getScreenWidth();
+		String imagesize = "";
+		if (Vm.isMobile() && sw >= 400) imagesize="_vga";
+		addDateTime = new mButton((IImage)new mImage("date_time"+imagesize+".gif"));
+		
 		this.title = "Notes";
 		setPreferredSize(Global.getPref().myAppWidth, Global.getPref().myAppHeight);
 		this.resizeOnSIP = true;



From bilbowolf at mail.berlios.de  Fri Mar 21 11:00:12 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Fri, 21 Mar 2008 11:00:12 +0100
Subject: [Cachewolf-svn] r1276 - trunk/src/CacheWolf
Message-ID: <200803211000.m2LA0CSr021730@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-21 11:00:09 +0100 (Fri, 21 Mar 2008)
New Revision: 1276

Modified:
   trunk/src/CacheWolf/MainMenu.java
Log:
Export nach ASC in Export nach CSV ge?ndert. Passt besser zu der Datei
und dem Filter (*.csv) der in dem Dialog folgt.

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-19 20:56:17 UTC (rev 1275)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-21 10:00:09 UTC (rev 1276)
@@ -72,7 +72,7 @@
 		exitems[1] = exportpcx5 = new MenuItem(MyLocale.getMsg(101,"to PCX5 Mapsource"));
 		exitems[2] = exporttop50 = new MenuItem(MyLocale.getMsg(102,"to TOP50 ASCII"));
 		exitems[3] = exportGPX = new MenuItem(MyLocale.getMsg(103,"to GPX"));
-		exitems[4] = exportASC = new MenuItem(MyLocale.getMsg(104,"to ASC"));
+		exitems[4] = exportASC = new MenuItem(MyLocale.getMsg(104,"to CSV"));
 		exitems[5] = exportTomTom = new MenuItem(MyLocale.getMsg(105,"to TomTom"));
 		exitems[6] = exportMSARCSV = new MenuItem(MyLocale.getMsg(106,"to MS AutoRoute CSV"));
 		exitems[7] = exportGPS = new MenuItem(MyLocale.getMsg(122,"to GPS"));



From salzkammergut at mail.berlios.de  Sat Mar 22 20:58:04 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 22 Mar 2008 20:58:04 +0100
Subject: [Cachewolf-svn] r1277 - trunk/src/CacheWolf
Message-ID: <200803221958.m2MJw490013583@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-22 20:58:00 +0100 (Sat, 22 Mar 2008)
New Revision: 1277

Modified:
   trunk/src/CacheWolf/SpiderGC.java
Log:
SpiderGC: Bugfix: Images containing urlencoded characters (e.g. %20) were not spidered correctly.
   Images contained in href links are now also downloaded

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-21 10:00:09 UTC (rev 1276)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-22 19:58:00 UTC (rev 1277)
@@ -928,6 +928,7 @@
 					// imgType is now max 4 chars, starting with .
 					if(!imgType.startsWith(".com") && !imgType.startsWith(".php") && !imgType.startsWith(".exe")){
 						// Check whether image was already spidered for this cache
+						if (imgUrl.indexOf('%')>=0) imgUrl=URL.decodeURL(imgUrl);
 						idxUrl=spideredUrls.find(imgUrl);
 						imgName = chD.wayPoint + "_" + Convert.toString(imgCounter);
 						if (idxUrl<0) { // New image
@@ -972,6 +973,7 @@
 					// imgType is now max 4 chars, starting with .
 					if(!imgType.startsWith(".com") && !imgType.startsWith(".php") && !imgType.startsWith(".exe")){
 						// Check whether image was already spidered for this cache
+						if (imgUrl.indexOf('%')>=0) imgUrl=URL.decodeURL(imgUrl);
 						idxUrl=spideredUrls.find(imgUrl);
 						imgName = chD.wayPoint + "_" + Convert.toString(imgCounter);
 						if (idxUrl<0) { // New image
@@ -991,8 +993,39 @@
 				}
 			}
 		}
+		//========
+		//Final sweep to check for images in hrefs
+		//========
+		Extractor exFinal = new Extractor(longDesc, "http://", "\"", 0, true);
+		while(exFinal.endOfSearch() == false){
+			imgUrl = exFinal.findNext();
+			if(imgUrl.length()>0){
+				imgUrl = "http://" + imgUrl;
+				try{
+					imgType = (imgUrl.substring(imgUrl.lastIndexOf(".")).toLowerCase()+"    ").substring(0,4).trim();
+					// imgType is now max 4 chars, starting with .
+					if( imgType.startsWith(".jpg") || imgType.startsWith(".bmp") || imgType.startsWith(".png") || imgType.startsWith(".gif")){
+						// Check whether image was already spidered for this cache
+						if (imgUrl.indexOf('%')>=0) imgUrl=URL.decodeURL(imgUrl);
+						idxUrl=spideredUrls.find(imgUrl);
+						if (idxUrl<0) { // New image
+							imgName = chD.wayPoint + "_" + Convert.toString(imgCounter);
+							pref.log("Loading image: " + imgUrl+" as "+imgName);
+							spiderImage(imgUrl, imgName+imgType);
+							chD.Images.add(imgName+imgType);
+							spideredUrls.add(imgUrl);
+							chD.ImagesText.add(imgName); // Keep the image name
+							imgCounter++;
+						}
+					}
+				} catch (IndexOutOfBoundsException e) {
+					pref.log("Problem loading image. imgURL:"+imgUrl);
+				}
+			}
+		}
 	}
 
+	
 	/**
 	 * Read an image from the server
 	 * @param imgUrl The Url of the image
@@ -1010,6 +1043,8 @@
 		datei = profile.dataDir + target;
 		connImg = new HttpConnection(imgUrl);
 		connImg.setRequestorProperty("Connection", "close");
+		//connImg.setRequestorProperty("User-Agent","Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.12) Gecko/20080201 Firefox/2.0.0.12");
+		//connImg.setRequestorProperty("Accept","text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5");
 		try{
 			pref.log("Trying to fetch image from: " + imgUrl);
 			String redirect=null;



From salzkammergut at mail.berlios.de  Sat Mar 22 23:29:39 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 22 Mar 2008 23:29:39 +0100
Subject: [Cachewolf-svn] r1278 - in trunk: res_noewe src/CacheWolf
Message-ID: <200803222229.m2MMTdGh027107@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-22 23:29:36 +0100 (Sat, 22 Mar 2008)
New Revision: 1278

Modified:
   trunk/res_noewe/spider.def
   trunk/src/CacheWolf/CacheHolderDetail.java
   trunk/src/CacheWolf/DescriptionPanel.java
   trunk/src/CacheWolf/SpiderGC.java
Log:
Added hints to pictures
See  http://www.geoclub.de/ftopic22490.html 

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2008-03-22 19:58:00 UTC (rev 1277)
+++ trunk/res_noewe/spider.def	2008-03-22 22:29:36 UTC (rev 1278)
@@ -17,6 +17,7 @@
 # Version 3.1 - 20071013 Use the given prefix for addi waypoints
 # Version 3.2 - 20071024 longer end sequence for longDescRex
 # Version 3.3 - 20080316 get travelbug name by tracking number
+# Version 3.4 - 20080227 Image comments added
 #============================================================
 # A suffix of Rex indicates a regular expression
 # A suffix of ExStart indicates the start of an Extractor search pattern
@@ -123,6 +124,8 @@
 imgNameExEnd       = </a><br/>
 imgSrcExStart      = <A\ HREF='http://
 imgSrcExEnd        = '\ rel='lightbox'
+imgCommentExStart  = </a><br/>
+imgCommentExEnd    = <A\ HREF
 
 #--------------------------------------
 #Section2d: Additional waypoints

Modified: trunk/src/CacheWolf/CacheHolderDetail.java
===================================================================
--- trunk/src/CacheWolf/CacheHolderDetail.java	2008-03-22 19:58:00 UTC (rev 1277)
+++ trunk/src/CacheWolf/CacheHolderDetail.java	2008-03-22 22:29:36 UTC (rev 1278)
@@ -19,6 +19,7 @@
 	  public String CacheNotes = EMPTY;
 	  public Vector Images = new Vector();
 	  public Vector ImagesText = new Vector();
+	  public Vector ImagesInfo = new Vector();
 	  public Vector LogImages = new Vector();
 	  public Vector LogImagesText = new Vector();
 	  public Vector UserImages = new Vector();
@@ -174,7 +175,14 @@
 			ex = new Extractor(text, "<IMGTEXT>", "</IMGTEXT>", 0, true);
 			dummy = ex.findNext();
 			while(ex.endOfSearch() == false){
-				ImagesText.add(dummy);
+				int pos=dummy.indexOf("<DESC>");
+				if (pos>0) {
+					ImagesText.add(dummy.substring(0,pos));
+					ImagesInfo.add(dummy.substring(pos+6,dummy.indexOf("</DESC>")));
+				} else {
+					ImagesText.add(dummy);
+					ImagesInfo.add(null);
+				}
 				dummy = ex.findNext();
 			}
 			// Logimages
@@ -271,7 +279,7 @@
 				  detfile.print("</LOGS>\r\n");
 			
 				  detfile.print("<NOTES><![CDATA["+CacheNotes+"]]></NOTES>\n");
-				  detfile.print("<IMAGES>");
+				  detfile.print("<IMAGES>\n");
 				  String stbuf = new String();
 				  for(int i = 0;i<Images.size();i++){
 						stbuf = (String)Images.get(i);
@@ -279,7 +287,10 @@
 				  }
 				  for(int i = 0;i<ImagesText.size();i++){
 						stbuf = (String)ImagesText.get(i);
-						detfile.print("    <IMGTEXT>"+stbuf+"</IMGTEXT>\n");
+						if (ImagesInfo.get(i)==null)
+							detfile.print("    <IMGTEXT>"+stbuf+"</IMGTEXT>\n");
+						else 
+							detfile.print("    <IMGTEXT>"+stbuf+"<DESC>"+ImagesInfo.get(i)+"</DESC></IMGTEXT>\n");
 				  }
 
 				  for(int i = 0;i<LogImages.size();i++){
@@ -337,6 +348,15 @@
 			return this.wayPoint.endsWith(ch.wayPoint.substring(2));
 		}
 		
+		/**
+		 * Return true if this cache has additional info for some pictures
+		 * @return true if cache has additional info, false otherwise
+		 */
+		public boolean hasImageInfo() {
+			for (int i=ImagesInfo.size()-1; i>=0; i--)
+				if (ImagesInfo.get(i)!=null) return true;
+			return false;
+		}
 
 //	   public void finalize() {
 //		   super.finalize();

Modified: trunk/src/CacheWolf/DescriptionPanel.java
===================================================================
--- trunk/src/CacheWolf/DescriptionPanel.java	2008-03-22 19:58:00 UTC (rev 1277)
+++ trunk/src/CacheWolf/DescriptionPanel.java	2008-03-22 22:29:36 UTC (rev 1278)
@@ -56,6 +56,7 @@
 			//disp.getDecoderProperties().setBoolean("allowImages",true);
 			Vm.showWait(true); 
 			if (isHtml) {
+				int imageNo=0;
 				if (Global.getPref().descShowImg) {
 					Vector Images;
 					if (cache.isAddiWpt()) {
@@ -66,7 +67,6 @@
 					StringBuffer s=new StringBuffer(desc.length()+Images.size()*100);
 					int start=0;
 					int pos;
-					int imageNo=0;
 					Regex imgRex = new Regex("src=(?:\\s*[^\"|']*?)(?:\"|')(.*?)(?:\"|')");
 					if (Images.getCount() > 0) {
 						while (start>=0 && (pos=desc.indexOf("<img",start))>0) {
@@ -92,6 +92,9 @@
 					if (start>=0) s.append(desc.substring(start));
 					desc=s.toString();
 				}
+				if (cache.hasImageInfo()) {
+					desc+=getPicDesc(imageNo,cache);
+				}
 				//disp.setHtml(desc);
 				disp.startHtml();
 				disp.getDecoderProperties().set("documentroot",Global.getProfile().dataDir);
@@ -111,6 +114,26 @@
 		currCache = cache;
 	}
 	
+	/**
+	 * Get the descriptions for the pictures (if they exist)
+	 * @param imagesShown images already shown as part of long description (don't show again)
+	 * @param chD
+	 */
+	private String getPicDesc(int imagesShown,CacheHolderDetail chD) {
+		StringBuffer sb=new StringBuffer(1000);
+		sb.append("<hr><font size=\"+1\" color=\"red\">").append(MyLocale.getMsg(202,"IMAGES").toUpperCase()).append("</font>");
+		sb.append("<br><br>");
+		for (int i=imagesShown; i<chD.ImagesInfo.size(); i++) {
+			sb.append(chD.ImagesText.get(i)).append("<br>");
+			// Show the additional text if there is one
+			if (chD.ImagesInfo.get(i)!=null) sb.append("<font color='blue'>").append(chD.ImagesInfo.get(i)).append("</font>");
+			// Only show the image if images are enabled
+			if (Global.getPref().descShowImg) sb.append("<img src=\""+chD.Images.get(i)+"\"><br>");
+			sb.append("<br><br><hr>");
+		}
+		return sb.toString();
+	}
+	
 	public void clear() {
 		disp.setPlainText("loading ...");
 	}

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-22 19:58:00 UTC (rev 1277)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-22 22:29:36 UTC (rev 1278)
@@ -507,6 +507,7 @@
 					chD.addiWpts.clear();
 					chD.Images.clear();
 					chD.ImagesText.clear();
+					chD.ImagesInfo.clear();
 	
 					if(completeWebPage.indexOf(p.getProp("cacheUnavailable")) >= 0) chD.is_available = false;
 					if(completeWebPage.indexOf(p.getProp("cacheArchived")) >= 0) chD.is_archived = true;
@@ -894,9 +895,9 @@
 	 */
 	public void getImages(String doc, CacheHolderDetail chD){
 		int imgCounter = 0;
-		String imgName, oldImgName, imgType, imgUrl;
+		String imgName, oldImgName, imgType, imgUrl, imgComment;
 		Vector spideredUrls=new Vector(15);
-		Extractor exImgBlock;
+		Extractor exImgBlock,exImgComment;
 		int idxUrl; // Index of already spidered Url in list of spideredUrls
 		//========
 		//In the long description
@@ -942,6 +943,7 @@
 							chD.Images.add(oldImgName+imgType); // Store name of old image as image to load
 						}
 						chD.ImagesText.add(imgName); // Keep the image name
+						chD.ImagesInfo.add(null); // Need to stay in synch with ImagesText
 						imgCounter++;
 					}
 				} catch (IndexOutOfBoundsException e) {
@@ -960,11 +962,13 @@
 			tst = spanBlock.findNext();
 			exImgName = new Extractor(tst,p.getProp("imgNameExStart"),p.getProp("imgNameExEnd"), 0 , true);
 			exImgSrc = new Extractor(tst,p.getProp("imgSrcExStart"),p.getProp("imgSrcExEnd"), 0, true);
+			exImgComment = new Extractor(tst,p.getProp("imgCommentExStart"),p.getProp("imgCommentExEnd"), 0, true);
 		} catch (Exception ex) { // Missing property in spider .def
 			return;
 		}
 		while(exImgSrc.endOfSearch() == false){
 			imgUrl = exImgSrc.findNext();
+			imgComment = exImgComment.findNext(); 
 			//Vm.debug("Img Url: " +imgUrl);
 			if(imgUrl.length()>0){
 				imgUrl = "http://" + imgUrl;
@@ -986,6 +990,12 @@
 							chD.Images.add(oldImgName+imgType); // Store name of old image as image to load
 						}
 						chD.ImagesText.add(exImgName.findNext()); // Keep the image description
+						while (imgComment.startsWith("<br>")) imgComment=imgComment.substring(4);
+						while (imgComment.endsWith("<BR>")) imgComment=imgComment.substring(0,imgComment.length()-4);
+						if (imgComment.length()==0)
+							chD.ImagesInfo.add(null);
+						else
+							chD.ImagesInfo.add(imgComment);
 						imgCounter++;
 					}
 				} catch (IndexOutOfBoundsException e) {
@@ -1015,6 +1025,7 @@
 							chD.Images.add(imgName+imgType);
 							spideredUrls.add(imgUrl);
 							chD.ImagesText.add(imgName); // Keep the image name
+							chD.ImagesInfo.add(null);
 							imgCounter++;
 						}
 					}



From bilbowolf at mail.berlios.de  Mon Mar 24 15:39:47 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Mon, 24 Mar 2008 15:39:47 +0100
Subject: [Cachewolf-svn] r1279 - in trunk/docs/CacheWolf Doku: . pics
Message-ID: <200803241439.m2OEdlSg007743@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-24 15:37:49 +0100 (Mon, 24 Mar 2008)
New Revision: 1279

Added:
   trunk/docs/CacheWolf Doku/benutzte_dateien.xml
   trunk/docs/CacheWolf Doku/pics/karten_kontext.jpg
   trunk/docs/CacheWolf Doku/pics/karten_popup.jpg
   trunk/docs/CacheWolf Doku/pics/moving_map.jpg
Modified:
   trunk/docs/CacheWolf Doku/CacheWolf Dokumentation.xml
   trunk/docs/CacheWolf Doku/ansichten.xml
   trunk/docs/CacheWolf Doku/menu.xml
Log:
Kapitel Ansichten fertig!

Modified: trunk/docs/CacheWolf Doku/CacheWolf Dokumentation.xml
===================================================================
--- trunk/docs/CacheWolf Doku/CacheWolf Dokumentation.xml	2008-03-22 22:29:36 UTC (rev 1278)
+++ trunk/docs/CacheWolf Doku/CacheWolf Dokumentation.xml	2008-03-24 14:37:49 UTC (rev 1279)
@@ -9,6 +9,17 @@
 <book>
   <title>CacheWolf Dokumentation</title>
 
+  <bookinfo>
+    <edition>1.0</edition>
+
+    <productnumber>1.0</productnumber>
+
+    <pubdate>Ver?ffentlicht am 11.12.2008</pubdate>
+
+    <releaseinfo>Dieses Dokument in der Ausgabe 1.0 bezieht sich auf die
+    CacheWolf Version 1.0.</releaseinfo>
+  </bookinfo>
+
   &__Installation__f6afn1eo;
 
   &__DerersteStart__f6anus0g;

Modified: trunk/docs/CacheWolf Doku/ansichten.xml
===================================================================
--- trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-22 22:29:36 UTC (rev 1278)
+++ trunk/docs/CacheWolf Doku/ansichten.xml	2008-03-24 14:37:49 UTC (rev 1279)
@@ -56,6 +56,20 @@
           Map).</para>
         </revdescription>
       </revision>
+
+      <revision>
+        <revnumber>0.99</revnumber>
+
+        <date>24.03.2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Kapitel fertig.</para>
+        </revdescription>
+      </revision>
     </revhistory>
   </chapterinfo>
 
@@ -298,12 +312,12 @@
   <section>
     <title>Tourenplaner</title>
 
-    <para>Der Tourenplaner l??t sich entweder ?ber die Listenansicht
-    (<inlinemediaobject>
+    <para>Der Tourenplaner l??t sich in der Listenansicht mit einem Klick auf
+    <inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/touricon.jpg" />
         </imageobject>
-      </inlinemediaobject>) ?ffnen.</para>
+      </inlinemediaobject> ?ffnen.</para>
 
     <informaltable>
       <tgroup cols="2">
@@ -315,7 +329,21 @@
                 </imageobject>
               </inlinemediaobject></entry>
 
-            <entry valign="top"><para></para></entry>
+            <entry valign="top"><para>Mit dem Tourenplaner l??t sich aus der
+            Listenansicht oder dem Radar arbeiten. Caches k?nne durch
+            hineinziehen hinzugef?gt, durch herausziehen aus der Liste
+            entfernt werden.</para><para>Durch einen klick auf die Icons unten
+            l??t sich eine neue Liste erzeugen, eine vorhandene ?ffnen, eine
+            aktuelle Liste unter einem bestimmten Namen speichern oder eine
+            existierende und gerade offene Liste speichern.</para><para>Mit
+            Liste anwenden wird die Listenansicht gefiltert und es sind nur
+            die Caches aus dem Tourenplaner vorhanden.</para><para>Hat man den
+            Tourenplaner und das Radar offen wird die Cachemarkierung im Radar
+            ver?ndert, wenn man auf ein Cache in der Listenansicht klickt
+            (oder mit den Pfeilatsten die Auswahl ver?ndert). Gleiches
+            passiert in der Listenansicht; dann wird jeweils der Cache
+            markiert, der gerade auch im Tourenplaner markiert
+            ist.</para></entry>
           </row>
         </tbody>
       </tgroup>
@@ -323,7 +351,7 @@
   </section>
 
   <section>
-    <title>Details</title>
+    <title id="detailansicht">Details</title>
 
     <para>Die Details?Seite zeigt einige Eckdaten zu dem gew?hlten
     Cache:.</para>
@@ -364,8 +392,8 @@
           <imagedata fileref="pics/welt.jpg" />
         </imageobject>
       </inlinemediaobject> Mit der Weltkugel wird eine Karte ge?ffnet, auf dem
-    die Lage des Caches eingezeichnet ist. Die Kartenansicht wird im
-    nachfolgenden Kapitel ausf?hrlich beschrieben.</para>
+    die Lage des Caches eingezeichnet ist. Die Kartenansicht wird im Kapitel
+    <xref lang="" linkend="moving_map" /> ausf?hrlich beschrieben.</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -420,12 +448,6 @@
           <imagedata fileref="pics/gefunden_am.jpg" />
         </imageobject>
       </inlinemediaobject></para>
-
-    <section>
-      <title>Die Kartenansicht</title>
-
-      <para></para>
-    </section>
   </section>
 
   <section>
@@ -1303,7 +1325,7 @@
     Berechungen f?r komplexe Multis vorbereitet werden, ohne im Feld gro?e
     ?nderungen vornehmen zu m?ssen. Weitere Informationen dazu unter <ulink
     url="http://www.cachewolf.de/wiki/pmwiki.php/Main/Beispiele#SolverAlternative">Beispiele</ulink>
-    (auf www.cachewolf.de). </para>
+    (auf www.cachewolf.de).</para>
 
     <para>Erlaubte Vergleichsoperatoren sind:</para>
 
@@ -1417,9 +1439,113 @@
     <para>Der Map Button verdient ein eigenes Kapitel.</para>
 
     <section>
-      <title>Map (auch Karte)</title>
+      <title id="moving_map">Map (auch Karte, bzw. die Moving Map)</title>
 
-      <para></para>
+      <para>Durch einen klick auf <literal>Map</literal> oder
+      <literal>Karte</literal> wird ein neues Fenster ge?ffnet in dem eine
+      Karte angezeigt wird. Welche Karte gezeigt wird h?ngt von drei Faktoren
+      ab:</para>
+
+      <orderedlist>
+        <listitem>
+          <para>Hast du den Globus aus aus der Detailansicht (siehe <xref
+          lang="" linkend="detailansicht" />) geklickt wird eine Karte
+          dargestellt auf dem die Position des gew?hlten Caches (siehe <xref
+          lang="" linkend="liste" />) gezeigt wird.</para>
+        </listitem>
+
+        <listitem>
+          <para>Hast Du, ohne dass ein Cache gew?hlt wurde aus der Goto
+          Ansicht diese Funktion gew?hlt wird eine Karte zentriert auf das
+          aktuelle Zentrum gezeigt.</para>
+        </listitem>
+
+        <listitem>
+          <para>Es wird keine Karte angezeigt, wenn keine vorhanden ist. Wie
+          Du an Karten herankommst wird hier <xref linkend="karten" />
+          beschrieben.</para>
+        </listitem>
+      </orderedlist>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/moving_map.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>Durch klicken und verschieben mit der Maus l?sst sich die geladene
+      Karte verschieben. Hast Du eine Karte sehr weit verschoben, wird eine
+      aktueller Karte (so fern vorhanden) nachgeladen und angezeigt.</para>
+
+      <para>Durch klicken auf das gelbe Dreieck ?ffnet sich ein umfangreiches
+      Men?:</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/karten_popup.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>Grunds?tzlich ist das Men? selbsterkl?rend. Die ersten beiden
+      Men?punkte verdienen aber etwas Erkl?rung:</para>
+
+      <itemizedlist>
+        <listitem>
+          <para>Mit <literal>Karte manuell ausw?hlen</literal> kann eine
+          bestimmte Karte geladen werden. Durch einen klick auf diesen
+          Men?punkt bekommt man eine Auswahlliste s?mtlicher Karten, die
+          Cachewolf im aktuellen maps Verzeichnis gefunden hat.</para>
+        </listitem>
+
+        <listitem>
+          <para>Cachewolf sucht grunds?tzlich in einem "maps" Verzeichnis im
+          Profilbasisverzeichnis nach geeigneten Karten. Innerhalb des maps
+          Verzeichnis k?nnen noch die Verzeichnisse expedia, standard und topo
+          vorhanden sein. Mit der Funktion <literal>Kartenverzeichnis
+          wechseln</literal> kann ein anderes beliebiges Verzeichnis gew?hlt
+          werden.</para>
+        </listitem>
+      </itemizedlist>
+
+      <para>Durch einen klick auf GPS (mit den gr?nen Pfeilen) l??t sich der
+      GPS Empfang einschalten und die Karte so verschieben, dass der aktuelle
+      Standpunkt in der Mitte des Bildschirmes liegt. Ist der GPS-Empfang
+      eingeschaltet und ein Fix ist vorhanden, dann zeigt ein gr?ner Kreis in
+      der Mitte des Schirms immer auf die eigene aktuelle Position, auch wenn
+      man sich bewegt. Wenn man sich bewegt wird die Karte so verschoben, dass
+      die eigene Position immer in der Mitte des Schirms mit gr?nen Kreis
+      angezeigt wird. Wenn kein Fix vorhanden ist, zeigt ein gelber Kreis die
+      letzte bekannte Position an. Wenn ein Fehler mit GPS-Empf?nger
+      aufgetreten ist, wird der Kreis rot und eine Fehlermeldung poppt
+      auf.</para>
+
+      <para>Durch Klick auf die Lupe, kann man in die Karte hinein- und
+      herauszoomen. Man kann ein Rechteck aufziehen, auf das gezoomt werden
+      soll. Zieht man das Rechteck von links-oben nach rechts-unten auf, so
+      wird in das Rechteck hineingezoomt. Zieht man das Rechteck von
+      rechts-oben nach links-unten auf, so wird herausgezoomt, wobei der
+      gegenw?rtige Bildschirm auf den aufgezogenen Rahmen verkleinert
+      wird.</para>
+
+      <para>Mit Klick auf 1:1 kann der urspr?ngliche Ma?stab der Karte wieder
+      hergestellt werden.Dr?ckt man lange oder mit der rechten Maustaste
+      irgendwo in die Karte, ?ffnet sich ein Kontextmen?. Wenn man auf einen
+      Cache geklickt hat, so kann man die entsprechende Cachebeschreibung
+      ?ffnen.</para>
+
+      <para>Dr?ckt man lange oder mit der rechten Maustaste irgendwo in die
+      Karte, ?ffnet sich ein Kontextmen?:</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/karten_kontext.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>Die Men?eintr?ge sind,denke ich, selbsterkl?rend.</para>
+
+      <para>Wenn man auf einen Cache geklickt hat, so kann man die
+      entsprechende Cachebeschreibung ?ffnen.</para>
     </section>
   </section>
 

Added: trunk/docs/CacheWolf Doku/benutzte_dateien.xml
===================================================================
--- trunk/docs/CacheWolf Doku/benutzte_dateien.xml	2008-03-22 22:29:36 UTC (rev 1278)
+++ trunk/docs/CacheWolf Doku/benutzte_dateien.xml	2008-03-24 14:37:49 UTC (rev 1279)
@@ -0,0 +1,70 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<chapter>
+  <chapterinfo>
+    <title>Von Cachewolf benutzte Dateien</title>
+
+    <date>24.3.2008</date>
+
+    <releaseinfo>CacheWolf 1.0</releaseinfo>
+
+    <author>
+      <surname>Marc Schnitzler</surname>
+    </author>
+
+    <revhistory>
+      <revision>
+        <revnumber>0.1</revnumber>
+
+        <date>24.3.2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Erster Entwurf, kopiert www.cachewolf.de</para>
+        </revdescription>
+      </revision>
+    </revhistory>
+  </chapterinfo>
+
+  <title>Von Cachewolf benutzte Dateien</title>
+
+  <para></para>
+
+  <section>
+    <title id="start">pref.xml</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>index.xml</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>sonstige xml Dateien</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>spider.def</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>Die .tpl Dateien</title>
+
+    <para></para>
+  </section>
+
+  <section>
+    <title>Die .wfl Dateien</title>
+
+    <para></para>
+  </section>
+</chapter>
\ No newline at end of file

Modified: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-03-22 22:29:36 UTC (rev 1278)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-03-24 14:37:49 UTC (rev 1279)
@@ -154,9 +154,9 @@
 
         <para>?ber diese Funktion lassen sich georeferenzierte Karten direkt
         aus dem Internat laden. Hierbei k?nnen zwei grunds?tzlich
-        unterschiedliche Quellen genutzt werden. Expedia schon in fr?heren
-        Versionen angeboten. Mit der 1.0 werden nun WMS Quellen ebenfalls
-        angeboten.</para>
+        unterschiedliche Quellen genutzt werden. Expedia wurde schon in
+        fr?heren Versionen angeboten. Mit der 1.0 werden nun WMS Quellen
+        ebenfalls angeboten.</para>
 
         <sidebar>
           <para>Ein Web Map Service (WMS) ist ein Web Service, der auf den WMS
@@ -272,13 +272,32 @@
       <section>
         <title>Importieren</title>
 
-        <para></para>
+        <para>Der Import von Karten erfolgt durch die Auswahl eines
+        Verzeichnisses, in dem sich Karten im Format (PNG, JPG, GIF, BMP)
+        befinden (Leider werden die Karten selbst in dem Verzeichnis nicht
+        angezeigt). Wenn sich ebenfalls .map Deteien in dem Verzeichjnis
+        befinden, wird CacheWolf diese Dateien zum Kalibrieren der
+        gleichnamigen Kartendatei verwenden. </para>
+
+        <para><example>
+            <title>Kartendatei mit zugeh?rige .map Datei</title>
+
+            <para>Kartendatei: 01x01.png .map Datei: 01x01.map</para>
+          </example></para>
+
+        <para>Mit einer .map Datei meinen wir eine Datei im OziExplorer
+        format: <ulink
+        url="http://www.rus-roads.ru/gps/help_ozi/map_file_format.html">http://www.rus-roads.ru/gps/help_ozi/map_file_format.html</ulink></para>
       </section>
 
       <section>
         <title>Kalibrieren</title>
 
-        <para></para>
+        <para>Zum Kalibrieren einer Karte muss man f?r mindestens drei Punkte
+        auf der Karte die GPS Koordinaten (WGS84, DMM) kennen. CacheWolf kann
+        aber auch mit mehr Koordinaten arbeiten; dadurch wird die Kalibrierung
+        genauer. Durch klick auf Anwendung -&gt; Karten -&gt; Kalibrieren
+        erh?lt man folgendes Bild:</para>
       </section>
     </section>
 

Added: trunk/docs/CacheWolf Doku/pics/karten_kontext.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/karten_kontext.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/karten_popup.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/karten_popup.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/CacheWolf Doku/pics/moving_map.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/moving_map.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From salzkammergut at mail.berlios.de  Mon Mar 24 17:41:07 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Mon, 24 Mar 2008 17:41:07 +0100
Subject: [Cachewolf-svn] r1280 - trunk/src/CacheWolf
Message-ID: <200803241641.m2OGf7Oj017688@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-24 17:41:05 +0100 (Mon, 24 Mar 2008)
New Revision: 1280

Modified:
   trunk/src/CacheWolf/SpiderGC.java
Log:
SpiderGC: Better handling of images which are already URLencoded
See http://www.geoclub.de/ftopic23202-5.html

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-24 14:37:49 UTC (rev 1279)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-24 16:41:05 UTC (rev 1280)
@@ -929,7 +929,6 @@
 					// imgType is now max 4 chars, starting with .
 					if(!imgType.startsWith(".com") && !imgType.startsWith(".php") && !imgType.startsWith(".exe")){
 						// Check whether image was already spidered for this cache
-						if (imgUrl.indexOf('%')>=0) imgUrl=URL.decodeURL(imgUrl);
 						idxUrl=spideredUrls.find(imgUrl);
 						imgName = chD.wayPoint + "_" + Convert.toString(imgCounter);
 						if (idxUrl<0) { // New image
@@ -977,7 +976,6 @@
 					// imgType is now max 4 chars, starting with .
 					if(!imgType.startsWith(".com") && !imgType.startsWith(".php") && !imgType.startsWith(".exe")){
 						// Check whether image was already spidered for this cache
-						if (imgUrl.indexOf('%')>=0) imgUrl=URL.decodeURL(imgUrl);
 						idxUrl=spideredUrls.find(imgUrl);
 						imgName = chD.wayPoint + "_" + Convert.toString(imgCounter);
 						if (idxUrl<0) { // New image
@@ -1016,7 +1014,6 @@
 					// imgType is now max 4 chars, starting with .
 					if( imgType.startsWith(".jpg") || imgType.startsWith(".bmp") || imgType.startsWith(".png") || imgType.startsWith(".gif")){
 						// Check whether image was already spidered for this cache
-						if (imgUrl.indexOf('%')>=0) imgUrl=URL.decodeURL(imgUrl);
 						idxUrl=spideredUrls.find(imgUrl);
 						if (idxUrl<0) { // New image
 							imgName = chD.wayPoint + "_" + Convert.toString(imgCounter);
@@ -1053,6 +1050,7 @@
 		String datei = "";
 		datei = profile.dataDir + target;
 		connImg = new HttpConnection(imgUrl);
+		if (imgUrl.indexOf('%')>=0) connImg.documentIsEncoded=true;
 		connImg.setRequestorProperty("Connection", "close");
 		//connImg.setRequestorProperty("User-Agent","Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.12) Gecko/20080201 Firefox/2.0.0.12");
 		//connImg.setRequestorProperty("Accept","text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5");



From bilbowolf at mail.berlios.de  Mon Mar 24 17:43:51 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Mon, 24 Mar 2008 17:43:51 +0100
Subject: [Cachewolf-svn] r1281 - trunk/res_noewe/languages
Message-ID: <200803241643.m2OGhpaP017843@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-24 17:43:48 +0100 (Mon, 24 Mar 2008)
New Revision: 1281

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/NL.cfg
Log:
Sprachdateien f?r "Export nach CSV" angepasst.

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-24 16:41:05 UTC (rev 1280)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-24 16:43:48 UTC (rev 1281)
@@ -5,7 +5,7 @@
 		101=nach PCX5 Mapsource
 		102=nach TOP50 ASCII
 		103=nach GPX
-		104=nach ASC
+		104=nach CSV
 		105=nach TomTom
 		106=nach MS AutoRoute CSV
 		107=Export

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-24 16:41:05 UTC (rev 1280)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-24 16:43:48 UTC (rev 1281)
@@ -5,7 +5,7 @@
 		101=naar PCX5 MapSource
 		102=naar TOP50 ASCII
 		103=naar GPX
-		104=naar ASC
+		104=naar CSV
 		105=naar TomTom
 		106=naar MS AutoRoute CSV
 		107=Exporteren



From pfeffer at mail.berlios.de  Tue Mar 25 00:05:55 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Tue, 25 Mar 2008 00:05:55 +0100
Subject: [Cachewolf-svn] r1282 - trunk
Message-ID: <200803242305.m2ON5tvO022636@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-25 00:05:54 +0100 (Tue, 25 Mar 2008)
New Revision: 1282

Modified:
   trunk/currentversions.txt
Log:
test for automatic version checking

Modified: trunk/currentversions.txt
===================================================================
--- trunk/currentversions.txt	2008-03-24 16:43:48 UTC (rev 1281)
+++ trunk/currentversions.txt	2008-03-24 23:05:54 UTC (rev 1282)
@@ -14,8 +14,8 @@
 T2SvnRevision: 1000
 
 # InDevelopmentNewest
-T3VersionMajor: 1
-T3VersionMinor: 0
+T3VersionMajor: 0
+T3VersionMinor: 9
 T3SvnRevision: http://flyingfish.freewrt.org:8180/job/Cachewolf/lastBuild/
 
 RecommendedType: 3



From pfeffer at mail.berlios.de  Tue Mar 25 03:03:04 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Tue, 25 Mar 2008 03:03:04 +0100
Subject: [Cachewolf-svn] r1283 - trunk/src/CacheWolf
Message-ID: <200803250203.m2P234ct031659@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-25 03:03:00 +0100 (Tue, 25 Mar 2008)
New Revision: 1283

Modified:
   trunk/src/CacheWolf/CacheHolderDetail.java
   trunk/src/CacheWolf/HttpConnection.java
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/UrlFetcher.java
Log:
Save <cache>.xml: Bug fixed: when ImagesInfo was not set but ImagesText, an ArrayIndexOutOfBoundException prevented saving
Opencaching-Download: make use of UrlFetchter class
UrlFetcher: integrated follow redirections
UrlFetcher: autodect if URL is already encoded
UrlFetcher: can return the URL of the redirected URL

Modified: trunk/src/CacheWolf/CacheHolderDetail.java
===================================================================
--- trunk/src/CacheWolf/CacheHolderDetail.java	2008-03-24 23:05:54 UTC (rev 1282)
+++ trunk/src/CacheWolf/CacheHolderDetail.java	2008-03-25 02:03:00 UTC (rev 1283)
@@ -285,12 +285,13 @@
 						stbuf = (String)Images.get(i);
 						detfile.print("    <IMG>"+stbuf+"</IMG>\n");
 				  }
+				  int iis = ImagesInfo.size();
 				  for(int i = 0;i<ImagesText.size();i++){
 						stbuf = (String)ImagesText.get(i);
-						if (ImagesInfo.get(i)==null)
+						if (iis < i && ImagesInfo.get(i) != null)
+							detfile.print("    <IMGTEXT>"+stbuf+"<DESC>"+ImagesInfo.get(i)+"</DESC></IMGTEXT>\n");
+						else 
 							detfile.print("    <IMGTEXT>"+stbuf+"</IMGTEXT>\n");
-						else 
-							detfile.print("    <IMGTEXT>"+stbuf+"<DESC>"+ImagesInfo.get(i)+"</DESC></IMGTEXT>\n");
 				  }
 
 				  for(int i = 0;i<LogImages.size();i++){
@@ -322,12 +323,12 @@
 				  detfile.print("</CACHEDETAILS>\n");
 				} // if length
 			} catch (Exception e){
-				Vm.debug("Problem writing to a details file");
+				Global.getPref().log("Problem waypoint " + wayPoint + " writing to a details file: " + e.getMessage());
 			}
 			try{
 			  detfile.close();
 			} catch (Exception e){
-			  //Vm.debug("Problem closing details file");
+				Global.getPref().log("Problem waypoint " + wayPoint + " writing to a details file: " + e.getMessage());
 			}
 			hasUnsavedChanges = false;
 		}

Modified: trunk/src/CacheWolf/HttpConnection.java
===================================================================
--- trunk/src/CacheWolf/HttpConnection.java	2008-03-24 23:05:54 UTC (rev 1282)
+++ trunk/src/CacheWolf/HttpConnection.java	2008-03-25 02:03:00 UTC (rev 1283)
@@ -27,6 +27,8 @@
 /**
 Use this class to create an HttpConnection with a Web Server and to read
 in the data for the connection.<p>
+This a a modified version of XXX. This version automatically makes use of a proxy server
+if once for all proxy is set.
 To use this do the following:
 <ol>
 <li>Create an HttpConnection object with a URL or specify the host, port and document to get.

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-24 23:05:54 UTC (rev 1282)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-25 02:03:00 UTC (rev 1283)
@@ -226,6 +226,7 @@
 		
 		picCnt = 0;
 		try{
+			chD = null;
 			file = fetch(url, "dummy");
 
 			//parse
@@ -451,6 +452,7 @@
 				chD.CacheLogs.clear();
 				chD.Images.clear();
 				chD.ImagesText.clear();
+				chD.ImagesInfo.clear();
 			}
 
 			// save all
@@ -562,32 +564,44 @@
 		}
 	}
 
-	private void getPic(String fetchURL, String picDesc){ // TODO handling of relativ URLs
-		if (!fetchURL.startsWith("http://")) fetchURL = "http://" + OPENCACHING_HOST + "/"+fetchURL; // TODO this is not quite correct: actually the "base" URL must be known... but anyway a different baseURL should not happen very often  - it doesn't in my area
+	private String createPicFilename(String fetchURL) {
 		String fileName = chD.wayPoint + "_" + fetchURL.substring(fetchURL.lastIndexOf("/")+1);
-		fileName = Common.ClearForFileName(fileName);
-		// add title
-		chD.ImagesText.add(picDesc);
+		return Common.ClearForFileName(fileName);
+	}
+	
+	private void getPic(String fetchURL, String picDesc) { // TODO handling of relativ URLs
 		try {
-			File ftest = new File(profile.dataDir + fileName);
-			if (ftest.exists()){
-				chD.Images.add(fileName);
-			}
-			else {
-				if (pref.downloadPicsOC) {
-					chD.Images.add(fetch(fetchURL, fileName));
+			if (!fetchURL.startsWith("http://")) fetchURL = new URL(new URL("http://" + OPENCACHING_HOST+"/"), fetchURL).toString();
+			// if (!fetchURL.startsWith("http://")) fetchURL = "http://" + OPENCACHING_HOST + "/" + fetchURL; // TODO use URL.relative or so.. this is not quite correct: actually the "base" URL must be known... but anyway a different baseURL should not happen very often  - it doesn't in my area
+			String fileName = createPicFilename(fetchURL);
+			// add title
+			chD.ImagesText.add(picDesc);
+			chD.ImagesInfo.add(null); // need to stay in sync with ImagesText
+			try {
+				File ftest = new File(profile.dataDir + fileName);
+				if (ftest.exists()){
+					chD.Images.add(fileName);
 				}
+				else {
+					if (pref.downloadPicsOC) {
+						chD.Images.add(fetch(fetchURL, fileName));
+					}
+				}
+			} catch (IOException e) {
+				String ErrMessage = new String (MyLocale.getMsg(1618,"Ignoring error in cache: ") + chD.wayPoint + ": ignoring IOException: "+e.getMessage()+ " while downloading picture:"+fileName+" from URL:"+fetchURL); 
+				if (e.getMessage().toLowerCase().equalsIgnoreCase("could not connect") ||
+						e.getMessage().equalsIgnoreCase("unkown host")) { // is there a better way to find out what happened?
+					ErrMessage = MyLocale.getMsg(1618,"Ignoring error in cache: ")+chD.CacheName + " ("+chD.wayPoint+")"+MyLocale.getMsg(1619,": could not download image from URL: ")+fetchURL;
+				} 
+				inf.addWarning("\n"+ErrMessage);
+				//(new MessageBox(MyLocale.getMsg(144, "Warning"), ErrMessage, MessageBox.OKB)).exec();
+				pref.log(ErrMessage);
+				e.printStackTrace();
 			}
-		} catch (IOException e) {
-			String ErrMessage = new String (MyLocale.getMsg(1618,"Ignoring error in cache: ") + chD.wayPoint + ": ignoring IOException: "+e.getMessage()+ " while downloading picture:"+fileName+" from URL:"+fetchURL); 
-			if (e.getMessage().toLowerCase().equalsIgnoreCase("could not connect") ||
-					e.getMessage().equalsIgnoreCase("unkown host")) { // is there a better way to find out what happened?
-				ErrMessage = MyLocale.getMsg(1618,"Ignoring error in cache: ")+chD.CacheName + " ("+chD.wayPoint+")"+MyLocale.getMsg(1619,": could not download image from URL: ")+fetchURL;
-			} 
+		} catch (MalformedURLException e) {
+			String ErrMessage = new String (MyLocale.getMsg(1618,"Ignoring error in cache: ") + chD.wayPoint + ": ignoring MalformedUrlException: " + e.getMessage()+ " while downloading from URL:" + fetchURL); 
 			inf.addWarning("\n"+ErrMessage);
-			//(new MessageBox(MyLocale.getMsg(144, "Warning"), ErrMessage, MessageBox.OKB)).exec();
-			Vm.debug("Could not load Image " + fetchURL);
-			e.printStackTrace();
+			pref.log(ErrMessage);
 		}
 
 	}
@@ -658,28 +672,12 @@
 
 	private String fetch(String addr, String fileName ) throws IOException
 	{
-		final int maxRedirections = 5;
-		//Vm.debug(address);
-		HttpConnection conn = null;
-		Socket sock = null;
-		int i=-1;
-		String address = new String(addr);
-		while (address != null && i <= maxRedirections ) { // allow max 5 redirections (http 302 location)
-			i++;
-			conn = new HttpConnection(address);
-			conn.setRequestorProperty("USER_AGENT", "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0");
-			conn.setRequestorProperty("Connection", "close");
-			conn.documentIsEncoded = true;
-			sock = conn.connect(); // TODO I guess here an IOException ocurs when a proxy is used
-			address = conn.getRedirectTo();
-			if (address != null){
-				if (chD != null) fileName = chD.wayPoint + "_" + Common.ClearForFileName(address.substring(address.lastIndexOf("/")+1));
-				else fileName = Common.ClearForFileName(address.substring(address.lastIndexOf("/")+1));
-			}
-		}
-		if (i > maxRedirections) throw new IOException("too many http redirections while trying to fetch: "+addr + " only "+maxRedirections+" are allowed");
 		//Vm.debug("Redirect: " + redirect);
-		ByteArray daten = conn.readData(sock);
+		CharArray realurl = new CharArray();
+		ByteArray daten = UrlFetcher.fetchByteArray(addr, realurl);
+		String address = realurl.toString();
+		if (chD != null) fileName = chD.wayPoint + "_" + Common.ClearForFileName(address.substring(address.lastIndexOf("/")+1));
+		// else fileName = Common.ClearForFileName(address.substring(address.lastIndexOf("/")+1));
 
 		//save file
 		//Vm.debug("Save: " + myPref.mydatadir + fileName);
@@ -687,7 +685,6 @@
 		FileOutputStream outp =  new FileOutputStream(profile.dataDir + fileName);
 		outp.write(daten.toBytes());
 		outp.close();
-		sock.close();
 		return fileName;
 	}
 

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-03-24 23:05:54 UTC (rev 1282)
+++ trunk/src/CacheWolf/Preferences.java	2008-03-25 02:03:00 UTC (rev 1283)
@@ -598,6 +598,7 @@
 		try{
 			strout = logFile.toWritableStream(true);
 			strout.write(text.getBytes());
+			Vm.debug(text);
 		}catch(Exception ex){
 			Vm.debug("Error writing to log file!");
 		}finally{

Modified: trunk/src/CacheWolf/UrlFetcher.java
===================================================================
--- trunk/src/CacheWolf/UrlFetcher.java	2008-03-24 23:05:54 UTC (rev 1282)
+++ trunk/src/CacheWolf/UrlFetcher.java	2008-03-25 02:03:00 UTC (rev 1283)
@@ -1,5 +1,7 @@
 package CacheWolf;
 
+import com.stevesoft.ewe_pat.wrap.CharArrayBufferWrap;
+
 import ewe.data.PropertyList;
 import ewe.io.ByteArrayInputStream;
 import ewe.io.IOException;
@@ -10,30 +12,69 @@
 import ewe.util.Properties;
 
 public class UrlFetcher {
-	public static String fetchString(String address) throws IOException // TODO follow http-redirections
+	public static String fetchString(String address) throws IOException
 	{
-		ByteArray daten = fetchByteArray(address);
+		ByteArray daten = fetchByteArray(address, null);
 		JavaUtf8Codec codec = new JavaUtf8Codec();
 		CharArray c_data = codec.decodeText(daten.data, 0, daten.length, true, null);
 		return c_data.toString();
 	}
 
 	public static Properties fetchPropertyList(String url) throws IOException {
-		ByteArray doc = fetchByteArray(url);
+		CharArray t = new CharArray();
+		ByteArray doc = fetchByteArray(url, t);
 		Properties props = new Properties();
 		props.load(new ByteArrayInputStream(doc));
 		return props; 
 	}
-	public static ByteArray fetchByteArray(String url) throws IOException {	
-		HttpConnection conn;
-		conn = new HttpConnection(url);
-		conn.setRequestorProperty("USER_AGENT", "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0");
-		conn.setRequestorProperty("Connection", "close");
-		conn.documentIsEncoded = true;
-		Socket sock = conn.connect();
-		if (conn.responseCode >= 400) throw new IOException("URL: "+ url + "\nhttp response code: " + conn.responseCode);
+	
+	
+	/**
+	 * @param url - if url-not-allowed chars are contained, they will be automatically encoded
+	 * @param if non null, realurl will be filled with the real url, which can differ from the given url, in case url returns a http-redirect
+	 * @return
+	 * @throws IOException
+	 */
+	public static ByteArray fetchByteArray(String url, CharArray realurl) throws IOException {	
+		final int maxRedirections = 5;
+		HttpConnection conn = null;
+		Socket sock = null;
+		int i=-1;
+		String urltmp = new String(url);
+		while (urltmp != null && i <= maxRedirections ) { // allow max 5 redirections (http 302 location)
+			if (realurl != null) realurl.copyFrom(new String(urltmp));
+			i++;
+			conn = new HttpConnection(urltmp);
+			conn.setRequestorProperty("USER_AGENT", "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0");
+			conn.setRequestorProperty("Connection", "close");
+			conn.documentIsEncoded = isUrlEncoded(urltmp);
+			sock = conn.connect();
+			if (conn.responseCode >= 400) throw new IOException("URL: "+ urltmp + "\nhttp response code: " + conn.responseCode);
+			urltmp = conn.getRedirectTo();
+		}
+		if (i > maxRedirections) throw new IOException("too many http redirections while trying to fetch: "+url + " only "+maxRedirections+" are allowed");
 		ByteArray daten = conn.readData(sock);
 		sock.close();
 		return daten;
 	}
+	
+	/**
+	 * @param url
+	 * @return true, if the string seems to be already URL encoded (that is, it contains only url-allowd chars), false otherwise
+	 */
+	public static boolean isUrlEncoded(String url) {
+		final String allowed = new String ("-_.~!*'();:@&=+$,/?%#[]");
+		char [] src = ewe.sys.Vm.getStringChars(url);
+		char c;
+		for (int i = 0; i<src.length; i++){
+			c = src[i];
+			if (       (c >= 'A' && c <= 'Z') 
+					|| (c >= 'a' && c <= 'z') 
+					|| (c >= '0' && c <= '9')
+					|| (allowed.indexOf(c) >= 0)
+			) continue;
+			else return false;
+		}
+		return true;
+	}
 }
\ No newline at end of file



From mik77 at mail.berlios.de  Tue Mar 25 14:04:30 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Tue, 25 Mar 2008 14:04:30 +0100
Subject: [Cachewolf-svn] r1284 - trunk/src/CacheWolf
Message-ID: <200803251304.m2PD4Uqs004142@sheep.berlios.de>

Author: mik77
Date: 2008-03-25 14:03:56 +0100 (Tue, 25 Mar 2008)
New Revision: 1284

Modified:
   trunk/src/CacheWolf/CWPoint.java
Log:
Replace non-breaking-spaces (0xA0) by normal spaces (0x20) before parsing coordinates

Modified: trunk/src/CacheWolf/CWPoint.java
===================================================================
--- trunk/src/CacheWolf/CWPoint.java	2008-03-25 02:03:00 UTC (rev 1283)
+++ trunk/src/CacheWolf/CWPoint.java	2008-03-25 13:03:56 UTC (rev 1284)
@@ -198,6 +198,8 @@
 	 * 					or			32U 2345234 8902345
 	 */
 	public void set (String coord) {
+	//replace non-breaking-spaces by normal spaces
+	coord = coord.replace((char)0xA0, ' ');
 		/*		(?: 
 					([NSns])\s*([0-9]{1,2})[\s?]+([0-9]{1,2})(?:\s+([0-9]{1,2}))?[,.]([0-9]{1,8})\s* 
 					([EWewOo])\s*([0-9]{1,3})[\s?]+([0-9]{1,2})(?:\s+([0-9]{1,2}))?[,.]([0-9]{1,8}) 



From kappler at mail.berlios.de  Tue Mar 25 17:20:34 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Tue, 25 Mar 2008 17:20:34 +0100
Subject: [Cachewolf-svn] r1285 - trunk/src/CacheWolf
Message-ID: <200803251620.m2PGKY2C024590@sheep.berlios.de>

Author: kappler
Date: 2008-03-25 17:20:24 +0100 (Tue, 25 Mar 2008)
New Revision: 1285

Modified:
   trunk/src/CacheWolf/StatusBar.java
Log:
StatusBar: do not show center-coordinates on mobile-devices with big fonts

Modified: trunk/src/CacheWolf/StatusBar.java
===================================================================
--- trunk/src/CacheWolf/StatusBar.java	2008-03-25 13:03:56 UTC (rev 1284)
+++ trunk/src/CacheWolf/StatusBar.java	2008-03-25 16:20:24 UTC (rev 1285)
@@ -17,12 +17,13 @@
 	mButton btnFlt;
 	mImage imgFlt;
 	mButton btnCacheTour;
-	mImage imgCacheTour; 
+	mImage imgCacheTour;
+	boolean MobileVGA;
 	
 	public StatusBar(Preferences p, Vector db){
 		pref=p;
 		int sw = MyLocale.getScreenWidth();
-		boolean MobileVGA = (Vm.isMobile() && sw >= 400);
+		MobileVGA = (Vm.isMobile() && sw >= 400);
 		String imagesize="";
 		if(MobileVGA) imagesize="_vga";  
 		addNext(btnCacheTour=new mButton(imgCacheTour=new mImage("cachetour"+imagesize+".png")),CellConstants.DONTSTRETCH, CellConstants.DONTFILL);
@@ -65,7 +66,8 @@
 			btnFlt.backGround=null;
 		// Current centre can only be displayed if screen is big
 		// Otherwise it forces a scrollbar
-		if (MyLocale.getScreenWidth()>=320) 
+		// This can happen even on bigger screens with big fonts
+		if ((MyLocale.getScreenWidth()>=320) && !(MobileVGA && (pref.fontSize <= 20))) 
 			strCenter="  \u00a4 " + pref.curCentrePt.toString();
 		
 		lblCenter.setText(strCenter);



From kappler at mail.berlios.de  Tue Mar 25 17:35:21 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Tue, 25 Mar 2008 17:35:21 +0100
Subject: [Cachewolf-svn] r1286 - trunk/src/CacheWolf
Message-ID: <200803251635.m2PGZLV0028188@sheep.berlios.de>

Author: kappler
Date: 2008-03-25 17:35:12 +0100 (Tue, 25 Mar 2008)
New Revision: 1286

Modified:
   trunk/src/CacheWolf/StatusBar.java
Log:
Little correction to 1285...

Modified: trunk/src/CacheWolf/StatusBar.java
===================================================================
--- trunk/src/CacheWolf/StatusBar.java	2008-03-25 16:20:24 UTC (rev 1285)
+++ trunk/src/CacheWolf/StatusBar.java	2008-03-25 16:35:12 UTC (rev 1286)
@@ -67,7 +67,7 @@
 		// Current centre can only be displayed if screen is big
 		// Otherwise it forces a scrollbar
 		// This can happen even on bigger screens with big fonts
-		if ((MyLocale.getScreenWidth()>=320) && !(MobileVGA && (pref.fontSize <= 20))) 
+		if ((MyLocale.getScreenWidth()>=320) && !(MobileVGA && (pref.fontSize > 20))) 
 			strCenter="  \u00a4 " + pref.curCentrePt.toString();
 		
 		lblCenter.setText(strCenter);



From mirabilos at mail.berlios.de  Tue Mar 25 17:53:22 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Tue, 25 Mar 2008 17:53:22 +0100
Subject: [Cachewolf-svn] r1287 - trunk/src/CacheWolf
Message-ID: <200803251653.m2PGrMkc030172@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-25 17:53:22 +0100 (Tue, 25 Mar 2008)
New Revision: 1287

Modified:
   trunk/src/CacheWolf/CWPoint.java
Log:
allow N 49?? 33.167 / E 011?? 21.608
where              ^ can be one of ,;.:/_+-
(for copy???n???paste from quite a few OC.de cache descriptions)


Modified: trunk/src/CacheWolf/CWPoint.java
===================================================================
--- trunk/src/CacheWolf/CWPoint.java	2008-03-25 16:35:12 UTC (rev 1286)
+++ trunk/src/CacheWolf/CWPoint.java	2008-03-25 16:53:22 UTC (rev 1287)
@@ -1,7 +1,5 @@
-
 package CacheWolf;
 
-
 import ewe.sys.Double;
 import ewe.sys.Locale;
 import ewe.sys.Convert;
@@ -16,9 +14,6 @@
 
 import ewe.sys.Vm;
 
-
-
-
 /**
  * Class for getting an setting coords in different formats
  * and for doing projection and calculation of bearing and
@@ -211,6 +206,7 @@
 		*/		
 				Regex rex=new Regex("(?:" +
 									"([NSns])\\s*([0-9]{1,2})(?:[?\uC2B0]\\s*|\\s+[?\uC2B0]?\\s*)([0-9]{1,2})(?:(?:['?]\\s*|\\s+['?]?\\s*)([0-9]{1,2}))?(?:[,.]([0-9]{1,8}))?\\s*['?\"]?\\s*" +
+									"[,./_;+:-]*\\s*" + // allow N xx xx.xxx / E xxx xx.xxx
 									"([EWewOo])\\s*([0-9]{1,3})(?:[?\uC2B0]\\s*|\\s+[?\uC2B0]?\\s*)([0-9]{1,2})(?:(?:['?]\\s*|\\s+['?]?\\s*)([0-9]{1,2}))?(?:[,.]([0-9]{1,8}))?\\s*['?\"]?" +
 									")|(?:" +
 									"(?:([NnSs])\\s*(?![+-]))?"   +     "([+-]?[0-9]{1,2})[,.]([0-9]{1,8})(?:(?=[+-EeWwOo])|\\s+|\\s*[?\uC2B0]\\s*)" +



From engywuck at mail.berlios.de  Tue Mar 25 20:26:02 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Tue, 25 Mar 2008 20:26:02 +0100
Subject: [Cachewolf-svn] r1288 - in trunk: res_noewe/languages src/CacheWolf
Message-ID: <200803251926.m2PJQ2pZ005019@sheep.berlios.de>

Author: engywuck
Date: 2008-03-25 20:25:48 +0100 (Tue, 25 Mar 2008)
New Revision: 1288

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/src/CacheWolf/MainMenu.java
Log:
New menu item "Search all". Used to search always in the complete list, not only in the list that may be reduced by a previous search.

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-25 16:53:22 UTC (rev 1287)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-25 19:25:48 UTC (rev 1288)
@@ -34,6 +34,7 @@
 		130=Download von opencaching.de
 		131=Spider von geocaching.com
 		132=nach Magellan
+		133=Suche alle
 		139=Travelbugs verwalten
 		140=Verwalten 
 		141=Kopieren 

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-25 16:53:22 UTC (rev 1287)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-25 19:25:48 UTC (rev 1288)
@@ -34,6 +34,7 @@
 		130=Download from opencaching.de
 		131=Spider from geocaching.com
 		132=To Magellan
+        133=Search all
 		139=Manage Travelbugs
 		140=Organise            
 		141=Copy 

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-25 16:53:22 UTC (rev 1287)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-25 19:25:48 UTC (rev 1288)
@@ -34,6 +34,7 @@
 		130=Download van opencaching.de
 		131=Werkgeheugen van geocaching.com
 		132=Naar Magellan
+		133=Allen zoeken
 		139=Beheren Travelbugs
 		140=Organiseren
 		141=Kopi?ren

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-25 16:53:22 UTC (rev 1287)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-25 19:25:48 UTC (rev 1288)
@@ -23,7 +23,7 @@
  *     20061123 salzkammergut Tidied up, added MyLocale, added additional internationalisation, combine save/filter for small screens, garminConn
  */
 public class MainMenu extends MenuBar {
-	private MenuItem profiles, preferences,loadcaches,loadOC,savenexit,savenoxit,exit,search,searchClr;
+	private MenuItem profiles, preferences,loadcaches,loadOC,savenexit,savenoxit,exit,search,searchAll,searchClr;
 	private MenuItem downloadmap, kalibmap, importmap;
 	private MenuItem spider, update, chkVersion;
 	private MenuItem about, wolflang, sysinfo, legend;
@@ -116,9 +116,10 @@
 		///////////////////////////////////////////////////////////////////////
 		// Create the "Search" pulldown menu
 		///////////////////////////////////////////////////////////////////////
-		MenuItem[] searchMenuItems=new MenuItem[2];
+		MenuItem[] searchMenuItems=new MenuItem[3];
 		searchMenuItems[0] = search = new MenuItem(MyLocale.getMsg(112,"Search$"+(char)6)); // char 6 = ctrl +f 
-		searchMenuItems[1] = searchClr = new MenuItem(MyLocale.getMsg(113,"Clear search"));
+		searchMenuItems[1] = searchAll = new MenuItem(MyLocale.getMsg(133,"Search All"));
+		searchMenuItems[2] = searchClr = new MenuItem(MyLocale.getMsg(113,"Clear search"));
 
 		///////////////////////////////////////////////////////////////////////
 		// Create the "Filter" pulldown menu
@@ -470,6 +471,12 @@
 			if(mev.selectedItem == search){
 				search();
 			}
+			if(mev.selectedItem == searchAll){
+				SearchCache ssc = new SearchCache(cacheDB);
+				ssc.clearSearch();
+				tbp.refreshTable();		
+                search();
+			}
 			if(mev.selectedItem == searchClr){
 				SearchCache ssc = new SearchCache(cacheDB);
 				ssc.clearSearch();



From salzkammergut at mail.berlios.de  Tue Mar 25 22:21:42 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Tue, 25 Mar 2008 22:21:42 +0100
Subject: [Cachewolf-svn] r1289 - trunk/src/CacheWolf
Message-ID: <200803252121.m2PLLfUS024387@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-25 22:21:39 +0100 (Tue, 25 Mar 2008)
New Revision: 1289

Modified:
   trunk/src/CacheWolf/MainMenu.java
Log:
Addition to Rev 1272: Removed handling code for Cachemate export

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-25 19:25:48 UTC (rev 1288)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-25 21:21:39 UTC (rev 1289)
@@ -375,25 +375,6 @@
 				ProgressBarForm.clear();
 				Vm.showWait(false);
 			}
-			if(mev.selectedItem == exportCacheMate){
-				Vm.showWait(true);
-				GPXExporter htm = new GPXExporter( pref, profile);
-				htm.doIt(0);
-				ProgressBarForm.display("CMCONVERT", MyLocale.getMsg(952,"Converting..."), null);
-				String cwd = new String();
-				cwd = File.getProgramDirectory() + "/temp.gpx";
-				// add surrounding "
-				cwd = "\"" + cwd + "\"";
-				try{
-					//Vm.debug(File.getProgramDirectory() + "/cmconvert/cmconvert " + cwd);
-					ewe.sys.Process p = Vm.exec(File.getProgramDirectory() + "/cmconvert/cmconvert " + cwd);
-					p.waitFor();
-				}catch(IOException ioex){
-					//Vm.debug("Scheint ein Problem zu geben");
-				};
-				ProgressBarForm.clear();
-				Vm.showWait(false);
-			}
 			if(mev.selectedItem == exportOZI){
 				OziExporter ozi = new OziExporter( pref, profile);
 				ozi.doIt();



From engywuck at mail.berlios.de  Tue Mar 25 22:24:17 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Tue, 25 Mar 2008 22:24:17 +0100
Subject: [Cachewolf-svn] r1290 - in trunk: res_noewe/languages src/CacheWolf
Message-ID: <200803252124.m2PLOHhc024637@sheep.berlios.de>

Author: engywuck
Date: 2008-03-25 22:24:14 +0100 (Tue, 25 Mar 2008)
New Revision: 1290

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/myTableControl.java
Log:
Context menu items now also appear below new menu item "Selected Cache" in Main Menu "Application"

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-25 21:21:39 UTC (rev 1289)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-25 21:24:14 UTC (rev 1290)
@@ -35,6 +35,7 @@
 		131=Spider von geocaching.com
 		132=nach Magellan
 		133=Suche alle
+		134=Gew%e4hlter Cache
 		139=Travelbugs verwalten
 		140=Verwalten 
 		141=Kopieren 

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-25 21:21:39 UTC (rev 1289)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-25 21:24:14 UTC (rev 1290)
@@ -35,6 +35,7 @@
 		131=Spider from geocaching.com
 		132=To Magellan
         133=Search all
+        134=Selected Cache
 		139=Manage Travelbugs
 		140=Organise            
 		141=Copy 

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-25 21:21:39 UTC (rev 1289)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-25 21:24:14 UTC (rev 1290)
@@ -35,6 +35,7 @@
 		131=Werkgeheugen van geocaching.com
 		132=Naar Magellan
 		133=Allen zoeken
+		134=Gekozen Cache
 		139=Beheren Travelbugs
 		140=Organiseren
 		141=Kopi?ren

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-25 21:21:39 UTC (rev 1289)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-25 21:24:14 UTC (rev 1290)
@@ -23,7 +23,7 @@
  *     20061123 salzkammergut Tidied up, added MyLocale, added additional internationalisation, combine save/filter for small screens, garminConn
  */
 public class MainMenu extends MenuBar {
-	private MenuItem profiles, preferences,loadcaches,loadOC,savenexit,savenoxit,exit,search,searchAll,searchClr;
+	private MenuItem profiles, preferences, mnuContext,loadcaches,loadOC,savenexit,savenoxit,exit,search,searchAll,searchClr;
 	private MenuItem downloadmap, kalibmap, importmap;
 	private MenuItem spider, update, chkVersion;
 	private MenuItem about, wolflang, sysinfo, legend;
@@ -99,18 +99,19 @@
 		///////////////////////////////////////////////////////////////////////
 		// Create the "Application" pulldown menu
 		///////////////////////////////////////////////////////////////////////
-		MenuItem [] appMenuItems=new MenuItem[11];
+		MenuItem [] appMenuItems=new MenuItem[12];
 		appMenuItems[0] = profiles 	 = new MenuItem(MyLocale.getMsg(121,"Profile"), 0, profileMenu); 
 		appMenuItems[1] = preferences = new MenuItem(MyLocale.getMsg(108,"Preferences")); 
 		appMenuItems[2] = mnuEditCenter = new MenuItem(MyLocale.getMsg(1110,"Centre"));
-		appMenuItems[3] = mnuSeparator;
-		appMenuItems[4] = new MenuItem(MyLocale.getMsg(175,"Import"),0,importMenu);
-		appMenuItems[5] = new MenuItem(MyLocale.getMsg(107,"Export"),0,exportMenu);
-		appMenuItems[6] = new MenuItem(MyLocale.getMsg(149,"Maps"),0,mapsMenu);
-		appMenuItems[7] = mnuSeparator;
-		appMenuItems[8] = savenoxit = new MenuItem(MyLocale.getMsg(127,"Save")); 
-		appMenuItems[9] = savenexit = new MenuItem(MyLocale.getMsg(110,"Save & Exit")); 
-		appMenuItems[10] = exit = new MenuItem(MyLocale.getMsg(111,"Exit"));
+		appMenuItems[3] = mnuContext = new MenuItem(MyLocale.getMsg(134,"Current Cache"));
+		appMenuItems[4] = mnuSeparator;
+		appMenuItems[5] = new MenuItem(MyLocale.getMsg(175,"Import"),0,importMenu);
+		appMenuItems[6] = new MenuItem(MyLocale.getMsg(107,"Export"),0,exportMenu);
+		appMenuItems[7] = new MenuItem(MyLocale.getMsg(149,"Maps"),0,mapsMenu);
+		appMenuItems[8] = mnuSeparator;
+		appMenuItems[9] = savenoxit = new MenuItem(MyLocale.getMsg(127,"Save")); 
+		appMenuItems[10] = savenexit = new MenuItem(MyLocale.getMsg(110,"Save & Exit")); 
+		appMenuItems[11] = exit = new MenuItem(MyLocale.getMsg(111,"Exit"));
 		this.addMenu(new PullDownMenu(MyLocale.getMsg(120,"Application"),new Menu(appMenuItems,null)));
 
 		///////////////////////////////////////////////////////////////////////
@@ -156,7 +157,7 @@
 		filterAndSearchMenuItems[12] = mnuSeparator;
 		filterAndSearchMenuItems[13] = filtCacheTour;
 
-		// Depending on screen width display either filter and searach menus or the combined menu 
+		// Depending on screen width display either filter and search menus or the combined menu 
 		if (MyLocale.getScreenWidth()>300) {
 			this.addMenu(new PullDownMenu(MyLocale.getMsg(112,"Search"),new Menu(searchMenuItems,null)));
 			this.addMenu(new PullDownMenu(MyLocale.getMsg(159,"Filter"),new Menu(filterMenuItems,null)));
@@ -190,6 +191,12 @@
 
 	public void setTablePanel(TablePanel t){
 		tbp = t;
+		if (mnuContext.subMenu == null) {
+			if ((","+Global.getPref().listColMap+",").indexOf(",0,")>=0)
+				mnuContext.subMenu = tbp.tc.getMenuFull();
+			else
+				mnuContext.subMenu = tbp.tc.getMenuSmall();
+		}		
 	}
 
 	public void allowProfileChange(boolean profileChangeAllowed) {
@@ -598,6 +605,10 @@
 				(new MessageBox(MyLocale.getMsg(178, "Version Checking"), Version.getUpdateMessage(), MessageBox.OKB)).execute();
 				Vm.showWait(false);
 			}
+			
+			// In case that the triggered event was due to one of the context menu items, process
+			// the event by the context menu handler
+			tbp.tc.popupMenuEvent(mev.selectedItem);
 		}
 	}
 

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-25 21:21:39 UTC (rev 1289)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-25 21:24:14 UTC (rev 1290)
@@ -53,6 +53,10 @@
 //		   ((MenuItem)mFull.items.get(5)).modifiers|=MenuItem.Disabled;
 	}
 	
+	public Menu getMenuFull() {
+		return mFull;
+	}
+
 	/** Small menu when listview does not include checkbox */
 	public void setMenuSmall() {
 		setMenu(mSmall);
@@ -282,4 +286,8 @@
 		 }
 		 
 	 }
+
+	public Menu getMenuSmall() {
+		return mSmall;
+	}
 }



From salzkammergut at mail.berlios.de  Wed Mar 26 00:14:06 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Wed, 26 Mar 2008 00:14:06 +0100
Subject: [Cachewolf-svn] r1291 - trunk/src/CacheWolf
Message-ID: <200803252314.m2PNE6Wl003048@sheep.berlios.de>

Author: salzkammergut
Date: 2008-03-26 00:14:03 +0100 (Wed, 26 Mar 2008)
New Revision: 1291

Modified:
   trunk/src/CacheWolf/Preferences.java
Log:
Preferences: Removed unnecessary debug message. Use debug switch in preferences to log messages to console (<debug value="true" />) .

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-03-25 21:24:14 UTC (rev 1290)
+++ trunk/src/CacheWolf/Preferences.java	2008-03-25 23:14:03 UTC (rev 1291)
@@ -598,7 +598,7 @@
 		try{
 			strout = logFile.toWritableStream(true);
 			strout.write(text.getBytes());
-			Vm.debug(text);
+			//Vm.debug(text); Not needed - put <debug value="true"> into pref.xml
 		}catch(Exception ex){
 			Vm.debug("Error writing to log file!");
 		}finally{



From kappler at mail.berlios.de  Wed Mar 26 14:27:00 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Wed, 26 Mar 2008 14:27:00 +0100
Subject: [Cachewolf-svn] r1292 - trunk/src/CacheWolf
Message-ID: <200803261327.m2QDR0U9016185@sheep.berlios.de>

Author: kappler
Date: 2008-03-26 14:26:42 +0100 (Wed, 26 Mar 2008)
New Revision: 1292

Modified:
   trunk/src/CacheWolf/DateTimeChooser.java
Log:
VGA: DateTimeChooser - use larger Icon-Buttons on mobile devices with VGA-screen

Modified: trunk/src/CacheWolf/DateTimeChooser.java
===================================================================
--- trunk/src/CacheWolf/DateTimeChooser.java	2008-03-25 23:14:03 UTC (rev 1291)
+++ trunk/src/CacheWolf/DateTimeChooser.java	2008-03-26 13:26:42 UTC (rev 1292)
@@ -73,16 +73,21 @@
 	}
 	
 	public CellPanel addTopSection(CellPanel addTo,Control cp) {
+		int IconSize;
+		if (Vm.isMobile() && MyLocale.getScreenWidth() >= 400)
+			IconSize = 20;
+		else
+			IconSize = 10;
 		addTo.modify(DrawFlat,0);
 		addTo.defaultTags.set(INSETS,new Insets(0,0,0,0));
 		mButton b = new mButton();
 		b.borderStyle = BDR_OUTLINE|BF_LEFT|BF_TOP|BF_RIGHT|BF_SQUARE;
-		b.image = new DrawnIcon(DrawnIcon.CROSS,10,10,new Color(0x80,0,0));
+		b.image = new DrawnIcon(DrawnIcon.CROSS,IconSize,IconSize,new Color(0x80,0,0));
 		addTo.addNext(addField(b,"reject")).setCell(DONTSTRETCH);
 		addTo.addNext(cp,HSTRETCH,HFILL);
 		b = new mButton();
 		b.borderStyle = BDR_OUTLINE|BF_TOP|BF_RIGHT|BF_SQUARE;
-		b.image = new DrawnIcon(DrawnIcon.TICK,10,10,new Color(0,0x80,0));
+		b.image = new DrawnIcon(DrawnIcon.TICK,IconSize,IconSize,new Color(0,0x80,0));
 		addTo.addNext(addField(b,"accept")).setCell(DONTSTRETCH);
 		return addTo;
 	}
@@ -115,7 +120,9 @@
 		addTable(monthChooser = new TableControl(),new monthChooserTableModel(locale),"monthName");
 		addTable(yearChooser = new TableControl(),new yearChooserTableModel(),"year");
 		addTable(timeChooser = new TableControl(),new timeChooserTableModel(),"time");
-	
+		
+		// the following is already done in addTopSection?
+/*	
 		mButton b = new mButton();
 		//b.borderStyle = BDR_OUTLINE|BF_LEFT|BF_TOP|BF_RIGHT|BF_SQUARE;
 		b.image = new DrawnIcon(DrawnIcon.CROSS,10,10,new Color(0x80,0,0));
@@ -124,6 +131,7 @@
 		b = new mButton();
 		b.image = new DrawnIcon(DrawnIcon.TICK,10,10,new Color(0,0x80,0));
 		addField(b,"accept");
+*/
 		newDate();
 		
 	}



From bilbowolf at mail.berlios.de  Wed Mar 26 15:32:49 2008
From: bilbowolf at mail.berlios.de (bilbowolf at mail.berlios.de)
Date: Wed, 26 Mar 2008 15:32:49 +0100
Subject: [Cachewolf-svn] r1293 - trunk/docs
Message-ID: <200803261432.m2QEWnaf023052@sheep.berlios.de>

Author: bilbowolf
Date: 2008-03-26 15:32:46 +0100 (Wed, 26 Mar 2008)
New Revision: 1293

Added:
   trunk/docs/logo.svg
Log:
CacheWolf logo in svg (Inkscape) format

Added: trunk/docs/logo.svg
===================================================================
--- trunk/docs/logo.svg	2008-03-26 13:26:42 UTC (rev 1292)
+++ trunk/docs/logo.svg	2008-03-26 14:32:46 UTC (rev 1293)
@@ -0,0 +1,79 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<!-- Created with Inkscape (http://www.inkscape.org/) -->
+<svg
+   xmlns:dc="http://purl.org/dc/elements/1.1/"
+   xmlns:cc="http://web.resource.org/cc/"
+   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
+   xmlns:svg="http://www.w3.org/2000/svg"
+   xmlns="http://www.w3.org/2000/svg"
+   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
+   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
+   width="210mm"
+   height="297mm"
+   id="svg2"
+   sodipodi:version="0.32"
+   inkscape:version="0.45.1"
+   version="1.0"
+   sodipodi:docbase="D:\eclipse\workspace\Cachewolf_trunk\docs"
+   sodipodi:docname="logo.svg"
+   inkscape:output_extension="org.inkscape.output.svg.inkscape">
+  <defs
+     id="defs4" />
+  <sodipodi:namedview
+     id="base"
+     pagecolor="#ffffff"
+     bordercolor="#666666"
+     borderopacity="1.0"
+     inkscape:pageopacity="0.0"
+     inkscape:pageshadow="2"
+     inkscape:zoom="0.98994949"
+     inkscape:cx="330.46911"
+     inkscape:cy="677.14034"
+     inkscape:document-units="px"
+     inkscape:current-layer="layer2"
+     inkscape:window-width="1400"
+     inkscape:window-height="1024"
+     inkscape:window-x="-4"
+     inkscape:window-y="-4" />
+  <metadata
+     id="metadata7">
+    <rdf:RDF>
+      <cc:Work
+         rdf:about="">
+        <dc:format>image/svg+xml</dc:format>
+        <dc:type
+           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
+      </cc:Work>
+    </rdf:RDF>
+  </metadata>
+  <g
+     inkscape:groupmode="layer"
+     id="layer2"
+     inkscape:label="Vector">
+    <g
+       id="g2258"
+       transform="matrix(0.8354538,0,0,0.8842823,93.505521,141.50124)">
+      <path
+         sodipodi:nodetypes="ccccccccccccccccccccccccccccccccccccccccccccc"
+         id="path2248"
+         d="M 202.03051,158.37718 L 226.27418,188.68176 L 244.45692,208.88481 L 244.45692,216.96603 L 183.84776,287.67671 L 208.09143,283.6361 L 234.3554,261.41274 L 256.57875,237.16908 L 264.65997,257.37213 L 268.70058,277.57519 L 264.65997,293.73763 L 248.49753,326.06251 L 224.25387,358.38739 L 197.9899,390.71227 L 163.64472,423.03715 L 187.88837,416.97624 L 220.21326,394.75288 L 246.47723,368.48891 L 268.70058,332.12342 L 268.70058,392.73258 L 266.68028,435.15898 L 262.63967,465.46356 L 256.57875,473.54478 L 228.29449,473.54477 L 210.11173,463.44325 L 210.11173,475.56508 L 252.53814,524.05241 L 264.65997,520.0118 L 276.7818,503.84936 L 286.88332,485.66661 L 292.94423,449.30112 L 294.96454,400.8138 L 296.98485,340.20464 L 290.92393,275.55488 L 286.88332,247.27061 L 274.7615,218.98634 L 325.26911,146.25535 L 313.14728,122.01169 L 296.98484,109.88986 L 284.86301,113.93047 L 284.86301,138.17413 L 280.8224,158.37718 L 256.57875,194.74268 L 234.3554,170.49902 L 202.03051,158.3!
 7718 z "
+         style="fill:#800000;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
+      <path
+         id="path2250"
+         d="M 331.33003,170.49901 L 337.39095,194.74267 L 337.39095,453.34172 L 331.33003,471.52447 L 329.30973,483.6463 L 329.30973,499.80874 L 333.35034,515.97118 L 349.51278,515.97118 L 414.16254,437.17928 L 359.61431,465.46355 L 359.61431,320.00159 L 438.4062,307.87976 L 438.4062,315.96098 L 452.54834,320.00159 L 486.89353,192.72237 L 486.89353,176.55993 L 472.75139,162.41779 L 452.54834,156.35687 L 424.26407,168.47871 L 426.28437,144.23504 L 420.22346,128.0726 L 398.0001,109.88986 L 381.83766,105.84925 L 379.81736,126.0523 L 387.89858,152.31626 L 402.04071,172.51932 L 377.79705,180.60054 L 361.63461,180.60054 L 347.49248,170.49901 L 331.33003,170.49901 z "
+         style="fill:#800000;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
+      <path
+         id="path2252"
+         d="M 363.65492,200.80359 L 363.65492,243.22999 L 442.44681,225.04725 L 444.46712,182.62084 L 363.65492,200.80359 z "
+         style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
+      <path
+         id="path2254"
+         d="M 361.63461,257.37213 L 359.61431,301.81884 L 438.4062,287.67671 L 440.42651,245.2503 L 361.63461,257.37213 z "
+         style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
+      <path
+         id="path2256"
+         d="M 377.79705,348.28586 L 428.30468,402.8341 L 492.95444,491.72752 L 507.09658,497.78844 L 529.31993,497.78844 L 553.56359,489.70721 L 567.70573,481.62599 L 551.54329,469.50416 L 533.36054,459.40264 L 507.09658,447.28081 L 484.87322,429.09806 L 442.44681,386.67166 L 499.01536,354.34677 L 501.03566,338.18433 L 492.95444,324.0422 L 478.81231,313.94067 L 468.71078,317.98128 L 464.67017,336.16403 L 450.52804,362.42799 L 438.4062,378.59043 L 408.10163,348.28586 L 391.93919,340.20464 L 377.79705,348.28586 z "
+         style="fill:#800000;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
+    </g>
+  </g>
+</svg>



From engywuck at mail.berlios.de  Wed Mar 26 18:05:26 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Wed, 26 Mar 2008 18:05:26 +0100
Subject: [Cachewolf-svn] r1294 - in trunk/src: CacheWolf CacheWolf/imp
	CacheWolf/navi exp utils
Message-ID: <200803261705.m2QH5QSQ007338@sheep.berlios.de>

Author: engywuck
Date: 2008-03-26 18:04:12 +0100 (Wed, 26 Mar 2008)
New Revision: 1294

Modified:
   trunk/src/CacheWolf/Attribute.java
   trunk/src/CacheWolf/Attributes.java
   trunk/src/CacheWolf/AttributesSelector.java
   trunk/src/CacheWolf/AttributesViewer.java
   trunk/src/CacheWolf/CWPoint.java
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/CacheHolderDetail.java
   trunk/src/CacheWolf/CacheList.java
   trunk/src/CacheWolf/CacheType.java
   trunk/src/CacheWolf/CacheWolf.java
   trunk/src/CacheWolf/CalcPanel.java
   trunk/src/CacheWolf/CoordsScreen.java
   trunk/src/CacheWolf/DBStats.java
   trunk/src/CacheWolf/DataMover.java
   trunk/src/CacheWolf/DateTimeChooser.java
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/Filter.java
   trunk/src/CacheWolf/FilterScreen.java
   trunk/src/CacheWolf/GPSPortOptions.java
   trunk/src/CacheWolf/GPXImporter.java
   trunk/src/CacheWolf/Global.java
   trunk/src/CacheWolf/HintLogPanel.java
   trunk/src/CacheWolf/HttpConnection.java
   trunk/src/CacheWolf/ImageDetailForm.java
   trunk/src/CacheWolf/ImageInteractivePanel.java
   trunk/src/CacheWolf/ImagePanel.java
   trunk/src/CacheWolf/InfoBox.java
   trunk/src/CacheWolf/InfoScreen.java
   trunk/src/CacheWolf/LOCXMLImporter.java
   trunk/src/CacheWolf/LogList.java
   trunk/src/CacheWolf/MainForm.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/Matrix.java
   trunk/src/CacheWolf/MyComparer.java
   trunk/src/CacheWolf/MyLocale.java
   trunk/src/CacheWolf/MyScrollBarPanel.java
   trunk/src/CacheWolf/NewProfileForm.java
   trunk/src/CacheWolf/NotesScreen.java
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/OCXMLImporterScreen.java
   trunk/src/CacheWolf/ParseLatLon.java
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/Profile.java
   trunk/src/CacheWolf/ProfileDataForm.java
   trunk/src/CacheWolf/ProfilesForm.java
   trunk/src/CacheWolf/RadarPanel.java
   trunk/src/CacheWolf/Rebuild.java
   trunk/src/CacheWolf/Reducer.java
   trunk/src/CacheWolf/STRreplace.java
   trunk/src/CacheWolf/SafeXML.java
   trunk/src/CacheWolf/SearchCache.java
   trunk/src/CacheWolf/ShowCacheInBrowser.java
   trunk/src/CacheWolf/SolverPanel.java
   trunk/src/CacheWolf/SpiderGC.java
   trunk/src/CacheWolf/StatusBar.java
   trunk/src/CacheWolf/TableColumnChooser.java
   trunk/src/CacheWolf/TableForm.java
   trunk/src/CacheWolf/TablePanel.java
   trunk/src/CacheWolf/Test.java
   trunk/src/CacheWolf/TravelbugJourneyScreen.java
   trunk/src/CacheWolf/TravelbugScreen.java
   trunk/src/CacheWolf/UrlFetcher.java
   trunk/src/CacheWolf/Version.java
   trunk/src/CacheWolf/imp/KMLImporter.java
   trunk/src/CacheWolf/myInteractivePanel.java
   trunk/src/CacheWolf/myTableControl.java
   trunk/src/CacheWolf/myTableModel.java
   trunk/src/CacheWolf/navi/Area.java
   trunk/src/CacheWolf/navi/CWGPSPoint.java
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/CacheWolf/navi/MapImage.java
   trunk/src/CacheWolf/navi/MapImporter.java
   trunk/src/CacheWolf/navi/MapInfoObject.java
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/CacheWolf/navi/MapLoaderGui.java
   trunk/src/CacheWolf/navi/MapSymbol.java
   trunk/src/CacheWolf/navi/MapsList.java
   trunk/src/CacheWolf/navi/MovingMap.java
   trunk/src/CacheWolf/navi/Navigate.java
   trunk/src/CacheWolf/navi/SelectMap.java
   trunk/src/CacheWolf/navi/SkyOrientation.java
   trunk/src/CacheWolf/navi/TrackOverlay.java
   trunk/src/CacheWolf/navi/TrackPoint.java
   trunk/src/CacheWolf/navi/TransformCoordinates.java
   trunk/src/exp/Exporter.java
   trunk/src/exp/GPXExporter.java
   trunk/src/exp/HTMLExporter.java
   trunk/src/exp/KMLExporter.java
   trunk/src/exp/LocExporter.java
   trunk/src/exp/MagellanExporter.java
   trunk/src/exp/PCX5Exporter.java
   trunk/src/exp/TPLExporter.java
   trunk/src/exp/TomTomExporter.java
   trunk/src/exp/TomTomExporterScreen.java
   trunk/src/utils/CWWrapper.java
   trunk/src/utils/FileBugfix.java
Log:
Elimination of a few hundred compiler warnings.

Modified: trunk/src/CacheWolf/Attribute.java
===================================================================
--- trunk/src/CacheWolf/Attribute.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Attribute.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,7 +1,7 @@
 package CacheWolf;
 
 import ewe.fx.mImage;
-import ewe.io.File;
+import ewe.io.FileBase;
 
 /**
  * This class represents a single attribute
@@ -113,7 +113,7 @@
 			"firstaid-yes.gif"              //88 needs maintenance
 	};
 	private static mImage [] attributeImages=new mImage[89];
-	private static String IMAGEDIR=File.getProgramDirectory()+"/attributes/";
+	private static String IMAGEDIR=FileBase.getProgramDirectory()+"/attributes/";
 	
 	public static String getImageDir() {
 		return IMAGEDIR; 

Modified: trunk/src/CacheWolf/Attributes.java
===================================================================
--- trunk/src/CacheWolf/Attributes.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Attributes.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,9 +1,6 @@
 package CacheWolf;
 
-import ewe.ui.*;
 import ewe.fx.*;
-import ewe.graphics.*;
-import ewe.util.*;
 
 public class Attributes {
 	public final static int MAXATTRIBS=12;
@@ -83,9 +80,9 @@
 			Attribute attr = new Attribute(attributeName);
 			attribs[count++] = attr;
 			if (attributeName.endsWith("-yes.gif"))
-				attributesYes |= (1l << ( (long)(Math.ceil((long)attr.getAttrNr() / 2.0) - 1.0) ) );
+				attributesYes |= (1l << ( (long)(Math.ceil(attr.getAttrNr() / 2.0) - 1.0) ) );
 			else
-				attributesNo |= (1l << ( (long)(Math.ceil((long)attr.getAttrNr() / 2.0) - 1.0) ) );
+				attributesNo |= (1l << ( (long)(Math.ceil(attr.getAttrNr() / 2.0) - 1.0) ) );
 		}
     }
 

Modified: trunk/src/CacheWolf/AttributesSelector.java
===================================================================
--- trunk/src/CacheWolf/AttributesSelector.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/AttributesSelector.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,7 +2,6 @@
 
 import ewe.fx.*;
 import ewe.graphics.*;
-import ewe.sys.*;
 import ewe.ui.*;
 
 public class AttributesSelector extends Panel {
@@ -92,7 +91,6 @@
 	public void showAttributePalette() {
 		iap.images.clear();
 		int width = 170;
-		int height = 180;
 		int x = 2; int y = 2;
 		long bitMask = 0;
 		String attrName;
@@ -100,7 +98,7 @@
 		for (int i=0; i < Attribute.attributeNames.length; ++i) {
 			if (Attribute.attributeNames[i].endsWith("-yes.gif")) {
 				attrName = Attribute.attributeNames[i].substring(0,Attribute.attributeNames[i].length()-8);
-				bitMask = ( 1l << ( (long)(java.lang.Math.ceil((long)i / 2.0) - 1.0) ) );
+				bitMask = ( 1l << ( (long)(java.lang.Math.ceil(i / 2.0) - 1.0) ) );
 				if ( (selectionMaskYes & bitMask) != 0 )
 					value = "-yes.gif";
 				else if ( (selectionMaskNo & bitMask) != 0 )

Modified: trunk/src/CacheWolf/AttributesViewer.java
===================================================================
--- trunk/src/CacheWolf/AttributesViewer.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/AttributesViewer.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,7 +2,6 @@
 
 import ewe.fx.*;
 import ewe.graphics.*;
-import ewe.sys.*;
 import ewe.ui.*;
 
 public class AttributesViewer extends CellPanel {

Modified: trunk/src/CacheWolf/CWPoint.java
===================================================================
--- trunk/src/CacheWolf/CWPoint.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/CWPoint.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,7 +1,5 @@
 package CacheWolf;
 
-import ewe.sys.Double;
-import ewe.sys.Locale;
 import ewe.sys.Convert;
 import CacheWolf.navi.TrackPoint;
 import CacheWolf.navi.GkPoint;
@@ -12,8 +10,6 @@
 import com.bbn.openmap.*;
 import com.stevesoft.ewe_pat.Regex;
 
-import ewe.sys.Vm;
-
 /**
  * Class for getting an setting coords in different formats
  * and for doing projection and calculation of bearing and

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/CacheHolder.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,7 +2,7 @@
 
 import ewe.io.IOException;
 import ewe.sys.Convert;
-import ewe.sys.Vm;
+import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
 import ewe.util.Vector;
 
@@ -472,7 +472,7 @@
 		} catch (IOException e) {
 			if (maybenew) details.update(this);
 			else {
-				if (alarmuser) (new MessageBox("Error", "Could not read cache details for cache: "+this.wayPoint, MessageBox.OKB)).execute();
+				if (alarmuser) (new MessageBox("Error", "Could not read cache details for cache: "+this.wayPoint, FormBase.OKB)).execute();
 				return null;
 			} 
 		}

Modified: trunk/src/CacheWolf/CacheHolderDetail.java
===================================================================
--- trunk/src/CacheWolf/CacheHolderDetail.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/CacheHolderDetail.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,13 +1,14 @@
 package CacheWolf;
 
 import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.io.BufferedWriter;
 import ewe.io.File;
 import ewe.io.FileReader;
 import ewe.io.FileWriter;
 import ewe.io.IOException;
 import ewe.io.PrintWriter;
-import ewe.sys.Vm;
+import ewe.ui.FormBase;
 import ewe.ui.InputBox;
 import ewe.util.Vector;
 
@@ -115,9 +116,9 @@
 		  String imgDesc, imgDestName;
 		  
 		  //Get Image and description
-			FileChooser fc = new FileChooser(FileChooser.OPEN, profile.dataDir);
+			FileChooser fc = new FileChooser(FileChooserBase.OPEN, profile.dataDir);
 			fc.setTitle("Select image file:");
-			if(fc.execute() != FileChooser.IDCANCEL){
+			if(fc.execute() != FormBase.IDCANCEL){
 				imgFile = fc.getChosenFile();
 				imgDesc = new InputBox("Description").input("",10);
 				//Create Destination Filename

Modified: trunk/src/CacheWolf/CacheList.java
===================================================================
--- trunk/src/CacheWolf/CacheList.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/CacheList.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,7 @@
 package CacheWolf;
 
 import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.fx.*;
 import ewe.io.*;
 import ewe.sys.*;
@@ -91,7 +92,7 @@
 				 CacheHolder ch=(CacheHolder)cacheList.get(idx);
 				 wayPoint=ch.wayPoint;
 				 IconAndText imgDrag=new IconAndText();
-				 imgDrag.addColumn((IImage) CacheType.cache2Img(ch.type));
+				 imgDrag.addColumn(CacheType.cache2Img(ch.type));
 				 imgDrag.addColumn(ch.wayPoint);
 				 dc.dragData=dc.startImageDrag(imgDrag,new Point(8,8),this);
 			 } 
@@ -125,7 +126,7 @@
 			 * the key event needs to go.
 			 */
 			if (needsInit && ev.target==this) {
-				Gui.takeFocus(Global.mainTab.tbP.tc, Control.ByKeyboard);
+				Gui.takeFocus(Global.mainTab.tbP.tc, ControlConstants.ByKeyboard);
 				ev.target=Global.mainTab.tbP.tc;
 				postEvent(ev);
 			}
@@ -191,23 +192,23 @@
 			if (ev.target==btnNew) { 
 				newCacheList();
 			} else if(ev.target == btnLoad){
-				FileChooser fc = new FileChooser(FileChooser.OPEN, Global.getProfile().dataDir);
+				FileChooser fc = new FileChooser(FileChooserBase.OPEN, Global.getProfile().dataDir);
 				//fc.addMask(currCh.wayPoint + ".wl");
 				fc.addMask("*."+EXTENSION);
 				fc.addMask("*.*");
 				fc.setTitle(MyLocale.getMsg(191,"Select File"));
-				if(fc.execute() != FileChooser.IDCANCEL){
+				if(fc.execute() != FormBase.IDCANCEL){
 					currFile = fc.getChosen();
 					readFromFile(currFile);
 				}
 			} else if((ev.target == btnSave) && (currFile != null)){
 				saveToFile(currFile);
 			} else if((ev.target == btnSaveAs)||((ev.target == btnSave) && (currFile == null))){
-				FileChooser fc = new FileChooser(FileChooser.SAVE, Global.getProfile().dataDir);
+				FileChooser fc = new FileChooser(FileChooserBase.SAVE, Global.getProfile().dataDir);
 				//fc.addMask(currCh.wayPoint + ".wl");
 				fc.addMask("*."+EXTENSION);
 				fc.setTitle(MyLocale.getMsg(191,"Select File"));
-				if(fc.execute() != FileChooser.IDCANCEL){
+				if(fc.execute() != FormBase.IDCANCEL){
 					currFile = fc.getChosen();
 					if (currFile.indexOf('.')==0 || !currFile.toUpperCase().endsWith("."+EXTENSION)) currFile+="."+EXTENSION;
 					saveToFile(currFile);
@@ -289,7 +290,7 @@
 		Global.getProfile().hasUnsavedChanges=true;
 		updateScreen(cacheList.size()-wrongBlackStatus);
 		if (wrongBlackStatus>0)
-			(new MessageBox(MyLocale.getMsg(5500,"Error"),MyLocale.getMsg(4600,"Some cache(s) cannot be shown because of wrong blacklist status"), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(5500,"Error"),MyLocale.getMsg(4600,"Some cache(s) cannot be shown because of wrong blacklist status"), FormBase.OKB)).execute();
 
 	}
 	
@@ -326,7 +327,7 @@
 			// Add cache reference to hidden list
 			cacheList.add(ch);
 			// Add Cache and cache icon to visible list
-			lstCaches.addItem((new MenuItem()).iconize(ch.wayPoint+"   "+ch.CacheName,(IImage) CacheType.cache2Img(ch.type),true));
+			lstCaches.addItem((new MenuItem()).iconize(ch.wayPoint+"   "+ch.CacheName,CacheType.cache2Img(ch.type),true));
 		    dirty=true;
 			return true;
 		} else
@@ -351,14 +352,14 @@
 	/** Check if there are any unsaved changes and ask user if he wants to save */
 	public void saveIfDirty() {
 		if (dirty) {
-			if ((new MessageBox(MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(192,"Save changes"),MessageBox.MBYESNO)).execute()==MessageBox.IDYES) {
+			if ((new MessageBox(MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(192,"Save changes"),FormBase.MBYESNO)).execute()==FormBase.IDYES) {
 				if (currFile!=null)
 					saveToFile(currFile);
 				else {
-					FileChooser fc = new FileChooser(FileChooser.SAVE, Global.getProfile().dataDir);
+					FileChooser fc = new FileChooser(FileChooserBase.SAVE, Global.getProfile().dataDir);
 					fc.addMask("*."+EXTENSION);
 					fc.setTitle(MyLocale.getMsg(191,"Select File"));
-					if(fc.execute() != FileChooser.IDCANCEL){
+					if(fc.execute() != FormBase.IDCANCEL){
 						currFile = fc.getChosen();
 						saveToFile(currFile);
 					}

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/CacheType.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -3,7 +3,6 @@
  */
 package CacheWolf;
 
-import ewe.fx.IImage;
 import ewe.fx.Image;
 import ewe.sys.Convert;
 import ewe.sys.Vm;

Modified: trunk/src/CacheWolf/CacheWolf.java
===================================================================
--- trunk/src/CacheWolf/CacheWolf.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/CacheWolf.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,220 +1,6 @@
 package CacheWolf;
 
 import ewe.ui.*;
-import ewe.fx.*;
-
-////////////////////////////////////////////////////////////////////////////////
-//*  Feature: Uhrzeit / Datum Button zum einf?gen in dem Feld "Notizen"
-//*  Bugfix:  (canceled!) Bilder von externen Quellen (nicht gc.com) herunterladen 
-//*  Feature: (cancelled!) Umkreissuche auf Anzahl Caches oder Entfernung erweitern
-//*  Feature: (cancelled!) Bei der Umkreissuche (optional) werden gefundene nicht geladen
-//j   Update: Filterverhalten ?ndern --> es wird nur das angezeigt, was ausgew?hlt wurde
-//j   Update:  Vollst?ndige Dokumentation auf Deutsch vorhanden
-//j   Feature: (naja) CacheWolf hat nun ein eigenes Icon
-//j  Bugfix:  Archivierte werden nicht mehr mit "An error..." angezeigt sondern sind tief dunkelrot unterlegt
-//j  Feature: Bildnamen bleiben erhalten und werden in der Thumbnail - ?bersicht angezeigt
-//j  Feature: Uhrzeit anzeigen
-//j  Feature: Blacklist einf?hren
-//j  Feature: Native Destinator export
-//j  Feature: Markieren in der Listenansicht und anwenden von "irgendeiner" Aktion
-//j  Update:  Filter nach "Archiviert"
-//j  Update:  Filtern nach zuletzt gefunden
-//j  Update:  HTML export enth?lt Bilder
-//k  Feature: Hinterlegen von Karten im Radar
-//k  Feature: Georeferenzieren von Karten
-//k  Feature: Beliebiges zoomen im Radar
-//k  Feature: Navigation zum Cache
-//   Feature: Log eines Caches mit den Informationen im Notizen-Feld
-//   Feature: Statistiken:
-//            *) aktivste Cacher im Umkreis,
-//	      *) aktivste letzten x Tage
-//   Bugfix:  Sortierung sollte nach Filter aufheben gleich bleiben
-//   Feature: use GPS Babel to further enhance export capabilities
-//   Feature: Wetterprognose von wetter.com holen
-//   Feature: Wolflanguage UTM konversionen und projektionen
-//l  Feature: Korridorsuche
-//l  Feature: CacheAttributes werden angezeigt
-//l  Feature: Man kann nach CacheAttributes filtern
-//   Feature: CacheIcons werden angezeigt
-//   Feature: Man kann nach CacheIcons filtern
-//   Feature: Statistikseite
-//l  Feature: Filter ?ber Fl?che (Vielvieleck!)
-//   Update:  Dokumentation auf Englisch vorhanden
-//   Feature: Ad hoc erstellen einer HTML Seite und im Pocketexplorer anzeigen
-//            lassen
-////////////////////////////////////////////////////////////////////////////////
-
-////////////////////////////////////////////////////////////////////////////////
-// 0.9i
-// * Feature: System Infoscreen vorhanden
-// * Feature: CW per Kommandozeile starten lassen:
-//            Beispiel: cachewolf spider n --> spider= aktualisiere und hole neue
-//						      daten
-//					      n = umkreis (eine Zahl) von den 
-//						  Koordinaten in den
-//					          Pr?ferenzen
-// * Feature: Spidern abbrechen k?nnen
-// * Feature: Wenn Cache gefunden und temp. offline: gr?ner Hintergrund mit 
-//	      roter Schrift
-// * Feature: Travelbugs mitsamt Beschreibung werden gespidert
-// * Feature: Cachedaten in ein anderes Verzeichnis verschieben. Existierende
-//	      index.xml Datei wird verwendet. Alle Daten werden im 
-//	      Ursprungsverzeichnis werden gel?scht.
-// * Feature: GPX import nun vorhanden
-// * Kosmetisch: Zeilenh?he in der Listenansicht verringert
-// * Kosmetisch:  Punktgrafiken in der Zeilenansicht verkleinert
-// * Bugfix:  Profile speichern nun die richtigen Koordinaten
-// * Bugfix:  Selektierter Cache bleibt nach sortierung selektiert
-// * Bugfix:  Beim HTML export werden (nur) die richtigen Logs zum Cache 
-//            exportiert
-// * Bugfix:  Spaltenbreite bleibt nun erhalten, wenn man zwischen
-//	      Ansichten hin und her springt
-// * Bugfix:  Laden von locationless caches geht wieder
-// * Bugfix:  Kleiner Bugfix im GPX Exporter
-// * Bugfix:  Absturz beim Laden von Seiten, die Bilder mit PHP anzeigen, ist
-//	      behoben
-// * Bugfix:  Cache wird als found angezeigt obwohl es ein DNF Eintrag ist
-////////////////////////////////////////////////////////////////////////////////
-
-////////////////////////////////////////////////////////////////////////////////
-// 0.9h
-// * Feature: Nur logbilder der neuesten N logs laden!
-//	      N ist durch den Anwender einstellbar
-// * Feature: Karten zu einzelnen Caches laden
-// * Update:  Existierende Cacheinformationen werden nicht aktuallisiert, wenn
-//	      neue Caches per LOC oder LIST(E) geladen werden
-// * Update:  Thumbnails werden nicht verzerrt dargestellt
-// * Update:  Log- und Cachebilder lassen sich klein und gro? anschauen
-// * Update:  Speichern ohne beenden
-// * Bugfix:  Multipunkt Umkreissuche (CW hatte sich vollkommen abgeschossen!)
-// * Update:  Erkennen von neuen Logs ersteinmal deaktiviert!
-////////////////////////////////////////////////////////////////////////////////
-
-////////////////////////////////////////////////////////////////////////////////
-// 0.9g
-// * Bugfix:  L?ser funktioniert wieder
-// * Bugfix:  Profile speichern auch die aktuellen Koordinaten
-// * Feature: Export direkt in das TomTom Format
-// * Feature: Anzeige von neuen Caches (gelber stern)
-// * Feature: Anzeige von updates zur Cachebeschreibung (roter stern),
-//	      bzw. Logs wird angezeigt (blauer stern)
-// * Bugfix:  CW h?ngt nicht mehr bei der Multipunkt Umkreissuche, wenn der letzte
-//            Eintrag nicht mit ";" abgeschlossen wird
-// * Feature: relative Pfadnamen zu den Cacheverzeichnissen; 
-//            hiermit leichter transportierbar, z.B. USB Stick
-// * Update:  Das Statusfenster beim spidern der Caches nervt nicht mehr
-// * Update:  Sanduhr wird beim filtern angezeigt
-// * Update:  Filter ignoriert Gro?- und Kleinschreibung
-// * Update:  CacheRadar nun zentriert
-// * Update:  Reiter nun ebenfalls "eingedeutscht"
-// * Feature: Es k?nnen "profile" angelegt werden
-// * Feature: Export zu CacheMate PDB Datei (mit cmconvert)
-// * Feature: Export direkt zum Garmin (mit gpsbabel)
-// * Bugfix:  L?schen einzelner Caches wieder m?glich
-////////////////////////////////////////////////////////////////////////////////
-
-////////////////////
-// 0.9f B2
-// * Update: Hints and Logs: Tastatur unterdr?cken
-// * Bugifx: Koordinaten unter Preferenzen: Eingabe von Komma und Punkt bei Minuten m?glich
-// * Update: Ein und ausschalten von Spalten ist m?glich ohne Neustart
-// * Bugfix: "Found" nicht als Standard, wenn kein Alias eingetragen ist
-// * Bugfix: Status l??t sich auf "Leer" zur?cksetzen
-////////////////////
-
-////////////////////
-// 0.9f
-// * Feature: Multipunkt Umkreissuche
-// * Bugfix:  Einige Bilder werden nicht richtig heruntergeladen
-// * Update:  Spidern sollte nun sp?rbar schneller funktionieren
-// * Update:  Sanduhr wird w?hrend Sortierung und an anderen Stellen angezeigt
-// * Update:  Status nun mit vordefinierten Werten belegt
-// * Update:  Status wird mit dem Laden des Caches gesetzt
-// * Bugfix:  Sortieren mit eingeschaltetem Filter erzeugt kein M?ll mehr
-// * Bugfix:  '"', ''', '?' in Cachenamen werden richtig erkannt
-// * Bugfix:  Weitere Kleinigkeiten mit Umlauten bereinigt
-// * Bugfix:  Bilderanzeig h?ngt nicht mehr, wenn bestimmte Bilder nicht geladen
-//	      werden k?nnen
-// * Feature: Alle Angaben in den Details sind ver?nderbar
-// * Feature: Deutsch / Englisch Programmversion; theoretisch mehr m?glich.
-// * Feature: ?nderm?glichkeit f?r alle Felder in den Details
-// * Update:  Suche filtert alle nicht zutreffenden Caches aus der Liste. Besser
-//            als nur gelb anzeigen
-////////////////////
-
-/////////////////
-// 0.9e
-// * Bugfix:  Umkreissuche funktioniert nun auch ohne Proxy
-// * Feature: Filterfunktionalit?t um Filterumkehr erweitert
-// * Update:  HTML export templates sch?ner gemacht
-// * Update:  In den Logs erscheinen die Bildbeschreibungen 
-//            (allerdings noch nicht bei den Bildern selbst)
-// * Update:  Es werden immer nur 5 logs gezeigt. Performancegewinn bei der 
-//            Anzeige auf PocketPC!
-// * Update:  SIP nervt nicht mehr "die dritte", bzw. auf PocketPC wird die
-//			  SIP Bar f?r die Men?s genutzt.
-// * Update:  Formatierung bei PCX export angepasst
-// * Update:  Es werden nun die Originalbilder (Logs, originalgr??e) gespidert
-// * Feature: Noch ein klick auf ein Bild zeigt es in Originalgr?sse
-// * Bugfix:  Cachegr??e small wird erkannt
-// * Bugfix:  TOP50 (OVL) export richtiggestellt
-// * Bugfix:  Fehlermeldung, bei Umkreissuche, wenn keine Koordinaten
-//            in den Preferenzen gesetzt sind
-// * Bugfix:  PCX5 Export sollte nun gefundene mit offener Cachebox versehen
-// * Feature: Export zu TomTom ASC
-// * Feature: Export zu MS AutoRoute CSV
-// * Bugfix:  Einige Korrekturen in den Entfernungs- und Kursberechnungen.
-/////////////////
-
-/////////////////
-// 0.9d
-// * Bugfix:  Erkennen von ?nderungen in den Preferenzen, ohne Neustart
-// * Bugfix:  Darstellung Cachenamen im Radar auf PPC entg?ltig richtiggestellt.
-// * Update:  Sanduhr wird dargestellt, wenn der Wolf Bilder, Beschreibung und Hints & Logs aufbaut.
-// * Bugfix:  SIP nervt nicht mehr 2ter Versuch
-// * Bugfix:  "&" wird nun richtig verarbeitet
-// * Bugfix:  CITO wird nun erkannt
-// * Update:  Icons im Radarpanel werden genauer positioniert
-/////////////////
-
-/////////////////
-// 0.9c
-//	* Bugfix: OVL export enth?lt text (GC - Name)
-//	* Update: Erkennen von Earthcaches
-//	* Bugfix: Nicht erkannte Caches sollten nicht mehr zum Absturz f?hren.
-//	* Bugfix: Zu viele <SPAN> tags werden erkannt
-//	* Bugfix: Darstellung in Radar auf dem PPC
-//	* Bugfix: SIP nervt nicht mehr auf PDA
-//	* Bugfix: CacheWolf h?ngt sich nicht mehr auf, wenn man ein letzten Cache l?scht!
-//	* Update: Export zu GPX nun m?glich
-//	* Update: Member Only Caches werden erkannt und nicht geladen
-/////////////////
-
-
-/////////////////
-//	0.9b 
-//	* Update: Spider LOCs
-//	* Bugfix: ?,?,? werden erkannt
-//  * Sortieren nach Status bugfix
-//	* Tooltips bei den Reitern
-//	* Filter ok f?r "found by" (Namen m??en durch "," getrennt werden)
-//	* Update: ?bernahme von "Status"!
-//	* Bugfix: Nach einem filter funktionierte das sortieren nicht mehr
-//	* Update: Spider Liste (Caches m??en mit ',' getrennt werden)
-//	* Bugfix: Solver und Zahlenformate
-/////////////////
-
-/**
-*	This is the application starter class.
-*	It startes the Ewe VM and creates the main form that displays
-*	the user interface.
-*	@param 	null	no parameters required.
-*	@return null	does not return any return codes
-*	@see			MainForm
-*	@author	 Marc Schnitzler
-*	@version version of this class, Date: date of release of the version of the class 
-*/
-
 import ewe.sys.*;
 
 public class CacheWolf extends Editor{

Modified: trunk/src/CacheWolf/CalcPanel.java
===================================================================
--- trunk/src/CacheWolf/CalcPanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/CalcPanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -98,7 +98,7 @@
 		// Output 
 		txtOutput = new TextDisplay(3,1); // Need to limit size for small screens
 		ScrollBarPanel sbp = new MyScrollBarPanel(txtOutput);
-		BottomP.addLast(sbp.setTag(Control.SPAN, new Dimension(4,1)),CellConstants.STRETCH, (CellConstants.FILL|CellConstants.WEST));
+		BottomP.addLast(sbp.setTag(CellConstants.SPAN, new Dimension(4,1)),CellConstants.STRETCH, (CellConstants.FILL|CellConstants.WEST));
 		
 		//add Panels
 		this.addLast(TopP,CellConstants.HSTRETCH, CellConstants.WEST);//.setTag(SPAN,new Dimension(4,1));
@@ -201,7 +201,7 @@
 				CoordsScreen cs = new CoordsScreen();
 				readFields(coordInp, bd, currFormat);
 				cs.setFields(coordInp,currFormat);
-				if (cs.execute()== CoordsScreen.IDOK){
+				if (cs.execute()== FormBase.IDOK){
 					btnChangeLatLon.setText(cs.getCoords().toString(currFormat));
 					coordInp.set(cs.getCoords());
 				}

Modified: trunk/src/CacheWolf/CoordsScreen.java
===================================================================
--- trunk/src/CacheWolf/CoordsScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/CoordsScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -86,7 +86,7 @@
 		chcNS.exitKeys=exitKeys; chcEW.exitKeys=exitKeys;
 		//add Panels
 		this.addLast(mainPanel,CellConstants.DONTSTRETCH, CellConstants.WEST);
-		chcNS.takeFocus(Control.ByKeyboard);
+		chcNS.takeFocus(ControlConstants.ByKeyboard);
 	}
 	
 	public void activateFields(int format){
@@ -200,15 +200,15 @@
 		// For input fields we use the wantReturn field
 		if(ev instanceof ControlEvent && ev.type == ControlEvent.EXITED){
 			if (((ControlEvent)ev).target==chkDD || ((ControlEvent)ev).target==chkDMM ||
-			    ((ControlEvent)ev).target==chkDMS) Gui.takeFocus(chcNS,Control.ByKeyboard);	
-			if (((ControlEvent)ev).target==chkUTM) Gui.takeFocus(inpUTMZone,Control.ByKeyboard);
-			if (((ControlEvent)ev).target==chkGK) Gui.takeFocus(inpUTMEasting,Control.ByKeyboard);
-			if (((ControlEvent)ev).target==chcNS) Gui.takeFocus(inpNSDeg,Control.ByKeyboard);
-			if (((ControlEvent)ev).target==chcEW) Gui.takeFocus(inpEWDeg,Control.ByKeyboard);
+			    ((ControlEvent)ev).target==chkDMS) Gui.takeFocus(chcNS,ControlConstants.ByKeyboard);	
+			if (((ControlEvent)ev).target==chkUTM) Gui.takeFocus(inpUTMZone,ControlConstants.ByKeyboard);
+			if (((ControlEvent)ev).target==chkGK) Gui.takeFocus(inpUTMEasting,ControlConstants.ByKeyboard);
+			if (((ControlEvent)ev).target==chcNS) Gui.takeFocus(inpNSDeg,ControlConstants.ByKeyboard);
+			if (((ControlEvent)ev).target==chcEW) Gui.takeFocus(inpEWDeg,ControlConstants.ByKeyboard);
 		}
 		if(ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED){
 			if (((ControlEvent)ev).target==inpEWDeg || ((ControlEvent)ev).target==inpEWm ||
-					((ControlEvent)ev).target==inpEWs || ((ControlEvent)ev).target==inpUTMNorthing) Gui.takeFocus(btnApply,Control.ByKeyboard);	
+					((ControlEvent)ev).target==inpEWs || ((ControlEvent)ev).target==inpUTMNorthing) Gui.takeFocus(btnApply,ControlConstants.ByKeyboard);	
 			if (ev.target == chkFormat){
 				readFields(coordInp, currFormat);
 				currFormat = chkFormat.getSelectedIndex();
@@ -225,7 +225,7 @@
 				currFormat = chkFormat.getSelectedIndex();
 				readFields(coordInp, currFormat);
 				if (coordInp.isValid()) this.close(IDOK);
-				else (new MessageBox("Error", "Please enter valid coordinates", MessageBox.OKB)).execute();
+				else (new MessageBox("Error", "Please enter valid coordinates", FormBase.OKB)).execute();
 			}
 			
 			if (ev.target == btnPaste){
@@ -249,7 +249,7 @@
 					coord = new CWPoint(inp);
 				}
 				if (coord.latDec == -91 && coord.lonDec == -361){
-					MessageBox tmpMB = new MessageBox(MyLocale.getMsg(312,"Error"), MyLocale.getMsg(4111,"Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM"), MessageBox.OKB);
+					MessageBox tmpMB = new MessageBox(MyLocale.getMsg(312,"Error"), MyLocale.getMsg(4111,"Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM"), FormBase.OKB);
 					tmpMB.exec();
 				}else {
 					currFormat = chkFormat.getSelectedIndex();

Modified: trunk/src/CacheWolf/DBStats.java
===================================================================
--- trunk/src/CacheWolf/DBStats.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/DBStats.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,5 @@
 package CacheWolf;
 import ewe.util.*;
-import ewe.sys.*;
 
 /**
  * @author Marc

Modified: trunk/src/CacheWolf/DataMover.java
===================================================================
--- trunk/src/CacheWolf/DataMover.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/DataMover.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,8 +1,8 @@
 package CacheWolf;
 
-import CacheWolf.myTableControl.myProgressBarForm;
 import utils.FileBugfix;
 import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.io.*;
 import ewe.ui.*;
 import ewe.util.Vector;
@@ -26,8 +26,8 @@
 	}
 	public void deleteCaches(){
 		
-		MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(145,"Cachedata of ALL VISIBLE caches will be deleted! Continue?"), MessageBox.IDYES |MessageBox.IDNO);
-		if (mBox.execute() != MessageBox.IDOK){
+		MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(145,"Cachedata of ALL VISIBLE caches will be deleted! Continue?"), FormBase.IDYES |FormBase.IDNO);
+		if (mBox.execute() != FormBase.IDOK){
 			return;
 		}
 		processCaches(new Deleter(MyLocale.getMsg(143, "Delete")));
@@ -36,14 +36,13 @@
 	}
 
 	public void copyCaches(){
-		int dstPos;
 		Profile dstProfile=new Profile();
 		
 		dstProfile.dataDir=selectTargetDir();
 		if (dstProfile.dataDir.equals(profile.dataDir) ||
 			dstProfile.dataDir.equals("")) return;
-		MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(146,"Cachedata of ALL VISIBLE caches will be copied! Continue?"), MessageBox.IDYES |MessageBox.IDNO);
-		if (mBox.execute() != MessageBox.IDOK){
+		MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(146,"Cachedata of ALL VISIBLE caches will be copied! Continue?"), FormBase.IDYES |FormBase.IDNO);
+		if (mBox.execute() != FormBase.IDOK){
 			return;
 		}
 		
@@ -59,15 +58,13 @@
 	
 	public void moveCaches() {
 		Profile dstProfile=new Profile();
-		int dstPos;
-		
 		// Select destination directory
 		dstProfile.dataDir=selectTargetDir();
 		if (dstProfile.dataDir.equals(profile.dataDir) ||
 			dstProfile.dataDir.equals("")) return;
 		
-		MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(147,"Cachedata of ALL VISIBLE caches will be moved! Continue?"), MessageBox.IDYES |MessageBox.IDNO);
-		if (mBox.execute() != MessageBox.IDOK){
+		MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(147,"Cachedata of ALL VISIBLE caches will be moved! Continue?"), FormBase.IDYES |FormBase.IDNO);
+		if (mBox.execute() != FormBase.IDOK){
 			return;
 		}
 		
@@ -128,7 +125,7 @@
 	
 	public String selectTargetDir() {
 		// Select destination directory
-		FileChooser fc = new FileChooser(FileChooser.DIRECTORY_SELECT, pref.baseDir);
+		FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, pref.baseDir);
 		fc.setTitle(MyLocale.getMsg(148,"Select Target directory"));
 		if(fc.execute() != FormBase.IDCANCEL){
 			return fc.getChosen() + "/";

Modified: trunk/src/CacheWolf/DateTimeChooser.java
===================================================================
--- trunk/src/CacheWolf/DateTimeChooser.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/DateTimeChooser.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -206,7 +206,7 @@
 	public void setDate(Time t) {
 		dateSet = t;
 		if (!t.isValid()) t = new Time();
-		String s = Time.toString(t,t instanceof TimeOfDay ? t.getFormat() : locale.getString(Locale.SHORT_DATE_FORMAT,0,0),locale);
+		Time.toString(t,t instanceof TimeOfDay ? t.getFormat() : locale.getString(Locale.SHORT_DATE_FORMAT,0,0),locale);
 		day = t.day; month = t.month; year = t.year; hour=t.hour; minute=t.minute;
 		time=MyLocale.formatLong(hour,"00")+":"+MyLocale.formatLong(minute,"00");
 		monthName = locale.getString(Locale.SHORT_MONTH,t.month,0);
@@ -472,7 +472,7 @@
 	}
 
 	public Object getCellData(int row,int col) {
-		return (String)getCellText(row,col);
+		return getCellText(row,col);
 	}
 
 	public TableCellAttributes getCellAttributes(int row,int col,boolean isSelected,TableCellAttributes ta) {

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -98,37 +98,37 @@
 		CellPanel line1Panel = new CellPanel();
 		line1Panel.addNext(chcType,CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		line1Panel.addLast(lblDiff=new mLabel(MyLocale.getMsg(1000,"D")+": 5.5"),CellConstants.DONTSTRETCH,(CellConstants.DONTFILL|CellConstants.EAST));
-		this.addLast(line1Panel,DONTSTRETCH,HFILL).setTag(Control.SPAN, new Dimension(2,1));
+		this.addLast(line1Panel,DONTSTRETCH,HFILL).setTag(CellConstants.SPAN, new Dimension(2,1));
 		
 		this.addNext(new mLabel(MyLocale.getMsg(301,"Size:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		CellPanel line2Panel = new CellPanel();
 		line2Panel.addNext(chcSize,CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		line2Panel.addLast(lblTerr=new mLabel(MyLocale.getMsg(1001,"T")+": 5.5"),CellConstants.DONTSTRETCH,(CellConstants.DONTFILL|CellConstants.EAST));
-		this.addLast(line2Panel,DONTSTRETCH,HFILL).setTag(Control.SPAN, new Dimension(2,1));
+		this.addLast(line2Panel,DONTSTRETCH,HFILL).setTag(CellConstants.SPAN, new Dimension(2,1));
 		
 		this.addNext(new mLabel(MyLocale.getMsg(302,"Waypoint:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		this.addLast(inpWaypoint.setTag(Control.SPAN, new Dimension(2,1)),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
+		this.addLast(inpWaypoint.setTag(CellConstants.SPAN, new Dimension(2,1)),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		
 		this.addNext(new mLabel(MyLocale.getMsg(303,"Name:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		this.addLast(inpName.setTag(Control.SPAN, new Dimension(2,1)),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
+		this.addLast(inpName.setTag(CellConstants.SPAN, new Dimension(2,1)),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		
 		this.addNext(new mLabel(MyLocale.getMsg(304,"Location:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		this.addLast(btnWayLoc.setTag(Control.SPAN, new Dimension(2,1)),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
+		this.addLast(btnWayLoc.setTag(CellConstants.SPAN, new Dimension(2,1)),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		
 		this.addNext(new mLabel(MyLocale.getMsg(307,"Status:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		CellPanel cp=new CellPanel();
 		cp.addNext(chcStatus,CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		cp.addLast(btnFoundDate=new mButton(new mImage("calendar"+imagesize+".png")),DONTSTRETCH,DONTFILL);
-		this.addLast(cp,DONTSTRETCH,HFILL).setTag(Control.SPAN, new Dimension(2,1));
+		this.addLast(cp,DONTSTRETCH,HFILL).setTag(CellConstants.SPAN, new Dimension(2,1));
 		
 		this.addNext(new mLabel(MyLocale.getMsg(306,"Owner:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		this.addLast(inpOwner.setTag(Control.SPAN, new Dimension(2,1)),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
+		this.addLast(inpOwner.setTag(CellConstants.SPAN, new Dimension(2,1)),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		
 		this.addNext(new mLabel(MyLocale.getMsg(305,"Hidden on:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		CellPanel ip=new CellPanel();
 		ip.addNext(inpHidden,CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		ip.addLast(btnHiddenDate=new mButton(new mImage("calendar"+imagesize+".png")),DONTSTRETCH,DONTFILL);
-		this.addLast(ip,DONTSTRETCH,HFILL).setTag(Control.SPAN, new Dimension(2,1));
+		this.addLast(ip,DONTSTRETCH,HFILL).setTag(CellConstants.SPAN, new Dimension(2,1));
 		inpHidden.modifyAll(DisplayOnly,0);
 		
 		//btnNotes = new mButton("Notes");
@@ -342,7 +342,7 @@
 			else if (ev.target == btnCenter){
 				CWPoint cp=new CWPoint(thisCache.LatLon);
 				if (!cp.isValid()){
-					MessageBox tmpMB = new MessageBox(MyLocale.getMsg(312,"Error"), MyLocale.getMsg(4111,"Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM"), MessageBox.OKB);
+					MessageBox tmpMB = new MessageBox(MyLocale.getMsg(312,"Error"), MyLocale.getMsg(4111,"Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM"), FormBase.OKB);
 					tmpMB.exec();
 				} else {				
 					pref.curCentrePt.set(cp);
@@ -390,7 +390,7 @@
 				CWPoint coords = new CWPoint(btnWayLoc.getText(),CWPoint.CW);
 				CoordsScreen cs = new CoordsScreen();
 				cs.setFields(coords, CWPoint.CW);
-				if (cs.execute()== CoordsScreen.IDOK){
+				if (cs.execute()== FormBase.IDOK){
 					dirty_details=true;
 					coords = cs.getCoords();
 					thisCache.pos.set(coords);
@@ -529,7 +529,7 @@
 			this.setTitle(title);
 			this.setPreferredSize(pref.myAppWidth, pref.myAppHeight);
 			disp.setHtml(text);
-			ScrollBarPanel sbp = new MyScrollBarPanel(disp, ScrollBarPanel.NeverShowHorizontalScrollers);
+			ScrollBarPanel sbp = new MyScrollBarPanel(disp, ScrollablePanel.NeverShowHorizontalScrollers);
 			this.addLast(sbp);
 			this.addLast(btCancel = new mButton(MyLocale.getMsg(3000,"Close")),CellConstants.DONTSTRETCH, CellConstants.FILL);
 		}

Modified: trunk/src/CacheWolf/Filter.java
===================================================================
--- trunk/src/CacheWolf/Filter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Filter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,4 +1,5 @@
 package CacheWolf;
+import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
 import ewe.util.*;
 import ewe.sys.*;
@@ -192,9 +193,9 @@
 				if(ch.is_filtered == false && ch.in_range == false) ch.is_filtered = true;
 			}
 		}catch(FileNotFoundException fnex){
-			(new MessageBox("Error", "File not found", MessageBox.OKB)).execute();
+			(new MessageBox("Error", "File not found", FormBase.OKB)).execute();
 		}catch(IOException ioex){
-			(new MessageBox("Error", "Problem reading file!", MessageBox.OKB)).execute();
+			(new MessageBox("Error", "Problem reading file!", FormBase.OKB)).execute();
 		}
 	}
 	

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/FilterScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,9 +1,7 @@
 package CacheWolf;
 import ewe.ui.*;
 import ewe.io.*;
-import ewe.graphics.*;
 import ewe.fx.*;
-import ewe.util.*;
 import ewe.sys.*;
 import ewe.filechooser.*;
 
@@ -260,7 +258,7 @@
 		mLabel lblInfo; 
 		frmScreen.addLast(lblInfo=new mLabel(MyLocale.getMsg(725,"Note: Filters are additive, active filter=green"))).setTag(SPAN,new Dimension(2,1));
 		lblInfo.setTag(INSETS,new Insets(0,0,2,0));
-		frmScreen.borderStyle=CellPanel.BDR_RAISEDOUTER|CellPanel.BDR_SUNKENINNER|CellPanel.BF_BOTTOM;
+		frmScreen.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_BOTTOM;
 		this.addLast(frmScreen,HSTRETCH,HFILL);
 		
 		CellPanel pnlButtons=new CellPanel();
@@ -290,8 +288,8 @@
 		btPanel.addNext(btnCancel = new mButton(MyLocale.getMsg(708,"Cancel")),CellConstants.STRETCH, CellConstants.FILL);
 		btPanel.addNext(btnApply = new mButton(MyLocale.getMsg(709,"Apply")),CellConstants.STRETCH, CellConstants.FILL);
 		btPanel.addLast(btnRoute = new mButton("Route"),CellConstants.STRETCH, CellConstants.FILL);
-		btnRoute.modify(Control.Disabled,0);
-		addLast(btPanel.setTag(Control.SPAN, new Dimension(3,1)), CellConstants.STRETCH, CellConstants.FILL);
+		btnRoute.modify(ControlConstants.Disabled,0);
+		addLast(btPanel.setTag(CellConstants.SPAN, new Dimension(3,1)), CellConstants.STRETCH, CellConstants.FILL);
 		int sw = MyLocale.getScreenWidth(); int sh = MyLocale.getScreenHeight(); 
 		Preferences pref = Global.getPref();int fs = pref.fontSize;
 		int psx; int psy;
@@ -561,7 +559,7 @@
 			else if (ev.target == btnRoute){
 				
 				File datei;
-				FileChooser fc = new FileChooser(FileChooser.OPEN, Global.getProfile().dataDir);
+				FileChooser fc = new FileChooser(FileChooserBase.OPEN, Global.getProfile().dataDir);
 				fc.setTitle(MyLocale.getMsg(712,"Select route file"));
 				if(fc.execute() != FormBase.IDCANCEL) {
 					datei = fc.getChosenFile();

Modified: trunk/src/CacheWolf/GPSPortOptions.java
===================================================================
--- trunk/src/CacheWolf/GPSPortOptions.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/GPSPortOptions.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -91,30 +91,30 @@
 	public Editor getEditor(int whichEditor){
 		Editor ed;
 		ed = super.getEditor(0);
-		ed.addField(ed.addNext(new mButton("Scan$u")).setCell(Editor.DONTSTRETCH),"scan");
+		ed.addField(ed.addNext(new mButton("Scan$u")).setCell(CellConstants.DONTSTRETCH),"scan");
 		btnTest = new mButton("Test$u");
-		ed.addField(ed.addLast(btnTest.setCell(Editor.DONTSTRETCH)),"test");
+		ed.addField(ed.addLast(btnTest.setCell(CellConstants.DONTSTRETCH)),"test");
 		txtOutput = new TextDisplay();
 		ScrollBarPanel sbp = new MyScrollBarPanel(txtOutput);
-		sbp.setOptions(ScrollBarPanel.AlwaysShowVerticalScrollers | ScrollBarPanel.AlwaysShowHorizontalScrollers);
+		sbp.setOptions(ScrollablePanel.AlwaysShowVerticalScrollers | ScrollablePanel.AlwaysShowHorizontalScrollers);
 		ed.addField(ed.addLast(sbp),"out");
 		forwardGpsChkB = new mCheckBox("z");
-		ed.addField(ed.addNext(forwardGpsChkB, Editor.DONTSTRETCH, (Editor.WEST | Editor.DONTFILL)), "forwardGpsChkB");
+		ed.addField(ed.addNext(forwardGpsChkB, CellConstants.DONTSTRETCH, (CellConstants.WEST | CellConstants.DONTFILL)), "forwardGpsChkB");
 		labelForwardHost = new mLabel("Forward GPS data to host");
-		ed.addField(ed.addNext(labelForwardHost, Editor.DONTSTRETCH, (Editor.WEST | Editor.DONTFILL)), "labelForwardIP");
+		ed.addField(ed.addNext(labelForwardHost, CellConstants.DONTSTRETCH, (CellConstants.WEST | CellConstants.DONTFILL)), "labelForwardIP");
 		inputBoxForwardHost = new mInput("tcpForwardHost");
 		inputBoxForwardHost.setPromptControl(labelForwardHost);
 		inputBoxForwardHost.setText("192.168.178.23");
 		inputBoxForwardHost.setToolTip("All data from GPS will be sent to TCP-port 23\n and can be redirected there to a serial port\n by HW Virtual Serial Port");
-		ed.addField(ed.addLast(inputBoxForwardHost,0 , (Editor.WEST | Editor.HFILL)), "tcpForwardHost");
+		ed.addField(ed.addLast(inputBoxForwardHost,0 , (CellConstants.WEST | CellConstants.HFILL)), "tcpForwardHost");
 		logGpsChkB = new mCheckBox("z");
-		ed.addField(ed.addNext(logGpsChkB, Editor.DONTSTRETCH, (Editor.WEST | Editor.DONTFILL)), "logGpsChkB");
+		ed.addField(ed.addNext(logGpsChkB, CellConstants.DONTSTRETCH, (CellConstants.WEST | CellConstants.DONTFILL)), "logGpsChkB");
 		labelLogTimer = new mLabel("Interval in sec for logging");
-		ed.addField(ed.addNext(labelLogTimer, Editor.DONTSTRETCH, (Editor.WEST | Editor.DONTFILL)), "labelLogTimer");
+		ed.addField(ed.addNext(labelLogTimer, CellConstants.DONTSTRETCH, (CellConstants.WEST | CellConstants.DONTFILL)), "labelLogTimer");
 		inputBoxLogTimer = new mInput("GPSLogTimer");
 		inputBoxLogTimer.setPromptControl(labelLogTimer);
 		inputBoxLogTimer.setText("10");
-		ed.addField(ed.addLast(inputBoxLogTimer,0 , (Editor.WEST | Editor.HFILL)), "GPSLogTimer");
+		ed.addField(ed.addLast(inputBoxLogTimer,0 , (CellConstants.WEST | CellConstants.HFILL)), "GPSLogTimer");
 
 		
 		gpsRunning = false;
@@ -173,7 +173,6 @@
 		long now;
 		
 		gpsPort = new SerialPort(port, baud);
-		if (gpsPort == null) return false;
 		
 		//try to read some data
 		now = new Time().getTime();
@@ -197,7 +196,6 @@
 		long now;
 		
 		gpsPort = new SerialPort(port, baud);
-		if (gpsPort == null) return false;
 		
 		//try to read some data
 		now = new Time().getTime();

Modified: trunk/src/CacheWolf/GPXImporter.java
===================================================================
--- trunk/src/CacheWolf/GPXImporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/GPXImporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,13 +2,10 @@
 
 import ewesoft.xml.*;
 import ewesoft.xml.sax.*;
-import ewe.fx.Color;
-import ewe.io.*;
 import ewe.sys.*;
-import ewe.sys.Double;
+import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
 import ewe.util.*;
-import ewe.net.*;
 import ewe.util.zip.*;
 
 /**
@@ -59,7 +56,7 @@
 		CacheHolder ch;
 		for(int i = 0; i<cacheDB.size();i++){
 			ch = (CacheHolder)cacheDB.get(i);
-			DBindex.put((String)ch.wayPoint, new Integer(i));
+			DBindex.put(ch.wayPoint, new Integer(i));
 		}//for
 	}
 /*	skg: This Constructor is not referenced, therefore commented out 
@@ -95,7 +92,7 @@
 			String file;
 			
 			OCXMLImporterScreen options = new OCXMLImporterScreen("Spider Options", OCXMLImporterScreen.IMAGES);
-			if (options.execute() == OCXMLImporterScreen.IDCANCEL) {	return; }
+			if (options.execute() == FormBase.IDCANCEL) {	return; }
 			//String dist = options.distanceInput.getText();
 			//if (dist.length()== 0) return;
 			//getMaps = options.mapsCheckBox.getState();
@@ -162,7 +159,7 @@
 			if (atts.getValue("creator").startsWith("TerraCaching")) fromTC = true;
 			else fromTC = false;
 
-			if (fromOC && doSpider) (new MessageBox("Warnung", "GPX-Dateien von Opencaching enthalten keine Informationen zu Bildern, sie werden nicht heruntergeladen. Am besten Caches von Opencaching holen per Men? /Anwendung/Download von Opencaching", MessageBox.OKB)).execute();
+			if (fromOC && doSpider) (new MessageBox("Warnung", "GPX-Dateien von Opencaching enthalten keine Informationen zu Bildern, sie werden nicht heruntergeladen. Am besten Caches von Opencaching holen per Men? /Anwendung/Download von Opencaching", FormBase.OKB)).execute();
 			zaehlerGel = 0;
 		}
 		if (name.equals("wpt")) {

Modified: trunk/src/CacheWolf/Global.java
===================================================================
--- trunk/src/CacheWolf/Global.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Global.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,5 +1,4 @@
 package CacheWolf;
-import ewe.*;
 
 /**
  * Global data: Preferences and Profile

Modified: trunk/src/CacheWolf/HintLogPanel.java
===================================================================
--- trunk/src/CacheWolf/HintLogPanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/HintLogPanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -8,7 +8,6 @@
 import ewe.graphics.AniImage;
 import ewe.graphics.ImageDragContext;
 import ewe.graphics.InteractivePanel;
-import ewe.graphics.ReactiveImage;
 import ewe.sys.*;
 import ewe.fx.Image;
 import ewe.fx.Rect;
@@ -47,9 +46,9 @@
 		hintpane.addNext(decodeButton,CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		decodeButton.setMinimumSize(MyLocale.getScreenWidth()*2/3,10);
 		hintpane.addLast(moreBt,CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.EAST));
-		hint.modify(Control.NotEditable,0);
+		hint.modify(ControlConstants.NotEditable,0);
 
-		ScrollBarPanel sbplog = new MyScrollBarPanel((ScrollClient)htmlImagDisp, ScrollBarPanel.NeverShowHorizontalScrollers);
+		ScrollBarPanel sbplog = new MyScrollBarPanel(htmlImagDisp, ScrollablePanel.NeverShowHorizontalScrollers);
 		//logpane.addLast(sbplog,CellConstants.STRETCH, CellConstants.FILL);
 		Rect r = new Rect(new Dimension (Global.getPref().myAppWidth-sbplog.vbar.getRect().width, 20));
 		htmlImagDisp.virtualSize = r;
@@ -67,8 +66,8 @@
 			hint.setText("");
 		crntLogPosition = 0;
 		setLogs(0);
-		moreBt.modify(0,Control.Disabled);
-		prevBt.modify(0,Control.Disabled);
+		moreBt.modify(0,ControlConstants.Disabled);
+		prevBt.modify(0,ControlConstants.Disabled);
 //		if (Gui.screenIs(Gui.PDA_SCREEN) && Vm.isMobile()) {
 //		Vm.setSIP(0);
 //		}
@@ -106,7 +105,7 @@
 		int h = logs.getLineHeight() * logs.getNumLines();
 		htmlTxtImage = new AniImage(new Image(width, h));
 		htmlTxtImage.setLocation(0, 0);
-		htmlTxtImage.properties |= AniImage.IsMoveable;
+		htmlTxtImage.properties |= mImage.IsMoveable;
 		Graphics draw = new Graphics(htmlTxtImage.image);
 		logs.resizeTo(htmlTxtImage.getWidth(), htmlTxtImage.getHeight());
 		logs.doPaint(draw, new Rect(0,0,htmlTxtImage.getWidth(), htmlTxtImage.getHeight()));
@@ -131,23 +130,23 @@
 		if(ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED){
 			int minLogs = java.lang.Math.min(Global.getPref().logsPerPage, cache.CacheLogs.size());
 			if(ev.target == moreBt){
-				prevBt.modify(0,Control.Disabled);
+				prevBt.modify(0,ControlConstants.Disabled);
 				prevBt.repaintNow();
 				crntLogPosition += minLogs;
 				if(crntLogPosition >= cache.CacheLogs.size()) {
 					//crntLogPosition = cache.CacheLogs.size()-5;
 					crntLogPosition = cache.CacheLogs.size()- minLogs;
-					moreBt.modify(Control.Disabled,0);
+					moreBt.modify(ControlConstants.Disabled,0);
 					moreBt.repaintNow();
 				}
 				setLogs(crntLogPosition);
 			} // = moreBt
 			if(ev.target == prevBt){
-				moreBt.modify(0,Control.Disabled);
+				moreBt.modify(0,ControlConstants.Disabled);
 				moreBt.repaintNow();
 				crntLogPosition -= minLogs;
 				if(crntLogPosition <= 0) {
-					prevBt.modify(Control.Disabled,0);
+					prevBt.modify(ControlConstants.Disabled,0);
 					prevBt.repaintNow();
 					crntLogPosition = 0;
 				}
@@ -165,7 +164,7 @@
 	public boolean scrollHorizontal = false;
 	public boolean imageNotDragged(ImageDragContext drag,Point where) {
 		if (drag == null || drag.image == null) return super.imageNotDragged(drag, where);
-		Rect r = getDim(null);
+		getDim(null);
 		if (drag.image.location.y <= 0 ){
 			drag.image.move(0, drag.image.location.y);
 		} else {

Modified: trunk/src/CacheWolf/HttpConnection.java
===================================================================
--- trunk/src/CacheWolf/HttpConnection.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/HttpConnection.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,6 +2,7 @@
 import ewe.data.Property;
 import ewe.data.PropertyList;
 import ewe.io.AsciiCodec;
+import ewe.io.FileBase;
 import ewe.io.IOException;
 import ewe.io.IOHandle;
 import ewe.io.IOTransfer;
@@ -290,7 +291,7 @@
 		port = proxyPort;
 		document = url;
 	} else {
-		url = ewe.io.File.fixupPath(url);
+		url = FileBase.fixupPath(url);
 		//ewe.sys.Vm.debug("url: "+url);
 		port = 80;
 		String uu = url.toLowerCase();
@@ -593,21 +594,8 @@
 	int length = documentProperties.getInt("content-length",-1);
 	if (length == 0)
 		return new Handle(Handle.Succeeded,new ByteArray());
-	//
-	try{
-		InputStream is = getInputStream();
-		return StreamUtils.readAllBytes(getInputStream(),null,length,0);
-	}catch(IOException e){
-		Handle h = new Handle();
-		h.fail(e);
-		return h;
-	}
-	//
-	/*
-	if ("chunked".equals(documentProperties.getValue(encodings,null)))
-		return readInChunkedData(connection);
-	return readInSomeData(connection,length,null);
-	*/
+	getInputStream();
+	return StreamUtils.readAllBytes(getInputStream(),null,length,0);
 }
 /**
  * Read in all the data from the Socket.
@@ -626,7 +614,7 @@
 * the readInData() method.
 **/
 //===================================================================
-public InputStream getInputStream() throws IOException
+public InputStream getInputStream()
 //===================================================================
 {
 	//ewe.sys.Vm.debug(documentProperties.toString());

Modified: trunk/src/CacheWolf/ImageDetailForm.java
===================================================================
--- trunk/src/CacheWolf/ImageDetailForm.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/ImageDetailForm.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,4 @@
 package CacheWolf;
-import ewe.graphics.*;
-import ewe.fx.*;
 import ewe.ui.*;
 
 

Modified: trunk/src/CacheWolf/ImageInteractivePanel.java
===================================================================
--- trunk/src/CacheWolf/ImageInteractivePanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/ImageInteractivePanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,9 +1,7 @@
 package CacheWolf;
 import ewe.graphics.*;
-import ewe.sys.*;
 import ewe.fx.*;
 import ewe.ui.*;
-import ewe.util.*;
 
 /**
 *	This class handles the resizing im images

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/ImagePanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -48,10 +48,10 @@
 			profile=Global.getProfile();
 			Vm.showWait(true);
 			clearImages();
-			thumb_size = (int)((pref.myAppWidth-2*padding) / 3);
+			thumb_size = ((pref.myAppWidth-2*padding) / 3);
 			thumb_size = thumb_size - padding;
 			int rowCounter = cache.Images.size() + cache.UserImages.size();
-			rowCounter = (int)(rowCounter/3)+1;
+			rowCounter = (rowCounter/3)+1;
 			Rect r = new Rect(0, 0, pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+padding);
 			this.virtualSize = r;
 			//this.setPreferredSize(pref.myAppWidth, rowCounter*thumb_size+rowCounter*padding+40);
@@ -142,16 +142,17 @@
 				scaleX = thumb_size;
 				scaleY = thumb_size;
 				dummyC = 0;
+				double thumb_size2 = thumb_size;
 				if(mI.getWidth()>mI.getHeight()){
 					scaleX = thumb_size;
 					dummyC = (double)mI.getHeight()/ (double)mI.getWidth();
-					dummyC = dummyC * (double)thumb_size;
+					dummyC = dummyC * thumb_size2;
 					scaleY = (int)dummyC;
 				}
 				if(mI.getWidth() <= mI.getHeight()){
 					scaleY = thumb_size;
 					dummyC = (double)mI.getWidth()/(double)mI.getHeight();
-					dummyC = dummyC * (double)thumb_size;
+					dummyC = dummyC * thumb_size2;
 					scaleX = (int)dummyC;
 				}
 				if(mI.getWidth() <= thumb_size){
@@ -190,12 +191,12 @@
 					locY = locY+thumb_size+padding;
 				}
 			}catch(IllegalArgumentException imex){ // file not found, could not decode etc.
-				MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht laden")+":\n"+imex.getMessage(), MessageBox.OKB); // @todo: language support
+				MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht laden")+":\n"+imex.getMessage(), FormBase.OKB); // @todo: language support
 				tmp.exec();
 			} catch (OutOfMemoryError e) { // TODO show an error icon in the panel instead of nothing
-				(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+":\n"+location,MessageBox.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+":\n"+location,FormBase.OKB)).exec();
 			} catch (SystemResourceException e) { // TODO show an error icon in the panel instead of nothing
-				(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+"\n"+location,MessageBox.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+"\n"+location,FormBase.OKB)).exec();
 			}
 		} //for
 		
@@ -227,11 +228,11 @@
 	*/
 	public void imageClicked(AniImage which, Point pos){
 //		Vm.debug("Clicked"+pos.x+","+pos.y+" "+(((Control.currentPenEvent.modifiers&PenEvent.RIGHT_BUTTON)==PenEvent.RIGHT_BUTTON)?"RIGHT":"LEFT") );
-		if ((Control.currentPenEvent.modifiers&PenEvent.RIGHT_BUTTON)==PenEvent.RIGHT_BUTTON || duration>LONG_PEN_DOWN_DURATION) {
+		if ((ControlBase.currentPenEvent.modifiers&PenEvent.RIGHT_BUTTON)==PenEvent.RIGHT_BUTTON || duration>LONG_PEN_DOWN_DURATION) {
 			// Right button pressed - delete image to conserve space
 			if (which instanceof ImagePanelImage && !((ImagePanelImage)which).fileName.equals(NO_IMAGE)) {
-				MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(344,"Delete image")+" \""+((ImagePanelImage)which).imageText+"\"?", MessageBox.IDYES |MessageBox.IDNO);
-				if (mBox.execute() == MessageBox.IDOK){
+				MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(344,"Delete image")+" \""+((ImagePanelImage)which).imageText+"\"?", FormBase.IDYES |FormBase.IDNO);
+				if (mBox.execute() == FormBase.IDOK){
 						//Vm.debug("Deleting "+((ImagePanelImage)which).fileName);
 						try {
 							File f=new File(((ImagePanelImage)which).fileName);
@@ -249,10 +250,10 @@
 					ImageDetailForm iF = new ImageDetailForm(fn, pref);
 					iF.execute(null, Gui.CENTER_FRAME);
 				} catch (IllegalArgumentException e) {
-					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht finden"), MessageBox.OKB); // @todo: language support
+					MessageBox tmp = new MessageBox(MyLocale.getMsg(321,"Fehler"), MyLocale.getMsg(322,"Kann Bild/Karte nicht finden"), FormBase.OKB); // @todo: language support
 					tmp.exec();
 				} catch (OutOfMemoryError e) {
-					(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+"\n"+fn,MessageBox.OKB)).exec();
+					(new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(343,"Not enough free memory to load cache image")+"\n"+fn,FormBase.OKB)).exec();
 				}
 			}
 		}

Modified: trunk/src/CacheWolf/InfoBox.java
===================================================================
--- trunk/src/CacheWolf/InfoBox.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/InfoBox.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,5 @@
 package CacheWolf;
 import ewe.ui.*;
-import ewe.sys.*;
 
 public class InfoBox extends Form{
 	TextMessage msgArea;
@@ -79,21 +78,21 @@
 		case DISPLAY_ONLY:
 			msgArea = new TextMessage(info);
 			msgArea.autoWrap = autoWrap;
-			msgArea.alignment = Gui.CENTER;
-			msgArea.anchor = Gui.CENTER;
+			msgArea.alignment = CellConstants.CENTER;
+			msgArea.anchor = CellConstants.CENTER;
 			this.addLast(msgArea.getScrollablePanel(), CellConstants.STRETCH, CellConstants.FILL);
 			break;
 		case PROGRESS_WITH_WARNINGS:
 			msgArea = new TextMessage(info);
 			msgArea.autoWrap = autoWrap;
-			msgArea.alignment = Gui.CENTER;
-			msgArea.anchor = Gui.CENTER;
+			msgArea.alignment = CellConstants.CENTER;
+			msgArea.anchor = CellConstants.CENTER;
 			msgArea.setPreferredSize(psx-20, psy);
 			this.addLast(msgArea.getScrollablePanel(), CellConstants.HEXPAND | CellConstants.HGROW, CellConstants.HEXPAND | CellConstants.HGROW);
 			warnings = new TextMessage("");
 			warnings.autoWrap = autoWrap;
 			this.addLast(warnings.getScrollablePanel(), CellConstants.HEXPAND | CellConstants.VEXPAND |CellConstants.VGROW, CellConstants.HEXPAND | CellConstants.VEXPAND |CellConstants.VGROW);
-			mB.set(Control.Disabled, true);
+			mB.set(ControlConstants.Disabled, true);
 			mB.setPreferredSize(40, 20);
 			addLast(mB, CellConstants.DONTSTRETCH, CellConstants.DONTFILL);
 			break;
@@ -126,7 +125,7 @@
 		warnings.setText(warnings.text + w);
 	}
 	public void addOkButton() { //unfortunately this doesn't work
-		mB.set(Control.Disabled, false);
+		mB.set(ControlConstants.Disabled, false);
 		//addNext(mB);
 		//relayout(true);
 		//mB.set(Control.Invisible, false);
@@ -137,10 +136,10 @@
 		if (ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED) {
 			if(ev.target == mB){
 				if(type == CHECKBOX) mCB_state = mCB.getState();
-				this.close(Form.IDOK);
+				this.close(FormBase.IDOK);
 			}
 			if(ev.target == mC){
-				this.close(Form.IDCANCEL);
+				this.close(FormBase.IDCANCEL);
 			}
 		}
 		super.onEvent(ev);

Modified: trunk/src/CacheWolf/InfoScreen.java
===================================================================
--- trunk/src/CacheWolf/InfoScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/InfoScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,7 +2,6 @@
 
 import ewe.ui.*;
 import ewe.io.*;
-import ewe.sys.*;
 
 /**
 *	This class displays an information screen. It loads the html text to display
@@ -32,7 +31,7 @@
 			}
 		} else text = datei;
 		disp.setHtml(text);
-		ScrollBarPanel sbp = new MyScrollBarPanel(disp, ScrollBarPanel.NeverShowHorizontalScrollers);
+		ScrollBarPanel sbp = new MyScrollBarPanel(disp, ScrollablePanel.NeverShowHorizontalScrollers);
 		this.addLast(sbp);
 		this.addLast(btCancel = new mButton(MyLocale.getMsg(3000,"Close")),CellConstants.DONTSTRETCH, CellConstants.FILL);
 	}

Modified: trunk/src/CacheWolf/LOCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/LOCXMLImporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/LOCXMLImporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -56,7 +56,7 @@
 		CacheHolder ch;
 		for(int i = 0; i<cacheDB.size();i++){
 			ch = (CacheHolder)cacheDB.get(i);
-			DBindexWpt.put((String)ch.wayPoint, new Integer(i));
+			DBindexWpt.put(ch.wayPoint, new Integer(i));
 		}//for
 	}
 	
@@ -109,7 +109,7 @@
 			if (index == -1){
 				holder.is_new = true;
 				cacheDB.add(new CacheHolder(holder));
-				DBindexWpt.put((String)holder.wayPoint, new Integer(cacheDB.size()-1));
+				DBindexWpt.put(holder.wayPoint, new Integer(cacheDB.size()-1));
 			}
 			// update (overwrite) data
 			else {

Modified: trunk/src/CacheWolf/LogList.java
===================================================================
--- trunk/src/CacheWolf/LogList.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/LogList.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -129,6 +129,6 @@
 	 }
 	 
 	 public static int getScore(int numrecommends, int numfoundlogs) {
-		 return Math.round((((float)numrecommends * (float)numrecommends +1f ) / ((float)numfoundlogs / 10f +1f))*100f);
+		 return Math.round((((float)numrecommends * (float)numrecommends +1f ) / (numfoundlogs / 10f +1f))*100f);
 	 }
 }

Modified: trunk/src/CacheWolf/MainForm.java
===================================================================
--- trunk/src/CacheWolf/MainForm.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/MainForm.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -52,13 +52,13 @@
 		this.exitSystemOnClose = true;
 		this.resizable = true;
 		this.moveable = true;
-		this.windowFlagsToSet = Window.FLAG_MAXIMIZE_ON_PDA;
+		this.windowFlagsToSet = WindowConstants.FLAG_MAXIMIZE_ON_PDA;
 		if(Vm.isMobile() == true) {
 			//this.windowFlagsToSet |=Window.FLAG_FULL_SCREEN;
 			this.resizable = false;
 			this.moveable = false;
 		}
-		Rect screen = ((ewe.fx.Rect) (Window.getGuiInfo(Window.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0)));
+		Rect screen = ((ewe.fx.Rect) (Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0)));
 		if ( screen.height >= 600 && screen.width >= 800) this.setPreferredSize(800, 600);
 		this.resizeOnSIP = true;
 		// Load CacheList

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -40,7 +40,7 @@
 
 	public MainMenu(Form f){
 		father = f;
-		String cwd = File.getProgramDirectory();
+		String cwd = FileBase.getProgramDirectory();
 
 		///////////////////////////////////////////////////////////////////////
 		// subMenu for profiles, part of "Application" menu below
@@ -270,7 +270,7 @@
 			}
 			if(mev.selectedItem == mnuEditCenter){
 				ProfileDataForm f=new ProfileDataForm(pref,profile);
-				int code=f.execute(getFrame(), Gui.CENTER_FRAME);
+				f.execute(getFrame(), Gui.CENTER_FRAME);
 				tbp.refreshTable();
 				f.close(0);
 			}
@@ -286,10 +286,10 @@
 				tbp.resetModel();
 			}
 			if(mev.selectedItem == loadcaches){
-				FileChooser fc = new FileChooser(FileChooser.OPEN|FileChooser.MULTI_SELECT, pref.baseDir);
+				FileChooser fc = new FileChooser(FileChooserBase.OPEN|FileChooserBase.MULTI_SELECT, pref.baseDir);
 				fc.addMask("*.gpx,*.zip,*.loc");
 				fc.setTitle(MyLocale.getMsg(909,"Select file(s)"));
-				if(fc.execute() != FileChooser.IDCANCEL){
+				if(fc.execute() != FormBase.IDCANCEL){
 					String dir = fc.getChosenDirectory().toString();
 					String files[] = fc.getAllChosen();
 					/*
@@ -366,7 +366,7 @@
 			if(mev.selectedItem == exportGPS){
 				Vm.showWait(true);
 				LocExporter loc = new LocExporter();
-				String tmpFileName = File.getProgramDirectory() + "/temp.loc";
+				String tmpFileName = FileBase.getProgramDirectory() + "/temp.loc";
 				loc.setTmpFileName(tmpFileName);
 				loc.doIt(LocExporter.MODE_AUTO);
 				ProgressBarForm.display(MyLocale.getMsg(950,"Transfer"),MyLocale.getMsg(951,"Sending to GPS"), null);
@@ -376,7 +376,7 @@
 					p.waitFor();
 				}catch(IOException ioex){
 					Vm.showWait(false);
-					(new MessageBox("Error", "Garmin export unsuccessful", MessageBox.OKB)).execute();
+					(new MessageBox("Error", "Garmin export unsuccessful", FormBase.OKB)).execute();
 					pref.log("Error exporting to Garmin",ioex);
 				};
 				ProgressBarForm.clear();
@@ -391,10 +391,10 @@
 				kml.doIt();
 			}
 			if(mev.selectedItem == exportTPL){
-				FileChooser fc = new FileChooser(FileChooser.OPEN, File.getProgramDirectory());
+				FileChooser fc = new FileChooser(FileChooserBase.OPEN, FileBase.getProgramDirectory());
 				fc.addMask("*.tpl");
 				fc.setTitle(MyLocale.getMsg(910,"Select Template file"));
-				if(fc.execute() != FileChooser.IDCANCEL){
+				if(fc.execute() != FormBase.IDCANCEL){
 					TPLExporter tpl = new TPLExporter( pref,profile, fc.getChosenFile().toString());
 					tpl.doIt();
 				}
@@ -423,7 +423,7 @@
 						MapImporter map = new MapImporter(pref, sM.getSelectedMap(),sM.worldfileexists);
 						map.execute(null, Gui.CENTER_FRAME);
 					} catch (java.lang.OutOfMemoryError e) {
-						MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), MyLocale.getMsg(156,"Out of memory error, map to big"), MessageBox.OKB);
+						MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), MyLocale.getMsg(156,"Out of memory error, map to big"), FormBase.OKB);
 						tmpMB.exec();
 					}
 				}
@@ -565,21 +565,20 @@
 			// "About" pulldown menu
 			///////////////////////////////////////////////////////////////////////
 			if(mev.selectedItem == about){
-				InfoScreen is = new InfoScreen(File.getProgramDirectory() + "/" + "info.html", MyLocale.getMsg(117,"About"),true, pref);
+				InfoScreen is = new InfoScreen(FileBase.getProgramDirectory() + "/" + "info.html", MyLocale.getMsg(117,"About"),true, pref);
 				is.execute(father.getFrame(), Gui.CENTER_FRAME);
 			}
 			if(mev.selectedItem == legend){
-				InfoScreen is = new InfoScreen(File.getProgramDirectory() + "/" + "legende.html", MyLocale.getMsg(155,"Legend"),true, pref);
+				InfoScreen is = new InfoScreen(FileBase.getProgramDirectory() + "/" + "legende.html", MyLocale.getMsg(155,"Legend"),true, pref);
 				is.execute(father.getFrame(), Gui.CENTER_FRAME);
 			}
 			if(mev.selectedItem == wolflang){
-				InfoScreen is = new InfoScreen(File.getProgramDirectory() + "/" + "wolflang.html", MyLocale.getMsg(118,"WolfLanguage"), true, pref);
+				InfoScreen is = new InfoScreen(FileBase.getProgramDirectory() + "/" + "wolflang.html", MyLocale.getMsg(118,"WolfLanguage"), true, pref);
 				is.execute(father.getFrame(), Gui.CENTER_FRAME);
 			}
 			if(mev.selectedItem == sysinfo){
 				//Vm.debug("Checking system...");
 				StringBuffer sb=new StringBuffer(400);
-				Rect s = (Rect)Window.getGuiInfo(Window.INFO_SCREEN_RECT,null,new Rect(),0);
 				Font f = mApp.guiFont;
 				sb.append("Profile: "); 				sb.append(profile.dataDir);
 				sb.append("<br>Platform: "); 			sb.append(Vm.getPlatform());
@@ -592,7 +591,7 @@
 				sb.append("<br>Font size: ");			sb.append(f.getSize());
 				sb.append("<br>Entries in DB: ");		sb.append(cacheDB.size());
 				sb.append("<br>File separator is: \""); sb.append(Vm.getProperty("file.separator","def")); 
-				sb.append("\"<br>Programme directory is "); sb.append(File.getProgramDirectory());
+				sb.append("\"<br>Programme directory is "); sb.append(FileBase.getProgramDirectory());
 				sb.append("<br>Number of details in RAM is "); sb.append(CacheHolder.cachesWithLoadedDetails.size());
 				sb.append(" Max.: ");					sb.append(Global.getPref().maxDetails);
 				sb.append("<br>CacheWolf version: ");		sb.append(Version.getReleaseDetailed());
@@ -602,7 +601,7 @@
 			}
 			if(mev.selectedItem == chkVersion){
 				Vm.showWait(true);
-				(new MessageBox(MyLocale.getMsg(178, "Version Checking"), Version.getUpdateMessage(), MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(178, "Version Checking"), Version.getUpdateMessage(), FormBase.OKB)).execute();
 				Vm.showWait(false);
 			}
 			
@@ -643,11 +642,11 @@
 				} else {
 					if (ch.isAddiWpt() && ch.mainCache!=null && !ch.mainCache.is_Checked && !alreadySaid2) { // Is the father ticked?
 						alreadySaid2=true;
-						(new MessageBox("Information","Hilfswegpunkte k?nnnen nicht direkt gespidert werden\nBitte zus?tzlich den Vater anhaken", MessageBox.OKB)).execute();
+						(new MessageBox("Information","Hilfswegpunkte k?nnnen nicht direkt gespidert werden\nBitte zus?tzlich den Vater anhaken", FormBase.OKB)).execute();
 					}
 					if (!ch.isAddiWpt() && !alreadySaid) {
 						alreadySaid = true;
-						(new MessageBox("Information",ch.wayPoint+ ": Diese Funktion steht gegenw?rtig nur f?r Geocaching.com und Opencaching.de zur Verf?gung", MessageBox.OKB)).execute();
+						(new MessageBox("Information",ch.wayPoint+ ": Diese Funktion steht gegenw?rtig nur f?r Geocaching.com und Opencaching.de zur Verf?gung", FormBase.OKB)).execute();
 					}
 				}
 

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -335,7 +335,7 @@
 	public void SwitchToMovingMap(CWPoint centerTo, boolean forceCenter) {
 		try {
 			if (!centerTo.isValid()) {
-				(new MessageBox("Error", "No valid coordinates", MessageBox.OKB)).execute();
+				(new MessageBox("Error", "No valid coordinates", FormBase.OKB)).execute();
 				return;
 			}
 			if (mm == null) {
@@ -349,7 +349,7 @@
 				try {
 					int i = 0;
 					while (MapImage.screenDim.width == 0 && i < 10*60) { i++; ewe.sys.mThread.sleep(100);} // wait until the window size of the moving map is known note: ewe.sys.sleep() will pause the whole vm - no other thread will run
-					if (i >= 10*60) {(new MessageBox("Error", "MovingMap cannot be displayed - this is most likely a bug - plaese report it on www.geoclub.de", MessageBox.OKB)).execute(); return;}
+					if (i >= 10*60) {(new MessageBox("Error", "MovingMap cannot be displayed - this is most likely a bug - plaese report it on www.geoclub.de", FormBase.OKB)).execute(); return;}
 					mm.setCenterOfScreen(centerTo, false); // this can only be executed if mm knows its window size that's why myExec must be executed before
 					mm.updatePosition(centerTo);
 					/*			if(!mm.posCircle.isOnScreen()) { // TODO this doesn't work because lat lon is set to the wished pos and not to gps anymore
@@ -361,11 +361,11 @@
 					 */			//TODO what to do, if there is a map at centerTo, but it is not loaded because of mapSwitchMode == dest & cuurpos und daf?r gibt es keine Karte 
 				}catch (InterruptedException e) {
 					Global.getPref().log("Error starting mavoing map (1): " + e.getMessage(), e, true);
-					(new MessageBox("Error", "This must not happen please report to pfeffer how to produce this error message", MessageBox.OKB)).execute(); } 
+					(new MessageBox("Error", "This must not happen please report to pfeffer how to produce this error message", FormBase.OKB)).execute(); } 
 			}
 		} catch (Exception e) { 
 			Global.getPref().log("Error starting moving map (2): " + e.getMessage(), e, true);
-			(new MessageBox("Error", "Error starting moving map: " + e.getMessage(), MessageBox.OKB)).execute(); }
+			(new MessageBox("Error", "Error starting moving map: " + e.getMessage(), FormBase.OKB)).execute(); }
 	}
 
 	void updatePendingChanges() {
@@ -388,7 +388,7 @@
 		updatePendingChanges();
 		if (askForConfirmation) { // Don't know whether to save, have to ask
 			if (profile.hasUnsavedChanges &&     // Only ask if there were changes 
-					(new MessageBox(MyLocale.getMsg(144,"Warnung"),MyLocale.getMsg(1207,"Your profile has unsaved changes. Do you want to save?"),MessageBox.DEFOKB|MessageBox.NOB)).execute()==MessageBox.IDOK) {
+					(new MessageBox(MyLocale.getMsg(144,"Warnung"),MyLocale.getMsg(1207,"Your profile has unsaved changes. Do you want to save?"),FormBase.DEFOKB|FormBase.NOB)).execute()==FormBase.IDOK) {
 				saveIndex=true; 
 			}
 		}

Modified: trunk/src/CacheWolf/Matrix.java
===================================================================
--- trunk/src/CacheWolf/Matrix.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Matrix.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -229,7 +229,7 @@
 					ja = 0;
 				}
 				det = Determinant(ap);
-				m[i][j] = (double) java.lang.Math.pow(-1, i + j) * det;
+				m[i][j] = java.lang.Math.pow(-1, i + j) * det;
 			}
 		m = Transpose2(m);
 		return m;

Modified: trunk/src/CacheWolf/MyComparer.java
===================================================================
--- trunk/src/CacheWolf/MyComparer.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/MyComparer.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,5 @@
 package CacheWolf;
 import ewe.util.*;
-import ewe.sys.*;
 
 /**
 *	This class handles the sorting for most of the sorting tasks. If a cache is 
@@ -96,7 +95,7 @@
 			for (int i=0; i<visibleSize; i++) {
 				CacheHolder ch=(CacheHolder) cacheDB.get(i);
 				if (ch.wayPoint.startsWith("OC"))
-					ch.sort=MyLocale.formatLong((long)ch.numRecommended,"00000");
+					ch.sort=MyLocale.formatLong(ch.numRecommended,"00000");
 				else
 					ch.sort="\uFFFF";
 			}			
@@ -104,7 +103,7 @@
 			for (int i=0; i<visibleSize; i++) {
 				CacheHolder ch=(CacheHolder) cacheDB.get(i);
 				if (ch.wayPoint.startsWith("OC"))
-					ch.sort=MyLocale.formatLong((long)ch.recommendationScore,"00000");
+					ch.sort=MyLocale.formatLong(ch.recommendationScore,"00000");
 				else
 					ch.sort="\uFFFF";
 			}			

Modified: trunk/src/CacheWolf/MyLocale.java
===================================================================
--- trunk/src/CacheWolf/MyLocale.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/MyLocale.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -6,15 +6,17 @@
 import ewe.fx.Rect;
 import ewe.io.BufferedReader;
 import ewe.io.BufferedWriter;
-import ewe.io.File;
+import ewe.io.FileBase;
 import ewe.io.FileReader;
 import ewe.io.FileWriter;
 import ewe.sys.*;
 import ewe.sys.Double;
 import ewe.sys.Long;
+import ewe.ui.FormBase;
 import ewe.ui.Gui;
 import ewe.ui.MessageBox;
 import ewe.ui.Window;
+import ewe.ui.WindowConstants;
 /**
  *  This class handles internationalisation and some other local stuff like
  *  decimal separator, screen dimensions etc.
@@ -29,7 +31,7 @@
 public class MyLocale {
 	private static Locale l=null;
 	private static LocalResource lr=null;
-	private static Rect s = (Rect)Window.getGuiInfo(Window.INFO_SCREEN_RECT,null,new Rect(),0);
+	private static Rect s = (Rect)Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new Rect(),0);
 	private static String digSeparator=null;
 	/** Read a non-standard language from the file language. If it is empty,
 	 * the default language is used.
@@ -43,7 +45,7 @@
 			 int tmp = Locale.createID(language,"",0);
 			 if (tmp > -1) l=new Locale(tmp);
 			 else { // language not found
-				 (new MessageBox("Error", "Language " + language + " not found - using standard language", MessageBox.OKB)).execute(); // don't copy this messagebox into a language file, because it is only used if no languages file can be accessed
+				 (new MessageBox("Error", "Language " + language + " not found - using standard language", FormBase.OKB)).execute(); // don't copy this messagebox into a language file, because it is only used if no languages file can be accessed
 				 l = Vm.getLocale(); 
 			 }
 		 }
@@ -56,7 +58,7 @@
 					public Object get(int id,Object data){return data;}
 					public Object get(String id,Object data){return data;}
 				};
-				(new MessageBox("Error", "Language file languages/" + getLocaleLanguage().toUpperCase() + ".cfg couldn't be loaded - using hard coded messages", MessageBox.OKB)).execute();
+				(new MessageBox("Error", "Language file languages/" + getLocaleLanguage().toUpperCase() + ".cfg couldn't be loaded - using hard coded messages", FormBase.OKB)).execute();
 		 }
 		 
 		 double testA = Convert.toDouble("1,50") + Convert.toDouble("3,00");
@@ -233,7 +235,7 @@
 	 */
 	private static String getLanguage() {
 		try {
-			BufferedReader bufread=new BufferedReader(new FileReader(File.getProgramDirectory() + "/" + "language"));
+			BufferedReader bufread=new BufferedReader(new FileReader(FileBase.getProgramDirectory() + "/" + "language"));
 			language=bufread.readLine();
 			bufread.close();
 		} catch (Exception ex) {
@@ -249,7 +251,7 @@
 	 */
 	public static void saveLanguage(String language) {
 		try{
-			BufferedWriter out = new BufferedWriter(new FileWriter(File.getProgramDirectory() + "/" + "language"));
+			BufferedWriter out = new BufferedWriter(new FileWriter(FileBase.getProgramDirectory() + "/" + "language"));
 			out.write(language);
 			out.close();
 		}catch (Exception e){ Vm.debug("Exception "+e);}

Modified: trunk/src/CacheWolf/MyScrollBarPanel.java
===================================================================
--- trunk/src/CacheWolf/MyScrollBarPanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/MyScrollBarPanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -15,7 +15,7 @@
 public class MyScrollBarPanel extends ScrollBarPanel {
 	public MyScrollBarPanel(ScrollClient client,int options) {
 		super(client, options);
-		int s = java.lang.Math.round(((float)Global.getPref().fontSize) / 11f * 15f); // standard fontsize = 1, standard bottum size = 15
+		int s = java.lang.Math.round(Global.getPref().fontSize / 11f * 15f); // standard fontsize = 1, standard bottum size = 15
 		setScrollBarSize(s, s, s);
 	}
 	public MyScrollBarPanel(ScrollClient client)

Modified: trunk/src/CacheWolf/NewProfileForm.java
===================================================================
--- trunk/src/CacheWolf/NewProfileForm.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/NewProfileForm.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -5,7 +5,6 @@
 import ewe.ui.Event;
 import ewe.ui.Form;
 import ewe.ui.IKeys;
-import ewe.ui.KeyEvent;
 import ewe.ui.MessageBox;
 import ewe.ui.mButton;
 import ewe.ui.mInput;

Modified: trunk/src/CacheWolf/NotesScreen.java
===================================================================
--- trunk/src/CacheWolf/NotesScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/NotesScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,11 +1,7 @@
 package CacheWolf;
 import ewe.ui.*;
-import ewe.io.*;
-import ewe.graphics.*;
 import ewe.fx.*;
-import ewe.util.*;
 import ewe.sys.*;
-import ewe.filechooser.*;
 
 /**
 *	This class displays a form to show and edit notes for a cache.
@@ -23,14 +19,14 @@
 		int sw = MyLocale.getScreenWidth();
 		String imagesize = "";
 		if (Vm.isMobile() && sw >= 400) imagesize="_vga";
-		addDateTime = new mButton((IImage)new mImage("date_time"+imagesize+".gif"));
+		addDateTime = new mButton(new mImage("date_time"+imagesize+".gif"));
 		
 		this.title = "Notes";
 		setPreferredSize(Global.getPref().myAppWidth, Global.getPref().myAppHeight);
 		this.resizeOnSIP = true;
 		thisCache = ch;
 		wayNotes.setText(thisCache.CacheNotes);
-		addLast(sbp.setTag(Control.SPAN, new Dimension(3,1)),CellConstants.STRETCH, (CellConstants.FILL|CellConstants.WEST));
+		addLast(sbp.setTag(CellConstants.SPAN, new Dimension(3,1)),CellConstants.STRETCH, (CellConstants.FILL|CellConstants.WEST));
 		titleControls=new CellPanel();
 		titleControls.addNext(addDateTime,CellConstants.HSTRETCH,CellConstants.HFILL);
 		titleControls.addNext(cancelBtn,CellConstants.HSTRETCH,CellConstants.HFILL);
@@ -57,7 +53,7 @@
 			if(ev.target == cancelBtn){
 				if ( (!thisCache.CacheNotes.equals(wayNotes.getText())) ) {
 					if ( (new MessageBox("Warning", "You will loose any changes made to the notes. Do you want to continue?"
-							, MessageBox.YESB|MessageBox.NOB)).execute() == MessageBox.IDYES) {
+							, FormBase.YESB|FormBase.NOB)).execute() == FormBase.IDYES) {
 						this.close(0);
 					}
 				} else this.close(0); // no changes -> exit without asking
@@ -65,7 +61,7 @@
 			if(ev.target == titleOK){
 				if ( (!thisCache.CacheNotes.equals(wayNotes.getText())) ) {
 					if ( (new MessageBox("Warning", "Save changes made to the notes?"
-							, MessageBox.YESB|MessageBox.NOB)).execute() == MessageBox.IDYES) {
+							, FormBase.YESB|FormBase.NOB)).execute() == FormBase.IDYES) {
 						thisCache.CacheNotes = wayNotes.getText();
 						thisCache.saveCacheDetails( Global.getProfile().dataDir);
 					}

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -6,6 +6,7 @@
 import ewesoft.xml.sax.*;
 import ewe.io.*;
 import ewe.sys.*;
+import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
 import ewe.util.*;
 import ewe.util.zip.*;
@@ -72,9 +73,9 @@
 		user = p.myAlias.toLowerCase();
 		for(int i = 0; i<cacheDB.size();i++){
 			ch = (CacheHolder)cacheDB.get(i);
-			DBindexWpt.put((String)ch.wayPoint, new Integer(i));
+			DBindexWpt.put(ch.wayPoint, new Integer(i));
 			if (!ch.ocCacheID.equals(""))
-				DBindexID.put((String)ch.ocCacheID, new Integer(i));
+				DBindexID.put(ch.ocCacheID, new Integer(i));
 		}//for
 
 	}
@@ -89,8 +90,6 @@
 	 * @return true, if some change was made to the cacheDB
 	 */
 	public boolean syncSingle(int number, InfoBox infB) {
-		boolean success=true;
-
 		ch = (CacheHolder)cacheDB.get(number);
 		chD= null; //new CacheHolderDetail(ch); //TODO is this still correct? use getDetails ?
 
@@ -100,7 +99,7 @@
 		}
 		if (askForOptions) {
 			OCXMLImporterScreen importOpt = new OCXMLImporterScreen( MyLocale.getMsg(1600, "Opencaching.de Download"),OCXMLImporterScreen.IMAGES | OCXMLImporterScreen.ALL);
-			if (importOpt.execute() == OCXMLImporterScreen.IDCANCEL) {	return false; }
+			if (importOpt.execute() == FormBase.IDCANCEL) {	return false; }
 			askForOptions = false;
 			reload = importOpt.missingCheckBox.getState();
 		}
@@ -136,7 +135,7 @@
 			+ "&charset=utf-8"
 			+ "&cdata=0"
 			+ "&session=0";
-		success = syncOC(url);
+		syncOC(url);
 		inf.close(0);
 		return true;
 	}
@@ -151,12 +150,12 @@
 		String lastS =  profile.last_sync_opencaching;
 		CWPoint centre = pref.curCentrePt; // No need to clone curCentrePt as centre is only read
 		if (!centre.isValid()) {
-			(new MessageBox("Error", "Coordinates for centre must be set", MessageBox.OKB)).execute();
+			(new MessageBox("Error", "Coordinates for centre must be set", FormBase.OKB)).execute();
 			return;
 		}
 		OCXMLImporterScreen importOpt = new OCXMLImporterScreen( MyLocale.getMsg(1600, "Opencaching.de Download"),
 																 OCXMLImporterScreen.ALL | OCXMLImporterScreen.DIST | OCXMLImporterScreen.IMAGES);
-		if (importOpt.execute() == OCXMLImporterScreen.IDCANCEL) {	return; }
+		if (importOpt.execute() == FormBase.IDCANCEL) {	return; }
 		Vm.showWait(true);
 		String dist = importOpt.distanceInput.getText();
 		if (dist.length()== 0) return;
@@ -437,15 +436,15 @@
 				cacheDB.add(ch);
 				ch.detailsAdded();
 				Integer indexInt = new Integer(cacheDB.size()-1);
-				DBindexWpt.put((String)chD.wayPoint, indexInt);
-				DBindexID.put((String)chD.ocCacheID, indexInt);
+				DBindexWpt.put(chD.wayPoint, indexInt);
+				DBindexID.put(chD.ocCacheID, indexInt);
 			}
 			// update (overwrite) data
 			else {
 				chD.is_new = false;
 				cacheDB.set(index, new CacheHolder(chD));
 				// save ocCacheID, in case, the previous data is from GPX
-				DBindexID.put((String)chD.ocCacheID, new Integer(index));
+				DBindexID.put(chD.ocCacheID, new Integer(index));
 			}
 			// clear data (picture, logs) if we do a complete Update
 			if (incUpdate == false){

Modified: trunk/src/CacheWolf/OCXMLImporterScreen.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporterScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/OCXMLImporterScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -3,7 +3,6 @@
  */
 package CacheWolf;
 
-import ewe.sys.Vm;
 import ewe.ui.*;
 
 /**
@@ -82,14 +81,14 @@
 	public void onEvent(Event ev){
 		if (ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED){
 			if (ev.target == cancelB){
-				this.close(Form.IDCANCEL);
+				this.close(FormBase.IDCANCEL);
 			}
 			if (ev.target == okB){
 				    // distOC wird hier noch nicht in Pref eingetragen, damit noch gepr?ft werden kann, ob es gr??er oder kleiner ist als vorher
 					if (imagesCheckBox!=null) pref.downloadPicsOC = imagesCheckBox.state;
 					if (missingCheckBox!=null) pref.downloadmissingOC = missingCheckBox.state;
 					// TODO: sofort speichern?
-				this.close(Form.IDOK);
+				this.close(FormBase.IDOK);
 				}
 		}
 		super.onEvent(ev);

Modified: trunk/src/CacheWolf/ParseLatLon.java
===================================================================
--- trunk/src/CacheWolf/ParseLatLon.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/ParseLatLon.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,7 +1,6 @@
 package CacheWolf;
 
 import ewe.sys.*;
-import ewe.sys.Double;
 
 /**
 *	This class parses a string representation of longitude and latitude.

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Preferences.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -46,7 +46,7 @@
 		mySPO.parity = SerialPort.NOPARITY;
 		mySPO.stopBits = 1;
 		mySPO.baudRate = 4800;
-		if ( ((ewe.fx.Rect) (Window.getGuiInfo(Window.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0))).height > 400) 
+		if ( ((ewe.fx.Rect) (Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0))).height > 400) 
 			 fontSize = 16;
 		else 
 			 fontSize = 11;
@@ -180,7 +180,7 @@
 	 */
 	public void readPrefFile(){
 		try{
-			String datei = File.getProgramDirectory() + "/" + "pref.xml";
+			String datei = FileBase.getProgramDirectory() + "/" + "pref.xml";
 			datei = datei.replace('\\', '/');
 			ewe.io.Reader r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(datei));
 			parse(r);
@@ -341,7 +341,7 @@
 	 * Method to save current preferences in the pref.xml file
 	 */
 	public void savePreferences(){
-		String datei = File.getProgramDirectory() + "/" + "pref.xml";
+		String datei = FileBase.getProgramDirectory() + "/" + "pref.xml";
 		datei = datei.replace('\\', '/');
 
 		try{
@@ -431,24 +431,24 @@
 		if (ret != null) return ret; 
 		ret = getMapManuallySavePath(false);
 		File t = new FileBugfix(ret);
-		String[] f = t.list("*.wfl", File.LIST_FILES_ONLY);
+		String[] f = t.list("*.wfl", FileBase.LIST_FILES_ONLY);
 		if (f != null && f.length > 0) return  baseDir + mapsPath;
-		f = t.list("*.wfl", File.LIST_DIRECTORIES_ONLY | File.LIST_ALWAYS_INCLUDE_DIRECTORIES);
+		f = t.list("*.wfl", FileBase.LIST_DIRECTORIES_ONLY | FileBase.LIST_ALWAYS_INCLUDE_DIRECTORIES);
 		if (f != null && f.length > 0) { // see if in a subdir of <baseDir>/maps/standard are .wfl files
 			String[] f2;
 			for (int i = 0; i< f.length; i++) {
 				t.set(null, ret+"/"+f[i]);
-				f2 = t.list("*.wfl", File.LIST_FILES_ONLY);
+				f2 = t.list("*.wfl", FileBase.LIST_FILES_ONLY);
 				if (f2 != null && f2.length > 0) return  ret;
 			}
 		}
 		// lagacy dir 
-		ret = File.getProgramDirectory() + "/maps";
+		ret = FileBase.getProgramDirectory() + "/maps";
 		t.set(null, ret);
-		f = t.list("*.wfl", File.LIST_FILES_ONLY);
+		f = t.list("*.wfl", FileBase.LIST_FILES_ONLY);
 		if (f != null && f.length > 0) {
-			MessageBox inf = new MessageBox("Information", "The directory for calibrated maps \nhas moved in this program version\n to '<profiles directory>/maps/standard'\n Do you want to move your calibrated maps there now?", MessageBox.YESB | MessageBox.NOB);
-			if (inf.execute() == MessageBox.IDYES) {
+			MessageBox inf = new MessageBox("Information", "The directory for calibrated maps \nhas moved in this program version\n to '<profiles directory>/maps/standard'\n Do you want to move your calibrated maps there now?", FormBase.YESB | FormBase.NOB);
+			if (inf.execute() == FormBase.IDYES) {
 				String sp = getMapManuallySavePath(false);
 				File spF = new File(sp);
 				if (!spF.exists()) spF.mkdirs();
@@ -482,7 +482,7 @@
 		String mapsDir = baseDir + mapsPath;
 		if (create && !(new File(mapsDir).isDirectory())) { // dir exists? 
 			if (new File(mapsDir).mkdirs() == false) {// dir creation failed?
-				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(172,"Error: cannot create maps directory: \n")+mapsDir, MessageBox.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(172,"Error: cannot create maps directory: \n")+mapsDir, FormBase.OKB)).exec();
 				return null;
 			}
 		}
@@ -497,7 +497,7 @@
 		String mapsDir = Global.getPref().baseDir + "maps/" + Common.ClearForFileName(mapkind)+ "/" + subdir;
 		if (!(new File(mapsDir).isDirectory())) { // dir exists? 
 			if (new File(mapsDir).mkdirs() == false) // dir creation failed?
-			{(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(172,"Error: cannot create maps directory: \n")+new File(mapsDir).getParentFile(), MessageBox.OKB)).exec();
+			{(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(172,"Error: cannot create maps directory: \n")+new File(mapsDir).getParentFile(), FormBase.OKB)).exec();
 			return null;
 			}
 		}
@@ -526,10 +526,10 @@
 		// If datadir is empty, ask for one
 		if (baseDir.length()==0 || !(new File(baseDir)).exists()) {
 			do {
-				FileChooser fc = new FileChooser(FileChooser.DIRECTORY_SELECT,baseDir);
+				FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT,baseDir);
 				fc.title = MyLocale.getMsg(170,"Select base directory for cache data");
 				// If no base directory given, terminate
-				if (fc.execute() == FileChooser.IDCANCEL) ewe.sys.Vm.exit(0);
+				if (fc.execute() == FormBase.IDCANCEL) ewe.sys.Vm.exit(0);
 				baseDir = fc.getChosenFile().toString();
 			}while (!(new File(baseDir)).exists());
 		}
@@ -549,7 +549,7 @@
 			}
 			profileExists=(new File(baseDir+lastProfile)).exists();
 			if (!profileExists) (new MessageBox(MyLocale.getMsg(144,"Warning"),
-					           MyLocale.getMsg(171,"Profile does not exist: ")+lastProfile,MessageBox.MBOK)).execute();
+					           MyLocale.getMsg(171,"Profile does not exist: ")+lastProfile,FormBase.MBOK)).execute();
 		} while (profileExists==false);
 		// Now we are sure that baseDir exists and basDir+profile exists
 		prof.name=lastProfile;
@@ -565,7 +565,7 @@
 	//////////////////////////////////////////////////////////////////////////////////////
 
 	/** Log file is in program directory and called log.txt */
-	private final String LOGFILENAME=File.getProgramDirectory()+"/log.txt";
+	private final String LOGFILENAME=FileBase.getProgramDirectory()+"/log.txt";
 	
 	/**
 	 * Method to delete an existing log file. Called on every SpiderGC.

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -72,13 +72,13 @@
 		// First panel - General
 		/////////////////////////////////////////////////////////
 		Frame frmDataDir=new Frame();
-		frmDataDir.borderStyle=CellPanel.BDR_RAISEDOUTER|CellPanel.BDR_SUNKENINNER|CellPanel.BF_BOTTOM;
+		frmDataDir.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_BOTTOM;
 		frmDataDir.addNext(new mLabel(MyLocale.getMsg(603,"Data Directory:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		//frmDataDir.setTag(INSETS,new Insets(10,10,10,10));
 		frmDataDir.addLast(brwBt = new mButton(MyLocale.getMsg(604,"Browse")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.EAST));
 		DataDir = new mInput();
 		DataDir.setText(pref.baseDir);
-		frmDataDir.addLast(DataDir.setTag(Control.SPAN, new Dimension(3,1)),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.EAST));
+		frmDataDir.addLast(DataDir.setTag(CellConstants.SPAN, new Dimension(3,1)),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.EAST));
 		frmDataDir.addLast(chkAutoLoad = new mCheckBox(MyLocale.getMsg(629,"Autoload last profile")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		if (pref.autoReloadLastProfile) chkAutoLoad.setState(true);
 		chkAutoLoad.setTag(INSETS,new Insets(0,0,2,0));
@@ -116,7 +116,7 @@
 		frmGarmin.addLast(chkSynthShort=new mCheckBox(MyLocale.getMsg(174,"Short Names")),STRETCH,RIGHT);
 		chkSynthShort.setTag(INSETS,new Insets(4,0,0,0));
 		chkSynthShort.setState(!pref.garminGPSBabelOptions.equals(""));
-		frmGarmin.borderStyle=CellPanel.BDR_RAISEDOUTER|CellPanel.BDR_SUNKENINNER|CellPanel.BF_TOP;
+		frmGarmin.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_TOP;
 		frmGarmin.setTag(INSETS,new Insets(4,0,0,0));
 		pnlGeneral.addLast(frmGarmin);
 		pnlGeneral.addLast(new mLabel(""));
@@ -126,10 +126,9 @@
 		/////////////////////////////////////////////////////////
 		
 		Frame frmScreen=new Frame();
-		frmScreen.borderStyle=CellPanel.BDR_RAISEDOUTER|CellPanel.BDR_SUNKENINNER;
-		mLabel lblTitle;
+		frmScreen.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER;
 		CellPanel pnlScreen=new CellPanel();
-		pnlScreen.addNext(lblTitle=new mLabel(MyLocale.getMsg(625,"Screen (needs restart):")));
+		pnlScreen.addNext(new mLabel(MyLocale.getMsg(625,"Screen (needs restart):")));
 		pnlScreen.addNext(new mLabel("Font"),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		pnlScreen.addLast(fontSize = new mInput(),CellConstants.DONTSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		fontSize.maxLength=2;
@@ -152,7 +151,7 @@
 		pnlDisplay.addLast(frmScreen,CellConstants.HSTRETCH,CellConstants.FILL);
 		
 		Frame frmImages=new Frame();
-		frmImages.borderStyle=CellPanel.BDR_RAISEDOUTER|CellPanel.BDR_SUNKENINNER|CellPanel.BF_TOP|CellPanel.BF_BOTTOM;
+		frmImages.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_TOP|UIConstants.BF_BOTTOM;
 		//frmImages.addNext(new mLabel(MyLocale.getMsg(623,"Images:")),CellConstants.VSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		frmImages.addLast(chkShowDeletedImg = new mCheckBox(MyLocale.getMsg(624,"Show deleted images")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		chkShowDeletedImg.setTag(INSETS,new Insets(2,0,0,0));
@@ -194,7 +193,7 @@
 		chkProxyActive.setState(pref.proxyActive);
 		pnlMore.addLast(pnlProxy,HSTRETCH,HFILL);
 		pnlMore.addNext(new mLabel(MyLocale.getMsg(592,"Language (needs restart)")),DONTSTRETCH,DONTFILL|WEST);
-		String[] tmp = (new FileBugfix(FileBugfix.getProgramDirectory()+"/languages").list("*.cfg", File.LIST_FILES_ONLY)); //"*.xyz" doesn't work on some systems -> use FileBugFix
+		String[] tmp = (new FileBugfix(FileBase.getProgramDirectory()+"/languages").list("*.cfg", FileBase.LIST_FILES_ONLY)); //"*.xyz" doesn't work on some systems -> use FileBugFix
 		if (tmp == null) tmp = new String[0];
 		String [] langs = new String[tmp.length +1];
 		langs[0] = "auto";
@@ -232,7 +231,7 @@
 				MyLocale.getMsg(636,"OC Empfehlungen"),
 				MyLocale.getMsg(637,"OC Index")},pref.listColMap),MyLocale.getMsg(595,"List"),null);
 
-		Card c=mTab.addCard(tccBugs=new TableColumnChooser(new String[] {
+		mTab.addCard(tccBugs=new TableColumnChooser(new String[] {
 				MyLocale.getMsg(6000,"Guid"),
 				MyLocale.getMsg(6001,"Name"),
 				MyLocale.getMsg(6002,"track#"),
@@ -245,8 +244,6 @@
 				MyLocale.getMsg(6009,"To Wpt"),
 				MyLocale.getMsg(6010,"To Date"),
 				MyLocale.getMsg(6011,"To Log")},pref.travelbugColMap),"T-bugs",null);
-		//c.iconize(new Image("bug.gif"));
-		//this.addLast(scp.getScrollablePanel(), CellConstants.STRETCH, CellConstants.FILL);
 		
 		this.addLast(mTab);
 		addNext(cancelB = new mButton(MyLocale.getMsg(614,"Cancel")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
@@ -304,9 +301,9 @@
 				this.close(0);
 			}
 			if(ev.target == brwBt){
-				FileChooser fc = new FileChooser(FileChooser.DIRECTORY_SELECT, pref.baseDir);
+				FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, pref.baseDir);
 				fc.setTitle(MyLocale.getMsg(616,"Select directory"));
-				if(fc.execute() != FileChooser.IDCANCEL)	DataDir.setText(fc.getChosen()+"/");
+				if(fc.execute() != FormBase.IDCANCEL)	DataDir.setText(fc.getChosen()+"/");
 			}
 			if (ev.target == gpsB){
 				GPSPortOptions spo = new GPSPortOptions();
@@ -318,7 +315,7 @@
 				spo.logGpsChkB.setState(pref.logGPS);
 				spo.inputBoxLogTimer.setText(pref.logGPSTimer);
 				Gui.setOKCancel(s);
-				if (s.execute()== Editor.IDOK) {
+				if (s.execute()== FormBase.IDOK) {
 					pref.mySPO.portName = spo.portName; 
 					pref.mySPO.baudRate = spo.baudRate;
 					pref.forwardGPS = spo.forwardGpsChkB.getState();

Modified: trunk/src/CacheWolf/Profile.java
===================================================================
--- trunk/src/CacheWolf/Profile.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Profile.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,7 +1,6 @@
 package CacheWolf;
 
 import CacheWolf.navi.Area;
-import HTML.Tmpl.Element.If;
 import ewe.io.BufferedWriter;
 import ewe.io.File;
 import ewe.io.FileNotFoundException;
@@ -9,7 +8,6 @@
 import ewe.io.FileWriter;
 import ewe.io.IOException;
 import ewe.io.PrintWriter;
-import ewe.io.Stream;
 import ewe.sys.Convert;
 import ewe.sys.Handle;
 import ewe.sys.Vm;
@@ -455,7 +453,7 @@
 			ch.addiWpts.clear();
 			ch.mainCache = null;
 			// if (ch.wayPoint.startsWith("GC")) // Only put potential master caches into the index
-				dbIndex.put((String)ch.wayPoint, new Integer(i));
+				dbIndex.put(ch.wayPoint, new Integer(i));
 		}
 		// Build references
 		int max = cacheDB.size();

Modified: trunk/src/CacheWolf/ProfileDataForm.java
===================================================================
--- trunk/src/CacheWolf/ProfileDataForm.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/ProfileDataForm.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,12 +2,6 @@
 
 
 import ewe.ui.*;
-import ewe.io.*;
-import ewesoft.xml.*;
-import ewe.util.*;
-import ewe.sys.*;
-import ewe.math.*;
-import ewe.fx.*;
 
 /**
 *	This form displays profile specific data.
@@ -29,7 +23,7 @@
 		
     	resizable =  false;
 		content.setText(MyLocale.getMsg(1115,"Centre"));
-		content.borderStyle=CellPanel.BDR_RAISEDOUTER|CellPanel.BDR_SUNKENINNER|CellPanel.BF_RECT;
+		content.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_RECT;
 	    //defaultTags.set(this.INSETS,new Insets(2,2,2,2));		
 		title = MyLocale.getMsg(1118,"Profile")+": "+profile.name;
 		content.addNext(new mLabel(MyLocale.getMsg(1116,"Current")));
@@ -62,7 +56,7 @@
 			if (ev.target == btnCurrentCentre){
 				CoordsScreen cs = new CoordsScreen();
 				cs.setFields(pref.curCentrePt, CWPoint.CW);
-				if (cs.execute()== CoordsScreen.IDOK){
+				if (cs.execute()== FormBase.IDOK){
 					pref.curCentrePt.set(cs.getCoords());
 					btnCurrentCentre.setText(pref.curCentrePt.toString());
 					Global.getProfile().updateBearingDistance();
@@ -71,7 +65,7 @@
 			if (ev.target == btnProfileCentre){
 				CoordsScreen cs = new CoordsScreen();
 				cs.setFields(profile.centre, CWPoint.CW);
-				if (cs.execute()== CoordsScreen.IDOK){
+				if (cs.execute()== FormBase.IDOK){
 					profile.centre.set(cs.getCoords());
 					btnProfileCentre.setText(profile.centre.toString());
 					profile.hasUnsavedChanges=true;

Modified: trunk/src/CacheWolf/ProfilesForm.java
===================================================================
--- trunk/src/CacheWolf/ProfilesForm.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/ProfilesForm.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -3,10 +3,6 @@
 import utils.FileBugfix;
 import ewe.ui.*;
 import ewe.io.*;
-import ewesoft.xml.*;
-import ewe.util.*;
-import ewe.sys.*;
-import ewe.math.*;
 import ewe.fx.*;
 
 /**
@@ -20,7 +16,6 @@
 	// Maybe there is an easier way of making this happen, but I could not find it.
 	private class MyList extends mList {
 		private int first=1;
-		private mList ml;
 		private int select;
 	    
 		public MyList() {
@@ -91,7 +86,7 @@
 		btnOK.setHotKey(0, IKeys.ENTER);
 		btnCancel.setHotKey(0, IKeys.ESCAPE);
 		this.baseDir=baseDir;
-		choice.takeFocus(Control.ByKeyboard);
+		choice.takeFocus(ControlConstants.ByKeyboard);
 	}
 	
 	/**

Modified: trunk/src/CacheWolf/RadarPanel.java
===================================================================
--- trunk/src/CacheWolf/RadarPanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/RadarPanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,7 +2,6 @@
 import ewe.ui.*;
 import ewe.util.*;
 import ewe.fx.*;
-import ewe.sys.*;
 import ewe.graphics.*;
 
 /**
@@ -56,11 +55,11 @@
 		selectedWaypoint = sWp;
 		pref = p;
 		cacheDB = db;
-		height = (int)(pref.myAppHeight)*6/5; // add 10% each at top/bottom 
+		height = (pref.myAppHeight)*6/5; // add 10% each at top/bottom 
 		//height = (int)height * 2;
 		////Vm.debug("Height: " + Convert.toString(height));
 		////Vm.debug("App Height: " + Convert.toString(pref.myAppHeight));
-		width = (int)(pref.myAppWidth)*6/5;
+		width = (pref.myAppWidth)*6/5;
 		//width = (int)width * 2;
 	}
 	
@@ -181,18 +180,18 @@
 		} else {
 			scale = (double)scaleKm / (double)width;
 		}
-		centerX = (int)(width / 2);
-		centerY = (int)(height / 2);
+		centerX = (width / 2);
+		centerY = (height / 2);
 		//centerY = (int)(centerY-centerY*0.15);
 		g.setColor(new Color(0,255,0));
 		int radstep= 0, steps=0, radius = 0;
 		
 		if(width > height){
 			radstep = (int)(10 / scale);
-			steps = (int)(width / radstep);
+			steps = (width / radstep);
 		}else{
 			radstep = (int)(10 / scale);
-			steps = (int)(height / radstep);
+			steps = (height / radstep);
 		}
 		for(int i = 1; i <= steps; i++){
 			radius = (radstep * i)*2;
@@ -212,7 +211,7 @@
 		AniImage aImg = new AniImage(img);
 		//iActP.addImage(aImg);
 		iActP.backgroundImage = img;
-		int xPos = (int)(pref.myAppWidth/2 - width/2);
+		int xPos = (pref.myAppWidth/2 - width/2);
 		aImg.setLocation(xPos,0);
 		aImg.refresh();
 	}

Modified: trunk/src/CacheWolf/Rebuild.java
===================================================================
--- trunk/src/CacheWolf/Rebuild.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Rebuild.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,6 +2,7 @@
 
 import ewe.io.FileReader;
 import ewe.sys.Handle;
+import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
 import ewe.ui.ProgressBarForm;
 import utils.FileBugfix;
@@ -56,13 +57,13 @@
 			(new MessageBox(MyLocale.getMsg(327, "Information"), 
 					  MyLocale.getMsg(210,"Caches nicht in index.xml: ")+orphans+
 					  MyLocale.getMsg(211,"\nDavon hinzugef?gt: ")+nAdded
-					, MessageBox.OKB)).execute();
+					, FormBase.OKB)).execute();
 			prof.buildReferences();
 			prof.saveIndex(Global.getPref(),true);
 		}
 		if (orphans!=nAdded && (new MessageBox(MyLocale.getMsg(327, "Information"),
 					MyLocale.getMsg(212,"Delete all .xml files not in index.xml and associated pictures"), 
-					MessageBox.YESB | MessageBox.NOB)).execute()==MessageBox.YESB) {
+					FormBase.YESB | FormBase.NOB)).execute()==FormBase.YESB) {
 			h = new Handle();
 			pbf.setTask(h,MyLocale.getMsg(213,"Deleting orphans"));
 			DataMover dm=new DataMover();

Modified: trunk/src/CacheWolf/Reducer.java
===================================================================
--- trunk/src/CacheWolf/Reducer.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Reducer.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,5 @@
 package CacheWolf;
 import ewe.util.*;
-import ewe.sys.*;
 
 /**
 *	Class to reduce a string to its main components,

Modified: trunk/src/CacheWolf/STRreplace.java
===================================================================
--- trunk/src/CacheWolf/STRreplace.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/STRreplace.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,7 +1,5 @@
 package CacheWolf;
 
-import ewe.sys.Vm;
-
 public class STRreplace{
 		/* Replace all instances of a String in a String.
 		 *   @param  s  String to alter.

Modified: trunk/src/CacheWolf/SafeXML.java
===================================================================
--- trunk/src/CacheWolf/SafeXML.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/SafeXML.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -7,7 +7,6 @@
 */
 
 import ewe.util.Hashtable;
-import ewe.sys.*;
 
 public class SafeXML{
 	private static final char ENTITY_START = '&';

Modified: trunk/src/CacheWolf/SearchCache.java
===================================================================
--- trunk/src/CacheWolf/SearchCache.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/SearchCache.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,5 @@
 package CacheWolf;
 import ewe.util.*;
-import ewe.sys.*;
 
 /**
 *	A class to perform a search on the cache database.

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,20 +2,17 @@
 import com.stevesoft.ewe_pat.Regex;
 
 import ewe.io.BufferedWriter;
-import ewe.io.File;
+import ewe.io.FileBase;
 import ewe.io.FileWriter;
-import ewe.io.IOException;
 import ewe.io.PrintWriter;
 import ewe.sys.Convert;
 import ewe.sys.Vm;
-import ewe.ui.InputBox;
 import ewe.util.*;
-import ewe.util.Hashtable;
 import HTML.Template;
 
 
 public class ShowCacheInBrowser {
-	String pd=File.getProgramDirectory();
+	String pd=FileBase.getProgramDirectory();
 	String saveTo=pd+"/temp.html";
 	static Hashtable diff=null;
 	static Hashtable terr=null;
@@ -65,9 +62,9 @@
 				Vm.showWait(true);
 				try {
 					if (chD.wayPoint.startsWith("OC"))
-						tpl.setParam("TYPE", "\"file://"+File.getProgramDirectory()+"/"+CacheType.transOCType(chD.type)+".gif\"");
+						tpl.setParam("TYPE", "\"file://"+FileBase.getProgramDirectory()+"/"+CacheType.transOCType(chD.type)+".gif\"");
 					else	
-						tpl.setParam("TYPE", "\"file://"+File.getProgramDirectory()+"/"+chD.type+".gif\"");
+						tpl.setParam("TYPE", "\"file://"+FileBase.getProgramDirectory()+"/"+chD.type+".gif\"");
 					tpl.setParam("SIZE", chD.CacheSize);
 					tpl.setParam("WAYPOINT", chD.wayPoint);
 					tpl.setParam("CACHE_NAME", chD.CacheName);

Modified: trunk/src/CacheWolf/SolverPanel.java
===================================================================
--- trunk/src/CacheWolf/SolverPanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/SolverPanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -3,10 +3,8 @@
 
 import ewe.ui.*;
 import ewe.io.*;
-import ewe.filechooser.FileChooser;
 import ewe.fx.*;
 import ewe.util.*;
-import ewe.sys.*;
 
 /**
 * Class to create the solver panel. Calls the parser and tokeniser and handles
@@ -46,7 +44,7 @@
 	private class OutputPanel extends mTextPad {
 		MenuItem mnuClr;
 		OutputPanel() {
-			this.modify(Control.NotEditable,0);
+			this.modify(ControlConstants.NotEditable,0);
 			//this.modifiers=this.modifiers|WantHoldDown; 
 			setMenu(mnuContext=getClipboardMenu(new Menu(new MenuItem[]{ mnuClr=new MenuItem(MyLocale.getMsg(1734,"Clear output")) },"")));
 		} 
@@ -141,7 +139,7 @@
 				processCommand(mText.getText());
 			}
 			if (ev.target==btnWolfLang) {
-				InfoScreen is = new InfoScreen(File.getProgramDirectory() + "/" + "wolflang.html", MyLocale.getMsg(118,"WolfLanguage"), true, pref);
+				InfoScreen is = new InfoScreen(FileBase.getProgramDirectory() + "/" + "wolflang.html", MyLocale.getMsg(118,"WolfLanguage"), true, pref);
 				is.execute(parent.getFrame(), Gui.CENTER_FRAME);
 			}
 			if (ev.target==btnDegRad) {

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -80,7 +80,7 @@
 	 */
 	public int login(){
 		loggedIn = false;
-		String start,doc,loginPage,loginSuccess,nextPage;
+		String start,loginPage,loginSuccess,nextPage;
 		try {
 			loginPage=p.getProp("loginPage");
 			loginSuccess=p.getProp("loginSuccess");
@@ -95,7 +95,7 @@
 		int code = infB.execute();
 		passwort = infB.getInput();
 		infB.close(0);
-		if(code != Form.IDOK) return code;
+		if(code != FormBase.IDOK) return code;
 
 		// Now start the login proper
 		infB = new InfoBox(MyLocale.getMsg(5507,"Status"), MyLocale.getMsg(5508,"Logging in..."));
@@ -106,7 +106,7 @@
 			start = fetch(loginPage);   //http://www.geocaching.com/login/Default.aspx
 		} catch(Exception ex){
 			infB.close(0);
-			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5499,"Error loading login page"), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5499,"Error loading login page"), FormBase.OKB)).execute();
 			pref.log("[login]:Could not fetch: gc.com login page",ex);
 			passwort="";
 			return ERR_LOGIN;
@@ -157,13 +157,13 @@
 							pref.log("[login.Answer]:"+start);
 						}
 						infB.close(0);
-						(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed! Wrong account or password?"), MessageBox.OKB)).execute();
+						(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed! Wrong account or password?"), FormBase.OKB)).execute();
 						return ERR_LOGIN;
 					}
 				}catch(Exception ex){
 					pref.log("[login]:Login failed with exception.", ex);
 					infB.close(0);
-					(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed. Error loading page after login."), MessageBox.OKB)).execute();
+					(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed. Error loading page after login."), FormBase.OKB)).execute();
 					return ERR_LOGIN;
 				}
 			}
@@ -190,10 +190,10 @@
 		boolean loginAborted=infB.isClosed;
 		infB.close(0);
 		if (loginAborted)
-			return Form.IDCANCEL;
+			return FormBase.IDCANCEL;
 		else {
 			loggedIn = true;
-			return Form.IDOK;
+			return FormBase.IDOK;
 		}
 	}
 
@@ -210,7 +210,7 @@
 
 		// check if we need to login
 		if (!loggedIn){
-			if (this.login()!=Form.IDOK) return false;
+			if (this.login()!=FormBase.IDOK) return false;
 			// loggedIn is already set by this.login()
 		}
 		CacheHolderDetail chD=ch.getCacheDetails(true); //new CacheHolderDetail(ch);
@@ -245,7 +245,7 @@
 		// Check whether spider definitions could be loaded, if not issue appropriate message and terminate
 		// Try to login. If login fails, issue appropriate message and terminate
 		if (!loggedIn || Global.getPref().forceLogin) {
-			if (login()!=Form.IDOK) {
+			if (login()!=FormBase.IDOK) {
 				return "";
 			}
 		}
@@ -277,7 +277,7 @@
 		CacheHolderDetail chD;
 		CWPoint origin = pref.curCentrePt; // No need to copy curCentrePt as it is only read and not written
 		if (!origin.isValid()) {
-			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5509,"Coordinates for centre must be set"), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5509,"Coordinates for centre must be set"), FormBase.OKB)).execute();
 			return;
 		}
 		if (System.getProperty("os.name")!=null)pref.log("Operating system: "+System.getProperty("os.name")+"/"+System.getProperty("os.arch"));
@@ -288,7 +288,7 @@
 		//index the database for faster searching!
 		for(int i = 0; i<cacheDB.size();i++){
 			ch = (CacheHolder)cacheDB.get(i);
-			indexDB.put((String)ch.wayPoint, new Integer(i));
+			indexDB.put(ch.wayPoint, new Integer(i));
 			ch.is_new = false;
 		}
 		String start = "";
@@ -297,11 +297,11 @@
 		String doc = "";
 
 		if (!loggedIn || Global.getPref().forceLogin) {
-			if(login() != Form.IDOK) return;
+			if(login() != FormBase.IDOK) return;
 		}
 
 		OCXMLImporterScreen options = new OCXMLImporterScreen(MyLocale.getMsg(5510,"Spider Options"),	OCXMLImporterScreen.INCLUDEFOUND | OCXMLImporterScreen.DIST| OCXMLImporterScreen.IMAGES| OCXMLImporterScreen.ISGC);
-		if (options.execute() == OCXMLImporterScreen.IDCANCEL) {return; }
+		if (options.execute() == FormBase.IDCANCEL) {return; }
 		String dist = options.distanceInput.getText();
 		if (dist.length()== 0) return;
 		distance = Common.parseDouble(dist);
@@ -333,7 +333,7 @@
 			pref.log("Error fetching first list page",ex,true);
 			Vm.showWait(false);
 			infB.close(0);
-			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5503,"Error fetching first list page."), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5503,"Error fetching first list page."), FormBase.OKB)).execute();
 			return;
 		}
 		dummy = "";
@@ -1206,7 +1206,7 @@
 	*	This method does exactly that. Actually this method is generic in the sense
 	*	that it can be used to post to a URL using http post.
 	*/
-	private static String fetch_post(String address, String document, String path) throws IOException {
+	private static String fetch_post(String address, String document, String path) {
 		HttpConnection conn;
 		try {
 			conn = new HttpConnection(address);
@@ -1292,11 +1292,11 @@
 		}
 		try {
 			if (bugList.equals("") || bugList.indexOf(p.getProp("bugNotFound"))>=0) {
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), FormBase.OKB)).execute();
 				return "";
 			}
 			if (bugList.indexOf(p.getProp("bugTotalRecords"))<0) {
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6021,"More than one travelbug found. Specify name more precisely."), MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6021,"More than one travelbug found. Specify name more precisely."), FormBase.OKB)).execute();
 				return "";
 			}
 			Extractor exGuid = new Extractor(bugList,p.getProp("bugGuidExStart"),p.getProp("bugGuidExEnd"),0,Extractor.EXCLUDESTARTEND); // TODO Replace with spider.def
@@ -1327,7 +1327,7 @@
 		}
 		try {
 			if (bugDetails.indexOf(p.getProp("bugNotFound"))>=0) {
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), FormBase.OKB)).execute();
 				return "";
 			}
 			Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
@@ -1397,16 +1397,16 @@
 		myProperties() {
 			super();
 			try {
-				load(new FileInputStream(File.getProgramDirectory()+"/spider.def"));
+				load(new FileInputStream(FileBase.getProgramDirectory()+"/spider.def"));
 			} catch (Exception ex) {
 				pref.log("Failed to load spider.def",ex);
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5504,"Could not load 'spider.def'"), MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5504,"Could not load 'spider.def'"), FormBase.OKB)).execute();
 			}
 		}
 		public String getProp(String key) throws Exception {
 			String s=super.getProperty(key);
 			if (s==null) {
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5497,"Error missing tag in spider.def") + ": "+key, MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5497,"Error missing tag in spider.def") + ": "+key, FormBase.OKB)).execute();
 				throw new Exception("Missing tag in spider.def: "+key);
 			}
 			return s;

Modified: trunk/src/CacheWolf/StatusBar.java
===================================================================
--- trunk/src/CacheWolf/StatusBar.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/StatusBar.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -89,7 +89,7 @@
 			if (ev.target == btnCacheTour){
 				Global.mainForm.toggleCacheListVisible();			
 			}
-			Gui.takeFocus(Global.mainTab.tbP.tc, Control.ByKeyboard);
+			Gui.takeFocus(Global.mainTab.tbP.tc, ControlConstants.ByKeyboard);
 		}
 		super.onEvent(ev);
 	}

Modified: trunk/src/CacheWolf/TableColumnChooser.java
===================================================================
--- trunk/src/CacheWolf/TableColumnChooser.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/TableColumnChooser.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,10 +1,6 @@
 package CacheWolf;
 
 import ewe.fx.*;
-import ewe.sys.Convert;
-import ewe.sys.VMApp;
-import ewe.sys.VMApps;
-import ewe.sys.Vm;
 import ewe.ui.*;
 import ewe.util.*;
 
@@ -27,7 +23,7 @@
         addNext(new mLabel(""));
         addLast(new mLabel(MyLocale.getMsg(6051,"Don't show column")));
         
-        addNext(new MyScrollBarPanel(lstShown=new myList(6,shownCols),ScrollBarPanel.AlwaysShowVerticalScrollers));
+        addNext(new MyScrollBarPanel(lstShown=new myList(6,shownCols),ScrollablePanel.AlwaysShowVerticalScrollers));
         CellPanel cpMid=new CellPanel();
         cpMid.addLast(new mLabel(""));
         mImage imgRight=new mImage("ewe/rightarrowsmall.bmp");imgRight.transparentColor=Color.White;
@@ -37,7 +33,7 @@
         cpMid.addLast(btnLeft=new mButton(imgLeft));
         cpMid.addLast(new mLabel(""));
         addNext(cpMid,VSTRETCH,VFILL);
-        addLast(new MyScrollBarPanel(lstHidden=new myList(6,hiddenCols),ScrollBarPanel.AlwaysShowVerticalScrollers));
+        addLast(new MyScrollBarPanel(lstHidden=new myList(6,hiddenCols),ScrollablePanel.AlwaysShowVerticalScrollers));
         
         CellPanel pnlButtons=new CellPanel();
 		mImage imgDown=new mImage("ewe/downarrowsmall.bmp"); imgDown.transparentColor=Color.White;
@@ -175,7 +171,7 @@
 			 if(srcIdx<0) return;
 	    	 String colToMove=(String) items.elementAt(srcIdx);
 	    	 items.del(srcIdx);
-	    	 ((myList)dst).items.add(colToMove);
+	    	 dst.items.add(colToMove);
 	    	 repaint();
 	    	 dst.repaint();
 	    	 if (srcIdx>=items.size()) select(items.size()-1);

Modified: trunk/src/CacheWolf/TableForm.java
===================================================================
--- trunk/src/CacheWolf/TableForm.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/TableForm.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,9 +1,6 @@
 package CacheWolf;
 
 import ewe.ui.CellConstants;
-import ewe.ui.CellPanel;
-import ewe.ui.Control;
-import ewe.ui.ControlEvent;
 import ewe.ui.Editor;
 
 public class TableForm extends Editor {

Modified: trunk/src/CacheWolf/TablePanel.java
===================================================================
--- trunk/src/CacheWolf/TablePanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/TablePanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,7 +2,6 @@
 
 import ewe.ui.*;
 import ewe.util.*;
-import ewe.sys.*;
 import ewe.fx.*;
 
 /**

Modified: trunk/src/CacheWolf/Test.java
===================================================================
--- trunk/src/CacheWolf/Test.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Test.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -28,12 +28,10 @@
 	void testPerformance(){
 		Time start, end;
 		int i;
-		double tmp;
-		
 		// 100.000 Sinus
 		start = new Time();
 		for (i=0; i<100000; i++){
-			tmp = Math.sin(53);
+			Math.sin(53);
 		}
 		end = new Time();
 		printResult("sin(53)", start, end, i);
@@ -41,7 +39,7 @@
 		// 1.000 CWPoint via constructor
 		start = new Time();
 		for (i=0; i<100; i++){
-			CWPoint cwP = new CWPoint("N 51? 27.635 E 009? 37.621", CWPoint.CW);
+			new CWPoint("N 51? 27.635 E 009? 37.621", CWPoint.CW);
 		}
 		end = new Time();
 		printResult("CWPoint(\"N 51? 27.635 E 009? 37.621\", CWPoint.CW)", start, end, i);

Modified: trunk/src/CacheWolf/TravelbugJourneyScreen.java
===================================================================
--- trunk/src/CacheWolf/TravelbugJourneyScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/TravelbugJourneyScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -77,7 +77,7 @@
 		title="Travelbugs"+cache;
 		tcTbJourneyList=new tbListControl();
 		tcTbJourneyList.setTableModel(modTbJourneyList=new tbListTableModel());
-		tablepane.addLast(new MyScrollBarPanel(tcTbJourneyList,ScrollBarPanel.AlwaysShowVerticalScrollers),STRETCH,FILL);
+		tablepane.addLast(new MyScrollBarPanel(tcTbJourneyList,ScrollablePanel.AlwaysShowVerticalScrollers),STRETCH,FILL);
 	
 		lowerpane = split.getNextPanel();
 		
@@ -200,9 +200,9 @@
 			tcTbJourneyList.repaint();
 		}
 		if (ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED && selectedRow!=-1){
-			if (ev.target==inpTrackingNo) {pnlTab.selectNextTab(true,true); Gui.takeFocus(inpFromProfile,Control.ByKeyboard);pnlTab.repaint(); }
-			if (ev.target==inpFromDate) Gui.takeFocus(chkFromLogged,Control.ByKeyboard);
-			if (ev.target==inpToDate) Gui.takeFocus(chkToLogged,Control.ByKeyboard);
+			if (ev.target==inpTrackingNo) {pnlTab.selectNextTab(true,true); Gui.takeFocus(inpFromProfile,ControlConstants.ByKeyboard);pnlTab.repaint(); }
+			if (ev.target==inpFromDate) Gui.takeFocus(chkFromLogged,ControlConstants.ByKeyboard);
+			if (ev.target==inpToDate) Gui.takeFocus(chkToLogged,ControlConstants.ByKeyboard);
 			if (ev.target==btnFromDate || ev.target==btnToDate) {
 				mInput inpDate=ev.target==btnFromDate ? inpFromDate : inpToDate;
 				DateTimeChooser dc=new DateTimeChooser(Vm.getLocale());
@@ -222,18 +222,18 @@
 				  inpDate.setText(Convert.toString(dc.year)+"-"+MyLocale.formatLong(dc.month,"00")+"-"+MyLocale.formatLong(dc.day,"00")+" "+dc.time);
 				  if (ev.target==btnFromDate){ 
 					  tblMyTravelbugJourneys.getTBJourney(selectedRow).setFromDate(inpDate.getText());
-					  Gui.takeFocus(chkFromLogged,Control.ByKeyboard);
+					  Gui.takeFocus(chkFromLogged,ControlConstants.ByKeyboard);
 				  } else {
 					  tblMyTravelbugJourneys.getTBJourney(selectedRow).setToDate(inpDate.getText());
-					  Gui.takeFocus(chkToLogged,Control.ByKeyboard);
+					  Gui.takeFocus(chkToLogged,ControlConstants.ByKeyboard);
 				  } tcTbJourneyList.repaint();
 				}				
 			}
 		}
 		if(ev instanceof ControlEvent && ev.type == ControlEvent.EXITED){
 			pnlTab.selectNextTab(true,true); 
-			if (ev.target==chkFromLogged) Gui.takeFocus(inpToProfile,Control.ByKeyboard);
-			if (ev.target==chkToLogged) Gui.takeFocus(txtMission,Control.ByKeyboard);
+			if (ev.target==chkFromLogged) Gui.takeFocus(inpToProfile,ControlConstants.ByKeyboard);
+			if (ev.target==chkToLogged) Gui.takeFocus(txtMission,ControlConstants.ByKeyboard);
 		}
 		// The user closed the travelbugs screen
 		if (ev instanceof FormEvent && ev.type==FormEvent.CLOSED  && chD!=null) {
@@ -300,7 +300,7 @@
 				if (map!=7 && map!=11) 
 					return new IconAndText((IImage)imgRed,(String) tblMyTravelbugJourneys.getTBJourney(row).getElementByNumber(map),fm);
 				else { // Checkbox - special treatment
-					IconAndText iat=new IconAndText((IImage)imgRed,"",fm);
+					IconAndText iat=new IconAndText(imgRed,"",fm);
 					iat.addColumn(tblMyTravelbugJourneys.getTBJourney(row).getElementByNumber(map));
 					return iat;
 				}
@@ -604,11 +604,10 @@
 	
 	
 	public void cursorTo(int row,int col,boolean selectNew) {
-		TravelbugJourney tbj;
 		super.cursorTo(row,col,selectNew);
 		selectedRow=row;
 		if (row>=0) { 
-			modTbJourneyList.showFields(tbj=tblMyTravelbugJourneys.getTBJourney(row));
+			modTbJourneyList.showFields(tblMyTravelbugJourneys.getTBJourney(row));
 		} else {
 			modTbJourneyList.showFields(new TravelbugJourney(""));
 		}

Modified: trunk/src/CacheWolf/TravelbugScreen.java
===================================================================
--- trunk/src/CacheWolf/TravelbugScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/TravelbugScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -22,7 +22,7 @@
 		this.setTitle(title);
 		this.setPreferredSize(240, -1);
 		disp=new myList(tbl,allowNew);
-		ScrollBarPanel sbp = new MyScrollBarPanel(disp, ScrollBarPanel.NeverShowHorizontalScrollers);
+		ScrollBarPanel sbp = new MyScrollBarPanel(disp, ScrollablePanel.NeverShowHorizontalScrollers);
 		this.addLast(sbp);
 		this.addNext(btCancel = new mButton(MyLocale.getMsg(614,"Cancel")),CellConstants.DONTSTRETCH, CellConstants.FILL);
 		this.addLast(btAccept = new mButton("OK"),CellConstants.DONTSTRETCH, CellConstants.FILL);
@@ -30,7 +30,7 @@
 	}
 
 	public void onEvent(Event ev){
-        if (ev instanceof ListEvent && ev.type==ListEvent.SELECTED) {
+        if (ev instanceof ListEvent && ev.type==MenuEvent.SELECTED) {
         	btAccept.modify(0,Disabled);
         	btAccept.repaint();
         }

Modified: trunk/src/CacheWolf/UrlFetcher.java
===================================================================
--- trunk/src/CacheWolf/UrlFetcher.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/UrlFetcher.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,8 +1,5 @@
 package CacheWolf;
 
-import com.stevesoft.ewe_pat.wrap.CharArrayBufferWrap;
-
-import ewe.data.PropertyList;
 import ewe.io.ByteArrayInputStream;
 import ewe.io.IOException;
 import ewe.io.JavaUtf8Codec;

Modified: trunk/src/CacheWolf/Version.java
===================================================================
--- trunk/src/CacheWolf/Version.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/Version.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,9 +2,6 @@
 package CacheWolf;
 
 import com.stevesoft.ewe_pat.Regex;
-import ewe.net.*;
-import ewe.data.Property;
-import ewe.data.PropertyList;
 import ewe.io.*;
 import ewe.util.*;
 import ewe.sys.*;

Modified: trunk/src/CacheWolf/imp/KMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/KMLImporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/imp/KMLImporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -5,7 +5,6 @@
 import ewesoft.xml.sax.*;
 import ewe.io.*;
 import ewe.sys.*;
-import CacheWolf.Extractor;
 import CacheWolf.CWPoint;
 
 /**

Modified: trunk/src/CacheWolf/myInteractivePanel.java
===================================================================
--- trunk/src/CacheWolf/myInteractivePanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/myInteractivePanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -37,7 +37,7 @@
 		long timePenOff=Vm.getTimeStampLong();
 		// If the pen rested more than 500 msec, we only display the info and don't treat it as a click
 		if (timePenOff-timePenOn<500 || !Vm.isMobile()) { 
-			String fn = new String();
+			new String();
 			if(which instanceof RadarPanelImage){
 				RadarPanelImage ich = (RadarPanelImage)which;
 				Global.mainTab.clearDetails();				
@@ -110,7 +110,7 @@
 			 //wayPoint=ch.wayPoint;
 			 //Vm.debug("Waypoint : "+ch.wayPoint);
 			 IconAndText icnDrag=new IconAndText();
-			 icnDrag.addColumn((IImage) CacheType.cache2Img(ch.type));
+			 icnDrag.addColumn(CacheType.cache2Img(ch.type));
 			 icnDrag.addColumn(ch.wayPoint);
 			 dc.dragData=dc.startImageDrag(icnDrag,new Point(8,8),this);
 			 //if (dc instanceof ImageDragContext) Vm.debug(">>>>Is Image drag");
@@ -146,7 +146,7 @@
 			g.drawText(wayPoint, 15,1);
 			g.drawImage(which.image,0,0);
 			dragImage=new AniImage(img);
-			dragImage.properties|=AniImage.IsMoveable;
+			dragImage.properties|=mImage.IsMoveable;
 			dragImage.setLocation(pos.x,pos.y);
 		}
 		return super.imageBeginDragged(dragImage,pos);

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/myTableControl.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -127,7 +127,7 @@
 				if ( ((CacheHolder)cacheDB.get(i)).is_Checked) count++;
 			}
 			if (count>0) {
-				if ((new MessageBox(MyLocale.getMsg(144,"Warnung"),MyLocale.getMsg(1022, "Delete all caches that have a tick?"), MessageBox.YESB | MessageBox.NOB)).execute() != Form.IDYES) return;
+				if ((new MessageBox(MyLocale.getMsg(144,"Warnung"),MyLocale.getMsg(1022, "Delete all caches that have a tick?"), FormBase.YESB | FormBase.NOB)).execute() != FormBase.IDYES) return;
 				DataMover dm=new DataMover();
 				myProgressBarForm pbf = new myProgressBarForm();
 				Handle h = new Handle();
@@ -159,7 +159,7 @@
 			CacheHolder thisCache = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
 			CWPoint cp=new CWPoint(thisCache.LatLon);
 			if (!cp.isValid()){
-				MessageBox tmpMB = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4111,"Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM"), MessageBox.OKB);
+				MessageBox tmpMB = new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4111,"Coordinates must be entered in the format N DD MM.MMM E DDD MM.MMM"), FormBase.OKB);
 				tmpMB.execute();
 			} else {				
 				pref.curCentrePt.set(cp);
@@ -181,7 +181,7 @@
 					CWWrapper.exec(pref.browser, chD.URL); // maybe this works on some PDAs?
 				}
 			} catch (IOException ex) {
-				(new MessageBox("Error", "Cannot start browser!\n"+ex.toString()+"\nThe are two possible reasons:\n * path to internet browser in \npreferences not correct\n * An bug in ewe VM, please be \npatient for an update",MessageBox.OKB)).execute();
+				(new MessageBox("Error", "Cannot start browser!\n"+ex.toString()+"\nThe are two possible reasons:\n * path to internet browser in \npreferences not correct\n * An bug in ewe VM, please be \npatient for an update",FormBase.OKB)).execute();
 			}
 		}
 		if (selectedItem.toString().equalsIgnoreCase(MyLocale.getMsg(1018,"Open in browser offline"))) {
@@ -227,7 +227,7 @@
 			 wayPoint=ch.wayPoint;
 			 //Vm.debug("Waypoint : "+ch.wayPoint);
 			 imgDrag=new IconAndText();
-			 imgDrag.addColumn((IImage) CacheType.cache2Img(ch.type));
+			 imgDrag.addColumn(CacheType.cache2Img(ch.type));
 			 imgDrag.addColumn(ch.wayPoint);
 			 dc.dragData=dc.startImageDrag(imgDrag,new Point(8,8),this);
 		 } else super.startDragging(dc);

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/myTableModel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -3,11 +3,9 @@
 import ewe.ui.*;
 import ewe.sys.*;
 import ewe.util.*;
-import java.lang.*;
 import ewe.fx.*;
-import ewe.reflect.*;
-import ewe.graphics.*;
 
+
 /**
 *	Table model used to display the cache list.
 * 	Used by the table control in the first panel of
@@ -221,7 +219,7 @@
 						else 
 							return checkboxUnticked;
 					case 1: // Type
-						return (IImage) CacheType.cache2Img(ch.type);
+						return CacheType.cache2Img(ch.type);
 					case 2: // Difficulty;
 						return ch.hard;
 					case 3: // Terrain

Modified: trunk/src/CacheWolf/navi/Area.java
===================================================================
--- trunk/src/CacheWolf/navi/Area.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/Area.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,5 @@
 package CacheWolf.navi;
 
-import ewe.util.CharArray;
 import CacheWolf.CWPoint;
 
 public class Area {
@@ -111,13 +110,13 @@
 	 public static String getEasyFindString(CWPoint p, int prec) {
 		 double longinrange = p.lonDec;
 		 if (longinrange > 180) longinrange -= 180;
-		 Double kw = new Double(((p.latDec+90)/180) * (double) (1 << (prec)));
-		 int lat = new Double(((p.latDec+90)/180) * (double) (1 << (prec))).intValue(); // TODO handle negative values
+		 Double kw = new Double(((p.latDec+90)/180) * (1 << (prec)));
+		 int lat = new Double(((p.latDec+90)/180) * (1 << (prec))).intValue(); // TODO handle negative values
 		 lat = kw.intValue();
 		 //kw = (double) (1 << (prec));
 		 
 		 kw = new Double(((longinrange+180)/360) * (2 ^ (prec -1)));
-		 int lon = new Double(((longinrange+180)/360) * (double) (1 << (prec))).intValue(); // 180 = 10110100
+		 int lon = new Double(((longinrange+180)/360) * (1 << (prec))).intValue(); // 180 = 10110100
 		 String ret = "";
 		 int tmp;
 		 for (int i=prec-1; i>=0;  i--) {

Modified: trunk/src/CacheWolf/navi/CWGPSPoint.java
===================================================================
--- trunk/src/CacheWolf/navi/CWGPSPoint.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/CWGPSPoint.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -10,7 +10,6 @@
 import CacheWolf.Extractor;
 import CacheWolf.Global;
 import ewe.sys.*;
-import ewe.ui.ExecTransfer;
 import ewe.io.*;
 
 

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,7 +2,6 @@
 
 import CacheWolf.CWPoint;
 import CacheWolf.CacheHolder;
-import CacheWolf.CacheType;
 import CacheWolf.CoordsScreen;
 import CacheWolf.DetailsPanel;
 import CacheWolf.Global;
@@ -12,11 +11,8 @@
 import CacheWolf.Profile;
 import ewe.ui.*;
 import ewe.util.Vector;
-import ewe.util.mString;
 import ewe.fx.*;
 import ewe.graphics.AniImage;
-import ewe.io.*;
-import ewe.net.Socket;
 //import ewe.io.IOException;
 //import ewe.io.SerialPort;
 //import ewe.io.SerialPortOptions;
@@ -120,14 +116,14 @@
 		CoordsP.addNext(lblGPS = new mLabel("GPS: "),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		lblGPS.backGround = RED;
 		lblGPS.setMenu(mnuContextFormt);
-		lblGPS.modifyAll(Control.WantHoldDown, 0);
+		lblGPS.modifyAll(ControlConstants.WantHoldDown, 0);
 		CoordsP.addLast(lblPosition = new mLabel(myNavigation.gpsPos.toString(currFormat)),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		lblPosition.setMenu(mnuContextFormt);
-		lblPosition.modifyAll(Control.WantHoldDown, 0);
+		lblPosition.modifyAll(ControlConstants.WantHoldDown, 0);
 		CoordsP.addNext(lblDST = new mLabel(MyLocale.getMsg(1500,"DST:")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		lblDST.backGround = new Color(0,0,255);
 		lblDST.setMenu(mnuContextFormt);
-		lblDST.modifyAll(Control.WantHoldDown, 0);
+		lblDST.modifyAll(ControlConstants.WantHoldDown, 0);
 		CoordsP.addLast(btnGoto = new mButton(getGotoBtnText()),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		
 		//Rose for bearing
@@ -135,7 +131,7 @@
 		compassRose = new GotoRose();
 		icRose = new ImageControl(compassRose);
 		icRose.setMenu(mnuContextRose);
-		icRose.modifyAll(Control.WantHoldDown, 0); // this is necessary in order to make PenHold on a PDA work as right click
+		icRose.modifyAll(ControlConstants.WantHoldDown, 0); // this is necessary in order to make PenHold on a PDA work as right click
 		roseP.addLast(icRose,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.NORTH));
 		
 		mnuContextRose.addItem(new MenuItem("", MenuItem.Separator, null));
@@ -184,8 +180,8 @@
 		int roseHeight = height - coordsRect.y - coordsRect.height;
 		if (Gui.screenIs(Gui.PDA_SCREEN) && Vm.isMobile()) {
 			//some space for the SIP button
-			if ( (Vm.getParameter(Vm.VM_FLAGS) & (Vm.VM_FLAG_SIP_BUTTON_ON_SCREEN)) == (Vm.VM_FLAG_SIP_BUTTON_ON_SCREEN) ){
-				Rect screen = (Rect)Window.getGuiInfo(Window.INFO_SCREEN_RECT,null,new Rect(),0);
+			if ( (Vm.getParameter(VmConstants.VM_FLAGS) & (VmConstants.VM_FLAG_SIP_BUTTON_ON_SCREEN)) == (VmConstants.VM_FLAG_SIP_BUTTON_ON_SCREEN) ){
+				Rect screen = (Rect)Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new Rect(),0);
 				roseHeight -= screen.height / 14;				
 			}
 		}
@@ -201,7 +197,7 @@
 	 */ 
 	public void setDestination(CWPoint dest){
 		myNavigation.setDestination(dest);
-		if (!myNavigation.destination.isValid()) (new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(1507,"Coordinates are out of range:") +"\n"+MyLocale.getMsg(1508,"latitude")+": "+myNavigation.destination.latDec+"\n "+MyLocale.getMsg(1509,"longditue")+": "+myNavigation.destination.lonDec, MessageBox.OKB)).execute();
+		if (!myNavigation.destination.isValid()) (new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(1507,"Coordinates are out of range:") +"\n"+MyLocale.getMsg(1508,"latitude")+": "+myNavigation.destination.latDec+"\n "+MyLocale.getMsg(1509,"longditue")+": "+myNavigation.destination.lonDec, FormBase.OKB)).execute();
 		
 	}
 	
@@ -261,13 +257,13 @@
 		}
 		// receiving no data
 		if (fix == -1) {
-			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1510, "No data from GPS\nConnection to serial port closed"),MessageBox.OKB)).exec();
+			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1510, "No data from GPS\nConnection to serial port closed"),FormBase.OKB)).exec();
 			gpsStatus = RED;
 			myNavigation.stopGps();
 		}
 		// cannot interprete data
 		if (fix == -2) {
-			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1511, "Cannot interpret data from GPS\n possible reasons:\n wrong Port,\n wrong Baudrate,\n not NMEA-Protocol\nConnection to serial port closed\nLast String tried to interprete:\n")+myNavigation.gpsPos.lastStrExamined, MessageBox.OKB)).exec();
+			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1511, "Cannot interpret data from GPS\n possible reasons:\n wrong Port,\n wrong Baudrate,\n not NMEA-Protocol\nConnection to serial port closed\nLast String tried to interprete:\n")+myNavigation.gpsPos.lastStrExamined, FormBase.OKB)).exec();
 			gpsStatus = RED;
 			myNavigation.stopGps(); // TODO automatic in myNavigate?
 		}
@@ -313,7 +309,7 @@
 		if (centerTo != null && centerTo.isValid())
 			mainT.SwitchToMovingMap(centerTo, false);
 		else
-		(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1513, "Cannot start moving map without valid coordinates. Please enter coordinates as destination, as center, in selected cache or start GPS"), MessageBox.OKB)).execute(); 
+		(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1513, "Cannot start moving map without valid coordinates. Please enter coordinates as destination, as center, in selected cache or start GPS"), FormBase.OKB)).execute(); 
 	}
 	
 	/**
@@ -432,7 +428,7 @@
 				CoordsScreen cs = new CoordsScreen();
 				if (myNavigation.destination.isValid())	cs.setFields(myNavigation.destination, currFormat);
 				else cs.setFields(new CWPoint(0,0), currFormat);
-				if (cs.execute(null, Gui.TOP) == CoordsScreen.IDOK)
+				if (cs.execute(null, CellConstants.TOP) == FormBase.IDOK)
 					setDestination(cs.getCoords());
 			}
 		}
@@ -537,7 +533,7 @@
 			drawFullRose(g, 0, new Color(255,255,255), new Color(200,200,200), new Color(255,255,255), new Color(200,200,200), new Color(150,150,150), new Color(75,75,75), 1.0f, true, true);
 		}
 		else {
-			int radius = (int)((float)roseRadius * 0.75f);
+			int radius = (int)(roseRadius * 0.75f);
 
 			g.setPen(new Pen(new Color(150,150,150),Pen.SOLID,3));
 			g.drawEllipse(location.width/2 - radius, location.height/2 - radius, 2 * radius, 2 * radius );
@@ -715,7 +711,7 @@
 					//drawRose(g, 360 - moveDir, new Color(100,100,100), new Color(200,200,200), 1.0f);
 					drawFullRose(g, 360 - moveDir, new Color(255,255,255), new Color(200,200,200), new Color(150,150,150), new Color(200,200,200), new Color(200,200,200), new Color(75,75,75), 1.0f, false, false);
 					
-					int radius = (int)((float)roseRadius * 0.75f);
+					int radius = (int)(roseRadius * 0.75f);
 					g.setPen(new Pen(RED,Pen.SOLID,3));
 					g.drawLine(location.width/2, location.height/2 - radius, location.width/2, location.height/2 + radius);
 					
@@ -747,13 +743,11 @@
 	private void drawSunArrow(Graphics g, float angle, Color col, float scale) {
 		float angleRad = (angle) * (float)java.lang.Math.PI / 180;
 		int centerX = location.width/2, centerY = location.height/2;
-		float arrowLength = (float)roseRadius * scale;
+		float arrowLength = roseRadius * scale;
 		float halfArrowWidth = arrowLength * 0.08f;
 		float circlePos = arrowLength * 0.7f;
 		int circleRadius = (int)(arrowLength * 0.1f);
 
-		int pointX = centerX + new Float(arrowLength * java.lang.Math.sin(angleRad)).intValue();
-		int pointY = centerY - new Float(arrowLength * java.lang.Math.cos(angleRad)).intValue();
 		int circleX = centerX + new Float(circlePos * java.lang.Math.sin(angleRad)).intValue();
 		int circleY = centerY - new Float(circlePos * java.lang.Math.cos(angleRad)).intValue();
 
@@ -781,7 +775,7 @@
 	private void drawThinArrow(Graphics g, float angle, Color col, Color colPoint, float scale) {
 		float angleRad = (angle) * (float)java.lang.Math.PI / 180;
 		int centerX = location.width/2, centerY = location.height/2;
-		float arrowLength = (float)roseRadius * scale;
+		float arrowLength = roseRadius * scale;
 		float halfOpeningAngle = (float)(java.lang.Math.PI * 0.03);
 		float sideLineLength = arrowLength * 0.75f;
 		
@@ -809,7 +803,7 @@
 	private void drawDoubleArrow(Graphics g, float angle, Color colFront, Color colRear, float scale) {
 		float angleRad = (angle) * (float)java.lang.Math.PI / 180;
 		int centerX = location.width/2, centerY = location.height/2;
-		float arrowLength = (float)roseRadius * scale;
+		float arrowLength = roseRadius * scale;
 		float halfArrowWidth = arrowLength * 0.1f;
 		
 		int[] pointsX = new int[3];
@@ -836,7 +830,7 @@
 	private void drawRose(Graphics g, float angle, Color colFront, Color colRear, float scale) {
 		float angleRad = (angle) * (float)java.lang.Math.PI / 180;
 		int centerX = location.width/2, centerY = location.height/2;
-		float arrowLength = (float)roseRadius * scale;
+		float arrowLength = roseRadius * scale;
 		float halfArrowWidth = arrowLength * 0.12f;
 		
 		int[] pointsX = new int[8];
@@ -891,7 +885,7 @@
 		float angleRadText = (angle + 7.5f) * (float)java.lang.Math.PI / 180;
 		int centerX = location.width/2, centerY = location.height/2;
 				
-		float arrowLength = (float)roseRadius * scale;
+		float arrowLength = roseRadius * scale;
 		float halfArrowWidth = arrowLength * innerScale;
 		
 		int[] pointsX = new int[3];
@@ -915,7 +909,7 @@
 		g.fillPolygon(pointsX, pointsY, 3);
 					
 		if (bDrawText){
-			int tempFontSize = new Float(scale * (float)mainFont.getSize()).intValue();
+			int tempFontSize = new Float(scale * mainFont.getSize()).intValue();
 			Font tempFont = new Font(mainFont.getName(), Font.BOLD, tempFontSize);
 			g.setFont(tempFont);
 			FontMetrics tempFm = g.getFontMetrics(tempFont);
@@ -935,7 +929,7 @@
 	private void drawThickArrow(Graphics g, float angle, Color col, float scale) {
 		float angleRad = (angle) * (float)java.lang.Math.PI / 180;
 		int centerX = location.width/2, centerY = location.height/2;
-		float arrowLength = (float)roseRadius * scale;
+		float arrowLength = roseRadius * scale;
 		float halfArrowWidth = arrowLength * 0.1f;
 		
 		int[] pointsX = new int[4];

Modified: trunk/src/CacheWolf/navi/MapImage.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImage.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/MapImage.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -48,9 +48,9 @@
 		locAlways.y = y;
 		if (!hidden && isOnScreen()) { 
 			super.setLocation(x, y);
-			properties &= ~AniImage.IsInvisible;
+			properties &= ~mImage.IsInvisible;
 		} else {
-			properties |= AniImage.IsInvisible;
+			properties |= mImage.IsInvisible;
 			super.move(0, 0);
 		}
 	}
@@ -60,9 +60,9 @@
 		locAlways.y = y;
 		if (!hidden && isOnScreen()) { 
 			super.move(x, y);
-			properties &= ~AniImage.IsInvisible;
+			properties &= ~mImage.IsInvisible;
 		} else {
-			properties |= AniImage.IsInvisible;
+			properties |= mImage.IsInvisible;
 			super.move(0, 0);
 		}
 	}
@@ -82,7 +82,7 @@
 
 	public void hide() {
 		hidden = true;
-		properties |= AniImage.IsInvisible;
+		properties |= mImage.IsInvisible;
 	}
 	public void unhide() {
 		hidden = false;

Modified: trunk/src/CacheWolf/navi/MapImporter.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/MapImporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -72,7 +72,7 @@
 		}catch(FileNotFoundException ex){
 			//	Vm.debug("Cannot load world file!");
 		}catch (IOException ex) { // is thrown if lat/lon out of range
-			MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), ex.getMessage(), MessageBox.OKB);
+			MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), ex.getMessage(), FormBase.OKB);
 			tmpMB.execute();
 			Vm.debug("Cannot load world file!");
 		}
@@ -121,11 +121,11 @@
 	 */
 	public int importMap(){
 		String rawFileName = new String();
-		FileChooser fc = new FileChooser(FileChooser.DIRECTORY_SELECT, Global.getPref().baseDir);
+		FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, Global.getPref().baseDir);
 		fc.addMask("*.png,*.gif,*.bmp,*.jpg");
-		fc.setTitle((String)MyLocale.getMsg(4100,"Select Directory:"));
+		fc.setTitle(MyLocale.getMsg(4100,"Select Directory:"));
 		int tmp = fc.execute() ; 
-		if(tmp != FileChooser.IDYES) return Form.IDCANCEL;
+		if(tmp != FormBase.IDYES) return FormBase.IDCANCEL;
 		File inDir = fc.getChosenFile();
 		File mapFile;
 		InfoBox inf = new InfoBox("Info", MyLocale.getMsg(4109,"Loading maps...            \n"), InfoBox.PROGRESS_WITH_WARNINGS, false); 
@@ -147,14 +147,14 @@
 		byte[] buf;
 		int len;
 		String[] parts;
-		String [] files = inDir.listMultiple("*.png,*.jpg,*.gif,*.bmp", File.LIST_FILES_ONLY);
+		String [] files = inDir.listMultiple("*.png,*.jpg,*.gif,*.bmp", FileBase.LIST_FILES_ONLY);
 
 		String currfile = null;
 		String curInFullPath;
 		String curOutFullPath;
 		int num = files.length;
 		for(int i =  num -1 ; i >= 0;i--){
-			currfile = (String) files[i];
+			currfile = files[i];
 			inf.setInfo(MyLocale.getMsg(4110,"Loading: ")+ "\n" + currfile + "\n("+(num-i)+"/"+num+")");
 			//Copy the file
 			//Vm.debug("Copy: " + inDir.getFullPath() + "/" +files[i]);
@@ -310,7 +310,7 @@
 		inf.addOkButton();
 		//inf.addOkButton(); doesn't work
 		if(Global.mainTab.mm != null) Global.mainTab.mm.mapsloaded = false; 
-		return Form.IDOK;
+		return FormBase.IDOK;
 	}
 
 
@@ -332,11 +332,11 @@
 						wfl.saveWFL(mapsPath, thisMap);
 						if(Global.mainTab.mm != null) Global.mainTab.mm.mapsloaded = false; 
 					} catch (IOException e) {
-						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(321, "Error writing file ") + e.getMessage()+MyLocale.getMsg(324, " - retry?"), MessageBox.YESB | MessageBox.NOB);
-						if (tmpMB.execute() == MessageBox.IDYES) retry = true;
+						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(321, "Error writing file ") + e.getMessage()+MyLocale.getMsg(324, " - retry?"), FormBase.YESB | FormBase.NOB);
+						if (tmpMB.execute() == FormBase.IDYES) retry = true;
 					}catch (IllegalArgumentException e) {
-						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(325, "Map not calibrated")+MyLocale.getMsg(324, " - retry?"), MessageBox.YESB | MessageBox.NOB);
-						if (tmpMB.execute() == MessageBox.IDYES) { retry = true; break; }
+						MessageBox tmpMB = new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(325, "Map not calibrated")+MyLocale.getMsg(324, " - retry?"), FormBase.YESB | FormBase.NOB);
+						if (tmpMB.execute() == FormBase.IDYES) { retry = true; break; }
 					}
 				}
 				if (!retry) close(0);
@@ -379,7 +379,7 @@
 		f.updatePosition(pos.x, pos.y);
 
 		CoordsScreen cooS = new CoordsScreen(); // (String)lr.get(4108,"Coordinates:"), (String)lr.get(4108,"Coordinates:"), InfoBox.INPUT);
-		if (cooS.execute()==CoordsScreen.IDOK) {
+		if (cooS.execute()==FormBase.IDOK) {
 			GCPoint gcp = new GCPoint(cooS.getCoords());
 			gcp.bitMapX = pos.x;
 			gcp.bitMapY = pos.y;

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -4,23 +4,15 @@
 import CacheWolf.Common;
 import CacheWolf.Matrix;
 import CacheWolf.MyLocale;
-import CacheWolf.Profile;
-import ewe.data.PropertyList;
-import ewe.fx.PixelBuffer;
 import ewe.fx.Point;
-import ewe.io.Base64Encoder;
 import ewe.io.BufferedWriter;
 import ewe.io.FileInputStream;
-import ewe.io.FileReader;
 import ewe.io.FileWriter;
-import ewe.io.FilenameFilter;
 import ewe.io.File;
 import ewe.io.IOException;
-import ewe.io.InputStream;
 import ewe.io.InputStreamReader;
 import ewe.io.PrintWriter;
 import ewe.sys.*;
-import ewe.util.Properties;
 import java.lang.Math;
 
 
@@ -417,8 +409,8 @@
 	 */
 	public CWPoint calcLatLon(int x, int y) {
 		CWPoint ll = new CWPoint();
-		ll.latDec = (double)x * affine[0] + (double)y * affine[2] + affineTopleft.latDec;
-		ll.lonDec = (double)x * affine[1] + (double)y * affine[3] + affineTopleft.lonDec;
+		ll.latDec = x * affine[0] + y * affine[2] + affineTopleft.latDec;
+		ll.lonDec = x * affine[1] + y * affine[3] + affineTopleft.lonDec;
 		if (coordTrans != 0)
 			ll = TransformCoordinatesProperties.toWgs84(ll, coordTrans);
 		return ll;

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,18 +2,14 @@
 
 import CacheWolf.CWPoint;
 import CacheWolf.Common;
-import CacheWolf.Global;
 import CacheWolf.HttpConnection;
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
-import CacheWolf.Preferences;
 import ewe.ui.*;
 import ewe.io.*;
 import ewe.fx.*;
 import ewe.util.*;
-import ewe.reflect.Array;
 import ewe.sys.*;
-import ewe.sys.Double;
 import ewe.net.*;
 import java.lang.Math;
 
@@ -61,7 +57,7 @@
 		String FileName;
 		OnlineMapService tempOMS;
 		MessageBox f = null; 
-		dateien = files.list("*.wms", File.LIST_FILES_ONLY); //"*.xyz" doesn't work on some systems -> use FileBugFix
+		dateien = files.list("*.wms", FileBase.LIST_FILES_ONLY); //"*.xyz" doesn't work on some systems -> use FileBugFix
 		for(int i = 0; i < dateien.length;i++){
 			FileName = dateien[i];
 			try {
@@ -75,7 +71,7 @@
 				tempOMS = new WebMapService(wmspath + "/" + FileName);
 				onlineMapServices.add(tempOMS);
 			}catch(Exception ex){ 
-				if (f == null) (f=new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4801, "Ignoring error while \n reading web map service definition file \n")+ex.toString(), MessageBox.OKB)).exec();
+				if (f == null) (f=new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4801, "Ignoring error while \n reading web map service definition file \n")+ex.toString(), FormBase.OKB)).exec();
 			}
 		}
 		tempOMS = new ExpediaMapService();
@@ -154,22 +150,22 @@
 		int borderX = overlapping;
 		int borderY = overlapping;
 
-		numMapsY = (int) java.lang.Math.ceil( (pixelsY + (float)borderY) / (float)(size.y - borderY) );
-		numMapsX = (int) java.lang.Math.ceil( (pixelsX + (float)borderX) / (float)(size.x - borderX) );
+		numMapsY = (int) java.lang.Math.ceil( (pixelsY + borderY) / (size.y - borderY) );
+		numMapsX = (int) java.lang.Math.ceil( (pixelsX + borderX) / (size.x - borderX) );
 
 		//increments calulated from pixel offset of tiles
-		latinc = (float)-(size.y - borderY) / pixelsPerLat;
-		loninc = (float)(size.x - borderX) / pixelsPerLon;
+		latinc = -(size.y - borderY) / pixelsPerLat;
+		loninc = (size.x - borderX) / pixelsPerLon;
 
 		//calculation of centre of first tile
 
 		//additional size for borders and rounding
-		double oversizeX = (float)(numMapsX * (size.x - borderX) + borderX) - pixelsX;
-		double oversizeY = (float)(numMapsY * (size.y - borderY) + borderY) - pixelsY;
+		double oversizeX = (numMapsX * (size.x - borderX) + borderX) - pixelsX;
+		double oversizeY = (numMapsY * (size.y - borderY) + borderY) - pixelsY;
 
 		//offset for upper left corner
-		double offsetLat = -( ((float)size.y - oversizeY) / 2.0 ) / pixelsPerLat;
-		double offsetLon = ( ((float)size.x - oversizeX) / 2.0 ) / pixelsPerLon;
+		double offsetLat = -( (size.y - oversizeY) / 2.0 ) / pixelsPerLat;
+		double offsetLon = ( (size.x - oversizeX) / 2.0 ) / pixelsPerLon;
 
 		topleft.latDec += offsetLat;
 		topleft.lonDec += offsetLon;
@@ -433,7 +429,7 @@
 		Properties wms = new Properties();
 		wms.load(in);
 		in.close();
-		String tmp = File.getFileExt(filename_);
+		String tmp = FileBase.getFileExt(filename_);
 		this.filename = tmp.substring(0, tmp.lastIndexOf('.'));
 		name = wms.getProperty("Name", "").trim();
 		if (name == "") throw new IllegalArgumentException(MyLocale.getMsg(4812, "WebMapService: property >Name:< missing in file:\n") + filename);
@@ -665,7 +661,7 @@
 	}
 
 	public float getMetersPerPixel(float scale) {
-		return (float)  EXPEDIA_METERS_PER_PIXEL * getZoomlevel(scale);
+		return EXPEDIA_METERS_PER_PIXEL * getZoomlevel(scale);
 	}
 	
 	private int getZoomlevel(float scale) {
@@ -683,7 +679,8 @@
 	}
 
 	public MapInfoObject getMapInfoObject(CWPoint center, float scale, Point pixelsize) {
-		float metersPerPixel = (float) getMetersPerPixel(scale);
+		float metersPerPixel2 = getMetersPerPixel(scale);
+		float metersPerPixel = metersPerPixel2;
 		MapInfoObject cal = new MapInfoObject(metersPerPixel, center,  pixelsize.x, pixelsize.y, name);
 		return cal;
 	}

Modified: trunk/src/CacheWolf/navi/MapLoaderGui.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -7,7 +7,7 @@
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
-import ewe.io.File;
+import ewe.io.FileBase;
 import ewe.sys.Convert;
 import ewe.sys.Vm;
 import ewe.ui.*;
@@ -67,15 +67,15 @@
 		pref = Global.getPref(); // myPreferences sollte sp?ter auch diese Einstellungen speichern
 		center = new CWPoint(pref.curCentrePt);
 		cacheDB = cacheDBi;
-		mapLoader = new MapLoader(File.getProgramDirectory()+"/"+"webmapservices");
+		mapLoader = new MapLoader(FileBase.getProgramDirectory()+"/"+"webmapservices");
 
 		// sort the items in the list of services in a way that services which cover the current center point.
 		unsortedMapServices = mapLoader.getAvailableOnlineMapServices();
 		sortMapServices();
 		mapServiceChoice = new mChoice(sortedmapServices, 0);
 		MessageArea desc = new MessageArea(descString); 
-		desc.modifyAll(mTextPad.NotEditable | mTextPad.DisplayOnly | mTextPad.NoFocus, mTextPad.TakesKeyFocus);
-		desc.borderStyle = mTextPad.BDR_NOBORDER;
+		desc.modifyAll(ControlConstants.NotEditable | ControlConstants.DisplayOnly | ControlConstants.NoFocus, ControlConstants.TakesKeyFocus);
+		desc.borderStyle = UIConstants.BDR_NOBORDER;
 		this.addLast(desc);
 		this.addLast(mapServiceChoice);
 		// tiles panel
@@ -185,7 +185,7 @@
 		if (forCachesChkBox.getState() || perCache) {
 			Area surArea = Global.getProfile().getSourroundingArea(onlySelected); // calculate map boundaries from cacheDB
 			if (surArea == null) {
-				(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1817, "No Caches are seleted"), MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1817, "No Caches are seleted"), FormBase.OKB)).execute();
 				Vm.showWait(false);
 				progressBox.close(0);
 				return;
@@ -248,10 +248,10 @@
 		if (forCachesChkBox.getState()) {
 			// create map rectangle from caches
 			a = 0;
-			b = Control.Disabled;
+			b = ControlConstants.Disabled;
 		}
 		else { // use centre and distance input
-			a = Control.Disabled;
+			a = ControlConstants.Disabled;
 			b = 0;
 		}
 		forSelectedChkBox.modify(a, b);
@@ -268,7 +268,7 @@
 	public void onEvent(Event ev){
 		if (ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED){
 			if (ev.target == cancelB || ev.target == cancelBPerCache){
-				this.close(Form.IDCANCEL);
+				this.close(FormBase.IDCANCEL);
 			}
 			if (ev.target == okBtiles || ev.target == okBPerCache){
 				mapLoader.setCurrentMapService(sortingMapServices[mapServiceChoice.selectedIndex]);
@@ -282,15 +282,15 @@
 					overlapping = Convert.toInt(overlappingInput.getText());
 					if (!forCachesChkBox.getState()) {
 						if (radius <= 0) { 
-							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1827, "'radius' must be graeter than 0"), MessageBox.OKB)).execute();
+							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1827, "'radius' must be graeter than 0"), FormBase.OKB)).execute();
 							return;
 						}
 						if (overlapping < 0) { 
-							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1828, "'overlapping' must be greater or equal 0"), MessageBox.OKB)).execute();
+							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1828, "'overlapping' must be greater or equal 0"), FormBase.OKB)).execute();
 							return;
 						}
 						if (!center.isValid() && !forCachesChkBox.getState()) {
-							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1829, "Please enter the 'centre' around which the maps shall be downloaded"), MessageBox.OKB)).execute();
+							(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1829, "Please enter the 'centre' around which the maps shall be downloaded"), FormBase.OKB)).execute();
 							return;
 						}
 					}
@@ -302,16 +302,16 @@
 					scale = Convert.toFloat(scaleInputPerCache.getText());
 				}
 				if (scale < mapLoader.currentOnlineMapService.minscale || scale > mapLoader.currentOnlineMapService.maxscale) {
-					(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1830, "The selected online map service provides map in the scale from")+" " + mapLoader.currentOnlineMapService.minscale + MyLocale.getMsg(1831, " to")+" "+ mapLoader.currentOnlineMapService.maxscale +MyLocale.getMsg(1832, "\n please adjust 'Approx. meter pro pixel' accordingly"), MessageBox.OKB)).execute();
+					(new MessageBox(MyLocale.getMsg(321, "Error"), MyLocale.getMsg(1830, "The selected online map service provides map in the scale from")+" " + mapLoader.currentOnlineMapService.minscale + MyLocale.getMsg(1831, " to")+" "+ mapLoader.currentOnlineMapService.maxscale +MyLocale.getMsg(1832, "\n please adjust 'Approx. meter pro pixel' accordingly"), FormBase.OKB)).execute();
 					return;
 				}
-				this.close(Form.IDOK); 
+				this.close(FormBase.IDOK); 
 				this.downloadTiles();
 			}
 			if (ev.target == coosBtn) {
 				CoordsScreen cs = new CoordsScreen();
 				cs.setFields(center, CWPoint.CW);
-				if (cs.execute() != CoordsScreen.IDCANCEL) {
+				if (cs.execute() != FormBase.IDCANCEL) {
 					center = cs.getCoords();
 					coosBtn.setText(center.toString());
 					int tmp = sortingMapServices[mapServiceChoice.selectedIndex];

Modified: trunk/src/CacheWolf/navi/MapSymbol.java
===================================================================
--- trunk/src/CacheWolf/navi/MapSymbol.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/MapSymbol.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,7 +2,6 @@
 
 import CacheWolf.CWPoint;
 import ewe.fx.*;
-import ewe.graphics.*;
 
 public class MapSymbol extends MapImage { // TODO make this implement MapImage, so that it will be invisible automatically if not on screen. When doing so, test if setgoto-pos -> open map from gotopanel shows the map symbols (directly after starting CW)
 	Object mapObject;

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/MapsList.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -5,16 +5,12 @@
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
 import utils.FileBugfix;
-import ewe.io.CompressedRandomStream;
 import ewe.io.File;
+import ewe.io.FileBase;
 import ewe.io.IOException;
-import ewe.sys.Double;
 import ewe.sys.Time;
+import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
-import ewe.util.Comparable;
-import ewe.util.Comparer;
-import ewe.util.Hashtable;
-import ewe.util.StandardComparer;
 import ewe.util.Vector;
 import ewe.fx.*;
 /**
@@ -37,7 +33,7 @@
 		String dateien[];
 		FileBugfix files = new FileBugfix(mapsPath);
 		String rawFileName = new String();
-		String[] dirstmp = files.list(null, File.LIST_DIRECTORIES_ONLY);
+		String[] dirstmp = files.list(null, FileBase.LIST_DIRECTORIES_ONLY);
 		Vector dirs;
 		if (dirstmp != null) dirs = new Vector(dirstmp);
 		else dirs = new Vector();
@@ -50,7 +46,7 @@
 		for (int j = dirs.size()-1; j >= 0; j--) {
 			files = new FileBugfix(mapsPath+"/"+dirs.get(j));
 			//ewe.sys.Vm.debug("mapd-Dirs:"+files);
-			dateien = files.list("*.wfl", File.LIST_FILES_ONLY); //"*.xyz" doesn't work on some systems -> use FileBugFix
+			dateien = files.list("*.wfl", FileBase.LIST_FILES_ONLY); //"*.xyz" doesn't work on some systems -> use FileBugFix
 			for(int i = 0; i < dateien.length;i++){
 				// if (!dateien[i].endsWith(".wfl")) continue;
 				rawFileName = dateien[i].substring(0, dateien[i].lastIndexOf("."));
@@ -61,7 +57,7 @@
 					add(tempMIO);
 					//ewe.sys.Vm.debug(tempMIO.getEasyFindString() + tempMIO.mapName);
 				}catch(Exception ex){ // TODO exception ist, glaub ich evtl ?berfl?ssig 
-					if (f == null) (f=new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4700, "Ignoring error while \n reading calibration file \n")+ex.toString(), MessageBox.OKB)).exec();
+					if (f == null) (f=new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4700, "Ignoring error while \n reading calibration file \n")+ex.toString(), FormBase.OKB)).exec();
 				} /* catch(ArithmeticException ex){ // affine contain not allowed values 
 					if (f == null) (f=new MessageBox("Warning", "Ignoring error while \n reading calibration file \n"+ex.toString(), MessageBox.OKB)).exec();
 				} */
@@ -443,7 +439,7 @@
 				ewe.sys.Vm.debug(sortEntryBBox + ": "+filename);
 				if (rename == 0) { // never asked before
 					if ( (new MessageBox(MyLocale.getMsg(4702,"Optimisation"), MyLocale.getMsg(4703,"Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?\n It can take several minutes"), 
-							MessageBox.YESB | MessageBox.NOB)).execute() == MessageBox.IDYES)
+							FormBase.YESB | FormBase.NOB)).execute() == FormBase.IDYES)
 					{
 						renameProgressInfoB = new InfoBox(MyLocale.getMsg(327,"Info"), MyLocale.getMsg(4704,"\nRenaming file:")+"    \n");
 						renameProgressInfoB.exec();
@@ -457,17 +453,17 @@
 					String f = path+filename+".wfl";
 					String to = sortEntryBBox+"E-"+filename+".wfl";
 					if (!new File(f).rename(to))
-						(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4705,"Failed to rename:\n")+f+".wfl"+MyLocale.getMsg(4706,"\nto:\n")+to, MessageBox.OKB)).exec();
+						(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4705,"Failed to rename:\n")+f+".wfl"+MyLocale.getMsg(4706,"\nto:\n")+to, FormBase.OKB)).exec();
 					f = Common.getImageName(path+filename);
 					to = sortEntryBBox+"E-"+filename+Common.getFilenameExtension(f);
 					if (!new File(f).rename(to)) 
-						(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4705,"Failed to rename:\n")+f+".wfl"+MyLocale.getMsg(4706,"\nto:\n")+to, MessageBox.OKB)).exec();
+						(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4705,"Failed to rename:\n")+f+".wfl"+MyLocale.getMsg(4706,"\nto:\n")+to, FormBase.OKB)).exec();
 					filename = sortEntryBBox+"E-"+filename;
 					map.mapName = sortEntryBBox+"E-"+map.mapName;
 					map.fileNameWFL = path + filename + ".wfl";
 				}
 			} catch (IOException ioex) { // this should not happen
-				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4706,"Error while reading:")+" "+path+filename+": "+ ioex.getMessage(), MessageBox.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4706,"Error while reading:")+" "+path+filename+": "+ ioex.getMessage(), FormBase.OKB)).exec();
 			}
 		}
 	}

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -8,13 +8,12 @@
 import CacheWolf.MainTab;
 import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
-import CacheWolf.myTableModel;
 import ewe.ui.*;
 import ewe.graphics.*;
-import ewe.io.File;
 import ewe.io.IOException;
 import ewe.sys.*;
 import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.fx.*;
 import ewe.util.Vector;
 
@@ -82,8 +81,8 @@
 		this.cacheDB = cacheDB;
 		this.myNavigation = nav;
 		this.pref = Global.getPref();
-		if (pref.myAppHeight <= 640 && pref.myAppWidth <= 640)	this.windowFlagsToSet = Window.FLAG_FULL_SCREEN;
-		this.windowFlagsToClear = Window.FLAG_HAS_TITLE | Window.BDR_NOBORDER;
+		if (pref.myAppHeight <= 640 && pref.myAppWidth <= 640)	this.windowFlagsToSet = WindowConstants.FLAG_FULL_SCREEN;
+		this.windowFlagsToClear = WindowConstants.FLAG_HAS_TITLE | UIConstants.BDR_NOBORDER;
 		this.hasTopBar = false;
 		this.noBorder = true;
 		this.setPreferredSize(pref.myAppWidth, pref.myAppHeight);
@@ -99,20 +98,20 @@
 		tmp.setColor(255, 255, 255);
 		tmp.fillRect(0, 0, closeX.getWidth(), closeX.getHeight());
 		closeX.doDraw(tmp, 0);
-		bottonImageClose.properties |= AniImage.AlwaysOnTop;
+		bottonImageClose.properties |= mImage.AlwaysOnTop;
 		mmp.addImage(bottonImageClose);
-		buttonImageGpsOn.properties = AniImage.AlwaysOnTop;
+		buttonImageGpsOn.properties = mImage.AlwaysOnTop;
 		mmp.addImage(buttonImageGpsOn);
-		bottonImageChooseMap.properties = AniImage.AlwaysOnTop;
+		bottonImageChooseMap.properties = mImage.AlwaysOnTop;
 		mmp.addImage(bottonImageChooseMap);
-		directionArrows.properties = AniImage.AlwaysOnTop;
+		directionArrows.properties = mImage.AlwaysOnTop;
 		mmp.addImage(directionArrows);
-		buttonImageLens.properties = AniImage.AlwaysOnTop;
-		buttonImageLensActivated.properties = AniImage.AlwaysOnTop;
-		buttonImageLensActivatedZoomIn.properties = AniImage.AlwaysOnTop;
-		buttonImageLensActivatedZoomOut.properties = AniImage.AlwaysOnTop;
+		buttonImageLens.properties = mImage.AlwaysOnTop;
+		buttonImageLensActivated.properties = mImage.AlwaysOnTop;
+		buttonImageLensActivatedZoomIn.properties = mImage.AlwaysOnTop;
+		buttonImageLensActivatedZoomOut.properties = mImage.AlwaysOnTop;
 		mmp.addImage(buttonImageLens);
-		buttonImageZoom1to1.properties = AniImage.AlwaysOnTop;
+		buttonImageZoom1to1.properties = mImage.AlwaysOnTop;
 		mmp.addImage(buttonImageZoom1to1);
 		//target distance
 		Font font = new Font("Helvetica", Font.PLAIN, 13);
@@ -121,18 +120,18 @@
 		DistanceImage.setImage(new Image(120, 15), Color.White); // consider the size of the font used
 		DistanceImageGraphics = new Graphics(DistanceImage.image);
 		DistanceImageGraphics.setFont(font);
-		DistanceImage.properties = AniImage.AlwaysOnTop;
+		DistanceImage.properties = mImage.AlwaysOnTop;
 		mmp.addImage(DistanceImage);
 		//scale
 		ScaleImage = new AniImage();
 		ScaleImage.setImage(new Image(120, 15), Color.White); // consider the size of the font used
 		ScaleImageGraphics = new Graphics(ScaleImage.image);
 		ScaleImageGraphics.setFont(font);
-		ScaleImage.properties = AniImage.AlwaysOnTop;
+		ScaleImage.properties = mImage.AlwaysOnTop;
 		mmp.addImage(ScaleImage);
 		//resizeTo(pref.myAppWidth, pref.myAppWidth); // is necessary to initialise mapImage.screenSize
 		setGpsStatus(noGPS);
-		posCircle.properties = AniImage.AlwaysOnTop;
+		posCircle.properties = mImage.AlwaysOnTop;
 		mmp.addImage(posCircle);
 		mmp.startDragResolution = 5;
 		mapsloaded = false;
@@ -190,8 +189,8 @@
 		dontUpdatePos = true;
 		maps = new MapsList(mapsPath); // this actually loads the maps
 		if (maps.isEmpty()) {
-			(new MessageBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4204, "No georeferenced map available \n Please choose a scale \n to show the track and the caches"), MessageBox.OKB)).execute();
-			(new MessageBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4205, "No georeferenced map available  \n you can get one by the menu: Application/Maps/download calibrated"), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4204, "No georeferenced map available \n Please choose a scale \n to show the track and the caches"), FormBase.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4205, "No georeferenced map available  \n you can get one by the menu: Application/Maps/download calibrated"), FormBase.OKB)).execute();
 			noMapsAvailable = true;
 		} else noMapsAvailable = false;
 		maps.addEmptyMaps(lat); // the empty maps must be added last, otherwise in method setBestMap, when no mapt is available, a malfunction will happen, see there
@@ -211,7 +210,7 @@
 			float lineLengthMeters = 40 * currentMap.scale;
 			float digits = (float)java.lang.Math.floor( java.lang.Math.log(lineLengthMeters) / java.lang.Math.log(10.0) );
 			lineLengthMeters = (float)java.lang.Math.ceil( lineLengthMeters / (float)java.lang.Math.pow(10, digits) ) * (float)java.lang.Math.pow(10, digits);
-			int lineLengthPixels = (int)java.lang.Math.round( lineLengthMeters / currentMap.scale );
+			int lineLengthPixels = java.lang.Math.round( lineLengthMeters / currentMap.scale );
 
 			String lineLengthString;
 			if (lineLengthMeters < 1000)
@@ -716,7 +715,7 @@
 		if (symbols==null) symbols=new Vector();
 		MapSymbol ms = new MapSymbol(name, filename, where);
 		ms.loadImage();
-		ms.properties |= AniImage.AlwaysOnTop;
+		ms.properties |= mImage.AlwaysOnTop;
 		Point pOnScreen = getXYonScreen(where);
 		ms.setLocation(pOnScreen.x-ms.getWidth()/2, pOnScreen.y-ms.getHeight()/2);
 		symbols.add(ms);
@@ -733,7 +732,7 @@
 	public void addSymbol(String name, Object mapObject, Image imSymb, CWPoint ll) {
 		if (symbols==null) symbols=new Vector();
 		MapSymbol ms = new MapSymbol(name, mapObject, imSymb, ll);
-		ms.properties = AniImage.AlwaysOnTop;
+		ms.properties = mImage.AlwaysOnTop;
 		Point pOnScreen = getXYonScreen(ll);
 		if (pOnScreen != null) ms.setLocation(pOnScreen.x-ms.getWidth()/2, pOnScreen.y-ms.getHeight()/2);
 		symbols.add(ms);
@@ -930,7 +929,7 @@
 			//	either Goto-Pos or GPS-Pos not set
 			else newmap = maps.getBestMap(cll, screen, 0.000001f, false); 
 			break;
-		default: (new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4208, "Bug: \nillegal mapChangeModus: ") + mapChangeModus, MessageBox.OKB)).execute(); break;
+		default: (new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4208, "Bug: \nillegal mapChangeModus: ") + mapChangeModus, FormBase.OKB)).execute(); break;
 		}
 		if ( newmap != null && (currentMap == null || !currentMap.mapName.equals(newmap.mapName)) ) {
 			if (loadIfSameScale || !MapsList.scaleEquals(currentMap.scale / currentMap.zoomFactor, newmap) ) {
@@ -946,10 +945,10 @@
 			posCircle.where.set(cll); // choosemap calls setmap with posCircle-coos
 			try {
 				setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), where); // beware: "-4" only works if the empty maps were added last see MapsList.addEmptyMaps
-			} catch (IOException e) { (new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4209, "setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:") + where.toString(), MessageBox.OKB)).exec(); }
+			} catch (IOException e) { (new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4209, "setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:") + where.toString(), FormBase.OKB)).exec(); }
 			while (currentMap == null) { // this actually cannot happen, but maybe in case of an inconstistent code change (esp. regarding empty maps)
 				mmp.chooseMap(); // force the user to select a scale 
-				 if (currentMap == null) (new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4210, "Moving map cannot run without a map - please select one. \n You can select an empty map"), MessageBox.OKB)).execute();
+				 if (currentMap == null) (new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4210, "Moving map cannot run without a map - please select one. \n You can select an empty map"), FormBase.OKB)).execute();
 			}
 		}
 		inBestMap = false;
@@ -1019,13 +1018,13 @@
 		else (new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4211, "No ") + 
 				(betterOverview ? MyLocale.getMsg(4212, "less") : MyLocale.getMsg(4213, "more") ) + 
 				MyLocale.getMsg(4214, " detailed map available"), 
-				MessageBox.OKB)).execute();
+				FormBase.OKB)).execute();
 	}
 
 	public void loadMapForAllCaches(){
 		Area sur = Global.getProfile().getSourroundingArea(true);
 		if (sur == null) {
-			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4215, "Keine  Caches mit H?ckchen ausgew?hlt"), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4215, "Keine  Caches mit H?ckchen ausgew?hlt"), FormBase.OKB)).execute();
 			return;
 		}
 		MapInfoObject newmap = maps.getMapForArea(sur.topleft, sur.buttomright);
@@ -1105,14 +1104,14 @@
 			if (ImageFilename == null ) {
 				mmp.mapImage = new MapImage();
 				maps.remove(currentMap);
-				(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4217, "Could not find image associated with: \n")+currentMap.fileNameWFL, MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4217, "Could not find image associated with: \n")+currentMap.fileNameWFL, FormBase.OKB)).execute();
 			}
 			else { 
 				if (ImageFilename.length() > 0) mmp.mapImage = new MapImage(ImageFilename); // attention: when running in native java-vm, no exception will be thrown, not even OutOfMemeoryError
 				else mmp.mapImage = new MapImage(); // no image associated with the calibration info ("empty map")
 			}
 			mapImage1to1 = mmp.mapImage;
-			mmp.mapImage.properties = mmp.mapImage.properties | AniImage.IsMoveable;
+			mmp.mapImage.properties = mmp.mapImage.properties | mImage.IsMoveable;
 			if (mapHidden) mmp.mapImage.hide();
 			mmp.mapImage.move(0,0);
 			mmp.addImage(mmp.mapImage);
@@ -1136,7 +1135,7 @@
 			updateOnlyPosition(where, false);
 			inf.close(0);
 			Vm.showWait(false);
-			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4218, "Could not load map: \n")+ newmap.getImageFilename(), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4218, "Could not load map: \n")+ newmap.getImageFilename(), FormBase.OKB)).execute();
 			dontUpdatePos = saveIgnoreStatus;
 		} catch (OutOfMemoryError e) {
 			if (mmp.mapImage != null) {
@@ -1151,7 +1150,7 @@
 			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4219, "Not enough memory to load map: \n") 
 					+ newmap.getImageFilename()
 					+ MyLocale.getMsg(4220, "\nYou can try to close\n all prgrams and \nrestart CacheWolf"), 
-					MessageBox.OKB)).execute();
+					FormBase.OKB)).execute();
 			dontUpdatePos = saveIgnoreStatus;
 		}catch (SystemResourceException e) {
 			if (mmp.mapImage != null) {
@@ -1166,7 +1165,7 @@
 			(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4221, "Not enough ressources to load map: ")
 					+ newmap.getImageFilename()
 					+ MyLocale.getMsg(4220, "\nYou can try to close\n all prgrams and \nrestart CacheWolf"), 
-					MessageBox.OKB)).execute();
+					FormBase.OKB)).execute();
 			dontUpdatePos = saveIgnoreStatus;
 		}
 	}
@@ -1288,7 +1287,7 @@
 		boolean savegpsstatus = dontUpdatePos;
 		if (mapImage1to1 != null) {
 			dontUpdatePos = true; // avoid multi-thread problems
-			int saveprop = AniImage.IsMoveable;
+			int saveprop = mImage.IsMoveable;
 			MapImage tmp = null; // = mmp.mapImage;
 			if (mmp.mapImage != null) {
 				tmp = mmp.mapImage;
@@ -1306,7 +1305,7 @@
 				currentMap.zoom(zoomFactor, newImageRect.x, newImageRect.y);
 			} catch (OutOfMemoryError e) {
 				(new MessageBox(MyLocale.getMsg(4207, "Error"), 
-						MyLocale.getMsg(4222, "Out of memory error"), MessageBox.OKB)).execute();
+						MyLocale.getMsg(4222, "Out of memory error"), FormBase.OKB)).execute();
 				//tmp = mapImage1to1;
 			} //if (tmp != null) currentMap.zoom();}
 			Vm.getUsedMemory(true);
@@ -1365,25 +1364,25 @@
 	MenuItem miLuminary[];
 
 	Menu mapsMenu;
-	MenuItem selectMapMI = new MenuItem(MyLocale.getMsg(4234, "Select a map manually$s"), new IconAndText(new mImage("map_open.png"), MyLocale.getMsg(4235, "Select a map manually"), null, Graphics.RIGHT));
-	MenuItem changeMapDirMI = new MenuItem(MyLocale.getMsg(4236, "Change map directory$c"), new IconAndText(new mImage("map_cd.png"), MyLocale.getMsg(4237, "Change map directory"), null, Graphics.RIGHT));
-	MenuItem showMapMI = new MenuItem(MyLocale.getMsg(4238, "Show map"), new IconAndText(new mImage("map_on.png"), MyLocale.getMsg(4239, "Show map"), null, Graphics.RIGHT));
-	MenuItem hideMapMI = new MenuItem(MyLocale.getMsg(4240, "Hide map"), new IconAndText(new mImage("map_off.png"), MyLocale.getMsg(4241, "Hide map"), null, Graphics.RIGHT));
+	MenuItem selectMapMI = new MenuItem(MyLocale.getMsg(4234, "Select a map manually$s"), new IconAndText(new mImage("map_open.png"), MyLocale.getMsg(4235, "Select a map manually"), null, CellConstants.RIGHT));
+	MenuItem changeMapDirMI = new MenuItem(MyLocale.getMsg(4236, "Change map directory$c"), new IconAndText(new mImage("map_cd.png"), MyLocale.getMsg(4237, "Change map directory"), null, CellConstants.RIGHT));
+	MenuItem showMapMI = new MenuItem(MyLocale.getMsg(4238, "Show map"), new IconAndText(new mImage("map_on.png"), MyLocale.getMsg(4239, "Show map"), null, CellConstants.RIGHT));
+	MenuItem hideMapMI = new MenuItem(MyLocale.getMsg(4240, "Hide map"), new IconAndText(new mImage("map_off.png"), MyLocale.getMsg(4241, "Hide map"), null, CellConstants.RIGHT));
 	// automatic
 	MenuItem mapChangeModusMI = new MenuItem(MyLocale.getMsg(4242, "Modus for automatic map change"), MenuItem.Separator, null);;
-	MenuItem highestResGpsDestMI = new MenuItem(MyLocale.getMsg(4244, "Highest res. containing dest. & cur. position"), new IconAndText(new mImage("res_gps_goto.png"), MyLocale.getMsg(4245, "Highest res. containing dest. & cur. position"), null, Graphics.RIGHT)); //immer h?chste Aufl?sung w?hlen, die akt. Pos. und Ziel enthalten 
-	MenuItem highestResolutionMI = new MenuItem(MyLocale.getMsg(4246, "Highest resolution"), new IconAndText(new mImage("res_high.png"), MyLocale.getMsg(4247, "Highest resolution"), null, Graphics.RIGHT)); //immer h?chste Aufl?sung w?hlen 
-	MenuItem keepManResolutionMI = new MenuItem(MyLocale.getMsg(4248, "Keep manual resolution"), new IconAndText(new mImage("res_manuell.png"), MyLocale.getMsg(4249, "Keep manual resolution"), null, Graphics.RIGHT)); // manuell gew?hlte Aufl?sung beibehalten  
+	MenuItem highestResGpsDestMI = new MenuItem(MyLocale.getMsg(4244, "Highest res. containing dest. & cur. position"), new IconAndText(new mImage("res_gps_goto.png"), MyLocale.getMsg(4245, "Highest res. containing dest. & cur. position"), null, CellConstants.RIGHT)); //immer h?chste Aufl?sung w?hlen, die akt. Pos. und Ziel enthalten 
+	MenuItem highestResolutionMI = new MenuItem(MyLocale.getMsg(4246, "Highest resolution"), new IconAndText(new mImage("res_high.png"), MyLocale.getMsg(4247, "Highest resolution"), null, CellConstants.RIGHT)); //immer h?chste Aufl?sung w?hlen 
+	MenuItem keepManResolutionMI = new MenuItem(MyLocale.getMsg(4248, "Keep manual resolution"), new IconAndText(new mImage("res_manuell.png"), MyLocale.getMsg(4249, "Keep manual resolution"), null, CellConstants.RIGHT)); // manuell gew?hlte Aufl?sung beibehalten  
 	// manuell
 	MenuItem mapChangeResMI = new MenuItem(MyLocale.getMsg(4250, "Change resolution manually"), MenuItem.Separator, null);;
-	MenuItem AllCachesResMI = new MenuItem(MyLocale.getMsg(4252, "Load a map containing all marked caches"),  new IconAndText(new mImage("loupe_all.png"), MyLocale.getMsg(4253, "Load a map containing all marked caches"), null, Graphics.RIGHT));   
-	MenuItem moreDetailsMI = new MenuItem(MyLocale.getMsg(4254, "Load a map with more details"), new IconAndText(new mImage("loupe_more_details.png"), MyLocale.getMsg(4255, "Load a map with more details"), null, Graphics.RIGHT)); // laod a map with more details 
-	MenuItem moreOverviewMI = new MenuItem(MyLocale.getMsg(4256, "Load a map for a better overview"), new IconAndText(new mImage("loupe_better_overview.png"), MyLocale.getMsg(4257, "Load a map for a better overview"), null, Graphics.RIGHT)); // Load a map for a better overview --> lesser details  
+	MenuItem AllCachesResMI = new MenuItem(MyLocale.getMsg(4252, "Load a map containing all marked caches"),  new IconAndText(new mImage("loupe_all.png"), MyLocale.getMsg(4253, "Load a map containing all marked caches"), null, CellConstants.RIGHT));   
+	MenuItem moreDetailsMI = new MenuItem(MyLocale.getMsg(4254, "Load a map with more details"), new IconAndText(new mImage("loupe_more_details.png"), MyLocale.getMsg(4255, "Load a map with more details"), null, CellConstants.RIGHT)); // laod a map with more details 
+	MenuItem moreOverviewMI = new MenuItem(MyLocale.getMsg(4256, "Load a map for a better overview"), new IconAndText(new mImage("loupe_better_overview.png"), MyLocale.getMsg(4257, "Load a map for a better overview"), null, CellConstants.RIGHT)); // Load a map for a better overview --> lesser details  
 	// move map to
 	MenuItem moveToMI = new MenuItem(MyLocale.getMsg(4258, "Move map to and load map"), MenuItem.Separator, null);;
-	MenuItem moveToDestMI = new MenuItem(MyLocale.getMsg(4260, "Move to goto point"), new IconAndText(new mImage("move2goto.png"), MyLocale.getMsg(4261, "Move to goto point"), null, Graphics.RIGHT)); //* Karte zum Ziel verschieben (und ggf. entsprechende Karte laden) 
-	MenuItem moveToGpsMI = new MenuItem(MyLocale.getMsg(4262, "Move to GPS position"), new IconAndText(new mImage("move2gps.png"), MyLocale.getMsg(4263, "Move to GPS position"), null, Graphics.RIGHT));   
-	MenuItem moveToCenterMI = new MenuItem(MyLocale.getMsg(4264, "Move to centre"), new IconAndText(new mImage("move2center.png"), MyLocale.getMsg(4265, "Move to centre"), null, Graphics.RIGHT));   
+	MenuItem moveToDestMI = new MenuItem(MyLocale.getMsg(4260, "Move to goto point"), new IconAndText(new mImage("move2goto.png"), MyLocale.getMsg(4261, "Move to goto point"), null, CellConstants.RIGHT)); //* Karte zum Ziel verschieben (und ggf. entsprechende Karte laden) 
+	MenuItem moveToGpsMI = new MenuItem(MyLocale.getMsg(4262, "Move to GPS position"), new IconAndText(new mImage("move2gps.png"), MyLocale.getMsg(4263, "Move to GPS position"), null, CellConstants.RIGHT));   
+	MenuItem moveToCenterMI = new MenuItem(MyLocale.getMsg(4264, "Move to centre"), new IconAndText(new mImage("move2center.png"), MyLocale.getMsg(4265, "Move to centre"), null, CellConstants.RIGHT));   
 
 	CacheHolder clickedCache;
 	MovingMap mm;
@@ -1399,7 +1398,7 @@
 		for (int i=0; i<SkyOrientation.LUMINARY_NAMES.length; i++) {
 			miLuminary[i] = new MenuItem(SkyOrientation.getLuminaryName(i));
 		}
-		set(Control.WantHoldDown, true); // want to get simulated right-clicks
+		set(ControlConstants.WantHoldDown, true); // want to get simulated right-clicks
 	}
 
 	public boolean imageBeginDragged(AniImage which,Point pos) {
@@ -1667,7 +1666,7 @@
 
 		if (ev instanceof MenuEvent) { 
 			if (ev.target == mapsMenu) {
-				if (ev.type == MenuEvent.ABORTED || ev.type == MenuEvent.CANCELLED || ev.type == MenuEvent.FOCUS_OUT) mapsMenu.close(); // TODO menuIsActive() benutzen? 
+				if (ev.type == MenuEvent.ABORTED || ev.type == ControlEvent.CANCELLED || ev.type == ControlEvent.FOCUS_OUT) mapsMenu.close(); // TODO menuIsActive() benutzen? 
 				if (ev.type == MenuEvent.SELECTED ) {
 					MenuItem action = (MenuItem) mapsMenu.getSelectedItem(); 
 					if (mapsMenu.getSelectedItem() != null) {
@@ -1678,10 +1677,10 @@
 						}
 						if (action == changeMapDirMI)	{
 							mapsMenu.close();
-							FileChooser fc = new FileChooser(FileChooser.DIRECTORY_SELECT, Global.getPref().baseDir+"maps");
+							FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, Global.getPref().baseDir+"maps");
 							fc.addMask("*.wfl");
-							fc.setTitle((String)MyLocale.getMsg(4200,"Select map directory:"));
-							if(fc.execute() != FileChooser.IDCANCEL){
+							fc.setTitle(MyLocale.getMsg(4200,"Select map directory:"));
+							if(fc.execute() != FormBase.IDCANCEL){
 								Global.getPref().saveCustomMapsPath(fc.getChosen().toString());
 								mm.loadMaps(Global.getPref().getMapLoadPath(), mm.posCircle.where.latDec);
 								mm.forceMapLoad();
@@ -1807,7 +1806,6 @@
 		MapInfoObject map;
 		MapListEntry ml;
 		String cmp;
-		ScrollBarPanel scb;
 		int oldmap = -1;
 		boolean curMapFound = false;
 		boolean[] inList = new boolean[maps.size()];
@@ -1880,7 +1878,7 @@
 			}
 		}
 		list.selectItem(oldmap, true);
-		this.addLast(scb = new CacheWolf.MyScrollBarPanel(list),CellConstants.STRETCH, CellConstants.FILL);
+		this.addLast(new CacheWolf.MyScrollBarPanel(list),CellConstants.STRETCH, CellConstants.FILL);
 		cancelButton = new mButton(MyLocale.getMsg(4276, "Cancel"));
 		cancelButton.setHotKey(0, KeyEvent.getCancelKey(true));
 		this.addNext(cancelButton,CellConstants.STRETCH, CellConstants.FILL);
@@ -1889,20 +1887,6 @@
 		this.addLast(okButton,CellConstants.STRETCH, CellConstants.FILL);
 		okButton.takeFocus(0);
 	}
-	private boolean mapIsInList(int mapNr){ // it is not used  anymore could be deleted
-		String testitem = new String();
-		int testitemnr;
-		for (int i=0; i<list.countListItems(); i++) {
-			try { 
-				testitem = ((MenuItem)list.items.get(i)).label;
-				testitemnr = Convert.toInt(testitem.substring(0,testitem.indexOf(':')));
-				if ( testitemnr == mapNr) return true;
-			} catch (IndexOutOfBoundsException e) {} // happens on a seperator line because it doesn't contain ":"
-			catch (NegativeArraySizeException e) {} // happens on a seperator line because it doesn't contain ":"
-		}
-		return false;
-	}
-
 	public void mapSelected() {
 		try { 
 			selectedMap = null;
@@ -1919,7 +1903,7 @@
 				this.close(FormBase.IDOK);
 				} catch (IOException e) {
 					(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4278, "Cannot load wfl-file: \n") 
-							+ ((MapListEntry)maps.get(mapNum)).filename, MessageBox.OKB)).execute();
+							+ ((MapListEntry)maps.get(mapNum)).filename, FormBase.OKB)).execute();
 				}
 			}
 			else {

Modified: trunk/src/CacheWolf/navi/Navigate.java
===================================================================
--- trunk/src/CacheWolf/navi/Navigate.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/Navigate.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -9,8 +9,8 @@
 import ewe.io.SerialPort;
 import ewe.io.SerialPortOptions;
 import ewe.net.Socket;
-import ewe.sys.Convert;
 import ewe.sys.mThread;
+import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
 import ewe.util.mString;
 
@@ -54,7 +54,7 @@
 				(new MessageBox(MyLocale.getMsg(4400, "Warning"), 
 						MyLocale.getMsg(4401, "Ignoring error:\n could not forward GPS data to host:\n")
 						+ pref.forwardGpsHost+"\n" + serThread.lastError
-						+ MyLocale.getMsg(4402, "\nstop and start GPS to retry"), MessageBox.OKB)).exec();
+						+ MyLocale.getMsg(4402, "\nstop and start GPS to retry"), FormBase.OKB)).exec();
 			}
 			if (gpsPos.latDec == 0 && gpsPos.lonDec == 0) { // TODO use isValid() // TODO raus damit?
 				gpsPos.latDec = destination.latDec; // setze Zielpunkt als Ausgangspunkt
@@ -72,12 +72,12 @@
 					MyLocale.getMsg(4404, "Could not connect to GPS-receiver.\n Error while opening serial Port ") 
 					+ e.getMessage()
 					+ MyLocale.getMsg(4405, "\npossible reasons:\n Another (GPS-)program is blocking the port\nwrong port\nOn Loox: active infra-red port is blocking GPS"), 
-					MessageBox.OKB)).execute(); 
+					FormBase.OKB)).execute(); 
 		} catch (UnsatisfiedLinkError e) {
 			(new MessageBox(MyLocale.getMsg(4403, "Error"), 
 					MyLocale.getMsg(4404, "Could not connect to GPS-receiver.\n Error while opening serial Port ") 
 					+ MyLocale.getMsg(4406, "Please copy jave_ewe.dll into the directory of the cachewolf program"), 
-					MessageBox.OKB)).execute(); 
+					FormBase.OKB)).execute(); 
 		}
 	}
 

Modified: trunk/src/CacheWolf/navi/SelectMap.java
===================================================================
--- trunk/src/CacheWolf/navi/SelectMap.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/SelectMap.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -4,10 +4,7 @@
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
 import utils.FileBugfix;
-import ewe.util.*;
 import ewe.io.*;
-import ewe.filechooser.*;
-import ewe.sys.*;
 import ewe.ui.*;
 
 /**
@@ -42,7 +39,7 @@
 			File files = new FileBugfix(mapsPath);
 			File checkWFL;
 			String rawFileName = new String();
-			dateien = files.listMultiple("*.png,*.jpg,*.gif,*.bmp", File.LIST_FILES_ONLY);
+			dateien = files.listMultiple("*.png,*.jpg,*.gif,*.bmp", FileBase.LIST_FILES_ONLY);
 			for(int i = 0; i < dateien.length;i++){
 				rawFileName = dateien[i].substring(0, dateien[i].lastIndexOf("."));
 				checkWFL = new File(mapsPath + rawFileName + ".wfl");
@@ -68,7 +65,7 @@
 				this.close(0);
 			}
 		}
-		if(ev instanceof ListEvent && ev.type == ListEvent.SELECTED){
+		if(ev instanceof ListEvent && ev.type == MenuEvent.SELECTED){
 			if(ev.target == nonCMaps){
 				selectedMap = nonCMaps.getText();
 				CMaps.deleteSelection();

Modified: trunk/src/CacheWolf/navi/SkyOrientation.java
===================================================================
--- trunk/src/CacheWolf/navi/SkyOrientation.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/SkyOrientation.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -110,9 +110,9 @@
 			sekunde = Convert.parseInt(utc.substring(4, 6)); // Kommastellen werden abgeschnitten
 			// julianisches "Datum" jd berechnen (see http://de.wikipedia.org/wiki/Julianisches_Datum )
 			if (monat<2) {jahr--; monat+=12;} // verlegung des Jahres Endes auf Feb macht Berechnung von SChaltjahren einfacher
-			double a = (int)java.lang.Math.floor((double)jahr/100.); // Alle hundert Jahre kein Schlatjahr (abrunden)
-			double b = 2 - a + java.lang.Math.floor((double)a/4.);
-			double jd = java.lang.Math.floor(365.25*(jahr + 4716.)) + java.lang.Math.floor(30.6001*((double)monat+1.)) + (double)tag + (double)stunde/24 + (double)minute/1440 + (double)sekunde/86400 + b - 1524.5;
+			double a = (int)java.lang.Math.floor(jahr/100.); // Alle hundert Jahre kein Schlatjahr (abrunden)
+			double b = 2 - a + java.lang.Math.floor(a/4.);
+			double jd = java.lang.Math.floor(365.25*(jahr + 4716.)) + java.lang.Math.floor(30.6001*(monat+1.)) + tag + (double)stunde/24 + (double)minute/1440 + (double)sekunde/86400 + b - 1524.5;
 			return jd;
 			//double jd0 = java.lang.Math.floor(365.25*(jahr + 4716.)) + java.lang.Math.floor(30.6001*((double)monat+1.)) +(double)tag + b - 1524.5;
 		} catch (IndexOutOfBoundsException e) {
@@ -143,10 +143,10 @@
 			sekunde=Convert.parseInt(utc.substring(4, 6)); // Kommastellen werden abgeschnitten
 			// julianisches "Datum" jd berechnen (see http://de.wikipedia.org/wiki/Julianisches_Datum )
 			if (monat<2) {jahr--; monat+=12;} // verlegung des Jahres Endes auf Feb macht Berechnung von SChaltjahren einfacher
-			double a = (int)java.lang.Math.floor((double)jahr/100.); // Alle hundert Jahre kein Schlatjahr (abrunden)
-			double b = 2 - a + java.lang.Math.floor((double)a/4.);
-			double jd = java.lang.Math.floor(365.25*(jahr + 4716.)) + java.lang.Math.floor(30.6001*((double)monat+1.)) + (double)tag + (double)stunde/24 + (double)minute/1440 + (double)sekunde/86400 + b - 1524.5;
-			double jd0 = java.lang.Math.floor(365.25*(jahr + 4716.)) + java.lang.Math.floor(30.6001*((double)monat+1.)) +(double)tag + b - 1524.5;
+			double a = (int)java.lang.Math.floor(jahr/100.); // Alle hundert Jahre kein Schlatjahr (abrunden)
+			double b = 2 - a + java.lang.Math.floor(a/4.);
+			double jd = java.lang.Math.floor(365.25*(jahr + 4716.)) + java.lang.Math.floor(30.6001*(monat+1.)) + tag + (double)stunde/24 + (double)minute/1440 + (double)sekunde/86400 + b - 1524.5;
+			double jd0 = java.lang.Math.floor(365.25*(jahr + 4716.)) + java.lang.Math.floor(30.6001*(monat+1.)) +tag + b - 1524.5;
 			// Ekliptikalkoordinaten der Sonne berechnen (see http://de.wikipedia.org/wiki/Sonnenstand )
 			double n = jd - 2451545.0;
 			double l = 280.46 + 0.9856474 * n;
@@ -160,7 +160,7 @@
 			if (alphaNenner<0) {alpha +=180;}
 			// Azimut
 			double t0 = (jd0 - 2451545.)/36525.; // schon in t0 bzw jd0 richtig berechnet?
-			double thetaHG = 6.697376 + 2400.05134 * t0 + 1.002738 * ((double)stunde + (double)minute/60. + (double)sekunde/3600.);
+			double thetaHG = 6.697376 + 2400.05134 * t0 + 1.002738 * (stunde + minute/60. + sekunde/3600.);
 			double theta = thetaHG * 15. + lon;
 			double azimutNenner = java.lang.Math.cos((theta-alpha)/180*java.lang.Math.PI)*java.lang.Math.sin(lat/180*java.lang.Math.PI)-
 			java.lang.Math.tan(delta/180*java.lang.Math.PI)*java.lang.Math.cos(lat/180*java.lang.Math.PI);

Modified: trunk/src/CacheWolf/navi/TrackOverlay.java
===================================================================
--- trunk/src/CacheWolf/navi/TrackOverlay.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/TrackOverlay.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -6,12 +6,7 @@
 import ewe.fx.Graphics;
 import ewe.fx.IImage;
 import ewe.fx.Image;
-import ewe.fx.Pen;
-import ewe.graphics.AniImage;
-import ewe.sys.Convert;
 import ewe.fx.Point;
-import ewe.fx.Mask;
-
 import ewe.util.Vector;
 
 

Modified: trunk/src/CacheWolf/navi/TrackPoint.java
===================================================================
--- trunk/src/CacheWolf/navi/TrackPoint.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/TrackPoint.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,12 +1,5 @@
 package CacheWolf.navi;
 
-import ewe.io.BufferedWriter;
-import ewe.io.FileWriter;
-import ewe.io.IOException;
-import ewe.io.PrintWriter;
-import ewe.ui.MessageBox;
-import ewe.util.Utils;
-
 /**
  * this is not CWPoint because it should be as small as possible
  * @author pfeffer

Modified: trunk/src/CacheWolf/navi/TransformCoordinates.java
===================================================================
--- trunk/src/CacheWolf/navi/TransformCoordinates.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/CacheWolf/navi/TransformCoordinates.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -6,8 +6,6 @@
 
 import java.lang.Math;
 
-import ewe.database.GetSearchCriteria;
-
 /**
  * Class to transform coordinates and shift datums
  * it uses the 7 parameter Helmert Transformation

Modified: trunk/src/exp/Exporter.java
===================================================================
--- trunk/src/exp/Exporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/Exporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -3,10 +3,12 @@
 import CacheWolf.*;
 import ewe.sys.*;
 import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.io.BufferedWriter;
 import ewe.io.File;
 import ewe.io.FileWriter;
 import ewe.io.PrintWriter;
+import ewe.ui.FormBase;
 import ewe.ui.ProgressBarForm;
 import ewe.util.*;
 import ewe.io.IOException;
@@ -193,10 +195,10 @@
 	 */
 	public File getOutputFile (){
 		File file;
-		FileChooser fc = new FileChooser(FileChooser.SAVE, pref.getExportPath(expName));
+		FileChooser fc = new FileChooser(FileChooserBase.SAVE, pref.getExportPath(expName));
 		fc.setTitle("Select target file:");
 		fc.addMask(mask);
-		if(fc.execute() != FileChooser.IDCANCEL){
+		if(fc.execute() != FormBase.IDCANCEL){
 			file = fc.getChosenFile();
 			pref.setExportPath(expName, file.getPath());
 			return file;

Modified: trunk/src/exp/GPXExporter.java
===================================================================
--- trunk/src/exp/GPXExporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/GPXExporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,6 @@
 package exp;
 import ewe.sys.*;
-import ewe.io.File;
+import ewe.io.FileBase;
 import CacheWolf.*;
 /**
 *	Class to export the cache database to a GPX file with gc.com
@@ -20,7 +20,7 @@
 		this.setMask("*.gpx");
 		this.setNeedCacheDetails(true);
 		this.setHowManyParams(LAT_LON);
-		this.setTmpFileName(File.getProgramDirectory() + "/temp.gpx");
+		this.setTmpFileName(FileBase.getProgramDirectory() + "/temp.gpx");
 	}
 	
 	public GPXExporter(Preferences p, Profile prof){
@@ -28,7 +28,7 @@
 		this.setMask("*.gpx");
 		this.setNeedCacheDetails(true);
 		this.setHowManyParams(LAT_LON);
-		this.setTmpFileName(File.getProgramDirectory() + "/temp.gpx");
+		this.setTmpFileName(FileBase.getProgramDirectory() + "/temp.gpx");
 	}
 	
 	public String header() {

Modified: trunk/src/exp/HTMLExporter.java
===================================================================
--- trunk/src/exp/HTMLExporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/HTMLExporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -45,12 +45,11 @@
 		ProgressBarForm pbf = new ProgressBarForm();
 		Handle h = new Handle();
 
-		//need directory only!!!!
-		String dummy = new String();
-		FileChooser fc = new FileChooser(FileChooser.DIRECTORY_SELECT, pref.getExportPath(expName));
+		new String();
+		FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, pref.getExportPath(expName));
 		fc.setTitle("Select target directory:");
 		String targetDir;
-		if(fc.execute() != FileChooser.IDCANCEL){
+		if(fc.execute() != FormBase.IDCANCEL){
 			targetDir = fc.getChosen() + "/";
 			pref.setExportPath(expName, targetDir);
 			Vector cache_index = new Vector();
@@ -140,7 +139,7 @@
 							String imgFile = new String((String)holder.Images.get(j));
 							imgParams.put("FILE", imgFile);
 							if (j < holder.ImagesText.size())
-								imgParams.put("TEXT",(String)holder.ImagesText.get(j));
+								imgParams.put("TEXT",holder.ImagesText.get(j));
 							else
 								imgParams.put("TEXT",imgFile);
 							DataMover.copy(profile.dataDir + imgFile,targetDir + imgFile);
@@ -168,7 +167,7 @@
 							String usrImgFile = new String((String)holder.UserImages.get(j));
 							usrImgParams.put("FILE", usrImgFile);
 							if (j < holder.UserImagesText.size())
-								usrImgParams.put("TEXT",(String)holder.UserImagesText.get(j));
+								usrImgParams.put("TEXT",holder.UserImagesText.get(j));
 							else
 								usrImgParams.put("TEXT",usrImgFile);
 							DataMover.copy(profile.dataDir + usrImgFile,targetDir + usrImgFile);
@@ -179,7 +178,7 @@
 						// Map images
 						mapImg.clear();
 						mapImgParams = new Hashtable();
-						String mapImgFile = new String((String)holder.wayPoint + "_map.gif");
+						String mapImgFile = new String(holder.wayPoint + "_map.gif");
 						// check if map file exists
 						File test = new File(profile.dataDir + mapImgFile);
 						if (test.exists()) {
@@ -189,7 +188,7 @@
 							mapImg.add(mapImgParams);
 							
 							mapImgParams = new Hashtable();
-							mapImgFile = (String)holder.wayPoint + "_map_2.gif";
+							mapImgFile = holder.wayPoint + "_map_2.gif";
 							mapImgParams.put("FILE", mapImgFile);
 							mapImgParams.put("TEXT",mapImgFile);
 							DataMover.copy(profile.dataDir + mapImgFile,targetDir + mapImgFile);
@@ -210,10 +209,10 @@
 			// Copy the log-icons to the destination directory
 			for (int j=0; j<logIcons.size(); j++) {
 				icon=(String) logIcons.elementAt(j);
-				DataMover.copy(File.getProgramDirectory() + "/"+icon,targetDir + icon);
+				DataMover.copy(FileBase.getProgramDirectory() + "/"+icon,targetDir + icon);
 				
 			}
-			DataMover.copy(File.getProgramDirectory() + "/recommendedlog.gif",targetDir + "recommendedlog.gif");
+			DataMover.copy(FileBase.getProgramDirectory() + "/recommendedlog.gif",targetDir + "recommendedlog.gif");
 			try{
 				Template tpl = new Template(template_init_index);
 				tpl.setParam("cache_index", cache_index);
@@ -276,7 +275,6 @@
 	}
 	
 	private void sortAndPrintIndex(Template tmpl, Vector list, String file, String field){
-		Vector navi_index;
 		PrintWriter detfile; 
 		
 		list.sort(new HTMLComparer(field),false);

Modified: trunk/src/exp/KMLExporter.java
===================================================================
--- trunk/src/exp/KMLExporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/KMLExporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -2,6 +2,7 @@
 
 import ewe.io.BufferedWriter;
 import ewe.io.File;
+import ewe.io.FileBase;
 import ewe.io.FileOutputStream;
 import ewe.io.FileWriter;
 import ewe.io.IOException;
@@ -221,7 +222,7 @@
 
 	public void copyIcons(String dir){
 		try {
-			ZipFile zif = new ZipFile (File.getProgramDirectory() + "/POIIcons.zip");
+			ZipFile zif = new ZipFile (FileBase.getProgramDirectory() + "/POIIcons.zip");
 			ZipEntry zipEnt;
 			int len;
 			String entName, fileName; 
@@ -231,7 +232,7 @@
 				entName = "GoogleEarthIcons/" + fileName;
 				zipEnt = zif.getEntry(entName);
 				if (zipEnt == null) continue;
-			    byte[] buff = new byte[ (int) zipEnt.getSize() ];
+			    byte[] buff = new byte[ zipEnt.getSize() ];
 			    InputStream  fis = zif.getInputStream(zipEnt);
 			    FileOutputStream fos = new FileOutputStream( dir + "/" + fileName);
 			    while( 0 < (len = fis.read( buff )) )

Modified: trunk/src/exp/LocExporter.java
===================================================================
--- trunk/src/exp/LocExporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/LocExporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,7 @@
 package exp;
 import CacheWolf.*;
 import ewe.io.File;
+import ewe.io.FileBase;
 import ewesoft.xml.*;
 import ewesoft.xml.sax.*;
 
@@ -21,7 +22,7 @@
 		super();
 		this.setMask("*.loc");
 		this.setHowManyParams(NO_PARAMS);
-		if ((new File(File.getProgramDirectory()+"/garminmap.xml")).exists()) {
+		if ((new File(FileBase.getProgramDirectory()+"/garminmap.xml")).exists()) {
 			gm=new GarminMap();
 			gm.readGarminMap();
 		}
@@ -80,7 +81,7 @@
 		String lastName;
 		public void readGarminMap(){
 			try{
-				String datei = File.getProgramDirectory() + "/garminmap.xml";
+				String datei = FileBase.getProgramDirectory() + "/garminmap.xml";
 				ewe.io.Reader r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(datei));
 				parse(r);
 				r.close();

Modified: trunk/src/exp/MagellanExporter.java
===================================================================
--- trunk/src/exp/MagellanExporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/MagellanExporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -3,6 +3,7 @@
 import CacheWolf.*;
 import ewe.sys.*;
 import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.io.BufferedReader;
 import ewe.io.BufferedWriter;
 import ewe.io.File;
@@ -11,7 +12,7 @@
 import ewe.io.FileWriter;
 import ewe.io.LineNumberReader;
 import ewe.io.PrintWriter;
-import ewe.io.StringStream;
+import ewe.ui.FormBase;
 import ewe.ui.ProgressBarForm;
 import ewe.util.*;
 import ewe.io.IOException;
@@ -59,10 +60,10 @@
 	public void doIt() {
 		File configFile = new File("magellan.cfg");
 		if (configFile.exists()) {
-			FileChooser fc = new FileChooser(FileChooser.DIRECTORY_SELECT, pref.getExportPath(expName+"Dir"));
+			FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, pref.getExportPath(expName+"Dir"));
 			fc.setTitle(MyLocale.getMsg(2104, "Choose directory for exporting .gs files"));
 			String targetDir;
-			if(fc.execute() != FileChooser.IDCANCEL){
+			if(fc.execute() != FormBase.IDCANCEL){
 				targetDir = fc.getChosen() + "/";
 				pref.setExportPath(expName+"Dir", targetDir);
 
@@ -184,11 +185,11 @@
 	 */
 	public File getOutputFile() {
 		File file;
-		FileChooser fc = new FileChooser(FileChooser.SAVE, pref
+		FileChooser fc = new FileChooser(FileChooserBase.SAVE, pref
 				.getExportPath(expName));
 		fc.setTitle(MyLocale.getMsg(2102, "Select target file:"));
 		fc.addMask(mask);
-		if (fc.execute() != FileChooser.IDCANCEL) {
+		if (fc.execute() != FormBase.IDCANCEL) {
 			file = fc.getChosenFile();
 			pref.setExportPath(expName, file.getPath());
 			return file;

Modified: trunk/src/exp/PCX5Exporter.java
===================================================================
--- trunk/src/exp/PCX5Exporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/PCX5Exporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,6 +1,6 @@
 package exp;
 import CacheWolf.*;
-import ewe.io.File;
+import ewe.io.FileBase;
 
 /**
 *	Class to export the cache database into an ascii file that may be imported
@@ -13,7 +13,7 @@
 	public PCX5Exporter(Preferences p, Profile prof){
 		super();
 		this.setMask("*.wpt");
-		this.setTmpFileName(File.getProgramDirectory() + "/temp.pcx");
+		this.setTmpFileName(FileBase.getProgramDirectory() + "/temp.pcx");
 		this.setHowManyParams(NO_PARAMS);
 	}
 	

Modified: trunk/src/exp/TPLExporter.java
===================================================================
--- trunk/src/exp/TPLExporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/TPLExporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -32,9 +32,9 @@
 import CacheWolf.Global;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
-import CacheWolf.STRreplace;
 import HTML.Template;
 import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.io.*;
 import ewe.sys.*;
 import ewe.ui.*;
@@ -148,9 +148,9 @@
 		ProgressBarForm pbf = new ProgressBarForm();
 		ewe.sys.Handle h = new ewe.sys.Handle();
 
-		FileChooser fc = new FileChooser(FileChooser.SAVE, pref.getExportPath(expName));
+		FileChooser fc = new FileChooser(FileChooserBase.SAVE, pref.getExportPath(expName));
 		fc.setTitle("Select target file:");
-		if(fc.execute() == FileChooser.IDCANCEL) return;
+		if(fc.execute() == FormBase.IDCANCEL) return;
 		File saveTo = fc.getChosenFile();
 		pref.setExportPath(expName, saveTo.getPath());
 		int counter = 0;
@@ -246,7 +246,7 @@
 			System.runFinalization();
 			Vm.gc(); // this doesn't help :-( - I don't know why :-(
 			//Vm.debug("n: "+Vm.countObjects(true));
-			(new MessageBox("Error", "Not enough memory available to load all cache data (incl. description and logs)\nexport aborted\nFilter caches to minimise memory needed for TPL-Export\nWe recommend to restart CacheWolf now", MessageBox.OKB)).execute();
+			(new MessageBox("Error", "Not enough memory available to load all cache data (incl. description and logs)\nexport aborted\nFilter caches to minimise memory needed for TPL-Export\nWe recommend to restart CacheWolf now", FormBase.OKB)).execute();
 			//Vm.debug("n: "+Vm.countObjects(true));
 		}
 		pbf.exit(0);

Modified: trunk/src/exp/TomTomExporter.java
===================================================================
--- trunk/src/exp/TomTomExporter.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/TomTomExporter.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -6,6 +6,7 @@
 import ewe.util.*;
 import ewe.util.zip.*;
 import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.io.*;
 import ewe.sys.*;
 
@@ -34,27 +35,27 @@
 		int fileFormat;
 
 		TomTomExporterScreen infoScreen = new TomTomExporterScreen("TomTomExport");
-		if (infoScreen.execute() == Form.IDCANCEL) return;
+		if (infoScreen.execute() == FormBase.IDCANCEL) return;
 		fileFormat = infoScreen.getFormat();
 
 		dirName = pref.getExportPath(expName);
 		
 		if (infoScreen.oneFilePerType()==true){
-			FileChooser fc = new FileChooser(FileChooser.DIRECTORY_SELECT, dirName);
+			FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, dirName);
 			fc.setTitle("Select target dir:");
-			if(fc.execute() == FileChooser.IDCANCEL) return;
+			if(fc.execute() == FormBase.IDCANCEL) return;
 			dirName = fc.getChosen();
 			pref.setExportPath(expName, dirName);
 			prefix = infoScreen.getPrefix();
 			writeOneFilePerType(fileFormat, dirName, prefix);
 		} else{
-			FileChooser fc = new FileChooser(FileChooser.SAVE, dirName);
+			FileChooser fc = new FileChooser(FileChooserBase.SAVE, dirName);
 			fc.setTitle("Select target file:");
 	
 			if (fileFormat == TT_ASC) fc.addMask("*.asc");
 			else fc.addMask("*.ov2");
 			
-			if(fc.execute() == FileChooser.IDCANCEL) return;
+			if(fc.execute() == FormBase.IDCANCEL) return;
 			fileName = fc.getChosen();
 			pref.setExportPathFromFileName(expName, fileName);
 			writeSingleFile(fileFormat, fileName);
@@ -255,7 +256,7 @@
 	
 	public void copyIcon(int intWayType, String filename){
 		try {
-			ZipFile zif = new ZipFile (File.getProgramDirectory() + "/POIIcons.zip");
+			ZipFile zif = new ZipFile (FileBase.getProgramDirectory() + "/POIIcons.zip");
 			ZipEntry zipEnt;
 			int len;
 			String entName; 
@@ -264,7 +265,7 @@
 			zipEnt = zif.getEntry(entName);
 			if (zipEnt == null) return;
 			
-		    byte[] buff = new byte[ (int) zipEnt.getSize() ];
+		    byte[] buff = new byte[ zipEnt.getSize() ];
 		    InputStream  fis = zif.getInputStream(zipEnt);
 		    FileOutputStream fos = new FileOutputStream( filename + ".bmp");
 		    while( 0 < (len = fis.read( buff )) )

Modified: trunk/src/exp/TomTomExporterScreen.java
===================================================================
--- trunk/src/exp/TomTomExporterScreen.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/exp/TomTomExporterScreen.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -66,10 +66,10 @@
 	public void onEvent(Event ev){
 		if (ev instanceof ControlEvent && ev.type == ControlEvent.PRESSED){
 			if (ev.target == cancelB){
-				this.close(Form.IDCANCEL);
+				this.close(FormBase.IDCANCEL);
 			}
 			if (ev.target == okB){
-				this.close(Form.IDOK);
+				this.close(FormBase.IDOK);
 			}
 			if (ev.target == chkOneFilePerType){
 				activateInpPrefix(); 

Modified: trunk/src/utils/CWWrapper.java
===================================================================
--- trunk/src/utils/CWWrapper.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/utils/CWWrapper.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -1,5 +1,4 @@
 package utils;
-import CacheWolf.*;
 import ewe.sys.*;
 
 /**
@@ -32,8 +31,7 @@
 			Vm.exec(strarr, dummy);
 		}
 		if(plattform.equals("Java")){
-			ewe.sys.Process p = Vm.exec("\"" + cmd + "\" "+args, null);
-//			p.waitFor();
+			Vm.exec("\"" + cmd + "\" "+args, null);
 		}
 	}
 }
\ No newline at end of file

Modified: trunk/src/utils/FileBugfix.java
===================================================================
--- trunk/src/utils/FileBugfix.java	2008-03-26 14:32:46 UTC (rev 1293)
+++ trunk/src/utils/FileBugfix.java	2008-03-26 17:04:12 UTC (rev 1294)
@@ -6,7 +6,6 @@
 import ewe.io.*;
 import ewe.util.FileComparer;
 import ewe.util.mString;
-import CacheWolf.*;
 /**
  * @author pfeffer
  * class to fix a bug in ewe.io.File, which occurs only on some systems (e.g. linux): the mask "*.xyz" doesn't work
@@ -44,7 +43,7 @@
 		if ((listAndSortOptions & LIST_FILES_ONLY) == 0)
 			dirs = super.list(null,LIST_DIRECTORIES_ONLY); // add dirs if not only asked for files
 		if ((listAndSortOptions & LIST_DIRECTORIES_ONLY) == 0)
-			found = super.list(null,File.LIST_FILES_ONLY|listAndSortOptions); // add files if not dirs only
+			found = super.list(null,FileBase.LIST_FILES_ONLY|listAndSortOptions); // add files if not dirs only
 		else {
 			found = dirs; // if dirs only -> aplpy masks to the dirs
 			dirs = new String[0]; // this line is missing in ewe FileBase.listmultiple -> doubled dirs when using listmultiple with the option dirs_only
@@ -53,7 +52,7 @@
 		ewe.util.FileComparer [] fcs = new ewe.util.FileComparer[masks.length];
 
 		for (int i = 0; i<masks.length; i++)
-			fcs[i] = new FileComparer((File)this,ewe.sys.Vm.getLocale(),listAndSortOptions,masks[i]);
+			fcs[i] = new FileComparer(this,ewe.sys.Vm.getLocale(),listAndSortOptions,masks[i]);
 		int left = found.length;
 		for (int i = 0; i<found.length; i++){
 			boolean matched = false;



From engywuck at mail.berlios.de  Wed Mar 26 18:32:19 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Wed, 26 Mar 2008 18:32:19 +0100
Subject: [Cachewolf-svn] r1295 - trunk/res_noewe/languages
Message-ID: <200803261732.m2QHWJ3g012561@sheep.berlios.de>

Author: engywuck
Date: 2008-03-26 18:32:08 +0100 (Wed, 26 Mar 2008)
New Revision: 1295

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/NL.cfg
Log:
Menu "To Magellan" changed to "To Explorist"

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-26 17:04:12 UTC (rev 1294)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-26 17:32:08 UTC (rev 1295)
@@ -33,7 +33,7 @@
 		129=Importiere GPX
 		130=Download von opencaching.de
 		131=Spider von geocaching.com
-		132=nach Magellan
+		132=nach Explorist
 		133=Suche alle
 		134=Gew%e4hlter Cache
 		139=Travelbugs verwalten

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-26 17:04:12 UTC (rev 1294)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-26 17:32:08 UTC (rev 1295)
@@ -33,7 +33,7 @@
 		129=Import GPX
 		130=Download from opencaching.de
 		131=Spider from geocaching.com
-		132=To Magellan
+		132=To Explorist
         133=Search all
         134=Selected Cache
 		139=Manage Travelbugs

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-03-26 17:04:12 UTC (rev 1294)
+++ trunk/res_noewe/languages/NL.cfg	2008-03-26 17:32:08 UTC (rev 1295)
@@ -33,7 +33,7 @@
 		129=Importeren GPX
 		130=Download van opencaching.de
 		131=Werkgeheugen van geocaching.com
-		132=Naar Magellan
+		132=Naar Explorist
 		133=Allen zoeken
 		134=Gekozen Cache
 		139=Beheren Travelbugs



From pfeffer at mail.berlios.de  Wed Mar 26 21:13:25 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 26 Mar 2008 21:13:25 +0100
Subject: [Cachewolf-svn] r1296 - trunk/src/CacheWolf/navi
Message-ID: <200803262013.m2QKDPiJ017078@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-26 21:13:24 +0100 (Wed, 26 Mar 2008)
New Revision: 1296

Modified:
   trunk/src/CacheWolf/navi/GotoPanel.java
Log:
GotoPanel: removed old unintendently commited debug code

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-26 17:32:08 UTC (rev 1295)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-26 20:13:24 UTC (rev 1296)
@@ -324,22 +324,6 @@
 					if (action == miDD) {
 						mnuContextFormt.close();
 						currFormat = CWPoint.DD;
-						CWPoint wgs = new CWPoint(39, 11.1);
-						//wgs.set("N 40 26 14.80 E 17 49 32.58");
-						wgs.toString();
-						TransformCoordinates.wgs84ToGaussKrueger(wgs, 3003);
-						GkPoint t = new GkPoint();
-						t.set(1623333.54, 4793630.70, 6, 3);
-						wgs = TransformCoordinates.GkToWgs84(t, GkPoint.ITALIAN_GB); 
-						Vm.debug(wgs.toString());
-						Vm.debug(t.toString(0, "R: ", ", ", GkPoint.ITALIAN_GB));
-						Vm.debug(TransformCoordinates.wgs84ToGaussKrueger(wgs, 3003).toString(0, "R: ", ", ", GkPoint.ITALIAN_GB));
-
-						t.set(1628333.54, 4798630.70, 6, 3);
-						wgs = TransformCoordinates.GkToWgs84(t, GkPoint.ITALIAN_GB); 
-						Vm.debug(wgs.toString());
-						Vm.debug(t.toString(0, "R: ", ", ", GkPoint.ITALIAN_GB));
-						Vm.debug(TransformCoordinates.wgs84ToGaussKrueger(wgs, 3003).toString(0, "R: ", ", ", GkPoint.ITALIAN_GB));
 						}
 					if (action == miDMM) {
 						mnuContextFormt.close();



From pfeffer at mail.berlios.de  Wed Mar 26 22:51:48 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 26 Mar 2008 22:51:48 +0100
Subject: [Cachewolf-svn] r1297 - trunk/src/CacheWolf/navi
Message-ID: <200803262151.m2QLpmSR028195@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-26 22:51:46 +0100 (Wed, 26 Mar 2008)
New Revision: 1297

Modified:
   trunk/src/CacheWolf/navi/Area.java
Log:
MovingMap: avoid some unnecessary instantiation

Modified: trunk/src/CacheWolf/navi/Area.java
===================================================================
--- trunk/src/CacheWolf/navi/Area.java	2008-03-26 20:13:24 UTC (rev 1296)
+++ trunk/src/CacheWolf/navi/Area.java	2008-03-26 21:51:46 UTC (rev 1297)
@@ -110,13 +110,8 @@
 	 public static String getEasyFindString(CWPoint p, int prec) {
 		 double longinrange = p.lonDec;
 		 if (longinrange > 180) longinrange -= 180;
-		 Double kw = new Double(((p.latDec+90)/180) * (1 << (prec)));
-		 int lat = new Double(((p.latDec+90)/180) * (1 << (prec))).intValue(); // TODO handle negative values
-		 lat = kw.intValue();
-		 //kw = (double) (1 << (prec));
-		 
-		 kw = new Double(((longinrange+180)/360) * (2 ^ (prec -1)));
-		 int lon = new Double(((longinrange+180)/360) * (1 << (prec))).intValue(); // 180 = 10110100
+		 int lat = (int) (((p.latDec+90d)/180d) * (double)(1 << (prec)));
+		 int lon = (int) (((longinrange+180)/360) * (double) (1 << (prec)));
 		 String ret = "";
 		 int tmp;
 		 for (int i=prec-1; i>=0;  i--) {



From pfeffer at mail.berlios.de  Thu Mar 27 00:49:30 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Thu, 27 Mar 2008 00:49:30 +0100
Subject: [Cachewolf-svn] r1298 - in trunk: res_noewe/languages
	src/CacheWolf/navi
Message-ID: <200803262349.m2QNnUJe006230@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-27 00:49:24 +0100 (Thu, 27 Mar 2008)
New Revision: 1298

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/navi/MapInfoObject.java
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/CacheWolf/navi/MapsList.java
Log:
MovingMap: Bug hopefully fixed: in case of invalid .wfl files ignore the according files. See http://www.geoclub.de/viewtopic.php?p=367176
MovingMap: wrong mapping of message-numbers in the code to the language file (obvously a copy-and-paste-bug)
MovingMap: Another instantiation avoided

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-26 21:51:46 UTC (rev 1297)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-26 23:49:24 UTC (rev 1298)
@@ -642,7 +642,8 @@
 		4704=%0aUmbenennen der Datei:
 		4705=Fehler beim Umbenennen:%0a
 		4706=%0anach:%0an
-		4707=Fehler beim Lesen von: 
+		4707=E/A-Fehler beim Lesen von: 
+		4708=Fehler beim Lesen von: 
 		4800=Lade Onlinekartendienste
 		4801=Ignoriere Fehler beim %0a Lesen der Web Map Service Definitionsdatei %0a
 		4802=Lade kalibriertes (georeferenziertes) %0a Kartenbild %0a '

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-26 21:51:46 UTC (rev 1297)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-26 23:49:24 UTC (rev 1298)
@@ -628,7 +628,8 @@
 		4704=%0aRenaming file:
 		4705=Failed to rename:%0a
 		4706=%0ato:%0an
-		4707=Error while reading: 
+		4707=I/O-Error while reading: 
+		4708=Error while reading: 
 		4800=Loading online map services
 		4801=Ignoring error while %0a reading web map service definition file %0a
 		4802=Downloading calibrated (georeferenced) %0a map image %0a '

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-26 21:51:46 UTC (rev 1297)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-26 23:49:24 UTC (rev 1298)
@@ -390,11 +390,11 @@
 		if (coordTrans != 0) t = TransformCoordinatesProperties.fromWgs84(ll, coordTrans);
 		else t = ll;
 		Point coords = new Point();
-		double b[] = new double[2];
-		b[0] = t.latDec - affineTopleft.latDec;
-		b[1] = t.lonDec - affineTopleft.lonDec;
-		double mapx = transLatX* b[0] + transLonX*b[1];
-		double mapy = transLatY* b[0] + transLonY*b[1];
+		double b0, b1;
+		b0 = t.latDec - affineTopleft.latDec;
+		b1 = t.lonDec - affineTopleft.lonDec;
+		double mapx = transLatX * b0 + transLonX * b1;
+		double mapy = transLatY * b0 + transLonY * b1;
 		coords.x = (int)Math.round(mapx);
 		coords.y = (int)Math.round(mapy);
 		//Vm.debug("mapX=mapx2: "+mapx+"="+mapx2+"; mapy=mapy2: "+mapy+"="+mapy2);

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2008-03-26 21:51:46 UTC (rev 1297)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2008-03-26 23:49:24 UTC (rev 1298)
@@ -231,7 +231,7 @@
 	 * @param datei path and name of file to save to
 	 */
 	public void downloadImage(String url, String datei) throws IOException {
-		HttpConnection connImg; // TODO move proxy-handling in a global http-class
+		HttpConnection connImg; // TODO implement this in UrlFetcher class
 		Socket sockImg;
 		FileOutputStream fos;
 		ByteArray daten;

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2008-03-26 21:51:46 UTC (rev 1297)
+++ trunk/src/CacheWolf/navi/MapsList.java	2008-03-26 23:49:24 UTC (rev 1298)
@@ -2,6 +2,7 @@
 
 import CacheWolf.CWPoint;
 import CacheWolf.Common;
+import CacheWolf.Global;
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
 import utils.FileBugfix;
@@ -54,7 +55,7 @@
 					if (dirs.get(j).equals(".")) // the notation dir/./filename doesn't work on all platforms anyhow
 						tempMIO = new MapListEntry(mapsPath+"/", rawFileName);
 					else tempMIO = new MapListEntry(mapsPath+"/"+dirs.get(j)+"/", rawFileName);
-					add(tempMIO);
+					if (tempMIO.sortEntryBBox != null) add(tempMIO);
 					//ewe.sys.Vm.debug(tempMIO.getEasyFindString() + tempMIO.mapName);
 				}catch(Exception ex){ // TODO exception ist, glaub ich evtl ?berfl?ssig 
 					if (f == null) (f=new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4700, "Ignoring error while \n reading calibration file \n")+ex.toString(), FormBase.OKB)).exec();
@@ -463,7 +464,11 @@
 					map.fileNameWFL = path + filename + ".wfl";
 				}
 			} catch (IOException ioex) { // this should not happen
-				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4706,"Error while reading:")+" "+path+filename+": "+ ioex.getMessage(), FormBase.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4707,"I/O-Error while reading:")+" "+path+filename+": "+ ioex.getMessage(), FormBase.OKB)).exec();
+				Global.getPref().log("MapListEntry (String pathi, String filenamei): I/O-Error while reading: "+path+filename+": ", ioex);
+			} catch (Exception ex) {
+				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4706,"Error while reading:")+" "+path+filename+": "+ ex.getMessage(), FormBase.OKB)).exec();
+				Global.getPref().log("MapListEntry (String pathi, String filenamei): Error while reading: "+path+filename+": ", ex);
 			}
 		}
 	}



From engywuck at mail.berlios.de  Thu Mar 27 08:15:04 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Thu, 27 Mar 2008 08:15:04 +0100
Subject: [Cachewolf-svn] r1299 - in trunk: res_noewe/languages src/CacheWolf
	src/exp
Message-ID: <200803270715.m2R7F45W032591@sheep.berlios.de>

Author: engywuck
Date: 2008-03-27 08:14:50 +0100 (Thu, 27 Mar 2008)
New Revision: 1299

Added:
   trunk/src/exp/ExploristExporter.java
Removed:
   trunk/src/exp/MagellanExporter.java
Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/Parser.java
Log:
Additional more cosmetic work to 1295.

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-26 23:49:24 UTC (rev 1298)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-27 07:14:50 UTC (rev 1299)
@@ -436,7 +436,7 @@
 		1832=%0a Bitte 'Ca. m pro Pixel' entsprechend anpassen
 		2000=GPX Export
 		2001=von
-		2100=Magellan Exporter
+		2100=Explorist Exporter
 		2101=Fehler beim laden der Datei magellan.cfg
 		2102=Zieldatei w%e4hlen
 		2103=Fehler beim lesen der Datei magellan.cfg

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-26 23:49:24 UTC (rev 1298)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-27 07:14:50 UTC (rev 1299)
@@ -28,7 +28,7 @@
 	private MenuItem spider, update, chkVersion;
 	private MenuItem about, wolflang, sysinfo, legend;
 	private MenuItem exportpcx5, exporthtml, exporttop50, exportGPX, exportASC, exportTomTom, exportMSARCSV;
-	private MenuItem exportOZI, exportKML, exportTPL, exportMagellan;
+	private MenuItem exportOZI, exportKML, exportTPL, exportExplorist;
 	private MenuItem filtCreate, filtClear, filtInvert, filtSelected, filtNonSelected, filtBlack, filtApply;
 	private MenuItem exportGPS, exportCacheMate,mnuSeparator;
 	private MenuItem orgCopy, orgMove, orgDelete,orgRebuild;
@@ -81,7 +81,7 @@
 		//if(!(new File(cwd + "/cmconvert/cmconvert.exe")).exists()) exitems[8].modifiers = MenuItem.Disabled;
 		exitems[8] = exportOZI = new MenuItem(MyLocale.getMsg(124,"to OZI"));
 		exitems[9] = exportKML = new MenuItem(MyLocale.getMsg(125,"to Google Earth"));
-		exitems[10] = exportMagellan = new MenuItem(MyLocale.getMsg(132,"to Magellan"));
+		exitems[10] = exportExplorist = new MenuItem(MyLocale.getMsg(132,"to Explorist"));
 		exitems[11] = exportTPL = new MenuItem(MyLocale.getMsg(128,"via Template"));
 
 		Menu exportMenu = new Menu(exitems, MyLocale.getMsg(107,"Export"));
@@ -399,8 +399,8 @@
 					tpl.doIt();
 				}
 			}
-			if(mev.selectedItem == exportMagellan) {
-				MagellanExporter mag = new MagellanExporter( pref, profile);
+			if(mev.selectedItem == exportExplorist) {
+				ExploristExporter mag = new ExploristExporter( pref, profile);
 				mag.doIt();
 			}
 			///////////////////////////////////////////////////////////////////////

Modified: trunk/src/CacheWolf/Parser.java
===================================================================
--- trunk/src/CacheWolf/Parser.java	2008-03-26 23:49:24 UTC (rev 1298)
+++ trunk/src/CacheWolf/Parser.java	2008-03-27 07:14:50 UTC (rev 1299)
@@ -958,10 +958,10 @@
 			if (isVariable(thisToken.token))
 				calcStack.add(getVariable(thisToken.token));
 			else if (!lookAheadToken().token.equals("(")) err(MyLocale.getMsg(1724,"Variable not set: ")+thisToken.token);
-			else {// Must be a function definition
+			    else {// Must be a function definition
 				funcDef=getFunctionDefinition(thisToken.token); // Does not return if function not defined or ambiguous
 				parseFunction(funcDef);
-			} 
+			    } 
 		} else if (thisToken.tt==TokenObj.TT_NUMBER) {
 			calcStack.add(getNumber(thisToken.token));
 		} else if (thisToken.tt==TokenObj.TT_STRING) {

Copied: trunk/src/exp/ExploristExporter.java (from rev 1298, trunk/src/exp/MagellanExporter.java)
===================================================================
--- trunk/src/exp/MagellanExporter.java	2008-03-26 23:49:24 UTC (rev 1298)
+++ trunk/src/exp/ExploristExporter.java	2008-03-27 07:14:50 UTC (rev 1299)
@@ -0,0 +1,314 @@
+package exp;
+
+import CacheWolf.*;
+import ewe.sys.*;
+import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
+import ewe.io.BufferedReader;
+import ewe.io.BufferedWriter;
+import ewe.io.File;
+import ewe.io.FileNotFoundException;
+import ewe.io.FileReader;
+import ewe.io.FileWriter;
+import ewe.io.LineNumberReader;
+import ewe.io.PrintWriter;
+import ewe.ui.FormBase;
+import ewe.ui.ProgressBarForm;
+import ewe.util.*;
+import ewe.io.IOException;
+
+/**
+ * @author Kalle
+ * @author TweetyHH Class for Exporting direct to Explorists *.gs Files. Caches
+ *         will be exported in files with maximum of 200 Caches.
+ */
+
+public class ExploristExporter {
+	// starts with no ui for file selection
+	final static int TMP_FILE = 0;
+	// brings up a screen to select a file
+	final static int ASK_FILE = 1;
+
+	// selection, which method should be called
+	final static int NO_PARAMS = 0;
+	final static int LAT_LON = 1;
+	final static int COUNT = 2;
+
+	Vector cacheDB;
+	Preferences pref;
+	Profile profile;
+	// mask in file chooser
+	String mask = "*.gs";
+	// decimal separator for lat- and lon-String
+	char decimalSeparator = '.';
+	// if true, the complete cache details are read
+	// before a call to the record method is made
+	boolean needCacheDetails = true;
+
+	// name of exporter for saving pathname
+	String expName;
+
+	public ExploristExporter(Preferences p, Profile prof) {
+		profile = prof;
+		pref = p;
+		cacheDB = profile.cacheDB;
+		expName = this.getClass().getName();
+		// remove package
+		expName = expName.substring(expName.indexOf(".") + 1);
+	}
+
+	public void doIt() {
+		File configFile = new File("magellan.cfg");
+		if (configFile.exists()) {
+			FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, pref.getExportPath(expName+"Dir"));
+			fc.setTitle(MyLocale.getMsg(2104, "Choose directory for exporting .gs files"));
+			String targetDir;
+			if(fc.execute() != FormBase.IDCANCEL){
+				targetDir = fc.getChosen() + "/";
+				pref.setExportPath(expName+"Dir", targetDir);
+
+				CWPoint centre = profile.centre;
+				try {
+					LineNumberReader reader = new LineNumberReader(new BufferedReader(new FileReader(configFile)));
+					String line, fileName, coordinate;
+					while ((line = reader.readLine()) != null)  {
+						StringTokenizer tokenizer = new StringTokenizer(line,"=");
+						fileName = targetDir + tokenizer.nextToken().trim() + ".gs";
+						coordinate = tokenizer.nextToken().trim();
+						CWPoint point = new CWPoint(coordinate);
+						DistanceComparer dc = new DistanceComparer(point);
+						cacheDB.sort(dc, false);
+						doIt(fileName);
+					}
+					reader.close();
+				} catch (FileNotFoundException e) {
+					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Explorist Exporter"),MyLocale.getMsg(2101, "Failure at loading magellan.cfg\n" + e.getMessage()));
+					info.show();
+				} catch (IOException e) {
+					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Explorist Exporter"),MyLocale.getMsg(2103, "Failure at reading magellan.cfg\n" + e.getMessage()));
+					info.show();
+				} finally {
+					cacheDB.sort(new DistanceComparer(centre),false);
+				}
+			}
+		}
+		else {
+			doIt(null);
+		}
+	}
+	
+	/**
+	 * Does the most work for exporting data
+	 */
+	public void doIt(String baseFileName) {
+		File outFile;
+		String fileBaseName;
+		String str = null;
+		CacheHolder ch;
+		CacheHolderDetail holder;
+		ProgressBarForm pbf = new ProgressBarForm();
+		Handle h = new Handle();
+
+		if (baseFileName == null) {
+			outFile = getOutputFile();
+			if (outFile == null)
+				return;
+		} else {
+			outFile = new File(baseFileName);
+		}
+
+		fileBaseName = outFile.getFullPath();
+		// cut .gs
+		fileBaseName = fileBaseName.substring(0, fileBaseName.length() - 3);
+
+		pbf.showMainTask = false;
+		pbf.setTask(h, "Exporting ...");
+		pbf.exec();
+
+		int counter = 0;
+		int expCount = 0;
+		for (int i = 0; i < cacheDB.size(); i++) {
+			ch = (CacheHolder) cacheDB.get(i);
+			if (ch.is_black == false && ch.is_filtered == false)
+				counter++;
+		}
+
+		try {
+			PrintWriter outp = null;
+			for (int i = 0; i < cacheDB.size(); i++) {
+				ch = (CacheHolder) cacheDB.get(i);
+				if (ch.is_black == false && ch.is_filtered == false) {
+					// all 200 caches we need a new file
+					if (expCount % 200 == 0) {
+						if (outp != null) {
+							outp.close();
+						}
+						outp = new PrintWriter(new BufferedWriter(
+								new FileWriter(new File(fileBaseName + expCount
+										/ 200 + ".gs"))));
+					}
+
+					holder = new CacheHolderDetail(ch);
+					expCount++;
+					h.progress = (float) expCount / (float) counter;
+					h.changed();
+					try {
+						if (needCacheDetails) {
+							holder.readCache(profile.dataDir);
+						}
+					} catch (IOException e) {
+						continue;
+					}
+					str = record(holder);
+					if (str != null)
+						outp.print(str);
+				}// if
+
+			}// for
+			str = trailer();
+
+			if (str != null)
+				outp.print(str);
+
+			outp.close();
+			pbf.exit(0);
+		} catch (IOException ioE) {
+			Vm.debug("Error opening " + outFile.getName());
+		}
+		// try
+	}
+
+	/**
+	 * uses a filechooser to get the name of the export file
+	 * 
+	 * @return
+	 */
+	public File getOutputFile() {
+		File file;
+		FileChooser fc = new FileChooser(FileChooserBase.SAVE, pref
+				.getExportPath(expName));
+		fc.setTitle(MyLocale.getMsg(2102, "Select target file:"));
+		fc.addMask(mask);
+		if (fc.execute() != FormBase.IDCANCEL) {
+			file = fc.getChosenFile();
+			pref.setExportPath(expName, file.getPath());
+			return file;
+		} else {
+			return null;
+		}
+	}
+
+	/**
+	 * this method can be overided by an exporter class
+	 * 
+	 * @param ch
+	 *            cachedata
+	 * @return formated cache data
+	 */
+	public String record(CacheHolderDetail chD) {
+		/*
+		static protected final int GC_AW_PARKING = 50;
+		static protected final int GC_AW_STAGE_OF_MULTI = 51;
+		static protected final int GC_AW_QUESTION = 52;
+		static protected final int GC_AW_FINAL = 53;
+		static protected final int GC_AW_TRAILHEAD = 54;
+		static protected final int GC_AW_REFERENCE = 55;
+		*/
+		StringBuffer sb = new StringBuffer();
+		sb.append("$PMGNGEO,");
+		sb.append(chD.pos.getLatDeg(CWPoint.DMM));
+		sb.append(chD.pos.getLatMin(CWPoint.DMM));
+		sb.append(",");
+		sb.append("N,");
+		sb.append(chD.pos.getLonDeg(CWPoint.DMM));
+		sb.append(chD.pos.getLonMin(CWPoint.DMM));
+		sb.append(",");
+		sb.append("E,");
+		sb.append("0000,"); // Height
+		sb.append("M,"); // in meter
+		sb.append(chD.wayPoint);
+		sb.append(",");
+		String add = "";
+		if (chD.isAddiWpt()) {
+			if (chD.type.equals("50")) {
+				add = "Pa:";
+			} else if (chD.type.equals("51")) {
+				add = "St:";
+			} else if (chD.type.equals("52")) {
+				add = "Qu:"; 
+			} else if (chD.type.equals("53")) {	
+				add = "Fi:";
+			} else if (chD.type.equals("54")) {
+				add = "Tr:";
+			} else if (chD.type.equals("55")) {	
+				add = "Re:";
+			}
+			sb.append(add).append(removeCommas(chD.CacheName));
+		} else {
+			sb.append(removeCommas(chD.CacheName));
+		}		
+		sb.append(",");
+		sb.append(removeCommas(chD.CacheOwner));
+		sb.append(",");
+		sb.append(removeCommas(Common.rot13(chD.Hints)));
+		sb.append(",");
+		
+		if (!add.equals("")) { // Set Picture in Explorist to Virtual
+			sb.append("Virtual Cache");
+		} else if (!chD.type.equals("8")) { // Rewrite Unknown Caches
+			sb.append(CacheType.transType(chD.type));
+		} else {
+			sb.append("Mystery Cache");
+		}
+		sb.append(",");
+		sb.append(toGsDateFormat(chD.DateHidden));  // created - DDMMYYY, YYY = year - 1900
+		sb.append(",");
+		String lastFound = "0000";
+		for (int i = 0; i < chD.CacheLogs.size(); i++) {
+			if (chD.CacheLogs.getLog(i).isFoundLog() && chD.CacheLogs.getLog(i).getDate().compareTo(lastFound) > 0 ) {
+				lastFound = chD.CacheLogs.getLog(i).getDate();
+			}
+		}
+		
+		sb.append(toGsDateFormat(lastFound)); // lastFound - DDMMYYY, YYY = year - 1900
+		sb.append(",");
+		sb.append(removeCommas(chD.hard));
+		sb.append(",");
+		sb.append(removeCommas(chD.terrain));
+		sb.append("*41");
+		return Exporter.simplifyString(sb.toString() + "\r\n");
+	}
+
+	/**
+	 * this method can be overided by an exporter class
+	 * 
+	 * @return formated trailer data
+	 */
+	public String trailer() {
+		return "$PMGNCMD,END*3D\n";
+	}
+	
+	/**
+	 * Changes "," in "." in the input String
+	 * @param input
+	 * @return changed String
+	 */
+	private String removeCommas(String input) {
+		return input.replace(',', '.');
+	}
+	
+	/**
+	 * change the Dateformat from "yyyy-mm-dd" to ddmmyyy, where yyy is years after 1900 
+	 * @param input Date in yyyy-mm-dd
+ 	 * @return Date in ddmmyyy
+	 */
+	private String toGsDateFormat(String input) {
+		if (input.length() >= 10) {
+			return input.substring(8, 10) + input.substring(5, 7) + "1" + input.substring(2, 4);
+		} 
+		else {
+			return "";
+		}
+	}
+	
+}
\ No newline at end of file

Deleted: trunk/src/exp/MagellanExporter.java
===================================================================
--- trunk/src/exp/MagellanExporter.java	2008-03-26 23:49:24 UTC (rev 1298)
+++ trunk/src/exp/MagellanExporter.java	2008-03-27 07:14:50 UTC (rev 1299)
@@ -1,314 +0,0 @@
-package exp;
-
-import CacheWolf.*;
-import ewe.sys.*;
-import ewe.filechooser.FileChooser;
-import ewe.filechooser.FileChooserBase;
-import ewe.io.BufferedReader;
-import ewe.io.BufferedWriter;
-import ewe.io.File;
-import ewe.io.FileNotFoundException;
-import ewe.io.FileReader;
-import ewe.io.FileWriter;
-import ewe.io.LineNumberReader;
-import ewe.io.PrintWriter;
-import ewe.ui.FormBase;
-import ewe.ui.ProgressBarForm;
-import ewe.util.*;
-import ewe.io.IOException;
-
-/**
- * @author Kalle
- * @author TweetyHH Class for Exporting direct to Magellans *.gs Files. Caches
- *         will be exported in files with maximum of 200 Caches.
- */
-
-public class MagellanExporter {
-	// starts with no ui for file selection
-	final static int TMP_FILE = 0;
-	// brings up a screen to select a file
-	final static int ASK_FILE = 1;
-
-	// selection, which method should be called
-	final static int NO_PARAMS = 0;
-	final static int LAT_LON = 1;
-	final static int COUNT = 2;
-
-	Vector cacheDB;
-	Preferences pref;
-	Profile profile;
-	// mask in file chooser
-	String mask = "*.gs";
-	// decimal separator for lat- and lon-String
-	char decimalSeparator = '.';
-	// if true, the complete cache details are read
-	// before a call to the record method is made
-	boolean needCacheDetails = true;
-
-	// name of exporter for saving pathname
-	String expName;
-
-	public MagellanExporter(Preferences p, Profile prof) {
-		profile = prof;
-		pref = p;
-		cacheDB = profile.cacheDB;
-		expName = this.getClass().getName();
-		// remove package
-		expName = expName.substring(expName.indexOf(".") + 1);
-	}
-
-	public void doIt() {
-		File configFile = new File("magellan.cfg");
-		if (configFile.exists()) {
-			FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, pref.getExportPath(expName+"Dir"));
-			fc.setTitle(MyLocale.getMsg(2104, "Choose directory for exporting .gs files"));
-			String targetDir;
-			if(fc.execute() != FormBase.IDCANCEL){
-				targetDir = fc.getChosen() + "/";
-				pref.setExportPath(expName+"Dir", targetDir);
-
-				CWPoint centre = profile.centre;
-				try {
-					LineNumberReader reader = new LineNumberReader(new BufferedReader(new FileReader(configFile)));
-					String line, fileName, coordinate;
-					while ((line = reader.readLine()) != null)  {
-						StringTokenizer tokenizer = new StringTokenizer(line,"=");
-						fileName = targetDir + tokenizer.nextToken().trim() + ".gs";
-						coordinate = tokenizer.nextToken().trim();
-						CWPoint point = new CWPoint(coordinate);
-						DistanceComparer dc = new DistanceComparer(point);
-						cacheDB.sort(dc, false);
-						doIt(fileName);
-					}
-					reader.close();
-				} catch (FileNotFoundException e) {
-					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2101, "Failure at loading magellan.cfg\n" + e.getMessage()));
-					info.show();
-				} catch (IOException e) {
-					InfoBox info = new InfoBox(MyLocale.getMsg(2100, "Magellan Exporter"),MyLocale.getMsg(2103, "Failure at reading magellan.cfg\n" + e.getMessage()));
-					info.show();
-				} finally {
-					cacheDB.sort(new DistanceComparer(centre),false);
-				}
-			}
-		}
-		else {
-			doIt(null);
-		}
-	}
-	
-	/**
-	 * Does the most work for exporting data
-	 */
-	public void doIt(String baseFileName) {
-		File outFile;
-		String fileBaseName;
-		String str = null;
-		CacheHolder ch;
-		CacheHolderDetail holder;
-		ProgressBarForm pbf = new ProgressBarForm();
-		Handle h = new Handle();
-
-		if (baseFileName == null) {
-			outFile = getOutputFile();
-			if (outFile == null)
-				return;
-		} else {
-			outFile = new File(baseFileName);
-		}
-
-		fileBaseName = outFile.getFullPath();
-		// cut .gs
-		fileBaseName = fileBaseName.substring(0, fileBaseName.length() - 3);
-
-		pbf.showMainTask = false;
-		pbf.setTask(h, "Exporting ...");
-		pbf.exec();
-
-		int counter = 0;
-		int expCount = 0;
-		for (int i = 0; i < cacheDB.size(); i++) {
-			ch = (CacheHolder) cacheDB.get(i);
-			if (ch.is_black == false && ch.is_filtered == false)
-				counter++;
-		}
-
-		try {
-			PrintWriter outp = null;
-			for (int i = 0; i < cacheDB.size(); i++) {
-				ch = (CacheHolder) cacheDB.get(i);
-				if (ch.is_black == false && ch.is_filtered == false) {
-					// all 200 caches we need a new file
-					if (expCount % 200 == 0) {
-						if (outp != null) {
-							outp.close();
-						}
-						outp = new PrintWriter(new BufferedWriter(
-								new FileWriter(new File(fileBaseName + expCount
-										/ 200 + ".gs"))));
-					}
-
-					holder = new CacheHolderDetail(ch);
-					expCount++;
-					h.progress = (float) expCount / (float) counter;
-					h.changed();
-					try {
-						if (needCacheDetails) {
-							holder.readCache(profile.dataDir);
-						}
-					} catch (IOException e) {
-						continue;
-					}
-					str = record(holder);
-					if (str != null)
-						outp.print(str);
-				}// if
-
-			}// for
-			str = trailer();
-
-			if (str != null)
-				outp.print(str);
-
-			outp.close();
-			pbf.exit(0);
-		} catch (IOException ioE) {
-			Vm.debug("Error opening " + outFile.getName());
-		}
-		// try
-	}
-
-	/**
-	 * uses a filechooser to get the name of the export file
-	 * 
-	 * @return
-	 */
-	public File getOutputFile() {
-		File file;
-		FileChooser fc = new FileChooser(FileChooserBase.SAVE, pref
-				.getExportPath(expName));
-		fc.setTitle(MyLocale.getMsg(2102, "Select target file:"));
-		fc.addMask(mask);
-		if (fc.execute() != FormBase.IDCANCEL) {
-			file = fc.getChosenFile();
-			pref.setExportPath(expName, file.getPath());
-			return file;
-		} else {
-			return null;
-		}
-	}
-
-	/**
-	 * this method can be overided by an exporter class
-	 * 
-	 * @param ch
-	 *            cachedata
-	 * @return formated cache data
-	 */
-	public String record(CacheHolderDetail chD) {
-		/*
-		static protected final int GC_AW_PARKING = 50;
-		static protected final int GC_AW_STAGE_OF_MULTI = 51;
-		static protected final int GC_AW_QUESTION = 52;
-		static protected final int GC_AW_FINAL = 53;
-		static protected final int GC_AW_TRAILHEAD = 54;
-		static protected final int GC_AW_REFERENCE = 55;
-		*/
-		StringBuffer sb = new StringBuffer();
-		sb.append("$PMGNGEO,");
-		sb.append(chD.pos.getLatDeg(CWPoint.DMM));
-		sb.append(chD.pos.getLatMin(CWPoint.DMM));
-		sb.append(",");
-		sb.append("N,");
-		sb.append(chD.pos.getLonDeg(CWPoint.DMM));
-		sb.append(chD.pos.getLonMin(CWPoint.DMM));
-		sb.append(",");
-		sb.append("E,");
-		sb.append("0000,"); // Height
-		sb.append("M,"); // in meter
-		sb.append(chD.wayPoint);
-		sb.append(",");
-		String add = "";
-		if (chD.isAddiWpt()) {
-			if (chD.type.equals("50")) {
-				add = "Pa:";
-			} else if (chD.type.equals("51")) {
-				add = "St:";
-			} else if (chD.type.equals("52")) {
-				add = "Qu:"; 
-			} else if (chD.type.equals("53")) {	
-				add = "Fi:";
-			} else if (chD.type.equals("54")) {
-				add = "Tr:";
-			} else if (chD.type.equals("55")) {	
-				add = "Re:";
-			}
-			sb.append(add).append(removeCommas(chD.CacheName));
-		} else {
-			sb.append(removeCommas(chD.CacheName));
-		}		
-		sb.append(",");
-		sb.append(removeCommas(chD.CacheOwner));
-		sb.append(",");
-		sb.append(removeCommas(Common.rot13(chD.Hints)));
-		sb.append(",");
-		
-		if (!add.equals("")) { // Set Picture in Explorist to Virtual
-			sb.append("Virtual Cache");
-		} else if (!chD.type.equals("8")) { // Rewrite Unknown Caches
-			sb.append(CacheType.transType(chD.type));
-		} else {
-			sb.append("Mystery Cache");
-		}
-		sb.append(",");
-		sb.append(toGsDateFormat(chD.DateHidden));  // created - DDMMYYY, YYY = year - 1900
-		sb.append(",");
-		String lastFound = "0000";
-		for (int i = 0; i < chD.CacheLogs.size(); i++) {
-			if (chD.CacheLogs.getLog(i).isFoundLog() && chD.CacheLogs.getLog(i).getDate().compareTo(lastFound) > 0 ) {
-				lastFound = chD.CacheLogs.getLog(i).getDate();
-			}
-		}
-		
-		sb.append(toGsDateFormat(lastFound)); // lastFound - DDMMYYY, YYY = year - 1900
-		sb.append(",");
-		sb.append(removeCommas(chD.hard));
-		sb.append(",");
-		sb.append(removeCommas(chD.terrain));
-		sb.append("*41");
-		return Exporter.simplifyString(sb.toString() + "\r\n");
-	}
-
-	/**
-	 * this method can be overided by an exporter class
-	 * 
-	 * @return formated trailer data
-	 */
-	public String trailer() {
-		return "$PMGNCMD,END*3D\n";
-	}
-	
-	/**
-	 * Changes "," in "." in the input String
-	 * @param input
-	 * @return changed String
-	 */
-	private String removeCommas(String input) {
-		return input.replace(',', '.');
-	}
-	
-	/**
-	 * change the Dateformat from "yyyy-mm-dd" to ddmmyyy, where yyy is years after 1900 
-	 * @param input Date in yyyy-mm-dd
- 	 * @return Date in ddmmyyy
-	 */
-	private String toGsDateFormat(String input) {
-		if (input.length() >= 10) {
-			return input.substring(8, 10) + input.substring(5, 7) + "1" + input.substring(2, 4);
-		} 
-		else {
-			return "";
-		}
-	}
-	
-}
\ No newline at end of file



From engywuck at mail.berlios.de  Thu Mar 27 18:58:05 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Thu, 27 Mar 2008 18:58:05 +0100
Subject: [Cachewolf-svn] r1300 - in trunk: res_noewe/languages src/CacheWolf
	src/CacheWolf/navi
Message-ID: <200803271758.m2RHw53Z026570@sheep.berlios.de>

Author: engywuck
Date: 2008-03-27 18:57:56 +0100 (Thu, 27 Mar 2008)
New Revision: 1300

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/navi/MapsList.java
Log:
A little tidy up...

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-03-27 07:14:50 UTC (rev 1299)
+++ trunk/res_noewe/languages/DE.cfg	2008-03-27 17:57:56 UTC (rev 1300)
@@ -683,6 +683,8 @@
 		4923=fromWgs84: EPSG code+
 		4924=ToWgs84: EPSG code+
 		5000=Lade Cacheliste
+		5001=Hilfswegpunkte k%f6nnnen nicht direkt gespidert werden.%0aBitte zus%e4tzlich den Vater anhaken.
+		5002=: Diese Funktion steht gegenw%e4rtig nur f%fcr Geocaching.com und Opencaching.de zur Verf%fcgung.
 		5497=Fehler: Ein Tag in spider.def fehlt
 		5498=Login nicht m%f6glich. Fehler beim Laden der Seite nach Login.
 		5499=Fehler beim Laden der Login Seite

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-27 07:14:50 UTC (rev 1299)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-27 17:57:56 UTC (rev 1300)
@@ -671,6 +671,8 @@
 		5498=Login failed. Error loading page after login. 
 		5499=Error loading login page
 		5000=Load Cachelist
+		5001=Can't spider additional waypoint directly.%0aPlease check main cache.
+		5002=: At the moment this function is only applicable for geocaching.com and opencaching.de.
 		5497=Error missing tag in spider.def
 		5500=Error
 		5501=Login failed! Wrong account or password?

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-03-27 07:14:50 UTC (rev 1299)
+++ trunk/src/CacheWolf/MainMenu.java	2008-03-27 17:57:56 UTC (rev 1300)
@@ -636,17 +636,19 @@
 //					if ( (ch.wayPoint.length() > 1 && ch.wayPoint.substring(0,2).equalsIgnoreCase("GC")))
 //					Notiz: Wenn es ein addi Wpt ist, sollte eigentlich der Maincache gespidert werden
 //					Alter code pr?ft aber nur ob ein Maincache von GC existiert und versucht dann den addi direkt zu spidern, was nicht funktioniert
-//					TODO: Diese Meldungen vor dem Einloggen darstellen						
 				{
 					cachesToUpdate.add(new Integer(i));
 				} else {
 					if (ch.isAddiWpt() && ch.mainCache!=null && !ch.mainCache.is_Checked && !alreadySaid2) { // Is the father ticked?
 						alreadySaid2=true;
-						(new MessageBox("Information","Hilfswegpunkte k?nnnen nicht direkt gespidert werden\nBitte zus?tzlich den Vater anhaken", FormBase.OKB)).execute();
+						(new MessageBox(MyLocale.getMsg(327,"Information"),
+								        MyLocale.getMsg(5001,"Can't spider additional waypoint directly. Please check main cache."), FormBase.OKB)).execute();
 					}
 					if (!ch.isAddiWpt() && !alreadySaid) {
 						alreadySaid = true;
-						(new MessageBox("Information",ch.wayPoint+ ": Diese Funktion steht gegenw?rtig nur f?r Geocaching.com und Opencaching.de zur Verf?gung", FormBase.OKB)).execute();
+						(new MessageBox(MyLocale.getMsg(327,"Information"),
+								        ch.wayPoint+ 
+								        MyLocale.getMsg(5002,": At the moment this function is only applicable for geocaching.com and opencaching.de."), FormBase.OKB)).execute();
 					}
 				}
 

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2008-03-27 07:14:50 UTC (rev 1299)
+++ trunk/src/CacheWolf/navi/MapsList.java	2008-03-27 17:57:56 UTC (rev 1300)
@@ -423,7 +423,6 @@
 		map = null;
 		/*
 		try {map = new MapInfoObject(path, filename); } catch (Exception e) {
-			// TODO: handle exception
 		}
 		
 		ewe.sys.Vm.debug("centerID: "+map.getCenterID());



From pfeffer at mail.berlios.de  Thu Mar 27 23:19:02 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Thu, 27 Mar 2008 23:19:02 +0100
Subject: [Cachewolf-svn] r1301 - in trunk/src/CacheWolf: . navi
Message-ID: <200803272219.m2RMJ2TU003378@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-27 23:18:59 +0100 (Thu, 27 Mar 2008)
New Revision: 1301

Modified:
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/navi/MapInfoObject.java
   trunk/src/CacheWolf/navi/MapSymbol.java
   trunk/src/CacheWolf/navi/Navigate.java
   trunk/src/CacheWolf/navi/Track.java
Log:
removed some already done TODO tags

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-27 17:57:56 UTC (rev 1300)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-27 22:18:59 UTC (rev 1301)
@@ -570,8 +570,7 @@
 	
 	private void getPic(String fetchURL, String picDesc) { // TODO handling of relativ URLs
 		try {
-			if (!fetchURL.startsWith("http://")) fetchURL = new URL(new URL("http://" + OPENCACHING_HOST+"/"), fetchURL).toString();
-			// if (!fetchURL.startsWith("http://")) fetchURL = "http://" + OPENCACHING_HOST + "/" + fetchURL; // TODO use URL.relative or so.. this is not quite correct: actually the "base" URL must be known... but anyway a different baseURL should not happen very often  - it doesn't in my area
+			if (!fetchURL.startsWith("http://")) fetchURL = new URL(new URL("http://" + OPENCACHING_HOST+"/"), fetchURL).toString(); // TODO this is not quite correct: actually the "base" URL must be known... but anyway a different baseURL should not happen very often  - it doesn't in my area
 			String fileName = createPicFilename(fetchURL);
 			// add title
 			chD.ImagesText.add(picDesc);

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-27 17:57:56 UTC (rev 1300)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2008-03-27 22:18:59 UTC (rev 1301)
@@ -54,10 +54,7 @@
 	static private String digSep = MyLocale.getDigSeparator();
 	private int coordTrans = 0; 
 
-	public MapInfoObject() { // TODO remove this
-		//double testA = Convert.toDouble("1,50") + Convert.toDouble("3,00");
-		//if(testA == 4.5) digSep = ","; else digSep = ".";
-	}
+	public MapInfoObject() { }
 
 	public MapInfoObject(MapInfoObject map) {
 		super (map.topleft, map.buttomright);
@@ -178,12 +175,9 @@
 			buttomright.latDec = Common.parseDoubleException(line);
 			line = in.readLine();
 			buttomright.lonDec = Common.parseDoubleException(line);
-//			if (in.ready()) {// if there is more data... TODO this doesn't give the answer if there is more data :-(
-				line = in.readLine();
-				coordTrans = Common.parseInt(line);
-				//coordTrans = new TransformCoordinatesProperties(instream);
-			//}
-		//	else coordTrans = 0;
+			line = in.readLine(); // readLine returns null, if End of File reached
+			if (line != null) coordTrans = Common.parseInt(line);
+			else coordTrans = 0;
 			fileNameWFL = mapsPath + thisMap + ".wfl";
 //			fileName = ""; //mapsPath + thisMap + ".png";
 			mapName = thisMap;

Modified: trunk/src/CacheWolf/navi/MapSymbol.java
===================================================================
--- trunk/src/CacheWolf/navi/MapSymbol.java	2008-03-27 17:57:56 UTC (rev 1300)
+++ trunk/src/CacheWolf/navi/MapSymbol.java	2008-03-27 22:18:59 UTC (rev 1301)
@@ -3,7 +3,7 @@
 import CacheWolf.CWPoint;
 import ewe.fx.*;
 
-public class MapSymbol extends MapImage { // TODO make this implement MapImage, so that it will be invisible automatically if not on screen. When doing so, test if setgoto-pos -> open map from gotopanel shows the map symbols (directly after starting CW)
+public class MapSymbol extends MapImage {
 	Object mapObject;
 	String name;
 	String filename;

Modified: trunk/src/CacheWolf/navi/Navigate.java
===================================================================
--- trunk/src/CacheWolf/navi/Navigate.java	2008-03-27 17:57:56 UTC (rev 1300)
+++ trunk/src/CacheWolf/navi/Navigate.java	2008-03-27 22:18:59 UTC (rev 1301)
@@ -137,7 +137,7 @@
 			} catch (IndexOutOfBoundsException e) { // track full -> create a new one
 				curTrack = new Track(trackColor); 
 				curTrack.add(gpsPos);
-				if (movingMap != null) movingMap.addTrack(curTrack); // TODO maybe gotoPanel should also hold a list of Tracks, because otherwise they will be destroyed if not saved in mmp before
+				if (movingMap != null) movingMap.addTrack(curTrack);
 			}
 			try {
 				SkyOrientation.getSunAzimut(gpsPos.Time, gpsPos.Date, gpsPos.latDec, gpsPos.lonDec);

Modified: trunk/src/CacheWolf/navi/Track.java
===================================================================
--- trunk/src/CacheWolf/navi/Track.java	2008-03-27 17:57:56 UTC (rev 1300)
+++ trunk/src/CacheWolf/navi/Track.java	2008-03-27 22:18:59 UTC (rev 1301)
@@ -18,7 +18,7 @@
 		num++;
 	}
 =====*/	
-	/*
+	/**
 	 * throws IndexOutOfBoundsException when track is full
 	 */
 	public void add(TrackPoint t) { 



From mik77 at mail.berlios.de  Fri Mar 28 10:35:14 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Fri, 28 Mar 2008 10:35:14 +0100
Subject: [Cachewolf-svn] r1302 - trunk/src/CacheWolf
Message-ID: <200803280935.m2S9ZEEF030871@sheep.berlios.de>

Author: mik77
Date: 2008-03-28 10:35:07 +0100 (Fri, 28 Mar 2008)
New Revision: 1302

Modified:
   trunk/src/CacheWolf/MainTab.java
Log:
Sort new waypoint to the correct position when switching to list.

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-27 22:18:59 UTC (rev 1301)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-28 09:35:07 UTC (rev 1302)
@@ -155,8 +155,9 @@
 			// Update chD with Details
 			if(detP.isDirty()) {
 				cacheDirty=true;
+				boolean isNew = detP.isNew();
 				detP.saveDirtyWaypoint();
-				if (detP.isNew()) {
+				if (isNew) {
 					tbP.myMod.updateRows();// This sorts the waypoint (if it is new) into the right position
 					tbP.selectRow(profile.getCacheIndex(detP.thisCache.wayPoint));
 				}



From engywuck at mail.berlios.de  Fri Mar 28 17:18:24 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Fri, 28 Mar 2008 17:18:24 +0100
Subject: [Cachewolf-svn] r1303 - /
Message-ID: <200803281618.m2SGIO7t000161@sheep.berlios.de>

Author: engywuck
Date: 2008-03-28 17:18:23 +0100 (Fri, 28 Mar 2008)
New Revision: 1303

Added:
   experiments/
Log:
Created folder remotely



From engywuck at mail.berlios.de  Fri Mar 28 17:18:49 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Fri, 28 Mar 2008 17:18:49 +0100
Subject: [Cachewolf-svn] r1304 - experiments
Message-ID: <200803281618.m2SGInRS000215@sheep.berlios.de>

Author: engywuck
Date: 2008-03-28 17:18:47 +0100 (Fri, 28 Mar 2008)
New Revision: 1304

Added:
   experiments/engywuck/
Log:
Created folder remotely



From engywuck at mail.berlios.de  Fri Mar 28 17:21:14 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Fri, 28 Mar 2008 17:21:14 +0100
Subject: [Cachewolf-svn] r1305 - experiments/engywuck
Message-ID: <200803281621.m2SGLEmO000525@sheep.berlios.de>

Author: engywuck
Date: 2008-03-28 17:21:12 +0100 (Fri, 28 Mar 2008)
New Revision: 1305

Added:
   experiments/engywuck/cp-test/
Log:
Tests for JARs, classpaths, sourcefiles etc. in Eclipse

Copied: experiments/engywuck/cp-test (from rev 1304, trunk)



From engywuck at mail.berlios.de  Fri Mar 28 22:13:58 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Fri, 28 Mar 2008 22:13:58 +0100
Subject: [Cachewolf-svn] r1306 - in experiments/engywuck/cp-test: . config
Message-ID: <200803282113.m2SLDwOr020583@sheep.berlios.de>

Author: engywuck
Date: 2008-03-28 22:13:55 +0100 (Fri, 28 Mar 2008)
New Revision: 1306

Added:
   experiments/engywuck/cp-test/config/
   experiments/engywuck/cp-test/config/CacheWolf.launch
Modified:
   experiments/engywuck/cp-test/.classpath
Log:
Anpassungen f?r Eclipse-Konfiguration

Modified: experiments/engywuck/cp-test/.classpath
===================================================================
--- experiments/engywuck/cp-test/.classpath	2008-03-28 16:21:12 UTC (rev 1305)
+++ experiments/engywuck/cp-test/.classpath	2008-03-28 21:13:55 UTC (rev 1306)
@@ -1,8 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <classpath>
 	<classpathentry kind="src" path="src"/>
-	<classpathentry kind="lib" path="lib/CompileEwe.zip" sourcepath="lib/JavaEwe.zip"/>
-	<classpathentry kind="lib" path="lib/ewe.jar"/>
+	<classpathentry kind="lib" path="lib/CompileEwe.zip"/>
 	<classpathentry kind="lib" path="lib"/>
 	<classpathentry kind="output" path="bin"/>
 </classpath>

Added: experiments/engywuck/cp-test/config/CacheWolf.launch
===================================================================
--- experiments/engywuck/cp-test/config/CacheWolf.launch	2008-03-28 16:21:12 UTC (rev 1305)
+++ experiments/engywuck/cp-test/config/CacheWolf.launch	2008-03-28 21:13:55 UTC (rev 1306)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<launchConfiguration type="org.eclipse.jdt.launching.localJavaApplication">
+<listAttribute key="org.eclipse.debug.core.MAPPED_RESOURCE_PATHS">
+<listEntry value="/CacheWolf"/>
+</listAttribute>
+<listAttribute key="org.eclipse.debug.core.MAPPED_RESOURCE_TYPES">
+<listEntry value="4"/>
+</listAttribute>
+<booleanAttribute key="org.eclipse.debug.core.appendEnvironmentVariables" value="true"/>
+<listAttribute key="org.eclipse.jdt.launching.CLASSPATH">
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry path=&quot;3&quot; projectName=&quot;CacheWolf&quot; type=&quot;1&quot;/&gt;&#13;&#10;"/>
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/JavaEwe.zip&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
+</listAttribute>
+<booleanAttribute key="org.eclipse.jdt.launching.DEFAULT_CLASSPATH" value="false"/>
+<stringAttribute key="org.eclipse.jdt.launching.MAIN_TYPE" value="Ewe"/>
+<stringAttribute key="org.eclipse.jdt.launching.PROGRAM_ARGUMENTS" value="CacheWolf.CacheWolf"/>
+<stringAttribute key="org.eclipse.jdt.launching.PROJECT_ATTR" value="CacheWolf"/>
+<stringAttribute key="org.eclipse.jdt.launching.WORKING_DIRECTORY" value="${workspace_loc:CacheWolf/work}"/>
+</launchConfiguration>



From pfeffer at mail.berlios.de  Fri Mar 28 22:39:14 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Fri, 28 Mar 2008 22:39:14 +0100
Subject: [Cachewolf-svn] r1307 - trunk/src/CacheWolf
Message-ID: <200803282139.m2SLdE5k024084@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-28 22:39:13 +0100 (Fri, 28 Mar 2008)
New Revision: 1307

Modified:
   trunk/src/CacheWolf/Version.java
Log:
Version: version checking updated to use www.cachewolf.org/currentversions.txt in order to use a stable URL

Modified: trunk/src/CacheWolf/Version.java
===================================================================
--- trunk/src/CacheWolf/Version.java	2008-03-28 21:13:55 UTC (rev 1306)
+++ trunk/src/CacheWolf/Version.java	2008-03-28 21:39:13 UTC (rev 1307)
@@ -43,7 +43,7 @@
 	 * @throws IOException
 	 */
 	public static void checkForUpdates() throws IOException {
-		Properties curvers = UrlFetcher.fetchPropertyList("http://svn.berlios.de/svnroot/repos/cachewolf/trunk/currentversions.txt");
+		Properties curvers = UrlFetcher.fetchPropertyList("http://www.cachewolf.org/currentversions.txt");
 		for (int i = updateavailabe.length-1; i >=1; i--) {
 			updateavailabe[i] = (checkVersion(curvers, "T"+(i-1))); 
 		}



From engywuck at mail.berlios.de  Fri Mar 28 22:54:19 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Fri, 28 Mar 2008 22:54:19 +0100
Subject: [Cachewolf-svn] r1308 - experiments/engywuck/cp-test/config
Message-ID: <200803282154.m2SLsJj5025966@sheep.berlios.de>

Author: engywuck
Date: 2008-03-28 22:54:16 +0100 (Fri, 28 Mar 2008)
New Revision: 1308

Added:
   experiments/engywuck/cp-test/config/CacheWolflaunch.default
Removed:
   experiments/engywuck/cp-test/config/CacheWolf.launch
Log:
Rename of launch configuration file

Deleted: experiments/engywuck/cp-test/config/CacheWolf.launch
===================================================================
--- experiments/engywuck/cp-test/config/CacheWolf.launch	2008-03-28 21:39:13 UTC (rev 1307)
+++ experiments/engywuck/cp-test/config/CacheWolf.launch	2008-03-28 21:54:16 UTC (rev 1308)
@@ -1,20 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="no"?>
-<launchConfiguration type="org.eclipse.jdt.launching.localJavaApplication">
-<listAttribute key="org.eclipse.debug.core.MAPPED_RESOURCE_PATHS">
-<listEntry value="/CacheWolf"/>
-</listAttribute>
-<listAttribute key="org.eclipse.debug.core.MAPPED_RESOURCE_TYPES">
-<listEntry value="4"/>
-</listAttribute>
-<booleanAttribute key="org.eclipse.debug.core.appendEnvironmentVariables" value="true"/>
-<listAttribute key="org.eclipse.jdt.launching.CLASSPATH">
-<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry path=&quot;3&quot; projectName=&quot;CacheWolf&quot; type=&quot;1&quot;/&gt;&#13;&#10;"/>
-<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/JavaEwe.zip&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
-<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
-</listAttribute>
-<booleanAttribute key="org.eclipse.jdt.launching.DEFAULT_CLASSPATH" value="false"/>
-<stringAttribute key="org.eclipse.jdt.launching.MAIN_TYPE" value="Ewe"/>
-<stringAttribute key="org.eclipse.jdt.launching.PROGRAM_ARGUMENTS" value="CacheWolf.CacheWolf"/>
-<stringAttribute key="org.eclipse.jdt.launching.PROJECT_ATTR" value="CacheWolf"/>
-<stringAttribute key="org.eclipse.jdt.launching.WORKING_DIRECTORY" value="${workspace_loc:CacheWolf/work}"/>
-</launchConfiguration>

Copied: experiments/engywuck/cp-test/config/CacheWolflaunch.default (from rev 1306, experiments/engywuck/cp-test/config/CacheWolf.launch)



From engywuck at mail.berlios.de  Sat Mar 29 12:11:28 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sat, 29 Mar 2008 12:11:28 +0100
Subject: [Cachewolf-svn] r1309 - in experiments/engywuck/cp-test: . config
	lib lib/additional lib/compile lib/develop
Message-ID: <200803291111.m2TBBScS032577@sheep.berlios.de>

Author: engywuck
Date: 2008-03-29 12:11:15 +0100 (Sat, 29 Mar 2008)
New Revision: 1309

Added:
   experiments/engywuck/cp-test/lib/additional/
   experiments/engywuck/cp-test/lib/additional/HTML/
   experiments/engywuck/cp-test/lib/additional/com/
   experiments/engywuck/cp-test/lib/additional/ewesoft/
   experiments/engywuck/cp-test/lib/compile/
   experiments/engywuck/cp-test/lib/compile/CompileEwe.zip
   experiments/engywuck/cp-test/lib/compile/ewe.jar
   experiments/engywuck/cp-test/lib/develop/
   experiments/engywuck/cp-test/lib/develop/JavaEwe.zip
Removed:
   experiments/engywuck/cp-test/lib/CompileEwe.zip
   experiments/engywuck/cp-test/lib/HTML/
   experiments/engywuck/cp-test/lib/JavaEwe.zip
   experiments/engywuck/cp-test/lib/com/
   experiments/engywuck/cp-test/lib/ewe.jar
   experiments/engywuck/cp-test/lib/ewesoft/
Modified:
   experiments/engywuck/cp-test/.classpath
   experiments/engywuck/cp-test/buildexe.bat
   experiments/engywuck/cp-test/buildexe.sh
   experiments/engywuck/cp-test/compile.bat
   experiments/engywuck/cp-test/compile.sh
   experiments/engywuck/cp-test/config/CacheWolflaunch.default
   experiments/engywuck/cp-test/fwrtsnapshot.sh
   experiments/engywuck/cp-test/getRes.bat
   experiments/engywuck/cp-test/runconsole.bat
   experiments/engywuck/cp-test/runewe.sh
   experiments/engywuck/cp-test/runjewel.bat
   experiments/engywuck/cp-test/runjewel.sh
   experiments/engywuck/cp-test/runwolf.bat
   experiments/engywuck/cp-test/runwolf.sh
Log:
Rearrangement of library files and adaption of Eclipse configuration

Modified: experiments/engywuck/cp-test/.classpath
===================================================================
--- experiments/engywuck/cp-test/.classpath	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/.classpath	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <classpath>
 	<classpathentry kind="src" path="src"/>
-	<classpathentry kind="lib" path="lib/CompileEwe.zip"/>
-	<classpathentry kind="lib" path="lib"/>
+	<classpathentry kind="lib" path="lib/additional"/>
+	<classpathentry kind="lib" path="lib/compile/CompileEwe.zip" sourcepath="lib/develop/JavaEwe.zip"/>
 	<classpathentry kind="output" path="bin"/>
 </classpath>

Modified: experiments/engywuck/cp-test/buildexe.bat
===================================================================
--- experiments/engywuck/cp-test/buildexe.bat	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/buildexe.bat	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,5 +1,5 @@
 call getres.bat
-java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
-java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
+java -cp lib/compile/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
+java -cp lib/compile/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
 REM Dont change the order above because the PC version has to overwrite the PDA version of the EWE-file
 pause

Modified: experiments/engywuck/cp-test/buildexe.sh
===================================================================
--- experiments/engywuck/cp-test/buildexe.sh	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/buildexe.sh	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,4 +1,4 @@
 #!/bin/sh
-java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
-java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
+java -cp lib/compile/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
+java -cp lib/compile/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
 # Dont change the order above because the PC version has to overwrite the PDA version of the EWE-file

Modified: experiments/engywuck/cp-test/compile.bat
===================================================================
--- experiments/engywuck/cp-test/compile.bat	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/compile.bat	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,4 +1,4 @@
 if not exist bin\CacheWolf mkdir bin\CacheWolf
 if not exist bin\exp mkdir bin\exp
-javac -classpath ./lib/CompileEwe.zip;./lib/  -d ./bin/ -deprecation ./src/CacheWolf/*.java ./src/CacheWolf/imp/*.java ./src/CacheWolf/navi/*.java ./src/exp/*.java ./src/utils/*.java
+javac -classpath ./lib/compile/CompileEwe.zip;./lib/additional/  -d ./bin/ -deprecation ./src/CacheWolf/*.java ./src/CacheWolf/imp/*.java ./src/CacheWolf/navi/*.java ./src/exp/*.java ./src/utils/*.java
 pause
\ No newline at end of file

Modified: experiments/engywuck/cp-test/compile.sh
===================================================================
--- experiments/engywuck/cp-test/compile.sh	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/compile.sh	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,2 +1,2 @@
 #!/bin/sh
-javac -cp ./lib/CompileEwe.zip:./lib/  -d ./bin/ -deprecation -nowarn ./src/CacheWolf/*.java ./src/CacheWolf/*/*.java ./src/exp/*.java ./src/utils/*.java
+javac -cp ./lib/compile/CompileEwe.zip:./lib/additional/  -d ./bin/ -deprecation -nowarn ./src/CacheWolf/*.java ./src/CacheWolf/*/*.java ./src/exp/*.java ./src/utils/*.java

Modified: experiments/engywuck/cp-test/config/CacheWolflaunch.default
===================================================================
--- experiments/engywuck/cp-test/config/CacheWolflaunch.default	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/config/CacheWolflaunch.default	2008-03-29 11:11:15 UTC (rev 1309)
@@ -9,8 +9,8 @@
 <booleanAttribute key="org.eclipse.debug.core.appendEnvironmentVariables" value="true"/>
 <listAttribute key="org.eclipse.jdt.launching.CLASSPATH">
 <listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry path=&quot;3&quot; projectName=&quot;CacheWolf&quot; type=&quot;1&quot;/&gt;&#13;&#10;"/>
-<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/JavaEwe.zip&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
-<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/develop/JavaEwe.zip&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/additional&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
 </listAttribute>
 <booleanAttribute key="org.eclipse.jdt.launching.DEFAULT_CLASSPATH" value="false"/>
 <stringAttribute key="org.eclipse.jdt.launching.MAIN_TYPE" value="Ewe"/>

Modified: experiments/engywuck/cp-test/fwrtsnapshot.sh
===================================================================
--- experiments/engywuck/cp-test/fwrtsnapshot.sh	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/fwrtsnapshot.sh	2008-03-29 11:11:15 UTC (rev 1309)
@@ -7,7 +7,7 @@
     ed -s src/CacheWolf/Version.java
 rm -rf bin
 mkdir -p bin/CacheWolf
-javac -source 1.3 -target 1.1 -encoding windows-1252 -cp ./lib/CompileEwe.zip:./lib/  -d ./bin/ -deprecation -nowarn ./src/CacheWolf/*.java ./src/CacheWolf/*/*.java ./src/exp/*.java ./src/utils/*.java
+javac -source 1.3 -target 1.1 -encoding windows-1252 -cp ./lib/compile/CompileEwe.zip:./lib/additional/  -d ./bin/ -deprecation -nowarn ./src/CacheWolf/*.java ./src/CacheWolf/*/*.java ./src/exp/*.java ./src/utils/*.java
 /usr/local/bin/ewecl programs/Jewel.ewe -c cw-pda.jnf
 /usr/local/bin/ewecl programs/Jewel.ewe -c cw-pc.jnf
 # Dont change the order above because the PC version has to overwrite the PDA version of the EWE-file

Modified: experiments/engywuck/cp-test/getRes.bat
===================================================================
--- experiments/engywuck/cp-test/getRes.bat	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/getRes.bat	2008-03-29 11:11:15 UTC (rev 1309)
@@ -13,4 +13,3 @@
 copy .\res_noewe\webmapservices\*.* .\work\webmapservices\*.*
 mkdir .\work\languages
 copy .\res_noewe\languages\*.* .\work\languages\*.*
-copy .\lib\*.dll .\work\

Deleted: experiments/engywuck/cp-test/lib/CompileEwe.zip
===================================================================
(Binary files differ)

Deleted: experiments/engywuck/cp-test/lib/JavaEwe.zip
===================================================================
(Binary files differ)

Copied: experiments/engywuck/cp-test/lib/additional/HTML (from rev 1308, experiments/engywuck/cp-test/lib/HTML)

Copied: experiments/engywuck/cp-test/lib/additional/com (from rev 1308, experiments/engywuck/cp-test/lib/com)

Copied: experiments/engywuck/cp-test/lib/additional/ewesoft (from rev 1308, experiments/engywuck/cp-test/lib/ewesoft)

Copied: experiments/engywuck/cp-test/lib/compile/CompileEwe.zip (from rev 1308, experiments/engywuck/cp-test/lib/CompileEwe.zip)

Copied: experiments/engywuck/cp-test/lib/compile/ewe.jar (from rev 1308, experiments/engywuck/cp-test/lib/ewe.jar)

Copied: experiments/engywuck/cp-test/lib/develop/JavaEwe.zip (from rev 1308, experiments/engywuck/cp-test/lib/JavaEwe.zip)

Deleted: experiments/engywuck/cp-test/lib/ewe.jar
===================================================================
(Binary files differ)

Modified: experiments/engywuck/cp-test/runconsole.bat
===================================================================
--- experiments/engywuck/cp-test/runconsole.bat	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/runconsole.bat	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,3 +1,3 @@
 cd work
-java -Dcom.sun.management.jmxremote -cp ../lib/ewe.jar;../lib;../bin Ewe CacheWolf.CacheWolf
+java -Dcom.sun.management.jmxremote -cp ../lib/compile/ewe.jar;../lib/additional;../bin Ewe CacheWolf.CacheWolf
 cd ..

Modified: experiments/engywuck/cp-test/runewe.sh
===================================================================
--- experiments/engywuck/cp-test/runewe.sh	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/runewe.sh	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,4 +1,4 @@
 #!/bin/sh
 cd work
-java -cp ../lib/ewe.jar Ewe CacheWolf.ewe
+java -cp ../lib/compile/ewe.jar Ewe CacheWolf.ewe
 cd ..

Modified: experiments/engywuck/cp-test/runjewel.bat
===================================================================
--- experiments/engywuck/cp-test/runjewel.bat	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/runjewel.bat	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1 +1 @@
-java -cp lib/ewe.jar Ewe ../Ewe/programs/Jewel.ewe
+java -cp lib/compile/ewe.jar Ewe programs/Jewel.ewe

Modified: experiments/engywuck/cp-test/runjewel.sh
===================================================================
--- experiments/engywuck/cp-test/runjewel.sh	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/runjewel.sh	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,2 +1,2 @@
 #!/bin/sh
-java -cp lib/ewe.jar Ewe ../Ewe/programs/Jewel.ewe cwberlios.jnf
+java -cp lib/compile/ewe.jar Ewe programs/Jewel.ewe cwberlios.jnf

Modified: experiments/engywuck/cp-test/runwolf.bat
===================================================================
--- experiments/engywuck/cp-test/runwolf.bat	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/runwolf.bat	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,3 +1,3 @@
 cd work
-java -cp ../lib/ewe.jar;../lib;../bin Ewe CacheWolf.CacheWolf
+java -cp ../lib/compile/ewe.jar;../lib/additional;../bin Ewe CacheWolf.CacheWolf
 cd ..

Modified: experiments/engywuck/cp-test/runwolf.sh
===================================================================
--- experiments/engywuck/cp-test/runwolf.sh	2008-03-28 21:54:16 UTC (rev 1308)
+++ experiments/engywuck/cp-test/runwolf.sh	2008-03-29 11:11:15 UTC (rev 1309)
@@ -1,4 +1,4 @@
 #!/bin/sh
 cd work
-java -cp ../lib/ewe.jar:../lib:../bin Ewe CacheWolf.CacheWolf
+java -cp ../lib/compile/ewe.jar:../lib/additional:../bin Ewe CacheWolf.CacheWolf
 cd ..



From engywuck at mail.berlios.de  Sat Mar 29 17:20:50 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sat, 29 Mar 2008 17:20:50 +0100
Subject: [Cachewolf-svn] r1310 - in experiments/engywuck/cp-test: . lib
Message-ID: <200803291620.m2TGKoNH017339@sheep.berlios.de>

Author: engywuck
Date: 2008-03-29 17:20:47 +0100 (Sat, 29 Mar 2008)
New Revision: 1310

Added:
   experiments/engywuck/cp-test/CacheWolflaunch.default
   experiments/engywuck/cp-test/lib/Ewe4JavaVM/
Removed:
   experiments/engywuck/cp-test/config/
   experiments/engywuck/cp-test/lib/develop/
Modified:
   experiments/engywuck/cp-test/.classpath
Log:
Some changes and renaming concerning configuration

Modified: experiments/engywuck/cp-test/.classpath
===================================================================
--- experiments/engywuck/cp-test/.classpath	2008-03-29 11:11:15 UTC (rev 1309)
+++ experiments/engywuck/cp-test/.classpath	2008-03-29 16:20:47 UTC (rev 1310)
@@ -2,6 +2,6 @@
 <classpath>
 	<classpathentry kind="src" path="src"/>
 	<classpathentry kind="lib" path="lib/additional"/>
-	<classpathentry kind="lib" path="lib/compile/CompileEwe.zip" sourcepath="lib/develop/JavaEwe.zip"/>
+	<classpathentry kind="lib" path="lib/compile/CompileEwe.zip" sourcepath="lib/Ewe4JavaVM/JavaEwe.zip"/>
 	<classpathentry kind="output" path="bin"/>
 </classpath>

Copied: experiments/engywuck/cp-test/CacheWolflaunch.default (from rev 1309, experiments/engywuck/cp-test/config/CacheWolflaunch.default)
===================================================================
--- experiments/engywuck/cp-test/config/CacheWolflaunch.default	2008-03-29 11:11:15 UTC (rev 1309)
+++ experiments/engywuck/cp-test/CacheWolflaunch.default	2008-03-29 16:20:47 UTC (rev 1310)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<launchConfiguration type="org.eclipse.jdt.launching.localJavaApplication">
+<listAttribute key="org.eclipse.debug.core.MAPPED_RESOURCE_PATHS">
+<listEntry value="/CacheWolf"/>
+</listAttribute>
+<listAttribute key="org.eclipse.debug.core.MAPPED_RESOURCE_TYPES">
+<listEntry value="4"/>
+</listAttribute>
+<booleanAttribute key="org.eclipse.debug.core.appendEnvironmentVariables" value="true"/>
+<listAttribute key="org.eclipse.jdt.launching.CLASSPATH">
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry path=&quot;3&quot; projectName=&quot;CacheWolf&quot; type=&quot;1&quot;/&gt;&#13;&#10;"/>
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/additional&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/Ewe4JavaVM/JavaEwe.zip&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
+</listAttribute>
+<booleanAttribute key="org.eclipse.jdt.launching.DEFAULT_CLASSPATH" value="false"/>
+<stringAttribute key="org.eclipse.jdt.launching.MAIN_TYPE" value="Ewe"/>
+<stringAttribute key="org.eclipse.jdt.launching.PROGRAM_ARGUMENTS" value="CacheWolf.CacheWolf"/>
+<stringAttribute key="org.eclipse.jdt.launching.PROJECT_ATTR" value="CacheWolf"/>
+<stringAttribute key="org.eclipse.jdt.launching.WORKING_DIRECTORY" value="${workspace_loc:CacheWolf/work}"/>
+</launchConfiguration>
\ No newline at end of file

Copied: experiments/engywuck/cp-test/lib/Ewe4JavaVM (from rev 1309, experiments/engywuck/cp-test/lib/develop)



From mik77 at mail.berlios.de  Sun Mar 30 03:12:53 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 30 Mar 2008 03:12:53 +0200
Subject: [Cachewolf-svn] r1311 - trunk/src/CacheWolf
Message-ID: <200803300112.m2U1CrKA013907@sheep.berlios.de>

Author: mik77
Date: 2008-03-30 03:12:51 +0200 (Sun, 30 Mar 2008)
New Revision: 1311

Modified:
   trunk/src/CacheWolf/MainTab.java
Log:
Always hide SIP, when switching to GotoPanel.

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-29 16:20:47 UTC (rev 1310)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-30 01:12:51 UTC (rev 1311)
@@ -242,7 +242,7 @@
 			}
 			break;
 		case 7: // GotoPanel
-			MyLocale.setSIPButton();
+			MyLocale.setSIPOff();
 			break;
 		case 8:  // Cache Radar Panel
 			MyLocale.setSIPOff();



From mik77 at mail.berlios.de  Sun Mar 30 03:40:39 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 30 Mar 2008 03:40:39 +0200
Subject: [Cachewolf-svn] r1312 - trunk/src/CacheWolf
Message-ID: <200803300140.m2U1edkM015411@sheep.berlios.de>

Author: mik77
Date: 2008-03-30 03:40:33 +0200 (Sun, 30 Mar 2008)
New Revision: 1312

Modified:
   trunk/src/CacheWolf/MainTab.java
Log:
Show show always hints, logs and pictures of main cache (also when a additional waypoint is selected)

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-30 01:12:51 UTC (rev 1311)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-30 01:40:33 UTC (rev 1312)
@@ -211,13 +211,21 @@
 		case 3: // Picture Panel
 			if (chD!=null) {
 				MyLocale.setSIPOff();
-				imageP.setImages(chD);
+				if (chD.isAddiWpt()) { 
+					imageP.setImages(chD.mainCache.getCacheDetails(true));
+				} else {
+					imageP.setImages(chD);
+				}
 			}
 			break;
 		case 4:  // Log Hint Panel
 			if (chD!=null) {
 				MyLocale.setSIPOff();
-				hintLP.setText(chD);
+				if (chD.isAddiWpt()) { 
+					hintLP.setText(chD.mainCache.getCacheDetails(true));
+				} else {
+					hintLP.setText(chD);
+				}
 			}
 			break;
 		case 5:  // Solver Panel



From pfeffer at mail.berlios.de  Sun Mar 30 04:49:21 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 30 Mar 2008 04:49:21 +0200
Subject: [Cachewolf-svn] r1313 - in trunk: . src/CacheWolf
Message-ID: <200803300249.m2U2nLQ3020269@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-30 04:49:19 +0200 (Sun, 30 Mar 2008)
New Revision: 1313

Modified:
   trunk/currentversions.txt
   trunk/src/CacheWolf/Version.java
Log:
version checking: made more flexible in order to be compatible with unknown changes in the future (first test)

Modified: trunk/currentversions.txt
===================================================================
--- trunk/currentversions.txt	2008-03-30 01:40:33 UTC (rev 1312)
+++ trunk/currentversions.txt	2008-03-30 02:49:19 UTC (rev 1313)
@@ -16,7 +16,7 @@
 # InDevelopmentNewest
 T3VersionMajor: 0
 T3VersionMinor: 9
-T3SvnRevision: http://flyingfish.freewrt.org:8180/job/Cachewolf/lastBuild/
+T3SvnRevision: http://flyingfish.freewrt.org:8180/job/Cachewolf/lastBuild/ (?i)Revision[\\s]*[:=][\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)
 
 RecommendedType: 3
 

Modified: trunk/src/CacheWolf/Version.java
===================================================================
--- trunk/src/CacheWolf/Version.java	2008-03-30 01:40:33 UTC (rev 1312)
+++ trunk/src/CacheWolf/Version.java	2008-03-30 02:49:19 UTC (rev 1313)
@@ -25,7 +25,9 @@
 	};
 	
 	/** only valid after calling checkForUpdates() */
-	static int[] updateavailabe = {0,0,0,0,0}; 
+	static int[] updateavailabe = {0,0,0,0,0};
+	/** only valid after calling checkForUpdates() */
+	static String[] versionnumbers;
 
 	public static String getRelease() {
 		return Convert.toString(VER_MAJOR) + "." + Convert.toString(VER_MINOR);
@@ -44,8 +46,9 @@
 	 */
 	public static void checkForUpdates() throws IOException {
 		Properties curvers = UrlFetcher.fetchPropertyList("http://www.cachewolf.org/currentversions.txt");
+		versionnumbers = new String[updateavailabe.length];
 		for (int i = updateavailabe.length-1; i >=1; i--) {
-			updateavailabe[i] = (checkVersion(curvers, "T"+(i-1))); 
+			updateavailabe[i] = checkVersion(curvers, "T"+(i-1), i); // this also sets versionnumber[i]
 		}
 		updateavailabe[0] = Convert.toInt(curvers.getProperty("RecommendedType", "0"));
 	}
@@ -59,6 +62,7 @@
 		for (int i=1; i <= updateavailabe.length -1; i++) {
 			if (updateavailabe[i] != 2 || i-1 == VERSION_TYPE) {
 				ret.append(MyLocale.getMsg(7000+i-1, VERSION_TYPES[i-1]));
+				if (versionnumbers[i] != null) ret.append(" ").append(versionnumbers[i]);
 				if (i == updateavailabe[0]) ret.append("*");
 				if (i-1 == VERSION_TYPE ) ret.append("+");
 				ret.append(": ");
@@ -67,7 +71,8 @@
 			}
 		}
 		ret.append("* = ").append(MyLocale.getMsg(7020, "Recommended version type"));
-		ret.append("\n+ = ").append(MyLocale.getMsg(7021, "This version type"));
+		ret.append("\n+ = ").append(MyLocale.getMsg(7021, "This version type")).append("\n");
+		ret.append(getReleaseDetailed());
 		return ret.toString();
 	}
 
@@ -85,27 +90,33 @@
 	 * @return: 1 = newer Version available, 0 = this is up to date, 3 = check failed
 	 */
 
-	private static int checkVersion(Properties curvers, String prefix) {
+	private static int checkVersion(Properties curvers, String prefix, int t) {
 		try {
-			int curv = Convert.toInt(curvers.getProperty(prefix + "VersionMajor", "0")); 
-			if (curv > VER_MAJOR) return 1;
-			if (curv < VER_MAJOR) return 0;
-			curv = Convert.toInt(curvers.getProperty(prefix + "VersionMinor", "0"));
-			if (curv > VER_MINOR) return 1;
-			if (curv < VER_MINOR) return 0;
+			int curvmaj = Convert.toInt(curvers.getProperty(prefix + "VersionMajor", "0")); 
+			int curvmin = Convert.toInt(curvers.getProperty(prefix + "VersionMinor", "0"));
 			String svnRString = curvers.getProperty(prefix + "SvnRevision","0");
 			if (svnRString.startsWith("http")) {
-				String tmp = UrlFetcher.fetchString(svnRString);
-				Regex s = new Regex("(?i)Revision[\\s]*[:=][\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)");
+				String tmp;
+				Regex s;
+				int i = svnRString.indexOf(' '); 
+				if (i > 0) {
+					tmp = UrlFetcher.fetchString(svnRString.substring(0, i));
+					s = new Regex (svnRString.substring(i+1, svnRString.length()-i-1)); // flyingfish works 3/2008 with ("(?i)Revision[\\s]*[:=][\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)");
+				} else { versionnumbers[t] = "error: no RegEx"; return 3; } 
 				s.search(tmp);
-				if (!s.didMatch()) return 3;
+				if (!s.didMatch()) { versionnumbers[t] = "error: RegEx didnot match"; return 3; }
 				svnRString = s.stringMatched(1); 
 			}
+			versionnumbers[t] = curvmaj + "." + curvmin + "." + svnRString;
+			if (curvmaj > VER_MAJOR) return 1;
+			if (curvmaj < VER_MAJOR) return 0;
+			if (curvmin > VER_MINOR) return 1;
+			if (curvmin < VER_MINOR) return 0;
 			if (Convert.toInt(svnRString) > SVN_REVISION) return 1;
 			return 0;
 		} catch (IOException e) {
+			versionnumbers[t] = "IO-error"; 
 			return 3;
 		}
 	}
-
 }



From pfeffer at mail.berlios.de  Sun Mar 30 04:57:25 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 30 Mar 2008 04:57:25 +0200
Subject: [Cachewolf-svn] r1314 - trunk/src/CacheWolf
Message-ID: <200803300257.m2U2vPZa020576@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-30 04:57:23 +0200 (Sun, 30 Mar 2008)
New Revision: 1314

Modified:
   trunk/src/CacheWolf/Version.java
Log:
version checking: fixed last commit: first test didn't work

Modified: trunk/src/CacheWolf/Version.java
===================================================================
--- trunk/src/CacheWolf/Version.java	2008-03-30 02:49:19 UTC (rev 1313)
+++ trunk/src/CacheWolf/Version.java	2008-03-30 02:57:23 UTC (rev 1314)
@@ -101,7 +101,7 @@
 				int i = svnRString.indexOf(' '); 
 				if (i > 0) {
 					tmp = UrlFetcher.fetchString(svnRString.substring(0, i));
-					s = new Regex (svnRString.substring(i+1, svnRString.length()-i-1)); // flyingfish works 3/2008 with ("(?i)Revision[\\s]*[:=][\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)");
+					s = new Regex (svnRString.substring(i+1, svnRString.length())); // flyingfish works 3/2008 with ("(?i)Revision[\\s]*[:=][\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)");
 				} else { versionnumbers[t] = "error: no RegEx"; return 3; } 
 				s.search(tmp);
 				if (!s.didMatch()) { versionnumbers[t] = "error: RegEx didnot match"; return 3; }



From engywuck at mail.berlios.de  Sun Mar 30 15:48:55 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sun, 30 Mar 2008 15:48:55 +0200
Subject: [Cachewolf-svn] r1315 - trunk/src/CacheWolf
Message-ID: <200803301348.m2UDmtFd009546@sheep.berlios.de>

Author: engywuck
Date: 2008-03-30 15:48:52 +0200 (Sun, 30 Mar 2008)
New Revision: 1315

Modified:
   trunk/src/CacheWolf/MainForm.java
Log:
Create first Info Window *after* reading font size from preferences.

Modified: trunk/src/CacheWolf/MainForm.java
===================================================================
--- trunk/src/CacheWolf/MainForm.java	2008-03-30 02:57:23 UTC (rev 1314)
+++ trunk/src/CacheWolf/MainForm.java	2008-03-30 13:48:52 UTC (rev 1315)
@@ -61,16 +61,17 @@
 		Rect screen = ((ewe.fx.Rect) (Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0)));
 		if ( screen.height >= 600 && screen.width >= 800) this.setPreferredSize(800, 600);
 		this.resizeOnSIP = true;
-		// Load CacheList
-		InfoBox infB = new InfoBox("CacheWolf",MyLocale.getMsg(5000,"Loading Cache-List"));
-		infB.exec();
-		infB.waitUntilPainted(100);
+		InfoBox infB = null;  
 		try{
 			pref.readPrefFile();
 			addGuiFont();
 			if (!pref.selectProfile(profile,Preferences.PROFILE_SELECTOR_ONOROFF, true)) 
 				ewe.sys.Vm.exit(0); // User MUST select or create a profile
 			Vm.showWait(true);
+			// Load CacheList
+			infB = new InfoBox("CacheWolf",MyLocale.getMsg(5000,"Loading Cache-List"));
+			infB.exec();
+			infB.waitUntilPainted(100);
 			profile.readIndex();
 			pref.curCentrePt.set(profile.centre);
 			profile.updateBearingDistance();



From engywuck at mail.berlios.de  Sun Mar 30 16:50:49 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sun, 30 Mar 2008 16:50:49 +0200
Subject: [Cachewolf-svn] r1316 - trunk
Message-ID: <200803301450.m2UEonIE022366@sheep.berlios.de>

Author: engywuck
Date: 2008-03-30 16:50:42 +0200 (Sun, 30 Mar 2008)
New Revision: 1316

Modified:
   trunk/.classpath
Log:
Changed .classpath: ewe.jar is wrong here (see http://www.geoclub.de/viewtopic.php?f=40&t=23396&sid=5051c5e0fe9df40b41de8b426aae9a77)

Modified: trunk/.classpath
===================================================================
--- trunk/.classpath	2008-03-30 13:48:52 UTC (rev 1315)
+++ trunk/.classpath	2008-03-30 14:50:42 UTC (rev 1316)
@@ -2,7 +2,6 @@
 <classpath>
 	<classpathentry kind="src" path="src"/>
 	<classpathentry kind="lib" path="lib/CompileEwe.zip" sourcepath="lib/JavaEwe.zip"/>
-	<classpathentry kind="lib" path="lib/ewe.jar"/>
 	<classpathentry kind="lib" path="lib"/>
 	<classpathentry kind="output" path="bin"/>
 </classpath>



From pfeffer at mail.berlios.de  Sun Mar 30 19:03:21 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 30 Mar 2008 19:03:21 +0200
Subject: [Cachewolf-svn] r1317 - trunk/res_noewe/languages
Message-ID: <200803301703.m2UH3L71014979@sheep.berlios.de>

Author: pfeffer
Date: 2008-03-30 19:03:15 +0200 (Sun, 30 Mar 2008)
New Revision: 1317

Modified:
   trunk/res_noewe/languages/EN.cfg
Log:
EN: move of menu made the menu entry not directly understandable

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-30 14:50:42 UTC (rev 1316)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-30 17:03:15 UTC (rev 1317)
@@ -274,7 +274,7 @@
 		1011=Filter out non-selected
 		1012=Delete selected
 		1013=With selection
-		1014=Update cache data
+		1014=Update selected caches
 		1015=Select all
 		1016=Deselect all
 		1017=S



From engywuck at mail.berlios.de  Sun Mar 30 19:42:54 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sun, 30 Mar 2008 19:42:54 +0200
Subject: [Cachewolf-svn] r1318 - in trunk: res_noewe/languages src/CacheWolf
	src/CacheWolf/navi src/exp
Message-ID: <200803301742.m2UHgsb3026733@sheep.berlios.de>

Author: engywuck
Date: 2008-03-30 19:42:42 +0200 (Sun, 30 Mar 2008)
New Revision: 1318

Modified:
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/CacheType.java
   trunk/src/CacheWolf/CalcPanel.java
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/Filter.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/MyComparer.java
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/ShowCacheInBrowser.java
   trunk/src/CacheWolf/SpiderGC.java
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/exp/ExploristExporter.java
   trunk/src/exp/KMLExporter.java
   trunk/src/exp/TomTomExporter.java
Log:
Tuning: cacheType is now int and not String

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/res_noewe/languages/EN.cfg	2008-03-30 17:42:42 UTC (rev 1318)
@@ -33,7 +33,7 @@
 		129=Import GPX
 		130=Download from opencaching.de
 		131=Spider from geocaching.com
-		132=To Explorist
+		132=to Explorist
         133=Search all
         134=Selected Cache
 		139=Manage Travelbugs

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/CacheHolder.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -46,7 +46,7 @@
 	/** The terrain rating of the cache from 1 to 5 in .5 incements */
 	public String terrain = EMPTY;
 	/** The cache type (@see CacheType for translation table)  */
-	public String type = "0"; //TODO Should be an int
+	public int type = 0; 
 	/** True if the cache has been archived */
 	public boolean is_archived = false;
 	/** True if the cache is available for searching */
@@ -148,7 +148,7 @@
 			CacheStatus = xmlString.substring(start+1,end);
 
 			start=xmlString.indexOf('"',end+1); end=xmlString.indexOf('"',start+1);
-			type = xmlString.substring(start+1,end);
+			type = new Integer(xmlString.substring(start+1,end)).intValue();
 
 			start=xmlString.indexOf('"',end+1); end=xmlString.indexOf('"',start+1);
 			hard = xmlString.substring(start+1,end);

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/CacheType.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -165,26 +165,26 @@
 			{"Question","52"},{"Final","53"},
 			{"Trailhead","54"},{"Reference","55"},{"WhereIGo","1858"}};
 
-	public static String transType(String geoNum){
+	public static String transType(int geoNum){
 		String geo = new String("Unknown");
-		if(geoNum.equals("2")) geo = "Traditional Cache";
-		if(geoNum.equals("3")) geo = "Multi-cache";
-		if(geoNum.equals("4")) geo = "Virtual Cache";
-		if(geoNum.equals("5")) geo = "Letterbox Hybrid";
-		if(geoNum.equals("6")) geo = "Event Cache";
-		if(geoNum.equals("11")) geo = "Webcam Cache";
-		if(geoNum.equals("8")) geo = "Unknown Cache";
-		if(geoNum.equals("12")) geo = "Locationless Cache";
-		if(geoNum.equals("13")) geo = "Cache In Trash Out Event";
-		if(geoNum.equals("137")) geo = "Earthcache";
-		if(geoNum.equals("453")) geo = "Mega Event Cache";
-		if(geoNum.equals("1858")) geo = "WhereIGo Cache";
-		if(geoNum.equals("50")) geo = "Parking Area";
-		if(geoNum.equals("51")) geo = "Stages of a Multicache";
-		if(geoNum.equals("52")) geo = "Question to Answer";
-		if(geoNum.equals("53")) geo = "Final Location";
-		if(geoNum.equals("54")) geo = "Trailhead";
-		if(geoNum.equals("55")) geo = "Reference Point";
+		if(geoNum == 2) geo = "Traditional Cache";
+		if(geoNum == 3) geo = "Multi-cache";
+		if(geoNum == 4) geo = "Virtual Cache";
+		if(geoNum == 5) geo = "Letterbox Hybrid";
+		if(geoNum == 6) geo = "Event Cache";
+		if(geoNum == 11) geo = "Webcam Cache";
+		if(geoNum == 8) geo = "Unknown Cache";
+		if(geoNum == 12) geo = "Locationless Cache";
+		if(geoNum == 13) geo = "Cache In Trash Out Event";
+		if(geoNum == 137) geo = "Earthcache";
+		if(geoNum == 453) geo = "Mega Event Cache";
+		if(geoNum == 1858) geo = "WhereIGo Cache";
+		if(geoNum == 50) geo = "Parking Area";
+		if(geoNum == 51) geo = "Stages of a Multicache";
+		if(geoNum == 52) geo = "Question to Answer";
+		if(geoNum == 53) geo = "Final Location";
+		if(geoNum == 54) geo = "Trailhead";
+		if(geoNum == 55) geo = "Reference Point";
 		return geo;
 	}
 	
@@ -220,37 +220,31 @@
 		}
 	}
 
-	public static boolean isAddiWpt(String type){
-		if (type.equals("50")) return true;
-		if (type.equals("51")) return true;
-		if (type.equals("52")) return true;
-		if (type.equals("53")) return true;
-		if (type.equals("54")) return true;
-		if (type.equals("55")) return true;
-		return false;
+	public static boolean isAddiWpt(int type){
+		return (type >= 50 && type <= 55);
 	}
 
-	public static String typeText2Number(String typeText){
-		if (typeText.equals("Traditional Cache") || typeText.equals("Traditional")|| typeText.equals("Classic")) return "2";
-		if (typeText.equals("Multi-cache") || typeText.equals("Multi") || typeText.equals("Offset")) return "3";
-		if (typeText.equals("Virtual Cache") || typeText.equals("Virtual")) return "4";
-		if (typeText.equals("Letterbox Hybrid")) return "5";
-		if (typeText.equals("Event Cache") || typeText.equals("Event")) return "6";
-		if (typeText.equals("Unknown Cache") || typeText.equals("Other") || typeText.equals("Quiz")) return "8";
-		if (typeText.equals("Webcam Cache") || typeText.equals("Webcam")) return "11";
-		if (typeText.equals("Locationless (Reverse) Cache")) return "12";
-		if (typeText.equals("Cache In Trash Out Event")) return "13";
-		if (typeText.equals("Earthcache") || typeText.equals("Earth")) return "137";
-		if (typeText.equals("Mega-Event Cache")) return "453";
-		if (typeText.equals("Wherigo Cache")) return "1858";
-		if (typeText.equals("Waypoint|Parking Area")) return "50";
-		if (typeText.equals("Waypoint|Stages of a Multicache")) return "51";
-		if (typeText.equals("Waypoint|Question to Answer")) return "52";
-		if (typeText.equals("Waypoint|Final Coordinates")||typeText.equals("Waypoint|Final Location")) return "53";
-		if (typeText.equals("Waypoint|Trailhead")) return "54";
-		if (typeText.equals("Waypoint|Reference Point")) return "55";
+	public static int typeText2Number(String typeText){
+		if (typeText.equals("Traditional Cache") || typeText.equals("Traditional")|| typeText.equals("Classic")) return 2;
+		if (typeText.equals("Multi-cache") || typeText.equals("Multi") || typeText.equals("Offset")) return 3;
+		if (typeText.equals("Virtual Cache") || typeText.equals("Virtual")) return 4;
+		if (typeText.equals("Letterbox Hybrid")) return 5;
+		if (typeText.equals("Event Cache") || typeText.equals("Event")) return 6;
+		if (typeText.equals("Unknown Cache") || typeText.equals("Other") || typeText.equals("Quiz")) return 8;
+		if (typeText.equals("Webcam Cache") || typeText.equals("Webcam")) return 11;
+		if (typeText.equals("Locationless (Reverse) Cache")) return 12;
+		if (typeText.equals("Cache In Trash Out Event")) return 13;
+		if (typeText.equals("Earthcache") || typeText.equals("Earth")) return 137;
+		if (typeText.equals("Mega-Event Cache")) return 453;
+		if (typeText.equals("Wherigo Cache")) return 1858;
+		if (typeText.equals("Waypoint|Parking Area")) return 50;
+		if (typeText.equals("Waypoint|Stages of a Multicache")) return 51;
+		if (typeText.equals("Waypoint|Question to Answer")) return 52;
+		if (typeText.equals("Waypoint|Final Coordinates")||typeText.equals("Waypoint|Final Location")) return 53;
+		if (typeText.equals("Waypoint|Trailhead")) return 54;
+		if (typeText.equals("Waypoint|Reference Point")) return 55;
 		Vm.debug("Unknown Cache Type:" + typeText);
-		return "0";
+		return 0;
 	}
 
 	/**
@@ -268,31 +262,30 @@
 		*	9		??		Moving		9->109 (ok)
 		*	10		??		Drive-In		10->110 (ok)
 		*/
-		public static String transOCType(String type){
-			if(type.equals("1")) return "8";
-			if(type.equals("2")) return "2";
-			if(type.equals("3")) return "3";	
-			if(type.equals("4")) return "4";
-			if(type.equals("5")) return "11";
-			if(type.equals("6")) return "6";
-			if(type.equals("7")) return "8";
-			if(type.equals("8")|| type.equals("9") ||type.equals("10")) return "8";
+		public static int transOCType(int type){
+			if(type == 1) return 8;
+			if(type == 2) return 2;
+			if(type == 3) return 3;	
+			if(type == 4) return 4;
+			if(type == 5) return 11;
+			if(type == 6) return 6;
+			if(type == 7) return 8;
+			if(type >= 8 || type <= 10) return 8;
 	/* Not supportet at the moment
 			if(type.equals("8")) return "108";
 			if(type.equals("9")) return "109";
 			if(type.equals("10")) return "110";
 	*/
 			//no match found? return custom type!
-			return "0";
+			return 0;
 		}
 
 		
-	public static Image cache2Img(String cacheType) {
-		int ct=Convert.parseInt(cacheType);
-		if (ct==1858)
+	public static Image cache2Img(int cacheType) {
+		if (cacheType==1858)
 			return cacheImages[WHERIGO];
 		else	
-			return cacheImages[ct]; // TODO save in cacheholder as int
+			return cacheImages[cacheType]; // TODO save in cacheholder as int
 	}
 
 }

Modified: trunk/src/CacheWolf/CalcPanel.java
===================================================================
--- trunk/src/CacheWolf/CalcPanel.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/CalcPanel.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -188,7 +188,7 @@
 				coordOut = coordInp.project(bd.degrees, bd.distance);
 				ch.LatLon = coordOut.toString();
 				ch.pos.set(coordOut);
-				ch.type = "51"; // see CacheType.GC_AW_STAGE_OF_MULTI // TODO unfertig
+				ch.type = 51; // see CacheType.GC_AW_STAGE_OF_MULTI // TODO unfertig
 				mainT.newWaypoint(ch);
 			}
 			

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -218,10 +218,11 @@
 	*	Translate the cache type to the value in the cache type dropdown
 	*	control.
 	*/
-	private int transType(String type){
+	private int transType(int type){
+		// TODO Hab ich so eine ?bersetzungstabelle nicht schon an anderer Stelle gesehen ??? Redundanz ??
 		int c_type = 0;
 		int tt = 0;
-		tt = Convert.parseInt(type);
+		tt = type;
 		switch(tt){
 			case 0: c_type = 0; break;
 			case 2: c_type = 1; break;
@@ -255,28 +256,28 @@
 	*	This transformation is required to ease the display of the cache type
 	*	icon in the table display.
 	*/
-	public String transSelect(int num){
-		String ret = new String("");
+	public int transSelect(int num){
+		int ret = 0;
 		switch(num){
-			case 0: ret = "0"; break;
-			case 1: ret = "2"; break;
-			case 2: ret = "3"; break;
-			case 3: ret = "4"; break;
-			case 4: ret = "5"; break;
-			case 5: ret = "6"; break;
-			case 6: ret = "453"; break;
-			case 7: ret = "8"; break;
-			case 8: ret = "11"; break;
-			case 9: ret = "12"; break;
-			case 10: ret = "13";break;
-			case 11: ret = "137";break;
-			case 12: ret = "1858"; break;
-			case 13: ret = "50";break;
-			case 14: ret = "51";break;
-			case 15: ret = "52";break;
-			case 16: ret = "53";break;
-			case 17: ret = "54";break;
-			case 18: ret = "55";break;
+			case 0: ret = 0; break;
+			case 1: ret = 2; break;
+			case 2: ret = 3; break;
+			case 3: ret = 4; break;
+			case 4: ret = 5; break;
+			case 5: ret = 6; break;
+			case 6: ret = 453; break;
+			case 7: ret = 8; break;
+			case 8: ret = 11; break;
+			case 9: ret = 12; break;
+			case 10: ret = 13; break;
+			case 11: ret = 137; break;
+			case 12: ret = 1858; break;
+			case 13: ret = 50; break;
+			case 14: ret = 51; break;
+			case 15: ret = 52; break;
+			case 16: ret = 53; break;
+			case 17: ret = 54; break;
+			case 18: ret = 55; break;
 
 			default: Vm.debug("Unknown cachetype: " + num);
 			break;
@@ -477,7 +478,7 @@
 		  thisCache.CacheName = inpName.getText().trim();
 		  thisCache.LatLon = thisCache.pos.toString();
 		  thisCache.DateHidden = inpHidden.getText().trim();
-		  String oldType=thisCache.type;
+		  int oldType=thisCache.type;
 		  thisCache.type = transSelect(chcType.getInt());
 		 // thisCache.saveCacheDetails(profile.dataDir); // this is redundant, because all changes affecting the details are immediately saved
 		  // Now update the table

Modified: trunk/src/CacheWolf/Filter.java
===================================================================
--- trunk/src/CacheWolf/Filter.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/Filter.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -355,25 +355,25 @@
 			if (hasTypeMatchPattern) { // Only do the checks if we have a filter
 				cacheTypePattern = 0;
 				// As each cache can only have one type, we can use else if and set the type
-				if (ch.type.equals("0")) cacheTypePattern = CUSTOM;
-				else if(ch.type.equals("2")) cacheTypePattern = TRADITIONAL;
-				else if(ch.type.equals("3")) cacheTypePattern = MULTI;
-				else if(ch.type.equals("4")) cacheTypePattern = VIRTUAL;
-				else if(ch.type.equals("5")) cacheTypePattern = LETTER;
-				else if(ch.type.equals("6")) cacheTypePattern = EVENT;
-				else if(ch.type.equals("8")) cacheTypePattern = MYSTERY;
-				else if(ch.type.equals("11")) cacheTypePattern = WEBCAM;
-				else if(ch.type.equals("12")) cacheTypePattern = LOCLESS;
-				else if(ch.type.equals("137"))cacheTypePattern = EARTH;
-				else if(ch.type.equals("453"))cacheTypePattern = MEGA;
-				else if(ch.type.equals("50"))cacheTypePattern = PARKING;
-				else if(ch.type.equals("51"))cacheTypePattern = STAGE;
-				else if(ch.type.equals("52"))cacheTypePattern = QUESTION;
-				else if(ch.type.equals("53"))cacheTypePattern = FINAL;
-				else if(ch.type.equals("54"))cacheTypePattern = TRAILHEAD;
-				else if(ch.type.equals("55"))cacheTypePattern = REFERENCE;
-				else if(ch.type.equals("13"))cacheTypePattern = CITO;
-				else if(ch.type.equals("1858"))cacheTypePattern = WHERIGO;
+				if (ch.type == 0) cacheTypePattern = CUSTOM;
+				else if(ch.type == 2) cacheTypePattern = TRADITIONAL;
+				else if(ch.type == 3) cacheTypePattern = MULTI;
+				else if(ch.type == 4) cacheTypePattern = VIRTUAL;
+				else if(ch.type == 5) cacheTypePattern = LETTER;
+				else if(ch.type == 6) cacheTypePattern = EVENT;
+				else if(ch.type == 8) cacheTypePattern = MYSTERY;
+				else if(ch.type == 11) cacheTypePattern = WEBCAM;
+				else if(ch.type == 12) cacheTypePattern = LOCLESS;
+				else if(ch.type == 137)cacheTypePattern = EARTH;
+				else if(ch.type == 453)cacheTypePattern = MEGA;
+				else if(ch.type == 50)cacheTypePattern = PARKING;
+				else if(ch.type == 51)cacheTypePattern = STAGE;
+				else if(ch.type == 52)cacheTypePattern = QUESTION;
+				else if(ch.type == 53)cacheTypePattern = FINAL;
+				else if(ch.type == 54)cacheTypePattern = TRAILHEAD;
+				else if(ch.type == 55)cacheTypePattern = REFERENCE;
+				else if(ch.type == 13)cacheTypePattern = CITO;
+				else if(ch.type == 1858)cacheTypePattern = WHERIGO;
 				if ((cacheTypePattern & typeMatchPattern) == 0) { ch.is_filtered=true; continue; }
 			}			
 			///////////////////////////////

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -312,13 +312,12 @@
 		}
 		Global.getProfile().hasUnsavedChanges=true;
 		detP.setIsNew(true);
-		if (ch.type == null || ch.type.equals("")) ch.type = "0";
 		if (CacheType.isAddiWpt(ch.type) && mainCache!=null && mainCache.length()>2) {
 			ch.wayPoint = profile.getNewAddiWayPointName(mainCache);
 			profile.setAddiRef(ch);
 		} else { 
 			ch.wayPoint = profile.getNewWayPointName();
-			ch.type="0";
+			ch.type=0;
 			lastselected=ch.wayPoint;
 		}
 		ch.CacheSize = "None";

Modified: trunk/src/CacheWolf/MyComparer.java
===================================================================
--- trunk/src/CacheWolf/MyComparer.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/MyComparer.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -20,7 +20,7 @@
 		if (colToCompare==1) {
 			for (int i=0; i<visibleSize; i++) {
 				CacheHolder ch=(CacheHolder) cacheDB.get(i);
-				ch.sort=ch.type;
+				ch.sort=String.valueOf(ch.type);
 			}
 		} else if (colToCompare==2) {
 			for (int i=0; i<visibleSize; i++) {

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -354,7 +354,7 @@
 			cacheID = atts.getValue("id");
 		}
 		if(name.equals("type")){
-			chD.type = CacheType.transOCType(atts.getValue("id"));
+			chD.type = CacheType.transOCType(new Integer(atts.getValue("id")).intValue()); 
 			return;
 		}
 		if(name.equals("status")){

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -185,7 +185,7 @@
 							addis.put("WAYPOINT",ch.wayPoint);
 							addis.put("NAME",ch.CacheName);
 							addis.put("LATLON",ch.LatLon);
-							addis.put("IMG","<img src=\""+CacheType.type2pic(Convert.parseInt(ch.type))+"\">");
+							addis.put("IMG","<img src=\""+CacheType.type2pic(ch.type)+"\">");
 							CacheHolderDetail chDA=new CacheHolderDetail(ch);
 							chDA.readCache(Global.getProfile().dataDir);
 							addis.put("LONGDESC",chDA.LongDescription); // Do we need to treat longDesc as above ?

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -774,11 +774,11 @@
 	 * @param doc A previously fetched cachepage
 	 * @return the waypoint type (Tradi, Multi, etc.)
 	 */
-	private String getType(String doc) throws Exception{
+	private int getType(String doc) throws Exception{
 		inRex = new Regex(p.getProp("cacheTypeRex"));
 		inRex.search(doc);
-		if(inRex.didMatch()) return inRex.stringMatched(1);
-		else return "";
+		if(inRex.didMatch()) return new Integer(inRex.stringMatched(1)).intValue();
+		else return 0;
 	}
 
 	/**

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -404,7 +404,7 @@
 				CacheHolder ch = new CacheHolder();
 				ch.LatLon = myNavigation.gpsPos.toString();
 				ch.pos = new CWPoint(myNavigation.gpsPos);
-				ch.type = "51"; // see CacheType.GC_AW_STAGE_OF_MULTI // TODO unfertig
+				ch.type = 51; // see CacheType.GC_AW_STAGE_OF_MULTI // TODO unfertig
 				mainT.newWaypoint(ch);
 			}
 			// change destination waypoint

Modified: trunk/src/exp/ExploristExporter.java
===================================================================
--- trunk/src/exp/ExploristExporter.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/exp/ExploristExporter.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -230,17 +230,17 @@
 		sb.append(",");
 		String add = "";
 		if (chD.isAddiWpt()) {
-			if (chD.type.equals("50")) {
+			if (chD.type == 50) {
 				add = "Pa:";
-			} else if (chD.type.equals("51")) {
+			} else if (chD.type == 51) {
 				add = "St:";
-			} else if (chD.type.equals("52")) {
+			} else if (chD.type == 52) {
 				add = "Qu:"; 
-			} else if (chD.type.equals("53")) {	
+			} else if (chD.type == 53) {	
 				add = "Fi:";
-			} else if (chD.type.equals("54")) {
+			} else if (chD.type == 54) {
 				add = "Tr:";
-			} else if (chD.type.equals("55")) {	
+			} else if (chD.type == 55) {	
 				add = "Re:";
 			}
 			sb.append(add).append(removeCommas(chD.CacheName));
@@ -255,7 +255,7 @@
 		
 		if (!add.equals("")) { // Set Picture in Explorist to Virtual
 			sb.append("Virtual Cache");
-		} else if (!chD.type.equals("8")) { // Rewrite Unknown Caches
+		} else if (chD.type != 8) { // Rewrite Unknown Caches
 			sb.append(CacheType.transType(chD.type));
 		} else {
 			sb.append("Mystery Cache");

Modified: trunk/src/exp/KMLExporter.java
===================================================================
--- trunk/src/exp/KMLExporter.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/exp/KMLExporter.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -100,7 +100,7 @@
 					tmp = (Vector)entry.getValue();
 					// skip over empty cachetypes
 					if (tmp.size() == 0) continue;
-					outp.print(startFolder(CacheType.transType((String)entry.getKey())));
+					outp.print(startFolder(CacheType.transType(new Integer((String)entry.getKey()).intValue())));
 
 					for(int i = 0; i<tmp.size(); i++){
 						ch = (CacheHolder) tmp.get(i);
@@ -285,7 +285,7 @@
 		strBuf.append("      <IconStyle>\r\n");
 		strBuf.append("         <Icon>\r\n");
 //		strBuf.append("            <href>"+ File.getProgramDirectory()+ "/" + CacheType.type2pic(Convert.parseInt(ch.type))+ "</href>\r\n");
-		strBuf.append("            <href>"+ CacheType.type2pic(Convert.parseInt(ch.type))+ "</href>\r\n");
+		strBuf.append("            <href>"+ CacheType.type2pic(ch.type)+ "</href>\r\n");
 		strBuf.append("         </Icon>\r\n");
 		strBuf.append("      </IconStyle>\r\n");
 		strBuf.append("      <LabelStyle>\r\n");

Modified: trunk/src/exp/TomTomExporter.java
===================================================================
--- trunk/src/exp/TomTomExporter.java	2008-03-30 17:03:15 UTC (rev 1317)
+++ trunk/src/exp/TomTomExporter.java	2008-03-30 17:42:42 UTC (rev 1318)
@@ -93,7 +93,7 @@
 				out =  new RandomAccessFile(fileName,"rw");
 				for(int i = 0; i<cacheDB.size(); i++){
 					holder=(CacheHolder)cacheDB.get(i);
-					if(holder.type.equals(CacheType.wayType[j][TT_WPT_NUM]) && holder.is_black == false && holder.is_filtered == false){
+					if(holder.type == new Integer(CacheType.wayType[j][TT_WPT_NUM]).intValue() && holder.is_black == false && holder.is_filtered == false){
 						currExp++;
 						h.progress = (float)currExp/(float)counter;
 						h.changed();



From engywuck at mail.berlios.de  Sun Mar 30 20:49:27 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sun, 30 Mar 2008 20:49:27 +0200
Subject: [Cachewolf-svn] r1319 - trunk/src/exp
Message-ID: <200803301849.m2UInRsw032144@sheep.berlios.de>

Author: engywuck
Date: 2008-03-30 20:49:25 +0200 (Sun, 30 Mar 2008)
New Revision: 1319

Modified:
   trunk/src/exp/KMLExporter.java
   trunk/src/exp/LocExporter.java
Log:
Additional corrections to let it compile with Java 1.3.

Modified: trunk/src/exp/KMLExporter.java
===================================================================
--- trunk/src/exp/KMLExporter.java	2008-03-30 17:42:42 UTC (rev 1318)
+++ trunk/src/exp/KMLExporter.java	2008-03-30 18:49:25 UTC (rev 1319)
@@ -171,12 +171,13 @@
 		// fill structure with data from cacheDB
 		for(int i = 0; i<cacheDB.size(); i++){
 			ch=(CacheHolder)cacheDB.get(i);
+			// TODO Das Argument nach STring zu casten gef?llt mir nicht ganz...
 			if(ch.is_black == false && ch.is_filtered == false && !ch.isAddiWpt()){
-				if (ch.is_found) { tmp = (Vector) outCacheDB[FOUND].get(ch.type);}
-				else if (ch.is_owned) { tmp = (Vector) outCacheDB[OWNED].get(ch.type);}
-				else if (ch.is_archived || !ch.is_available){ tmp = (Vector) outCacheDB[NOT_AVAILABLE].get(ch.type);}
-				else if (ch.is_available){ tmp = (Vector) outCacheDB[AVAILABLE].get(ch.type);}
-				else { tmp = (Vector) outCacheDB[UNKNOWN].get(ch.type);}
+				if (ch.is_found) { tmp = (Vector) outCacheDB[FOUND].get(String.valueOf(ch.type));}
+				else if (ch.is_owned) { tmp = (Vector) outCacheDB[OWNED].get(String.valueOf(ch.type));}
+				else if (ch.is_archived || !ch.is_available){ tmp = (Vector) outCacheDB[NOT_AVAILABLE].get(String.valueOf(ch.type));}
+				else if (ch.is_available){ tmp = (Vector) outCacheDB[AVAILABLE].get(String.valueOf(ch.type));}
+				else { tmp = (Vector) outCacheDB[UNKNOWN].get(String.valueOf(ch.type));}
 				
 				tmp.add(ch);
 			}

Modified: trunk/src/exp/LocExporter.java
===================================================================
--- trunk/src/exp/LocExporter.java	2008-03-30 17:42:42 UTC (rev 1318)
+++ trunk/src/exp/LocExporter.java	2008-03-30 18:49:25 UTC (rev 1319)
@@ -104,11 +104,12 @@
 			// First check if there is a mapping for "cache found"
 			if (chD.is_found) {
 				for (int i=0; i<mapSize; i++)
-					if (symbols[i].onlyIfFound!=null && symbols[i].type.equals(chD.type)) return symbols[i].name;
+					// TODO Geht das noch sch?ner...? ................ <------------------------------>
+					if (symbols[i].onlyIfFound!=null && symbols[i].type.equals(String.valueOf(chD.type))) return symbols[i].name;
 			}
 			// Now try mapping the cache irrespective of the "found" status
 			for (int i=0; i<mapSize; i++)
-				if (symbols[i].type.equals(chD.type)) return symbols[i].name;
+				if (symbols[i].type.equals(String.valueOf(chD.type))) return symbols[i].name;
 		
 			// If it is not a mapped type, just use the standard mapping
 			if (chD.is_found)



From engywuck at mail.berlios.de  Sun Mar 30 21:19:14 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sun, 30 Mar 2008 21:19:14 +0200
Subject: [Cachewolf-svn] r1320 - in trunk/src: CacheWolf CacheWolf/navi exp
Message-ID: <200803301919.m2UJJE1C001718@sheep.berlios.de>

Author: engywuck
Date: 2008-03-30 21:19:07 +0200 (Sun, 30 Mar 2008)
New Revision: 1320

Modified:
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/CacheType.java
   trunk/src/CacheWolf/CalcPanel.java
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/Filter.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/MyComparer.java
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/ShowCacheInBrowser.java
   trunk/src/CacheWolf/SpiderGC.java
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/exp/ExploristExporter.java
   trunk/src/exp/KMLExporter.java
   trunk/src/exp/LocExporter.java
   trunk/src/exp/TomTomExporter.java
Log:
Letzte beiden ??nderungen nach Abstimmung mit MiK und Pfeffer aus Sicherheitsgr??nden zur??ckgenommen. Wird nach Release 1.0 nachgeholt.

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/CacheHolder.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -46,7 +46,7 @@
 	/** The terrain rating of the cache from 1 to 5 in .5 incements */
 	public String terrain = EMPTY;
 	/** The cache type (@see CacheType for translation table)  */
-	public int type = 0; 
+	public String type = "0"; //TODO Should be an int
 	/** True if the cache has been archived */
 	public boolean is_archived = false;
 	/** True if the cache is available for searching */
@@ -148,7 +148,7 @@
 			CacheStatus = xmlString.substring(start+1,end);
 
 			start=xmlString.indexOf('"',end+1); end=xmlString.indexOf('"',start+1);
-			type = new Integer(xmlString.substring(start+1,end)).intValue();
+			type = xmlString.substring(start+1,end);
 
 			start=xmlString.indexOf('"',end+1); end=xmlString.indexOf('"',start+1);
 			hard = xmlString.substring(start+1,end);

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/CacheType.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -165,26 +165,26 @@
 			{"Question","52"},{"Final","53"},
 			{"Trailhead","54"},{"Reference","55"},{"WhereIGo","1858"}};
 
-	public static String transType(int geoNum){
+	public static String transType(String geoNum){
 		String geo = new String("Unknown");
-		if(geoNum == 2) geo = "Traditional Cache";
-		if(geoNum == 3) geo = "Multi-cache";
-		if(geoNum == 4) geo = "Virtual Cache";
-		if(geoNum == 5) geo = "Letterbox Hybrid";
-		if(geoNum == 6) geo = "Event Cache";
-		if(geoNum == 11) geo = "Webcam Cache";
-		if(geoNum == 8) geo = "Unknown Cache";
-		if(geoNum == 12) geo = "Locationless Cache";
-		if(geoNum == 13) geo = "Cache In Trash Out Event";
-		if(geoNum == 137) geo = "Earthcache";
-		if(geoNum == 453) geo = "Mega Event Cache";
-		if(geoNum == 1858) geo = "WhereIGo Cache";
-		if(geoNum == 50) geo = "Parking Area";
-		if(geoNum == 51) geo = "Stages of a Multicache";
-		if(geoNum == 52) geo = "Question to Answer";
-		if(geoNum == 53) geo = "Final Location";
-		if(geoNum == 54) geo = "Trailhead";
-		if(geoNum == 55) geo = "Reference Point";
+		if(geoNum.equals("2")) geo = "Traditional Cache";
+		if(geoNum.equals("3")) geo = "Multi-cache";
+		if(geoNum.equals("4")) geo = "Virtual Cache";
+		if(geoNum.equals("5")) geo = "Letterbox Hybrid";
+		if(geoNum.equals("6")) geo = "Event Cache";
+		if(geoNum.equals("11")) geo = "Webcam Cache";
+		if(geoNum.equals("8")) geo = "Unknown Cache";
+		if(geoNum.equals("12")) geo = "Locationless Cache";
+		if(geoNum.equals("13")) geo = "Cache In Trash Out Event";
+		if(geoNum.equals("137")) geo = "Earthcache";
+		if(geoNum.equals("453")) geo = "Mega Event Cache";
+		if(geoNum.equals("1858")) geo = "WhereIGo Cache";
+		if(geoNum.equals("50")) geo = "Parking Area";
+		if(geoNum.equals("51")) geo = "Stages of a Multicache";
+		if(geoNum.equals("52")) geo = "Question to Answer";
+		if(geoNum.equals("53")) geo = "Final Location";
+		if(geoNum.equals("54")) geo = "Trailhead";
+		if(geoNum.equals("55")) geo = "Reference Point";
 		return geo;
 	}
 	
@@ -220,31 +220,37 @@
 		}
 	}
 
-	public static boolean isAddiWpt(int type){
-		return (type >= 50 && type <= 55);
+	public static boolean isAddiWpt(String type){
+		if (type.equals("50")) return true;
+		if (type.equals("51")) return true;
+		if (type.equals("52")) return true;
+		if (type.equals("53")) return true;
+		if (type.equals("54")) return true;
+		if (type.equals("55")) return true;
+		return false;
 	}
 
-	public static int typeText2Number(String typeText){
-		if (typeText.equals("Traditional Cache") || typeText.equals("Traditional")|| typeText.equals("Classic")) return 2;
-		if (typeText.equals("Multi-cache") || typeText.equals("Multi") || typeText.equals("Offset")) return 3;
-		if (typeText.equals("Virtual Cache") || typeText.equals("Virtual")) return 4;
-		if (typeText.equals("Letterbox Hybrid")) return 5;
-		if (typeText.equals("Event Cache") || typeText.equals("Event")) return 6;
-		if (typeText.equals("Unknown Cache") || typeText.equals("Other") || typeText.equals("Quiz")) return 8;
-		if (typeText.equals("Webcam Cache") || typeText.equals("Webcam")) return 11;
-		if (typeText.equals("Locationless (Reverse) Cache")) return 12;
-		if (typeText.equals("Cache In Trash Out Event")) return 13;
-		if (typeText.equals("Earthcache") || typeText.equals("Earth")) return 137;
-		if (typeText.equals("Mega-Event Cache")) return 453;
-		if (typeText.equals("Wherigo Cache")) return 1858;
-		if (typeText.equals("Waypoint|Parking Area")) return 50;
-		if (typeText.equals("Waypoint|Stages of a Multicache")) return 51;
-		if (typeText.equals("Waypoint|Question to Answer")) return 52;
-		if (typeText.equals("Waypoint|Final Coordinates")||typeText.equals("Waypoint|Final Location")) return 53;
-		if (typeText.equals("Waypoint|Trailhead")) return 54;
-		if (typeText.equals("Waypoint|Reference Point")) return 55;
+	public static String typeText2Number(String typeText){
+		if (typeText.equals("Traditional Cache") || typeText.equals("Traditional")|| typeText.equals("Classic")) return "2";
+		if (typeText.equals("Multi-cache") || typeText.equals("Multi") || typeText.equals("Offset")) return "3";
+		if (typeText.equals("Virtual Cache") || typeText.equals("Virtual")) return "4";
+		if (typeText.equals("Letterbox Hybrid")) return "5";
+		if (typeText.equals("Event Cache") || typeText.equals("Event")) return "6";
+		if (typeText.equals("Unknown Cache") || typeText.equals("Other") || typeText.equals("Quiz")) return "8";
+		if (typeText.equals("Webcam Cache") || typeText.equals("Webcam")) return "11";
+		if (typeText.equals("Locationless (Reverse) Cache")) return "12";
+		if (typeText.equals("Cache In Trash Out Event")) return "13";
+		if (typeText.equals("Earthcache") || typeText.equals("Earth")) return "137";
+		if (typeText.equals("Mega-Event Cache")) return "453";
+		if (typeText.equals("Wherigo Cache")) return "1858";
+		if (typeText.equals("Waypoint|Parking Area")) return "50";
+		if (typeText.equals("Waypoint|Stages of a Multicache")) return "51";
+		if (typeText.equals("Waypoint|Question to Answer")) return "52";
+		if (typeText.equals("Waypoint|Final Coordinates")||typeText.equals("Waypoint|Final Location")) return "53";
+		if (typeText.equals("Waypoint|Trailhead")) return "54";
+		if (typeText.equals("Waypoint|Reference Point")) return "55";
 		Vm.debug("Unknown Cache Type:" + typeText);
-		return 0;
+		return "0";
 	}
 
 	/**
@@ -262,30 +268,31 @@
 		*	9		??		Moving		9->109 (ok)
 		*	10		??		Drive-In		10->110 (ok)
 		*/
-		public static int transOCType(int type){
-			if(type == 1) return 8;
-			if(type == 2) return 2;
-			if(type == 3) return 3;	
-			if(type == 4) return 4;
-			if(type == 5) return 11;
-			if(type == 6) return 6;
-			if(type == 7) return 8;
-			if(type >= 8 || type <= 10) return 8;
+		public static String transOCType(String type){
+			if(type.equals("1")) return "8";
+			if(type.equals("2")) return "2";
+			if(type.equals("3")) return "3";	
+			if(type.equals("4")) return "4";
+			if(type.equals("5")) return "11";
+			if(type.equals("6")) return "6";
+			if(type.equals("7")) return "8";
+			if(type.equals("8")|| type.equals("9") ||type.equals("10")) return "8";
 	/* Not supportet at the moment
 			if(type.equals("8")) return "108";
 			if(type.equals("9")) return "109";
 			if(type.equals("10")) return "110";
 	*/
 			//no match found? return custom type!
-			return 0;
+			return "0";
 		}
 
 		
-	public static Image cache2Img(int cacheType) {
-		if (cacheType==1858)
+	public static Image cache2Img(String cacheType) {
+		int ct=Convert.parseInt(cacheType);
+		if (ct==1858)
 			return cacheImages[WHERIGO];
 		else	
-			return cacheImages[cacheType]; // TODO save in cacheholder as int
+			return cacheImages[ct]; // TODO save in cacheholder as int
 	}
 
 }

Modified: trunk/src/CacheWolf/CalcPanel.java
===================================================================
--- trunk/src/CacheWolf/CalcPanel.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/CalcPanel.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -188,7 +188,7 @@
 				coordOut = coordInp.project(bd.degrees, bd.distance);
 				ch.LatLon = coordOut.toString();
 				ch.pos.set(coordOut);
-				ch.type = 51; // see CacheType.GC_AW_STAGE_OF_MULTI // TODO unfertig
+				ch.type = "51"; // see CacheType.GC_AW_STAGE_OF_MULTI // TODO unfertig
 				mainT.newWaypoint(ch);
 			}
 			

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -218,11 +218,10 @@
 	*	Translate the cache type to the value in the cache type dropdown
 	*	control.
 	*/
-	private int transType(int type){
-		// TODO Hab ich so eine ?bersetzungstabelle nicht schon an anderer Stelle gesehen ??? Redundanz ??
+	private int transType(String type){
 		int c_type = 0;
 		int tt = 0;
-		tt = type;
+		tt = Convert.parseInt(type);
 		switch(tt){
 			case 0: c_type = 0; break;
 			case 2: c_type = 1; break;
@@ -256,28 +255,28 @@
 	*	This transformation is required to ease the display of the cache type
 	*	icon in the table display.
 	*/
-	public int transSelect(int num){
-		int ret = 0;
+	public String transSelect(int num){
+		String ret = new String("");
 		switch(num){
-			case 0: ret = 0; break;
-			case 1: ret = 2; break;
-			case 2: ret = 3; break;
-			case 3: ret = 4; break;
-			case 4: ret = 5; break;
-			case 5: ret = 6; break;
-			case 6: ret = 453; break;
-			case 7: ret = 8; break;
-			case 8: ret = 11; break;
-			case 9: ret = 12; break;
-			case 10: ret = 13; break;
-			case 11: ret = 137; break;
-			case 12: ret = 1858; break;
-			case 13: ret = 50; break;
-			case 14: ret = 51; break;
-			case 15: ret = 52; break;
-			case 16: ret = 53; break;
-			case 17: ret = 54; break;
-			case 18: ret = 55; break;
+			case 0: ret = "0"; break;
+			case 1: ret = "2"; break;
+			case 2: ret = "3"; break;
+			case 3: ret = "4"; break;
+			case 4: ret = "5"; break;
+			case 5: ret = "6"; break;
+			case 6: ret = "453"; break;
+			case 7: ret = "8"; break;
+			case 8: ret = "11"; break;
+			case 9: ret = "12"; break;
+			case 10: ret = "13";break;
+			case 11: ret = "137";break;
+			case 12: ret = "1858"; break;
+			case 13: ret = "50";break;
+			case 14: ret = "51";break;
+			case 15: ret = "52";break;
+			case 16: ret = "53";break;
+			case 17: ret = "54";break;
+			case 18: ret = "55";break;
 
 			default: Vm.debug("Unknown cachetype: " + num);
 			break;
@@ -478,7 +477,7 @@
 		  thisCache.CacheName = inpName.getText().trim();
 		  thisCache.LatLon = thisCache.pos.toString();
 		  thisCache.DateHidden = inpHidden.getText().trim();
-		  int oldType=thisCache.type;
+		  String oldType=thisCache.type;
 		  thisCache.type = transSelect(chcType.getInt());
 		 // thisCache.saveCacheDetails(profile.dataDir); // this is redundant, because all changes affecting the details are immediately saved
 		  // Now update the table

Modified: trunk/src/CacheWolf/Filter.java
===================================================================
--- trunk/src/CacheWolf/Filter.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/Filter.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -355,25 +355,25 @@
 			if (hasTypeMatchPattern) { // Only do the checks if we have a filter
 				cacheTypePattern = 0;
 				// As each cache can only have one type, we can use else if and set the type
-				if (ch.type == 0) cacheTypePattern = CUSTOM;
-				else if(ch.type == 2) cacheTypePattern = TRADITIONAL;
-				else if(ch.type == 3) cacheTypePattern = MULTI;
-				else if(ch.type == 4) cacheTypePattern = VIRTUAL;
-				else if(ch.type == 5) cacheTypePattern = LETTER;
-				else if(ch.type == 6) cacheTypePattern = EVENT;
-				else if(ch.type == 8) cacheTypePattern = MYSTERY;
-				else if(ch.type == 11) cacheTypePattern = WEBCAM;
-				else if(ch.type == 12) cacheTypePattern = LOCLESS;
-				else if(ch.type == 137)cacheTypePattern = EARTH;
-				else if(ch.type == 453)cacheTypePattern = MEGA;
-				else if(ch.type == 50)cacheTypePattern = PARKING;
-				else if(ch.type == 51)cacheTypePattern = STAGE;
-				else if(ch.type == 52)cacheTypePattern = QUESTION;
-				else if(ch.type == 53)cacheTypePattern = FINAL;
-				else if(ch.type == 54)cacheTypePattern = TRAILHEAD;
-				else if(ch.type == 55)cacheTypePattern = REFERENCE;
-				else if(ch.type == 13)cacheTypePattern = CITO;
-				else if(ch.type == 1858)cacheTypePattern = WHERIGO;
+				if (ch.type.equals("0")) cacheTypePattern = CUSTOM;
+				else if(ch.type.equals("2")) cacheTypePattern = TRADITIONAL;
+				else if(ch.type.equals("3")) cacheTypePattern = MULTI;
+				else if(ch.type.equals("4")) cacheTypePattern = VIRTUAL;
+				else if(ch.type.equals("5")) cacheTypePattern = LETTER;
+				else if(ch.type.equals("6")) cacheTypePattern = EVENT;
+				else if(ch.type.equals("8")) cacheTypePattern = MYSTERY;
+				else if(ch.type.equals("11")) cacheTypePattern = WEBCAM;
+				else if(ch.type.equals("12")) cacheTypePattern = LOCLESS;
+				else if(ch.type.equals("137"))cacheTypePattern = EARTH;
+				else if(ch.type.equals("453"))cacheTypePattern = MEGA;
+				else if(ch.type.equals("50"))cacheTypePattern = PARKING;
+				else if(ch.type.equals("51"))cacheTypePattern = STAGE;
+				else if(ch.type.equals("52"))cacheTypePattern = QUESTION;
+				else if(ch.type.equals("53"))cacheTypePattern = FINAL;
+				else if(ch.type.equals("54"))cacheTypePattern = TRAILHEAD;
+				else if(ch.type.equals("55"))cacheTypePattern = REFERENCE;
+				else if(ch.type.equals("13"))cacheTypePattern = CITO;
+				else if(ch.type.equals("1858"))cacheTypePattern = WHERIGO;
 				if ((cacheTypePattern & typeMatchPattern) == 0) { ch.is_filtered=true; continue; }
 			}			
 			///////////////////////////////

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/MainTab.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -312,12 +312,13 @@
 		}
 		Global.getProfile().hasUnsavedChanges=true;
 		detP.setIsNew(true);
+		if (ch.type == null || ch.type.equals("")) ch.type = "0";
 		if (CacheType.isAddiWpt(ch.type) && mainCache!=null && mainCache.length()>2) {
 			ch.wayPoint = profile.getNewAddiWayPointName(mainCache);
 			profile.setAddiRef(ch);
 		} else { 
 			ch.wayPoint = profile.getNewWayPointName();
-			ch.type=0;
+			ch.type="0";
 			lastselected=ch.wayPoint;
 		}
 		ch.CacheSize = "None";

Modified: trunk/src/CacheWolf/MyComparer.java
===================================================================
--- trunk/src/CacheWolf/MyComparer.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/MyComparer.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -20,7 +20,7 @@
 		if (colToCompare==1) {
 			for (int i=0; i<visibleSize; i++) {
 				CacheHolder ch=(CacheHolder) cacheDB.get(i);
-				ch.sort=String.valueOf(ch.type);
+				ch.sort=ch.type;
 			}
 		} else if (colToCompare==2) {
 			for (int i=0; i<visibleSize; i++) {

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -354,7 +354,7 @@
 			cacheID = atts.getValue("id");
 		}
 		if(name.equals("type")){
-			chD.type = CacheType.transOCType(new Integer(atts.getValue("id")).intValue()); 
+			chD.type = CacheType.transOCType(atts.getValue("id"));
 			return;
 		}
 		if(name.equals("status")){

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -185,7 +185,7 @@
 							addis.put("WAYPOINT",ch.wayPoint);
 							addis.put("NAME",ch.CacheName);
 							addis.put("LATLON",ch.LatLon);
-							addis.put("IMG","<img src=\""+CacheType.type2pic(ch.type)+"\">");
+							addis.put("IMG","<img src=\""+CacheType.type2pic(Convert.parseInt(ch.type))+"\">");
 							CacheHolderDetail chDA=new CacheHolderDetail(ch);
 							chDA.readCache(Global.getProfile().dataDir);
 							addis.put("LONGDESC",chDA.LongDescription); // Do we need to treat longDesc as above ?

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -774,11 +774,11 @@
 	 * @param doc A previously fetched cachepage
 	 * @return the waypoint type (Tradi, Multi, etc.)
 	 */
-	private int getType(String doc) throws Exception{
+	private String getType(String doc) throws Exception{
 		inRex = new Regex(p.getProp("cacheTypeRex"));
 		inRex.search(doc);
-		if(inRex.didMatch()) return new Integer(inRex.stringMatched(1)).intValue();
-		else return 0;
+		if(inRex.didMatch()) return inRex.stringMatched(1);
+		else return "";
 	}
 
 	/**

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -404,7 +404,7 @@
 				CacheHolder ch = new CacheHolder();
 				ch.LatLon = myNavigation.gpsPos.toString();
 				ch.pos = new CWPoint(myNavigation.gpsPos);
-				ch.type = 51; // see CacheType.GC_AW_STAGE_OF_MULTI // TODO unfertig
+				ch.type = "51"; // see CacheType.GC_AW_STAGE_OF_MULTI // TODO unfertig
 				mainT.newWaypoint(ch);
 			}
 			// change destination waypoint

Modified: trunk/src/exp/ExploristExporter.java
===================================================================
--- trunk/src/exp/ExploristExporter.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/exp/ExploristExporter.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -230,17 +230,17 @@
 		sb.append(",");
 		String add = "";
 		if (chD.isAddiWpt()) {
-			if (chD.type == 50) {
+			if (chD.type.equals("50")) {
 				add = "Pa:";
-			} else if (chD.type == 51) {
+			} else if (chD.type.equals("51")) {
 				add = "St:";
-			} else if (chD.type == 52) {
+			} else if (chD.type.equals("52")) {
 				add = "Qu:"; 
-			} else if (chD.type == 53) {	
+			} else if (chD.type.equals("53")) {	
 				add = "Fi:";
-			} else if (chD.type == 54) {
+			} else if (chD.type.equals("54")) {
 				add = "Tr:";
-			} else if (chD.type == 55) {	
+			} else if (chD.type.equals("55")) {	
 				add = "Re:";
 			}
 			sb.append(add).append(removeCommas(chD.CacheName));
@@ -255,7 +255,7 @@
 		
 		if (!add.equals("")) { // Set Picture in Explorist to Virtual
 			sb.append("Virtual Cache");
-		} else if (chD.type != 8) { // Rewrite Unknown Caches
+		} else if (!chD.type.equals("8")) { // Rewrite Unknown Caches
 			sb.append(CacheType.transType(chD.type));
 		} else {
 			sb.append("Mystery Cache");

Modified: trunk/src/exp/KMLExporter.java
===================================================================
--- trunk/src/exp/KMLExporter.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/exp/KMLExporter.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -100,7 +100,7 @@
 					tmp = (Vector)entry.getValue();
 					// skip over empty cachetypes
 					if (tmp.size() == 0) continue;
-					outp.print(startFolder(CacheType.transType(new Integer((String)entry.getKey()).intValue())));
+					outp.print(startFolder(CacheType.transType((String)entry.getKey())));
 
 					for(int i = 0; i<tmp.size(); i++){
 						ch = (CacheHolder) tmp.get(i);
@@ -171,13 +171,12 @@
 		// fill structure with data from cacheDB
 		for(int i = 0; i<cacheDB.size(); i++){
 			ch=(CacheHolder)cacheDB.get(i);
-			// TODO Das Argument nach STring zu casten gef?llt mir nicht ganz...
 			if(ch.is_black == false && ch.is_filtered == false && !ch.isAddiWpt()){
-				if (ch.is_found) { tmp = (Vector) outCacheDB[FOUND].get(String.valueOf(ch.type));}
-				else if (ch.is_owned) { tmp = (Vector) outCacheDB[OWNED].get(String.valueOf(ch.type));}
-				else if (ch.is_archived || !ch.is_available){ tmp = (Vector) outCacheDB[NOT_AVAILABLE].get(String.valueOf(ch.type));}
-				else if (ch.is_available){ tmp = (Vector) outCacheDB[AVAILABLE].get(String.valueOf(ch.type));}
-				else { tmp = (Vector) outCacheDB[UNKNOWN].get(String.valueOf(ch.type));}
+				if (ch.is_found) { tmp = (Vector) outCacheDB[FOUND].get(ch.type);}
+				else if (ch.is_owned) { tmp = (Vector) outCacheDB[OWNED].get(ch.type);}
+				else if (ch.is_archived || !ch.is_available){ tmp = (Vector) outCacheDB[NOT_AVAILABLE].get(ch.type);}
+				else if (ch.is_available){ tmp = (Vector) outCacheDB[AVAILABLE].get(ch.type);}
+				else { tmp = (Vector) outCacheDB[UNKNOWN].get(ch.type);}
 				
 				tmp.add(ch);
 			}
@@ -286,7 +285,7 @@
 		strBuf.append("      <IconStyle>\r\n");
 		strBuf.append("         <Icon>\r\n");
 //		strBuf.append("            <href>"+ File.getProgramDirectory()+ "/" + CacheType.type2pic(Convert.parseInt(ch.type))+ "</href>\r\n");
-		strBuf.append("            <href>"+ CacheType.type2pic(ch.type)+ "</href>\r\n");
+		strBuf.append("            <href>"+ CacheType.type2pic(Convert.parseInt(ch.type))+ "</href>\r\n");
 		strBuf.append("         </Icon>\r\n");
 		strBuf.append("      </IconStyle>\r\n");
 		strBuf.append("      <LabelStyle>\r\n");

Modified: trunk/src/exp/LocExporter.java
===================================================================
--- trunk/src/exp/LocExporter.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/exp/LocExporter.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -104,12 +104,11 @@
 			// First check if there is a mapping for "cache found"
 			if (chD.is_found) {
 				for (int i=0; i<mapSize; i++)
-					// TODO Geht das noch sch?ner...? ................ <------------------------------>
-					if (symbols[i].onlyIfFound!=null && symbols[i].type.equals(String.valueOf(chD.type))) return symbols[i].name;
+					if (symbols[i].onlyIfFound!=null && symbols[i].type.equals(chD.type)) return symbols[i].name;
 			}
 			// Now try mapping the cache irrespective of the "found" status
 			for (int i=0; i<mapSize; i++)
-				if (symbols[i].type.equals(String.valueOf(chD.type))) return symbols[i].name;
+				if (symbols[i].type.equals(chD.type)) return symbols[i].name;
 		
 			// If it is not a mapped type, just use the standard mapping
 			if (chD.is_found)

Modified: trunk/src/exp/TomTomExporter.java
===================================================================
--- trunk/src/exp/TomTomExporter.java	2008-03-30 18:49:25 UTC (rev 1319)
+++ trunk/src/exp/TomTomExporter.java	2008-03-30 19:19:07 UTC (rev 1320)
@@ -93,7 +93,7 @@
 				out =  new RandomAccessFile(fileName,"rw");
 				for(int i = 0; i<cacheDB.size(); i++){
 					holder=(CacheHolder)cacheDB.get(i);
-					if(holder.type == new Integer(CacheType.wayType[j][TT_WPT_NUM]).intValue() && holder.is_black == false && holder.is_filtered == false){
+					if(holder.type.equals(CacheType.wayType[j][TT_WPT_NUM]) && holder.is_black == false && holder.is_filtered == false){
 						currExp++;
 						h.progress = (float)currExp/(float)counter;
 						h.changed();



From kappler at mail.berlios.de  Mon Mar 31 15:52:37 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Mon, 31 Mar 2008 15:52:37 +0200
Subject: [Cachewolf-svn] r1321 - in trunk: resources src/CacheWolf
	src/CacheWolf/navi
Message-ID: <200803311352.m2VDqb2t007201@sheep.berlios.de>

Author: kappler
Date: 2008-03-31 15:52:28 +0200 (Mon, 31 Mar 2008)
New Revision: 1321

Added:
   trunk/resources/choose_map_vga.gif
   trunk/resources/lupe_activated_vga.png
   trunk/resources/lupe_activated_zin_vga.png
   trunk/resources/lupe_activated_zout_vga.png
   trunk/resources/lupe_vga.png
   trunk/resources/position_green_vga.png
   trunk/resources/position_red_vga.png
   trunk/resources/position_yellow_vga.png
   trunk/resources/snap2gps_vga.gif
   trunk/resources/zoom1to1_vga.png
Modified:
   trunk/resources/projecttab_vga.gif
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/navi/MovingMap.java
Log:
VGA: Use larger icon-buttons in moving map

Added: trunk/resources/choose_map_vga.gif
===================================================================
(Binary files differ)


Property changes on: trunk/resources/choose_map_vga.gif
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/lupe_activated_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/lupe_activated_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/lupe_activated_zin_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/lupe_activated_zin_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/lupe_activated_zout_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/lupe_activated_zout_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/lupe_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/lupe_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/position_green_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/position_green_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/position_red_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/position_red_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/position_yellow_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/position_yellow_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/resources/projecttab_vga.gif
===================================================================
(Binary files differ)

Added: trunk/resources/snap2gps_vga.gif
===================================================================
(Binary files differ)


Property changes on: trunk/resources/snap2gps_vga.gif
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/resources/zoom1to1_vga.png
===================================================================
(Binary files differ)


Property changes on: trunk/resources/zoom1to1_vga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-03-30 19:19:07 UTC (rev 1320)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-03-31 13:52:28 UTC (rev 1321)
@@ -53,7 +53,7 @@
 		else if(pref.fontSize <= 17){
 			setPreferredSize(300,250);
 		}
-		else if(pref.fontSize <= 21){
+		else if(pref.fontSize <= 20){
 			setPreferredSize(350,300);
 		}
 		else if(pref.fontSize <= 24){

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-03-30 19:19:07 UTC (rev 1320)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-03-31 13:52:28 UTC (rev 1321)
@@ -41,26 +41,26 @@
 	//String mapPath;
 	Navigate myNavigation;
 	boolean running = false;
-
+	
 	MapImage mapImage1to1;
 	ArrowsOnMap directionArrows = new ArrowsOnMap();
-	AniImage statusImageHaveSignal = new AniImage("position_green.png");
-	AniImage statusImageNoSignal = new AniImage("position_yellow.png");
-	AniImage statusImageNoGps = new AniImage("position_red.png");
+	AniImage statusImageHaveSignal;
+	AniImage statusImageNoSignal;
+	AniImage statusImageNoGps;
 	AniImage bottonImageClose;
-	AniImage bottonImageChooseMap = new AniImage("choose_map.gif"); 
-	AniImage buttonImageGpsOn = new AniImage("snap2gps.gif");
-	AniImage buttonImageLens = new AniImage("lupe.png");
-	AniImage buttonImageLensActivated = new AniImage("lupe_activated.png");
-	AniImage buttonImageLensActivatedZoomIn = new AniImage("lupe_activated_zin.png");
-	AniImage buttonImageLensActivatedZoomOut = new AniImage("lupe_activated_zout.png");
-	AniImage buttonImageZoom1to1 = new AniImage("zoom1to1.png");
+	AniImage bottonImageChooseMap; 
+	AniImage buttonImageGpsOn;
+	AniImage buttonImageLens;
+	AniImage buttonImageLensActivated;
+	AniImage buttonImageLensActivatedZoomIn;
+	AniImage buttonImageLensActivatedZoomOut;
+	AniImage buttonImageZoom1to1;
 	AniImage DistanceImage;
 	Graphics DistanceImageGraphics;
 	AniImage ScaleImage;
 	Graphics ScaleImageGraphics;
-	MapSymbol posCircle = new MapSymbol("position_green.png", "gps-position", new CWPoint());
-	public static final String MARK_CACHE_IMAGE = "mark_cache.png";
+	MapSymbol posCircle;
+	String MARK_CACHE_IMAGE;
 	int posCircleX = 0, posCircleY = 0, lastCompareX = Integer.MAX_VALUE, lastCompareY = Integer.MAX_VALUE;
 	//double posCircleLat, posCircleLon;
 	FontMetrics fm;
@@ -92,7 +92,30 @@
 
 		mmp = new MovingMapPanel(this);
 		this.addLast(mmp);
-		DrawnIcon closeX = new DrawnIcon(DrawnIcon.CROSS,15,15,new Color(0,0,0));
+		
+		boolean mobileVGA = false;
+		if (Vm.isMobile() && MyLocale.getScreenWidth() >= 400) mobileVGA = true;  
+		String imagesize="";
+		if(mobileVGA) imagesize="_vga";
+		
+		statusImageHaveSignal = new AniImage("position_green"+imagesize+".png");
+		statusImageNoSignal = new AniImage("position_yellow"+imagesize+".png");
+		statusImageNoGps = new AniImage("position_red"+imagesize+".png");
+		bottonImageChooseMap = new AniImage("choose_map"+imagesize+".gif"); 
+		buttonImageGpsOn = new AniImage("snap2gps"+imagesize+".gif");
+		buttonImageLens = new AniImage("lupe"+imagesize+".png");
+		buttonImageLensActivated = new AniImage("lupe_activated"+imagesize+".png");
+		buttonImageLensActivatedZoomIn = new AniImage("lupe_activated_zin"+imagesize+".png");
+		buttonImageLensActivatedZoomOut = new AniImage("lupe_activated_zout"+imagesize+".png");
+		buttonImageZoom1to1 = new AniImage("zoom1to1"+imagesize+".png");
+		posCircle = new MapSymbol("position_green"+imagesize+".png", "gps-position", new CWPoint());
+		MARK_CACHE_IMAGE = "mark_cache.png";
+		
+		DrawnIcon closeX;
+		if(mobileVGA)
+			closeX = new DrawnIcon(DrawnIcon.CROSS,30,30,new Color(0,0,0));
+		else
+			closeX = new DrawnIcon(DrawnIcon.CROSS,15,15,new Color(0,0,0));
 		bottonImageClose = new AniImage(new Image(closeX.getWidth(), closeX.getHeight()));
 		Graphics tmp = new Graphics(bottonImageClose.image);
 		tmp.setColor(255, 255, 255);



From mirabilos at mail.berlios.de  Mon Mar 31 20:55:24 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Mon, 31 Mar 2008 20:55:24 +0200
Subject: [Cachewolf-svn] r1322 - in trunk: res_noewe resources
Message-ID: <200803311855.m2VItODA028231@sheep.berlios.de>

Author: mirabilos
Date: 2008-03-31 20:55:24 +0200 (Mon, 31 Mar 2008)
New Revision: 1322

Added:
   trunk/res_noewe/traffic_cone.gif
Removed:
   trunk/resources/traffic_cone.gif
Log:
traffic_cone.gif must not be inside the .ewe file, otherwise
it?s not displayed in the logs of e.g. GC10R7K

XXX maybe this affects even more of the files?


Copied: trunk/res_noewe/traffic_cone.gif (from rev 1286, trunk/resources/traffic_cone.gif)

Deleted: trunk/resources/traffic_cone.gif
===================================================================
(Binary files differ)



