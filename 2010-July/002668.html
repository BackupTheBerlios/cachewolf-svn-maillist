<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r2686 - in trunk: . res_noewe/languages	src/CacheWolf src/CacheWolf/exp
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2686%20-%20in%20trunk%3A%20.%20res_noewe/languages%0A%09src/CacheWolf%20src/CacheWolf/exp&In-Reply-To=%3C20100716181320.EB834480266%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002666.html">
   <LINK REL="Next"  HREF="002669.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r2686 - in trunk: . res_noewe/languages	src/CacheWolf src/CacheWolf/exp</H1>
    <B>araber95 at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2686%20-%20in%20trunk%3A%20.%20res_noewe/languages%0A%09src/CacheWolf%20src/CacheWolf/exp&In-Reply-To=%3C20100716181320.EB834480266%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r2686 - in trunk: . res_noewe/languages	src/CacheWolf src/CacheWolf/exp">araber95 at mail.berlios.de
       </A><BR>
    <I>Fri Jul 16 08:13:20 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002666.html">[Cachewolf-svn] r2685 - in trunk: res_noewe/languages src/CacheWolf
</A></li>
        <LI>Next message: <A HREF="002669.html">[Cachewolf-svn] r2687 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2668">[ date ]</a>
              <a href="thread.html#2668">[ thread ]</a>
              <a href="subject.html#2668">[ subject ]</a>
              <a href="author.html#2668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: araber95
Date: 2010-07-16 20:13:20 +0200 (Fri, 16 Jul 2010)
New Revision: 2686

Removed:
   trunk/src/CacheWolf/exp/GPXExporter.java
Modified:
   trunk/buildexe.bat
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/PreferencesScreen.java
Log:
1. gcmemberid in preferences screen
2. completeley removed old gpx - exporter

Modified: trunk/buildexe.bat
===================================================================
--- trunk/buildexe.bat	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/buildexe.bat	2010-07-16 18:13:20 UTC (rev 2686)
@@ -1,5 +1,5 @@
 cd %~d0%~p0
-call getres.bat
+rem call getres.bat
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-ppc2003.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/res_noewe/languages/DE.cfg	2010-07-16 18:13:20 UTC (rev 2686)
@@ -294,6 +294,7 @@
 		647=Sortierung nach Cache gruppiert
 		648=Fehlersuch Modus (debug)
 		649=Nutze eigene Symbole (nach Neustart)
+		650=GC Mitgliedsnr.:
 		700=Filter setzen
 		701=Entfernung
 		702=Schwierigkeit

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/res_noewe/languages/EN.cfg	2010-07-16 18:13:20 UTC (rev 2686)
@@ -294,6 +294,7 @@
 		647=cachegrouped sorting
 		648=Debug Mode
 		649=use own symbols
+		650=GC memberID:
 		700=Set filter
 		701=Distance
 		702=Difficulty

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/res_noewe/languages/FR.cfg	2010-07-16 18:13:20 UTC (rev 2686)
@@ -294,6 +294,7 @@
 		647=[cachegrouped sorting]
 		648=[Debug Mode]
 		649=[use own symbols]
+		650=GC memberID:
 		700=Cr%e9er filtre
 		701=Distance
 		702=Dificult%e9

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/res_noewe/languages/NL.cfg	2010-07-16 18:13:20 UTC (rev 2686)
@@ -294,6 +294,7 @@
 		647=cachegrouped sorteren
 		648=Debug Mode
 		649=Gebruik eigen symbolen
+		650=GC memberID:
 		700=Selecteer filter
 		701=Afstand
 		702=Moeilijkheidsgraad

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/res_noewe/languages/PL.cfg	2010-07-16 18:13:20 UTC (rev 2686)
@@ -294,6 +294,7 @@
 		647=[cachegrouped sorting]
 		648=[Debug Mode]
 		649=[use own symbols]
+		650=GC memberID:
                 700=Ustaw filtr
                 701=Odleglosc
                 702=Trudnosc

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/res_noewe/languages/SV.cfg	2010-07-16 18:13:20 UTC (rev 2686)
@@ -294,6 +294,7 @@
         	647=cachegrouped sortering
         	648=Fels%f6kningsl%e4ge
         	649=anv%e4nda egna symboler
+		650=GC memberID:
         	700=St%e4ll in filter
         	701=Avst%e5nd
         	702=Sv%e5righetsgrad

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2010-07-16 18:13:20 UTC (rev 2686)
@@ -19,7 +19,7 @@
 	mButton cancelB, applyB, brwBt, gpsB;
 	mChoice inpLanguage, inpMetric, inpSpiderUpdates;
 	mInput DataDir, Proxy, ProxyPort, Alias, nLogs, Browser, fontSize, 
-	       inpLogsPerPage,inpMaxLogsToSpider,inpPassword;
+	       inpLogsPerPage,inpMaxLogsToSpider,inpPassword,inpGcMemberID;
 	mCheckBox chkAutoLoad, chkShowDeletedImg, chkMenuAtTop, chkTabsAtTop, chkShowStatus,chkHasCloseButton,
 	          chkSynthShort,chkProxyActive, chkDescShowImg, chkAddDetailsToWaypoint, chkAddDetailsToName, 
 	          chkSetCurrentCentreFromGPSPosition,chkSortingGroupedByCache,chkuseOwnSymbols,chkDebug,chkPM;
@@ -55,20 +55,21 @@
 		if((pref.fontSize &lt;= 13)||(sw &lt;= 240)||(sh &lt;= 240)){
 			setPreferredSize(240,240);
 		}
-		else if(pref.fontSize &lt;= 17){
-			setPreferredSize(300,250);
+		else if(pref.fontSize &lt;= 28){
+			// was for &lt;=16 setPreferredSize(288,252);
+			setPreferredSize(pref.fontSize*18,pref.fontSize*16);
 		}
 		else if(pref.fontSize &lt;= 20){
-			setPreferredSize(350,300);
+			setPreferredSize(352,302);
 		}
 		else if(pref.fontSize &lt;= 24){
-			setPreferredSize(400,350);
+			setPreferredSize(420,350);
 		}
 		else if(pref.fontSize &lt;= 28){
-			setPreferredSize(450,400);
+			setPreferredSize(480,390);
 		}
 		else{
-			setPreferredSize(500,450);
+			setPreferredSize(576,512);
 		}
 		
 		//scp = new ScrollBarPanel(pnlGeneral);
@@ -96,10 +97,13 @@
 		cpBrowser.addNext(Alias = new mInput(pref.myAlias),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
 		cpBrowser.addNext(new mLabel(MyLocale.getMsg(594,&quot;Pwd&quot;)));
 		cpBrowser.addLast(inpPassword=new mInput(pref.password),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
-		cpBrowser.addLast(chkPM=new mCheckBox(&quot;PM&quot;));
-		if (pref.isPremium) chkPM.setState(true);
 		inpPassword.setToolTip(MyLocale.getMsg(593,&quot;Password is optional here.\nEnter only if you want to store it in pref.xml&quot;));
 		inpPassword.isPassword=true;
+		cpBrowser.addNext(chkPM=new mCheckBox(&quot;PM&quot;));
+		if (pref.isPremium) chkPM.setState(true);
+		cpBrowser.addNext(new mLabel(MyLocale.getMsg(650,&quot;GcMemberID:&quot;)));
+		cpBrowser.addLast(inpGcMemberID=new mInput(pref.gcMemberId),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.LEFT));
+		
 		pnlGeneral.addLast(separator(cpBrowser),HSTRETCH,HFILL);
 		
 		CellPanel cpGPS=new CellPanel();
@@ -311,6 +315,7 @@
 				
 				pref.myAlias = Alias.getText().trim();
 				SpiderGC.passwort=pref.password= inpPassword.getText().trim();
+				pref.gcMemberId=inpGcMemberID.getText().trim();
 				MyLocale.saveLanguage(MyLocale.language=inpLanguage.getText().toUpperCase().trim());
 				pref.browser = Browser.getText();
 				//Vm.debug(myPreferences.browser);

Deleted: trunk/src/CacheWolf/exp/GPXExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/GPXExporter.java	2010-07-16 16:23:18 UTC (rev 2685)
+++ trunk/src/CacheWolf/exp/GPXExporter.java	2010-07-16 18:13:20 UTC (rev 2686)
@@ -1,185 +0,0 @@
-package CacheWolf.exp;
-import ewe.sys.*;
-import ewe.io.FileBase;
-import CacheWolf.*;
-/**
-*	Class to export the cache database to a GPX file with gc.com
-*	extensions.&lt;br&gt;
-*	Export of logs is not that nice. The cause is that CacheWolf does not spider
-*	logs individually, rather all logs as a single entity.
-*	ClassID = 2000
-*/
-public class GPXExporter extends Exporter{
-
-	private final static String STRING_TRUE = &quot;True&quot;;
-	private final static String STRING_FALSE = &quot;False&quot;;
-	private final static String DEFAULT_DATE = &quot;2000-01-01&quot;;
-
-	public GPXExporter(){
-		super();
-		this.setMask(&quot;*.gpx&quot;);
-		this.setNeedCacheDetails(true);
-		this.setHowManyParams(LAT_LON|COUNT);
-		this.setTmpFileName(FileBase.getProgramDirectory() + &quot;/temp.gpx&quot;);
-	}
-
-	public GPXExporter(Preferences p, Profile prof){
-		super();
-		this.setMask(&quot;*.gpx&quot;);
-		this.setNeedCacheDetails(true);
-		this.setHowManyParams(LAT_LON|COUNT);
-		this.setTmpFileName(FileBase.getProgramDirectory() + &quot;/temp.gpx&quot;);
-	}
-
-	public String header() {
-		StringBuffer strBuf = new StringBuffer(200);
-		Time tim = new Time();
-
-		strBuf.append(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;utf-8\&quot;?&gt;\r\n&quot;);
-		strBuf.append(&quot;&lt;gpx xmlns:xsd=\&quot;<A HREF="http://www.w3.org/2001/XMLSchema\">http://www.w3.org/2001/XMLSchema\</A>&quot; xmlns:xsi=\&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance\">http://www.w3.org/2001/XMLSchema-instance\</A>&quot; version=\&quot;1.0\&quot; creator=\&quot;Groundspeak Pocket Query\&quot; xsi:schemaLocation=\&quot;<A HREF="http://www.topografix.com/GPX/1/0">http://www.topografix.com/GPX/1/0</A> <A HREF="http://www.topografix.com/GPX/1/0/gpx.xsd">http://www.topografix.com/GPX/1/0/gpx.xsd</A> <A HREF="http://www.groundspeak.com/cache/1/0">http://www.groundspeak.com/cache/1/0</A> <A HREF="http://www.groundspeak.com/cache/1/0/cache.xsd\">http://www.groundspeak.com/cache/1/0/cache.xsd\</A>&quot; xmlns=\&quot;<A HREF="http://www.topografix.com/GPX/1/0\">http://www.topografix.com/GPX/1/0\</A>&quot;&gt;\r\n&quot;);
-		if ( Global.getPref().exportGpxAsMyFinds ) {
-			strBuf.append(&quot;  &lt;name&gt;My Finds Pocket Query&lt;/name&gt;\r\n&quot;);
-		}
-		strBuf.append(&quot;  &lt;desc&gt;Geocache file generated by CacheWolf&lt;/desc&gt;\r\n&quot;);
-		strBuf.append(&quot;  &lt;author&gt;CacheWolf&lt;/author&gt;\r\n&quot;);
-		strBuf.append(&quot;  &lt;email&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">test at test.com</A>&lt;/email&gt;\r\n&quot;);
-		tim = tim.setFormat(&quot;yyyy-MM-dd'T'HH:mm:dd'Z'&quot;);
-		tim = tim.setToCurrentTime();
-		strBuf.append(&quot; &lt;time&gt;&quot;+tim.toString()+&quot;&lt;/time&gt;\r\n&quot;);
-
-		return strBuf.toString();
-	}
-
-	public String record(CacheHolder ch, String lat, String lon, int counter) {
-		StringBuffer strBuf = new StringBuffer(1000);
-		CacheHolderDetail det = ch.getCacheDetails(true);
-		try{
-			strBuf.append(&quot;  &lt;wpt lat=\&quot;&quot;+lat+&quot;\&quot; lon=\&quot;&quot;+lon+&quot;\&quot;&gt;\r\n&quot;);
-
-			String tim = ch.getDateHidden().length()&gt;0 ? ch.getDateHidden() : DEFAULT_DATE;
-			strBuf.append(&quot;    &lt;time&gt;&quot;).append(tim.toString()).append(&quot;T07:00:00Z&lt;/time&gt;\r\n&quot;);
-			strBuf.append(&quot;    &lt;name&gt;&quot;).append(ch.getWayPoint()).append(&quot;&lt;/name&gt;\r\n&quot;);
-			if (ch.isAddiWpt()){
-				strBuf.append(&quot;    &lt;cmt&gt;&quot;).append(SafeXML.cleanGPX(det.LongDescription)).append(&quot;&lt;/cmt&gt;\r\n&quot;);
-			}
-			strBuf.append(&quot;    &lt;desc&gt;&quot;).append(SafeXML.cleanGPX(ch.getCacheName())).append(&quot; by &quot;).append(SafeXML.cleanGPX(ch.getCacheOwner())).append(&quot;&lt;/desc&gt;\r\n&quot;);
-			strBuf.append(&quot;    &lt;url&gt;<A HREF="http://www.geocaching.com/seek/cache_details.aspx?wp=">http://www.geocaching.com/seek/cache_details.aspx?wp=</A>&quot;).append(ch.getWayPoint()).append(&quot;&amp;Submit6=Find&lt;/url&gt;\r\n&quot;);
-			strBuf.append(&quot;    &lt;urlname&gt;&quot;).append(SafeXML.cleanGPX(ch.getCacheName())).append(&quot; by &quot;).append(SafeXML.cleanGPX(ch.getCacheOwner())).append(&quot;&lt;/urlname&gt;\r\n&quot;);
-			if (!ch.isAddiWpt()){
-				if ( ch.is_found() ) {
-					strBuf.append(&quot;    &lt;sym&gt;Geocache Found&lt;/sym&gt;\r\n&quot;);
-				} else {
-					strBuf.append(&quot;    &lt;sym&gt;Geocache&lt;/sym&gt;\r\n&quot;);
-				}
-				strBuf.append(&quot;    &lt;type&gt;&quot;).append(CacheType.type2TypeTag(ch.getType())).append(&quot;&lt;/type&gt;\r\n&quot;);
-				String dummyAvailable = ch.is_available() ? STRING_TRUE:STRING_FALSE;
-				String dummyArchived = ch.is_archived() ? STRING_TRUE:STRING_FALSE;
-				strBuf.append(&quot;    &lt;groundspeak:cache id=\&quot;&quot;).append( ch.GetCacheID() ).append( &quot;\&quot; available=\&quot;&quot; ).append( dummyAvailable ).append( &quot;\&quot; archived=\&quot;&quot; ).append( dummyArchived).append( &quot;\&quot; xmlns:groundspeak=\&quot;<A HREF="http://www.groundspeak.com/cache/1/0\">http://www.groundspeak.com/cache/1/0\</A>&quot;&gt;\r\n&quot;);
-				strBuf.append(&quot;      &lt;groundspeak:name&gt;&quot;).append(SafeXML.cleanGPX(ch.getCacheName())).append(&quot;&lt;/groundspeak:name&gt;\r\n&quot;);
-				strBuf.append(&quot;      &lt;groundspeak:placed_by&gt;&quot;).append(SafeXML.cleanGPX(ch.getCacheOwner())).append(&quot;&lt;/groundspeak:placed_by&gt;\r\n&quot;);
-				//todo low prio: correct owner-id
-				strBuf.append(&quot;      &lt;groundspeak:owner id=\&quot;23\&quot;&gt;&quot;).append(SafeXML.cleanGPX(ch.getCacheOwner())+&quot;&lt;/groundspeak:owner&gt;\r\n&quot;);
-				strBuf.append(&quot;      &lt;groundspeak:type&gt;&quot;).append(CacheType.type2GSTypeTag(ch.getType())).append(&quot;&lt;/groundspeak:type&gt;\r\n&quot;);
-				strBuf.append(&quot;      &lt;groundspeak:container&gt;&quot;).append(CacheSize.cw2ExportString(ch.getCacheSize())).append(&quot;&lt;/groundspeak:container&gt;\r\n&quot;);
-				//for Colorado/Oregon: 2.0 -&gt; 2
-				String diffTerr = CacheTerrDiff.shortDT(ch.getHard());
-
-				strBuf.append(&quot;      &lt;groundspeak:difficulty&gt;&quot;).append(diffTerr).append(&quot;&lt;/groundspeak:difficulty&gt;\r\n&quot;);
-				diffTerr = CacheTerrDiff.shortDT(ch.getTerrain());
-				strBuf.append(&quot;      &lt;groundspeak:terrain&gt;&quot;).append(diffTerr).append(&quot;&lt;/groundspeak:terrain&gt;\r\n&quot;);
-
-				strBuf.append(&quot;      &lt;groundspeak:country&gt;&quot;).append(SafeXML.cleanGPX(det.Country)+&quot;&lt;/groundspeak:country&gt;\r\n&quot;);
-				strBuf.append(&quot;      &lt;groundspeak:state&gt;&quot;).append(SafeXML.cleanGPX(det.State)+&quot;&lt;/groundspeak:state&gt;\r\n&quot;);
-
-				String dummyHTML = ch.is_HTML() ? STRING_TRUE:STRING_FALSE;
-				strBuf.append(&quot;      &lt;groundspeak:long_description html=\&quot;&quot; ).append( dummyHTML ).append( &quot;\&quot;&gt;\r\n&quot;);
-				strBuf.append(&quot;      &quot;).append(SafeXML.cleanGPX(det.LongDescription));
-				strBuf.append(&quot;      \n&lt;/groundspeak:long_description&gt;\r\n&quot;);
-				strBuf.append(&quot;	  &lt;groundspeak:encoded_hints&gt;&quot;).append(SafeXML.cleanGPX(Common.rot13(det.Hints))).append(&quot;&lt;/groundspeak:encoded_hints&gt;\r\n&quot;);
-				strBuf.append(&quot;      &lt;groundspeak:logs&gt;\r\n&quot;);
-				if ( Global.getPref().exportGpxAsMyFinds &amp;&amp; ch.is_found() ) {
-					if ( det.OwnLogId.length() != 0 ) {
-						strBuf.append(&quot;        &lt;groundspeak:log id=\&quot;&quot; ).append( det.OwnLogId ).append( &quot;\&quot;&gt;\r\n&quot;);
-					} else {
-						strBuf.append(&quot;        &lt;groundspeak:log id=\&quot;&quot; ).append( Integer.toString(counter) ).append( &quot;\&quot;&gt;\r\n&quot;);
-					}
-					strBuf.append(&quot;          &lt;groundspeak:date&gt;&quot;).append(SafeXML.cleanGPX(ch.getStatusDate())).append(&quot;T&quot;).append(SafeXML.cleanGPX(ch.getStatusTime())).append(&quot;:00&lt;/groundspeak:date&gt;\r\n&quot;);
-					if ( det.OwnLog != null ) {
-						strBuf.append(&quot;          &lt;groundspeak:type&gt;&quot;).append(image2TypeText(det.OwnLog.getIcon())).append(&quot;&lt;/groundspeak:type&gt;\r\n&quot;);
-					} else {
-						strBuf.append(&quot;          &lt;groundspeak:type&gt;Found it&lt;/groundspeak:type&gt;\r\n&quot;);
-					}
-					strBuf.append(&quot;          &lt;groundspeak:finder id=\&quot;&quot;).append(SafeXML.cleanGPX(Global.getPref().gcMemberId)).append(&quot;\&quot;&gt;&quot;).append(SafeXML.cleanGPX(Global.getPref().myAlias)).append(&quot;&lt;/groundspeak:finder&gt;\r\n&quot;);
-					if ( det.OwnLog != null ) {
-						strBuf.append(&quot;          &lt;groundspeak:text encoded=\&quot;False\&quot;&gt;&quot;).append(SafeXML.cleanGPX(det.OwnLog.getMessage())).append(&quot;&lt;/groundspeak:text&gt;\r\n&quot;);
-					} else {
-						strBuf.append(&quot;          &lt;groundspeak:text encoded=\&quot;False\&quot;&gt;&lt;/groundspeak:text&gt;\r\n&quot;);
-					}
-					strBuf.append(&quot;        &lt;/groundspeak:log&gt;\r\n&quot;);
-				} else {
-					int numberOfLogs = java.lang.Math.min(Global.getPref().numberOfLogsToExport, det.CacheLogs.size());
-					if (numberOfLogs &lt; 0) numberOfLogs = det.CacheLogs.size();
-					for (int i = 0; i &lt; numberOfLogs; i++) {
-						strBuf.append(&quot;        &lt;groundspeak:log id=\&quot;&quot; ).append( Integer.toString(i) ).append( &quot;\&quot;&gt;\r\n&quot;);
-						strBuf.append(&quot;          &lt;groundspeak:date&gt;&quot;).append(SafeXML.cleanGPX(det.CacheLogs.getLog(i).getDate())).append(&quot;T00:00:00&lt;/groundspeak:date&gt;\r\n&quot;);
-						strBuf.append(&quot;          &lt;groundspeak:type&gt;&quot;).append(image2TypeText(det.CacheLogs.getLog(i).getIcon())).append(&quot;&lt;/groundspeak:type&gt;\r\n&quot;);
-						strBuf.append(&quot;          &lt;groundspeak:finder id=\&quot;\&quot;&gt;&quot;).append(SafeXML.cleanGPX(det.CacheLogs.getLog(i).getLogger())).append(&quot;&lt;/groundspeak:finder&gt;\r\n&quot;);
-						strBuf.append(&quot;          &lt;groundspeak:text encoded=\&quot;False\&quot;&gt;&quot;).append(SafeXML.cleanGPX(det.CacheLogs.getLog(i).getMessage())).append(&quot;&lt;/groundspeak:text&gt;\r\n&quot;);
-						strBuf.append(&quot;        &lt;/groundspeak:log&gt;\r\n&quot;);
-					}
-				}
-				strBuf.append(&quot;      &lt;/groundspeak:logs&gt;\r\n&quot;);
-				if ( Global.getPref().exportTravelbugs &amp;&amp; (det.Travelbugs.size() &gt; 0) ) {
-					det.Travelbugs.size();
-					strBuf.append(&quot;      &lt;groundspeak:travelbugs&gt;\r\n&quot;);
-					for (int i = 0; i &lt; det.Travelbugs.size(); i++) {
-						strBuf.append(&quot;        &lt;groundspeak:travelbug id=\&quot;&quot;).append(Integer.toString(i)).append(&quot;\&quot; ref=\&quot;TB\&quot;&gt;\r\n&quot;);
-						strBuf.append(&quot;          &lt;groundspeak:name&gt;&quot;).append(SafeXML.cleanGPX(det.Travelbugs.getTB(i).getName())).append(&quot;&lt;/groundspeak:name&gt;\r\n&quot;);
-						strBuf.append(&quot;        &lt;/groundspeak:travelbug&gt;\r\n&quot;);
-					}
-					strBuf.append(&quot;      &lt;/groundspeak:travelbugs&gt;\r\n&quot;);
-				} else {
-					strBuf.append(&quot;      &lt;groundspeak:travelbugs /&gt;\r\n&quot;);
-				}
-				strBuf.append(&quot;    &lt;/groundspeak:cache&gt;\r\n&quot;);
-			}else {
-				// there is no HTML in the description of addi wpts
-				strBuf.append(&quot;    &lt;sym&gt;&quot;).append(CacheType.type2SymTag(ch.getType())).append(&quot;&lt;/sym&gt;\r\n&quot;);
-				strBuf.append(&quot;    &lt;type&gt;&quot;).append(CacheType.type2TypeTag(ch.getType())).append(&quot;&lt;/type&gt;\r\n&quot;);
-			}
-			strBuf.append(&quot;  &lt;/wpt&gt;\r\n&quot;);
-		}catch(Exception e){
-			Vm.debug(ch.getWayPoint());
-			e.printStackTrace();
-			return null;
-		}//try
-
-		return strBuf.toString();
-	}
-
-	public String trailer(int total) {
-		return &quot;&lt;/gpx&gt;\r\n&quot;;
-	}
-
-	public static String image2TypeText(String image){
-		if (image.equals(&quot;icon_smile.gif&quot;)) return &quot;Found it&quot;;
-		if (image.equals(&quot;icon_sad.gif&quot;)) return &quot;Didn't find it&quot;;
-		if (image.equals(&quot;icon_note.gif&quot;)) return &quot;Write note&quot;;
-		if (image.equals(&quot;icon_enabled.gif&quot;)) return &quot;Enable Listing&quot;;
-		if (image.equals(&quot;icon_disabled.gif&quot;)) return &quot;Temporarily Disable Listing&quot;;
-		if (image.equals(&quot;icon_camera.gif&quot;)) return &quot;Webcam Photo Taken&quot;;
-		if (image.equals(&quot;11.png&quot;)) return &quot;Webcam Photo Taken&quot;;
-		if (image.equals(&quot;icon_attended.gif&quot;)) return &quot;Attended&quot;;
-		if (image.equals(&quot;icon_greenlight.gif&quot;)) return &quot;Publish Listing&quot;;
-		if (image.equals(&quot;icon_rsvp.gif&quot;)) return &quot;Will Attend&quot;;
-		if (image.equals(&quot;big_smile.gif&quot;)) return &quot;Post Reviewer Note&quot;;
-		if (image.equals(&quot;traffic_cone.gif&quot;)) return &quot;Archive (show)&quot;;
-		if (image.equals(&quot;icon_maint.gif&quot;)) return &quot;Owner Maintenance&quot;;
-		if (image.equals(&quot;icon_needsmaint.gif&quot;)) return &quot;Needs Maintenance&quot;;
-		if (image.equals(&quot;coord_update.gif&quot;)) return &quot;Update Coordinates&quot;;
-		if (image.equals(&quot;icon_remove.gif&quot;)) return &quot;Needs Archived&quot;;
-
-		return image;
-	}
-
-}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002666.html">[Cachewolf-svn] r2685 - in trunk: res_noewe/languages src/CacheWolf
</A></li>
	<LI>Next message: <A HREF="002669.html">[Cachewolf-svn] r2687 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2668">[ date ]</a>
              <a href="thread.html#2668">[ thread ]</a>
              <a href="subject.html#2668">[ subject ]</a>
              <a href="author.html#2668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
