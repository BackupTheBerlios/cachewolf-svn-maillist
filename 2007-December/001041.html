<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r1148 - trunk/src/CacheWolf
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1148%20-%20trunk/src/CacheWolf&In-Reply-To=%3C200712152028.lBFKSatF010631%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001040.html">
   <LINK REL="Next"  HREF="001042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r1148 - trunk/src/CacheWolf</H1>
    <B>tweetyhh at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1148%20-%20trunk/src/CacheWolf&In-Reply-To=%3C200712152028.lBFKSatF010631%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r1148 - trunk/src/CacheWolf">tweetyhh at mail.berlios.de
       </A><BR>
    <I>Sat Dec 15 21:28:36 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001040.html">[Cachewolf-svn] r1147 - in trunk/src: CacheWolf exp
</A></li>
        <LI>Next message: <A HREF="001042.html">[Cachewolf-svn] r1149 - trunk/src/CacheWolf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1041">[ date ]</a>
              <a href="thread.html#1041">[ thread ]</a>
              <a href="subject.html#1041">[ subject ]</a>
              <a href="author.html#1041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tweetyhh
Date: 2007-12-15 21:28:34 +0100 (Sat, 15 Dec 2007)
New Revision: 1148

Modified:
   trunk/src/CacheWolf/STRreplace.java
Log:
Used StringBuffer instead of lot of Strings

Modified: trunk/src/CacheWolf/STRreplace.java
===================================================================
--- trunk/src/CacheWolf/STRreplace.java	2007-12-15 19:28:48 UTC (rev 1147)
+++ trunk/src/CacheWolf/STRreplace.java	2007-12-15 20:28:34 UTC (rev 1148)
@@ -1,5 +1,7 @@
 package CacheWolf;
 
+import ewe.sys.Vm;
+
 public class STRreplace{
 		/* Replace all instances of a String in a String.
 		 *   @param  s  String to alter.
@@ -13,12 +15,19 @@
 		   if (r == null)  r = &quot;&quot;;
 		
 		   int index01 = s.indexOf( f );
+		   int index02 = 0;
+		   StringBuffer sb = new StringBuffer();
 		   while (index01 != -1)
 		   {
+			   sb.append(s.substring(index02,index01)).append(r);			   
+			   index02 = index01 + f.length();
+			   index01 = s.indexOf( f, index02 );
+			  /* original impl.
 			  s = s.substring(0,index01) + r + s.substring(index01+f.length());
 			  index01 += r.length();
 			  index01 = s.indexOf( f, index01 );
+			  */
 		   }
-		   return s;
+		   return sb.append(s.substring(index02)).toString();
 		}
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001040.html">[Cachewolf-svn] r1147 - in trunk/src: CacheWolf exp
</A></li>
	<LI>Next message: <A HREF="001042.html">[Cachewolf-svn] r1149 - trunk/src/CacheWolf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1041">[ date ]</a>
              <a href="thread.html#1041">[ thread ]</a>
              <a href="subject.html#1041">[ subject ]</a>
              <a href="author.html#1041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
