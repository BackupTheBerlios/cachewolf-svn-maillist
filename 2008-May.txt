From mirabilos at mail.berlios.de  Thu May  1 15:18:51 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Thu, 1 May 2008 15:18:51 +0200
Subject: [Cachewolf-svn] r1429 - in trunk/src: CacheWolf utils
Message-ID: <200805011318.m41DIpbf004723@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-01 15:18:50 +0200 (Thu, 01 May 2008)
New Revision: 1429

Modified:
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/ShowCacheInBrowser.java
   trunk/src/CacheWolf/TravelbugJourneyScreen.java
   trunk/src/CacheWolf/myTableControl.java
   trunk/src/utils/CWWrapper.java
Log:
Make executing external programmes work, after reading through
the Ewe VM (and ewe.jar) respective source codes:
? fix CWWrapper.exec ? always takes two arguments, and always
  uses a well-defined variant of Vm.exec now instead of trying
  to work around the code
? change all calls *EXCEPT* for the gpsbabel.exe call to use
  CWWrapper.exec instead of Vm.exec, because CWWrapper.exec
  can take *only* the command name and *one* argument, whereas
  gpsbabel.exe is called with more than one argument
  ? gpsbabel.exe WILL ONLY WORK in ewe.jar (JavaEwe) on Win32!
  ? not on GNU/Linux or Unix, nor on the PDAs with Ewe
  ? this is, actually, a shortcoming of the Ewe VM
  ? maybe I?ll fix this in MirEwe some time
? document some of these facts in the source code
  ? CWWrapper.exec(prog, arg); ? prog and arg MUST NOT be quoted

tested on Ewe/MirBSD by myself
tested on Jar/Windows by pfeffer

he also tried to test Win32 and WCE2003, but somehow fubar?d
his prefs.xml, but we hope/think it?ll work there as well, as
these use Ewe internally


Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-04-30 20:21:49 UTC (rev 1428)
+++ trunk/src/CacheWolf/MainMenu.java	2008-05-01 13:18:50 UTC (rev 1429)
@@ -367,6 +367,7 @@
 				ProgressBarForm.display(MyLocale.getMsg(950,"Transfer"),MyLocale.getMsg(951,"Sending to GPS"), null);
 				try{
 					pref.log("gpsbabel.exe "+pref.garminGPSBabelOptions+" -i geo -f \""+ tmpFileName +"\" -o garmin -F " + pref.garminConn +":");
+					// this will *only* work with ewe.jar at the moment
 					ewe.sys.Process p = Vm.exec("gpsbabel.exe "+pref.garminGPSBabelOptions+" -i geo -f \""+ tmpFileName +"\" -o garmin -F " + pref.garminConn +":");
 					p.waitFor();
 				}catch(IOException ioex){

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-04-30 20:21:49 UTC (rev 1428)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-05-01 13:18:50 UTC (rev 1429)
@@ -211,7 +211,7 @@
 			//detfile.print(tpl.output());
 			detfile.close();
 			try {
-				CWWrapper.exec(Global.getPref().browser, "\"file://"+saveTo+"\""); // maybe this works on some PDAs?
+				CWWrapper.exec(Global.getPref().browser, "file://"+saveTo); // maybe this works on some PDAs?
 			} catch (IOException ex) {
 				(new MessageBox(MyLocale.getMsg(321,"Error"),
 						MyLocale.getMsg(1034,"Cannot start browser!") + "\n" + ex.toString() + "\n" +

Modified: trunk/src/CacheWolf/TravelbugJourneyScreen.java
===================================================================
--- trunk/src/CacheWolf/TravelbugJourneyScreen.java	2008-04-30 20:21:49 UTC (rev 1428)
+++ trunk/src/CacheWolf/TravelbugJourneyScreen.java	2008-05-01 13:18:50 UTC (rev 1429)
@@ -11,6 +11,7 @@
  * @author salzkammergut
  */
 
+import utils.CWWrapper;
 import ewe.sys.Convert;
 import ewe.sys.Time;
 import ewe.sys.Vm;
@@ -572,12 +573,12 @@
 				try {
 					String s;
 					if (tbj.getTb().getGuid().length()>10)
-						s = "\""+Global.getPref().browser+"\" \"http://www.geocaching.com/track/details.aspx?guid="+tbj.getTb().getGuid()+"\"";
+						s = "http://www.geocaching.com/track/details.aspx?guid="+tbj.getTb().getGuid();
 					else
-						s = "\""+Global.getPref().browser+"\" \"http://www.geocaching.com/track/details.aspx?id="+tbj.getTb().getGuid()+"\"";
-									
-					Vm.exec(s);
-					Global.getPref().log("Executing: "+s); 
+						s = "http://www.geocaching.com/track/details.aspx?id="+tbj.getTb().getGuid();
+
+					CWWrapper.exec(Global.getPref().browser, s);
+					Global.getPref().log("Executing: \""+Global.getPref().browser+"\" \""+s+"\"");
 				} catch (Exception ioex) {
 				}
 			}

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-04-30 20:21:49 UTC (rev 1428)
+++ trunk/src/CacheWolf/myTableControl.java	2008-05-01 13:18:50 UTC (rev 1429)
@@ -231,7 +231,6 @@
 				CacheHolderDetail chD=ch.getCacheDetails(false, true);
 				try {
 					if (chD != null) {
-						//String cmd = "\""+pref.browser+ "\" \"" + chD.URL+"\"";
 						CWWrapper.exec(pref.browser, chD.URL); // maybe this works on some PDAs?
 					}
 				} catch (IOException ex) {

Modified: trunk/src/utils/CWWrapper.java
===================================================================
--- trunk/src/utils/CWWrapper.java	2008-04-30 20:21:49 UTC (rev 1428)
+++ trunk/src/utils/CWWrapper.java	2008-05-01 13:18:50 UTC (rev 1429)
@@ -6,10 +6,11 @@
  * in EWE Version 1.49
  * It identifies the plattform and uses a different call
  * to Vm.exec() depending on the plattform.
- * It uses depreciated classes, which is OK for now.
+ * Bugs identified:
+ * ewe.jar: cmd needs quoting, args are whitespace-split
+ * Ewe VM:  cmd must not be quoted, args can be only one
  */
 public class CWWrapper {
-	
 	/**
 	 * It doesn't work at all on Loox N520 with WM 5 :-(
 	 * @param cmd
@@ -17,21 +18,11 @@
 	 * @throws ewe.io.IOException
 	 */
 	public static void exec(String cmd, String args) throws ewe.io.IOException{
-		String plattform = Vm.getPlatform();
-		if(plattform.equals("WinCE")){
-			Vm.exec(cmd, args, 0, false);
+		if (Vm.getPlatform().equals("Java")) {
+			/* we need extra quotes here, see ewe/sys/Vm.java */
+			cmd = "\"" + cmd + "\"";
+			args = "\"" + args + "\"";
 		}
-		if(plattform.equals("Win32")){
-			Vm.exec(cmd, args, 0, false);
-		}
-		if(plattform.equals("Unix")){
-			String[] strarr = new String[1];
-			strarr[0] = "\"" + cmd + "\" "+args;
-			String[] dummy = new String[1];
-			Vm.exec(strarr, dummy);
-		}
-		if(plattform.equals("Java")){
-			Vm.exec("\"" + cmd + "\" "+args, null);
-		}
+		Vm.exec(cmd, args, 0, false);
 	}
-}
\ No newline at end of file
+}



From pfeffer at mail.berlios.de  Thu May  1 21:28:14 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Thu, 1 May 2008 21:28:14 +0200
Subject: [Cachewolf-svn] r1430 - trunk/docs/CacheWolf Doku
Message-ID: <200805011928.m41JSEYp026636@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-01 21:28:13 +0200 (Thu, 01 May 2008)
New Revision: 1430

Modified:
   trunk/docs/CacheWolf Doku/menu.xml
Log:
Doku: small change to test the editor

Modified: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-05-01 13:18:50 UTC (rev 1429)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-05-01 19:28:13 UTC (rev 1430)
@@ -240,9 +240,12 @@
         ebenfalls angeboten.</para>
 
         <sidebar>
-          <para>Ein Web Map Service (WMS) ist ein Web Service, der auf den WMS
-          Implementation Specifications beruht, einer Schnittstelle, um Karten
-          zu generieren. <citation>Expedia</citation></para>
+          <para>Ein Web Map Service (WMS) ist ein Web Service, der auf den
+          OGC-WMS Implementation Specifications beruht, einer Schnittstelle,
+          um Karten aus dem Internet zu laden. Expedia ist eine Webseite, die
+          von Microsoft betrieben wird und Karten der USA und von Europa
+          anbietet. CacheWolf kann diese Webseite aufrufen und die dort
+          angebotenen Karten herunterladen und automatisch kalibrieren.</para>
         </sidebar>
 
         <para>Siehe die Datei <literal>readme_wms.txt</literal> im Verzeichnis



From pfeffer at mail.berlios.de  Thu May  1 21:40:40 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Thu, 1 May 2008 21:40:40 +0200
Subject: [Cachewolf-svn] r1431 - trunk/docs/CacheWolf Doku
Message-ID: <200805011940.m41Jeern028035@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-01 21:40:39 +0200 (Thu, 01 May 2008)
New Revision: 1431

Modified:
   trunk/docs/CacheWolf Doku/menu.xml
Log:
Doku: another small changes regaring maps

Modified: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-05-01 19:28:13 UTC (rev 1430)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-05-01 19:40:39 UTC (rev 1431)
@@ -228,6 +228,23 @@
         darstellen, wo man sich befindet.</para>
       </sidebar>
 
+      <para>Die Karten m?ssen als Raster-Bilddatei vorliegen und es muss
+      Informationen dar?ber mitgeliefert werden, welchen Bereich der Erde das
+      Bild bzw. die Karte abdeckt. Diese Informationen werden
+      "Kalibreiungsinformationen" genannt. CacheWolf speichert sie in
+      world-files (*.wfl), die den gleichen Namen wie die jeweilige Bilddatei
+      tragen.</para>
+
+      <para>CacheWolf kann gegenw?rtig in der MovingMap nur ein Kartenbild
+      gleichzeitig anzeigen. Deswegen kann es vorkommen, dass ein Teil des
+      Bildschirms im Kartenmodus nicht mit einem Kartenbild hinterlegt wird,
+      obwohl es f?r den Bereich ein Kartenbild gibt. Deswegen hat CacheWolf a)
+      einen automatischen Mechanismus, der immer dasjenige Kartenbild l?d, das
+      man braucht, und b) werden die Kartenbilder aus dem Internet
+      standardm??ig mit 100 Pixeln ?berlappung heruntergeladen, um die L?cken,
+      die bei einem automatischen Kartenwechsel auftreten, m?glichst gering zu
+      halten.</para>
+
       <para></para>
 
       <section>



From pfeffer at mail.berlios.de  Thu May  1 22:42:17 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Thu, 1 May 2008 22:42:17 +0200
Subject: [Cachewolf-svn] r1432 - trunk/docs/CacheWolf Doku
Message-ID: <200805012042.m41KgHv2004744@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-01 22:42:13 +0200 (Thu, 01 May 2008)
New Revision: 1432

Modified:
   trunk/docs/CacheWolf Doku/Der erste Start.xml
Log:
Manual-de: small edit in first-start

Modified: trunk/docs/CacheWolf Doku/Der erste Start.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-05-01 19:40:39 UTC (rev 1431)
+++ trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-05-01 20:42:13 UTC (rev 1432)
@@ -79,11 +79,11 @@
         </imageobject>
       </inlinemediaobject></para>
 
-    <para>Dieser fordert dich nun auf, ein Basisverzeichnis auszuw?hlen f?r
-    die noch kommenden Cache-Daten. Die Idee dahinter ist folgende: In diesem
-    Verzeichnis kannst du beliebig viele Unterordner anlegen; jeder dieser
-    ordner ist ein eigenes Profil (siehe: <xref linkend="profil" />) innerhalb
-    des Cachewolf.</para>
+    <para>Dieser fordert dich nun auf, das Datenverzeichnis f?r CacheWolf
+    auszuw?hlen f?r die noch kommenden Cache-Daten und die Karten. Die Idee
+    dahinter ist folgende: In diesem Verzeichnis kannst du beliebig viele
+    Unterordner anlegen; jeder dieser Ordner ist ein eigenes Profil (siehe:
+    <xref linkend="profil" />) innerhalb des Cachewolf.</para>
 
     <tip>
       <para>Auf einem PocketPC kannst du dieses Verzeichnis auf die
@@ -93,6 +93,14 @@
 
     <para>W?hle nun ein Verzeichnis aus und best?tige mit <literal>Select
     Folder</literal></para>
+
+    <para>Danach erscheint der Dialog zur Auswahl eines Profils. In einem
+    Profil werden in der Regel die Daten einer Cache-Gegend gespeichert. Lege
+    ein neues Profil durch klick auf "neu" an, gebe einen Namen ein,
+    beispielsweise den Namen der Stadt, in deren Gegend Du Caches suchen
+    willst. Danach erscheint ein Dialog, in dem die Koordinaten des
+    Mittelpunktes eingegeben werden sollen, um die herum die Caches dieses
+    Profils liegen (Zentrum).</para>
   </section>
 
   <section>



From cw-manual at mail.berlios.de  Fri May  2 02:02:21 2008
From: cw-manual at mail.berlios.de (cw-manual at mail.berlios.de)
Date: Fri, 2 May 2008 02:02:21 +0200
Subject: [Cachewolf-svn] r1433 - trunk/docs/CacheWolf Doku
Message-ID: <200805020002.m4202L4T019855@sheep.berlios.de>

Author: cw-manual
Date: 2008-05-02 02:02:08 +0200 (Fri, 02 May 2008)
New Revision: 1433

Modified:
   trunk/docs/CacheWolf Doku/Installation.xml
   trunk/docs/CacheWolf Doku/ansichten.xml
Log:
Manual-de: pfeffer: moving map: small changes
Manual-de: pfeffer: recomend java instead of exe for windows

Modified: trunk/docs/CacheWolf Doku/Installation.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Installation.xml	2008-05-01 20:42:13 UTC (rev 1432)
+++ trunk/docs/CacheWolf Doku/Installation.xml	2008-05-02 00:02:08 UTC (rev 1433)
@@ -58,9 +58,15 @@
     <section>
       <title>Windows</title>
 
-      <para>Hier ist die Installation sehr einfach. Einfach die .zip-Datei in
-      ein Verzeichnis Deiner Wahl entpacken. Durch einen Doppelklick auf das
-      CacheWolf Icon startet das Programm.</para>
+      <para>Hier gibt es 2 M?glichkeiten. Eine mit einfacher Installation und
+      eine, bei der Cachewolf schneller arbeitet. Wir empfehlen die Variante,
+      in der CacheWolf schneller arbietet. Dies ist der Fall bei Verwendung
+      der Java-Version. Bitte lies dort, welche Schritte zur Installation
+      notwendig sind.</para>
+
+      <para>Alternativ kannst Du die einfache Installation verwenden: Einfach
+      die .zip-Datei in ein Verzeichnis Deiner Wahl entpacken. Durch einen
+      Doppelklick auf das CacheWolf Icon startet das Programm.</para>
     </section>
 
     <section>
@@ -68,10 +74,14 @@
 
       <para>F?r den Einsatz der Java-Version ben?tigst du eine Java-Runtime in
       der Version 1.5 oder h?her. Diese bekommst du entweder direkt bei Sun
-      oder ?ber die Linux-eigene Paketverwaltung (SuSE: YaST, Debian:
+      ?ber http://www.java.com/de/download/ (zumindest f?r Windows) oder ?ber
+      die Linux-eigene Paketverwaltung (SuSE: YaST, Debian:
       apt-get,...).</para>
 
-      <para>?ber die Kommandozeile startest du das Programm mittels:
+      <para>Nach der Installation von java klicken Windows-Nutzer klicken
+      einfach auf cachewolf.bat</para>
+
+      <para>Linux-Nutzer starten das Cachewolf ?ber die Kommandozeile mittels:
       <literal>java -jar "/Pfadzucachewolf/CacheWolf.jar"
       &amp;</literal></para>
     </section>

Modified: trunk/docs/CacheWolf Doku/ansichten.xml
===================================================================
--- trunk/docs/CacheWolf Doku/ansichten.xml	2008-05-01 20:42:13 UTC (rev 1432)
+++ trunk/docs/CacheWolf Doku/ansichten.xml	2008-05-02 00:02:08 UTC (rev 1433)
@@ -1449,7 +1449,7 @@
       <orderedlist>
         <listitem>
           <para>Hast du den Globus aus aus der Detailansicht (siehe <xref
-          lang="" linkend="detailansicht" />) geklickt wird eine Karte
+          lang="" linkend="detailansicht" />) geklickt, wird eine Karte
           dargestellt auf dem die Position des gew?hlten Caches (siehe <xref
           lang="" linkend="liste" />) gezeigt wird.</para>
         </listitem>
@@ -1499,11 +1499,15 @@
 
         <listitem>
           <para>Cachewolf sucht grunds?tzlich in einem "maps" Verzeichnis im
-          Profilbasisverzeichnis nach geeigneten Karten. Innerhalb des maps
+          Datenverzeichnis nach geeigneten Karten. Innerhalb des maps
           Verzeichnis k?nnen noch die Verzeichnisse expedia, standard und topo
           vorhanden sein. Mit der Funktion <literal>Kartenverzeichnis
           wechseln</literal> kann ein anderes beliebiges Verzeichnis gew?hlt
-          werden.</para>
+          werden. CacheWolf durchsucht dabei stets das gew?hlte Verzeichnis
+          und alle Verzeichnisse eine Ebene tiefer, die in dem gew?hlten
+          Verzeichnis liegen. Es sollte also das Verzeichnis "topo" ausgew?hlt
+          werden, dann werden auch die Karten gefunden, die sich in
+          topo/&lt;profilname&gt; befinden.</para>
         </listitem>
       </itemizedlist>
 



From engywuck at mail.berlios.de  Sat May  3 13:11:16 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sat, 3 May 2008 13:11:16 +0200
Subject: [Cachewolf-svn] r1434 - in trunk: docs res_noewe/languages
Message-ID: <200805031111.m43BBGAq001999@sheep.berlios.de>

Author: engywuck
Date: 2008-05-03 13:11:06 +0200 (Sat, 03 May 2008)
New Revision: 1434

Added:
   trunk/res_noewe/languages/FR.cfg
Modified:
   trunk/docs/Sonderzeichen_in_languages.cfg.txt
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
Log:
Added french translation

Modified: trunk/docs/Sonderzeichen_in_languages.cfg.txt
===================================================================
--- trunk/docs/Sonderzeichen_in_languages.cfg.txt	2008-05-02 00:02:08 UTC (rev 1433)
+++ trunk/docs/Sonderzeichen_in_languages.cfg.txt	2008-05-03 11:11:06 UTC (rev 1434)
@@ -11,3 +11,17 @@
 ?? %d6
 ?? %dc
 \n %0a
+?? %e9
+?? %e8
+?? %c9
+?? %c8
+?? %e0
+?? %c0
+?? %f9
+?? %d9
+?? %ee
+?? %ce
+?? %e2
+?? %c2
+?? %f4
+?? %d4

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-05-02 00:02:08 UTC (rev 1433)
+++ trunk/res_noewe/languages/DE.cfg	2008-05-03 11:11:06 UTC (rev 1434)
@@ -647,7 +647,7 @@
 		4403=Fehler
 		4404=Konnte keine Verbindung zum GPS-Empf%e4nger %0a herstellen. Fehler beim %f6ffnen des seriellen Ports%0a
 		4405=%0aM%f6gliche Gr%fcnde:%0a Falscher Port %0a Ein anderes Programm blokiert den Anschluss %0a gilt nur auf Loox-Ger%e4ten: ge%f6ffneter Infrarot-Port blockiert das GPS
-		4406=Kopieren Sie java_ewe.dll in das Verzeichnis des Cachwolf-Programms
+		4406=Kopieren Sie java_ewe.dll in das Verzeichnis des CacheWolf-Programms
 		4500=Ges:
 		4501=Gez:
 		4502=Gef:
@@ -658,7 +658,7 @@
 		4703=Cachewolf kann das Laden von Karten beschleunigen, indem eine Markierung zum Dateinamen hinzugef%fcgt wird. Soll dies jetzt getan werden?%0aEs kann einige Minuten dauern.
 		4704=%0aUmbenennen der Datei:
 		4705=Fehler beim Umbenennen:%0a
-		4706=%0anach:%0a
+		4706=%0danach:%0a
 		4707=E/A-Fehler beim Lesen von:+
 		4708=Fehler beim Lesen von:+
 		4709=Konnte Kartenbild zu folgender Kalibrierungsdatei nicht finden:%0a

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-05-02 00:02:08 UTC (rev 1433)
+++ trunk/res_noewe/languages/EN.cfg	2008-05-03 11:11:06 UTC (rev 1434)
@@ -758,7 +758,7 @@
 		6103=Orion
 		6104=Cassiopeia
 		6105=Cygnus
-		6106=Mimosa in Southern Cross
+		6126=Mimosa in Southern Cross
 		7000=Release
 		7001=Release candidate
 		7002=in development, stable

Added: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2008-05-02 00:02:08 UTC (rev 1433)
+++ trunk/res_noewe/languages/FR.cfg	2008-05-03 11:11:06 UTC (rev 1434)
@@ -0,0 +1,792 @@
+{cachewolf.Languages}
+	{LocalResources}
+		{fr}
+		100=vers HTML
+		101=vers PCX5 Mapsource
+		102=vers TOP50 ASCII
+		103=vers GPX
+		104=vers CSV
+		105=vers TomTom
+		106=vers MS AutoRoute CSV
+		107=Export
+		108=Pr%e9f%e9rences
+		109=Charger liste de caches
+		110=Enregistrer & Quitter
+		111=Quitter
+		112=Chercher
+		113=Enlever recherche
+		114=Cr%e9er
+		115=Invertier
+		116=Enlever
+		117=Info
+		118=WolfLanguage
+		119=Cherche:
+		120=Application
+		121=Profil
+		122=vers Garmin
+		123=vers CacheMate
+		124=vers OZI
+		125=vers Google Earth
+		126=vers TomTom OV2
+		127=Enregistrer
+		128=par Template
+		129=Importe GPX
+		130=T%e9l%e9chargement par opencaching.de
+		131=Spider par geocaching.com
+		132=vers Explorist
+		133=Cherche toutes
+		134=Cache choisi
+		139=G%e9rer Travelbugs
+		140=G%e9rer 
+		141=Copier 
+		142=D%e9placer 
+		143=Effacer
+		144=Avertissement 
+		145=Donn%e9es de TOUTES les Caches AFFICH%c9ES seront effac%e9es. Continu%e9?
+		146=Donn%e9es de TOUTES les Caches AFFICH%c9ES seront copi%e9es. Continu%e9?
+		147=Donn%e9es de TOUTES les Caches AFFICH%c9ES seront d%e9plac%e9es. Continu%e9? 
+		148=Choisir dossier
+		149=Cartes
+		150=Importer
+		151=Calibrer
+		152=Importation de la carte
+		153=Importation de la carte r%e9ussi
+		154=Erreur en important la carte!
+		155=Legende
+		156=Pas assez de memoire libre, carte trop grande!
+		157=Syst%e8me
+		158=Verifier version
+		159=Filtre
+		160=Filtre les caches coch%e9es
+		161=Montre liste noire
+		162=T%e9l%e9charger calibr%e9e
+		170=Choisir dossier de base pour les profiles
+		171=Profile n'existe pas:+
+		172=Ne peut pas cr%e9er dossier pour des cartes:%0a
+		173=GPSBabel:
+		174=Abr%e9viation
+		175=Import
+		176=--frei geworden--
+		177=--frei geworden--
+		178=Verification de la version
+		179=Vous avez la%0aversion actuelle.
+		180=Tirer caches
+		181=ici
+		182=Nouvelle liste
+		183=Charger liste
+		184=Enregistrer comme
+		185=Enregistrer (sans demande)
+		186=Tirer waypoints additionelles aussi
+		187=N'afficher que ces Waypoints
+		188=TOUR de CACHE: NOUVEAU
+		189=Appliquer filtre de tour
+		190=N'afficher que ces Waypoints
+		191=Choisir fichier
+		192=Enregistrer modifications
+		193=Ajouter waypoints additionelles
+		195=Centre actuel
+		196=# Caches en tout (GC&OC)%0a# visible%0a# trouv%e9es
+		197=Afficher/dissimuler tour de cache
+		198=Tour de cache
+		199=Ajouter au tour de cache	
+		200=D%e9tails
+		201=Description
+		202=Images
+		203=Ind. & Logs
+		204=Resoudeur
+		205=Radar
+		206=Liste
+		207=Toujours connecter
+		208=R%e9cr%e9er index
+		209=R%e9cr%e9er index
+		210=Caches pas en index.xml:+
+		211=%0aDont ajout%e9e:+  
+		212=Effacer toutes les fichier .xml (et images) qui ne sont pas en index.xml
+		213=Effacer les fichier .xml orpheline
+		214=Nouveau waypoint
+		300=Type:
+		301=Gabarit:
+		302=Waypoint:
+		303=Nom:
+		304=Coordonn%e9es:
+		305=Cache le:
+		306=Detenteur:
+		307=Statut:
+		308=Notes:
+		309=Centre
+		310=Effacer
+		311=Nouveau waypoint
+		312=Enregistrer
+		313=Mem. interne 1
+		314=Mem. interne 2
+		315=Mem. interne 3
+		316=Mem. interne 4
+		317=Chercher
+		318=Trouv%e9e
+		319=Pas trouv%e9e
+		320=Detenteur
+		321=Erreur
+		322=Ne peut pas charger image/carte
+		323=Erreur en enregistrant le fichier
+		324= - essayer encore une fois?
+		325=Pas assez de points de r%e9f%e9rence, ne peut pas calibrer la carte
+		326=
+		327=Information
+		328=Trouv%e9e le
+		329=Cach%e9e le
+		340=Images de cache:
+		341=Propre images:
+		342=Effac%e9
+		343=Pas assez de m%e9moire pour charger image
+		344=Effacer fichier
+		345=Allez vers ces coordonn%e9es
+		346=Afficher Travelbugs
+		347=Afficher carte
+		348=Ajouter propre images
+		349=Changer statut blacklist
+		350=Ajouter heure aux notes
+		351=Ajouter/changer notes
+		400=D%e9coder
+		500=Changer
+		591=Vide pour langue de syst%e8me d'exploitation%0aou deux aract%e8res pour autre langure, p.ex. DE, EN
+		592=Langue (faut redemarrer)
+		593=Le mot de passe est optionel ici.%0aL'entrer seulement s'il doit enregistrer en fichier pref.xml
+		594=Mot de passe
+		595=Liste
+		596=Nom
+		597=Waypoint
+		598=Type
+		599=Liste d%e9roulante
+		600=Pr%e9f%e9rences
+		601=Votre pseudo:
+		602=Coordonn%e9es maison:
+		603=Dossier pour profiles
+		604=Chercher
+		605=Colonnes de table:
+		606=Difficult%e9
+		607=Terrain
+		608=Coordonn%e9es
+		609=D%e9tenteur
+		610=Cach%e9e le
+		611=Statut
+		612=Distance
+		613=Direction
+		614=Annuler
+		615=Appliquer
+		616=Choisir dossier
+		617=Inserer
+		618=Copier
+		619=Analyser
+		620=Enregistrer
+		621=G%e9n%e9ral
+		622=Affichage
+		623=Images:
+		624=Afficher images effac%e9es
+		625=Affichage (faut redemmarrer):
+		626=Menu en haut
+		627=Onglet en haut
+		628=Statut
+		629=Charger profil automatiquement
+		630=Ind./Logs:  Logs par page
+		631=PDA a bouton "quitter" 
+		632=En plus
+		633=Spider Max. logs
+		634=Utiliser proxy
+		635=Gabarit
+		636=OC recommandation
+		637=OC Index
+		638=Afficher des images dans les descriptions
+		700=Cr%e9er filtre
+		701=Distance
+		702=Dificult%e9
+		703=Trouv%e9e
+		704=Pas trouv%e9e
+		705=dans les
+		706=Trouv%e9e
+		707=D%e9tenteur
+		708=Annuler
+		709=Appliquer
+		710=Archiv%e9e
+		711=Pas trouvable
+		712=Choisir fichier Route
+		713=Enregistrer fitre
+		714=Direction & Distance
+		715=Affiche caches avec statut:
+		716=Decocher toutes
+		717=Cocher toutes
+		718=%c9valuations des caches
+		719=Types
+		720=Statuts
+		721=Direction
+		722=%c9valuation
+		723=Types
+		724=R%e9cipient
+		725=Indication: Filtres sont additive, aktive = vert
+		726=Waypoints supplementaires
+		727=R%e9cipient
+		728=Waypt. suppl.
+		729=Pas archiv%e9e
+		730=Trouvable
+		731=Pas encore trouv%e9e
+		732=Autre d%e9tenteur
+		733=Wpt addition.
+		734=Pas trouv%e9e wpt pricipal pour
+		735=Les waypoints additionels doivent avoir le format xxYYYY, xx %e9tant des caract%e8res quelconque et YYYY les caract%e8res du cache pricipal apr%e8s le GC
+		736=Trop de logs (Changes Maximum dans les pr%e9f%e9rences)
+		737=Attribut cache
+		738=Attributs
+		739=Filtrer avec
+		740=Toutes
+		741=Un
+		742=Aucun
+		800=Etablir liste
+		801=cherche...
+		802=Caches identifi%e9. Continue recherche...
+		803=Fini!
+		804=Collectioner d%e9tails de la cache
+		805=Chercher d%e9tails pour:
+		900=Liste
+		901=Loc
+		902=Rayon
+		903=Annulation
+		904=Multi
+		905=Charger donn%e9es de la cache
+		906=Liste des caches:
+		907=Distance maximum:
+		908=Choisir fichier du waypoint:
+		909=Choisir fichier(s)
+		910=Choisier fichier mod%e8le
+		950=Transf%e8r
+		951=T%e9l%e9charger vers GPS
+		952=Transformer ...
+		999=Pas donn%e9
+		1000=D
+		1001=T
+		1002=Waypoint
+		1003=Nom
+		1004=Coordonn%e9es
+		1005=Detenteur
+		1006=Cach%e9e le
+		1007=Statut
+		1008=Dist
+		1009=Dir
+		1010=Allez vers cache
+		1011=Filtrer les non-coch%e9e
+		1012=Effacer les coch%e9es 
+		1013=Selection
+		1014=Mettre %e0 jour les coch%e9es
+		1015=Cocher toutes
+		1016=Decocher toutes
+		1017=G
+		1018=Ouvrir en navigateur hors ligne
+		1019=Choisir pout centre
+		1020=Ouvrir en navigateur en ligne
+		1021=Ouvrir description
+		1022=Effacer toutes les caches coch%e9es (
+		1023=Cette fonction n'est momentan%e9ment disponible que pour Geocaching.com
+		1024=Distances recalcul%e9
+		1025=Ne peut pas actualiser centre. (Position GPS pas valide)
+		1026=#Rec
+		1027=OC-Idx
+		1028=) ?
+		1029=Il y a des caches coch%e9e mais pas visible.%0a(Caches:+
+        1030=, waypoints additionel:+
+        1031=Effacer ceux-ci aussi?
+		1032=Chemin au navigateur:
+		1033=n'est pas correct!
+		1034=Ne peut pas ouvrir le navigateur!
+		1035=Cause possible:
+		1036=Un bogue dans le Ewe-VM
+		1037=Merci de patientier pour un mise %e0 jour
+		1100=Profils
+		1105=Chercher
+		1106=Choiser profil ou cr%e9er-un 
+		1107=Cr%e9er
+		1108=Choisir profil
+		1109=Charger
+		1110=Centre
+		1111=Cr%e9er nouveau profil
+		1112=Nom de profil
+		1113=Ne peut pas cr%e9er dossier (Ne peut pas contenir un caract%e8re interdit par le 	syst%e8me d'exploitation)
+		1114=Dossier existe d%e9j%e0
+		1115=Centre
+		1116=Actuel
+		1117=copier
+		1118=Profil
+		1119=Vieux Profils
+		1120=Diff.
+		1121=Terrain
+		1122='maps' est r%e9serv%e9 pour le dossier des cartes.
+		1123=Pour fixer le centre de ce profil, cliquer "Continuer"
+		1124=Continuer
+		1200=Liste
+		1201=D%e9tails
+		1202=Description
+		1203=Images
+		1204=Ind. & Logs
+		1205=Resoudeur
+		1206=Ordinateur
+		1207=Sauvegarder les changements dans le profil?
+		1300=Dernier param%e8tage
+		1301=Choisir profil:
+		1400=Zone
+		1401=Nord
+		1402=Est
+		1403=Direction
+		1404=Trajet
+		1405=Charger coordonn%e9es de GC: Entrer GCxxxxx ci-dessous
+		1406=Coordonn%e9es en format au choix ou GCxxxx
+		1407=Pas
+		1408=Pieds
+		1409=Yards
+		1410=Mille
+		1411=Entrez coordonn%e9es valides, svp.
+		1412=Coordonn%e9es pas valides. Prendre-les quand-m?me ?
+		1413=Effacer
+		1500=Destination:
+		1501=Actuel
+		1502=Degr%e9
+		1503=Orientation septentrional
+		1504=D%e9marrer
+		1505=Stop
+		1506=Carte
+		1507=Coordonn%e9es pas valides:
+		1508=Latitude
+		1509=Longitude
+		1510=Pas de donn%e9es par le GPS%0aFermer connexion avec port seriel.
+		1511=Ne peut pas interpr%e9ter les donn%e9es du GPS%0aCauses possibles:%0aMauvais Port,%0amauvais baud,%0apas de protocole NMEA%0aConnexion ferm%e9e%0aDerni%e8re cha%eene de lettres:%0a 
+		1512=Waypoint
+		1513=Ne peut pas afficher carte sans coordonn%e9es valides - Merci d'entrer coordonn%e9es comme destination, centre ou dans le cache choisi et d%e9marrer GPS
+		1600=T%e9l%e9chargement Opencaching.de
+		1601=Distance maximum:
+		1602=T%e9l%e9charger images
+		1603=T%e9l%e9charger cartes
+		1604=Annuler
+		1605=OK
+		1606=Ret%e9l%e9charger toutes
+		1607=Mise %e0 jour par opencaching r%e9ussi
+		1608=T%e9l%e9chargant donn%e9es par opencaching...
+		1609=Importe Cache: 
+		1610=T%e9l%e9charge la carte manquante
+		1611=Importe description: 
+		1612=Importe Log: 
+		1613=Importe Image:
+		1614=Erreur en decompactant le fichier mise %e0 jour
+		1615=Erreur en decompactant le fichier mise %e0 jour. Statut:
+		1616=Erreur: N'a pas pu t%e9l%e9charger le fichier mise %e0 jour d'opencaching.de
+		1617=Ignore erreur en fichier HTML codage de la cache: "<img" sans "src=" en cache+
+		1618=Ignore erreur en cache:+
+		1619=: n'a pas pu t%e9l%e9charger l'image d'URL suivante:+
+		1620=t%e9l%e9chargement d'image integr%e8e:+
+		1621=Erreur d'interpretation du fichier mise %e0 jour.%0aC'est probablement un erreur d'opencaching.de%0aEssayez encore une fois plus tard.%0a Statut:
+		1622=Pas t%e9l%e9charger caches trouv%e9es
+		1700=Erreur en lingne: 
+		1701=Colonne: 
+		1702=Variable pas d%e9fini: 
+		1703=Pas de nombre valide: 
+		1704=Fin de logiciel pas attendue
+		1705=ENDIF manquant
+		1706=Attendu: 
+		1707=Trouv%e9: 
+		1708=Nom de fonction pas unique: 
+		1709=Fonction inconnue: 
+		1710=Ne peut pas compter cha%eene de caract%e8res vide
+		1711=Cha%eenes de caract%e8res de remplacement doivent avoir la m?me longuer
+		1712=Coordonn%e9e invalide: 
+		1713=Format de coordonn%e9es pas valide. Faut avoir CW/DD/DMM/DMS/UTM
+		1714=Goto: Waypoint n'existe pas: 
+		1715=instr: Position de d%e9part pas en cha%eene de caract%e8re
+		1716=mid: Attendu param%e8tre en nombre entier
+		1717=mid: Param%e8tre hors domaine valide
+		1718=Ne peut pas projeter une distance negative
+		1719=Angle doit ?tre dans la domaine [0;360]
+		1720=Ne peut pas extraire la racine d'un nombre negativ
+		1723=Attendu un operateur de comparaison
+		1724=Variable n'a pas de valeur: 
+		1725=Caract%e8re(s) inattendu(s): 
+		1726=Trop d'argument pour fonction
+		1727=Fonction a mauvais nombre d'arguments
+		1728=Fonction pas encore realis%e9e: 
+		1729=Division par 0
+		1730=" manquant %e0 la fin de la cha%eene de caract%e8res
+		1731=Caract%e8re de format pas valide
+		1732=Caract%e8re pas permis
+		1733=Commande
+		1734=Effacer la domaine de sortie
+		1735=Calcule!
+		1736=Charger
+		1737=Enregistrer
+		1738=Enregistrer sous	
+		1739=Angle doit ?tre dans la domaine [0;2*PI]
+		1800=T%e9l%e9charger des cartes g%e9o-r%e9f%e9renc%e9e
+		1801=T%e9l%e9charger pages
+		1802=T%e9l%e9chargement des cartes g%e9o-r%e9f%e9renc%e9e%0aChoissisez service en ligne:
+		1803=pour
+		1804=toutes
+		1805=coch%e9es
+		1806=Caches
+		1807=Ca. m par pixel:
+		1808=Chevauchement en pixel:
+		1809=T%e9l%e9charge carte synoptique
+		1810=Dans un cadre de:
+		1811=avec le centre: 
+		1812=Pages
+		1813=T%e9l%e9charge carte pour
+		1814=Par cache		
+		1815=T%e9l%e9charge cartes g%e9o-r%e9f%e9renc%e9es
+		1816=T%e9l%e9charge cartes g%e9o-r%e9f%e9renc%e9es%0a %0a %0a %0a %0a
+		1817=Pas de caches coch%e9es
+		1818=getSortedMapServiceIndex: Index 
+		1819=pas trouv%e9
+		1820=T%e9l%e9charge carte '
+		1821=%0a pour cache:%0a
+		1822=Cache: 
+		1823=Ignore erreur: 
+		1824=T%e9l%e9charge carte synoptique
+		1825=Carte synoptique: Ignore erreurs: 
+		1826=Charger et calibrer des cartes fini
+		1827='Radius' doit ?tre plus grand que zero
+		1828='Chevauchement' ne doit pas ?tre moins que zero
+		1829=Entrez un 'centre' autour duquel les cartes seront charg%e9es.
+		1830=Le service de cartes choisi offre cartes en %e9chelle de
+		1831= %e0 
+		1832=%0a Adaptez 'Ca. m par pixel' respectivement, svp.
+		2000=GPX Export
+		2001=de
+		2100=Explorist Exporter
+		2101=Erreur en chargeant fichier magellan.cfg
+		2102=Choisissez le fichier de destination
+		2103=Erreur en lisant le fichier magellan.cfg
+		2104=Choisissez le dossier de sortie pour les fichier .gs
+		2500=Erreur en chargeant ou attribut inconnu
+		2501=Pas toujours accessible
+		2502=Toujours accessible (24/7)
+		2503=Pas de bicyclettes
+		2504=Bicyclettes autoris%e9es
+		2505=*boat-no
+		2506=*boat-yes
+		2507=*cactus-no
+		2508=*cactus-yes
+		2509=Pas de feux de bivouac
+		2510=Feux de bivouacs autoris%e9s
+		2511=Pas de camping
+		2512=Camping autoris%e9
+		2513=*cliff-no
+		2514=Danger: chute de pierres
+		2515=Pas d'escalade difficile
+		2516=Escalade difficile
+		2517=*compass-no
+		2518=*compass-yes
+		2519=*cow-no
+		2520=Attention b%e9tail de p%e2turage
+		2521=*danger-no
+		2522=Region dangereuse
+		2523=Pas de chiens
+		2524=Chiens autoris%e9s
+		2525=*fee-no
+		2526=Payante
+		2527=*hiking-no
+		2528=Randonn%e9e fatiguante
+		2529=Pas de chevaux
+		2530=Chavaux autoris%e9s
+		2531=*hunting-no
+		2532=Region de chasse
+		2533=Pas de v%e9hicules tout terrain
+		2534=V%e9hicules tout terrain autoris%e9es
+		2535=Pas d'enfants
+		2536=Aimable avec les enfants
+		2537=*mine-no
+		2538=*mine-yes
+		2539=Pas de motos
+		2540=Motos autoris%e9s
+		2541=Pas pendant la nuit
+		2542=Possible pendant la nuit
+		2543=Met plus d'une heure
+		2544=Met moins d'une heure
+		2545=*parking-no
+		2546=Parking disponible
+		2547=*phone-no
+		2548=T%e9l%e9phone disponible
+		2549=*picnic-no
+		2550=Table de pique-nique disponible
+		2551=*poisonoak-no
+		2552=*poisonoak-yes
+		2553=*public-no
+		2554=Transports publiques disponible
+		2555=Pas de quads
+		2556=Quads autoris%e9s
+		2557=*rappelling-no
+		2558=Equipment d'escalade n%e9cessaire
+		2559=*restrooms-no
+		2560=Toilettes disponibles
+		2561=*scenic-no
+		2562=Point de vue
+		2563=*scuba-no
+		2564=*scuba-yes
+		2565=*snakes-no
+		2566=*snakes-yes
+		2567=Pas de motoneiges
+		2568=*snowmobiles-yes
+		2569=Caract%e8re secret pas n%e9cessaire
+		2570=Caract%e8re secret n%e9cessaire
+		2571=Pas appropri%e9 pour poussettes
+		2572=Appropri%e9 pour poussettes
+		2573=*swimming-no
+		2574=*swimming-yes
+		2575=*thorn-no
+		2576=%c9pines!
+		2577=*ticks-no
+		2578=Tiques!
+		2579=*wading-no
+		2580=Patauger possible
+		2581=*water-no
+		2582=Eau potable disponible
+		2583=Pas appropri%e9 pour chaises roulantes
+		2584=Appropri%e9 pour chaises roulantes
+		2585=Pas disponible en hiver
+		2586=Disponible en hiver
+		2587=Entretien de la cache pas n%e9cessaire 
+		2588=Entretien de la cache n%e9cessaire
+		3000=Fermer
+		4000=Caches charg%e9es:
+		4100=Choisir dossier:
+		4101=Cartes
+		4102=Cartes calibr%e9es
+		4103=Cartes pas calibr%e9es
+		4104=Annuler
+		4105=Charger
+		4106=Calibrer carte:
+		4107=Fini!
+		4108=Coordon%e9es:
+		4109=Chargeant Cartes...
+		4110=Chargeant
+		4111=Les coordonn%e9es doivent ?tre en format N XX XX,XXX E XXX XX,XXX
+		4112=Erreur E/S en copyant:+
+		4113=+%e0:+
+		4114=+Erreur:+
+		4115=Erreur: Ne peut pas d%e9coder image:+
+		4116=+-+Image pas copi%e9e
+		4117=Erreur en important fichier .map:+
+		4118=Erreur E/S en lisant ou %e9crivant le fichier de calibrage
+		4119=Pas trouv%e9 de fichier de calibrage pour:+
+		4120=Fini.
+		4200=Choisir dossier de cartes
+		4201=Information
+		4203=Chargeant liste des cartes...
+		4204=Carte calib%e9e pas disponible %0a Choisissez une %e9chelle%0a dans laquelle le track et les cartes seront affich%e9s
+		4205=Carte calib%e9e pas disponible  %0a T%e9l%e9chargez cartes avec le menu: Application/Cartes/T%e9lecharger cartes calibr%e9es
+		4206=Dist:+
+		4207=Erreur
+		4208=Bogue informatique: %0a mapChangeModus pas valide:+
+		4210=La carte se d%e9placeant ne peut pas demarrer sans carte. %0a Choisissez-en une %0a (vide eventuellement)
+		4211=Pas de carte+
+		4212=plus claire et plus
+		4213=d%e9taill%e9e
+		4214=+disponible
+		4215=Pas de caches coch%e9es
+		4216=Chargeant carte...
+		4217=N'a pas pu trouv%e9 fichier pour cette image: %0a
+		4218=N'a pas pu charg%e9 carte: %0a
+		4219=Pas assez de m%e9moire %0a pour charger carte: %0a
+		4220=%0aVous pourriez fermer les logiciels %0a et redemarrer CacheWolf
+		4221=Pas assez de ressources disponibles:+
+		4222=Erreur: M%e9moire (RAM) plein
+		4230=Mets dest. ici$z
+		4231=Mets dest. ici
+		4232=Cr%e9er nouveau waypoint ici$n
+		4233=Cr%e9er nouveau waypoint ici
+		4234=Choisir carte manuel$s
+		4235=Choisir carte manuel
+		4236=Changer dossier des cartes$c
+		4237=Changer dossier des cartes
+		4238=Afficher carte
+		4239=Afficher carte
+		4240=%c9teindre carte
+		4241=%c9teindre carte
+		4242=Mode pour changement automatique de la carte
+		4244=Plus grand degr%e9 de d%e9tail avec pos. actuelle et destination
+		4245=Plus grand degr%e9 de d%e9tail avec pos. actuelle et destination
+		4246=Plus grand degr%e9 de d%e9tail disponible
+		4247=Plus grand degr%e9 de d%e9tail disponible
+		4248=Garder degr%e9 de d%e9tail manuel si possible
+		4249=Garder degr%e9 de d%e9tail manuel si possible
+		4250=Choisir degr%e9 de d%e9tail manuellement
+		4252=Charger cartes avec toutes caches coch%e9es
+		4253=Charger cartes avec toutes caches coch%e9es
+		4254=Charger carte avec plus de d%e9tails
+		4255=Charger carte avec plus de d%e9tails
+		4256=Charger carte avec plus de vue d'ensemble
+		4257=Charger carte avec plus de vue d'ensemble
+		4258=D%e9placer carte et en charger une nouvelle
+		4260=D%e9placer carte vers destination
+		4261=D%e9placer carte vers destination
+		4262=D%e9placer carte vers GPS
+		4263=D%e9placer carte vers GPS
+		4264=D%e9placer carte vers centre
+		4265=D%e9placer carte vers centre
+		4270=Ouvre
+		4271=Cartes
+		4272=--- Cartes de la pos. actuelle et de la dest. ---
+		4273=--- Cartes de la pos. actuelle ---
+		4274=--- Cartes de la destination ---
+		4275=--- Autre cartes ---
+		4276=Annuler
+		4277=Choisir
+		4278=Ne peut pas charger ces fichiers .wfl:+%0a
+		4300=1 pixel vide =+
+		4301=+metre
+		4302=Latitude/Longitude hors de l'%e9tendue valide en chargeant+
+		4303=Trop peu de lignes en fichier+
+		4304=Trop peu de points pour calibrer la carte
+		4305=Param%e8tres de transformation pas valides%0a (Ne peut pas inverser matrice)%0a dans le fichier %0a
+		4306=Carte n'est pas g%e9o-r%e9f%e9renc%e9e
+		4400=Avertissement
+		4401=Ignore erreur: N'a pas pu transmettre donn%e9es au h%f4te:%0a
+		4402=Pour un nouveau essai red%e9marrez GPS
+		4403=Erreur
+		4404=N'a pas pu %e9tablir une connexion avec le r%e9cepteur GPS. %0a Erreur en ouvrant le port seriel%0a
+		4405=Causes possibles:%0a Port faux %0a Un autre logiciel bloque le port %0a Seulement pour les appareils Loox: port infrarouge ouverts bloque GPS
+		4406=Copiez java_ewe.dll dans le dossier CacheWolf
+		4500=Tout:
+		4501=Aff:
+		4502=Trv:
+		4600=Ne peut pas afficher toutes les caches. Incompatible statut de liste noire.
+		4700=Ignore erreur chargeant%0ale fichier de calibration%0a
+		4701=Cherche la meilleur carte
+		4702=Optimisation
+		4703=Cachewolf peut accelerer le chargement des cartes en ajoutant un marquage%0a Faire ?a maintenant?%0a?a peut mettre quelques minutes.
+		4704=%0aRenommer fichier:
+		4705=Erreur en renommant:%0a
+		4706=%0apr%e8s:%0a
+		4707=Erreur E/S en lisant:+
+		4708=Erreur en lisant:+
+		4709=N'a pas pu trouver image de carte pour ce fichier de calibration:%0a
+		4800=Charge services de cartes en lingne
+		4801=Ignore erreur en %0a lisant le fichier de d%e9finition Web Map Service %0a
+		4802=Chargeant image de carte calibr%e9e et g%e9o-r%e9f%e9renc%e9e %0a '
+		4803=' %0a Chargeant page %0a Ligne 
+		4804= Colonne 
+		4805=Page
+		4806=: Ignore erreur: 
+		4807=loadTo: Chargement de la carte %e9chou%e9: Pas re?u http-redirect
+		4808=downloadImage: content-type: 
+		4809= n'est pas une image, debut du contenu: 
+		4810=Erreur en chargeant ou enr%e9gstrant carte:%0a
+		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
+		4812=WebMapService: Propri%e9t%e9 >Name:< manque en fichier:%0a
+		4813=WebMapService: Propri%e9t%e9 >MainUrl:< manque en fichier:%0a
+		4814=WebMapService: CoordinateReferenceSystemCacheWolf pas indiqu%e9
+		4815=Ce syst%e8me de coordonn%e9es de r%e9f%e9rence n'est pas soutenu par Cachewolf:%0a
+		4816=WebMapService: Propri%e9t%e9 >CoordinateReferenceSystemUrlPart:< manque en fichier:%0a
+		4817=Nombre de cha%eenes de caract%e8res en CoordinateReferenceSystemUrlPart (
+		4818=) doit correpondres au nombre de codes en CoordinateReferenceSystemCacheWolf (
+		4819=). Utilise caract%e8res %e0 ignorer pour s%e9paration
+		4820=WebMapService: Propri%e9t%e9 >CoordinateReferenceSystemUrlPart:< fautive en fichier:%0a
+		4821=WebMapService: Propri%e9t%e9 >ImageFileExtension:< manque en fichier:%0a
+		4822=%c9tendu: 
+		4823= n'est pas couvert par service: 
+		4824=%c9tendu de service: 
+		4825=Echelle 
+		4826= n'est pas soutenu par cette service de cartes. Echelle soutenu: 
+		4827= (mesur%e9 verticalement en m%e8tres par pixel)
+		4828=Syst%e8me de coordonn%e9es n'est pas soutenue par CacheWolf: 
+		4829=getUrlForBoundingBox: Point: 
+		4830=Pas de bande Gau%df-Kr%fcger dans la liste de codes EPSG dans le fichier .wms
+		4831=getMapInfoObject: Syst%e8me de coordonn%e9es n'est pas soutenue par CacheWolf: 
+		4900=+n'est pas une coordonn%e9e allemande Gau%df-Kr%fcger
+		4920=Code EPSG+
+		4921=+pas soutenu
+		4922=Code EPSG manque en:+%0a
+		4923=fromWgs84: code EPSG+
+		4924=ToWgs84: code EPSG+
+		5000=Chargeant liste de caches
+		5001=Ne peut pas spider waypoints suppletif.%0aCochez le parent, svp..
+		5002=: Cette fonction n'est disponible que pour Geocaching.com et Opencaching.de momentan%e9ment.
+		5497=Erreur: Une balise manque en spider.def
+		5498=Login pas possible. Erreur en chargeant la page suivante.
+		5499=Erreur en chargeant la page Login.%0aMerci de v%e9rifier votre connexion internet.
+		5500=Erreur.
+		5501=Login pas possible. Nom ou mot de passe fautif?
+		5502=Chargeant premi%e8re page ...
+		5503=Erreur en chargeant la premi%e8re page.
+		5504=Erreur en chargeant le fichier 'spider.def'
+		5505=Entrez mot de passe
+		5506=Mot de passe
+		5507=Statut
+		5508=Connecter ...
+		5509=Coordonn%e9es de centre pas mis
+		5510=Options spider
+		5511=Trouv%e9e+
+		5512=+Caches
+		5513=Chargeant:+
+		5514=%0aTravel Bug:+ 
+		5515=Erreur en chargeant la cache.%0aMerci de v%e9rifier votre connexion internet..%0aContinuer d'essayer?
+		6000=Guid
+		6001=Nom
+		6002=Track#
+		6003=Destination
+		6004=De Prof
+		6005=De waypt
+		6006=De date
+		6007=De log
+		6008=%c0 Prof
+		6009=%c0 waypt
+		6010=%c0 date
+		6011=%c0 log
+		6015=*** AUTRE ***
+		6016=Prendre Travel Bug
+		6017=Poser Travel Bug
+		6018=Nom du Travel Bug
+		6019=Numero de track
+		6020=Pas trouv%e9 Travel Bug.
+		6021=Trouv%e9 plus d'un Travel Bug. Indiquez le nom plus pr%e9cis%e9ment.
+		6022=: Cache actuelle:+
+		6025=Nom:
+		6026=# track:
+		6027=Id/Guid:
+		6028=Nom
+		6029=Profil/Cache:
+		6030=Date pris:
+		6031=Log cr%e9e
+		6032=De
+		6033=Date pos%e9:
+		6034=%c0
+		6035=Destination:
+		6036=Destination
+		6040=Prends TB de cache actuelle
+		6041=Pose TB dans cache actuelle
+		6042=Nouveau Travel Bug
+		6043=Effacer Travel Bug
+		6044=Retirer nom et destination
+		6045=Ouvrir en ligne
+		6046=N'afficher que le sans logs
+		6047=Effacer lignes selectionn%e9es
+		6050=Montrer colonnes
+		6051=Masquer colonnes
+		6100=Soleil
+		6101=Lune
+		6102=Grande Ourse
+		6103=Orion
+		6104=Cassiop%e9e
+		6105=Cygne
+		6106=Croix du Sud
+		6122=Altioth im Gro%dfen Wagen
+		6123=Alnilam im Orion
+		6124=Kassiopeia Gamma
+		6125=Deneb im Schwan
+		6126=Mimosa im Kreuz des S%fcdens
+		7000=Valid%e9
+		7001=Candidat pour validation
+		7002=En developpement, stable
+		7003=En developpement, le plus r%e9cent
+		7010=d%e9j%e0 actuel
+		7011=Update disponible
+		7012=pas disponible
+		7013=Erreur
+		7020=Type de version recommand%e9
+		7021=Ce type de version
+		7022=Type de version
+		7023=Erreur en t%e9l%e9chargeant les informations de version
+		{..}
+	{..}
+{..}



From pfeffer at mail.berlios.de  Sun May  4 01:19:18 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 4 May 2008 01:19:18 +0200
Subject: [Cachewolf-svn] r1435 - in trunk: res_noewe/languages src/CacheWolf
	src/CacheWolf/navi
Message-ID: <200805032319.m43NJI4D018684@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-04 01:19:14 +0200 (Sun, 04 May 2008)
New Revision: 1435

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/src/CacheWolf/Common.java
   trunk/src/CacheWolf/GPSPortOptions.java
   trunk/src/CacheWolf/navi/Navigate.java
Log:
SerialPortOptionsDialog: provide better information while searching for serial port
GotoPanel: renamed "start" to "start GPS"

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-05-03 11:11:06 UTC (rev 1434)
+++ trunk/res_noewe/languages/DE.cfg	2008-05-03 23:19:14 UTC (rev 1435)
@@ -347,8 +347,8 @@
 		1501=Aktuell
 		1502=Grad
 		1503=Nordausrichtung
-		1504=Start
-		1505=Stop
+		1504=Start GPS
+		1505=Stop GPS
 		1506=Karte
 		1507=Koordinaten ung%fcltig:
 		1508=Breite
@@ -795,8 +795,18 @@
 		7103=Suchen$u
 		7104=Testen$t
 		7105=GPS-Daten weiterleiten an Host
-		7106=Alle Daten vom GPS-Empf?nger werden an den eingetragenen Host an TCP-Port 23 weitergeleitet. Mit dem Programm HW Virtual Serial Port kann damit ein virtueller COM-Port eingerichtet werden
+		7106=Alle Daten vom GPS-Empf%e4nger werden an den eingetragenen Host an TCP-Port 23 weitergeleitet. Mit dem Programm HW Virtual Serial Port kann damit ein virtueller COM-Port eingerichtet werden
 		7107=Position alle X Sekunden speichern (NMEA-LOG)
+		7108=Fehler: Konnte folgenden seriellen Port nicht %d6ffnen:+
+		7109=Fehler beim Ermitteln der verf%fcgbaren serielle Ports%0a
+		7110=GPS nicht gefunden%0a
+		7111=Versuche+
+		7112= mit+
+		7113= - einige Daten empfangen%0a
+		7114=GPS-Port gefunden%0a
+		7115= - nicht als GPS-Daten erkannt%0a
+		7116= - keine Daten empfangen%0a
+		7117=Anzeige der Daten direkt vom seriellen Port:
 		
 		{..}
 	{..}

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-05-03 11:11:06 UTC (rev 1434)
+++ trunk/res_noewe/languages/EN.cfg	2008-05-03 23:19:14 UTC (rev 1435)
@@ -348,8 +348,8 @@
 		1501=Current
 		1502=deg
 		1503=North centered
-		1504=Start
-		1505=Stop
+		1504=Start GPS
+		1505=Stop GPS
 		1506=Map
 		1507=Coordinates are out of range:
 		1508=latitude
@@ -779,6 +779,16 @@
 		7105=Forward GPS data to host
 		7106=All data from GPS will be sent to TCP-port 23%0a and can be redirected there to a serial port%0a by 
 		7107=Interval in sec for logging
+		7108=Error: Failed to open serial port:+
+		7109=Error: Could not get list of available serial ports%0a
+		7110=GPS not found%0a
+		7111=Trying+
+		7112= at+
+		7113= - got some data%0a
+		7114=GPS Port found%0a
+		7115= - No GPS data tag found%0a
+		7116= - no data received%0a
+		7117=Displaying data from serial port directly:%0a
 		{..}
 	{..}
 {..}

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2008-05-03 11:11:06 UTC (rev 1434)
+++ trunk/res_noewe/languages/FR.cfg	2008-05-03 23:19:14 UTC (rev 1435)
@@ -347,8 +347,8 @@
 		1501=Actuel
 		1502=Degr%e9
 		1503=Orientation septentrional
-		1504=D%e9marrer
-		1505=Stop
+		1504=D%e9marrer GPS
+		1505=Stop GPS
 		1506=Carte
 		1507=Coordonn%e9es pas valides:
 		1508=Latitude

Modified: trunk/src/CacheWolf/Common.java
===================================================================
--- trunk/src/CacheWolf/Common.java	2008-05-03 11:11:06 UTC (rev 1434)
+++ trunk/src/CacheWolf/Common.java	2008-05-03 23:19:14 UTC (rev 1435)
@@ -1,6 +1,8 @@
 package CacheWolf;
 
 import ewe.io.File;
+import ewe.io.SerialPort;
+import ewe.io.SerialPortOptions;
 import ewe.sys.Convert;
 
 public final class Common {
@@ -132,5 +134,11 @@
 		return e.toString().replace(',', '.');
 
 	}
+	
+	public static String fixSerialPortName(String name) {
+		if (name.startsWith("/")) return new String(".."+name); // on linux (*nix) machines it is quite usual to give the complete file path to the serial port, but ewe expects only "ttyS0" or similar
+		else                      return name;
+	}
 
+
 }

Modified: trunk/src/CacheWolf/GPSPortOptions.java
===================================================================
--- trunk/src/CacheWolf/GPSPortOptions.java	2008-05-03 11:11:06 UTC (rev 1434)
+++ trunk/src/CacheWolf/GPSPortOptions.java	2008-05-03 23:19:14 UTC (rev 1435)
@@ -45,12 +45,8 @@
 	TextDisplay out;
 	boolean run;
 	
-	public mySerialThread(SerialPortOptions spo, TextDisplay td){
-		try {
-			comSp = new SerialPort(spo);
-		} catch (IOException e) {
-			Vm.debug("Error open COM-Port " + spo.portName);
-		}
+	public mySerialThread(SerialPortOptions spo, TextDisplay td) throws IOException {
+		comSp = new SerialPort(spo);
 		out = td;
 	}
 	
@@ -144,26 +140,36 @@
 	public void action(String field,Editor ed){
 		if (field.equals("scan")){
 			String[] ports = SerialPort.enumerateAvailablePorts();
-			
-			for (int i=0;i<ports.length;i++){
-				// try open with default GPS baudrate
-				if (!testPort(ports[i], 4800)) continue;
-				else {
-					this.portName = ports[i];
-					ed.toControls("portName");
-					this.baudRate = 4800;
-					ed.toControls("baudRate");
-					break;
+			txtOutput.setText("");
+			if (ports == null) {
+				txtOutput.appendText(MyLocale.getMsg(7109, "Could not get list of available serial ports\n"), true);
+			} else {
+				int i;
+				for (i=0; i<ports.length; i++){
+					// try open with default GPS baudrate
+					if (!testPort(ports[i], baudRate)) 	continue;
+					else {
+						this.portName = ports[i];
+						ed.toControls("portName");
+						break;
+					}
 				}
+				if (i >= ports.length) txtOutput.appendText(MyLocale.getMsg(7110, "GPS not found\n"), true);
 			}
 		}
 		if (field.equals("test")){
 			if (!gpsRunning){
 				ed.fromControls();
-				serThread = new mySerialThread(this, txtOutput);
-				serThread.start();
-				btnTest.setText("Stop");
-				gpsRunning = true;
+				txtOutput.setText(MyLocale.getMsg(7117, "Displaying data from serial port directly:\n"));
+				try {
+					this.portName = Common.fixSerialPortName(portName);
+					serThread = new mySerialThread(this, txtOutput);
+					serThread.start();
+					btnTest.setText("Stop");
+					gpsRunning = true;
+				} catch (IOException e) {
+					txtOutput.appendText(MyLocale.getMsg(7108, "Failed to open serial port: ") + this.portName + ", IOException: " + e.getMessage() + "\n", true);
+				}
 			}
 			else {
 				serThread.stop();
@@ -194,48 +200,34 @@
 		int gpsLen;
 		long now;
 		
-		gpsPort = new SerialPort(port, baud);
-		
-		//try to read some data
-		now = new Time().getTime();
-		txtOutput.appendText("Trying " + port + " at " + baud + " Baud\n",true);
-		while ( (new Time().getTime() - now) < 2000){
-			gpsLen = gpsPort.nonBlockingRead(gpsBuff,0, gpsBuff.length);
-			if (gpsLen > 0){
-				txtOutput.appendText("Port found\n", true);
-				gpsPort.close();
-				return true;
-			}
+		gpsPort = new SerialPort(Common.fixSerialPortName(port), baud);
+		if(gpsPort == null) {
+			txtOutput.appendText(MyLocale.getMsg(7108, "Failed to open serial port: ") + this.portName + "\n", true);
+			return false;
 		}
-		gpsPort.close();
-		return false;
-	}
-	
-	private boolean testGPS(String port, int baud){
-		SerialPort gpsPort; 
-		byte[] gpsBuff = new byte[1024];
-		int gpsLen;
-		long now;
 		
-		gpsPort = new SerialPort(port, baud);
-		
 		//try to read some data
 		now = new Time().getTime();
-		Vm.debug("Trying " + port + " at " + baud + " Baud");
+		txtOutput.appendText(MyLocale.getMsg(7111, "Trying ") + port + MyLocale.getMsg(7112, " at ") + baud + " Baud\n", true);
+		boolean gotdata = false;
 		while ( (new Time().getTime() - now) < 3000){
 			gpsLen = gpsPort.nonBlockingRead(gpsBuff,0, gpsBuff.length);
-			Vm.debug("Len:" + gpsLen);
 			if (gpsLen > 0){
+				if (!gotdata) txtOutput.appendText(MyLocale.getMsg(7113, " - got some data\n"), true);
+				gotdata = true;
 				String tmp = mString.fromAscii(gpsBuff,0,gpsLen);
-				Vm.debug(tmp);
-				if (tmp.startsWith("$GP")){
-					Vm.debug("GPS Port found");
+				if (tmp.indexOf("$GP", 0) >= 0){
+					txtOutput.appendText(MyLocale.getMsg(7114, "GPS Port found\n"), true);
 					gpsPort.close();
 					return true;
 				}
 			}
+			Vm.sleep(200);
 		}
+		if (gotdata) txtOutput.appendText(MyLocale.getMsg(7115, " - No GPS data tag found\n"), true);
+		else         txtOutput.appendText(MyLocale.getMsg(7116, " - no data received\n"), true);
 		gpsPort.close();
 		return false;
 	}
-}
\ No newline at end of file
+	
+}

Modified: trunk/src/CacheWolf/navi/Navigate.java
===================================================================
--- trunk/src/CacheWolf/navi/Navigate.java	2008-05-03 11:11:06 UTC (rev 1434)
+++ trunk/src/CacheWolf/navi/Navigate.java	2008-05-03 23:19:14 UTC (rev 1435)
@@ -171,6 +171,7 @@
 
 	public SerialThread(SerialPortOptions spo, CWGPSPoint GPSPoint, String forwardIP) throws IOException {
 		try{
+			spo.portName = CacheWolf.Common.fixSerialPortName(spo.portName);
 			comSp = new SerialPort(spo);
 		} catch (IOException e) {
 			throw new IOException(spo.portName);
@@ -253,3 +254,4 @@
 	}
 }
 
+



From mirabilos at mail.berlios.de  Sun May  4 02:09:30 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 4 May 2008 02:09:30 +0200
Subject: [Cachewolf-svn] r1436 - trunk/src/CacheWolf
Message-ID: <200805040009.m4409UDe008962@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-04 02:09:29 +0200 (Sun, 04 May 2008)
New Revision: 1436

Modified:
   trunk/src/CacheWolf/Preferences.java
Log:
change default font size for "big" windows down to 12
reason: 16 is unusable with Ewe/GTK+1.2 and still looks
more than ugly as hell with Ewe/GTK+2 on Unix (both BSD
and Darwin/Mac OSX on a Macbook, which works as of tonight?)


Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-05-03 23:19:14 UTC (rev 1435)
+++ trunk/src/CacheWolf/Preferences.java	2008-05-04 00:09:29 UTC (rev 1436)
@@ -47,7 +47,7 @@
 		mySPO.stopBits = 1;
 		mySPO.baudRate = 4800;
 		if ( ((ewe.fx.Rect) (Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0))).height > 400) 
-			 fontSize = 16;
+			 fontSize = 12;
 		else 
 			 fontSize = 11;
 	}



From mirabilos at mail.berlios.de  Sun May  4 02:39:28 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 4 May 2008 02:39:28 +0200
Subject: [Cachewolf-svn] r1437 - trunk/src/CacheWolf
Message-ID: <200805040039.m440dSLd013417@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-04 02:39:28 +0200 (Sun, 04 May 2008)
New Revision: 1437

Modified:
   trunk/src/CacheWolf/Preferences.java
Log:
pfeffer says 12 is too small on windoze, so be it


Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-05-04 00:09:29 UTC (rev 1436)
+++ trunk/src/CacheWolf/Preferences.java	2008-05-04 00:39:28 UTC (rev 1437)
@@ -46,10 +46,13 @@
 		mySPO.parity = SerialPort.NOPARITY;
 		mySPO.stopBits = 1;
 		mySPO.baudRate = 4800;
-		if ( ((ewe.fx.Rect) (Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0))).height > 400) 
-			 fontSize = 12;
-		else 
-			 fontSize = 11;
+		if ( ((ewe.fx.Rect) (Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0))).height > 400) {
+			if (Vm.getPlatform().equals("Java"))
+				fontSize = 16;
+			else
+				fontSize = 12;
+		} else 
+			fontSize = 11;
 	}
 
     //////////////////////////////////////////////////////////////////////////////////////



From mirabilos at mail.berlios.de  Sun May  4 02:59:31 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 4 May 2008 02:59:31 +0200
Subject: [Cachewolf-svn] r1438 - trunk/src/CacheWolf
Message-ID: <200805040059.m440xVSo014129@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-04 02:59:30 +0200 (Sun, 04 May 2008)
New Revision: 1438

Modified:
   trunk/src/CacheWolf/Preferences.java
Log:
after some more arguing, reverse the test logic


Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-05-04 00:39:28 UTC (rev 1437)
+++ trunk/src/CacheWolf/Preferences.java	2008-05-04 00:59:30 UTC (rev 1438)
@@ -47,10 +47,10 @@
 		mySPO.stopBits = 1;
 		mySPO.baudRate = 4800;
 		if ( ((ewe.fx.Rect) (Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0))).height > 400) {
-			if (Vm.getPlatform().equals("Java"))
+			if (Vm.getPlatform().equals("Unix"))
+				fontSize = 12;
+			else
 				fontSize = 16;
-			else
-				fontSize = 12;
 		} else 
 			fontSize = 11;
 	}



From pfeffer at mail.berlios.de  Sun May  4 13:55:58 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 4 May 2008 13:55:58 +0200
Subject: [Cachewolf-svn] r1439 - in trunk/src: CacheWolf CacheWolf/navi utils
Message-ID: <200805041155.m44BtwEf032430@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-04 13:55:53 +0200 (Sun, 04 May 2008)
New Revision: 1439

Modified:
   trunk/src/CacheWolf/Attribute.java
   trunk/src/CacheWolf/CacheHolderDetail.java
   trunk/src/CacheWolf/Common.java
   trunk/src/CacheWolf/HttpConnection.java
   trunk/src/CacheWolf/ImagePanel.java
   trunk/src/CacheWolf/NewProfileForm.java
   trunk/src/CacheWolf/OCXMLImporter.java
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/navi/MapImage.java
   trunk/src/CacheWolf/navi/MapInfoObject.java
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/utils/FileBugfix.java
Log:
preparing for web-application: allways make use of FileBugFix instead of File

Modified: trunk/src/CacheWolf/Attribute.java
===================================================================
--- trunk/src/CacheWolf/Attribute.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/Attribute.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -113,7 +113,7 @@
 			"firstaid-yes.gif"              //88 needs maintenance
 	};
 	private static mImage [] attributeImages=new mImage[89];
-	private static String IMAGEDIR=FileBase.getProgramDirectory()+"/attributes/";
+	private static String IMAGEDIR=STRreplace.replace("attributes/", "//", "/");
 	
 	public static String getImageDir() {
 		return IMAGEDIR; 

Modified: trunk/src/CacheWolf/CacheHolderDetail.java
===================================================================
--- trunk/src/CacheWolf/CacheHolderDetail.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/CacheHolderDetail.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -1,5 +1,6 @@
 package CacheWolf;
 
+import utils.FileBugfix;
 import ewe.filechooser.FileChooser;
 import ewe.filechooser.FileChooserBase;
 import ewe.io.BufferedWriter;
@@ -144,9 +145,9 @@
 		public void readCache(String dir) throws IOException{
 			String dummy;
 			FileReader in = null;
-			if (new File(dir + wayPoint.toLowerCase() + ".xml").exists()) in = new FileReader(dir+wayPoint.toLowerCase() + ".xml");
+			if (new FileBugfix(dir + wayPoint.toLowerCase() + ".xml").exists()) in = new FileReader(dir+wayPoint.toLowerCase() + ".xml");
 			if (in == null) {
-				if (new File(dir + wayPoint + ".xml").exists()) in = new FileReader(dir+wayPoint + ".xml");
+				if (new FileBugfix(dir + wayPoint + ".xml").exists()) in = new FileReader(dir+wayPoint + ".xml");
 			}
 			if (in == null) throw new FileNotFoundException(dir+wayPoint.toLowerCase()+".xml");
 			String text= in.readAll();

Modified: trunk/src/CacheWolf/Common.java
===================================================================
--- trunk/src/CacheWolf/Common.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/Common.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -1,9 +1,12 @@
 package CacheWolf;
 
+import utils.FileBugfix;
+import ewe.io.Base64Codec;
 import ewe.io.File;
-import ewe.io.SerialPort;
-import ewe.io.SerialPortOptions;
+import ewe.io.IOException;
 import ewe.sys.Convert;
+import ewe.util.ByteArray;
+import ewe.io.JavaUtf8Codec;
 
 public final class Common {
 
@@ -108,7 +111,7 @@
 		String[] t = {".png", ".gif", ".jpg", ".bmp"};
 		int i;
 		for (i = 0; i<t.length; i++) {
-			tmp = new File(name+t[i]);
+			tmp = new FileBugfix(name+t[i]);
 			if (tmp.exists()) break;
 		}
 		if (i >=t.length) fileName = null;

Modified: trunk/src/CacheWolf/HttpConnection.java
===================================================================
--- trunk/src/CacheWolf/HttpConnection.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/HttpConnection.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -2,6 +2,7 @@
 import ewe.data.Property;
 import ewe.data.PropertyList;
 import ewe.io.AsciiCodec;
+import ewe.io.Base64Codec;
 import ewe.io.FileBase;
 import ewe.io.IOException;
 import ewe.io.IOHandle;
@@ -14,6 +15,7 @@
 import ewe.io.StreamAdapter;
 import ewe.io.StreamUtils;
 import ewe.io.TextCodec;
+import ewe.net.MalformedURLException;
 import ewe.net.Socket;
 import ewe.net.URL;
 import ewe.sys.Convert;

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/ImagePanel.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -1,4 +1,5 @@
 package CacheWolf;
+import utils.FileBugfix;
 import ewe.graphics.*;
 import ewe.sys.*;
 import ewe.fx.*;
@@ -131,7 +132,7 @@
 		locCounter=0;
 		for(int i = 0; i<images.size(); i++){
 			location = profile.dataDir + (String)images.get(i);
-			if (!(new File(location)).exists()) {
+			if (!(new FileBugfix(location)).exists()) {
 				location=NO_IMAGE;
 				if (!pref.showDeletedImages) continue; // Don't show the deleted Image if user does not want it
 			}

Modified: trunk/src/CacheWolf/NewProfileForm.java
===================================================================
--- trunk/src/CacheWolf/NewProfileForm.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/NewProfileForm.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -1,5 +1,6 @@
 package CacheWolf;
 
+import utils.FileBugfix;
 import ewe.io.File;
 import ewe.ui.*;
 
@@ -41,7 +42,7 @@
 					mb.execute();
 					profileDir="";
 				} else {
-					File f=new File(baseDir+profileDir);
+					File f=new FileBugfix(baseDir+profileDir);
 					if (f.exists()) {
 						MessageBox mb=new MessageBox(MyLocale.getMsg(321,"Error"),MyLocale.getMsg(1114,"Directory exists already."),MBOK);
 						mb.execute();

Modified: trunk/src/CacheWolf/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/OCXMLImporter.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/OCXMLImporter.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -1,5 +1,7 @@
 package CacheWolf;
 
+import utils.FileBugfix;
+
 import com.stevesoft.ewe_pat.Regex;
 
 import ewesoft.xml.*;
@@ -229,7 +231,7 @@
 			file = fetch(url, "dummy");
 
 			//parse
-			tmpFile = new File(profile.dataDir + file);
+			tmpFile = new FileBugfix(profile.dataDir + file);
 			if (tmpFile.getLength() == 0 ) {
 				throw new IOException("no updates available");
 			}
@@ -282,7 +284,7 @@
 				ch.calcRecommendationScore();
 			}
 		} */
-		profile.saveIndex(pref,Profile.NO_SHOW_PROGRESS_BAR);
+		profile.saveIndex(pref,Profile.SHOW_PROGRESS_BAR);
 		inf.setInfo(finalMessage);
 
 		return success;

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/Preferences.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -183,7 +183,7 @@
 	 */
 	public void readPrefFile(){
 		try{
-			String datei = FileBase.getProgramDirectory() + "/" + "pref.xml";
+			String datei = "pref.xml"; // FileBase.getProgramDirectory() + "/" + "pref.xml";
 			datei = datei.replace('\\', '/');
 			ewe.io.Reader r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(datei));
 			parse(r);
@@ -453,7 +453,7 @@
 			MessageBox inf = new MessageBox("Information", "The directory for calibrated maps \nhas moved in this program version\n to '<profiles directory>/maps/standard'\n Do you want to move your calibrated maps there now?", FormBase.YESB | FormBase.NOB);
 			if (inf.execute() == FormBase.IDYES) {
 				String sp = getMapManuallySavePath(false);
-				File spF = new File(sp);
+				FileBugfix spF = new FileBugfix(sp);
 				if (!spF.exists()) spF.mkdirs();
 				String image;
 				String lagacypath = ret;
@@ -483,8 +483,8 @@
 	 */
 	public String getMapManuallySavePath(boolean create) {
 		String mapsDir = baseDir + mapsPath;
-		if (create && !(new File(mapsDir).isDirectory())) { // dir exists? 
-			if (new File(mapsDir).mkdirs() == false) {// dir creation failed?
+		if (create && !(new FileBugfix(mapsDir).isDirectory())) { // dir exists? 
+			if (new FileBugfix(mapsDir).mkdirs() == false) {// dir creation failed?
 				(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(172,"Error: cannot create maps directory: \n")+mapsDir, FormBase.OKB)).exec();
 				return null;
 			}
@@ -498,9 +498,9 @@
 	public String getMapDownloadSavePath(String mapkind) {
 		String subdir = Global.getProfile().dataDir.substring(Global.getPref().baseDir.length()).replace('\\', '/');
 		String mapsDir = Global.getPref().baseDir + "maps/" + Common.ClearForFileName(mapkind)+ "/" + subdir;
-		if (!(new File(mapsDir).isDirectory())) { // dir exists? 
-			if (new File(mapsDir).mkdirs() == false) // dir creation failed?
-			{(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(172,"Error: cannot create maps directory: \n")+new File(mapsDir).getParentFile(), FormBase.OKB)).exec();
+		if (!(new FileBugfix(mapsDir).isDirectory())) { // dir exists? 
+			if (new FileBugfix(mapsDir).mkdirs() == false) // dir creation failed?
+			{(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(172,"Error: cannot create maps directory: \n")+new FileBugfix(mapsDir).getParentFile(), FormBase.OKB)).exec();
 			return null;
 			}
 		}
@@ -527,14 +527,14 @@
 	 */
 	public boolean selectProfile(Profile prof, int showProfileSelector, boolean hasNewButton) {
 		// If datadir is empty, ask for one
-		if (baseDir.length()==0 || !(new File(baseDir)).exists()) {
+		if (baseDir.length()==0 || !(new FileBugfix(baseDir)).exists()) {
 			do {
 				FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT,"/");
 				fc.title = MyLocale.getMsg(170,"Select base directory for cache data");
 				// If no base directory given, terminate
 				if (fc.execute() == FormBase.IDCANCEL) ewe.sys.Vm.exit(0);
 				baseDir = fc.getChosenFile().toString();
-			}while (!(new File(baseDir)).exists());
+			}while (!(new FileBugfix(baseDir)).exists());
 		}
 		baseDir=baseDir.replace('\\','/');
 		if (!baseDir.endsWith("/")) baseDir+="/";
@@ -578,7 +578,7 @@
 	 * The log file is also cleared when Preferences is created and the filesize > 60KB
 	 */
 	public void logInit(){
-		File logFile = new File(LOGFILENAME);
+		File logFile = new FileBugfix(LOGFILENAME);
 		logFile.delete();
 		log("CW Version "+Version.getReleaseDetailed());
 	}
@@ -599,16 +599,17 @@
 		text = dtm.toString()+ ": "+ text;
 		if (debug) Vm.debug(text);
 		text=text+"\n";
-		File logFile = new File(LOGFILENAME);
-		Stream strout = null;
+		FileWriter logFile = null;
 		try{
-			strout = logFile.toWritableStream(true);
-			strout.write(text.getBytes());
+			logFile = new FileWriter(LOGFILENAME, true);
+			//Stream strout = null;
+			//strout = logFile.toWritableStream(true);
+			logFile.println(text);
 			//Vm.debug(text); Not needed - put <debug value="true"> into pref.xml
 		}catch(Exception ex){
 			Vm.debug("Error writing to log file!");
 		}finally{
-			if (strout != null) strout.close();
+			if (logFile != null) try {logFile.close(); } catch (IOException ioe) {}
 		}
 	}
 
@@ -657,7 +658,7 @@
 	}
 
 	public void setExportPathFromFileName(String exporter,String filename){
-		File tmpfile = new File (filename);
+		File tmpfile = new FileBugfix (filename);
 		exporterPaths.put(exporter, tmpfile.getPath());
 		savePreferences();
 	}

Modified: trunk/src/CacheWolf/navi/MapImage.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImage.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/navi/MapImage.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -1,6 +1,13 @@
 package CacheWolf.navi;
 import ewe.fx.*;
 import ewe.graphics.*;
+import ewe.io.FileInputStream;
+import ewe.io.FileReader;
+import ewe.io.IOException;
+import ewe.io.InputStream;
+import ewe.io.InputStreamReader;
+import ewe.io.Stream;
+import ewe.util.ByteArray;
 /** 
  * class that can be used with any x and any y
  * it will save taht location and make itself automatically
@@ -18,9 +25,18 @@
 		if (screenDim == null) screenDim = new Dimension(0,0);
 	}
 
-	public MapImage(String f) {
-		super(f);
+	public MapImage(String f) throws ImageDecodingException, UnsupportedImageFormatException, ImageNotFoundException, ewe.sys.SystemResourceException {
 		if (screenDim == null) screenDim = new Dimension(0,0);
+		//super(f); the following code is only necessary because of an Bug in ewe 1.49, which doesn't read from a fakefilesystem. If there were no bug, calling super(f) would be sufficient
+		ewe.io.File file = ewe.sys.Vm.newFileObject();
+		file.set(null, f);
+		try {
+		//ByteArray imbytes = ewe.io.IO.readAllBytes(input, knownSize, stopAfterKnownSize);(file, null, true); // this would be possible if ewe 1.49 wouldn't have another bug: fakefilesystem doesn't implement (oderride) length(), it only overrides getLenght(), that's why readallBytes will call the original File implementation and cause and NullpointerException
+		setImage(new Image(new FileInputStream(f).toReadableStream(), 0), 0); // copied from super() 
+		freeSource(); // copied from super()
+		} catch (IOException e) { 
+			throw new ImageNotFoundException(f); // in order to behave the same way as super would have 
+		}
 	}
 
 	public MapImage(mImage im) {

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -15,6 +15,7 @@
 import ewe.sys.*;
 import java.lang.Math;
 
+import utils.FileBugfix;
 
 /**
  * class to read, save and do the calculations for calibrated and 
@@ -146,7 +147,7 @@
 		// if (fileName == null || fileName.length() > 0) return fileName; 
 		if (fileNameWFL.length() == 0) return ""; // no image associated (empty map)
 		String n = fileNameWFL.substring(0, fileNameWFL.lastIndexOf("."));
-		return Common.getImageName(n);
+		return Common.getImageName(CacheWolf.STRreplace.replace(n, "//", "/"));
 	}
 
 	/**
@@ -158,7 +159,7 @@
 	 * @throws ArithmeticException when affine data is not correct, e.g. it is not possible to inverse affine-transformation
 	 */
 	public void loadwfl(String mapsPath, String thisMap) throws IOException, ArithmeticException {
-		FileInputStream instream = new FileInputStream (mapsPath + thisMap + ".wfl");
+		FileInputStream instream = new FileInputStream (CacheWolf.STRreplace.replace(mapsPath + thisMap + ".wfl", "//", "/"));
 		InputStreamReader in = new InputStreamReader(instream);
 		
 		String line = new String();
@@ -308,7 +309,7 @@
 	}
 
 	public void saveWFL() throws IOException, IllegalArgumentException {
-		File dateiF = new File(fileNameWFL);
+		File dateiF = new FileBugfix(fileNameWFL);
 		String tmp = dateiF.getDrivePath(); // contains the name and the extension
 		saveWFL(tmp, mapName);
 	}

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -5,6 +5,7 @@
 import CacheWolf.HttpConnection;
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
+import CacheWolf.STRreplace;
 import ewe.ui.*;
 import ewe.io.*;
 import ewe.fx.*;
@@ -68,7 +69,7 @@
 					progressBox.waitUntilPainted(500);
 					ewe.sys.Vm.showWait(true);
 				}
-				tempOMS = new WebMapService(wmspath + "/" + FileName);
+				tempOMS = new WebMapService(STRreplace.replace(wmspath + "/" + FileName, "//", "/"));
 				onlineMapServices.add(tempOMS);
 			}catch(Exception ex){ 
 				if (f == null) (f=new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4801, "Ignoring error while \n reading web map service definition file \n")+ex.toString(), FormBase.OKB)).exec();
@@ -250,7 +251,7 @@
 	//	this prevents gdz1.leipzig.ifag.de (dtk100) from answering and ist not necessary for expedia connImg.setRequestorProperty("Cookie", "jscript=1; path=/;");
 		connImg.documentIsEncoded = true;
 		try{
-			File dateiF = new File(datei);
+			File dateiF = new FileBugfix(datei);
 			if(!dateiF.exists()){
 				int i=0;
 				sockImg = connImg.connect();
@@ -276,7 +277,7 @@
 					throw new IOException(MyLocale.getMsg(4808, "downloadImage: content-type:")+" " + ct + MyLocale.getMsg(4809, " is not an image, begin of content:")+" " + tmp); 
 				}
 				daten = connImg.readData(sockImg);
-				fos = new FileOutputStream(dateiF);
+				fos = new FileOutputStream(datei); // note: using the constructor (File) instead of (String) will cause not to use the fake file system
 				fos.write(daten.toBytes());
 				fos.close();
 				sockImg.close();

Modified: trunk/src/utils/FileBugfix.java
===================================================================
--- trunk/src/utils/FileBugfix.java	2008-05-04 00:59:30 UTC (rev 1438)
+++ trunk/src/utils/FileBugfix.java	2008-05-04 11:55:53 UTC (rev 1439)
@@ -57,7 +57,7 @@
 		ewe.util.FileComparer [] fcs = new ewe.util.FileComparer[masks.length];
 
 		for (int i = 0; i<masks.length; i++)
-			fcs[i] = new FileComparer(this,ewe.sys.Vm.getLocale(),listAndSortOptions,masks[i]);
+			fcs[i] = new FileComparer(ewefile,ewe.sys.Vm.getLocale(),listAndSortOptions,masks[i]);
 		int left = found.length;
 		for (int i = 0; i<found.length; i++){
 			boolean matched = false;



From mik77 at mail.berlios.de  Sun May  4 15:23:28 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 4 May 2008 15:23:28 +0200
Subject: [Cachewolf-svn] r1440 - trunk/src/CacheWolf
Message-ID: <200805041323.m44DNSeP004149@sheep.berlios.de>

Author: mik77
Date: 2008-05-04 15:23:26 +0200 (Sun, 04 May 2008)
New Revision: 1440

Modified:
   trunk/src/CacheWolf/Filter.java
Log:
Don't filter out all Addis, when only Addi-Types are selected

Modified: trunk/src/CacheWolf/Filter.java
===================================================================
--- trunk/src/CacheWolf/Filter.java	2008-05-04 11:55:53 UTC (rev 1439)
+++ trunk/src/CacheWolf/Filter.java	2008-05-04 13:23:26 UTC (rev 1440)
@@ -49,6 +49,7 @@
 	private static final int WHERIGO = 262144;
 	private static final int TYPE_ALL=TRADITIONAL|MULTI|VIRTUAL|LETTER|EVENT|WEBCAM|MYSTERY|LOCLESS|CUSTOM
 	                                  |MEGA|EARTH|PARKING|STAGE|QUESTION|FINAL|TRAILHEAD|REFERENCE|CITO|WHERIGO;
+	private static final int TYPE_MAIN=TRADITIONAL|MULTI|VIRTUAL|LETTER|EVENT|WEBCAM|MYSTERY|LOCLESS|CUSTOM|MEGA|EARTH|CITO|WHERIGO;
 
 	private static final int N = 1;
 	private static final int NNE = 2;
@@ -511,12 +512,14 @@
 		} // for
 		// Ensure that for all main caches that are filtered, the addis are also filtered independently of 
 		// the filter status of the addi
-		for(int i = cacheDB.size()-1; i >=0 ; i--){
-			ch = (CacheHolder)cacheDB.get(i);
-			if (ch.mainCache!=null) {
-				// We have found an addi, filte it if its parent is filtered
-				ch.is_filtered|=ch.mainCache.is_filtered;
-			}
+		if ((typeMatchPattern & TYPE_MAIN) != 0){ //exception: don't filter out correxpnding Addis, if only Addis are enabled
+			for(int i = cacheDB.size()-1; i >=0 ; i--){
+				ch = (CacheHolder)cacheDB.get(i);
+				if (ch.mainCache!=null) {
+					// We have found an addi, filte it if its parent is filtered
+					ch.is_filtered|=ch.mainCache.is_filtered;
+				}
+			}			
 		}
 		Global.getProfile().filterActive=FILTER_ACTIVE;
 		Global.getProfile().filterInverted=false;



From mirabilos at mail.berlios.de  Sun May  4 16:08:46 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 4 May 2008 16:08:46 +0200
Subject: [Cachewolf-svn] r1441 - trunk/src/CacheWolf
Message-ID: <200805041408.m44E8kFf006663@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-04 16:08:46 +0200 (Sun, 04 May 2008)
New Revision: 1441

Modified:
   trunk/src/CacheWolf/PreferencesScreen.java
Log:
problem: font sizes are different on different platforms:
? windows: everything < 16 is too small
? pda: everything > 11 is too big for the display
? GTK+1.2: everything != 12 is unusable (yes, really)
? GTK+1.2: font size 11 is bigger than 12!
? GTK+2: everything != 12 looks weird, 16 is waay to big
? there are PDAs with only 240x240 screens
? with font size 12, the Preferences screen is too small (has scrollbars)

solution:
? make the preferences screen resizable
  ? tested by me on Lunix Ewe
  ? tested by Dr. Pfeffer on Win32 and PPC2003
? but Pfeffer says that, on the PDA, the preferences screen became
  slightly larger with that (interestingly not on Lunix Ewe), so
  do NOT make the change unless the screen is larger than 240 px
  in both width and height (XXX re-check this)


Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-05-04 13:23:26 UTC (rev 1440)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-05-04 14:08:46 UTC (rev 1441)
@@ -40,7 +40,8 @@
 		
 		pref = p;
 		this.title = MyLocale.getMsg(600,"Preferences");
-		//this.resizable = false;
+		if ((sw > 240) && (sh > 240))
+			this.resizable = true;
 		//this.moveable = true;
 		//this.windowFlagsToSet = Window.FLAG_MAXIMIZE;
 



From engywuck at mail.berlios.de  Sun May  4 16:20:51 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sun, 4 May 2008 16:20:51 +0200
Subject: [Cachewolf-svn] r1442 - trunk/src/CacheWolf
Message-ID: <200805041420.m44EKpxK007373@sheep.berlios.de>

Author: engywuck
Date: 2008-05-04 16:20:48 +0200 (Sun, 04 May 2008)
New Revision: 1442

Modified:
   trunk/src/CacheWolf/ProfilesForm.java
Log:
Scrollbar in ProfilesForm now sizes with font size.

Modified: trunk/src/CacheWolf/ProfilesForm.java
===================================================================
--- trunk/src/CacheWolf/ProfilesForm.java	2008-05-04 14:08:46 UTC (rev 1441)
+++ trunk/src/CacheWolf/ProfilesForm.java	2008-05-04 14:20:48 UTC (rev 1442)
@@ -35,6 +35,17 @@
 			}
 			super.doPaint(gr,area);
 		}
+
+		// Copied from BasicList.getScrollablePanel(), but exchanging
+		// the standard scroll bar with the fontsize sensitive one.
+		public ScrollablePanel getScrollablePanel()
+		{
+			dontAutoScroll = amScrolling = true;
+			ScrollablePanel sp = new MyScrollBarPanel(this);
+			sp.modify(0,TakeControlEvents);
+			return sp;
+		}
+		
 	}
 
 	private MyList choice;



From pfeffer at mail.berlios.de  Sun May  4 16:20:54 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Sun, 4 May 2008 16:20:54 +0200
Subject: [Cachewolf-svn] r1443 - trunk/src/CacheWolf
Message-ID: <200805041420.m44EKs2Z007386@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-04 16:20:52 +0200 (Sun, 04 May 2008)
New Revision: 1443

Modified:
   trunk/src/CacheWolf/Attribute.java
   trunk/src/CacheWolf/Preferences.java
Log:
Bug fix for my last commit: on PDA the pref.xml and attributs where searched for in the wrong directory - sorry for that

Modified: trunk/src/CacheWolf/Attribute.java
===================================================================
--- trunk/src/CacheWolf/Attribute.java	2008-05-04 14:20:48 UTC (rev 1442)
+++ trunk/src/CacheWolf/Attribute.java	2008-05-04 14:20:52 UTC (rev 1443)
@@ -1,6 +1,7 @@
 package CacheWolf;
 
 import ewe.fx.mImage;
+import ewe.io.File;
 import ewe.io.FileBase;
 
 /**
@@ -113,7 +114,7 @@
 			"firstaid-yes.gif"              //88 needs maintenance
 	};
 	private static mImage [] attributeImages=new mImage[89];
-	private static String IMAGEDIR=STRreplace.replace("attributes/", "//", "/");
+	private static String IMAGEDIR=STRreplace.replace(File.getProgramDirectory()+"/attributes/", "//", "/");
 	
 	public static String getImageDir() {
 		return IMAGEDIR; 

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-05-04 14:20:48 UTC (rev 1442)
+++ trunk/src/CacheWolf/Preferences.java	2008-05-04 14:20:52 UTC (rev 1443)
@@ -183,7 +183,7 @@
 	 */
 	public void readPrefFile(){
 		try{
-			String datei = "pref.xml"; // FileBase.getProgramDirectory() + "/" + "pref.xml";
+			String datei = STRreplace.replace(FileBase.getProgramDirectory() + "/pref.xml", "//", "/"); // this is necessary in case that the root dir is the program dir
 			datei = datei.replace('\\', '/');
 			ewe.io.Reader r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(datei));
 			parse(r);



From salzkammergut at mail.berlios.de  Sun May  4 19:13:26 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sun, 4 May 2008 19:13:26 +0200
Subject: [Cachewolf-svn] r1444 - trunk/src/CacheWolf
Message-ID: <200805041713.m44HDQqI010849@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-04 19:13:22 +0200 (Sun, 04 May 2008)
New Revision: 1444

Modified:
   trunk/src/CacheWolf/Parser.java
Log:
Fix for crosstotal problem with large numbers. 
See http://www.geoclub.de/viewtopic.php?f=40&t=24306
Crosstotals can now also be determined for strings - any non-numeric character is ignored.
For numeric arguments only integer values are allowed! 

Modified: trunk/src/CacheWolf/Parser.java
===================================================================
--- trunk/src/CacheWolf/Parser.java	2008-05-04 14:20:52 UTC (rev 1443)
+++ trunk/src/CacheWolf/Parser.java	2008-05-04 17:13:22 UTC (rev 1444)
@@ -281,8 +281,18 @@
 	private String popCalcStackAsString() {
 		String s;
 		if (calcStack.get(calcStack.size()-1) instanceof Double) {
-			s = ((java.lang.Double)calcStack.get(calcStack.size()-1)).toString().replace(',','.'); // always show numbers with decimal point;
-			if (s.endsWith(".0")) s=s.substring(0,s.length()-2);
+			java.lang.Double D=((java.lang.Double)calcStack.get(calcStack.size()-1));
+			// Double.toString() formats numbers > 1E7 and < 1E-3 with exponential notation
+			// For large integers we therefore use Longs  
+			double d=D.doubleValue();
+			// If the double is an integer and within range of longs, use Long
+			if (java.lang.Math.floor(d)==d && d<java.lang.Long.MAX_VALUE && d>java.lang.Long.MIN_VALUE) {
+				java.lang.Long L=new java.lang.Long((long)d);
+				s=L.toString();
+			} else { // Use the default Double format
+				s = D.toString().replace(',','.'); // always show numbers with decimal point;
+				if (s.endsWith(".0")) s=s.substring(0,s.length()-2);
+			}
 		} else
 			s = (String)calcStack.get(calcStack.size()-1);
 		calcStack.removeElementAt(calcStack.size()-1);
@@ -429,6 +439,11 @@
     	return Global.mainTab.nav.gpsPos.toString();
     }
     
+    /**
+     *  Crosstotal: Works for both strings and numbers. For strings any non-numeric character is ignored
+     *  Warning: When the number is non-integer or > 9223372036854775807, it is formatted using the E
+     *  notation, i.e. x.xxxxxxEyy. In this case the exponent yy is also included in the crosstotal 
+     */
     private double funcCrossTotal(int nargs) throws Exception {
     	int cycles=1;
 		if (nargs==2) cycles=(int)popCalcStackAsNumber(1);
@@ -442,8 +457,6 @@
 			for (int i=0; i<aString.length(); i++) {
 			   if (aString.charAt(i)>='0' && aString.charAt(i)<='9')
 			      a += aString.charAt(i)-'0';
-			   else
-				  break; // break at first non numeric character 
 			}
 			aString=Convert.toString(a);
     	} 



From mirabilos at mail.berlios.de  Sun May  4 21:29:21 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 4 May 2008 21:29:21 +0200
Subject: [Cachewolf-svn] r1445 - trunk/src/CacheWolf
Message-ID: <200805041929.m44JTLUa020646@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-04 21:29:20 +0200 (Sun, 04 May 2008)
New Revision: 1445

Modified:
   trunk/src/CacheWolf/PreferencesScreen.java
Log:
? and this is what I don?t like about C99 and Java?: you can
declare variables anywhere, not just at the beginning of a scope


Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-05-04 17:13:22 UTC (rev 1444)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-05-04 19:29:20 UTC (rev 1445)
@@ -36,6 +36,9 @@
 	String [] garminPorts= new String[]{"com1","com2","com3","com4","com5","com6","com7","usb"};
 	
 	public PreferencesScreen (Preferences p){
+		int sw = MyLocale.getScreenWidth();
+		int sh = MyLocale.getScreenHeight();
+
 		mTab=new mTabbedPanel();
 		
 		pref = p;
@@ -46,8 +49,6 @@
 		//this.windowFlagsToSet = Window.FLAG_MAXIMIZE;
 
 		// set dialog-width according to fontsize
-		int sw = MyLocale.getScreenWidth();
-		int sh = MyLocale.getScreenHeight();
 		if((pref.fontSize <= 13)||(sw <= 240)||(sh <= 240)){
 			setPreferredSize(240,240);
 		}



From pfeffer at mail.berlios.de  Tue May  6 00:29:07 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Tue, 6 May 2008 00:29:07 +0200
Subject: [Cachewolf-svn] r1446 - in trunk: res_noewe/languages
	src/CacheWolf/navi
Message-ID: <200805052229.m45MT7DM024024@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-06 00:29:04 +0200 (Tue, 06 May 2008)
New Revision: 1446

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/navi/GotoPanel.java
Log:
GotoPanel: small Bug fixed: refuse setting of center in the case that the GPS position is not set

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-05-04 19:29:20 UTC (rev 1445)
+++ trunk/res_noewe/languages/DE.cfg	2008-05-05 22:29:04 UTC (rev 1446)
@@ -357,6 +357,7 @@
 		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a 
 		1512=Wegpunkt
 		1513=Kann Karte nicht ohne g%fcltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew%e4hlten Cache eingeben oder GPS starten
+		1914=Kann Entfernungen nicht neuberechnen, weil keine GPS-Position gesetzt ist (kein GPS-Empfang ist/war)
 		1600=Opencaching.de Download
 		1601=max. Abstand:
 		1602=Bilder downloaden

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-05-04 19:29:20 UTC (rev 1445)
+++ trunk/res_noewe/languages/EN.cfg	2008-05-05 22:29:04 UTC (rev 1446)
@@ -358,6 +358,7 @@
 		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:%0a 
 		1512=Waypoint
 		1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination as center or in selected cache, or start GPS
+		1514=Cannot recalculate distances, because the GPS position is not set
 		1600=Opencahing.de Download
 		1601=Distance:
 		1602=Download Images

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-05-04 19:29:20 UTC (rev 1445)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-05-05 22:29:04 UTC (rev 1446)
@@ -395,10 +395,12 @@
 
 			// set current position as centre and recalculate distance of caches in MainTab 
 			if (ev.target == btnCenter){
+				if (myNavigation.gpsPos.isValid()) {
 				Vm.showWait(true);
 				pref.curCentrePt.set(myNavigation.gpsPos);
 				mainT.updateBearDist();
 				Vm.showWait(false);
+				} else (new MessageBox(MyLocale.getMsg(312, "Error"), MyLocale.getMsg(1514, "Cannot recalculate distances, because the GPS position is not set"), MessageBox.OKB)).execute();
 			}
 			//Start moving map
 			if (ev.target == btnMap){



From mirabilos at mail.berlios.de  Tue May  6 14:18:05 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Tue, 6 May 2008 14:18:05 +0200
Subject: [Cachewolf-svn] r1447 - trunk/res_noewe/languages
Message-ID: <200805061218.m46CI5j5022665@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-06 14:18:04 +0200 (Tue, 06 May 2008)
New Revision: 1447

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/NL.cfg
Log:
??? EN: fix a typo while here
??? DE: fix number (typo) from pfeffer in r1446
??? NL: translate some of the recent commits to the other languages
??? NL: ?? ??? %f6, ?? ??? %e9, etc. (XXX do this to FR too)


Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-05-05 22:29:04 UTC (rev 1446)
+++ trunk/res_noewe/languages/DE.cfg	2008-05-06 12:18:04 UTC (rev 1447)
@@ -357,7 +357,7 @@
 		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a 
 		1512=Wegpunkt
 		1513=Kann Karte nicht ohne g%fcltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew%e4hlten Cache eingeben oder GPS starten
-		1914=Kann Entfernungen nicht neuberechnen, weil keine GPS-Position gesetzt ist (kein GPS-Empfang ist/war)
+		1514=Kann Entfernungen nicht neuberechnen, weil keine GPS-Position gesetzt ist (kein GPS-Empfang ist/war)
 		1600=Opencaching.de Download
 		1601=max. Abstand:
 		1602=Bilder downloaden

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-05-05 22:29:04 UTC (rev 1446)
+++ trunk/res_noewe/languages/EN.cfg	2008-05-06 12:18:04 UTC (rev 1447)
@@ -353,7 +353,7 @@
 		1506=Map
 		1507=Coordinates are out of range:
 		1508=latitude
-		1509=longditue
+		1509=longitude
 		1510=No data from GPS%0aConnection to serial port closed
 		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:%0a 
 		1512=Waypoint

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-05-05 22:29:04 UTC (rev 1446)
+++ trunk/res_noewe/languages/NL.cfg	2008-05-06 12:18:04 UTC (rev 1447)
@@ -38,7 +38,7 @@
 		134=Gekozen Cache
 		139=Beheren Travelbugs
 		140=Organiseren
-		141=Kopi?ren
+		141=Kopi%ebren
 		142=Verplaatsen
 		143=Verwijderen
 		144=Waarschuwing
@@ -100,7 +100,7 @@
 		301=Grote:
 		302=Waypoint:
 		303=Naam:
-		304=Co?rdinaten:
+		304=Co%f6rdinaten:
 		305=Verborgen op:
 		306=Eigenaar:
 		307=Status:
@@ -131,7 +131,7 @@
 		342=Verwijderd
 		343=Niet genoeg geheugen om cache afbeeldingen te laden.
 		344=Verwijder afbeeldingen
-		345=Ga naar deze co?rdinaten.
+		345=Ga naar deze co%f6rdinaten.
 		346=Toon Travelbugs
 		347=Toon kaart
 		348=Eigen afbeeldingen toevoegen.
@@ -151,13 +151,13 @@
 		599=Checkbox
 		600=Voorkeuren
 		601=Jouw Nickname
-		602=Thuis co?rdinaten
+		602=Thuis co%f6rdinaten
 		603=Profiel map
 		604=Zoeken
 		605=Tabel kolommen
 		606=Moeilijkheidsgraad
 		607=Terrein
-		608=Co?rdinaten
+		608=Co%f6rdinaten
 		609=Eigenaar
 		610=Verborgen op
 		611=Status
@@ -245,7 +245,7 @@
 		1001=T
 		1002=Waypoint
 		1003=Naam
-		1004=Co?rdinaat
+		1004=Co%f6rdinaat
 		1005=Eigenaar
 		1006=Verborgen op
 		1007=Status
@@ -265,7 +265,7 @@
 		1022=Verwijder alle aangevinkte caches (.
 		1023=Deze functie is momenteel alleen beschikbaar voor geocaching.com.
 		1024=Afstand in lijst is~ten opzichte van de huidige positie~herberekend.
-		1025=Kan middelpunt niet toepassen (verkeerde GPS co?rdinaten).
+		1025=Kan middelpunt niet toepassen (verkeerde GPS co%f6rdinaten).
 		1028=)?
 		1029=Er zijn verwinkte maar niet zichtbare caches.%0a(Caches:+
         1030=, additionele Waypoints:+
@@ -309,12 +309,22 @@
 		1402=Easting
 		1403=Richting
 		1404=Afstand
-		1405=Om co?rdinaten te laden van GC, geef onder in GCxxxx.
-		1406=Geef co?rdinaten in (alle formaten mogelijk) of GCxxxx.
+		1405=Om co%f6rdinaten te laden van GC, geef onder in GCxxxx.
+		1406=Geef co%f6rdinaten in (alle formaten mogelijk) of GCxxxx.
 		1500=Doel:
 		1501=Huidig
 		1502=Graden
 		1503=Noord voor
+		1504=Start GPS
+		1505=Stop GPS
+		1506=Kaart
+		1507=Co%f6rdinaten ongeldig:
+		1508=breedtegraad
+		1509=lengtegraad
+		1510=Geen data van GPS%0aConnectie naar seri%eble port gesloten
+		1512=Wegpunt
+		1513=Kan moving map niet draaien zonder geldige co%f6rdinaten. Geef Centrums- of Doelco%f6rdinaten of start het GPS AUB.
+		1514=Kan afstanden niet opnieuw berekenen doordat er geen GPS positie gegeven is (geen receptie is/was)
 		1600=Download van Opencaching.de 
 		1601=Afstand:
 		1602=Download afbeeldingen
@@ -349,10 +359,10 @@
 		1709=Onbekende functie:
 		1710=Kan de lege string niet tellen.
 		1711=Gekopieerde karakter strings moeten van dezelfde lengte zijn.
-		1712=Ongeldige co?rdinaten:
-		1713=Ongeldig co?rdinaat formaat. Toegestaan zijn CW/DD/DMM/DMS/UTM
+		1712=Ongeldige co%f6rdinaten:
+		1713=Ongeldig co%f6rdinaat formaat. Toegestaan zijn CW/DD/DMM/DMS/UTM
 		1714=Ga naar: Waypoint bestaat niet:
-		1715=Instr: Start co?rdinaat niet in string.
+		1715=Instr: Start co%f6rdinaat niet in string.
 		1716=Mid: Geheel getal verwacht.
 		1717=Mid: Argument valt buiten de range.
 		1718=Kan geen negatieve afstand projecteren.
@@ -363,7 +373,7 @@
 		1725=Onverwachte karakter(s)
 		1726=Te veel argumenten voor deze functie.
 		1727=Ongeldig aantal argumenten.
-		1728=Functie niet ge?mplementeerd.
+		1728=Functie niet ge%efmplementeerd.
 		1729=Deling door 0.
 		1730=Oneindige string
 		1731=Ongeldig formaat karakters.
@@ -476,10 +486,10 @@
 		4105=Laden
 		4106=Kalibreert kaart
 		4107=Gebeurt!
-		4108=Co?rdinaten:
+		4108=Co%f6rdinaten:
 		4109=bezig kaarten te laden..
 		4110=Bezig met laden
-		4111=Co?rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
+		4111=Co%f6rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
 		4200=Kies kaarten map
 		4500=Tot:
 		4501=Vis:
@@ -498,7 +508,7 @@
 		5506=Password
 		5507=Status
 		5508=Bezig met inloggen...
-		5509=Co?rdinaten voor middelpunt moeten worden ingegeven.
+		5509=Co%f6rdinaten voor middelpunt moeten worden ingegeven.
 		5510=Spider options
 		5511=Gevonden+
 		5512=+caches
@@ -522,7 +532,7 @@
 		6018=Naam Travelbug
 		6019=Tracking nummer
 		6020=Travelbug niet gevonden
-		6021=Meer dan ??n Travelbug gevonden. Specificeer de namen duidelijker.
+		6021=Meer dan %e9%e9n Travelbug gevonden. Specificeer de namen duidelijker.
 		6022=:Huidige cache:+
 		6025=Naam:
 		6026=Tracking #:



From engywuck at mail.berlios.de  Tue May  6 18:54:19 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Tue, 6 May 2008 18:54:19 +0200
Subject: [Cachewolf-svn] r1448 - trunk/src/CacheWolf
Message-ID: <200805061654.m46GsJEr021994@sheep.berlios.de>

Author: engywuck
Date: 2008-05-06 18:54:13 +0200 (Tue, 06 May 2008)
New Revision: 1448

Modified:
   trunk/src/CacheWolf/TablePanel.java
Log:
Verbesserung: Wird ein selektierter Cache ausgefiltert (Filter/Blacklist), so wird n?chste selektierte Cache der erste vor dem letzten in der Liste, der noch sichtbar ist. (http://www.geoclub.de/viewtopic.php?p=384086)

Modified: trunk/src/CacheWolf/TablePanel.java
===================================================================
--- trunk/src/CacheWolf/TablePanel.java	2008-05-06 12:18:04 UTC (rev 1447)
+++ trunk/src/CacheWolf/TablePanel.java	2008-05-06 16:54:13 UTC (rev 1448)
@@ -97,19 +97,39 @@
 	/** Move all filtered caches to the end of the table and redisplay table */
 	//TODO Add a sort here to restore the sort after a filter
 	public void refreshTable(){
+		
+		// First: Remember currently selected waypoint
 		String wayPoint;
+		Vector oldVisibleCaches = null;
 		int sel = getSelectedCache();
 		if ((sel >= 0) && (sel < cacheDB.size()) ) // sel > cacheDB.size() can happen if you load a new profile, which is smaller than the old profile and you selected one cache that exceeds the number of caches in the new profile  
 			wayPoint = ((CacheHolder)cacheDB.get(sel)).wayPoint;
 		else wayPoint = null;
+		// Then: remember all caches that are visible before the refresh
+		if (wayPoint != null) {
+	        oldVisibleCaches = new Vector(sel);
+	        for (int i = 0; i < sel; i++) {
+		        oldVisibleCaches.add(cacheDB.get(i));
+	        }
+        }
 		myMod.updateRows();
 
 		// Check whether the currently selected cache is still visible
 		int rownum = 0;
 		if (wayPoint != null) {
 			rownum = Global.getProfile().getCacheIndex(wayPoint);
-			if ( (rownum < 0) || (rownum>=myMod.numRows) )
-				rownum = 0;	
+			if ( (rownum < 0) || (rownum>=myMod.numRows) ) {
+				// If it is not visible: Go backward in the list of the 
+				// previously visible caches and look if you find
+				// any cache that is now still visible.
+				int i;
+				for (i=sel-1; i>=0; i--) {
+					CacheHolder checkCache = (CacheHolder) oldVisibleCaches.get(i);
+					rownum = Global.getProfile().getCacheIndex(checkCache.wayPoint);
+					if ((rownum >= 0) && (rownum < myMod.numRows)) break;
+					rownum = 0;	
+				}
+			}	
 		}
 		selectRow(rownum);
 



From cw-manual at mail.berlios.de  Fri May  9 00:20:59 2008
From: cw-manual at mail.berlios.de (cw-manual at mail.berlios.de)
Date: Fri, 9 May 2008 00:20:59 +0200
Subject: [Cachewolf-svn] r1449 - trunk/docs/CacheWolf Doku
Message-ID: <200805082220.m48MKx1b022365@sheep.berlios.de>

Author: cw-manual
Date: 2008-05-09 00:20:52 +0200 (Fri, 09 May 2008)
New Revision: 1449

Modified:
   trunk/docs/CacheWolf Doku/Installation.xml
Log:
lahmer: Worked on grammar, writing, and some content stuff of installation chapter.

Modified: trunk/docs/CacheWolf Doku/Installation.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Installation.xml	2008-05-06 16:54:13 UTC (rev 1448)
+++ trunk/docs/CacheWolf Doku/Installation.xml	2008-05-08 22:20:52 UTC (rev 1449)
@@ -124,70 +124,78 @@
 
         <para>* Hast Du eine Ger?t, da? Du in der zweiten H?lfte 2004 gekauft
         hast, dann solltest Du die "PocketPC" Version von CacheWolf
-        installieren. Beispiele (von Nutzern): PocketPCArm: XDA Trion,
-        ASUS632,Yakumo Delta GPS, Loox N520, Compaq IPAQ 6915, Medion
-        MDPPC250, FSC Loox N560, Dell Axim X51V, Yakumo DeltaX5BT, Acer N35
-        PocketPC: Loox N520, Mio Digi Walker P550 Zaurus: Sharp
-        SL-C1000</para>
+        installieren. Beispiele (von Nutzern):</para>
 
+        <para>** PocketPCArm: XDA Trion, ASUS632,Yakumo Delta GPS, Loox N520,
+        Compaq IPAQ 6915, Medion MDPPC250, FSC Loox N560, Dell Axim X51V,
+        Yakumo DeltaX5BT, Acer N35</para>
+
+        <para>** PocketPC: Loox N520, Mio Digi Walker P550</para>
+
+        <para>** Zaurus: Sharp SL-C1000</para>
+
         <para>Sagt dir das alles gar nichts probier einfach die Versionen
         durch - eine wird auf jeden Fall funktionieren!</para>
       </highlights>
 
-      <para>Die Installation ist ein mehrstufiger Prozess:</para>
+      <section>
+        <title>Installation</title>
 
-      <itemizedlist>
-        <listitem>
-          <para>Zuerst muss die EWE VM (Virtual Machine) installiert
-          werden:</para>
+        <itemizedlist>
+          <para>Die Installation ist ein mehrstufiger Prozess:</para>
 
-          <itemizedlist>
-            <listitem>
-              <para>EWE VM unter
-              <uri>http://www.ewesoft.com/Downloads/Downloads.html#_Toc105819897</uri>
-              herunterladen.</para>
+          <listitem>
+            <para>Zuerst muss die EWE VM (Virtual Machine) installiert
+            werden:</para>
 
-              <para>Hier darauf achten, die richtige Version ("Low Resolution"
-              f?r normale PDA's oder "High Resolution" f?r VGA-PDA's zu
-              laden.</para>
-            </listitem>
+            <itemizedlist>
+              <listitem>
+                <para>EWE VM unter
+                <uri>http://www.ewesoft.com/Downloads/Downloads.html#_Toc105819897</uri>
+                herunterladen.</para>
 
-            <listitem>
-              <para>Installation der VM wie unter dem Download Link
-              beschrieben: die cab-Datei auf den PDA ?bertragen (mittels
-              Speicherkarte oder ActiveSync) und dann auf dem PDA
-              ausf?hren.</para>
-            </listitem>
+                <para>Hier darauf achten, die richtige Version ("Low
+                Resolution" f?r normale PDA's oder "High Resolution" f?r
+                VGA-PDA's) zu laden.</para>
+              </listitem>
 
-            <listitem>
-              <para>Nach erfolgter Installation unter Start -&gt; Programme
-              -&gt; EWE das Programm EWE starten. Damit werden noch notwendige
-              Systemeintr?ge gemacht und die VM ist nun funktionsf?hig. Das
-              Programm wieder schlie?en und die Funktion ?berpr?fen, indem
-              eines der beiligenden Programme (z.B. Solitaire) gestartet
-              wird.</para>
-            </listitem>
-          </itemizedlist>
-        </listitem>
+              <listitem>
+                <para>Installation der VM wie unter dem Download-Link
+                beschrieben: die .cab-Datei auf den PDA ?bertragen (mittels
+                Speicherkarte oder ActiveSync) und dann auf dem PDA
+                ausf?hren.</para>
+              </listitem>
 
-        <listitem>
-          <para>Die entsprechende CacheWolf .zip-Datei auf dem PC
-          entpacken.</para>
-        </listitem>
+              <listitem>
+                <para>Nach erfolgter Installation unter Start -&gt; Programme
+                -&gt; EWE das Programm EWE starten. Damit werden noch
+                notwendige Systemeintr?ge gemacht und die VM ist nun
+                funktionsf?hig. Das Programm wieder schlie?en und die Funktion
+                ?berpr?fen, indem eines der beiligenden Programme (z.B.
+                Solitaire) gestartet wird.</para>
+              </listitem>
+            </itemizedlist>
+          </listitem>
 
-        <listitem>
-          <para>Die ganzen Dateien dann auf den PocketPC in ein Verzeichnis
-          deiner Wahl kopiert werden.</para>
-        </listitem>
+          <listitem>
+            <para>Die entsprechende CacheWolf .zip-Datei auf dem PC
+            entpacken.</para>
+          </listitem>
 
-        <listitem>
-          <para>Nach dem Kopieren wird CacheWolf durch Klick auf die
-          Cachewolf.exe gestartet.</para>
-        </listitem>
-      </itemizedlist>
+          <listitem>
+            <para>Die ganzen Dateien dann auf den PocketPC in ein Verzeichnis
+            deiner Wahl kopiert werden.</para>
+          </listitem>
 
-      <para></para>
+          <listitem>
+            <para>Nach dem Kopieren wird CacheWolf durch Klick auf die
+            Cachewolf.exe gestartet.</para>
+          </listitem>
+        </itemizedlist>
 
+        <para></para>
+      </section>
+
       <section>
         <title>Wichtige Information zur Nutzung von GPS Empf?ngern</title>
 
@@ -198,21 +206,21 @@
           <listitem>
             <para><emphasis role="bold">Zugriff auf GPS:</emphasis> Solltest
             du neben dem CW noch weitere Software einsetzen (z.B.
-            Navi-Software), die Zugriff auf das GPS haben will so kann es (je
-            nach Software und PDA) vorkommen dass diese Software - einmal
+            Navi-Software), die Zugriff auf das GPS haben will, so kann es (je
+            nach Software und PDA) vorkommen, dass diese Software - einmal
             gestartet - den Zugriff auf das GPS exklusiv nimmt und andere
             Programme das nachsehen haben (auch wenn z.B. die Navi-Software
-            gerade nicht mehr l?uft!) \\ Die L?sung besteht darin, das
+            gerade nicht mehr l?uft!). Die L?sung besteht darin, das
             GPS-Signal zu splitten, was beispielsweise der VirtCommMgr
             kann.</para>
           </listitem>
 
           <listitem>
             <para><emphasis role="bold">Static Navigation:</emphasis> dies
-            bezeichnet ein "Feature" f?r Navis, die die Routenf?hrung aussetzt
-            wenn man sich langsamer als 6 km/h bewegt. F?rs cachen nat?rlich
-            etwas doof, aber man kann es (ohne Nebenwirkungen f?r
-            Navi-Software) abschalten - z.B. mittels des Programms
+            bezeichnet ein "Feature" f?r Navis, die die Routenf?hrung
+            aussetzt, wenn man sich langsamer als 6 km/h bewegt. F?rs Cachen
+            nat?rlich etwas ung?nstig, aber man kann es (ohne Nebenwirkungen
+            f?r Navi-Software) abschalten - z.B. mittels des Programms
             SirfTech.</para>
           </listitem>
         </orderedlist>



From mirabilos at mail.berlios.de  Fri May  9 00:29:00 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Fri, 9 May 2008 00:29:00 +0200
Subject: [Cachewolf-svn] r1450 - trunk/docs/CacheWolf Doku
Message-ID: <200805082229.m48MT0i8022824@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-09 00:29:00 +0200 (Fri, 09 May 2008)
New Revision: 1450

Modified:
   trunk/docs/CacheWolf Doku/Installation.xml
Log:
http://linuxwiki.de/ApoStrophen


Modified: trunk/docs/CacheWolf Doku/Installation.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Installation.xml	2008-05-08 22:20:52 UTC (rev 1449)
+++ trunk/docs/CacheWolf Doku/Installation.xml	2008-05-08 22:29:00 UTC (rev 1450)
@@ -89,9 +89,9 @@
     <section>
       <title>Pocket PC</title>
 
-      <para>Der Cachewolf l?uft auf PocketPC's ?ber eine sogenannte virtuelle
+      <para>Der Cachewolf l?uft auf PocketPCs ?ber eine sogenannte virtuelle
       Maschine (EWE VM). Diese stellt die Grundlage aller Funktionen des CW
-      dar und dadurch l?uft er auf fast allen PocketPC's.</para>
+      dar und dadurch l?uft er auf fast allen PocketPCs.</para>
 
       <para>Es existieren zwei optimierte Versionen von Cachewolf f?r den
       PocketPC: f?r Ger?te mit ARM-Prozessor und f?r Ger?te mit
@@ -155,8 +155,8 @@
                 herunterladen.</para>
 
                 <para>Hier darauf achten, die richtige Version ("Low
-                Resolution" f?r normale PDA's oder "High Resolution" f?r
-                VGA-PDA's) zu laden.</para>
+                Resolution" f?r normale PDAs oder "High Resolution" f?r
+                VGA-PDAs) zu laden.</para>
               </listitem>
 
               <listitem>



From mirabilos at mail.berlios.de  Sun May 11 18:39:34 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Sun, 11 May 2008 18:39:34 +0200
Subject: [Cachewolf-svn] r1451 - trunk/src/utils
Message-ID: <200805111639.m4BGdYAe018039@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-11 18:39:32 +0200 (Sun, 11 May 2008)
New Revision: 1451

Modified:
   trunk/src/utils/CWWrapper.java
Log:
maybe fix browser open on Win32 and WinCE, please test


Modified: trunk/src/utils/CWWrapper.java
===================================================================
--- trunk/src/utils/CWWrapper.java	2008-05-08 22:29:00 UTC (rev 1450)
+++ trunk/src/utils/CWWrapper.java	2008-05-11 16:39:32 UTC (rev 1451)
@@ -2,27 +2,33 @@
 import ewe.sys.*;
 
 /**
- * Class built as a wrapper for the buggy Vm.exec
+ * Class built as a wrapper for the buggy^Winconsistent Vm.exec
  * in EWE Version 1.49
  * It identifies the plattform and uses a different call
  * to Vm.exec() depending on the plattform.
  * Bugs identified:
- * ewe.jar: cmd needs quoting, args are whitespace-split
- * Ewe VM:  cmd must not be quoted, args can be only one
+ * ewe.jar: cmd needs quoting, arg are whitespace-split
+ * Unix VM: cmd must not be quoted, arg can be only one
+ * Win* VM: cmd may be quoted, arg are whitespace-split
  */
 public class CWWrapper {
 	/**
-	 * It doesn't work at all on Loox N520 with WM 5 :-(
+	 * Apply needed quotes around the command or the argument,
+	 * then call Vm.exec() appropriately.
 	 * @param cmd
-	 * @param args
+	 * @param arg (only one argument)
 	 * @throws ewe.io.IOException
 	 */
-	public static void exec(String cmd, String args) throws ewe.io.IOException{
-		if (Vm.getPlatform().equals("Java")) {
+	public static void exec(String cmd, String arg) throws ewe.io.IOException{
+		if (Vm.getPlatform().equals("WinCE") ||
+		    Vm.getPlatform().equals("Win32")) {
+			/* we need extra quotes here, see vm/nmwin32_c.c */
+			arg = "\"" + arg + "\"";
+		} else if (Vm.getPlatform().equals("Java")) {
 			/* we need extra quotes here, see ewe/sys/Vm.java */
 			cmd = "\"" + cmd + "\"";
-			args = "\"" + args + "\"";
+			arg = "\"" + arg + "\"";
 		}
-		Vm.exec(cmd, args, 0, false);
+		Vm.exec(cmd, arg, 0, false);
 	}
 }



From cw-manual at mail.berlios.de  Mon May 12 00:05:49 2008
From: cw-manual at mail.berlios.de (cw-manual at mail.berlios.de)
Date: Mon, 12 May 2008 00:05:49 +0200
Subject: [Cachewolf-svn] r1452 - trunk/docs/CacheWolf Doku
Message-ID: <200805112205.m4BM5nKp030891@sheep.berlios.de>

Author: cw-manual
Date: 2008-05-12 00:05:34 +0200 (Mon, 12 May 2008)
New Revision: 1452

Modified:
   trunk/docs/CacheWolf Doku/Der erste Start.xml
Log:
lahmer: Worked on grammar, writing, and some content stuff of chapter Der erste Start.
        Had some problems with file encoding.

Modified: trunk/docs/CacheWolf Doku/Der erste Start.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-05-11 16:39:32 UTC (rev 1451)
+++ trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-05-11 22:05:34 UTC (rev 1452)
@@ -1,443 +1,469 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<chapter>
-  <chapterinfo>
-    <title>Der erste Start</title>
-
-    <date>12.3.2008</date>
-
-    <releaseinfo>CacheWolf 1.0</releaseinfo>
-
-    <author>
-      <surname>Marc Schnitzler</surname>
-    </author>
-
-    <revhistory>
-      <revision>
-        <revnumber>0.1</revnumber>
-
-        <date>7. September 2007</date>
-
-        <author>
-          <surname>Marc Schnitzler</surname>
-        </author>
-
-        <revdescription>
-          <para>Erster Entwurf, kopiert www.cachewolf.de</para>
-        </revdescription>
-      </revision>
-
-      <revision>
-        <revnumber>0.2</revnumber>
-
-        <date>14. November 2007</date>
-
-        <author>
-          <surname>Marc Schnitzler</surname>
-        </author>
-
-        <revdescription>
-          <para>Alles Relevante f??r diesen Abschnitt von cachewolf.de
-          kopiert</para>
-        </revdescription>
-      </revision>
-
-      <revision>
-        <revnumber>0.99</revnumber>
-
-        <date>12. M??rz 2008</date>
-
-        <author>
-          <surname>Marc Schnitzler</surname>
-        </author>
-
-        <revdescription>
-          <para>Kapitel fertig.</para>
-        </revdescription>
-      </revision>
-    </revhistory>
-  </chapterinfo>
-
-  <title>Der erste Start</title>
-
-  <section>
-    <title id="start">Programmstart</title>
-
-    <para>Wenn man CacheWolf zum ersten Mal startet, erscheint erst folgendes
-    Bild:</para>
-
-    <para><inlinemediaobject>
-        <imageobject>
-          <imagedata fileref="pics/lade_liste.jpg" />
-        </imageobject>
-      </inlinemediaobject></para>
-
-    <para>kurz darauf der Dateidialog</para>
-
-    <para><inlinemediaobject>
-        <imageobject>
-          <imagedata fileref="pics/basisverzeichnis.gif" />
-        </imageobject>
-      </inlinemediaobject></para>
-
-    <para>Dieser fordert dich nun auf, das Datenverzeichnis f??r CacheWolf
-    auszuw??hlen f??r die noch kommenden Cache-Daten und die Karten. Die Idee
-    dahinter ist folgende: In diesem Verzeichnis kannst du beliebig viele
-    Unterordner anlegen; jeder dieser Ordner ist ein eigenes Profil (siehe:
-    <xref linkend="profil" />) innerhalb des Cachewolf.</para>
-
-    <tip>
-      <para>Auf einem PocketPC kannst du dieses Verzeichnis auf die
-      Speicherkarte legen (den CW am besten auf dem Ger??t oder der Flash-Disk
-      ablegen).</para>
-    </tip>
-
-    <para>W??hle nun ein Verzeichnis aus und best??tige mit <literal>Select
-    Folder</literal></para>
-
-    <para>Danach erscheint der Dialog zur Auswahl eines Profils. In einem
-    Profil werden in der Regel die Daten einer Cache-Gegend gespeichert. Lege
-    ein neues Profil durch klick auf "neu" an, gebe einen Namen ein,
-    beispielsweise den Namen der Stadt, in deren Gegend Du Caches suchen
-    willst. Danach erscheint ein Dialog, in dem die Koordinaten des
-    Mittelpunktes eingegeben werden sollen, um die herum die Caches dieses
-    Profils liegen (Zentrum).</para>
-  </section>
-
-  <section>
-    <title id="editPrefs">Einstellen der Pr??ferenzen</title>
-
-    <para>Es erscheint nun ein bisher leeres Fenster, die
-    Listenansicht:</para>
-
-    <para><inlinemediaobject>
-        <imageobject>
-          <imagedata fileref="pics/cw_empty.jpg" width="600" />
-        </imageobject>
-      </inlinemediaobject></para>
-
-    <para>Keine Angst, wir f??llen dieses gleich...</para>
-
-    <para>Doch zuerst einmal w??hle den Men??punkt <literal>Anwendung -&gt;
-    Pr??ferenzen</literal>, hier stellen wir nun ein paar grunds??tzliche Dinge
-    ein:</para>
-
-    <para></para>
-
-    <section>
-      <title>Einstellung Allgemein</title>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_1.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>Dieser Tab enth??lt einige Einstellungen. Was die Einstellung f??r
-      Profile bewirkt, ist hier <xref linkend="start" /> schon beschrieben
-      worden. Wenn, der Hacken bei <literal>Profil auto. laden</literal>
-      gesetzt wurde, erscheint beim n??chsten und alle weiteren Starts von
-      CacheWolf der Profil-Abfrageschirm</para>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/startup.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>nicht mehr.</para>
-
-      <para>Bei Browser kannst Du einen Link zu dem Browserprogramm Deiner
-      Wahl einf??gen.</para>
-
-      <example>
-        <title>Link zum Browser</title>
-
-        <para>Der Internet Explorer unter Windows: <literal>C:\Documents and
-        Settings\USER\Application Data\Microsoft\Internet Explorer\Quick
-        Launch</literal></para>
-      </example>
-
-      <para>Unter <literal>Dein Alias</literal> und <literal>Passwt</literal>
-      kannst Du Deine Zugangsdaten zu <literal>geocaching.com</literal>
-      hinterlegen. <emphasis role="bold">Achtung!</emphasis> Dein Passwort
-      wird nicht verschl??sselt hinterlegt. Im Zweifel solltest Du Dein
-      Passwort hier nicht eingeben. CacheWolf wird beim n??chsten einloggen
-      nach Deinem Passwort fragen.</para>
-
-      <para>Mit CacheWolf ist es m??glich Caches direkt an Deinen GPS Empf??nger
-      zu senden (siehe auch <xref linkend="zu_garmin" />). Unter
-      <literal>GPSBabel</literal> l????t sich der Port einstellen, der von
-      GPSBabel beim Export genutzt werden soll. Der gesetzte Hacken bei
-      Kurznamen sorgt daf??r, das nicht die Waypointnamen an den Empf??nger
-      geschickt werden sondern der etwas verk??rzte Cachename (Biespiel: Grosse
-      Dose wird zu Grsse Dse).</para>
-
-      <para>Durch einen Klick auf den <literal>GPS</literal> Button wird der
-      Schirm zur Einstellung des GPS Empf??ngers angezeigt:</para>
-
-      <section>
-        <title>GPS Einstelungen</title>
-
-        <para></para>
-
-        <para><inlinemediaobject>
-            <imageobject>
-              <imagedata fileref="pics/GPS.jpg" />
-            </imageobject>
-          </inlinemediaobject></para>
-
-        <para>Am besten jetzt auf <literal>Update Ports</literal> klicken.
-        Damit ermittelt CacheWolf welche Ports auf dem PDA zur verf??gung
-        stehen. Danach den Port des GPS Empf??ngers einstellen. Bei
-        <literal>Baud</literal> die Geschwindigkeit des Empf??ngers einstellen;
-        4800 passt in der Regel. Durch einen Klick auf <literal>Test</literal>
-        kannst Du ??berpr??fen, ob eine Verbindung zum Empf??nger besteht. Vorher
-        bitte sicherstellen, dass der Empf??nger angeschaltet ist. Mit
-        <literal>OK</literal> die Einstellungen best??tigen.</para>
-      </section>
-    </section>
-
-    <section>
-      <title>Einstellung Ansicht</title>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_2.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>In diesem Tab kannst Du weitere Look &amp; Feel Einstellungen in
-      CacheWolf vornehmen.</para>
-
-      <para>Bei <literal>Font</literal> stellst Du die allgemeine
-      Schriftgr??sse ein, die CacheWolf benutzt. Der Hacken bei <literal>PDA
-      hat Schliessen Button</literal> hat zur Folge, dass auf dem PDA rechts
-      oben im CacheWolf Fenster ein "X" erscheint. Klickst Du auf dieses "X"
-      wird CacheWolf beendet, und aus dem Speicher entfernt.</para>
-
-      <para>Der Hacken neben <literal>Men?? oben</literal> setzt die
-      Men??eintr??ge im PDA oben, ansonsten erscheinen diese unten :-) Das Selbe
-      gilt f??r <literal>Tabs oben</literal>. Ein Hacken hier setzt die Tabs in
-      den Ansichten oben. Der Hacken bei <literal>Status</literal> bewirkt,
-      dass CacheWolf eine Statusleiste in der Listenansicht (siehe <xref
-      linkend="liste" />) anzeigt.</para>
-    </section>
-
-    <section>
-      <title>Einstellung Mehr</title>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_3.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>In diesem Tab k??nnen Proxydaten eingegeben werden. Durch setzen
-      des Hackens bei "Proxy verwenden" werden diese Daten beim n??chsten
-      Zugriff ins Internet genutzt.</para>
-
-      <para>CacheWolf kennt aktuell drei Sprachen:</para>
-
-      <itemizedlist>
-        <listitem>
-          <para>DE = Deutsch,</para>
-        </listitem>
-
-        <listitem>
-          <para>EN = Englisch,</para>
-        </listitem>
-
-        <listitem>
-          <para>NL = Niederl??ndisch.</para>
-        </listitem>
-      </itemizedlist>
-
-      <para>Um die Sprache zu ??ndern muss das Zweibuchstabenk??rzel eingegeben
-      werden. Nach einem Neustart wird die eingestellte Sprache
-      benutzt.</para>
-    </section>
-
-    <section>
-      <title id="einstellungListe">Einstellung Liste</title>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_4.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>In diesem Tab kannst Du einstellen, welche Spalten, in welcher
-      Reihenfolge in der Listenansicht (siehe <xref linkend="liste" />)
-      angezeigt werden sollen.</para>
-
-      <tip>
-        <para>Weniger Spalten beschleunigen das Scrollen auf dem PDA.</para>
-      </tip>
-    </section>
-
-    <section>
-      <title>Einstellung T-Bugs</title>
-
-      <para>CacheWolf besitzt eine integrierte Travelbug - Verwaltung (siehe
-      <xref linkend="tbugs_verwalten" />).</para>
-
-      <para>In diesem Tab kannst Du einstellen, welche Spalten, in welcher
-      Reihenfolge in der Travelbugtabelle angezeigt werden sollen.</para>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_5.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para></para>
-    </section>
-  </section>
-
-  <section>
-    <title>Cachedaten bekommen</title>
-
-    <para>Programm l??uft, Pr??ferenzen eingestellt? Gut! Jetzt m??ssen wir noch
-    an Cache???Daten kommen. CacheWolf liesst GPX Dateien ein. Diese k??nnen
-    entweder von <ulink url="http://www.geocaching.com">Geocaching.com</ulink>
-    oder von <ulink url="http://www.opencaching.de">Opencaching.de</ulink>
-    kommen.</para>
-
-    <section>
-      <title>Geocaching.com</title>
-
-      <para>Es gibt verschiedene M??glichkeiten an die Daten bei geocaching.com
-      zu kommen: Entweder durch den Import einer GPX Datei, einer LOC Datei
-      oder direkt durch herunterladen von der geocaching.com Webseite
-      (spidern).</para>
-
-      <section>
-        <title>Import einer GPX Datei</title>
-
-        <para>Um an Geocaching.com GPX-Dateien zu kommen, muss man leider
-        Premium???Mitglied sein. Diese Dateien werden per Mail verschickt. Die
-        Dateien k??nnen einfach in ein Verzeichnis abgelegt werden. Die Dateien
-        m??ssen nicht entpackt werden.</para>
-
-        <para>Den Import startest Du durch anw??hlen von "<literal>Anwendung
-        -&gt; Import -&gt; Importiere GPX</literal>". Du kannst eine Datei
-        oder mit der Verwendung der Umschalt - Taste mehrere Dateien
-        ausw??hlen.</para>
-
-        <para>Nach der Wahl der Datei, die du importieren m??chtest, bekommst
-        du die Frage, ob Du auch Bilder und herunterladen m??chtest:</para>
-
-        <para><inlinemediaobject>
-            <imageobject>
-              <imagedata fileref="pics/gpx_import_bilder.jpg" />
-            </imageobject>
-          </inlinemediaobject></para>
-
-        <para>Aktivierst du diese Option(en), solltest du eine bestehende
-        Verbindung ins Internet haben. Hast Du die Option "Bilder" angekreuzt
-        wird CacheWolf beim Einlesen der GPX???Datei auf der Cacheseite
-        nachschauen, ob Bilder in der Beschreibung bzw. ob Spoilerbilder
-        vorhanden sind. Diese werden heruntergeladen. Das Herunterladen von
-        Bildern ben??tigt etwas Zeit.</para>
-
-        <para><note>
-            <para>Leider werden von geocaching.com in der GPX - Datei nur die
-            "Additional Waypoints" mitgeschickt, die auch eine g??ltige
-            Koordinate haben. Das Dilemma ist aber, dass bei den meisten
-            Multis, diese Koordinaten erst ermittelt werden m??ssen.
-            Normalerweise stellt dies noch immer kein Problem dar; aber einige
-            Geocacher beschreiben die einzelnen Stationen innerhalb der
-            "Additional Waypoints", da diese aber keine Koordinaten haben und
-            nicht in der GPX Datei nicht mitgeschickt werden, fehlen vitale
-            Informationen. Dem kann aber abgeholfen werden: CacheWolf bietet
-            die M??glichkeit, einzelne Caches aktualisieren zu k??nnen und hier
-            werden auch die Additional Waypoints direkt von der Cacheseite
-            geladen, die keine Koordinaten haben (siehe <xref
-            linkend="list_popup" />).</para>
-          </note></para>
-      </section>
-
-      <section>
-        <title>Import einer LOC Datei</title>
-
-        <para>Der Import von LOC-Dateien geschieht auch ??ber den Men??punkt
-        "Importiere GPX". In den LOC-Dateien sind allerdings sehr wenig
-        Informationen enthalten, insbesondere fehlt die Beschreibung des
-        Caches.</para>
-      </section>
-
-      <section>
-        <title>Direktes herunterladen (spidern)</title>
-
-        <para>Durch anw??hlen von <literal>Anwendung -&gt; Import -&gt; Spider
-        von geocaching.com</literal> wirst Du zuerst aufgefordert Dein
-        Passwort einzugeben. Dies ist das gleiche Passwort, wie Du f??r Dein
-        Account bei geocaching.com nutzt. Dein Alias hast Du ja bereits in den
-        Pr??ferenzen eingetragen. Nach der Eingabe Deines Passwortes loggt sich
-        CacheWolf auf der geocaching.com Homepage ein und pr??sentiert dann die
-        SPideroptionen:</para>
-
-        <para><inlinemediaobject>
-            <imageobject>
-              <imagedata fileref="pics/spider_gc.jpg" />
-            </imageobject>
-          </inlinemediaobject></para>
-
-        <para>Unter <literal>max. Abstand</literal> wird die Entfernung zum
-        aktuellem Zentrum eingestellt (siehe <xref linkend="zentrum" />).
-        Cachewolf wird alle Caches im Umkreis von dem Zentrum herunterladen.
-        Wird der Hacken bei <literal>Bilder downloaden</literal> gesetzt, wird
-        Cachewolf die Bilder in der Cachebeschreibung als auch die
-        Spoilerbilder herunterladen.</para>
-
-        <para>Mit <literal>OK</literal> wird der Spider gestartet. Je nach
-        Entfernung und Cachedichte wird das Spidern nun einige Zeit in
-        Anspruch nehmen.</para>
-      </section>
-    </section>
-
-    <section>
-      <title>Opencaching.de</title>
-
-      <para></para>
-
-      <orderedlist>
-        <listitem>
-          <para>Einlesen einer bereits heruntergeladenen GPX-Datei:</para>
-
-          <para>Auf der Seite von Opencaching.de hat man die Option eine
-          GPX???Datei herunterzuladen. Diese Option befindet sich am Ende der
-          Suchergebnisseite. Die ZIP-Datei einfach in irgendein Verzeichnis
-          kopieren. Der GPX???Import erkennt automatisch dieses Format. Es ist
-          nicht notwendig die Datei zu entpacken! Bei opencaching.de werden in
-          der aktuellen Version alle Bilder geladen.</para>
-        </listitem>
-
-        <listitem>
-          <para>Direkter Download von opencaching.de:</para>
-
-          <para>Mit der Funktion "<literal>Anwendung -&gt; Import -&gt;
-          Download von opencaching.de</literal>" ??ffnet sich ein Dialog, der
-          die Eingabe vom Abstand um das im Profil eingestellte Zentrum
-          erm??glicht:</para>
-
-          <para><inlinemediaobject>
-              <imageobject>
-                <imagedata fileref="pics/spider_options.jpg" />
-              </imageobject>
-            </inlinemediaobject></para>
-
-          <para>Innerhalb eines Kreises in diesem Abstand werden alle Caches
-          (je nach Option mit allen in der Cachbeschreibung anzeigezeigten
-          Bildern heruntergeladen und automatisch importiert. Dabei merkt sich
-          CacheWolf automatisch das Datum, an dem zu letzt heruntergeladen
-          wurde. Bei einem erneuten Aufruf mit dem gleichen Zentrum (siehe
-          <xref linkend="zentrum" />) und dem gleichen Abstand werden dann nur
-          die Hinzuf??gungen und ??nderungen heruntergeladen und eingelesen.
-          Diese Funktion ist bei Opencaching kostenlos, selbst eine Anmeldung
-          ist dort nicht erforderlich.</para>
-        </listitem>
-      </orderedlist>
-    </section>
-  </section>
+<?xml version="1.0" encoding="UTF-8"?>
+<chapter>
+  <chapterinfo>
+    <title>Der erste Start</title>
+
+    <date>12.3.2008</date>
+
+    <releaseinfo>CacheWolf 1.0</releaseinfo>
+
+    <author>
+      <surname>Marc Schnitzler</surname>
+    </author>
+
+    <revhistory>
+      <revision>
+        <revnumber>0.1</revnumber>
+
+        <date>7. September 2007</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Erster Entwurf, kopiert www.cachewolf.de</para>
+        </revdescription>
+      </revision>
+
+      <revision>
+        <revnumber>0.2</revnumber>
+
+        <date>14. November 2007</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Alles Relevante f??r diesen Abschnitt von cachewolf.de
+          kopiert</para>
+        </revdescription>
+      </revision>
+
+      <revision>
+        <revnumber>0.99</revnumber>
+
+        <date>12. M?rz 2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Kapitel fertig.</para>
+        </revdescription>
+      </revision>
+    </revhistory>
+  </chapterinfo>
+
+  <title>Der erste Start</title>
+
+  <section>
+    <title id="start">Programmstart</title>
+
+    <para>Wenn man CacheWolf zum ersten Mal startet, erscheint erst folgendes
+    Bild:</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/lade_liste.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>kurz darauf der Dateidialog</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/basisverzeichnis.gif" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Dieser fordert dich nun auf, das Datenverzeichnis f??r CacheWolf
+    auszuw?hlen f??r die noch kommenden Cache-Daten und die Karten. Die Idee
+    dahinter ist folgende: In diesem Verzeichnis kannst du beliebig viele
+    Unterordner anlegen; jeder dieser Ordner ist ein eigenes Profil (siehe:
+    <xref linkend="profil" />) innerhalb des Cachewolf.</para>
+
+    <tip>
+      <para>Auf einem PocketPC kannst du dieses Verzeichnis auf die
+      Speicherkarte legen (den CW am besten auf dem Ger?t oder der Flash-Disk
+      ablegen).</para>
+    </tip>
+
+    <para>W?hle nun ein Verzeichnis aus und best?tige mit <literal>Select
+    Folder</literal></para>
+
+    <para>Danach erscheint der Dialog zur Auswahl eines Profils. In einem
+    Profil werden in der Regel die Daten einer Cache-Gegend gespeichert. Lege
+    ein neues Profil durch klick auf "neu" an, gebe einen Namen ein,
+    beispielsweise den Namen der Stadt, in deren Gegend Du Caches suchen
+    willst. Danach erscheint ein Dialog, in dem die Koordinaten des
+    Mittelpunktes eingegeben werden sollen, um die herum die Caches dieses
+    Profils liegen (Zentrum).</para>
+  </section>
+
+  <section>
+    <title id="editPrefs">Konfigurieren der Einstellungen</title>
+
+    <para>Es erscheint nun ein bisher leeres Fenster, die
+    Listenansicht:</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/cw_empty.jpg" width="600" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Keine Angst, wir f??llen dieses gleich...</para>
+
+    <para>Doch zuerst einmal w?hle den Men??punkt <literal>Anwendung -&gt;
+    Einstellungen</literal>. Hier kann man nun ein paar grunds?tzliche Dinge
+    einstellen:</para>
+
+    <para></para>
+
+    <section>
+      <title>Einstellungen Allgemein</title>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_1.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>Dieser Tab enth?lt einige Einstellungen. Was die Einstellung
+      <literal>Verzeichnis</literal> f??r Profile bewirkt, ist hier <xref
+      linkend="start" /> schon beschrieben worden. Wenn der Haken bei
+      <literal>Profil auto. laden</literal> gesetzt wurde, erscheint beim
+      n?chsten und allen weiteren Starts von CacheWolf der
+      Profil-Abfrageschirm</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/startup.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>nicht mehr. Ist der Haken nicht gesetzt, musst Du jedes Mal nach
+      Programmstart das gew??nschte Profil ausw?hlen.</para>
+
+      <para>Bei <literal>Browser</literal> kannst Du einen Link zu dem
+      Browserprogramm Deiner Wahl einf??gen.</para>
+
+      <example>
+        <title>Link zum Browser</title>
+
+        <para>Der Internet Explorer unter Windows: <literal>C:\Documents and
+        Settings\USER\Application Data\Microsoft\Internet Explorer\Quick
+        Launch</literal></para>
+      </example>
+
+      <para>Unter <literal>Dein Alias</literal> und <literal>Passwt</literal>
+      kannst Du Deine Zugangsdaten zu <literal>geocaching.com</literal>
+      hinterlegen. <emphasis role="bold">Achtung!</emphasis> Dein Passwort
+      wird nicht verschl??sselt hinterlegt. Im Zweifel solltest Du Dein
+      Passwort hier nicht eingeben. CacheWolf wird beim n?chsten Einloggen
+      nach Deinem Passwort fragen.</para>
+
+      <para>Mit CacheWolf ist es m??glich Caches direkt an Deinen GPS Empf?nger
+      zu senden (siehe auch <xref linkend="zu_garmin" />). Unter
+      <literal>GPSBabel</literal> l??t sich der Port einstellen, der von
+      GPSBabel beim Export genutzt werden soll. Der gesetzte Hacken bei
+      Kurznamen sorgt daf??r, dass nicht die Waypointnamen an den Empf?nger
+      geschickt werden, sondern der etwas verk??rzte Cachename (Biespiel:
+      Grosse Dose wird zu Grsse Dse).</para>
+
+      <para>Durch einen Klick auf den <literal>GPS</literal> Button wird der
+      Schirm zur Einstellung des GPS Empf?ngers angezeigt:</para>
+
+      <section>
+        <title>GPS Empf?nger</title>
+
+        <para></para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/GPS.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Am besten jetzt auf <literal>Update Ports</literal> klicken.
+        Damit ermittelt CacheWolf, welche Ports auf dem PDA zur Verf??gung
+        stehen. Danach den Port des GPS Empf?ngers einstellen. Mit einem Klick
+        auf den Button <literal>Scan</literal> sucht Cachewolf auf allen
+        verf??gbaren Ports selbst?ndig nach einem vorhandenen GPS Empf?nger und
+        stellt Port und Baudrate automatisch ein. M??chtest Du den GPS
+        Empf?nger manuell einstellen, kannst du unter <literal>Baud</literal>
+        die Geschwindigkeit des Empf?ngers einstellen; 4800 passt in der
+        Regel.</para>
+
+        <para>Durch einen Klick auf <literal>Test</literal> kannst Du
+        ??berpr??fen, ob eine Verbindung zum Empf?nger besteht. Vorher bitte
+        sicherstellen, dass der Empf?nger angeschaltet ist. Mit
+        <literal>OK</literal> die Einstellungen best?tigen.</para>
+      </section>
+    </section>
+
+    <section>
+      <title>Einstellungen Ansicht</title>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_2.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>In diesem Tab kannst Du weitere Look &amp; Feel Einstellungen in
+      CacheWolf vornehmen.</para>
+
+      <para>Bei <literal>Font</literal> stellst Du die allgemeine
+      Schriftgr??sse ein, die CacheWolf benutzt. Der Haken bei <literal>PDA hat
+      Schliessen Button</literal> hat zur Folge, dass auf dem PDA rechts oben
+      im CacheWolf Fenster ein "X" erscheint. Klickst Du auf dieses "X" wird
+      CacheWolf beendet, und aus dem Speicher entfernt.</para>
+
+      <para>Der Haken neben <literal>Men?? oben</literal> setzt die
+      Men??eintr?ge im PDA oben, ansonsten erscheinen diese unten :-) Dasselbe
+      gilt f??r <literal>Tabs oben</literal>. Ein Haken hier setzt die Tabs in
+      den Ansichten oben. Der Haken bei <literal>Status</literal> bewirkt,
+      dass CacheWolf eine Statusleiste unten in der Listenansicht (siehe <xref
+      linkend="liste" />) anzeigt.</para>
+    </section>
+
+    <section>
+      <title>Einstellungen Mehr</title>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_3.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>In diesem Tab k??nnen Proxydaten eingegeben werden. Durch setzen
+      des Hakens bei <literal>Proxy verwenden</literal> werden diese Daten
+      beim n?chsten Zugriff ins Internet genutzt.</para>
+
+      <para>CacheWolf kennt aktuell vier Sprachen:</para>
+
+      <itemizedlist>
+        <listitem>
+          <para>DE = Deutsch,</para>
+        </listitem>
+
+        <listitem>
+          <para>EN = Englisch,</para>
+        </listitem>
+
+        <listitem>
+          <para>NL = Niederl?ndisch,</para>
+        </listitem>
+
+        <listitem>
+          <para>FR = Franz??sisch.</para>
+        </listitem>
+      </itemizedlist>
+
+      <para>Um die Sprache zu ?ndern muss das entsprechende
+      Zweibuchstabenk??rzel <literal>bei Sprache</literal> eingegeben werden.
+      Die neu eingestellte Sprache wird im Fall einer ?nderung allerdings erst
+      nach einem Neustart benutzt.</para>
+    </section>
+
+    <section>
+      <title id="einstellungListe">Einstellungen Liste</title>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_4.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>In diesem Tab kannst Du einstellen, welche Spalten in der
+      Listenansicht (siehe <xref linkend="liste" />) angezeigt werden sollen.
+      Angezeigte Spalten k??nnen ??ber den Pfeil nach rechts verborgen werden.
+      Verborgene Spalten k??nnen umgekehrt nat??rlich ??ber den Pfeil nach links
+      wieder angezeigt werden. Au?erdem kann ??ber die beiden Pfeile (nach oben
+      und nach unten) die gew??nschte Reihenfolge der Spalten eingestellt
+      werden.</para>
+
+      <tip>
+        <para>Weniger Spalten beschleunigen das Scrollen auf dem PDA.</para>
+      </tip>
+    </section>
+
+    <section>
+      <title>Einstellungen T-bugs</title>
+
+      <para>CacheWolf besitzt eine integrierte Travelbug - Verwaltung (siehe
+      <xref linkend="tbugs_verwalten" />).</para>
+
+      <para>In diesem Tab kannst Du, wie im vorigen Abschnitt beschrieben,
+      einstellen, welche Spalten in der Travelbugtabelle angezeigt werden
+      sollen und in welcher Reihenfolge diese angezeigt werden.</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_5.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para></para>
+    </section>
+  </section>
+
+  <section>
+    <title>Cachedaten importieren</title>
+
+    <para>Programm l?uft, Einstellungen erledigt? Gut! Jetzt m??ssen wir noch
+    an Cache-Daten kommen. CacheWolf liest GPX-Dateien ein. Diese k??nnen
+    entweder von <ulink url="http://www.geocaching.com">Geocaching.com</ulink>
+    oder von <ulink url="http://www.opencaching.de">Opencaching.de</ulink>
+    kommen. Alternativ k??nnen die Daten auch direkt heruntergeladen
+    (gespidert) werden.</para>
+
+    <section>
+      <title>Geocaching.com</title>
+
+      <para>Es gibt verschiedene M??glichkeiten an die Daten bei <ulink
+      url="???">geocaching.com</ulink> zu kommen: Entweder durch den Import
+      einer GPX Datei, einer LOC Datei oder direkt durch Herunterladen von der
+      geocaching.com Webseite (spidern).</para>
+
+      <section>
+        <title>Import einer GPX Datei</title>
+
+        <para>Um an GPX-Dateien von geocaching.com zu kommen, muss man
+        Premium-Mitglied sein. Die GPX-Dateien werden nach einer Pocket Query
+        (h?ufig als zip-Archiv) per Mail verschickt. Alternativ k??nnen
+        GPX-Dateien f??r einzelne Caches direkt heruntergeladen werden. Die
+        heruntengeladenen Dateien k??nnen einfach in ein Verzeichnis abgelegt
+        und m??ssen nicht entpackt werden.</para>
+
+        <para>Den Import startest Du durch Anw?hlen von "<literal>Anwendung
+        -&gt; Import -&gt; Importiere GPX</literal>". Du kannst eine Datei
+        oder mit Hilfe der Umschalt - Taste mehrere Dateien ausw?hlen.</para>
+
+        <para>Nach der Wahl der Datei, die du importieren m??chtest, erscheint
+        ein Fenster mit der Frage, ob Du auch Bilder herunterladen
+        m??chtest:</para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/gpx_import_bilder.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Aktivierst du diese Option, solltest du eine bestehende
+        Verbindung ins Internet haben. Hast Du die Option <literal>Bilder
+        downloaden</literal> angekreuzt, wird CacheWolf beim Einlesen der
+        GPX-Datei auf der Cacheseite nachschauen, ob Bilder in der
+        Beschreibung bzw. ob Spoilerbilder vorhanden sind. Diese werden dann
+        heruntergeladen. Das Herunterladen von Bildern ben??tigt etwas
+        Zeit.</para>
+
+        <para><note>
+            <para>Leider werden von geocaching.com in der GPX-Datei nur die
+            "Additional Waypoints" mitgeschickt, die auch eine g??ltige
+            Koordinate haben. Das Dilemma ist aber, dass diese Koordinaten bei
+            den meisten Multis erst ermittelt werden m??ssen. Normalerweise
+            stellt dies noch immer kein Problem dar; aber einige Owner
+            beschreiben die einzelnen Stationen innerhalb der "Additional
+            Waypoints". Da diese aber keine Koordinaten haben und nicht in der
+            GPX-Datei mitgeschickt werden, fehlen notwendige Informationen.
+            Dem kann aber abgeholfen werden: CacheWolf bietet die M??glichkeit,
+            einzelne Caches zu aktualisieren und hier werden auch die
+            "Additional Waypoints" direkt von der Cacheseite geladen, die
+            keine Koordinaten haben (siehe <xref
+            linkend="list_popup" />).</para>
+          </note></para>
+      </section>
+
+      <section>
+        <title>Import einer LOC Datei</title>
+
+        <para>F??r Mitglieder, die keine Premium-Mitgliedschaft besitzen,
+        besteht noch die M??glichkeit, LOC-Dateien herunterzuladen. Der Import
+        von LOC-Dateien geschieht auch ??ber den Men??punkt <literal>Importiere GPX</literal>. In
+        den LOC-Dateien sind allerdings sehr wenig Informationen enthalten,
+        insbesondere fehlt die Beschreibung des Caches.</para>
+      </section>
+
+      <section>
+        <title>Direktes herunterladen (spidern)</title>
+
+        <para>Durch Anw?hlen von <literal>Anwendung -&gt; Import -&gt; Spider
+        von geocaching.com</literal> wirst Du zuerst aufgefordert Dein
+        Passwort einzugeben. Dies ist das Passwort, das Du f??r Deinen Account
+        bei geocaching.com nutzt. Deinen Alias hast Du ja bereits in den
+        Einstellungen eingetragen. Nach der Eingabe Deines Passwortes loggt
+        sich CacheWolf auf der geocaching.com Homepage ein und pr?sentiert
+        dann die Spideroptionen ein einem neuen Fenster:</para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/spider_gc.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Unter <literal>max. Abstand</literal> wird die Entfernung zum
+        aktuellem Zentrum eingestellt (siehe <xref linkend="zentrum" />).
+        Cachewolf wird alle Caches im angegebenen Umkreis vom Zentrum
+        herunterladen. Wird der Haken bei <literal>Bilder downloaden</literal>
+        gesetzt, wird Cachewolf sowohl die Bilder in der Cachebeschreibung als
+        auch die Spoilerbilder herunterladen. Der Download von bereits
+        gefundenen Caches kann durch Ausw?hlen der Option <literal>Gefundene Caches
+        nicht laden verhindert</literal> werden.</para>
+
+        <para>Mit <literal>OK</literal> wird der Spider gestartet. Je nach
+        Entfernung und Cache-Dichte wird das Spidern nun einige Zeit in
+        Anspruch nehmen.</para>
+      </section>
+    </section>
+
+    <section>
+      <title>Opencaching.de</title>
+
+      <para>Alternativ zu geocaching.com k??nnen Caches auch von <ulink
+      url="http://opencaching.de">opencaching.de</ulink> importiert werden. Wie bereits im
+      vorangegangen Abschnitt beschrieben, k??nnen die ben??tigten Daten
+      entweder ??ber GPX-Dateien oder durch direktes Herunterladen bezogen
+      werden. </para>
+
+      <section>
+    <title id="OpenGPX">Importieren einer bereits heruntergeladenen GPX-Datei</title>
+
+          <para>Auf der Seite von Opencaching.de hat man die Option eine
+          GPX-Datei herunterzuladen. Diese Option befindet sich am Ende der
+          Suchergebnisseite. Die ZIP-Datei einfach in irgendein Verzeichnis
+          kopieren. Der GPX-Import erkennt automatisch dieses Format. Es ist
+          nicht notwendig die Datei zu entpacken! Bei opencaching.de werden in
+          der aktuellen Version alle Bilder geladen.</para>
+        </section>
+   <section>
+    <title id="OpenSpider">Direkter Download von opencaching.de</title>
+
+          <para>Mit der Funktion <literal>Anwendung -&gt; Import -&gt;
+          Download von opencaching.de</literal> ??ffnet sich ein Dialog, der
+          die Eingabe des Abstands um das im Profil eingestellte Zentrum
+          erm??glicht:</para>
+
+          <para><inlinemediaobject>
+              <imageobject>
+                <imagedata fileref="pics/spider_options.jpg" />
+              </imageobject>
+            </inlinemediaobject></para>
+
+          <para>Innerhalb eines Kreises in diesem Abstand werden alle Caches
+          (je nach Option mit allen in der Cachbeschreibung angezeigten
+          Bildern heruntergeladen und automatisch importiert. Dabei merkt sich
+          CacheWolf automatisch das Datum, an dem zuletzt heruntergeladen
+          wurde. Bei einem erneuten Aufruf mit dem gleichen Zentrum (siehe
+          <xref linkend="zentrum" />) und dem gleichen Abstand werden dann nur
+          die ?nderungen heruntergeladen und eingelesen. Diese Funktion ist
+          bei Opencaching kostenlos, selbst eine Anmeldung ist dort nicht
+          erforderlich.</para>
+  </section>
+    </section>
+  </section>
 </chapter>
\ No newline at end of file



From mirabilos at mail.berlios.de  Mon May 12 03:02:30 2008
From: mirabilos at mail.berlios.de (mirabilos at BerliOS)
Date: Mon, 12 May 2008 03:02:30 +0200
Subject: [Cachewolf-svn] r1453 - trunk/docs/CacheWolf Doku
Message-ID: <200805120102.m4C12UnG032024@sheep.berlios.de>

Author: mirabilos
Date: 2008-05-12 03:02:28 +0200 (Mon, 12 May 2008)
New Revision: 1453

Modified:
   trunk/docs/CacheWolf Doku/Der erste Start.xml
Log:
someone broke the encoding:
| iconv: invalid source character 0xE4 in Der erste Start.xml at offset 1028

I didn???t even use ???svn blame??? to try and find out who it was,
although I was tempted ???

It seems that you _can_ use UTF-8 directly in these files, just don???t EVER
mix that with ISO-8859-1 or windows-1252 encodings??? especially not on the
SAME line! This took me HARD MANUAL WORK to fix.


Modified: trunk/docs/CacheWolf Doku/Der erste Start.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-05-11 22:05:34 UTC (rev 1452)
+++ trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-05-12 01:02:28 UTC (rev 1453)
@@ -1,469 +1,469 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<chapter>
-  <chapterinfo>
-    <title>Der erste Start</title>
-
-    <date>12.3.2008</date>
-
-    <releaseinfo>CacheWolf 1.0</releaseinfo>
-
-    <author>
-      <surname>Marc Schnitzler</surname>
-    </author>
-
-    <revhistory>
-      <revision>
-        <revnumber>0.1</revnumber>
-
-        <date>7. September 2007</date>
-
-        <author>
-          <surname>Marc Schnitzler</surname>
-        </author>
-
-        <revdescription>
-          <para>Erster Entwurf, kopiert www.cachewolf.de</para>
-        </revdescription>
-      </revision>
-
-      <revision>
-        <revnumber>0.2</revnumber>
-
-        <date>14. November 2007</date>
-
-        <author>
-          <surname>Marc Schnitzler</surname>
-        </author>
-
-        <revdescription>
-          <para>Alles Relevante f??r diesen Abschnitt von cachewolf.de
-          kopiert</para>
-        </revdescription>
-      </revision>
-
-      <revision>
-        <revnumber>0.99</revnumber>
-
-        <date>12. M?rz 2008</date>
-
-        <author>
-          <surname>Marc Schnitzler</surname>
-        </author>
-
-        <revdescription>
-          <para>Kapitel fertig.</para>
-        </revdescription>
-      </revision>
-    </revhistory>
-  </chapterinfo>
-
-  <title>Der erste Start</title>
-
-  <section>
-    <title id="start">Programmstart</title>
-
-    <para>Wenn man CacheWolf zum ersten Mal startet, erscheint erst folgendes
-    Bild:</para>
-
-    <para><inlinemediaobject>
-        <imageobject>
-          <imagedata fileref="pics/lade_liste.jpg" />
-        </imageobject>
-      </inlinemediaobject></para>
-
-    <para>kurz darauf der Dateidialog</para>
-
-    <para><inlinemediaobject>
-        <imageobject>
-          <imagedata fileref="pics/basisverzeichnis.gif" />
-        </imageobject>
-      </inlinemediaobject></para>
-
-    <para>Dieser fordert dich nun auf, das Datenverzeichnis f??r CacheWolf
-    auszuw?hlen f??r die noch kommenden Cache-Daten und die Karten. Die Idee
-    dahinter ist folgende: In diesem Verzeichnis kannst du beliebig viele
-    Unterordner anlegen; jeder dieser Ordner ist ein eigenes Profil (siehe:
-    <xref linkend="profil" />) innerhalb des Cachewolf.</para>
-
-    <tip>
-      <para>Auf einem PocketPC kannst du dieses Verzeichnis auf die
-      Speicherkarte legen (den CW am besten auf dem Ger?t oder der Flash-Disk
-      ablegen).</para>
-    </tip>
-
-    <para>W?hle nun ein Verzeichnis aus und best?tige mit <literal>Select
-    Folder</literal></para>
-
-    <para>Danach erscheint der Dialog zur Auswahl eines Profils. In einem
-    Profil werden in der Regel die Daten einer Cache-Gegend gespeichert. Lege
-    ein neues Profil durch klick auf "neu" an, gebe einen Namen ein,
-    beispielsweise den Namen der Stadt, in deren Gegend Du Caches suchen
-    willst. Danach erscheint ein Dialog, in dem die Koordinaten des
-    Mittelpunktes eingegeben werden sollen, um die herum die Caches dieses
-    Profils liegen (Zentrum).</para>
-  </section>
-
-  <section>
-    <title id="editPrefs">Konfigurieren der Einstellungen</title>
-
-    <para>Es erscheint nun ein bisher leeres Fenster, die
-    Listenansicht:</para>
-
-    <para><inlinemediaobject>
-        <imageobject>
-          <imagedata fileref="pics/cw_empty.jpg" width="600" />
-        </imageobject>
-      </inlinemediaobject></para>
-
-    <para>Keine Angst, wir f??llen dieses gleich...</para>
-
-    <para>Doch zuerst einmal w?hle den Men??punkt <literal>Anwendung -&gt;
-    Einstellungen</literal>. Hier kann man nun ein paar grunds?tzliche Dinge
-    einstellen:</para>
-
-    <para></para>
-
-    <section>
-      <title>Einstellungen Allgemein</title>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_1.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>Dieser Tab enth?lt einige Einstellungen. Was die Einstellung
-      <literal>Verzeichnis</literal> f??r Profile bewirkt, ist hier <xref
-      linkend="start" /> schon beschrieben worden. Wenn der Haken bei
-      <literal>Profil auto. laden</literal> gesetzt wurde, erscheint beim
-      n?chsten und allen weiteren Starts von CacheWolf der
-      Profil-Abfrageschirm</para>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/startup.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>nicht mehr. Ist der Haken nicht gesetzt, musst Du jedes Mal nach
-      Programmstart das gew??nschte Profil ausw?hlen.</para>
-
-      <para>Bei <literal>Browser</literal> kannst Du einen Link zu dem
-      Browserprogramm Deiner Wahl einf??gen.</para>
-
-      <example>
-        <title>Link zum Browser</title>
-
-        <para>Der Internet Explorer unter Windows: <literal>C:\Documents and
-        Settings\USER\Application Data\Microsoft\Internet Explorer\Quick
-        Launch</literal></para>
-      </example>
-
-      <para>Unter <literal>Dein Alias</literal> und <literal>Passwt</literal>
-      kannst Du Deine Zugangsdaten zu <literal>geocaching.com</literal>
-      hinterlegen. <emphasis role="bold">Achtung!</emphasis> Dein Passwort
-      wird nicht verschl??sselt hinterlegt. Im Zweifel solltest Du Dein
-      Passwort hier nicht eingeben. CacheWolf wird beim n?chsten Einloggen
-      nach Deinem Passwort fragen.</para>
-
-      <para>Mit CacheWolf ist es m??glich Caches direkt an Deinen GPS Empf?nger
-      zu senden (siehe auch <xref linkend="zu_garmin" />). Unter
-      <literal>GPSBabel</literal> l??t sich der Port einstellen, der von
-      GPSBabel beim Export genutzt werden soll. Der gesetzte Hacken bei
-      Kurznamen sorgt daf??r, dass nicht die Waypointnamen an den Empf?nger
-      geschickt werden, sondern der etwas verk??rzte Cachename (Biespiel:
-      Grosse Dose wird zu Grsse Dse).</para>
-
-      <para>Durch einen Klick auf den <literal>GPS</literal> Button wird der
-      Schirm zur Einstellung des GPS Empf?ngers angezeigt:</para>
-
-      <section>
-        <title>GPS Empf?nger</title>
-
-        <para></para>
-
-        <para><inlinemediaobject>
-            <imageobject>
-              <imagedata fileref="pics/GPS.jpg" />
-            </imageobject>
-          </inlinemediaobject></para>
-
-        <para>Am besten jetzt auf <literal>Update Ports</literal> klicken.
-        Damit ermittelt CacheWolf, welche Ports auf dem PDA zur Verf??gung
-        stehen. Danach den Port des GPS Empf?ngers einstellen. Mit einem Klick
-        auf den Button <literal>Scan</literal> sucht Cachewolf auf allen
-        verf??gbaren Ports selbst?ndig nach einem vorhandenen GPS Empf?nger und
-        stellt Port und Baudrate automatisch ein. M??chtest Du den GPS
-        Empf?nger manuell einstellen, kannst du unter <literal>Baud</literal>
-        die Geschwindigkeit des Empf?ngers einstellen; 4800 passt in der
-        Regel.</para>
-
-        <para>Durch einen Klick auf <literal>Test</literal> kannst Du
-        ??berpr??fen, ob eine Verbindung zum Empf?nger besteht. Vorher bitte
-        sicherstellen, dass der Empf?nger angeschaltet ist. Mit
-        <literal>OK</literal> die Einstellungen best?tigen.</para>
-      </section>
-    </section>
-
-    <section>
-      <title>Einstellungen Ansicht</title>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_2.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>In diesem Tab kannst Du weitere Look &amp; Feel Einstellungen in
-      CacheWolf vornehmen.</para>
-
-      <para>Bei <literal>Font</literal> stellst Du die allgemeine
-      Schriftgr??sse ein, die CacheWolf benutzt. Der Haken bei <literal>PDA hat
-      Schliessen Button</literal> hat zur Folge, dass auf dem PDA rechts oben
-      im CacheWolf Fenster ein "X" erscheint. Klickst Du auf dieses "X" wird
-      CacheWolf beendet, und aus dem Speicher entfernt.</para>
-
-      <para>Der Haken neben <literal>Men?? oben</literal> setzt die
-      Men??eintr?ge im PDA oben, ansonsten erscheinen diese unten :-) Dasselbe
-      gilt f??r <literal>Tabs oben</literal>. Ein Haken hier setzt die Tabs in
-      den Ansichten oben. Der Haken bei <literal>Status</literal> bewirkt,
-      dass CacheWolf eine Statusleiste unten in der Listenansicht (siehe <xref
-      linkend="liste" />) anzeigt.</para>
-    </section>
-
-    <section>
-      <title>Einstellungen Mehr</title>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_3.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>In diesem Tab k??nnen Proxydaten eingegeben werden. Durch setzen
-      des Hakens bei <literal>Proxy verwenden</literal> werden diese Daten
-      beim n?chsten Zugriff ins Internet genutzt.</para>
-
-      <para>CacheWolf kennt aktuell vier Sprachen:</para>
-
-      <itemizedlist>
-        <listitem>
-          <para>DE = Deutsch,</para>
-        </listitem>
-
-        <listitem>
-          <para>EN = Englisch,</para>
-        </listitem>
-
-        <listitem>
-          <para>NL = Niederl?ndisch,</para>
-        </listitem>
-
-        <listitem>
-          <para>FR = Franz??sisch.</para>
-        </listitem>
-      </itemizedlist>
-
-      <para>Um die Sprache zu ?ndern muss das entsprechende
-      Zweibuchstabenk??rzel <literal>bei Sprache</literal> eingegeben werden.
-      Die neu eingestellte Sprache wird im Fall einer ?nderung allerdings erst
-      nach einem Neustart benutzt.</para>
-    </section>
-
-    <section>
-      <title id="einstellungListe">Einstellungen Liste</title>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_4.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para>In diesem Tab kannst Du einstellen, welche Spalten in der
-      Listenansicht (siehe <xref linkend="liste" />) angezeigt werden sollen.
-      Angezeigte Spalten k??nnen ??ber den Pfeil nach rechts verborgen werden.
-      Verborgene Spalten k??nnen umgekehrt nat??rlich ??ber den Pfeil nach links
-      wieder angezeigt werden. Au?erdem kann ??ber die beiden Pfeile (nach oben
-      und nach unten) die gew??nschte Reihenfolge der Spalten eingestellt
-      werden.</para>
-
-      <tip>
-        <para>Weniger Spalten beschleunigen das Scrollen auf dem PDA.</para>
-      </tip>
-    </section>
-
-    <section>
-      <title>Einstellungen T-bugs</title>
-
-      <para>CacheWolf besitzt eine integrierte Travelbug - Verwaltung (siehe
-      <xref linkend="tbugs_verwalten" />).</para>
-
-      <para>In diesem Tab kannst Du, wie im vorigen Abschnitt beschrieben,
-      einstellen, welche Spalten in der Travelbugtabelle angezeigt werden
-      sollen und in welcher Reihenfolge diese angezeigt werden.</para>
-
-      <para><inlinemediaobject>
-          <imageobject>
-            <imagedata fileref="pics/pref_5.jpg" />
-          </imageobject>
-        </inlinemediaobject></para>
-
-      <para></para>
-    </section>
-  </section>
-
-  <section>
-    <title>Cachedaten importieren</title>
-
-    <para>Programm l?uft, Einstellungen erledigt? Gut! Jetzt m??ssen wir noch
-    an Cache-Daten kommen. CacheWolf liest GPX-Dateien ein. Diese k??nnen
-    entweder von <ulink url="http://www.geocaching.com">Geocaching.com</ulink>
-    oder von <ulink url="http://www.opencaching.de">Opencaching.de</ulink>
-    kommen. Alternativ k??nnen die Daten auch direkt heruntergeladen
-    (gespidert) werden.</para>
-
-    <section>
-      <title>Geocaching.com</title>
-
-      <para>Es gibt verschiedene M??glichkeiten an die Daten bei <ulink
-      url="???">geocaching.com</ulink> zu kommen: Entweder durch den Import
-      einer GPX Datei, einer LOC Datei oder direkt durch Herunterladen von der
-      geocaching.com Webseite (spidern).</para>
-
-      <section>
-        <title>Import einer GPX Datei</title>
-
-        <para>Um an GPX-Dateien von geocaching.com zu kommen, muss man
-        Premium-Mitglied sein. Die GPX-Dateien werden nach einer Pocket Query
-        (h?ufig als zip-Archiv) per Mail verschickt. Alternativ k??nnen
-        GPX-Dateien f??r einzelne Caches direkt heruntergeladen werden. Die
-        heruntengeladenen Dateien k??nnen einfach in ein Verzeichnis abgelegt
-        und m??ssen nicht entpackt werden.</para>
-
-        <para>Den Import startest Du durch Anw?hlen von "<literal>Anwendung
-        -&gt; Import -&gt; Importiere GPX</literal>". Du kannst eine Datei
-        oder mit Hilfe der Umschalt - Taste mehrere Dateien ausw?hlen.</para>
-
-        <para>Nach der Wahl der Datei, die du importieren m??chtest, erscheint
-        ein Fenster mit der Frage, ob Du auch Bilder herunterladen
-        m??chtest:</para>
-
-        <para><inlinemediaobject>
-            <imageobject>
-              <imagedata fileref="pics/gpx_import_bilder.jpg" />
-            </imageobject>
-          </inlinemediaobject></para>
-
-        <para>Aktivierst du diese Option, solltest du eine bestehende
-        Verbindung ins Internet haben. Hast Du die Option <literal>Bilder
-        downloaden</literal> angekreuzt, wird CacheWolf beim Einlesen der
-        GPX-Datei auf der Cacheseite nachschauen, ob Bilder in der
-        Beschreibung bzw. ob Spoilerbilder vorhanden sind. Diese werden dann
-        heruntergeladen. Das Herunterladen von Bildern ben??tigt etwas
-        Zeit.</para>
-
-        <para><note>
-            <para>Leider werden von geocaching.com in der GPX-Datei nur die
-            "Additional Waypoints" mitgeschickt, die auch eine g??ltige
-            Koordinate haben. Das Dilemma ist aber, dass diese Koordinaten bei
-            den meisten Multis erst ermittelt werden m??ssen. Normalerweise
-            stellt dies noch immer kein Problem dar; aber einige Owner
-            beschreiben die einzelnen Stationen innerhalb der "Additional
-            Waypoints". Da diese aber keine Koordinaten haben und nicht in der
-            GPX-Datei mitgeschickt werden, fehlen notwendige Informationen.
-            Dem kann aber abgeholfen werden: CacheWolf bietet die M??glichkeit,
-            einzelne Caches zu aktualisieren und hier werden auch die
-            "Additional Waypoints" direkt von der Cacheseite geladen, die
-            keine Koordinaten haben (siehe <xref
-            linkend="list_popup" />).</para>
-          </note></para>
-      </section>
-
-      <section>
-        <title>Import einer LOC Datei</title>
-
-        <para>F??r Mitglieder, die keine Premium-Mitgliedschaft besitzen,
-        besteht noch die M??glichkeit, LOC-Dateien herunterzuladen. Der Import
-        von LOC-Dateien geschieht auch ??ber den Men??punkt <literal>Importiere GPX</literal>. In
-        den LOC-Dateien sind allerdings sehr wenig Informationen enthalten,
-        insbesondere fehlt die Beschreibung des Caches.</para>
-      </section>
-
-      <section>
-        <title>Direktes herunterladen (spidern)</title>
-
-        <para>Durch Anw?hlen von <literal>Anwendung -&gt; Import -&gt; Spider
-        von geocaching.com</literal> wirst Du zuerst aufgefordert Dein
-        Passwort einzugeben. Dies ist das Passwort, das Du f??r Deinen Account
-        bei geocaching.com nutzt. Deinen Alias hast Du ja bereits in den
-        Einstellungen eingetragen. Nach der Eingabe Deines Passwortes loggt
-        sich CacheWolf auf der geocaching.com Homepage ein und pr?sentiert
-        dann die Spideroptionen ein einem neuen Fenster:</para>
-
-        <para><inlinemediaobject>
-            <imageobject>
-              <imagedata fileref="pics/spider_gc.jpg" />
-            </imageobject>
-          </inlinemediaobject></para>
-
-        <para>Unter <literal>max. Abstand</literal> wird die Entfernung zum
-        aktuellem Zentrum eingestellt (siehe <xref linkend="zentrum" />).
-        Cachewolf wird alle Caches im angegebenen Umkreis vom Zentrum
-        herunterladen. Wird der Haken bei <literal>Bilder downloaden</literal>
-        gesetzt, wird Cachewolf sowohl die Bilder in der Cachebeschreibung als
-        auch die Spoilerbilder herunterladen. Der Download von bereits
-        gefundenen Caches kann durch Ausw?hlen der Option <literal>Gefundene Caches
-        nicht laden verhindert</literal> werden.</para>
-
-        <para>Mit <literal>OK</literal> wird der Spider gestartet. Je nach
-        Entfernung und Cache-Dichte wird das Spidern nun einige Zeit in
-        Anspruch nehmen.</para>
-      </section>
-    </section>
-
-    <section>
-      <title>Opencaching.de</title>
-
-      <para>Alternativ zu geocaching.com k??nnen Caches auch von <ulink
-      url="http://opencaching.de">opencaching.de</ulink> importiert werden. Wie bereits im
-      vorangegangen Abschnitt beschrieben, k??nnen die ben??tigten Daten
-      entweder ??ber GPX-Dateien oder durch direktes Herunterladen bezogen
-      werden. </para>
-
-      <section>
-    <title id="OpenGPX">Importieren einer bereits heruntergeladenen GPX-Datei</title>
-
-          <para>Auf der Seite von Opencaching.de hat man die Option eine
-          GPX-Datei herunterzuladen. Diese Option befindet sich am Ende der
-          Suchergebnisseite. Die ZIP-Datei einfach in irgendein Verzeichnis
-          kopieren. Der GPX-Import erkennt automatisch dieses Format. Es ist
-          nicht notwendig die Datei zu entpacken! Bei opencaching.de werden in
-          der aktuellen Version alle Bilder geladen.</para>
-        </section>
-   <section>
-    <title id="OpenSpider">Direkter Download von opencaching.de</title>
-
-          <para>Mit der Funktion <literal>Anwendung -&gt; Import -&gt;
-          Download von opencaching.de</literal> ??ffnet sich ein Dialog, der
-          die Eingabe des Abstands um das im Profil eingestellte Zentrum
-          erm??glicht:</para>
-
-          <para><inlinemediaobject>
-              <imageobject>
-                <imagedata fileref="pics/spider_options.jpg" />
-              </imageobject>
-            </inlinemediaobject></para>
-
-          <para>Innerhalb eines Kreises in diesem Abstand werden alle Caches
-          (je nach Option mit allen in der Cachbeschreibung angezeigten
-          Bildern heruntergeladen und automatisch importiert. Dabei merkt sich
-          CacheWolf automatisch das Datum, an dem zuletzt heruntergeladen
-          wurde. Bei einem erneuten Aufruf mit dem gleichen Zentrum (siehe
-          <xref linkend="zentrum" />) und dem gleichen Abstand werden dann nur
-          die ?nderungen heruntergeladen und eingelesen. Diese Funktion ist
-          bei Opencaching kostenlos, selbst eine Anmeldung ist dort nicht
-          erforderlich.</para>
-  </section>
-    </section>
-  </section>
-</chapter>
\ No newline at end of file
+<?xml version="1.0" encoding="UTF-8"?>
+<chapter>
+  <chapterinfo>
+    <title>Der erste Start</title>
+
+    <date>12.3.2008</date>
+
+    <releaseinfo>CacheWolf 1.0</releaseinfo>
+
+    <author>
+      <surname>Marc Schnitzler</surname>
+    </author>
+
+    <revhistory>
+      <revision>
+        <revnumber>0.1</revnumber>
+
+        <date>7. September 2007</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Erster Entwurf, kopiert www.cachewolf.de</para>
+        </revdescription>
+      </revision>
+
+      <revision>
+        <revnumber>0.2</revnumber>
+
+        <date>14. November 2007</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Alles Relevante f??r diesen Abschnitt von cachewolf.de
+          kopiert</para>
+        </revdescription>
+      </revision>
+
+      <revision>
+        <revnumber>0.99</revnumber>
+
+        <date>12. M??rz 2008</date>
+
+        <author>
+          <surname>Marc Schnitzler</surname>
+        </author>
+
+        <revdescription>
+          <para>Kapitel fertig.</para>
+        </revdescription>
+      </revision>
+    </revhistory>
+  </chapterinfo>
+
+  <title>Der erste Start</title>
+
+  <section>
+    <title id="start">Programmstart</title>
+
+    <para>Wenn man CacheWolf zum ersten Mal startet, erscheint erst folgendes
+    Bild:</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/lade_liste.jpg" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>kurz darauf der Dateidialog</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/basisverzeichnis.gif" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Dieser fordert dich nun auf, das Datenverzeichnis f??r CacheWolf
+    auszuw??hlen f??r die noch kommenden Cache-Daten und die Karten. Die Idee
+    dahinter ist folgende: In diesem Verzeichnis kannst du beliebig viele
+    Unterordner anlegen; jeder dieser Ordner ist ein eigenes Profil (siehe:
+    <xref linkend="profil" />) innerhalb des Cachewolf.</para>
+
+    <tip>
+      <para>Auf einem PocketPC kannst du dieses Verzeichnis auf die
+      Speicherkarte legen (den CW am besten auf dem Ger??t oder der Flash-Disk
+      ablegen).</para>
+    </tip>
+
+    <para>W??hle nun ein Verzeichnis aus und best??tige mit <literal>Select
+    Folder</literal></para>
+
+    <para>Danach erscheint der Dialog zur Auswahl eines Profils. In einem
+    Profil werden in der Regel die Daten einer Cache-Gegend gespeichert. Lege
+    ein neues Profil durch klick auf "neu" an, gebe einen Namen ein,
+    beispielsweise den Namen der Stadt, in deren Gegend Du Caches suchen
+    willst. Danach erscheint ein Dialog, in dem die Koordinaten des
+    Mittelpunktes eingegeben werden sollen, um die herum die Caches dieses
+    Profils liegen (Zentrum).</para>
+  </section>
+
+  <section>
+    <title id="editPrefs">Konfigurieren der Einstellungen</title>
+
+    <para>Es erscheint nun ein bisher leeres Fenster, die
+    Listenansicht:</para>
+
+    <para><inlinemediaobject>
+        <imageobject>
+          <imagedata fileref="pics/cw_empty.jpg" width="600" />
+        </imageobject>
+      </inlinemediaobject></para>
+
+    <para>Keine Angst, wir f??llen dieses gleich...</para>
+
+    <para>Doch zuerst einmal w??hle den Men??punkt <literal>Anwendung -&gt;
+    Einstellungen</literal>. Hier kann man nun ein paar grunds??tzliche Dinge
+    einstellen:</para>
+
+    <para></para>
+
+    <section>
+      <title>Einstellungen Allgemein</title>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_1.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>Dieser Tab enth??lt einige Einstellungen. Was die Einstellung
+      <literal>Verzeichnis</literal> f??r Profile bewirkt, ist hier <xref
+      linkend="start" /> schon beschrieben worden. Wenn der Haken bei
+      <literal>Profil auto. laden</literal> gesetzt wurde, erscheint beim
+      n??chsten und allen weiteren Starts von CacheWolf der
+      Profil-Abfrageschirm</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/startup.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>nicht mehr. Ist der Haken nicht gesetzt, musst Du jedes Mal nach
+      Programmstart das gew??nschte Profil ausw??hlen.</para>
+
+      <para>Bei <literal>Browser</literal> kannst Du einen Link zu dem
+      Browserprogramm Deiner Wahl einf??gen.</para>
+
+      <example>
+        <title>Link zum Browser</title>
+
+        <para>Der Internet Explorer unter Windows: <literal>C:\Documents and
+        Settings\USER\Application Data\Microsoft\Internet Explorer\Quick
+        Launch</literal></para>
+      </example>
+
+      <para>Unter <literal>Dein Alias</literal> und <literal>Passwt</literal>
+      kannst Du Deine Zugangsdaten zu <literal>geocaching.com</literal>
+      hinterlegen. <emphasis role="bold">Achtung!</emphasis> Dein Passwort
+      wird nicht verschl??sselt hinterlegt. Im Zweifel solltest Du Dein
+      Passwort hier nicht eingeben. CacheWolf wird beim n??chsten Einloggen
+      nach Deinem Passwort fragen.</para>
+
+      <para>Mit CacheWolf ist es m??glich Caches direkt an Deinen GPS Empf??nger
+      zu senden (siehe auch <xref linkend="zu_garmin" />). Unter
+      <literal>GPSBabel</literal> l????t sich der Port einstellen, der von
+      GPSBabel beim Export genutzt werden soll. Der gesetzte Hacken bei
+      Kurznamen sorgt daf??r, dass nicht die Waypointnamen an den Empf??nger
+      geschickt werden, sondern der etwas verk??rzte Cachename (Biespiel:
+      Grosse Dose wird zu Grsse Dse).</para>
+
+      <para>Durch einen Klick auf den <literal>GPS</literal> Button wird der
+      Schirm zur Einstellung des GPS Empf??ngers angezeigt:</para>
+
+      <section>
+        <title>GPS Empf??nger</title>
+
+        <para></para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/GPS.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Am besten jetzt auf <literal>Update Ports</literal> klicken.
+        Damit ermittelt CacheWolf, welche Ports auf dem PDA zur Verf??gung
+        stehen. Danach den Port des GPS Empf??ngers einstellen. Mit einem Klick
+        auf den Button <literal>Scan</literal> sucht Cachewolf auf allen
+        verf??gbaren Ports selbst??ndig nach einem vorhandenen GPS Empf??nger und
+        stellt Port und Baudrate automatisch ein. M??chtest Du den GPS
+        Empf??nger manuell einstellen, kannst du unter <literal>Baud</literal>
+        die Geschwindigkeit des Empf??ngers einstellen; 4800 passt in der
+        Regel.</para>
+
+        <para>Durch einen Klick auf <literal>Test</literal> kannst Du
+        ??berpr??fen, ob eine Verbindung zum Empf??nger besteht. Vorher bitte
+        sicherstellen, dass der Empf??nger angeschaltet ist. Mit
+        <literal>OK</literal> die Einstellungen best??tigen.</para>
+      </section>
+    </section>
+
+    <section>
+      <title>Einstellungen Ansicht</title>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_2.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>In diesem Tab kannst Du weitere Look &amp; Feel Einstellungen in
+      CacheWolf vornehmen.</para>
+
+      <para>Bei <literal>Font</literal> stellst Du die allgemeine
+      Schriftgr??sse ein, die CacheWolf benutzt. Der Haken bei <literal>PDA hat
+      Schliessen Button</literal> hat zur Folge, dass auf dem PDA rechts oben
+      im CacheWolf Fenster ein "X" erscheint. Klickst Du auf dieses "X" wird
+      CacheWolf beendet, und aus dem Speicher entfernt.</para>
+
+      <para>Der Haken neben <literal>Men?? oben</literal> setzt die
+      Men??eintr??ge im PDA oben, ansonsten erscheinen diese unten :-) Dasselbe
+      gilt f??r <literal>Tabs oben</literal>. Ein Haken hier setzt die Tabs in
+      den Ansichten oben. Der Haken bei <literal>Status</literal> bewirkt,
+      dass CacheWolf eine Statusleiste unten in der Listenansicht (siehe <xref
+      linkend="liste" />) anzeigt.</para>
+    </section>
+
+    <section>
+      <title>Einstellungen Mehr</title>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_3.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>In diesem Tab k??nnen Proxydaten eingegeben werden. Durch setzen
+      des Hakens bei <literal>Proxy verwenden</literal> werden diese Daten
+      beim n??chsten Zugriff ins Internet genutzt.</para>
+
+      <para>CacheWolf kennt aktuell vier Sprachen:</para>
+
+      <itemizedlist>
+        <listitem>
+          <para>DE = Deutsch,</para>
+        </listitem>
+
+        <listitem>
+          <para>EN = Englisch,</para>
+        </listitem>
+
+        <listitem>
+          <para>NL = Niederl??ndisch,</para>
+        </listitem>
+
+        <listitem>
+          <para>FR = Franz??sisch.</para>
+        </listitem>
+      </itemizedlist>
+
+      <para>Um die Sprache zu ??ndern muss das entsprechende
+      Zweibuchstabenk??rzel <literal>bei Sprache</literal> eingegeben werden.
+      Die neu eingestellte Sprache wird im Fall einer ??nderung allerdings erst
+      nach einem Neustart benutzt.</para>
+    </section>
+
+    <section>
+      <title id="einstellungListe">Einstellungen Liste</title>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_4.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para>In diesem Tab kannst Du einstellen, welche Spalten in der
+      Listenansicht (siehe <xref linkend="liste" />) angezeigt werden sollen.
+      Angezeigte Spalten k??nnen ??ber den Pfeil nach rechts verborgen werden.
+      Verborgene Spalten k??nnen umgekehrt nat??rlich ??ber den Pfeil nach links
+      wieder angezeigt werden. Au??erdem kann ??ber die beiden Pfeile (nach oben
+      und nach unten) die gew??nschte Reihenfolge der Spalten eingestellt
+      werden.</para>
+
+      <tip>
+        <para>Weniger Spalten beschleunigen das Scrollen auf dem PDA.</para>
+      </tip>
+    </section>
+
+    <section>
+      <title>Einstellungen T-bugs</title>
+
+      <para>CacheWolf besitzt eine integrierte Travelbug - Verwaltung (siehe
+      <xref linkend="tbugs_verwalten" />).</para>
+
+      <para>In diesem Tab kannst Du, wie im vorigen Abschnitt beschrieben,
+      einstellen, welche Spalten in der Travelbugtabelle angezeigt werden
+      sollen und in welcher Reihenfolge diese angezeigt werden.</para>
+
+      <para><inlinemediaobject>
+          <imageobject>
+            <imagedata fileref="pics/pref_5.jpg" />
+          </imageobject>
+        </inlinemediaobject></para>
+
+      <para></para>
+    </section>
+  </section>
+
+  <section>
+    <title>Cachedaten importieren</title>
+
+    <para>Programm l??uft, Einstellungen erledigt? Gut! Jetzt m??ssen wir noch
+    an Cache-Daten kommen. CacheWolf liest GPX-Dateien ein. Diese k??nnen
+    entweder von <ulink url="http://www.geocaching.com">Geocaching.com</ulink>
+    oder von <ulink url="http://www.opencaching.de">Opencaching.de</ulink>
+    kommen. Alternativ k??nnen die Daten auch direkt heruntergeladen
+    (gespidert) werden.</para>
+
+    <section>
+      <title>Geocaching.com</title>
+
+      <para>Es gibt verschiedene M??glichkeiten an die Daten bei <ulink
+      url="???">geocaching.com</ulink> zu kommen: Entweder durch den Import
+      einer GPX Datei, einer LOC Datei oder direkt durch Herunterladen von der
+      geocaching.com Webseite (spidern).</para>
+
+      <section>
+        <title>Import einer GPX Datei</title>
+
+        <para>Um an GPX-Dateien von geocaching.com zu kommen, muss man
+        Premium-Mitglied sein. Die GPX-Dateien werden nach einer Pocket Query
+        (h??ufig als zip-Archiv) per Mail verschickt. Alternativ k??nnen
+        GPX-Dateien f??r einzelne Caches direkt heruntergeladen werden. Die
+        heruntengeladenen Dateien k??nnen einfach in ein Verzeichnis abgelegt
+        und m??ssen nicht entpackt werden.</para>
+
+        <para>Den Import startest Du durch Anw??hlen von "<literal>Anwendung
+        -&gt; Import -&gt; Importiere GPX</literal>". Du kannst eine Datei
+        oder mit Hilfe der Umschalt - Taste mehrere Dateien ausw??hlen.</para>
+
+        <para>Nach der Wahl der Datei, die du importieren m??chtest, erscheint
+        ein Fenster mit der Frage, ob Du auch Bilder herunterladen
+        m??chtest:</para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/gpx_import_bilder.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Aktivierst du diese Option, solltest du eine bestehende
+        Verbindung ins Internet haben. Hast Du die Option <literal>Bilder
+        downloaden</literal> angekreuzt, wird CacheWolf beim Einlesen der
+        GPX-Datei auf der Cacheseite nachschauen, ob Bilder in der
+        Beschreibung bzw. ob Spoilerbilder vorhanden sind. Diese werden dann
+        heruntergeladen. Das Herunterladen von Bildern ben??tigt etwas
+        Zeit.</para>
+
+        <para><note>
+            <para>Leider werden von geocaching.com in der GPX-Datei nur die
+            "Additional Waypoints" mitgeschickt, die auch eine g??ltige
+            Koordinate haben. Das Dilemma ist aber, dass diese Koordinaten bei
+            den meisten Multis erst ermittelt werden m??ssen. Normalerweise
+            stellt dies noch immer kein Problem dar; aber einige Owner
+            beschreiben die einzelnen Stationen innerhalb der "Additional
+            Waypoints". Da diese aber keine Koordinaten haben und nicht in der
+            GPX-Datei mitgeschickt werden, fehlen notwendige Informationen.
+            Dem kann aber abgeholfen werden: CacheWolf bietet die M??glichkeit,
+            einzelne Caches zu aktualisieren und hier werden auch die
+            "Additional Waypoints" direkt von der Cacheseite geladen, die
+            keine Koordinaten haben (siehe <xref
+            linkend="list_popup" />).</para>
+          </note></para>
+      </section>
+
+      <section>
+        <title>Import einer LOC Datei</title>
+
+        <para>F??r Mitglieder, die keine Premium-Mitgliedschaft besitzen,
+        besteht noch die M??glichkeit, LOC-Dateien herunterzuladen. Der Import
+        von LOC-Dateien geschieht auch ??ber den Men??punkt <literal>Importiere GPX</literal>. In
+        den LOC-Dateien sind allerdings sehr wenig Informationen enthalten,
+        insbesondere fehlt die Beschreibung des Caches.</para>
+      </section>
+
+      <section>
+        <title>Direktes herunterladen (spidern)</title>
+
+        <para>Durch Anw??hlen von <literal>Anwendung -&gt; Import -&gt; Spider
+        von geocaching.com</literal> wirst Du zuerst aufgefordert Dein
+        Passwort einzugeben. Dies ist das Passwort, das Du f??r Deinen Account
+        bei geocaching.com nutzt. Deinen Alias hast Du ja bereits in den
+        Einstellungen eingetragen. Nach der Eingabe Deines Passwortes loggt
+        sich CacheWolf auf der geocaching.com Homepage ein und pr??sentiert
+        dann die Spideroptionen ein einem neuen Fenster:</para>
+
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/spider_gc.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Unter <literal>max. Abstand</literal> wird die Entfernung zum
+        aktuellem Zentrum eingestellt (siehe <xref linkend="zentrum" />).
+        Cachewolf wird alle Caches im angegebenen Umkreis vom Zentrum
+        herunterladen. Wird der Haken bei <literal>Bilder downloaden</literal>
+        gesetzt, wird Cachewolf sowohl die Bilder in der Cachebeschreibung als
+        auch die Spoilerbilder herunterladen. Der Download von bereits
+        gefundenen Caches kann durch Ausw??hlen der Option <literal>Gefundene Caches
+        nicht laden verhindert</literal> werden.</para>
+
+        <para>Mit <literal>OK</literal> wird der Spider gestartet. Je nach
+        Entfernung und Cache-Dichte wird das Spidern nun einige Zeit in
+        Anspruch nehmen.</para>
+      </section>
+    </section>
+
+    <section>
+      <title>Opencaching.de</title>
+
+      <para>Alternativ zu geocaching.com k??nnen Caches auch von <ulink
+      url="http://opencaching.de">opencaching.de</ulink> importiert werden. Wie bereits im
+      vorangegangen Abschnitt beschrieben, k??nnen die ben??tigten Daten
+      entweder ??ber GPX-Dateien oder durch direktes Herunterladen bezogen
+      werden. </para>
+
+      <section>
+    <title id="OpenGPX">Importieren einer bereits heruntergeladenen GPX-Datei</title>
+
+          <para>Auf der Seite von Opencaching.de hat man die Option eine
+          GPX-Datei herunterzuladen. Diese Option befindet sich am Ende der
+          Suchergebnisseite. Die ZIP-Datei einfach in irgendein Verzeichnis
+          kopieren. Der GPX-Import erkennt automatisch dieses Format. Es ist
+          nicht notwendig die Datei zu entpacken! Bei opencaching.de werden in
+          der aktuellen Version alle Bilder geladen.</para>
+        </section>
+   <section>
+    <title id="OpenSpider">Direkter Download von opencaching.de</title>
+
+          <para>Mit der Funktion <literal>Anwendung -&gt; Import -&gt;
+          Download von opencaching.de</literal> ??ffnet sich ein Dialog, der
+          die Eingabe des Abstands um das im Profil eingestellte Zentrum
+          erm??glicht:</para>
+
+          <para><inlinemediaobject>
+              <imageobject>
+                <imagedata fileref="pics/spider_options.jpg" />
+              </imageobject>
+            </inlinemediaobject></para>
+
+          <para>Innerhalb eines Kreises in diesem Abstand werden alle Caches
+          (je nach Option mit allen in der Cachbeschreibung angezeigten
+          Bildern heruntergeladen und automatisch importiert. Dabei merkt sich
+          CacheWolf automatisch das Datum, an dem zuletzt heruntergeladen
+          wurde. Bei einem erneuten Aufruf mit dem gleichen Zentrum (siehe
+          <xref linkend="zentrum" />) und dem gleichen Abstand werden dann nur
+          die ??nderungen heruntergeladen und eingelesen. Diese Funktion ist
+          bei Opencaching kostenlos, selbst eine Anmeldung ist dort nicht
+          erforderlich.</para>
+  </section>
+    </section>
+  </section>
+</chapter>



From engywuck at mail.berlios.de  Mon May 12 11:18:52 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Mon, 12 May 2008 11:18:52 +0200
Subject: [Cachewolf-svn] r1454 - trunk/src/CacheWolf
Message-ID: <200805120918.m4C9IqbP019031@sheep.berlios.de>

Author: engywuck
Date: 2008-05-12 11:18:49 +0200 (Mon, 12 May 2008)
New Revision: 1454

Modified:
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/CacheList.java
   trunk/src/CacheWolf/Filter.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/Profile.java
   trunk/src/CacheWolf/SearchCache.java
   trunk/src/CacheWolf/myTableModel.java
Log:
Now save blacklist status in index.xml and restore it when loading a profile. (http://www.geoclub.de/viewtopic.php?f=40&t=24432)
Note: Blacklist status now internally stored in profile-Object, not in Filter-Object anymore.

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2008-05-12 01:02:28 UTC (rev 1453)
+++ trunk/src/CacheWolf/CacheHolder.java	2008-05-12 09:18:49 UTC (rev 1454)
@@ -176,7 +176,7 @@
 
 			start=xmlString.indexOf('"',end+1); end=xmlString.indexOf('"',start+1);
 			is_black = xmlString.substring(start+1,end).equals("true");
-			if(is_black) is_filtered = true;
+			if(is_black!=Global.getProfile().showBlacklisted) is_filtered = true;
 
 			start=xmlString.indexOf('"',end+1); end=xmlString.indexOf('"',start+1);
 			is_owned = xmlString.substring(start+1,end).equals("true");
@@ -576,4 +576,4 @@
 
 		return statusTime;		
 	}
-}
\ No newline at end of file
+}

Modified: trunk/src/CacheWolf/CacheList.java
===================================================================
--- trunk/src/CacheWolf/CacheList.java	2008-05-12 01:02:28 UTC (rev 1453)
+++ trunk/src/CacheWolf/CacheList.java	2008-05-12 09:18:49 UTC (rev 1454)
@@ -277,7 +277,7 @@
 				ch=null;
 				ch=(CacheHolder) cacheDB.get(idx);
 			}
-			if (ch.is_black!=Filter.showBlacklisted) 
+			if (ch.is_black!=Global.getProfile().showBlacklisted) 
 				wrongBlackStatus++;
 			else {
 				ch.is_filtered=false;

Modified: trunk/src/CacheWolf/Filter.java
===================================================================
--- trunk/src/CacheWolf/Filter.java	2008-05-12 01:02:28 UTC (rev 1453)
+++ trunk/src/CacheWolf/Filter.java	2008-05-12 09:18:49 UTC (rev 1454)
@@ -17,8 +17,6 @@
 	public static final int FILTER_ACTIVE=1;
 	public static final int FILTER_CACHELIST=2;
 	
-	/** Toggle for showing blacklisted caches. Can be toggled through the Filter menu */
-	public static boolean showBlacklisted=false;
 	/** Indicator whether a filter is inverted */
 	//public static boolean filterInverted=false;
 	/** Indicator whether a filter is active. Used in status bar to indicate filter status */
@@ -351,7 +349,7 @@
 		// A cache is only displayed (i.e. is_filtered = false) if it meets all 9 filter criteria
 		for(int i = cacheDB.size()-1; i >=0 ; i--){
 			ch = (CacheHolder)cacheDB.get(i);
-			ch.is_filtered = ch.is_black^showBlacklisted;
+			ch.is_filtered = ch.is_black^Global.getProfile().showBlacklisted;
 			///////////////////////////////
 			// Filter criterium 1: Cache type
 			///////////////////////////////
@@ -534,7 +532,7 @@
 		CacheHolder ch;
 		if (cacheDB.size()==0) return;
 		Global.getProfile().selectionChanged = true;
-		boolean showBlackListed=Filter.showBlacklisted;
+		boolean showBlackListed=Global.getProfile().showBlacklisted;
 		for(int i = cacheDB.size()-1; i >=0 ; i--){
 			ch = (CacheHolder)cacheDB.get(i);
 			if (ch.is_black==showBlackListed)
@@ -555,7 +553,7 @@
 		CacheHolder ch;
 		for(int i = cacheDB.size()-1; i >=0 ; i--){
 			ch = (CacheHolder)cacheDB.get(i);
-			ch.is_filtered=(ch.is_black^showBlacklisted) ; // Always filter blacklisted caches
+			ch.is_filtered=(ch.is_black^Global.getProfile().showBlacklisted) ; // Always filter blacklisted caches
 		}
 		Global.getProfile().filterActive=FILTER_INACTIVE;
 		Global.getProfile().filterInverted=false;
@@ -577,3 +575,4 @@
 
 }
 
+

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-05-12 01:02:28 UTC (rev 1453)
+++ trunk/src/CacheWolf/MainMenu.java	2008-05-12 09:18:49 UTC (rev 1454)
@@ -135,6 +135,7 @@
 		filterMenuItems[6] = filtNonSelected = new MenuItem(MyLocale.getMsg(1011,"Filter out non selected"));
 		filterMenuItems[7] = mnuSeparator;
 		filterMenuItems[8] = filtBlack   = new MenuItem(MyLocale.getMsg(161,"Show Blacklist"));
+        filtBlack.modifiers=Global.getProfile().showBlacklisted?filtBlack.modifiers|MenuItem.Checked:filtBlack.modifiers&~MenuItem.Checked;
 		//filterMenuItems[9] = mnuSeparator;
 		//filterMenuItems[10] = cacheTour;
 
@@ -238,8 +239,7 @@
 			if(mev.selectedItem == mnuNewProfile){
 				if (NewProfileWizard.startNewProfileWizard(getFrame()) ) {
 					pref.curCentrePt = new CWPoint(profile.centre);
-					Filter.showBlacklisted=false;
-					filtBlack.modifiers&=~MenuItem.Checked;
+		            filtBlack.modifiers=Global.getProfile().showBlacklisted?filtBlack.modifiers|MenuItem.Checked:filtBlack.modifiers&~MenuItem.Checked;
 					tbp.refreshTable();
 				}
 			}
@@ -256,8 +256,7 @@
 					profile.readIndex();
 					Vm.showWait(infB, false);
 					pref.curCentrePt.set(profile.centre);
-					filtBlack.modifiers&=~MenuItem.Checked;
-					Filter.showBlacklisted=false;
+                    filtBlack.modifiers=Global.getProfile().showBlacklisted?filtBlack.modifiers|MenuItem.Checked:filtBlack.modifiers&~MenuItem.Checked;
 					Global.mainForm.setTitle("Cachewolf "+Version.getRelease()+" - "+profile.name);
 					infB.close(0);
 					tbp.resetModel();
@@ -309,15 +308,15 @@
 						}
 					}
 				}
-				Filter.showBlacklisted=false;
-				filtBlack.modifiers&=~MenuItem.Checked;
+                Global.getProfile().showBlacklisted = false;
+                filtBlack.modifiers=Global.getProfile().showBlacklisted?filtBlack.modifiers|MenuItem.Checked:filtBlack.modifiers&~MenuItem.Checked;
 				tbp.resetModel();
 			}
 			if(mev.selectedItem == loadOC){
 				OCXMLImporter oc = new OCXMLImporter(pref,profile);
 				oc.doIt();
-				Filter.showBlacklisted=false;
-				filtBlack.modifiers&=~MenuItem.Checked;
+                Global.getProfile().showBlacklisted = false;
+                filtBlack.modifiers=Global.getProfile().showBlacklisted?filtBlack.modifiers|MenuItem.Checked:filtBlack.modifiers&~MenuItem.Checked;
 				tbp.resetModel();
 			}
 			if (mev.selectedItem == update) 
@@ -513,8 +512,9 @@
 				tbp.refreshTable();
 			}
 			if(mev.selectedItem == filtBlack){
-				filtBlack.modifiers^=MenuItem.Checked;
-				Filter.showBlacklisted=!Filter.showBlacklisted;
+				//filtBlack.modifiers=filtBlack.modifiers|MenuItem.Checked;
+				Global.getProfile().showBlacklisted = !Global.getProfile().showBlacklisted;
+				filtBlack.modifiers=Global.getProfile().showBlacklisted?filtBlack.modifiers|MenuItem.Checked:filtBlack.modifiers&~MenuItem.Checked;
 				SearchCache ssc = new SearchCache(cacheDB);
 				ssc.clearSearch();// Clear search & restore filter status
 				Filter flt=new Filter();

Modified: trunk/src/CacheWolf/Profile.java
===================================================================
--- trunk/src/CacheWolf/Profile.java	2008-05-12 01:02:28 UTC (rev 1453)
+++ trunk/src/CacheWolf/Profile.java	2008-05-12 09:18:49 UTC (rev 1454)
@@ -60,6 +60,7 @@
 	// Saved filterstatus - is only refreshed from class Filter when Profile is saved
 	public int filterActive=Filter.FILTER_INACTIVE;
 	public boolean filterInverted=false;
+	public boolean showBlacklisted = false;
 
 	public long filterAttrYes = 0l;
 	public long filterAttrNo = 0l;
@@ -157,7 +158,8 @@
 			detfile.print("    <FILTER status = \""+filterActive+(filterInverted?"T":"F")+ 
 					"\" rose = \""+filterRose+"\" type = \""+filterType+
 					"\" var = \""+filterVar+"\" dist = \""+filterDist.replace('"',' ')+"\" diff = \""+
-					filterDiff+"\" terr = \""+filterTerr+"\" size = \""+filterSize+"\" attributesYes = \""+filterAttrYes+"\" attributesNo = \""+filterAttrNo+"\" attributesChoice = \""+filterAttrChoice+"\" />\n");
+					filterDiff+"\" terr = \""+filterTerr+"\" size = \""+filterSize+"\" attributesYes = \""+filterAttrYes+
+					"\" attributesNo = \""+filterAttrNo+"\" attributesChoice = \""+filterAttrChoice+"\" showBlacklist = \""+showBlacklisted+"\" />\n");
 			detfile.print("    <SYNCOC date = \""+last_sync_opencaching+"\" dist = \""+distOC+"\"/>\n");
 			detfile.print("    <SPIDERGC dist = \""+distGC+"\"/>\n");
 			int size=cacheDB.size();
@@ -267,6 +269,7 @@
 					attr = ex.findNext();
 					if (attr != null && !attr.equals(""))
 						filterAttrChoice = Convert.parseInt(attr);
+					showBlacklisted = new Boolean(ex.findNext()).booleanValue();
 				}
 			}
 			in.close();

Modified: trunk/src/CacheWolf/SearchCache.java
===================================================================
--- trunk/src/CacheWolf/SearchCache.java	2008-05-12 01:02:28 UTC (rev 1453)
+++ trunk/src/CacheWolf/SearchCache.java	2008-05-12 09:18:49 UTC (rev 1454)
@@ -54,7 +54,7 @@
 		for(int i = cacheDB.size()-1;i >=0;i--){
 			CacheHolder ch=((CacheHolder)cacheDB.get(i));
 			ch.is_flaged=false;
-			ch.is_filtered=(ch.is_black^Filter.showBlacklisted) ;
+			ch.is_filtered=(ch.is_black^Global.getProfile().showBlacklisted) ;
 		}
 		//Global.getProfile().filterActive=Filter.filterActive; //TODO This is a hack. Need to tidy this up
 		//Global.getProfile().filterInverted=Filter.filterInverted;

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2008-05-12 01:02:28 UTC (rev 1453)
+++ trunk/src/CacheWolf/myTableModel.java	2008-05-12 09:18:49 UTC (rev 1454)
@@ -181,7 +181,7 @@
 				else if(ch.is_found == true) ta.fillColor = COLOR_FOUND;
 				else if(ch.is_flaged == true) ta.fillColor = COLOR_FLAGED;
 			} catch (Exception e) {};
-		} else if (row==-1 && colMap[col]==0 && Filter.showBlacklisted) ta.fillColor=Color.Black;
+		} else if (row==-1 && colMap[col]==0 && Global.getProfile().showBlacklisted) ta.fillColor=Color.Black;
 		return ta;
 	}
 



From mik77 at mail.berlios.de  Mon May 12 11:59:58 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Mon, 12 May 2008 11:59:58 +0200
Subject: [Cachewolf-svn] r1455 - in trunk: res_noewe src/CacheWolf
Message-ID: <200805120959.m4C9xwOB027870@sheep.berlios.de>

Author: mik77
Date: 2008-05-12 11:59:55 +0200 (Mon, 12 May 2008)
New Revision: 1455

Modified:
   trunk/res_noewe/spider.def
   trunk/src/CacheWolf/SpiderGC.java
Log:
Set "Found" if an event was "Attended" 

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2008-05-12 09:18:49 UTC (rev 1454)
+++ trunk/res_noewe/spider.def	2008-05-12 09:59:55 UTC (rev 1455)
@@ -87,6 +87,7 @@
 # Die Icons, die einen erfolgreichen Fund signalisieren
 icon_smile         = icon_smile.gif
 icon_camera        = icon_camera.gif
+icon_attended      = icon_attended.gif
 
 #--------------------------------------
 #Section2b: Bugs

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-05-12 09:18:49 UTC (rev 1454)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-05-12 09:59:55 UTC (rev 1455)
@@ -876,7 +876,7 @@
 			icon = exIcon.findNext();
 			name = exName.findNext();
 			String d=DateFormat.logdate2YMD(exDate.findNext());
-			if((icon.equals(p.getProp("icon_smile")) || icon.equals(p.getProp("icon_camera"))) &&
+			if((icon.equals(p.getProp("icon_smile")) || icon.equals(p.getProp("icon_camera")) || icon.equals(p.getProp("icon_attended"))) &&
 				(name.equalsIgnoreCase(pref.myAlias) || (pref.myAlias2.length()>0 && name.equalsIgnoreCase(pref.myAlias2))) )  {
 				chD.is_found = true;
 				chD.CacheStatus = d;



From cw-manual at mail.berlios.de  Mon May 12 12:01:57 2008
From: cw-manual at mail.berlios.de (cw-manual at mail.berlios.de)
Date: Mon, 12 May 2008 12:01:57 +0200
Subject: [Cachewolf-svn] r1456 - in trunk/docs/CacheWolf Doku: . pics
Message-ID: <200805121001.m4CA1vIC028110@sheep.berlios.de>

Author: cw-manual
Date: 2008-05-12 12:01:49 +0200 (Mon, 12 May 2008)
New Revision: 1456

Added:
   trunk/docs/CacheWolf Doku/pics/goto_button.jpg
Modified:
   trunk/docs/CacheWolf Doku/ansichten.xml
Log:
lahmer: Worked on grammar, writing, and content stuff of chapter Ansichten.

Modified: trunk/docs/CacheWolf Doku/ansichten.xml
===================================================================
--- trunk/docs/CacheWolf Doku/ansichten.xml	2008-05-12 09:59:55 UTC (rev 1455)
+++ trunk/docs/CacheWolf Doku/ansichten.xml	2008-05-12 10:01:49 UTC (rev 1456)
@@ -1,4 +1,4 @@
-<?xml version="1.0" encoding="UTF-8"?>
+?<?xml version="1.0" encoding="UTF-8"?>
 <chapter>
   <chapterinfo>
     <title>Ansichten</title>
@@ -88,8 +88,8 @@
     <title id="liste">Liste</title>
 
     <para>Die Listenansicht zeigt tabellarisch die Caches im ausgew?hlten
-    Profil an. Welche Spalten scihtbar sind l??t sich in den Pr?ferenzen
-    einstellen (siehe <xref linkend="einstellungListe" />). Ein Doppelklick
+    Profil an. Welche Spalten sichtbar sind ,l??t sich in den Einstellungen
+    konfigurieren (siehe <xref linkend="einstellungListe" />). Ein Doppelklick
     auf eine Zeile ?ffnet die Beschreibung zu dem Cache.</para>
 
     <para><inlinemediaobject>
@@ -109,8 +109,8 @@
     <para>angeboten! Die einzelnen Funktionen im Men? werden hier <xref
     linkend="menue" /> beschrieben.</para>
 
-    <para>Ebenfalls nur in dieser Ansicht verf?gbar ist die
-    Statusleiste:</para>
+    <para>Ebenfalls nur in dieser Ansicht verf?gbar ist die Statusleiste,
+    falls diese in den Einstellungen aktiviert wurde:</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -118,21 +118,24 @@
         </imageobject>
       </inlinemediaobject></para>
 
-    <para>?ber diese Leiste l??t sich die Tourenverwaltung <inlinemediaobject>
+    <para>?ber die Statusleiste l??t sich die Tourenverwaltung
+    <inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/touricon.jpg" />
         </imageobject>
-      </inlinemediaobject> ?ffnen. Der Tourenplaner wird weiter unten
-    beschrieben. Der aktuelle Filter <inlinemediaobject>
+      </inlinemediaobject> ?ffnen. Der Tourenplaner <xref
+    linkend="tourenplaner" /> wird hier ausf?hrlich beschrieben. Der aktuelle
+    Filter <inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/filtericon.gif" />
         </imageobject>
-      </inlinemediaobject> l??t ein- und auschalten. Der Filter <xref
+      </inlinemediaobject> l??t sich ein- und auschalten. Der Filter <xref
     linkend="filter" /> wird hier ausf?hrlich beschrieben.</para>
 
-    <para>Durch einen Klick auf den Spaltenkopf wird die Tabelle neu sortiert.
-    Zuerst aufsteigend und dann absteigend, oder andersherum, je nachdem "wo"
-    man angefangen hat. Die Spaltenbreite l??t sich ebefalls ver?ndern.</para>
+    <para>Durch einen Klick auf den Spaltenkopf wird die Tabelle neu
+    sortiert., z.B. nach der Entfernung zum Zentrum. Zuerst aufsteigend und
+    dann absteigend, oder andersherum, je nachdem "wo" man angefangen hat. Die
+    Spaltenbreite l??t sich ebenfalls ver?ndern.</para>
 
     <para><emphasis role="bold">In der Listenansicht k?nnen einzelne Zeilen
     mit Farben hinterlegt sein:</emphasis></para>
@@ -166,13 +169,18 @@
         </imageobject>
       </inlinemediaobject></para>
 
+    <para>Ob der Cache Dir geh?rt, wird durch Vergleich des in den
+    Einstellungen gesetzten Alias mit dem in der Cachebeschreibung
+    gespeicherten Owner-Namen ermittelt. Beim Setzen des Alias sollte daher
+    auf korrekte Gro?- und Kleinschreibung geachtet werden.</para>
+
     <para><emphasis role="bold">Punkte vor dem Wegpunktnamen informieren ?ber
-    folgende Sachverhalte:</emphasis></para>
+    den Status nach der letzten Aktualisierung:</emphasis></para>
 
     <itemizedlist>
       <listitem>
         <para>ein gelber Punkt kennzeichnet den Cache als ?neu? nach einer
-        Datenaktualisierung durch einen GPX?Import oder durch spidern,</para>
+        Datenaktualisierung durch einen GPX?Import oder durch Spidern,</para>
       </listitem>
 
       <listitem>
@@ -195,9 +203,9 @@
     <para><emphasis role="bold">DNF (did not find = nicht gefunden)
     Farbcodierung:</emphasis></para>
 
-    <para>Vor einzelnen Cache Namen k?nnen Farbbalken erscheinen. Diese zeigen
-    an, wie h?ufig in Folge der Cache nicht gefunden wurde, wenn der letzte
-    Logeintrag ein DNF war:</para>
+    <para>Vor einzelnen Cache-Namen k?nnen Farb-Balken erscheinen. Diese
+    zeigen an, wie h?ufig in Folge der Cache nicht gefunden wurde, wenn der
+    letzte Logeintrag ein DNF war:</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -215,19 +223,20 @@
         <imageobject>
           <imagedata fileref="pics/no_2_log.png" />
         </imageobject>
-      </inlinemediaobject> Letzten beiden Logeintr?ge sind DNFs</para>
+      </inlinemediaobject> Die letzten beiden Logeintr?ge sind DNFs</para>
 
     <para><inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/no_3_log.png" />
         </imageobject>
-      </inlinemediaobject> Letzten drei Logeintr?ge sind DNFs</para>
+      </inlinemediaobject> Die letzten drei Logeintr?ge sind DNFs</para>
 
     <para><inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/no_4_log.png" />
         </imageobject>
-      </inlinemediaobject> Letzten vier oder mehr Logeintr?ge sind DNFs</para>
+      </inlinemediaobject> Die letzten vier oder mehr Logeintr?ge sind
+    DNFs</para>
 
     <section>
       <title id="list_popup">Popup Men? in der Listenansicht</title>
@@ -244,27 +253,27 @@
 
       <orderedlist>
         <listitem>
-          <para><literal>Beschreibung ?ffnen</literal> ?ffnet die
-          <literal>Details</literal> Ansicht f?r den ausgew?hlten Cache in der
-          <literal>Listen</literal> Ansicht.</para>
+          <para><literal>Beschreibung ?ffnen</literal> ?ffnet die Ansicht
+          <literal>Details</literal> f?r den ausgew?hlten Cache in der Ansicht
+          <literal>Liste</literal>.</para>
         </listitem>
 
         <listitem>
-          <para><literal>Gehe zu diesem</literal> ?ffnet die
-          <literal>Goto</literal> Ansicht f?r den gew?hlten Cache. Dabei wird
-          als Zielkoordinate die Koordinate des Caches ?bernommen.</para>
+          <para><literal>Gehe zu diesem</literal> ?ffnet die Ansicht
+          <literal>Goto</literal> f?r den gew?hlten Cache. Dabei wird als
+          Zielkoordinate die Koordinate des Caches ?bernommen.</para>
         </listitem>
 
         <listitem>
-          <para><literal>Diesen als Zentrum setzen</literal> sortiert die
-          Listenansicht neu; dabei werden die Entfernungen zu den restlichen
-          Caches neu berechnet.</para>
+          <para><literal>Diesen als Zentrum setzen</literal> berechnet die
+          Entfernung jedes einzelnen Wegpunkts zum Zentrum neu und zeigt diese
+          in der Listenansicht an.</para>
         </listitem>
 
         <listitem>
           <para><literal>Im Browser online ?ffnen</literal>: Die originale
           Cachebeschreibung wird von geocaching.com oder opencaching.de
-          gezeigt. Braucht eine on-line Verbindung. Die Daten in Cachewolf
+          gezeigt. Ben?tigt eine online-Verbindung. Die Daten in Cachewolf
           werden hierbei nicht aktualisiert! In der Java Version wird dies
           nicht funktionieren, da aktuell ein Bug in der EWE VM vorhanden
           ist.</para>
@@ -272,52 +281,53 @@
 
         <listitem>
           <para><literal>Im Browser offline ?ffnen</literal>: Die
-          Cachebeschreibung wird in dem Browser (der in den Pr?ferenzen
-          eingestellt wurde) dargestellt. In der Java Version wird dies nicht
+          Cachebeschreibung wird in dem Browser, der in den Pr?ferenzen
+          eingestellt wurde, dargestellt. In der Java Version wird dies nicht
           funktionieren, da aktuell ein Bug in der EWE VM vorhanden
           ist.</para>
         </listitem>
 
         <listitem>
-          <para>Nichtmarkierte ausfiltern:</para>
+          <para><literal>Markierte l?schen</literal>: Es werden alle Wegpunkte
+          gel?scht, die mit einem H?kchen versehen sind. Bevor die Wegpunkte
+          tats?chlich gel?scht werden, erfolgt noch eine Sicherheitsabfrage in
+          einem neuen Fenster. In diesem Fenster wird zur Kontrolle noch die
+          Anzahl der markierten Wegpunkte angezeigt.</para>
         </listitem>
 
         <listitem>
-          <para><literal>Markierte l?schen</literal>: Es werden alle Caches
-          gel?scht, die mit einem H?kchen versehen sind.</para>
-        </listitem>
-
-        <listitem>
           <para><literal>Markierte aktualisieren</literal>: Alle Caches, die
-          mit einem H?kchen versehen sind werden aktualisiert indem Cachewolf
-          eine Verbindung zu geocaching.com aufbaut. Hinweis: Arbeitest Du
-          sonst mit GPX - Dateien, dann benutze diese Funktionalit?t, um an
-          die Additional Waypoints zu gelangen, die keine Koordinaten haben
-          (und somit nicht in der GPX Datei vorhanden).</para>
+          mit einem H?kchen versehen sind, werden aktualisiert, indem
+          Cachewolf eine Verbindung zu geocaching.com aufbaut. Hinweis:
+          Arbeitest Du sonst mit GPX-Dateien, dann benutze diese
+          Funktionalit?t, um an die Additional Waypoints zu gelangen, die
+          keine Koordinaten haben (und somit nicht in der GPX Datei vorhanden
+          sind).</para>
         </listitem>
 
         <listitem>
-          <para><literal>Alle w?hlen:</literal> Alle Caches werden mit einem
-          H?kchen vesehen.</para>
+          <para><literal>Alle markieren:</literal> Alle Caches werden mit
+          einem H?kchen versehen.</para>
         </listitem>
 
         <listitem>
-          <para><literal>Alle abw?hlen</literal>: Die H?kchen werden von allen
-          Caches entfernt.</para>
+          <para><literal>Alle Markierungen aufheben</literal>: Die H?kchen
+          werden von allen Caches entfernt.</para>
         </listitem>
       </orderedlist>
     </section>
   </section>
 
   <section>
-    <title>Tourenplaner</title>
+    <title id="tourenplaner">Tourenplaner</title>
 
     <para>Der Tourenplaner l??t sich in der Listenansicht mit einem Klick auf
     <inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/touricon.jpg" />
         </imageobject>
-      </inlinemediaobject> ?ffnen.</para>
+      </inlinemediaobject> oder ?ber <literal>Verwalten -&gt;
+    Cachetour</literal> ?ffnen.</para>
 
     <informaltable>
       <tgroup cols="2">
@@ -330,20 +340,21 @@
               </inlinemediaobject></entry>
 
             <entry valign="top"><para>Mit dem Tourenplaner l??t sich aus der
-            Listenansicht oder dem Radar arbeiten. Caches k?nne durch
-            hineinziehen hinzugef?gt, durch herausziehen aus der Liste
-            entfernt werden.</para><para>Durch einen klick auf die Icons unten
+            Listenansicht oder dem Radar arbeiten. Caches k?nnen durch
+            Hineinziehen hinzugef?gt, durch Herausziehen aus der Liste
+            entfernt werden.</para><para>Durch einen Klick auf die Icons unten
             l??t sich eine neue Liste erzeugen, eine vorhandene ?ffnen, eine
             aktuelle Liste unter einem bestimmten Namen speichern oder eine
             existierende und gerade offene Liste speichern.</para><para>Mit
-            Liste anwenden wird die Listenansicht gefiltert und es sind nur
-            die Caches aus dem Tourenplaner vorhanden.</para><para>Hat man den
-            Tourenplaner und das Radar offen wird die Cachemarkierung im Radar
-            ver?ndert, wenn man auf ein Cache in der Listenansicht klickt
-            (oder mit den Pfeilatsten die Auswahl ver?ndert). Gleiches
-            passiert in der Listenansicht; dann wird jeweils der Cache
-            markiert, der gerade auch im Tourenplaner markiert
-            ist.</para></entry>
+            <literal>Tourfilter anwenden</literal> wird die Listenansicht
+            gefiltert. Anschlie?end werden nur noch die Caches aus dem
+            Tourenplaner angezeigt.</para><para>Hat man den Tourenplaner und
+            das Radar offen wird die Cachemarkierung im Radar ver?ndert, wenn
+            man auf einen Cache im Tourenplaner klickt (oder mit den
+            Pfeilatsten die Auswahl ver?ndert). Gleiches passiert in der
+            Listenansicht. Bei Anklicken eines Caches im Tourenplaner wird
+            jeweils der Cache in der Listenansicht markiert, der gerade auch
+            im Tourenplaner markiert ist.</para></entry>
           </row>
         </tbody>
       </tgroup>
@@ -353,8 +364,9 @@
   <section>
     <title id="detailansicht">Details</title>
 
-    <para>Die Details?Seite zeigt einige Eckdaten zu dem gew?hlten
-    Cache:.</para>
+    <para>Die Ansicht <literal>Details</literal> zeigt einige Eckdaten, wie
+    z.B. Name, Gr??e, Schwierigkeit und Koordinaten, zu dem gew?hlten
+    Cache:</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -374,18 +386,20 @@
 
     <para><inlinemediaobject>
         <imageobject>
-          <imagedata fileref="pics/goto.jpg" />
+          <imagedata fileref="pics/goto_button.jpg" />
         </imageobject>
-      </inlinemediaobject> Mit diesem Button wird die <literal>Goto</literal>
-    Ansicht ge?ffnet. Die Zielkoordinaten sind dann bereits auf die
-    Koordinaten des Caches gesetzt.</para>
+      </inlinemediaobject> Mit diesem Button wird die Ansicht
+    <literal>Goto</literal> ge?ffnet. Die Zielkoordinaten sind dann bereits
+    auf die Koordinaten des Caches gesetzt.</para>
 
     <para><inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/tb.jpg" />
         </imageobject>
       </inlinemediaobject> Sind Travelbugs in diesem Cache vorhanden (kein
-    roter Strich!) kann man die Beschreibungen zu den TBs ?ffnen.</para>
+    roter Strich!) kann man die Beschreibungen zu den TBs ?ffnen. Sind keine
+    TBs vorhanden, ist dieser Button deaktiviert (roter, diagonaler
+    Strich).</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -400,7 +414,7 @@
           <imagedata fileref="pics/pics.jpg" />
         </imageobject>
       </inlinemediaobject> Mit diesem Button k?nnen eigene Bilder zum Cache
-    hinzugef?gt werden. Dies d?rfte f?r diejenigen Interessant sein, die ihre
+    hinzugef?gt werden. Dies d?rfte f?r diejenigen interessant sein, die ihre
     Cachereisen archivieren. Zum Thema archivieren gibt es hier <xref
     linkend="verwalten" /> mehr.</para>
 
@@ -419,21 +433,23 @@
           <imagedata fileref="pics/notes.jpg" />
         </imageobject>
       </inlinemediaobject> Durch einen Klick auf diesen Button wird ein
-    Notizenfenster ge?ffnet. Die Notizen werden mit dem Cache
-    gespeichert.</para>
+    Notizenfenster ge?ffnet. Die Notizen werden mit dem Cache gespeichert.
+    Falls es zu diesem Cache bereits Notizen gibt, werden diese auf dem PC im
+    unteren Bereich angezeigt.</para>
 
     <para><inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/time.jpg" />
         </imageobject>
-      </inlinemediaobject> Durch einen Klick auf diesen Button wird zu den
-    Notizen die Uhrzeit und das Datum des PDAs hinzugef?gt.</para>
+      </inlinemediaobject> Durch einen Klick auf diesen Button werden in einer
+    neuen Zeile am Ende der Notizen die Uhrzeit und das Datum des PDAs
+    hinzugef?gt.</para>
 
     <para>?nderungen in den Textfeldern oder in den Auswahlfeldern werden
     gespeichert! Am Interessantesten d?rfte das Feld neben
     <literal>Status</literal> sein. Durch einen Klick auf das Datumsfeld kann
-    das Gefunden Datum gesetzt werden (Datum wird durch ein Klick auf das
-    gr?ne H?ckchen gesetzt).</para>
+    das <literal>Gefunden</literal> Datum gesetzt werden (Datum wird durch ein
+    Klick auf das gr?ne H?ckchen gesetzt).</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -453,9 +469,9 @@
   <section>
     <title>Beschreibung</title>
 
-    <para>Die Beschreibung erfolgt weitesgehend in HTML. Bilder werden falls
-    m?glich ebenfalls angezeigt.. Ansonsten k?nnen die Bilder in der
-    Bilderansicht (n?chster Reiter) anschauen.</para>
+    <para>Die Beschreibung erfolgt weitestgehend in HTML. Bilder werden, falls
+    m?glich, ebenfalls angezeigt. Ansonsten kann man sich die Bilder auch
+    einzeln in der Bilderansicht (n?chster Reiter) anschauen.</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -464,7 +480,7 @@
       </inlinemediaobject></para>
 
     <para>Mit <literal>+</literal> und <literal>-</literal> l??t sich die
-    Schriftgr??e vergr??ern und verkleinern.</para>
+    Schriftgr??e der Beschreibung vergr??ern und verkleinern.</para>
   </section>
 
   <section>
@@ -473,13 +489,13 @@
     <para>Falls Bilder in der Cachebeschreibung vorhanden sind, werden diese
     in der Bilder?Ansicht als ?Thumbnails? dargestellt. Ein Klick auf ein Bild
     ?ffnet ein neues Fenster. In diesem Fenster wird das Bild so dargestellt,
-    dass es in das vorhandene Fenster passt. Nochmal auf das Bild klicken und
-    es wird in der Originalaufl?sung dargestellt. Falls vorhanden, steht die
+    dass es in das vorhandene Fenster passt. Ein weiterer Klick auf das Bild
+    stellt es in der Originalaufl?sung dar. Falls vorhanden, steht die
     Bildbeschreibung unter dem jeweiligen Bild.</para>
 
-    <para>Bilder k?nnen durch rechte Maustaste gel?scht werden (z.B. um am PDA
-    Platz zu sparen). In den Pr?ferenzen ist einstellbar ob gel?schte Bilder
-    durch ein rotes ? ersetzt werden oder ?berhaupt nicht angezeigt
+    <para>Bilder k?nnen durch rechte Maustaste gel?scht werden (z.B. um auf
+    dem PDA Platz zu sparen). In den Einstellungen kann man angeben, ob
+    gel?schte Bilder durch ein rotes ? ersetzt oder ?berhaupt nicht angezeigt
     werden.</para>
 
     <para><inlinemediaobject>
@@ -492,15 +508,16 @@
   <section>
     <title>Hints &amp; Logs</title>
 
-    <para>In der Hints &amp; Logs-Ansicht werden im oberen Teil des
-    Bildschirms (falls vorhanden) 5 Logeintr?ge gezeigt. Falls mehr als 5 Logs
-    vorhanden sind, kann man mit den &gt;&gt; und &lt;&lt; Kn?pfen in den
-    Eintr?gen vorw?rts und r?ckw?rts bl?ttern. Die Anzahl der anzuzeigenden
-    Logs kann in den Pr?ferenzen auch auf einen anderen Wert als 5 eingestellt
-    werden.</para>
+    <para>In der Ansicht <literal>Hints &amp; Logs</literal> werden im oberen
+    Teil des Bildschirms (falls vorhanden) 5 Logeintr?ge gezeigt. Falls mehr
+    als 5 Logs vorhanden sind, kann man mit den &gt;&gt; und &lt;&lt; Kn?pfen
+    in den Eintr?gen vorw?rts und r?ckw?rts bl?ttern. Die Anzahl der
+    anzuzeigenden Logs kann in den Einstellungen auch auf einen anderen Wert
+    als 5 gesetzt werden.</para>
 
     <para>Den mit ROT13 verschl?sselten Hint (L?sungshinweise zum Cache) im
-    unteren Teil des Bildschirms kann man mit ?Decode" entschl?sseln.</para>
+    unteren Teil des Bildschirms kann man mit <literal>Decode</literal>
+    entschl?sseln.</para>
 
     <para>Der Balken zwischen Hint und Logs kann durch Ziehen verschoben
     werden um so je nach Bedarf f?r Hint oder Logs mehr Platz zu schaffen.
@@ -527,43 +544,43 @@
         </imageobject>
       </inlinemediaobject></para>
 
-    <para>Der Solver hat zwei Bereiche: Der obere (weisse) dient zur Eingabe
-    von Befehlen, der untere (graue) stellt die Ausgabe dar.</para>
+    <para>Der L?ser hat zwei Bereiche: Der obere (wei?e) dient zur Eingabe von
+    Befehlen, der untere (graue) stellt die Ausgabe dar.</para>
 
-    <para>Der Knopf 'Rechne!' f?hrt die Befehle im oberen Bereich aus und
-    stellt das Ergebnis im unteren Bereich dar. Die anderen Kn?pfe dienen zum
-    Laden bzw. Speichern von Befehlsfolgen.</para>
+    <para>Der Knopf <literal>Rechne!</literal> f?hrt die Befehle im oberen
+    Bereich aus und stellt das Ergebnis im unteren Bereich dar. Die anderen
+    Kn?pfe dienen zum Laden bzw. Speichern von Befehlsfolgen.</para>
 
-    <para>Die Gr??e der Bereiche kann durch Ziehen des Steges zwischen den
-    Bereichen angepa?t werden. Ein Doppelklick auf den Steg maximiert jeweils
-    den oberen oder unteren Teil.</para>
+    <para>Die Gr??e der Bereiche kann durch Ziehen des Balkens zwischen den
+    Bereichen angepa?t werden. Ein Doppelklick auf den Balken maximiert
+    jeweils den oberen oder unteren Teil.</para>
 
-    <para>Wenn nur ein Befehl ausgef?hrt werden soll, kann es schneller sein
-    durch Doppelklick auf das obere Fenster die Direkteingabe
-    aufzurufen.</para>
+    <para>Wenn nur ein Befehl ausgef?hrt werden soll, ist es eventuell
+    einfacher und schneller, durch Doppelklick auf das obere Fenster die
+    Direkteingabe aufzurufen.</para>
 
     <para>Der Ausgabebereich kann auf zwei Arten gel?scht werden: Durch den
-    Befehl cls(), ?ber das Kontextmen? (=rechte Maustaste).</para>
+    Befehl cls() oder ?ber das Kontextmen? (=rechte Maustaste).</para>
 
     <para>Um die Tipparbeit (insbesondere unterwegs) auf ein Minimum zu
     reduzieren:</para>
 
     <itemizedlist>
       <listitem>
-        <para>m?ssen Funktionsnamen nicht mehr ausgeschrieben werden. Es
-        gen?gt wenn so viele Zeichen angegeben werden, wie notwendig um die
+        <para>m?ssen Funktionsnamen nicht ausgeschrieben werden. Es gen?gt,
+        wenn so viele Zeichen angegeben werden, wie notwendig sind um die
         Funktion eindeutig zu bestimmen. Beispiel: Statt crosstotal reicht
         auch cr</para>
 
-        <para>Hinweis: Die mindestens anzugebenden Buchstaben sind bei den
-        weiter unten beschriebenen Funktionen unterstrichen wie z.B.
+        <para role="">Hinweis: Die mindestens anzugebenden Buchstaben sind bei
+        den weiter unten beschriebenen Funktionen unterstrichen, wie z.B.
         quersumme</para>
       </listitem>
 
       <listitem>
         <para>sind einige Funktionen auch unter mehrfachen Namen ansprechbar
-        (alias). So kann statt crosstotal auch Quersumme geschrieben werden,
-        bzw. wegen oben auch kurz q</para>
+        (Alias). So kann statt crosstotal auch quersumme geschrieben werden
+        bzw. wie oben gesehen auch kurz q</para>
       </listitem>
 
       <listitem>
@@ -572,17 +589,17 @@
       </listitem>
 
       <listitem>
-        <para>ist das Semikolon als Befehlsende nicht mehr notwending ausser
-        wenn mehrere Befehle auf einer Zeile stehen sollen. Fortsetzungszeilen
+        <para>ist das Semikolon als Befehlsende nicht mehr notwending au?er
+        wenn mehrere Befehle in einer Zeile stehen sollen. Fortsetzungszeilen
         k?nnen durch _ oder \ erzwungen werden (sollte aber kaum notwendig
         sein).</para>
       </listitem>
 
       <listitem>
-        <para>kann umgeschaltet werden ob Variablennamen Case-sensitiv sein
-        sollen. Funktionsname sind nicht case-sensitiv, d.h. die
-        Gross-/Kleinschreibung ist egal: Quersumme oder quersumme liefert das
-        gleiche Ergebnis. Bei Variablen ist aber standardm??ig A nicht gleich
+        <para>kann umgeschaltet werden, ob Variablennamen case-sensitive sein
+        sollen. Funktionsnamen sind nicht case-sensitive, d.h. die
+        Gross-/Kleinschreibung ist egal: Quersumme und quersumme liefern
+        dasselbe Ergebnis. Bei Variablen ist aber standardm??ig A nicht gleich
         a, also Vorsicht!</para>
       </listitem>
     </itemizedlist>
@@ -610,7 +627,7 @@
 
           <td>Variablen einen Wert (value) zuweisen</td>
 
-          <td>a = 5 WP="N 47 13.876 E 11 23.547"</td>
+          <td>a = 5<para>WP="N 47 13.876 E 11 23.547"</para></td>
 
           <td>Keine Anzeige bei Zuweisung</td>
         </tr>
@@ -640,9 +657,9 @@
 
           <td>Werte anzeigen</td>
 
-          <td>"N 34 12." show(a) "12" # oder auch "N 34 12." a "12"</td>
+          <td>"N 34 12." show(a) "12" # oder auch<para>"N 34 12." a "12"</para></td>
 
-          <td>N 34 12.512 N 34 12.512</td>
+          <td>N 34 12.512<para>N 34 12.512</para></td>
         </tr>
 
         <tr>
@@ -652,31 +669,33 @@
           zwei : die Formatierungszeichen 0 # und . verwendet werden. 0 steht
           f?r eine Ziffer, # f?r beliebig viele Ziffern</td>
 
-          <td>3.31:000: 3.56:0.0: 3.5671:0.#:</td>
+          <td>3.31:000: <para>3.56:0.0:</para><para>3.5671:0.#:</para></td>
 
-          <td>003 3.6 3.5671</td>
+          <td>003<para>3.6</para><para>3.5671</para></td>
         </tr>
       </tbody>
     </table>
 
-    <para><emphasis role="bold">Globale Variable</emphasis></para>
+    <para><emphasis role="bold">Globale Variablen</emphasis></para>
 
     <para>Der L?ser unterscheidet zwischen lokalen und globalen Variablen.
-    Globale Variable merken sich ihren Wert zwischen mehrfachem Klick auf den
-    'Rechne!' Knopf, lokale Variable hingegen nicht. Globale Variable habe als
-    erstes Zeichen ein $. Beispiel:</para>
+    Globale Variablen merken sich ihren Wert zwischen mehrfachem Klick auf den
+    Knopf <literal>Rechne!</literal>, lokale Variablen hingegen nicht. Globale
+    Variablen habe als erstes Zeichen ein $. Beispiel:</para>
 
     <para><literal>$S=$S+1; "STAGE " $S</literal></para>
 
-    <para>Wenn diese Befehle mit dreimaligem Klick auf 'Rechne!' ausgef?hrt
-    werden, ergibt es folgende Ausgabe:</para>
+    <para>Wenn diese Befehle mit dreimaligem Klick auf den Knopf
+    <literal>Rechne! </literal>ausgef?hrt werden, ergibt dies folgende
+    Ausgabe:</para>
 
     <para><literal>STAGE 1 STAGE 2 STAGE 3</literal></para>
 
-    <para>Ein weiterer Unterschied ist, da? globale Variable mit der leeren
-    Zeichenkette vorbelegt werden. Lokale Variable werden nicht initialisiert.
-    Wenn eine lokale Variable verwendet wird, ohne da? ihr zuvor ein Wert
-    zugewiesen wurde, ergibt das einen Fehler. Beispiel:</para>
+    <para>Ein weiterer Unterschied ist, da? globale Variablen mit der leeren
+    Zeichenkette vorbelegt werden. Lokale Variablen werden nicht
+    initialisiert. Wenn eine lokale Variable verwendet wird, ohne da? ihr
+    zuvor ein Wert zugewiesen wurde, ergibt dies einen Fehler.
+    Beispiel:</para>
 
     <para><literal>A=B</literal></para>
 
@@ -685,10 +704,10 @@
     <para><literal>Fehler in Zeile:1 Spalte:1 Variable hat keinen Wert:
     B</literal></para>
 
-    <para>Alle Wegpunkte sind standardm??ig auch als globale Variable
+    <para>Alle Wegpunkte sind standardm??ig auch als globale Variablen
     ansprechbar, sowohl schreibend als auch lesend. Beispiel:</para>
 
-    <para><literal>$GCZ10H $OCABCD="N 47 23.456 W 1 25.987"</literal></para>
+    <para><literal>$GCZ10H; $OCABCD="N 47 23.456 W 1 25.987"</literal></para>
 
     <para>zeigt die Koordinate des Wegpunktes GCZ10H an und setzt den Wegpunkt
     OCABCD auf eine neue Koordinate.</para>
@@ -946,23 +965,23 @@
         </tr>
 
         <tr>
-          <td>val(String)</td>
+          <td>sval(String)</td>
 
-          <td>String addieren (A=1,B=2,...)</td>
+          <td>Ersetze Buchstaben durch ihre Position im Alphabet</td>
 
-          <td>val("HelloWorld")</td>
+          <td>sval("HelloWorld")</td>
 
-          <td>124</td>
+          <td>08 05 12 12 15 23 15 18 12 04</td>
         </tr>
 
         <tr>
-          <td>sval(String)</td>
+          <td>val(String)</td>
 
-          <td>Ersetze Buchstaben durch ihre Position im Alphabet</td>
+          <td>String addieren (A=1,B=2,...)</td>
 
-          <td>sval("HelloWorld")</td>
+          <td>val("HelloWorld")</td>
 
-          <td>08 05 12 12 15 23 15 18 12 04</td>
+          <td>124</td>
         </tr>
 
         <tr>
@@ -979,9 +998,9 @@
         <tr>
           <td>rot13(String)</td>
 
-          <td>Rot13 encoder</td>
+          <td>Rot13 Encoder</td>
 
-          <td>rot13("HelloWorld"</td>
+          <td>rot13("HelloWorld")</td>
 
           <td>UryybJbeyq</td>
         </tr>
@@ -1040,7 +1059,33 @@
           <td>Profilzentrum ins derzeitige Zentrum kopieren</td>
         </tr>
 
+          <tr>
+        <td>profilecenter()<para>Alias: ProfilZentrum oder auch:
+          pz</para></td>
+
+          <td>Profilzentrum</td>
+
+          <td>$Z=profilecenter()</td>
+
+          <td>Profilzentrum in globaler Variable $Z speichern</td>
+        </tr>
+
         <tr>
+          <td rowspan="2">profilecenter(Koordinate)</td>
+
+          <td rowspan="2">Profilzentrum setzen</td>
+
+          <td>pz($Z)</td>
+
+          <td>Profilzentrum wieder auf vorher gespeicherten Wert setzen</td>
+        </tr>
+
+        <tr>
+          <td>pz(ce())</td>
+
+          <td>Derzeitiges Zentrum in Profilzentrum kopieren</td>
+        </tr>
+          <tr>
           <td>curpos<para>Alias: cp</para></td>
 
           <td>Derzeitige GPS Position</td>
@@ -1113,34 +1158,7 @@
           <td>format(WP,"cw")</td>
 
           <td>N 47?13.876 E 011?23.547</td>
-        </tr>
-
-        <tr>
-          <td>profilecenter()<para>Alias: ProfilZentrum oder auch:
-          pz</para></td>
-
-          <td>Profilzentrum</td>
-
-          <td>$Z=profilecenter()</td>
-
-          <td>Profilzentrum in globaler Variable $Z speichern</td>
-        </tr>
-
-        <tr>
-          <td rowspan="2">profilecenter(Koordinate)</td>
-
-          <td rowspan="2">Profilzentrum setzen</td>
-
-          <td>pz($Z)</td>
-
-          <td>Profilzentrum wieder auf vorher gespeicherten Wert setzen</td>
-        </tr>
-
-        <tr>
-          <td>pz(ce())</td>
-
-          <td>Derzeitiges Zentrum in Profilzentrum kopieren</td>
-        </tr>
+        </tr>   
       </tbody>
     </table>
 
@@ -1233,7 +1251,7 @@
         </tr>
 
         <tr>
-          <td>ignorecase Alias: ic</td>
+          <td>ignorecase (Alias: ic)</td>
 
           <td>Anzeigen oder setzen ob Variablennamen die
           Gross-/Kleinschreibung unterscheiden</td>
@@ -1250,7 +1268,7 @@
 
           <td>ic(1)</td>
 
-          <td>3</td>
+          <td></td>
         </tr>
 
         <tr>
@@ -1262,7 +1280,7 @@
         <tr>
           <td>a</td>
 
-          <td></td>
+          <td>3</td>
         </tr>
 
         <tr>
@@ -1272,7 +1290,7 @@
 
           <td>ic(0)</td>
 
-          <td>Fehlermeldung weil A &lt;&gt; a</td>
+          <td></td>
         </tr>
 
         <tr>
@@ -1284,13 +1302,13 @@
         <tr>
           <td>a</td>
 
-          <td></td>
+          <td>Fehlermeldung weil A &lt;&gt; a</td>
         </tr>
       </tbody>
     </table>
 
     <para>Hinweis: Der Status von ignorecase bleibt ?ber die CW-Sitzung hinaus
-    erhalten, weil er in den Pr?ferenzen gespeichert wird!!</para>
+    erhalten, weil er in den Einstellungen gespeichert wird!!</para>
 
     <para><emphasis role="bold">Bedingte Ausf?hrung</emphasis></para>
 
@@ -1396,13 +1414,16 @@
   <section>
     <title>Rechner</title>
 
-    <para>Die Rechneransicht erlaubt die Projektion und Umwandlung von
-    Koordinaten. Projezierte Koordinaten lassen sich gleich als neuer Wegpunkt
-    in der Datenbank abspeichern. Umwandeln kann man zwischen UTM und
-    verschiedenen Formaten von Grad, Minute und Sekunde.</para>
+    <para>Die Rechneransicht erlaubt ?ber den Button <literal>Calc</literal>
+    die Projektion und Umwandlung von Koordinaten. Projezierte Koordinaten
+    lassen sich gleich als <literal>Neuer Wegpunkt</literal> in der Datenbank
+    abspeichern. Umwandeln kann man zwischen UTM und verschiedenen Formaten
+    von Grad, Minute und Sekunde.</para>
 
-    <para>?ber den Goto Button kann sich auch direkt zu den errechneten
-    Koordinaten f?hren lassen.</para>
+    <para>?ber den Button <literal>Goto</literal> kann man sich auch direkt zu
+    den errechneten Koordinaten f?hren lassen. <literal>Clear</literal>
+    entfernt die bisherige berechneten Koordinaten aus dem unteren
+    Ausgabe-Bildschirm.</para>
 
     <para><inlinemediaobject>
         <imageobject>
@@ -1415,7 +1436,7 @@
     <title id="goto">Goto</title>
 
     <para>Sofern ein GPS Empf?nger angeschlossen ist und die GPS Einstellungen
-    in den Pr?ferenzen gesetzt sind kann man mit der Hilfe dieser Ansicht sich
+    in den Einstellungen gesetzt sind, kann man sich mit Hilfe dieser Ansicht
     zu einem Cache navigieren lassen.</para>
 
     <para><inlinemediaobject>
@@ -1424,45 +1445,51 @@
         </imageobject>
       </inlinemediaobject></para>
 
-    <para>Die Navigation wird gestartet und beendet durch einen Klick auf den
-    ?Start?-Knopf. Neue Zielkoordinaten k?nnen ?ber den Knopf ?Neuer Wegpunkt?
-    eingegeben werden. Soll die aktuell gemessene Position als Zentrum genutzt
-    werden (f?r Radar und die Entfernungsberechnung in der Listenansicht)
-    klickt man auf den ?Zentrum?-Knopf. Hat man GPS-Empfang erscheinen eine
+    <para>Die Navigation wird durch einen Klick auf den Knopf
+    <literal>Start</literal> bzw. <literal>Stop</literal> gestartet und
+    beendet. Neue Zielkoordinaten k?nnen durch Klicken in das Koordinatenfeld
+    hinter <literal>Ziel</literal> (blau hinterlegt) eingegeben werden. ?ber
+    den Knopf <literal>Neuer Wegpunkt</literal> kann ein neuer Wegpunkt
+    erzeugt und mit Informationen gef?llt werden. Hat man GPS-Empfang werden
+    die aktuellen Koordinaten im neu erzeugten Wegpunkt eingetragen.</para>
+
+    <para>Soll die aktuell gemessene Position als Zentrum genutzt werden (f?r
+    Radar und die Entfernungsberechnung in der Listenansicht), klickt man auf
+    den Knopf <literal>Zentrum</literal>. Hat man GPS-Empfang, erscheinen eine
     rote, eine blaue und eine gelbe Linie in der Kompassrose. Die rote Linie
     zeigt die aktuelle Richtung (sofern man sich bewegt) und die blaue Linie
-    die Richtung zur Zielkoordinate. Liegen blaue und rote Linie ?bereinander
+    die Richtung zur Zielkoordinate. Liegen blaue und rote Linie ?bereinander,
     bewegt man sich direkt auf den Cache zu. Die gelbe Linie zeigt die
     Richtung der Sonne. H?lt man also den PDA mit der gelben Linien auf die
-    Sonne zeigt die blaue Linie direkt auf den Cache!</para>
+    Sonne, zeigt die blaue Linie direkt in Richtung des Caches!</para>
 
-    <para>Der Map Button verdient ein eigenes Kapitel.</para>
+    <para>Der Button <literal>Karte</literal> verdient ein eigenes
+    Kapitel:</para>
 
     <section>
-      <title id="moving_map">Map (auch Karte, bzw. die Moving Map)</title>
+      <title id="moving_map">Karte (auch Map bzw. Moving Map)</title>
 
-      <para>Durch einen klick auf <literal>Map</literal> oder
-      <literal>Karte</literal> wird ein neues Fenster ge?ffnet in dem eine
-      Karte angezeigt wird. Welche Karte gezeigt wird h?ngt von drei Faktoren
-      ab:</para>
+      <para>Durch einen Klick auf <literal>Karte</literal> wird ein neues
+      Fenster ge?ffnet, in dem eine Karte angezeigt wird. Welche Karte gezeigt
+      wird, h?ngt von drei Faktoren ab:</para>
 
       <orderedlist>
         <listitem>
-          <para>Hast du den Globus aus aus der Detailansicht (siehe <xref
-          lang="" linkend="detailansicht" />) geklickt, wird eine Karte
-          dargestellt auf dem die Position des gew?hlten Caches (siehe <xref
-          lang="" linkend="liste" />) gezeigt wird.</para>
+          <para>Hast du den Globus in der Detailansicht (siehe <xref lang=""
+          linkend="detailansicht" />) angeklickt, wird eine Karte dargestellt
+          ,auf der die Position des gew?hlten Caches (siehe <xref lang=""
+          linkend="liste" />) gezeigt wird.</para>
         </listitem>
 
         <listitem>
-          <para>Hast Du, ohne dass ein Cache gew?hlt wurde aus der Goto
-          Ansicht diese Funktion gew?hlt wird eine Karte zentriert auf das
-          aktuelle Zentrum gezeigt.</para>
+          <para>Hast Du, ohne dass ein Cache gew?hlt wurde, aus der Ansicht
+          <literal>Goto</literal> diese Funktion gew?hlt, wird eine Karte
+          zentriert auf das aktuelle Zentrum gezeigt.</para>
         </listitem>
 
         <listitem>
           <para>Es wird keine Karte angezeigt, wenn keine vorhanden ist. Wie
-          Du an Karten herankommst wird hier <xref linkend="karten" />
+          Du an Karten kommst, wird hier <xref linkend="karten" />
           beschrieben.</para>
         </listitem>
       </orderedlist>
@@ -1473,12 +1500,12 @@
           </imageobject>
         </inlinemediaobject></para>
 
-      <para>Durch klicken und verschieben mit der Maus l?sst sich die geladene
-      Karte verschieben. Hast Du eine Karte sehr weit verschoben, wird eine
-      aktueller Karte (so fern vorhanden) nachgeladen und angezeigt.</para>
+      <para>Durch Klicken und Ziehen der Maus l?sst sich die geladene Karte
+      verschieben. Hast Du eine Karte sehr weit verschoben, wird eine
+      aktuellere Karte (sofern vorhanden) nachgeladen und angezeigt.</para>
 
-      <para>Durch klicken auf das gelbe Dreieck ?ffnet sich ein umfangreiches
-      Men?:</para>
+      <para>Durch Klicken auf das gelbe Dreieck in der linken oberen Ecke
+      ?ffnet sich ein umfangreiches Men?:</para>
 
       <para><inlinemediaobject>
           <imageobject>
@@ -1492,38 +1519,42 @@
       <itemizedlist>
         <listitem>
           <para>Mit <literal>Karte manuell ausw?hlen</literal> kann eine
-          bestimmte Karte geladen werden. Durch einen klick auf diesen
+          bestimmte Karte geladen werden. Durch einen Klick auf diesen
           Men?punkt bekommt man eine Auswahlliste s?mtlicher Karten, die
-          Cachewolf im aktuellen maps Verzeichnis gefunden hat.</para>
+          Cachewolf im aktuellen <literal>maps</literal> Verzeichnis gefunden
+          hat.</para>
         </listitem>
 
         <listitem>
-          <para>Cachewolf sucht grunds?tzlich in einem "maps" Verzeichnis im
-          Datenverzeichnis nach geeigneten Karten. Innerhalb des maps
-          Verzeichnis k?nnen noch die Verzeichnisse expedia, standard und topo
-          vorhanden sein. Mit der Funktion <literal>Kartenverzeichnis
-          wechseln</literal> kann ein anderes beliebiges Verzeichnis gew?hlt
-          werden. CacheWolf durchsucht dabei stets das gew?hlte Verzeichnis
-          und alle Verzeichnisse eine Ebene tiefer, die in dem gew?hlten
-          Verzeichnis liegen. Es sollte also das Verzeichnis "topo" ausgew?hlt
-          werden, dann werden auch die Karten gefunden, die sich in
-          topo/&lt;profilname&gt; befinden.</para>
+          <para>Cachewolf sucht grunds?tzlich in einem <literal>maps</literal>
+          Verzeichnis im Datenverzeichnis nach geeigneten Karten. Innerhalb
+          des <literal>maps</literal> Verzeichnis k?nnen noch die
+          Verzeichnisse <literal>expedia</literal>,
+          <literal>standard</literal> und <literal>topo</literal> vorhanden
+          sein. Mit der Funktion <literal>Kartenverzeichnis wechseln</literal>
+          kann ein anderes beliebiges Verzeichnis gew?hlt werden. CacheWolf
+          durchsucht dabei stets das gew?hlte Verzeichnis und alle
+          Verzeichnisse eine Ebene tiefer (d.h. die Unterverzeichnisse, die in
+          dem gew?hlten Verzeichnis liegen). Es sollte also das Verzeichnis
+          <literal>topo</literal> ausgew?hlt werden, damit auch die Karten
+          gefunden werden, die sich in topo/&lt;profilname&gt;
+          befinden.</para>
         </listitem>
       </itemizedlist>
 
-      <para>Durch einen klick auf GPS (mit den gr?nen Pfeilen) l??t sich der
-      GPS Empfang einschalten und die Karte so verschieben, dass der aktuelle
-      Standpunkt in der Mitte des Bildschirmes liegt. Ist der GPS-Empfang
-      eingeschaltet und ein Fix ist vorhanden, dann zeigt ein gr?ner Kreis in
-      der Mitte des Schirms immer auf die eigene aktuelle Position, auch wenn
-      man sich bewegt. Wenn man sich bewegt wird die Karte so verschoben, dass
-      die eigene Position immer in der Mitte des Schirms mit gr?nen Kreis
-      angezeigt wird. Wenn kein Fix vorhanden ist, zeigt ein gelber Kreis die
-      letzte bekannte Position an. Wenn ein Fehler mit GPS-Empf?nger
-      aufgetreten ist, wird der Kreis rot und eine Fehlermeldung poppt
-      auf.</para>
+      <para>Durch einen Klick auf das GPS-Symbol am rechten Rand (gr?ne
+      Pfeile) l??t sich der GPS Empfang einschalten und die Karte so
+      verschieben, dass der aktuelle Standpunkt in der Mitte des Bildschirmes
+      liegt. Ist der GPS-Empfang eingeschaltet und ein Fix ist vorhanden, dann
+      zeigt ein gr?ner Kreis in der Mitte des Schirms immer auf die eigene
+      aktuelle Position, auch wenn man sich bewegt. Wenn man sich bewegt wird
+      die Karte so verschoben, dass die eigene Position immer in der Mitte des
+      Schirms mit gr?nen Kreis angezeigt wird. Wenn kein Fix vorhanden ist,
+      zeigt ein gelber Kreis die letzte bekannte Position an. Wenn ein Fehler
+      mit dem GPS-Empf?nger aufgetreten ist, wird der Kreis rot und eine
+      Fehlermeldung erscheint.</para>
 
-      <para>Durch Klick auf die Lupe, kann man in die Karte hinein- und
+      <para>Durch Klick auf die Lupe kann man in die Karte hinein- und
       herauszoomen. Man kann ein Rechteck aufziehen, auf das gezoomt werden
       soll. Zieht man das Rechteck von links-oben nach rechts-unten auf, so
       wird in das Rechteck hineingezoomt. Zieht man das Rechteck von
@@ -1532,12 +1563,9 @@
       wird.</para>
 
       <para>Mit Klick auf 1:1 kann der urspr?ngliche Ma?stab der Karte wieder
-      hergestellt werden.Dr?ckt man lange oder mit der rechten Maustaste
-      irgendwo in die Karte, ?ffnet sich ein Kontextmen?. Wenn man auf einen
-      Cache geklickt hat, so kann man die entsprechende Cachebeschreibung
-      ?ffnen.</para>
+      hergestellt werden.</para>
 
-      <para>Dr?ckt man lange oder mit der rechten Maustaste irgendwo in die
+      <para>Klickt man lange oder mit der rechten Maustaste irgendwo in die
       Karte, ?ffnet sich ein Kontextmen?:</para>
 
       <para><inlinemediaobject>
@@ -1546,10 +1574,9 @@
           </imageobject>
         </inlinemediaobject></para>
 
-      <para>Die Men?eintr?ge sind,denke ich, selbsterkl?rend.</para>
-
-      <para>Wenn man auf einen Cache geklickt hat, so kann man die
-      entsprechende Cachebeschreibung ?ffnen.</para>
+      <para>Die Men?eintr?ge sind,denke ich, selbsterkl?rend. Wenn man auf
+      einen Cache geklickt hat, so kann man ?ber einen zus?tzlichen Men?punkt
+      die entsprechende Cachebeschreibung ?ffnen.</para>
     </section>
   </section>
 
@@ -1557,15 +1584,17 @@
     <title id="radar">Radar</title>
 
     <para>Der Radar ist sehr n?tzlich, um eine Cachetour zu planen. Jeder
-    Kreis entspricht einem Sprung von 10km. Durch ?-? und ?+? kann man auf das
-    Zentrum hinein- und herauszommen. Durch einen Klick auf ?Toggle? werden
-    neben den Cachesymbolen die Wegpunktnamen ebenfalls angezeigt. Ein
-    erneuter Klick auf ?Toggle? zeigt den Cachenamen an. Infos werden auch
-    gezeigt, wenn man mit der Maus ?ber ein Cachesymbol f?hrt.</para>
+    gr?ne Kreis entspricht einer Entfernung von 10km. Ein gelber Kreis zeigt
+    eine Entfernung von 1km an. Durch ?-? und ?+? kann man auf das Zentrum
+    hinein- und herauszommen. Durch einen Klick auf <literal>Toggle</literal>
+    werden neben den Cachesymbolen zus?tzlich die Wegpunktnamen angezeigt. Ein
+    erneuter Klick auf <literal>Toggle</literal> zeigt statt des
+    Wegpunktnamens den Cachenamen an. Infos werden auch gezeigt, wenn man mit
+    der Maus ?ber ein Cachesymbol f?hrt.</para>
 
     <para>Der rote Kreis zeigt den aktuell in der Listenansicht gew?hlten
     Cache. Man kann auf ein anderes Cachesymbol klicken: Die Ansicht wechselt
-    dann wieder auf die Listenansicht, in dem der gew?hlte Cache markiert
+    dann wieder auf die Listenansicht, in der der gew?hlte Cache markiert
     ist.</para>
 
     <para><inlinemediaobject>

Added: trunk/docs/CacheWolf Doku/pics/goto_button.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/docs/CacheWolf Doku/pics/goto_button.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From mik77 at mail.berlios.de  Tue May 13 20:24:07 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Tue, 13 May 2008 20:24:07 +0200
Subject: [Cachewolf-svn] r1457 - trunk/src/CacheWolf
Message-ID: <200805131824.m4DIO7oV025673@sheep.berlios.de>

Author: mik77
Date: 2008-05-13 20:24:03 +0200 (Tue, 13 May 2008)
New Revision: 1457

Modified:
   trunk/src/CacheWolf/ShowCacheInBrowser.java
Log:
Don't try to show images offline which are not loaded.

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-05-12 10:01:49 UTC (rev 1456)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-05-13 18:24:03 UTC (rev 1457)
@@ -122,6 +122,7 @@
 					int imageNo=0;
 					Regex imgRex = new Regex("src=(?:\\s*[^\"|']*?)(?:\"|')(.*?)(?:\"|')");
 					while (start>=0 && (pos=chD.LongDescription.indexOf("<img",start))>0) {
+						if (imageNo >= chD.Images.getCount())break;
 						s.append(chD.LongDescription.substring(start,pos));
 						imgRex.searchFrom(chD.LongDescription,pos);
 						String imgUrl=imgRex.stringMatched(1);
@@ -137,7 +138,6 @@
 						}
 						start=chD.LongDescription.indexOf(">",pos);
 						if (start>=0) start++;
-						if (imageNo >= chD.Images.getCount())break;
 					}
 					if (start>=0) s.append(chD.LongDescription.substring(start));
 					tpl.setParam("DESCRIPTION", s.toString());



From mik77 at mail.berlios.de  Wed May 14 22:54:18 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 14 May 2008 22:54:18 +0200
Subject: [Cachewolf-svn] r1458 - trunk/src/CacheWolf/navi
Message-ID: <200805142054.m4EKsIAB024884@sheep.berlios.de>

Author: mik77
Date: 2008-05-14 22:54:15 +0200 (Wed, 14 May 2008)
New Revision: 1458

Modified:
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/CacheWolf/navi/MovingMap.java
   trunk/src/CacheWolf/navi/Navigate.java
Log:
Start logging when starting GPS from map.

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-05-13 18:24:03 UTC (rev 1457)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-05-14 20:54:15 UTC (rev 1458)
@@ -279,8 +279,7 @@
 	}
 	
 	public void startGps() {
-		myNavigation.setRawLogging(pref.logGPS, Convert.toInt(pref.logGPSTimer));
-		myNavigation.startGps();
+		myNavigation.startGps(pref.logGPS, Convert.toInt(pref.logGPSTimer));
 	}
 
 	public void gpsStoped() {

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-05-13 18:24:03 UTC (rev 1457)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-05-14 20:54:15 UTC (rev 1458)
@@ -1679,7 +1679,7 @@
 	}
 
 	public void snapToGps() {
-		mm.myNavigation.startGps();
+		mm.myNavigation.startGps(mm.pref.logGPS, Convert.toInt(mm.pref.logGPSTimer));
 		mm.SnapToGps();
 	}
 

Modified: trunk/src/CacheWolf/navi/Navigate.java
===================================================================
--- trunk/src/CacheWolf/navi/Navigate.java	2008-05-13 18:24:03 UTC (rev 1457)
+++ trunk/src/CacheWolf/navi/Navigate.java	2008-05-14 20:54:15 UTC (rev 1458)
@@ -46,7 +46,8 @@
 		if (gpsRunning) mm.gpsStarted();
 	}
 
-	public void startGps() {
+	public void startGps(boolean loggingOn, int loggingIntervall) {
+		setRawLogging(loggingOn, loggingIntervall);
 		if (serThread != null) if (serThread.isAlive()) return; // TODO use gpsRunning
 		try {
 			serThread = new SerialThread(pref.mySPO, gpsPos, (pref.forwardGPS ? pref.forwardGpsHost : ""));



From pfeffer at mail.berlios.de  Wed May 14 23:00:25 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 14 May 2008 23:00:25 +0200
Subject: [Cachewolf-svn] r1459 - in trunk: res_noewe/languages src/CacheWolf
Message-ID: <200805142100.m4EL0P0S025427@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-14 23:00:21 +0200 (Wed, 14 May 2008)
New Revision: 1459

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/GPSPortOptions.java
   trunk/src/CacheWolf/PreferencesScreen.java
Log:
GPS-Port-Options dialog: scan should work now and is interruptable (thanx to MiK for testing and comments)
preferences dialog: fixed: GPSBabel port selector behaved in a nearly unsusable way

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-05-14 20:54:15 UTC (rev 1458)
+++ trunk/res_noewe/languages/DE.cfg	2008-05-14 21:00:21 UTC (rev 1459)
@@ -808,6 +808,9 @@
 		7115= - nicht als GPS-Daten erkannt%0a
 		7116= - keine Daten empfangen%0a
 		7117=Anzeige der Daten direkt vom seriellen Port:
+		7118=Stop
+		7119=Stop
+		7120=Abgebrochen
 		
 		{..}
 	{..}

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-05-14 20:54:15 UTC (rev 1458)
+++ trunk/res_noewe/languages/EN.cfg	2008-05-14 21:00:21 UTC (rev 1459)
@@ -790,6 +790,9 @@
 		7115= - No GPS data tag found%0a
 		7116= - no data received%0a
 		7117=Displaying data from serial port directly:%0a
+		7118=Stop
+		7119=Stop
+		7120=Canceled
 		{..}
 	{..}
 {..}

Modified: trunk/src/CacheWolf/GPSPortOptions.java
===================================================================
--- trunk/src/CacheWolf/GPSPortOptions.java	2008-05-14 20:54:15 UTC (rev 1458)
+++ trunk/src/CacheWolf/GPSPortOptions.java	2008-05-14 21:00:21 UTC (rev 1459)
@@ -44,37 +44,55 @@
 	int comLength = 0;
 	TextDisplay out;
 	boolean run;
+	public String lastgot;
 	
 	public mySerialThread(SerialPortOptions spo, TextDisplay td) throws IOException {
 		comSp = new SerialPort(spo);
+		//comSp.setFlowControl(SerialPort.SOFTWARE_FLOW_CONTROL);
 		out = td;
+		lastgot = null;
 	}
 	
 	public void run() {
 		run = true;
 		while (run){
 			try {
-				sleep(1000);
+				sleep(200);
 			} catch (InterruptedException e) {}
 			if (comSp != null)	{  
 				comLength = comSp.nonBlockingRead(comBuff, 0 ,comBuff.length);
 				if (comLength > 0)	{
 					String str = mString.fromAscii(comBuff, 0, comLength).toUpperCase();
-					out.appendText(str,true);
+					lastgot = str;
+					if (out != null) out.appendText(str,true);
 				}
 			}
 		}
 	}
+	
+	public String nonBlockingRead() {
+		String ret = new String(lastgot); //mString.fromAscii(gpsBuff,0,gpsLen);
+		lastgot = null;
+		return ret;
 
-	public void stop() {
+	}
+
+	public boolean stop() {
 		run = false;
-		if (comSp != null) comSp.close(); //compSp == null can happen if a exception occured
+		boolean ret;
+		if (comSp != null) {
+			ret = comSp.close(); //compSp == null can happen if a exception occured 
+			try { ewe.sys.mThread.sleep(500); // wait in order to give the system time to close the serial port
+			} catch (InterruptedException e) {}
+		}
+		else ret = true;
+		return ret;
 	}
 }
 
 public class GPSPortOptions extends SerialPortOptions {
 	TextDisplay txtOutput;
-	mButton btnTest, btnUpdatePortList;
+	mButton btnTest, btnUpdatePortList, btnScan;
 	public mInput inputBoxForwardHost;
 	mLabel  labelForwardHost;
 	public mCheckBox forwardGpsChkB;
@@ -110,7 +128,9 @@
 		// End of copy from SerialPortOptions.
 		//
 		ed.buttonConstraints = CellConstants.HFILL;
-		ed.addField(ed.addNext(new mButton(MyLocale.getMsg(7103,"Scan$u"))).setCell(CellConstants.DONTSTRETCH),"scan");
+		btnScan = new mButton(MyLocale.getMsg(7103,"Scan$u"));
+		btnScan.setCell(CellConstants.DONTSTRETCH);
+		ed.addField(ed.addNext(btnScan),"scan");
 		btnTest = new mButton(MyLocale.getMsg(7104,"Test$t"));
 		ed.addField(ed.addLast(btnTest.setCell(CellConstants.DONTSTRETCH)),"test");
 		txtOutput = new TextDisplay();
@@ -136,50 +156,87 @@
 		gpsRunning = false;
 		return ed;
 	}
-	
-	public void action(String field,Editor ed){
-		if (field.equals("scan")){
-			String[] ports = SerialPort.enumerateAvailablePorts();
-			txtOutput.setText("");
-			if (ports == null) {
-				txtOutput.appendText(MyLocale.getMsg(7109, "Could not get list of available serial ports\n"), true);
-			} else {
-				int i;
-				for (i=0; i<ports.length; i++){
-					// try open with default GPS baudrate
-					if (!testPort(ports[i], baudRate)) 	continue;
-					else {
-						this.portName = ports[i];
-						ed.toControls("portName");
-						break;
+	boolean interruptScan = false;
+	boolean scanRunning = false;
+	public void action(String field,Editor ed_){
+		if (field.equals("scan")) {
+			if (scanRunning == false) {
+				txtOutput.setText("");
+				new mThread() {
+					public void run() {
+						btnTest.set(mButton.Disabled, true);
+						btnTest.repaintNow();
+						btnScan.setText(Gui.getTextFrom(MyLocale.getMsg(7119,"Stop")));
+						btnScan.repaintNow();
+						String[] ports = SerialPort.enumerateAvailablePorts(); // in case of bluethooth this can take several seconds
+						if (ports == null) {
+							txtOutput.appendText(MyLocale.getMsg(7109, "Could not get list of available serial ports\n"), true);
+						} else {
+							scanRunning = true;
+							interruptScan = false;
+							int i;
+							for (i=0; i<ports.length; i++){
+								if (interruptScan) { 
+									txtOutput.appendText(MyLocale.getMsg(7120, "Canceled"), true); // MyLocale.getMsg(7109, "Could not get list of available serial ports\n"), true);
+									fin();
+									return; 
+								}
+								if (!testPort(ports[i], baudRate)) 	continue;
+								else {
+									portName = ports[i];
+									if (ed != null) ed.toControls("portName");
+									break;
+								}
+							}
+							if (i >= ports.length) txtOutput.appendText(MyLocale.getMsg(7110, "GPS not found\n"), true);
+						}
+						fin();
 					}
-				}
-				if (i >= ports.length) txtOutput.appendText(MyLocale.getMsg(7110, "GPS not found\n"), true);
+					private void fin() {
+						scanRunning = false;
+						if (btnTest != null) {
+							btnTest.set(mButton.Disabled, false);
+							btnTest.repaintNow();
+						}
+						if (btnScan != null) {
+							btnScan.setText(Gui.getTextFrom(MyLocale.getMsg(7103,"Scan$u")));
+							btnScan.repaintNow();
+						}
+					}
+				}.start();
+			} else { // port scan running -> stop it.
+				interruptScan = true;
 			}
 		}
 		if (field.equals("test")){
 			if (!gpsRunning){
-				ed.fromControls();
+				ed_.fromControls();
 				txtOutput.setText(MyLocale.getMsg(7117, "Displaying data from serial port directly:\n"));
 				try {
+					btnScan.set(mButton.Disabled, true);
+					btnScan.repaintNow();
 					this.portName = Common.fixSerialPortName(portName);
 					serThread = new mySerialThread(this, txtOutput);
 					serThread.start();
-					btnTest.setText("Stop");
+					btnTest.setText(Gui.getTextFrom(MyLocale.getMsg(7118, "Stop")));
 					gpsRunning = true;
 				} catch (IOException e) {
+					btnScan.set(mButton.Disabled, false);
+					btnScan.repaintNow();
 					txtOutput.appendText(MyLocale.getMsg(7108, "Failed to open serial port: ") + this.portName + ", IOException: " + e.getMessage() + "\n", true);
 				}
 			}
 			else {
 				serThread.stop();
-				btnTest.setText("Test");
+				btnTest.setText(Gui.getTextFrom(MyLocale.getMsg(7104,"Test$t")));
 				gpsRunning = false;
+				btnScan.set(mButton.Disabled, false);
+				btnScan.repaintNow();
 			}
 
 		}
 
-		super.action(field, ed);
+		super.action(field, ed_);
 	}
 	
 	public void fieldEvent(FieldTransfer xfer, Editor editor, Object event){
@@ -195,39 +252,48 @@
 	}
 	
 	private boolean testPort(String port, int baud){
-		SerialPort gpsPort; 
-		byte[] gpsBuff = new byte[1024];
+		mySerialThread gpsPort; 
 		int gpsLen;
 		long now;
 		
-		gpsPort = new SerialPort(Common.fixSerialPortName(port), baud);
-		if(gpsPort == null) {
-			txtOutput.appendText(MyLocale.getMsg(7108, "Failed to open serial port: ") + this.portName + "\n", true);
+		SerialPortOptions testspo= new SerialPortOptions();
+		testspo.baudRate = baud;
+		testspo.portName = Common.fixSerialPortName(port);
+		try {
+			gpsPort = new mySerialThread(testspo, null);
+		} catch (IOException e) {
+			txtOutput.appendText(MyLocale.getMsg(7108, "Failed to open serial port: ") + testspo.portName + "\n", true);
 			return false;
 		}
-		
+		//if (!gpsPort.isOpen()) txtOutput.appendText(MyLocale.getMsg(7108, "Failed (2) to open serial port: ") + this.portName + "\n", true);
+ 
 		//try to read some data
 		now = new Time().getTime();
 		txtOutput.appendText(MyLocale.getMsg(7111, "Trying ") + port + MyLocale.getMsg(7112, " at ") + baud + " Baud\n", true);
+		gpsPort.start();
+		boolean gpsfound = false;
 		boolean gotdata = false;
-		while ( (new Time().getTime() - now) < 3000){
-			gpsLen = gpsPort.nonBlockingRead(gpsBuff,0, gpsBuff.length);
-			if (gpsLen > 0){
-				if (!gotdata) txtOutput.appendText(MyLocale.getMsg(7113, " - got some data\n"), true);
-				gotdata = true;
-				String tmp = mString.fromAscii(gpsBuff,0,gpsLen);
-				if (tmp.indexOf("$GP", 0) >= 0){
-					txtOutput.appendText(MyLocale.getMsg(7114, "GPS Port found\n"), true);
-					gpsPort.close();
-					return true;
+		while ( (new Time().getTime() - now) < 3000 && !gpsfound){
+//			gpsLen = gpsPort.lastgot.length(); // nonBlockingRead(gpsBuff,0, gpsBuff.length);
+			//txtOutput.appendText("gpsLen: " + gpsLen, true);
+			if (gpsPort.lastgot != null) {
+				if (!gotdata) {
+					gotdata = true;
+					txtOutput.appendText(MyLocale.getMsg(7113, " - got some data\n"), true);
+					now = new Time().getTime(); // if receiced some data, give the GPS some extra time to send NMEA data (e.g. Sirf initially sends some non-NMEA text info about it self) 
 				}
+				if (gpsPort.nonBlockingRead().indexOf("$GP", 0) >= 0) gpsfound = true;
 			}
-			Vm.sleep(200);
+			try {ewe.sys.mThread.sleep(200); } catch (InterruptedException e) {}
 		}
-		if (gotdata) txtOutput.appendText(MyLocale.getMsg(7115, " - No GPS data tag found\n"), true);
-		else         txtOutput.appendText(MyLocale.getMsg(7116, " - no data received\n"), true);
-		gpsPort.close();
-		return false;
+		gpsPort.stop();
+		if (gpsfound)	 txtOutput.appendText(MyLocale.getMsg(7114, " - GPS Port found\n"), true);
+		else {
+			if (gotdata) txtOutput.appendText(MyLocale.getMsg(7115, " - No GPS data tag found\n"), true);
+			else         txtOutput.appendText(MyLocale.getMsg(7116, " - No data received\n"), true);
+		}
+		//catch (IOException io) { txtOutput.appendText("error closing serial port", true); }
+		return gpsfound;
 	}
 	
 }

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2008-05-14 20:54:15 UTC (rev 1458)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2008-05-14 21:00:21 UTC (rev 1459)
@@ -31,7 +31,7 @@
 	CellPanel pnlDisplay = new CellPanel();
 	CellPanel pnlMore = new CellPanel();
 	CellPanel pnlTB = new CellPanel();
-	Frame frmGarmin = new Frame();
+	//Frame frmGarmin = new Frame();
 	ScrollBarPanel scp; // TODO not neede any more?
 	String [] garminPorts= new String[]{"com1","com2","com3","com4","com5","com6","com7","usb"};
 	
@@ -103,24 +103,24 @@
 		inpPassword.isPassword=true;
 		pnlGeneral.addLast(pnlBrowser,HSTRETCH,HFILL);
 		
-		pnlGeneral.addNext(gpsB = new mButton("GPS"),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
+		pnlGeneral.addLast(gpsB = new mButton("GPS: " + pref.mySPO.portName+"/"+pref.mySPO.baudRate),CellConstants.HSTRETCH, (CellConstants.HFILL|CellConstants.WEST));
 		//content.addNext(Alias.setTag(Control.SPAN, new Dimension(3,1)),content.DONTSTRETCH, (content.HFILL|content.WEST));
-		pnlGeneral.addLast(inpGPS=new mInput(""));
+/*		pnlGeneral.addLast(inpGPS=new mInput(""));
 		inpGPS.modify(ControlConstants.Disabled|ControlConstants.NoFocus,0);
 		inpGPS.setText(pref.mySPO.portName+"/"+pref.mySPO.baudRate);
-		
+	*/	
 		// Garmin and GPSBabel
-		frmGarmin.addNext(lblGarmin=new mLabel(MyLocale.getMsg(173,"Garmin:  PC Port:")),DONTSTRETCH,LEFT);
-		lblGarmin.setTag(INSETS,new Insets(4,0,0,0));
-		frmGarmin.addNext(chcGarminPort=new mChoice(garminPorts,0),DONTSTRETCH,LEFT);
-		chcGarminPort.setTag(INSETS,new Insets(4,0,0,0));
+		pnlGeneral.addNext(lblGarmin=new mLabel(MyLocale.getMsg(173,"Garmin:  PC Port:")),DONTSTRETCH,LEFT);
+//		lblGarmin.setTag(INSETS,new Insets(4,0,0,0));
+		pnlGeneral.addNext(chcGarminPort=new mChoice(garminPorts,0),DONTSTRETCH,RIGHT);
+		//chcGarminPort.setTag(INSETS,new Insets(4,0,0,0));
 		chcGarminPort.selectItem(pref.garminConn);
-		frmGarmin.addLast(chkSynthShort=new mCheckBox(MyLocale.getMsg(174,"Short Names")),STRETCH,RIGHT);
-		chkSynthShort.setTag(INSETS,new Insets(4,0,0,0));
+		pnlGeneral.addLast(chkSynthShort=new mCheckBox(MyLocale.getMsg(174,"Short Names")),STRETCH,LEFT);
+		//chkSynthShort.setTag(INSETS,new Insets(4,0,0,0));
 		chkSynthShort.setState(!pref.garminGPSBabelOptions.equals(""));
-		frmGarmin.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_TOP;
-		frmGarmin.setTag(INSETS,new Insets(4,0,0,0));
-		pnlGeneral.addLast(frmGarmin);
+		//frmGarmin.borderStyle=UIConstants.BDR_RAISEDOUTER|UIConstants.BDR_SUNKENINNER|UIConstants.BF_TOP;
+		//frmGarmin.setTag(INSETS,new Insets(4,0,0,0));
+		//pnlGeneral.addLast(frmGarmin);
 		pnlGeneral.addLast(new mLabel(""));
 		
 		/////////////////////////////////////////////////////////
@@ -328,7 +328,7 @@
 					pref.forwardGpsHost = gpo.inputBoxForwardHost.getText();
 					pref.logGPS = gpo.logGpsChkB.getState();
 					pref.logGPSTimer = gpo.inputBoxLogTimer.getText();
-					inpGPS.setText(pref.mySPO.portName+"/"+pref.mySPO.baudRate);
+					gpsB.setText("GPS: " + pref.mySPO.portName+"/"+pref.mySPO.baudRate);
 				}
 			}
 		}



From engywuck at mail.berlios.de  Sat May 17 08:51:26 2008
From: engywuck at mail.berlios.de (engywuck at mail.berlios.de)
Date: Sat, 17 May 2008 08:51:26 +0200
Subject: [Cachewolf-svn] r1460 - trunk/src/CacheWolf
Message-ID: <200805170651.m4H6pQ6f028330@sheep.berlios.de>

Author: engywuck
Date: 2008-05-17 08:51:24 +0200 (Sat, 17 May 2008)
New Revision: 1460

Modified:
   trunk/src/CacheWolf/DetailsPanel.java
Log:
If waypoint names are entered in lowercase, then they are directly converted to uppercase.

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-05-14 21:00:21 UTC (rev 1459)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-05-17 06:51:24 UTC (rev 1460)
@@ -301,7 +301,7 @@
 	 *
 	 */
 	public void createWptName() {
-		String wpt = inpWaypoint.getText();
+		String wpt = inpWaypoint.getText().toUpperCase();
 		if (CacheType.isAddiWpt(transSelect(chcType.getInt())) && 
 				(Global.mainTab.mainCache.startsWith("GC")||Global.mainTab.mainCache.startsWith("OC")||Global.mainTab.mainCache.startsWith("CW")) &&
 				wpt.startsWith("CW")) {
@@ -321,6 +321,10 @@
 	*/
 	public void onEvent(Event ev){
 		if (ev instanceof DataChangeEvent ) {
+			if (ev.target == inpWaypoint) {
+				// If user used lower case -> convert directly to upper case
+				inpWaypoint.setText(inpWaypoint.getText().toUpperCase());
+			}
 			dirty_details = true;
 			needsTableUpdate  = true;
 			profile.hasUnsavedChanges=true;
@@ -483,7 +487,7 @@
 		  }
 		  thisCache.is_black = blackStatus;
 		  String oldWaypoint=thisCache.wayPoint;
-		  thisCache.wayPoint = inpWaypoint.getText().trim();
+		  thisCache.wayPoint = inpWaypoint.getText().toUpperCase().trim();
 		  thisCache.CacheSize = chcSize.getText();
 		  // If the waypoint does not have a name, give it one
 		  if (thisCache.wayPoint.equals("")) { 



From mik77 at mail.berlios.de  Sat May 17 22:02:26 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sat, 17 May 2008 22:02:26 +0200
Subject: [Cachewolf-svn] r1461 - in trunk/src/CacheWolf: . navi
Message-ID: <200805172002.m4HK2Q4f007333@sheep.berlios.de>

Author: mik77
Date: 2008-05-17 22:02:23 +0200 (Sat, 17 May 2008)
New Revision: 1461

Modified:
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/myTableControl.java
   trunk/src/CacheWolf/navi/MovingMap.java
Log:
- Don't override existing waypoint-name when switching to DetailsPanel
- List->Right => Goto; MM->Enter/Action=>Close MM

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2008-05-17 06:51:24 UTC (rev 1460)
+++ trunk/src/CacheWolf/DetailsPanel.java	2008-05-17 20:02:23 UTC (rev 1461)
@@ -199,7 +199,8 @@
 		blackStatus=ch.is_black; 
 		blackStatusChanged=false;
 		btnBlack.repaintNow();
-		createWptName();
+		if (inpWaypoint.getText().length() == 0)
+			createWptName();
 		if(ch.has_bug == true) {
 			//btnShowBug.modify(Control.Disabled,1);
 			btnShowBug.image = imgShowBug;

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2008-05-17 06:51:24 UTC (rev 1460)
+++ trunk/src/CacheWolf/myTableControl.java	2008-05-17 20:02:23 UTC (rev 1461)
@@ -103,6 +103,11 @@
 				else if (ev.key == IKeys.DOWN) Global.mainTab.tbP.selectRow(java.lang.Math.min(cursor.y+ 1, model.numRows-1)); 
 				else if (ev.key == IKeys.UP) Global.mainTab.tbP.selectRow(java.lang.Math.max(cursor.y-1, 0));
 				else if (ev.key == IKeys.LEFT && Global.mainForm.cacheListVisible && cursor.y>=0 && cursor.y<tbp.myMod.numRows) Global.mainForm.cacheList.addCache(((CacheHolder)cacheDB.elementAt(cursor.y)).wayPoint); 
+				else if (ev.key == IKeys.RIGHT) {
+					CacheHolder ch;
+					ch = (CacheHolder)cacheDB.get(tbp.getSelectedCache());
+					Global.mainTab.gotoPoint(ch.pos);
+				}
 				else if (ev.key == 6 ) MainMenu.search(); // (char)6 == ctrl + f 
 				else super.onKeyEvent(ev);
 			}

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-05-17 06:51:24 UTC (rev 1460)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-05-17 20:02:23 UTC (rev 1461)
@@ -1400,7 +1400,7 @@
 		if(ev instanceof FormEvent && (ev.type == FormEvent.CLOSED )){
 			running = false;
 		}  
-		if(ev instanceof KeyEvent && ev.target == this && ((KeyEvent)ev).key == IKeys.ESCAPE) {
+		if( ev instanceof KeyEvent && ev.target == this && ( (((KeyEvent)ev).key == IKeys.ESCAPE) || (((KeyEvent)ev).key == IKeys.ENTER) || (((KeyEvent)ev).key == IKeys.ACTION) ) ) {
 			this.close(0);
 			ev.consumed = true;
 		}



From cw-manual at mail.berlios.de  Sun May 18 15:10:33 2008
From: cw-manual at mail.berlios.de (cw-manual at mail.berlios.de)
Date: Sun, 18 May 2008 15:10:33 +0200
Subject: [Cachewolf-svn] r1462 - trunk/docs/CacheWolf Doku
Message-ID: <200805181310.m4IDAXlm003350@sheep.berlios.de>

Author: cw-manual
Date: 2008-05-18 15:10:25 +0200 (Sun, 18 May 2008)
New Revision: 1462

Modified:
   trunk/docs/CacheWolf Doku/Der erste Start.xml
   trunk/docs/CacheWolf Doku/Installation.xml
   trunk/docs/CacheWolf Doku/ansichten.xml
   trunk/docs/CacheWolf Doku/menu.xml
Log:
lahmer: Worked on grammar, writing, and content stuff of chapter Die Menues. Section Filter is still empty.
Some minor fixes in other chapters.

Modified: trunk/docs/CacheWolf Doku/Der erste Start.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-05-17 20:02:23 UTC (rev 1461)
+++ trunk/docs/CacheWolf Doku/Der erste Start.xml	2008-05-18 13:10:25 UTC (rev 1462)
@@ -312,7 +312,7 @@
     </section>
   </section>
 
-  <section>
+  <section id="DatenImportieren">
     <title>Cachedaten importieren</title>
 
     <para>Programm l?uft, Einstellungen erledigt? Gut! Jetzt m?ssen wir noch
@@ -330,7 +330,7 @@
       einer GPX Datei, einer LOC Datei oder direkt durch Herunterladen von der
       geocaching.com Webseite (spidern).</para>
 
-      <section>
+      <section id="DatenImportGPX">
         <title>Import einer GPX Datei</title>
 
         <para>Um an GPX-Dateien von geocaching.com zu kommen, muss man
@@ -384,12 +384,13 @@
 
         <para>F?r Mitglieder, die keine Premium-Mitgliedschaft besitzen,
         besteht noch die M?glichkeit, LOC-Dateien herunterzuladen. Der Import
-        von LOC-Dateien geschieht auch ?ber den Men?punkt <literal>Importiere GPX</literal>. In
-        den LOC-Dateien sind allerdings sehr wenig Informationen enthalten,
-        insbesondere fehlt die Beschreibung des Caches.</para>
+        von LOC-Dateien geschieht auch ?ber den Men?punkt <literal>Importiere
+        GPX</literal>. In den LOC-Dateien sind allerdings sehr wenig
+        Informationen enthalten, insbesondere fehlt die Beschreibung des
+        Caches.</para>
       </section>
 
-      <section>
+      <section id="DatenImportSpider">
         <title>Direktes herunterladen (spidern)</title>
 
         <para>Durch Anw?hlen von <literal>Anwendung -&gt; Import -&gt; Spider
@@ -412,8 +413,8 @@
         herunterladen. Wird der Haken bei <literal>Bilder downloaden</literal>
         gesetzt, wird Cachewolf sowohl die Bilder in der Cachebeschreibung als
         auch die Spoilerbilder herunterladen. Der Download von bereits
-        gefundenen Caches kann durch Ausw?hlen der Option <literal>Gefundene Caches
-        nicht laden verhindert</literal> werden.</para>
+        gefundenen Caches kann durch Ausw?hlen der Option <literal>Gefundene
+        Caches nicht laden verhindert</literal> werden.</para>
 
         <para>Mit <literal>OK</literal> wird der Spider gestartet. Je nach
         Entfernung und Cache-Dichte wird das Spidern nun einige Zeit in
@@ -425,45 +426,46 @@
       <title>Opencaching.de</title>
 
       <para>Alternativ zu geocaching.com k?nnen Caches auch von <ulink
-      url="http://opencaching.de">opencaching.de</ulink> importiert werden. Wie bereits im
-      vorangegangen Abschnitt beschrieben, k?nnen die ben?tigten Daten
-      entweder ?ber GPX-Dateien oder durch direktes Herunterladen bezogen
-      werden. </para>
+      url="http://opencaching.de">opencaching.de</ulink> importiert werden.
+      Wie bereits im vorangegangen Abschnitt beschrieben, k?nnen die
+      ben?tigten Daten entweder ?ber GPX-Dateien oder durch direktes
+      Herunterladen bezogen werden.</para>
 
-      <section>
-    <title id="OpenGPX">Importieren einer bereits heruntergeladenen GPX-Datei</title>
+      <section id="DatenImportGPX2">
+        <title id="OpenGPX">Importieren einer bereits heruntergeladenen
+        GPX-Datei</title>
 
-          <para>Auf der Seite von Opencaching.de hat man die Option eine
-          GPX-Datei herunterzuladen. Diese Option befindet sich am Ende der
-          Suchergebnisseite. Die ZIP-Datei einfach in irgendein Verzeichnis
-          kopieren. Der GPX-Import erkennt automatisch dieses Format. Es ist
-          nicht notwendig die Datei zu entpacken! Bei opencaching.de werden in
-          der aktuellen Version alle Bilder geladen.</para>
-        </section>
-   <section>
-    <title id="OpenSpider">Direkter Download von opencaching.de</title>
+        <para>Auf der Seite von Opencaching.de hat man die Option eine
+        GPX-Datei herunterzuladen. Diese Option befindet sich am Ende der
+        Suchergebnisseite. Die ZIP-Datei einfach in irgendein Verzeichnis
+        kopieren. Der GPX-Import erkennt automatisch dieses Format. Es ist
+        nicht notwendig die Datei zu entpacken! Bei opencaching.de werden in
+        der aktuellen Version alle Bilder geladen.</para>
+      </section>
 
-          <para>Mit der Funktion <literal>Anwendung -&gt; Import -&gt;
-          Download von opencaching.de</literal> ?ffnet sich ein Dialog, der
-          die Eingabe des Abstands um das im Profil eingestellte Zentrum
-          erm?glicht:</para>
+      <section id="DatenImportDownload">
+        <title id="OpenSpider">Direkter Download von opencaching.de</title>
 
-          <para><inlinemediaobject>
-              <imageobject>
-                <imagedata fileref="pics/spider_options.jpg" />
-              </imageobject>
-            </inlinemediaobject></para>
+        <para>Mit der Funktion <literal>Anwendung -&gt; Import -&gt; Download
+        von opencaching.de</literal> ?ffnet sich ein Dialog, der die Eingabe
+        des Abstands um das im Profil eingestellte Zentrum erm?glicht:</para>
 
-          <para>Innerhalb eines Kreises in diesem Abstand werden alle Caches
-          (je nach Option mit allen in der Cachbeschreibung angezeigten
-          Bildern heruntergeladen und automatisch importiert. Dabei merkt sich
-          CacheWolf automatisch das Datum, an dem zuletzt heruntergeladen
-          wurde. Bei einem erneuten Aufruf mit dem gleichen Zentrum (siehe
-          <xref linkend="zentrum" />) und dem gleichen Abstand werden dann nur
-          die ?nderungen heruntergeladen und eingelesen. Diese Funktion ist
-          bei Opencaching kostenlos, selbst eine Anmeldung ist dort nicht
-          erforderlich.</para>
-  </section>
+        <para><inlinemediaobject>
+            <imageobject>
+              <imagedata fileref="pics/spider_options.jpg" />
+            </imageobject>
+          </inlinemediaobject></para>
+
+        <para>Innerhalb eines Kreises in diesem Abstand werden alle Caches (je
+        nach Option mit allen in der Cachbeschreibung angezeigten Bildern
+        heruntergeladen und automatisch importiert. Dabei merkt sich CacheWolf
+        automatisch das Datum, an dem zuletzt heruntergeladen wurde. Bei einem
+        erneuten Aufruf mit dem gleichen Zentrum (siehe <xref
+        linkend="zentrum" />) und dem gleichen Abstand werden dann nur die
+        ?nderungen heruntergeladen und eingelesen. Diese Funktion ist bei
+        Opencaching kostenlos, selbst eine Anmeldung ist dort nicht
+        erforderlich.</para>
+      </section>
     </section>
   </section>
-</chapter>
+</chapter>
\ No newline at end of file

Modified: trunk/docs/CacheWolf Doku/Installation.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Installation.xml	2008-05-17 20:02:23 UTC (rev 1461)
+++ trunk/docs/CacheWolf Doku/Installation.xml	2008-05-18 13:10:25 UTC (rev 1462)
@@ -53,7 +53,9 @@
   <section>
     <title>Welche Cachewolf - Version f?r was?</title>
 
-    <para></para>
+    <para>Cachewolf stellt verschiedene Versionen der Software zur Verf?gung,
+    um verschiedene Betriebssysteme und Laufzeitumgebungen zu
+    unterst?tzen.</para>
 
     <section>
       <title>Windows</title>
@@ -95,7 +97,8 @@
 
       <para>Es existieren zwei optimierte Versionen von Cachewolf f?r den
       PocketPC: f?r Ger?te mit ARM-Prozessor und f?r Ger?te mit
-      Intel-Prozessor. Welche Version ben?tigt wird, kann man auch durch
+      Intel-Prozessor. Zus?tzlich gibt es noch Versionen f?r Zaurus, SH3 und
+      MIPS Prozessoren. Welche Version ben?tigt wird, kann man auch durch
       Probieren ermitteln. (Teilweise laufen auch beide Versionen.)</para>
 
       <para>CacheWolf erkennt ?brigens VGA-Ger?te und stellt die Aufl?sung
@@ -110,7 +113,7 @@
         <para>Antwort: Diese Frage ist leider nicht so einfach zu
         beantworten.</para>
 
-        <para>Auf dieser Seite www.pocketpc-users.de gibt es eine sehr gute
+        <para>Auf dieser Seite (www.pocketpc-users.de) gibt es eine sehr gute
         Beschreibung.</para>
 
         <para>Vielleicht hilft aber folgende (kurze) Zusammenfassung:</para>
@@ -119,12 +122,14 @@
         wahrscheinlich einen ARM (kompatiblen) Prozessor. Es gibt allerdings
         Ausnahmen, die einen SH3 oder MIPS Prozessor nutzen.</para>
 
-        <para>* Pocket PC 2002 und 2003 Ger?te nutzen ausschlie? einen ARM
+        <para>* Pocket PC 2002 und 2003 Ger?te nutzen ausschlie?lich einen ARM
         (kompatiblen) Prozessor.</para>
 
-        <para>* Hast Du eine Ger?t, da? Du in der zweiten H?lfte 2004 gekauft
-        hast, dann solltest Du die "PocketPC" Version von CacheWolf
-        installieren. Beispiele (von Nutzern):</para>
+        <para>* Hast Du ein Ger?t, das Du in der zweiten H?lfte von 2004 oder
+        sp?ter gekauft hast, dann solltest Du die "PocketPC" Version von
+        CacheWolf installieren. Die "ARM" Version sollte zwar auch laufen,
+        kann aber nicht alle Funktionen Deines Ger?ts optimal nutzen.
+        Beispiele (von Nutzern):</para>
 
         <para>** PocketPCArm: XDA Trion, ASUS632,Yakumo Delta GPS, Loox N520,
         Compaq IPAQ 6915, Medion MDPPC250, FSC Loox N560, Dell Axim X51V,
@@ -134,7 +139,7 @@
 
         <para>** Zaurus: Sharp SL-C1000</para>
 
-        <para>Sagt dir das alles gar nichts probier einfach die Versionen
+        <para>Sagt dir das alles gar nichts, probier einfach die Versionen
         durch - eine wird auf jeden Fall funktionieren!</para>
       </highlights>
 

Modified: trunk/docs/CacheWolf Doku/ansichten.xml
===================================================================
--- trunk/docs/CacheWolf Doku/ansichten.xml	2008-05-17 20:02:23 UTC (rev 1461)
+++ trunk/docs/CacheWolf Doku/ansichten.xml	2008-05-18 13:10:25 UTC (rev 1462)
@@ -1,4 +1,4 @@
-?<?xml version="1.0" encoding="UTF-8"?>
+<?xml version="1.0" encoding="UTF-8"?>
 <chapter>
   <chapterinfo>
     <title>Ansichten</title>
@@ -137,8 +137,8 @@
     dann absteigend, oder andersherum, je nachdem "wo" man angefangen hat. Die
     Spaltenbreite l??t sich ebenfalls ver?ndern.</para>
 
-    <para><emphasis role="bold">In der Listenansicht k?nnen einzelne Zeilen
-    mit Farben hinterlegt sein:</emphasis></para>
+    <para id="WegpunktStatus"><emphasis role="bold">In der Listenansicht
+    k?nnen einzelne Zeilen mit Farben hinterlegt sein:</emphasis></para>
 
     <itemizedlist>
       <listitem>
@@ -174,8 +174,9 @@
     gespeicherten Owner-Namen ermittelt. Beim Setzen des Alias sollte daher
     auf korrekte Gro?- und Kleinschreibung geachtet werden.</para>
 
-    <para><emphasis role="bold">Punkte vor dem Wegpunktnamen informieren ?ber
-    den Status nach der letzten Aktualisierung:</emphasis></para>
+    <para id="UpdateStatus"><emphasis role="bold">Punkte vor dem Wegpunktnamen
+    informieren ?ber den Status nach der letzten
+    Aktualisierung:</emphasis></para>
 
     <itemizedlist>
       <listitem>
@@ -398,9 +399,28 @@
         </imageobject>
       </inlinemediaobject> Sind Travelbugs in diesem Cache vorhanden (kein
     roter Strich!) kann man die Beschreibungen zu den TBs ?ffnen. Sind keine
-    TBs vorhanden, ist dieser Button deaktiviert (roter, diagonaler
-    Strich).</para>
+    TBs vorhanden, ist dieser Button deaktiviert (roter, diagonaler Strich).
+    Mit einem Rechtsklick erscheint das Kontextmen?, welches zwei
+    Auswahlpunkte anbietet:</para>
 
+    <itemizedlist>
+      <listitem>
+        <para><literal>Travelbug entnehmen</literal>: L?scht den Travelbug aus
+        der Liste der im Cache enthaltenen Travelbugs und f?gt ihn der
+        Travelbug-Verwaltung (siehe <xref linkend="tbugs_verwalten" />)
+        hinzu.</para>
+      </listitem>
+
+      <listitem>
+        <para><literal>Travelbug ablegen</literal>: Zeigt eine Liste aller
+        Travelbugs an, die in der Travelbug-Verwaltung als "bei dir"
+        gekennzeichnet sind. W?hle einen dieser Travelbugs aus, den Du im
+        aktuellen Cache hinterlassen willst. Dieser wird der Liste der im
+        Cache enthaltenen Travelbugs hinzugef?gt und gleichzeitig in der
+        Travelbug-Verwaltung als abgelegt markiert.</para>
+      </listitem>
+    </itemizedlist>
+
     <para><inlinemediaobject>
         <imageobject>
           <imagedata fileref="pics/welt.jpg" />
@@ -657,7 +677,8 @@
 
           <td>Werte anzeigen</td>
 
-          <td>"N 34 12." show(a) "12" # oder auch<para>"N 34 12." a "12"</para></td>
+          <td>"N 34 12." show(a) "12" # oder auch<para>"N 34 12." a
+          "12"</para></td>
 
           <td>N 34 12.512<para>N 34 12.512</para></td>
         </tr>
@@ -1059,8 +1080,8 @@
           <td>Profilzentrum ins derzeitige Zentrum kopieren</td>
         </tr>
 
-          <tr>
-        <td>profilecenter()<para>Alias: ProfilZentrum oder auch:
+        <tr>
+          <td>profilecenter()<para>Alias: ProfilZentrum oder auch:
           pz</para></td>
 
           <td>Profilzentrum</td>
@@ -1085,7 +1106,8 @@
 
           <td>Derzeitiges Zentrum in Profilzentrum kopieren</td>
         </tr>
-          <tr>
+
+        <tr>
           <td>curpos<para>Alias: cp</para></td>
 
           <td>Derzeitige GPS Position</td>
@@ -1158,7 +1180,7 @@
           <td>format(WP,"cw")</td>
 
           <td>N 47?13.876 E 011?23.547</td>
-        </tr>   
+        </tr>
       </tbody>
     </table>
 

Modified: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-05-17 20:02:23 UTC (rev 1461)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-05-18 13:10:25 UTC (rev 1462)
@@ -49,17 +49,19 @@
   <section>
     <title>Anwendung</title>
 
-    <para></para>
+    <para>Die in diesem Kapitel beschriebenen Men?s siehst Du nur dann, wenn
+    Du in die Listenansicht wechselst.</para>
 
     <section>
       <title id="profil">Profil</title>
 
-      <para>Dieser Men?punkt erlaubt die Anlage eines neuen Profils, oder das
-      aktuelle Profil zu wechseln. Bei <literal>Profil -&gt; Laden</literal>
-      wird die gleiche Maske gezeigt, wie beim Start von Cachewolf.</para>
+      <para>Dieser Men?punkt erlaubt das Anlegen eines neuen Profils sowie das
+      Wechseln des aktuellen Profils. Bei <literal>Profil -&gt;
+      Laden</literal> wird dasselbe Auswahlfenster gezeigt, wie beim Start von
+      Cachewolf.</para>
 
-      <para>Profile sind im Prinzip nichts anderes, wie ein Verzeichnis
-      unterhalb des Basisverzeichnisses, dass Du beim ersten Start (siehe:
+      <para>Profile sind im Prinzip nichts anderes wie ein Verzeichnis
+      unterhalb des Basisverzeichnisses, das Du beim ersten Start (siehe:
       <xref linkend="start" />) von Cachewolf angelegt hast. In dem
       Profilverzeichnis befindet sich eine Datei mit Namen index.xml. Diese
       Datei enth?lt, neben der Liste der Caches, die in diesem Verzeichnis
@@ -68,10 +70,10 @@
     </section>
 
     <section>
-      <title>Preferenzen</title>
+      <title>Einstellungen</title>
 
-      <para>Mit diesem Men?punkt gelangt man zur Einstellung der Pr?ferenzen.
-      Dieses wurde hier: <xref linkend="editPrefs" /> beschrieben.</para>
+      <para>Mit diesem Men?punkt gelangt man zur Konfiguration von Cachewolf.
+      Diese wurde hier: <xref linkend="editPrefs" /> beschrieben.</para>
     </section>
 
     <section>
@@ -90,16 +92,20 @@
           </imageobject>
         </inlinemediaobject></para>
 
-      <para>Die Koordinaten, die neben <literal>Aktuell</literal> stehen, sind
-      die Koordinaten, die Cachewolf gerade als Zentrumskoordinaten betrachtet
-      (offensichtlich). Die Koordinaten, die neben <literal>Profil</literal>
-      stehen sind gespeichert, d.h. beim n?chsten Start von Cachewolf werden
-      diese Koordinaten als Zentrumskoordinaten gesetzt. Durch einen Klick auf
-      die Pfeile nach Unten, bzw. Oben kann man die Koordinaten hin und her
+      <para>Die Koordinaten, die neben <literal>Profil</literal> stehen, sind
+      permanent gespeichert, d.h. beim Start von Cachewolf mit einem
+      bestimmten Profil werden diese Koordinaten als Zentrumskoordinaten
+      gesetzt. Die Koordinaten, die neben <literal>Aktuell</literal> stehen,
+      sind die Koordinaten, die Cachewolf gerade als Zentrumskoordinaten
+      betrachtet (offensichtlich). Diese werden beispielsweise ver?ndert, wenn
+      Du einen bestimmten Cache zum Zentrum machst, um die Entfernung aller
+      anderen zu diesem berechnen zu lassen. Durch einen Klick auf die Pfeile
+      nach Unten bzw. Oben kann man die Koordinaten hin und her
       kopieren.</para>
 
       <para>Durch einen Klick auf die Koordinaten selbst gelangt man zu
-      nachfolgendem Fenster:</para>
+      nachfolgendem Fenster, in dem man die jeweiligen Zentrumskoordinaten
+      manuell ?ndern kann:</para>
 
       <para><inlinemediaobject>
           <imageobject>
@@ -107,82 +113,80 @@
           </imageobject>
         </inlinemediaobject></para>
 
-      <para></para>
+      <para>Das Format der eingegebenen Koordinaten kannst Du zwischen UTM und
+      verschiedenen Darstellungen von Grad, Minuten und Sekunden umstellen.
+      Falls Du die Koordinaten im Textfeld (unten) eingibst, musst du
+      vor<literal> Anwenden</literal> auf <literal>Parse </literal>klicken,
+      damit die eingegebenen Daten auch wirklich ?bernommen werden.</para>
+    </section>
 
-      <para></para>
+    <section>
+      <title>Gew?hlter Cache</title>
+
+      <para>Unter diesem Men?punkt findest Du das Kontextmen? der
+      Listenansicht nochmals. Die einzelnen Funktionen wurden bereits hier
+      <xref linkend="list_popup" /> erkl?rt. Das Kontextmen? ist doppelt
+      vorhanden, da es auf diversen PDAs eher schwierig ist, das Kontextmen?
+      in der Listenansicht direkt aufzurufen. Daher ist auf PDAs dieses Men?
+      zu bevorzugen. Auf PCs d?rfte es hingegen einfacher sein, das
+      Kontextmen? in der Listenansicht mit einem Rechtsklick aufzurufen.
+      </para>
     </section>
 
     <section>
       <title>Import</title>
 
-      <para></para>
+      <para>Wie Du Cachedaten bekommen kannst, wurde bereits hier <xref
+      linkend="DatenImport" /> ausf?hrlich erkl?rt. Es gibt mehrere
+      M?glichkeiten, an Cachedaten zu kommen:</para>
 
-      <section>
-        <title>Importiere GPX</title>
+      <itemizedlist>
+        <listitem>
+          <para>GPX-Dateien importieren (siehe <xref
+          linkend="DatenImportGPX1" /> und <xref
+          linkend="DatenImportGPX2" />)</para>
+        </listitem>
 
-        <para>Um an Geocaching.com GPX-Dateien zu kommen, muss man
-        Premium?Mitglied sein. Diese Dateien werden per Mail verschickt. Die
-        Dateien k?nnen einfach in ein Verzeichnis abgelegt werden. Die Dateien
-        m?ssen nicht entpackt werden.</para>
+        <listitem>
+          <para>Download von Opencaching.de (siehe <xref
+          linkend="DatenImportDownload" />)</para>
+        </listitem>
 
-        <para>Den Import startest Du durch anw?hlen von "Anwendung -&gt;
-        Importiere GPX". Du kannst eine Datei oder mit der Verwendung der
-        Umschalt - Taste mehrere Dateien ausw?hlen.</para>
+        <listitem>
+          <para>Spidern von Geocaching.com (siehe <xref
+          linkend="DatenImportSpider" />)</para>
+        </listitem>
+      </itemizedlist>
 
-        <para>Nach der Wahl der Datei, die du importieren m?chtest, bekommst
-        du die Frage, ob Du auch Bilder und herunterladen m?chtest und ob
-        bereits gefundene Caches auch geladen werden sollen.</para>
-
-        <para><inlinemediaobject>
-            <imageobject>
-              <imagedata fileref="???" />
-            </imageobject>
-          </inlinemediaobject></para>
-
-        <para>Aktivierst du diese Option(en), solltest du eine bestehende
-        Verbindung ins Internet haben. Hast Du die Option "Bilder" angekreuzt
-        wird CacheWolf beim Einlesen der GPX?Datei auf der Cacheseite
-        nachschauen, ob Bilder in der Beschreibung bzw. ob Spoilerbilder
-        vorhanden sind. Diese werden heruntergeladen. Das Herunterladen von
-        Bildern ben?tigt etwas Zeit.</para>
-
-        <para><emphasis>Hinweis zu den Additional Waypoints:</emphasis> Leider
-        werden von geocaching.com in der GPX - Datei nur die "Additional
-        Waypoints" mitgeschickt, die auch eine g?ltige Koordinate haben. Das
-        Dilemma ist aber, dass bei den meisten Multis, diese Koordinaten erst
-        ermittelt werden m?ssen. Normalerweise stellt dies noch immer kein
-        Problem dar; aber einige Geocacher beschreiben die einzelnen Stationen
-        innerhalb der "Additional Waypoints", da diese aber keine Koordinaten
-        haben und nicht in der GPX Datei nicht mitgeschickt werden, fehlen
-        vitale Informationen. Dem kann aber abgeholfen werden: CacheWolf
-        bietet die M?glichkeit, einzelne Caches aktualisieren zu k?nnen und
-        hier werden auch die Additional Waypoints direkt von der Cacheseite
-        geladen, die keine Koordinaten haben (siehe <xref
-        linkend="markierte_akt" />).</para>
-      </section>
-
       <section>
-        <title>Download von Opencaching.de</title>
-
-        <para></para>
-      </section>
-
-      <section>
-        <title>Spider von geocaching.com</title>
-
-        <para></para>
-      </section>
-
-      <section>
         <title id="markierte_akt">Markierte aktualisieren</title>
 
-        <para></para>
+        <para>Alle markierten Wegpunkte werden (wer h?tte es gedacht)
+        aktualisiert. Cachewolf holt sich dazu wie beim Spidern die aktuellen
+        Daten, z.B. Status, Beschreibung, Koordinaten ode Logs, direkt von
+        geocaching.com bzw. opencaching.de. Im Anschluss an die Aktualisierung
+        werden die tats?chlich ver?nderten Wegpunkte mit farbigen Punkten vor
+        den Wegpunktnamen gekennzeichnet. Die Bedeutung dieser Punkt ist <xref
+        linkend="UpdateStatus" /> erkl?rt.</para>
       </section>
 
       <section>
         <title>Always login to gc.com</title>
 
-        <para></para>
+        <para>Ist diese Option gew?hlt, erfolgt vor der Abfrage jedes
+        einzelnen Caches bei geocaching.com ein erneuter Login. Dies ist vor
+        allem beim Spidern oder Aktualisieren vieler Caches recht hinderlich
+        und sollte daher vor dem Spidern bzw. Aktualisieren auf jeden Fall
+        deaktiviert werden. </para>
+
+        <para>Ben?tigt wird diese Funktion aber dennoch: Nach einem einmal
+        erfolgten Login (z.B. ausgel?st durch eine Aktualisierung) erfolgt
+        nach einer bestimmten Zeit ein automatischer Logout durch
+        geocaching.com. Willst Du nach dieser Zeit einen weiteren Cache
+        aktualisieren, geht dies schief, weil Du ja nicht mehr eingeloggt
+        bist. In diesem Fall muss also diese Option aktiviert sein, damit
+        CacheWolf einen erneuten Login durchf?hrt und die Aktualisierung
+        problemlos verl?uft.</para>
       </section>
     </section>
 
@@ -215,9 +219,9 @@
     <section>
       <title id="karten">Karten</title>
 
-      <para>Mit CacheWolf (ab der Version 0.9m) ist es m?glich, Karten zu
-      importieren und zu kalibrieren. Diese werden dann als Moving Map genutzt
-      (siehe <xref lang="" linkend="goto" />).</para>
+      <para>Mit CacheWolf ist es m?glich, Karten zu importieren und zu
+      kalibrieren. Diese werden dann als Moving Map genutzt (siehe <xref
+      lang="" linkend="goto" />).</para>
 
       <sidebar>
         <para>Eine Moving Map unterscheidet sich von den typischen mobilen
@@ -245,16 +249,14 @@
       die bei einem automatischen Kartenwechsel auftreten, m?glichst gering zu
       halten.</para>
 
-      <para></para>
-
       <section>
         <title>Kalibrierte herunterladen</title>
 
         <para>?ber diese Funktion lassen sich georeferenzierte Karten direkt
         aus dem Internat laden. Hierbei k?nnen zwei grunds?tzlich
         unterschiedliche Quellen genutzt werden. Expedia wurde schon in
-        fr?heren Versionen angeboten. Mit der 1.0 werden nun WMS Quellen
-        ebenfalls angeboten.</para>
+        fr?heren Versionen angeboten. Mit der 1.0 werden nun zus?tzlich
+        WMS-Quellen angeboten.</para>
 
         <sidebar>
           <para>Ein Web Map Service (WMS) ist ein Web Service, der auf den
@@ -265,24 +267,24 @@
           angebotenen Karten herunterladen und automatisch kalibrieren.</para>
         </sidebar>
 
-        <para>Siehe die Datei <literal>readme_wms.txt</literal> im Verzeichnis
-        <literal>webmapservices</literal>, um eigene WMS Quellen
-        einzubinden.</para>
+        <para>Um eigene WMS-Quellen einzubinden, schau Dir die Datei
+        <literal>readme_wms.txt</literal> im Verzeichnis
+        <literal>webmapservices</literal> an.</para>
 
-        <para>Mit der 1.0 werden Quellen f?r Karten folgender Bundesl?nder
+        <para>Mit der 1.0 werden WMS-Quellen f?r Karten folgender Bundesl?nder
         angeboten:</para>
 
         <itemizedlist>
           <listitem>
-            <para>Deutschland TOPO 1000</para>
+            <para>TOPO 1000 Deutschland </para>
           </listitem>
 
           <listitem>
-            <para>Deutschland TOPO 500</para>
+            <para>TOPO 500 Deutschland </para>
           </listitem>
 
           <listitem>
-            <para>Deutschland TOPO 200</para>
+            <para>TOPO 200 Deutschland </para>
           </listitem>
 
           <listitem>
@@ -302,27 +304,63 @@
           </listitem>
 
           <listitem>
+            <para>TOPO 25 Mecklenburg Vorpommern</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 10 Mecklenburg Vorpommern</para>
+          </listitem>
+
+          <listitem>
             <para>TOPO 50 Sachsen</para>
           </listitem>
 
           <listitem>
+            <para>TOPO 25 Sachsen</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 10 Sachsen</para>
+          </listitem>
+
+          <listitem>
             <para>TOPO 50 Sachsen Anhalt</para>
           </listitem>
 
           <listitem>
-            <para>TOPO 50 Nordrhein Westphalen</para>
+            <para>TOPO 10 Sachsen Anhalt</para>
           </listitem>
 
           <listitem>
-            <para>TOPO 50 Baden-W?rtemberg</para>
+            <para>TOPO 50 Nordrhein Westfalen</para>
           </listitem>
+
+          <listitem>
+            <para>TOPO 25 Nordrhein Westfalen</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 10 Nordrhein Westfalen</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 100 Hessen</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 50 Hessen</para>
+          </listitem>
+
+          <listitem>
+            <para>TOPO 100 Niedersachsen</para>
+          </listitem>
         </itemizedlist>
 
-        <para>F?r einige Bundesl?nder sind ebenfalls Luftbildaufnahmen
-        verf?gbar.</para>
+        <para>F?r einige Bundesl?nder sind auch Luftbildaufnahmen verf?gbar
+        (diese verbrauchen allerdings ziemlich viel Speicherplatz!).</para>
 
-        <para>Nach dem Klick auf diese Men?option erscheint folgendes
-        Fenster:</para>
+        <para>Nach einem Klick auf die Men?option <literal>Kalibrierte
+        herunterladen</literal> erscheint folgendes Fenster:</para>
 
         <para><inlinemediaobject>
             <imageobject>
@@ -332,28 +370,28 @@
 
         <para>Hier muss man nun unterscheiden, was genau man haben m?chte. Mit
         dem Reiter "Tiles" werden aneinander h?ngende Kacheln geladen. Wie
-        viele wird bestimmt durch die Auswahl "all caches", bzw. "selected
-        caches" in Verbindung mit dem gesetzten Hacken bei
+        viele wird bestimmt durch die Auswahl "all caches" bzw. "selected
+        caches" in Verbindung mit dem gesetzten Haken bei
         <literal>for</literal>. W?hlt man "all" wird CacheWolf ein Rechteck
-        berechnen, der alle Caches umfasst und dann Kacheln gem?? der
+        berechnen, das alle Caches umfasst und dann Kacheln gem?? der
         eingestellten Genauigkeit (<literal>Approx. m per pixel</literal>)
-        bilden und herunterladen. Die Angabe bei overlapping in pixel legt
-        fest, wie viel die einzelnen Kacheln sich ?berlappen, sprich bei 0
-        liegen die Kachelkanten genau aneinander, ansonsten ?berschneiden sie
-        sich.</para>
+        bilden und herunterladen. Die Angabe bei <literal>overlapping in pixel
+        </literal>legt fest, wie viel die einzelnen Kacheln sich ?berlappen,
+        d.h. bei 0 liegen die Kachelkanten genau aneinander, ansonsten
+        ?berschneiden sie sich.</para>
 
-        <para>Statt die Kachel f?r alle Caches zu laden kann man auch sagen,
-        dass ein Rechteck um eine gesetzte Mitte (<literal>around the
-        center</literal>) heruntergeladen werden soll.</para>
+        <para>Statt die Kacheln f?r alle Caches herunter zu laden, kann man
+        auch sagen, dass ein Rechteck um eine gesetzte Mitte (<literal>around
+        the center</literal>) heruntergeladen werden soll.</para>
 
-        <para>Der Hacken bei <literal>download an overview map</literal> wird
-        CacheWolf veranlassen eine Kachel zu ermitteln und herunterzuladen,
+        <para>Der Haken bei <literal>download an overview map</literal> wird
+        CacheWolf veranlassen, eine Kachel zu ermitteln und herunterzuladen,
         die das gesamte Rechteck umschliesst.</para>
 
         <para>Die eben beschriebene Kachelmethode kann sehr viele Daten
-        (Dateien) generieren. In Gebieten, wo Caches weit auseinander liegen
-        erzeugt man hierdurch einen ziemlichen ?berhang an Daten. Daher
-        besteht auch die M?glichkeit, Karten je Cache zu laden:</para>
+        (Dateien) generieren. In Gebieten, in denen Caches weit auseinander
+        liegen, erzeugt man hierdurch einen ziemlichen ?berhang an Daten.
+        Daher besteht auch die M?glichkeit, Karten je Cache zu laden:</para>
 
         <para><inlinemediaobject>
             <imageobject>
@@ -361,13 +399,13 @@
             </imageobject>
           </inlinemediaobject></para>
 
-        <para>Auch hier besteht die M?glichkeit eine Karte je Cache in der
+        <para>Auch hier besteht die M?glichkeit, eine Karte je Cache in der
         Datenbank oder nur f?r die, die in der Listenansicht (einen H?ckchen
-        wurde gesetzt) selektiert wurden.</para>
+        wurde gesetzt) selektiert wurden, herunterzuladen.</para>
 
-        <para>Durch ein Klick auf <literal>OK</literal> beginnt der Download.
-        Je nach dem, wie die Parameter eingestellt wurden kann der Download
-        etwas Zeit in Anspruch nehmen.</para>
+        <para>Durch einen Klick auf <literal>OK</literal> beginnt der
+        Download. Je nach dem, wie die Parameter eingestellt wurden, kann der
+        Download etwas Zeit in Anspruch nehmen.</para>
       </section>
 
       <section>
@@ -376,9 +414,9 @@
         <para>Der Import von Karten erfolgt durch die Auswahl eines
         Verzeichnisses, in dem sich Karten im Format (PNG, JPG, GIF, BMP)
         befinden (Leider werden die Karten selbst in dem Verzeichnis nicht
-        angezeigt). Wenn sich ebenfalls .map Deteien in dem Verzeichjnis
-        befinden, wird CacheWolf diese Dateien zum Kalibrieren der
-        gleichnamigen Kartendatei verwenden.</para>
+        angezeigt). Wenn sich auch .map-Dateien in dem Verzeichjnis befinden,
+        wird CacheWolf diese Dateien zum Kalibrieren der gleichnamigen
+        Kartendatei verwenden.</para>
 
         <para><example>
             <title>Kartendatei mit zugeh?rige .map Datei</title>
@@ -386,12 +424,12 @@
             <para>Kartendatei: 01x01.png .map Datei: 01x01.map</para>
           </example></para>
 
-        <para>Mit einer .map Datei meinen wir eine Datei im OziExplorer
-        format: <ulink
-        url="http://www.rus-roads.ru/gps/help_ozi/map_file_format.html">http://www.rus-roads.ru/gps/help_ozi/map_file_format.html</ulink>.
+        <para>Mit einer .map Datei meinen wir eine Datei im OziExplorer Format
+        (siehe <ulink
+        url="http://www.rus-roads.ru/gps/help_ozi/map_file_format.html">http://www.rus-roads.ru/gps/help_ozi/map_file_format.html</ulink>).
         CacheWolf nutzt die Zeilen mit den Pr?fixen MMPXY und MMPLL; also
         m?ssen insgesamt 8 Zeilen vorhanden sein: und zwar zuerst die MMPXY
-        zeilen und dann die MMPLL Zeilen.</para>
+        Zeilen und dann die MMPLL Zeilen.</para>
 
         <example>
           <title>Map Beispieldatei</title>
@@ -424,7 +462,7 @@
         <para>Zum Kalibrieren einer Karte muss man f?r mindestens drei Punkte
         auf der Karte die GPS Koordinaten (WGS84, DMM) kennen. CacheWolf kann
         aber auch mit mehr Koordinaten arbeiten; dadurch wird die Kalibrierung
-        genauer. Durch klick auf <literal>Anwendung -&gt; Karten -&gt;
+        genauer. Durch einen Klick auf <literal>Anwendung -&gt; Karten -&gt;
         Kalibrieren</literal> erh?lt man folgendes Bild:</para>
 
         <para><inlinemediaobject>
@@ -433,9 +471,10 @@
             </imageobject>
           </inlinemediaobject></para>
 
-        <para>Zum kalibrieren nun eine Karte aus der Liste "Nicht kalibrierte
-        Karten" ausw?hlen und auf "Laden" klicken. Danach erscheint die Karte
-        in einem neuen Fenster. Ich empfehle dieses Fenster auf die volle
+        <para>Zum Kalibrieren eine Karte aus der Liste <literal>Nicht
+        kalibrierte Karten</literal> ausw?hlen und auf
+        <literal>Laden</literal> klicken. Danach erscheint die Karte in einem
+        neuen Fenster. Ich empfehle, dieses Fenster auf die volle
         Bildschirmgr??e zu vergr??ern.</para>
 
         <para><inlinemediaobject>
@@ -444,13 +483,13 @@
             </imageobject>
           </inlinemediaobject></para>
 
-        <para>Jetzt musste Du f?r drei Punkte auf der Karte die GPS
-        Koordinaten eingeben. Hierzu einen entsprechenden Referenzpunkt mit
-        der Maus anklicken: an der Stelle wird ein rotes Kreuz auf der Karte
-        gezeichnet und ein Eingabefenster erscheint, um die Koordinaten
-        einzugeben (siehe <xref linkend="zentrum" />).</para>
+        <para>Jetzt musst Du f?r drei Punkte auf der Karte die GPS Koordinaten
+        eingeben. Hierzu einen entsprechenden Referenzpunkt mit der Maus
+        anklicken: an der Stelle wird ein rotes Kreuz auf der Karte gezeichnet
+        und ein Eingabefenster erscheint, um die Koordinaten einzugeben (siehe
+        <xref linkend="zentrum" />).</para>
 
-        <para>Nachdem Du drei Punkte angegeben hast wird Cachewolf ab dem
+        <para>Nachdem Du drei Punkte angegeben hast, wird Cachewolf ab dem
         vierten Punkt die errechneten Koordinaten unterhalb der Karte
         anzeigen:</para>
 
@@ -460,15 +499,16 @@
             </imageobject>
           </inlinemediaobject></para>
 
-        <para>Die Kalibrierung wird beendet durch einen klick auf den
-        "Fertig!" Knopf.</para>
+        <para>Die Kalibrierung wird durch einen Klick auf den knopf
+        <literal>Fertig!</literal> beendet.</para>
 
-        <para>Du kannst die kalibrierung jederzeit erneuern in dem Du im
-        Kartenauswahlfenster einfach eine Karte aus der Liste "Kalibrierte
-        Karten" l?dst.</para>
+        <para>Du kannst die Kalibrierung jederzeit erneuern, indem Du im
+        Kartenauswahlfenster einfach eine Karte aus der Liste
+        <literal>Kalibrierte Karten</literal> l?dst.</para>
 
-        <para>Die Karten werden angeiegt, wenn man in der Goto-Ansicht auf
-        "map" klickt oder in dem man in der Details-Ansicht auf die gr?n
+        <para>Die kalibrierten Karten werden angezeigt, wenn man in der
+        Ansicht <literal>Goto</literal> auf <literal>Karte</literal> klickt
+        oder indem man in der Ansicht <literal>Details</literal> auf die gr?n
         angedeutete Weltkugel klickt.</para>
       </section>
     </section>
@@ -478,21 +518,16 @@
 
       <para>Notizen werden durch den Wechsel aus der Detailansicht sofort
       gespeichert. Alle anderen ?nderungen, die man in der Detailansicht
-      (siehe <xref lang="" linkend="detailansicht" />) zu einem Cache werden
-      erst gespeichert, wenn man diese Men?option w?hlt.</para>
+      (siehe <xref lang="" linkend="detailansicht" />) zu einem Wegpunkt
+      macht, werden erst gespeichert, wenn man diese Men?option w?hlt.</para>
     </section>
 
     <section>
-      <title>Speichern &amp; Beenden</title>
-
-      <para>Zus?tzlich zum Speichern, wird durch diesen Men?eintrag CacheWolf
-      beendet.</para>
-    </section>
-
-    <section>
       <title>Beenden</title>
 
-      <para>Beenden beendet CacheWolf!</para>
+      <para><literal>Beenden</literal> beendet CacheWolf. Bis zu diesem
+      Zeitpunkt noch nicht gespeicherte ?nderungen werden vor dem Beenden
+      automatisch gespeichert!</para>
     </section>
   </section>
 
@@ -506,17 +541,32 @@
 
       <para>CacheWolf sucht im Namen und im Wegpunkt nach ?bereinstimmung zum
       eingegebenen Suchbegriff. Es wird nach Bestandteilen gesucht und nicht
-      nach einer genauen! ?bereinstimmung. Das Ergebnis der Suche wird in der
-      Listenansicht dargestellt. Caches, die nicht passen werden
-      ausgeblendet!</para>
+      nach einer genauen ?bereinstimmung! Das Ergebnis der Suche wird in der
+      Listenansicht dargestellt, die auf die Suche passenden Wegpunkte werden
+      au?erdem gelb hinterlegt (siehe auch <xref linkend="WegpunktStatus" />).
+      Zus?tzlich wird nach der Suche noch ein Filter angewendet, der alle
+      Wegpunkte, die nicht passen, ausblendet.</para>
+
+      <para>Willst Du also die von Dir gesuchten Caches farblich hervorheben,
+      aber dennoch eine Liste mit allen Caches im Profil sehen, musst Du erst
+      die entsprechende Suche durchf?hren und anschlie?end ?ber
+      <literal>Filter -&gt; Aufheben</literal> den nach der Suche automatisch
+      ausgef?hrten Filter aufheben.</para>
     </section>
 
     <section>
+      <title>Suche alle</title>
+
+      <para>TODO</para>
+    </section>
+
+    <section>
       <title>Suche aufheben</title>
 
-      <para>Weil Caches, die den Suchbegriff nicht erf?llen, ausgeblendet
-      werden, kann man alle Caches mit dieser Men?option wieder anzeigen
-      lassen.</para>
+      <para>Dieser Men?punkt hebt die farbliche Kennzeichnung der Wegpunkte,
+      die den Suchbegriff erf?llten, wieder auf. Gleichzeitig wird auch der
+      automatisch angewendete Filter aufgehoben, so dass wieder alle Caches
+      des Profils angezeigt werden.</para>
     </section>
   </section>
 
@@ -572,21 +622,31 @@
     <title id="verwalten">Verwalten</title>
 
     <para>Diese Men?gruppe stellt einige n?tzliche Funktionen zur
-    Massenverwaltung der ?Datenbank?, dem Profil. Es ist wichtig zu wissen,
-    dass diese Funktionen auf alle sichtbaren Caches in der Listenansicht
-    angewendet werden. Man muss also vorher mit dem Filter arbeiten, um die
-    Caches zu identifizieren, die man kopieren, l?schen oder verschieben
-    m?chte.</para>
+    Massenverwaltung der ?Datenbank?, dem Profil, zur Verf?gung. Es ist
+    wichtig zu wissen, dass diese Funktionen auf alle sichtbaren Caches in der
+    Listenansicht angewendet werden. Man muss also vorher mit dem Filter
+    arbeiten, um die Caches zu identifizieren, die man kopieren, l?schen oder
+    verschieben m?chte.N</para>
 
     <section>
+      <title>Neuer Wegpunkt</title>
+
+      <para>Dieser Men?punkt erzeugt einen neuen Wegpunkt, der nicht
+      automatisch dem aktiven Hauptwegpunkt zugeordnet wird. Nach dem Erzeugen
+      des neuen Wegpunkts wird die Ansicht <literal>Details</literal>
+      ge?ffnet, in der Du die passenden Daten, wie z.B. Name oder Koordinaten,
+      eintragen kannst.</para>
+    </section>
+
+    <section>
       <title>Kopieren</title>
 
       <para>Mit dieser Funktion werden die Caches in der Listenansicht in ein
       Zielverzeichnis kopiert. Die Caches bleiben allerdings in der Datenbank
-      (Profil) erhalten. In dem Zielverzeichnis befinden sich nach dem
-      Kopieren alle Cachebeschreibungen (\*.xml), Bilder zu den Caches und die
+      (Profil) erhalten. Im Zielverzeichnis befinden sich nach dem Kopieren
+      alle Cachebeschreibungen (\*.xml), Bilder zu den Caches und die
       index.xml. Man hat also eine neue Datenbank erzeugt! Diese l?sst sich
-      durch die Einstellung in den Pr?ferenzen (oder in den Profilen)
+      ?ber <literal>Anwendung -&gt; Profil -&gt; laden</literal>
       ?ffnen.</para>
     </section>
 
@@ -598,8 +658,8 @@
       Datenbank (Profil) gel?scht. In dem Zielverzeichnis befinden sich nach
       dem Verschieben alle Cachebeschreibungen (\*.xml), Bilder zu den Caches
       und die index.xml. Man hat also einen neue Datenbank erzeugt! Diese
-      l?sst sich durch die Einstellung in den Pr?ferenzen (oder in den
-      Profilen) ?ffnen.</para>
+      l?sst sich ?ber <literal>Anwendung -&gt; Profil -&gt; laden</literal>
+      ?ffnen.</para>
     </section>
 
     <section>
@@ -613,14 +673,28 @@
     <section>
       <title>Index neu erstellen</title>
 
-      <para></para>
+      <para>Erstellt die Datei index.xml des aktuell geladenen Profils
+      neu.</para>
     </section>
 
     <section>
       <title id="tbugs_verwalten">Travelbugs verwalten</title>
 
-      <para></para>
+      <para>Dieser Men?punkt ?ffnet die Travelbug-Verwaltung. Hier werden alle
+      Travelbugs gezeigt, die Du einem Cache entnommen oder in einem Cache
+      abgelegt hast. Entnommene bzw. abgelegte Travelbugs (siehe <xref
+      linkend="detailansicht" />) werden automatisch der Cacheverwaltung
+      hinzugef?gt. Zus?tzlich werden automatisch die Daten des Caches sowie
+      das aktuelle Datum hinzugef?gt. In der Travelbug-Verwaltung kannst du
+      all diese Daten einsehen oder auch nachtr?glich ?ndern.</para>
     </section>
+
+    <section>
+      <title>Cachetour</title>
+
+      <para>?ber diesen Men?punkt wird der Tourenplaner (siehe <xref
+      linkend="Tourenplaner" /> ) gestartet.</para>
+    </section>
   </section>
 
   <section>
@@ -629,22 +703,22 @@
     <section>
       <title>?ber</title>
 
-      <para>Eine kleine Einf?hrung in CacheWolf und wer die Software
-      geschrieben hat.</para>
+      <para>Eine kleine Einf?hrung in CacheWolf. Au?erdem werden die Autoren
+      der Software sowie der Link zu wichtigen Webseiten angezeigt.</para>
     </section>
 
     <section>
       <title>Legende</title>
 
-      <para>Anzeigen der Legende der Farben und Symbole</para>
+      <para>Zeigt die Legende der Farben und Symbole an.</para>
     </section>
 
     <section>
       <title>WolfLanguage</title>
 
       <para>Dieser Men?punkt ?ffnet eine Hilfeseite f?r die im L?ser
-      verf?gbaren Kommandos (bekommt man ?brigens auch direkt in der <xref
-      linkend="loeser" /> Ansicht).</para>
+      verf?gbaren Kommandos (bekommt man ?brigens auch direkt in der Ansicht
+      <literal>L?ser,</literal> siehe <xref linkend="loeser" />).</para>
     </section>
 
     <section>
@@ -657,7 +731,7 @@
     <section>
       <title>Version Pr?fen</title>
 
-      <para>Pr?ft auf neue Versionen von cacheWolf (Internetverbindung
+      <para>Pr?ft auf neue Versionen von CacheWolf (Internetverbindung
       notwendig!)</para>
     </section>
   </section>



From cw-manual at mail.berlios.de  Sun May 18 15:23:50 2008
From: cw-manual at mail.berlios.de (cw-manual at mail.berlios.de)
Date: Sun, 18 May 2008 15:23:50 +0200
Subject: [Cachewolf-svn] r1463 - trunk/docs/CacheWolf Doku
Message-ID: <200805181323.m4IDNo4P004421@sheep.berlios.de>

Author: cw-manual
Date: 2008-05-18 15:23:43 +0200 (Sun, 18 May 2008)
New Revision: 1463

Modified:
   trunk/docs/CacheWolf Doku/Installation.xml
Log:
lahmer: small change in chapter Installation

Modified: trunk/docs/CacheWolf Doku/Installation.xml
===================================================================
--- trunk/docs/CacheWolf Doku/Installation.xml	2008-05-18 13:10:25 UTC (rev 1462)
+++ trunk/docs/CacheWolf Doku/Installation.xml	2008-05-18 13:23:43 UTC (rev 1463)
@@ -97,9 +97,9 @@
 
       <para>Es existieren zwei optimierte Versionen von Cachewolf f?r den
       PocketPC: f?r Ger?te mit ARM-Prozessor und f?r Ger?te mit
-      Intel-Prozessor. Zus?tzlich gibt es noch Versionen f?r Zaurus, SH3 und
-      MIPS Prozessoren. Welche Version ben?tigt wird, kann man auch durch
-      Probieren ermitteln. (Teilweise laufen auch beide Versionen.)</para>
+      Intel-Prozessor. Welche Version ben?tigt wird, kann man auch durch
+      Probieren ermitteln (teilweise laufen auch beide Versionen). Zus?tzlich
+      gibt es noch Versionen f?r SH3 und MIPS Prozessoren. </para>
 
       <para>CacheWolf erkennt ?brigens VGA-Ger?te und stellt die Aufl?sung
       entsprechend ein.</para>
@@ -125,8 +125,8 @@
         <para>* Pocket PC 2002 und 2003 Ger?te nutzen ausschlie?lich einen ARM
         (kompatiblen) Prozessor.</para>
 
-        <para>* Hast Du ein Ger?t, das Du in der zweiten H?lfte von 2004 oder
-        sp?ter gekauft hast, dann solltest Du die "PocketPC" Version von
+        <para>* Hast Du Dein Ger?t in der zweiten Jahresh?lfte von 2004 oder
+        sp?ter gekauft, dann solltest Du die "PocketPC2003" Version von
         CacheWolf installieren. Die "ARM" Version sollte zwar auch laufen,
         kann aber nicht alle Funktionen Deines Ger?ts optimal nutzen.
         Beispiele (von Nutzern):</para>
@@ -135,7 +135,7 @@
         Compaq IPAQ 6915, Medion MDPPC250, FSC Loox N560, Dell Axim X51V,
         Yakumo DeltaX5BT, Acer N35</para>
 
-        <para>** PocketPC: Loox N520, Mio Digi Walker P550</para>
+        <para>** PocketPC2003: Loox N520, Mio Digi Walker P550</para>
 
         <para>** Zaurus: Sharp SL-C1000</para>
 



From mik77 at mail.berlios.de  Sun May 18 16:27:32 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sun, 18 May 2008 16:27:32 +0200
Subject: [Cachewolf-svn] r1464 - trunk/res_noewe/languages
Message-ID: <200805181427.m4IERWkY011035@sheep.berlios.de>

Author: mik77
Date: 2008-05-18 16:27:29 +0200 (Sun, 18 May 2008)
New Revision: 1464

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
Log:
Some minor language corrections. Please check French and Netherlands translation.

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-05-18 13:23:43 UTC (rev 1463)
+++ trunk/res_noewe/languages/DE.cfg	2008-05-18 14:27:29 UTC (rev 1464)
@@ -42,9 +42,9 @@
 		142=Verschieben 
 		143=L%f6schen
 		144=Warnung 
-		145=Cachedaten ALLER ANGEZEIGTEN Caches werden gel%f6scht!  Weiter? 
-		146=Cachedaten ALLER ANGEZEIGTEN Caches werden kopiert!  Weiter? 
-		147=Cachedaten ALLER ANGEZEIGTEN Caches werden verschoben!  Weiter? 
+		145=Daten ALLER ANGEZEIGTEN Wegpunkte werden gel%f6scht!  Weiter? 
+		146=Daten ALLER ANGEZEIGTEN Wegpunkte werden kopiert!  Weiter? 
+		147=Daten ALLER ANGEZEIGTEN Wegpunkte werden verschoben!  Weiter? 
 		148=Zielverzeichnis w%e4hlen 
 		149=Karten
 		150=Importieren
@@ -282,14 +282,14 @@
 		1019=Diesen als Zentrum setzen
 		1020=Im Browser online %f6ffnen
 		1021=Beschreibung %f6ffnen
-		1022=Alle mit H%e4kchen markierten Caches (
+		1022=Alle mit H%e4kchen markierten Wegpunkte (
 		1023=Diese Funktion steht gegenw%e4rtig nur f%fcr Geocaching.com zur Verf%fcgung
 		1024=Entfernungen in der Listenansicht~vom aktuellen Standpunkt aus~neu berechnet
 		1025=Kann Zentrum nicht setzen (GPS-Position unzul%e4ssig)
 		1026=#Rec
 		1027=OC-Idx
 		1028=) l%f6schen?
-		1029=Es gibt angew%e4hlte aber nicht sichtbare Caches.%0a(Caches:+
+		1029=Es gibt angew%e4hlte aber nicht sichtbare Wegpunkte.%0a(Caches:+
         1030=, zus%e4tzliche Wegpunkte:+
         1031=Diese auch l%f6schen?
 		1032=Pfad zum Browser:
@@ -687,7 +687,7 @@
 		4821=WebMapService: Eigenschaft >ImageFileExtension:< fehlt in Datei:%0a
 		4822=Bereich: 
 		4823= wird vom Dienst: 
-		4824=nicht abgedeckt, Dienstbereich: 
+		4824=+nicht abgedeckt, Dienstbereich: 
 		4825=Ma%dfstab 
 		4826= wird von diesem Kartendienst nicht unterst%fctzt, unterst%fctzter Ma%dfstabsbereich: 
 		4827= (gemessen vertikal in Metern pro Pixel)

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-05-18 13:23:43 UTC (rev 1463)
+++ trunk/res_noewe/languages/EN.cfg	2008-05-18 14:27:29 UTC (rev 1464)
@@ -42,9 +42,9 @@
 		142=Move 
 		143=Delete 
 		144=Warning 
-		145=Cachedata of ALL SHOWN caches will be deleted! Continue? 
-		146=Cachedata of ALL SHOWN caches will be copied! Continue? 
-		147=Cachedata of ALL SHOWN caches will be moved! Continue? 
+		145=Data of ALL SHOWN waypoints will be deleted! Continue? 
+		146=Data of ALL SHOWN waypoints will be copied! Continue? 
+		147=Data of ALL SHOWN waypoints will be moved! Continue? 
 		148=Select Target directory 
 		149=Maps
 		150=Import
@@ -283,14 +283,14 @@
 		1019=Set this as centre
 		1020=Open online in Browser
 		1021=Open cache description
-		1022=Delete all caches that have a tick (
+		1022=Delete all waypoints that have a tick (
 		1023=This function is currently only available for geocaching.com
 		1024=Distances in list view recalculated~from current position
 		1025=Cannot set centre (Invalid GPS position)
 		1026=#Rec
 		1027=OC-Idx
 		1028=)?
-		1029=There are caches that are ticked but invisible.%0a(Main caches:+
+		1029=There are waypoints that are ticked but invisible.%0a(Main caches:+
 		1030=, additional Waypoints:+
 		1031=Delete them, too? 
 		1032=Path to browser:

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2008-05-18 13:23:43 UTC (rev 1463)
+++ trunk/res_noewe/languages/FR.cfg	2008-05-18 14:27:29 UTC (rev 1464)
@@ -42,9 +42,9 @@
 		142=D%e9placer 
 		143=Effacer
 		144=Avertissement 
-		145=Donn%e9es de TOUTES les Caches AFFICH%c9ES seront effac%e9es. Continu%e9?
-		146=Donn%e9es de TOUTES les Caches AFFICH%c9ES seront copi%e9es. Continu%e9?
-		147=Donn%e9es de TOUTES les Caches AFFICH%c9ES seront d%e9plac%e9es. Continu%e9? 
+		145=Donn%e9es de TOUTES les waypoints AFFICH%c9ES seront effac%e9es. Continu%e9?
+		146=Donn%e9es de TOUTES les waypoints AFFICH%c9ES seront copi%e9es. Continu%e9?
+		147=Donn%e9es de TOUTES les waypoints AFFICH%c9ES seront d%e9plac%e9es. Continu%e9? 
 		148=Choisir dossier
 		149=Cartes
 		150=Importer
@@ -77,10 +77,10 @@
 		184=Enregistrer comme
 		185=Enregistrer (sans demande)
 		186=Tirer waypoints additionelles aussi
-		187=N'afficher que ces Waypoints
+		187=N'afficher que ces waypoints
 		188=TOUR de CACHE: NOUVEAU
 		189=Appliquer filtre de tour
-		190=N'afficher que ces Waypoints
+		190=N'afficher que ces waypoints
 		191=Choisir fichier
 		192=Enregistrer modifications
 		193=Ajouter waypoints additionelles
@@ -282,14 +282,14 @@
 		1019=Choisir pout centre
 		1020=Ouvrir en navigateur en ligne
 		1021=Ouvrir description
-		1022=Effacer toutes les caches coch%e9es (
+		1022=Effacer toutes les waypoints coch%e9es (
 		1023=Cette fonction n'est momentan%e9ment disponible que pour Geocaching.com
 		1024=Distances recalcul%e9
 		1025=Ne peut pas actualiser centre. (Position GPS pas valide)
 		1026=#Rec
 		1027=OC-Idx
 		1028=) ?
-		1029=Il y a des caches coch%e9e mais pas visible.%0a(Caches:+
+		1029=Il y a des waypoints coch%e9e mais pas visible.%0a(Caches:+
         1030=, waypoints additionel:+
         1031=Effacer ceux-ci aussi?
 		1032=Chemin au navigateur:
@@ -685,7 +685,7 @@
 		4821=WebMapService: Propri%e9t%e9 >ImageFileExtension:< manque en fichier:%0a
 		4822=%c9tendu: 
 		4823= n'est pas couvert par service: 
-		4824=%c9tendu de service: 
+		4824=, %c9tendu de service: 
 		4825=Echelle 
 		4826= n'est pas soutenu par cette service de cartes. Echelle soutenu: 
 		4827= (mesur%e9 verticalement en m%e8tres par pixel)

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2008-05-18 13:23:43 UTC (rev 1463)
+++ trunk/res_noewe/languages/NL.cfg	2008-05-18 14:27:29 UTC (rev 1464)
@@ -42,9 +42,9 @@
 		142=Verplaatsen
 		143=Verwijderen
 		144=Waarschuwing
-		145=Cache data van ALLE GETOONDE caches worden verwijderd! Doorgaan?
-		146=Cache data van ALLE GETOONDE caches worden gekopieerd! Doorgaan?
-		147=Cache data van ALLE GETOONDE caches worden verplaatst! Doorgaan?
+		145=Data van ALLE GETOONDE Waypoints worden verwijderd! Doorgaan?
+		146=Data van ALLE GETOONDE Waypoints worden gekopieerd! Doorgaan?
+		147=Data van ALLE GETOONDE Waypoints worden verplaatst! Doorgaan?
 		148=Selecteer doel map
 		149=Kaarten
 		150=Importeren
@@ -262,12 +262,12 @@
 		1019=Zet deze als middelpunt.
 		1020=Toon online in Browser.
 		1021=Toon cachebeschrijving
-		1022=Verwijder alle aangevinkte caches (.
+		1022=Verwijder alle aangevinkte Waypoints (.
 		1023=Deze functie is momenteel alleen beschikbaar voor geocaching.com.
 		1024=Afstand in lijst is~ten opzichte van de huidige positie~herberekend.
 		1025=Kan middelpunt niet toepassen (verkeerde GPS co%f6rdinaten).
 		1028=)?
-		1029=Er zijn verwinkte maar niet zichtbare caches.%0a(Caches:+
+		1029=Er zijn verwinkte maar niet zichtbare Waypoints.%0a(Caches:+
         1030=, additionele Waypoints:+
         1031=Deeze ook verwijdern?
 		1032=Path to browser:



From pfeffer at mail.berlios.de  Mon May 19 19:40:30 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Mon, 19 May 2008 19:40:30 +0200
Subject: [Cachewolf-svn] r1465 - trunk/src/CacheWolf
Message-ID: <200805191740.m4JHeUde013575@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-19 19:40:28 +0200 (Mon, 19 May 2008)
New Revision: 1465

Modified:
   trunk/src/CacheWolf/MyLocale.java
Log:
MyLocale: Bug fix: in the ewe-vm the error-message >Language file languages/" + getLocaleLanguage().toUpperCase() + ".cfg couldn't be loaded - using hard coded messages< caused an exception stopping the application, see  http://www.geoclub.de/viewtopic.php?f=40&t=24673&start=20

Modified: trunk/src/CacheWolf/MyLocale.java
===================================================================
--- trunk/src/CacheWolf/MyLocale.java	2008-05-18 14:27:29 UTC (rev 1464)
+++ trunk/src/CacheWolf/MyLocale.java	2008-05-19 17:40:28 UTC (rev 1465)
@@ -55,12 +55,16 @@
 		 }
 		 else {
 			 lr = new LocalResource(){
-					public Object get(int id,Object data){return data;}
-					public Object get(String id,Object data){return data;}
-				};
-				(new MessageBox("Error", "Language file languages/" + getLocaleLanguage().toUpperCase() + ".cfg couldn't be loaded - using hard coded messages", FormBase.OKB)).execute();
+				 public Object get(int id,Object data){return data;}
+				 public Object get(String id,Object data){return data;}
+			 };
+			 (new mThread() { // start a new thread is necessary because the simple ewe v1.49 threading model doesn't allow displaying of a messageBox in this kind of thread
+				 public void run() {
+					 (new MessageBox("Error", "Language file languages/" + getLocaleLanguage().toUpperCase() + ".cfg couldn't be loaded - using hard coded messages", FormBase.OKB)).execute();
+				 }
+			 }).start();
 		 }
-		 
+
 		 double testA = Convert.toDouble("1,50") + Convert.toDouble("3,00");
 		 if(testA == 4.5) digSeparator = ","; else digSeparator = ".";
 	}



From mik77 at mail.berlios.de  Mon May 19 21:10:30 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Mon, 19 May 2008 21:10:30 +0200
Subject: [Cachewolf-svn] r1466 - trunk/src/CacheWolf
Message-ID: <200805191910.m4JJAU7C024013@sheep.berlios.de>

Author: mik77
Date: 2008-05-19 21:10:27 +0200 (Mon, 19 May 2008)
New Revision: 1466

Modified:
   trunk/src/CacheWolf/Filter.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/Profile.java
   trunk/src/CacheWolf/StatusBar.java
Log:
- Don't show filterd out caches after changing blacklist status
- New filter status when only (un)ticked caches are filtered

Modified: trunk/src/CacheWolf/Filter.java
===================================================================
--- trunk/src/CacheWolf/Filter.java	2008-05-19 17:40:28 UTC (rev 1465)
+++ trunk/src/CacheWolf/Filter.java	2008-05-19 19:10:27 UTC (rev 1466)
@@ -16,6 +16,7 @@
 	public static final int FILTER_INACTIVE=0;
 	public static final int FILTER_ACTIVE=1;
 	public static final int FILTER_CACHELIST=2;
+	public static final int FILTER_MARKED_ONLY=3;
 	
 	/** Indicator whether a filter is inverted */
 	//public static boolean filterInverted=false;

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-05-19 17:40:28 UTC (rev 1465)
+++ trunk/src/CacheWolf/MainMenu.java	2008-05-19 19:10:27 UTC (rev 1466)
@@ -492,23 +492,37 @@
 			if(mev.selectedItem == filtSelected){ // incremental filter
 				Global.getProfile().selectionChanged = true;
 				CacheHolder ch;
+				boolean filterChanged = false;
 				for(int i = cacheDB.size()-1; i>=0; i--){
 					ch = (CacheHolder)cacheDB.get(i);
 					// This is an incremental filter, i.e. it keeps the existing filter
 					// status and only adds the marked caches to the filtered set
-					ch.is_filtered = ch.is_Checked || ch.is_filtered;
+					if (ch.is_Checked && !ch.is_filtered) {
+						ch.is_filtered = true;
+						filterChanged = true;
+					}
 				}
+				if ( filterChanged && Global.getProfile().filterActive == Filter.FILTER_INACTIVE) {
+					Global.getProfile().filterActive = Filter.FILTER_MARKED_ONLY;
+				}
 				tbp.refreshTable();
 			}
 			if (mev.selectedItem == filtNonSelected){
 				Global.getProfile().selectionChanged = true;
 				CacheHolder ch;
+				boolean filterChanged = false;
 				for(int i = cacheDB.size()-1; i >=0; i--){
 					ch = (CacheHolder)cacheDB.get(i);
 					// incremental filter. Keeps status of all marked caches and
 					// adds unmarked caches to filtered list
-					ch.is_filtered = !ch.is_Checked || ch.is_filtered;
+					if (!ch.is_Checked && !ch.is_filtered) {
+						ch.is_filtered = true;
+						filterChanged = true;
+					}
 				}
+				if ( filterChanged && Global.getProfile().filterActive == Filter.FILTER_INACTIVE) {
+					Global.getProfile().filterActive = Filter.FILTER_MARKED_ONLY;
+				}
 				tbp.refreshTable();
 			}
 			if(mev.selectedItem == filtBlack){

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2008-05-19 17:40:28 UTC (rev 1465)
+++ trunk/src/CacheWolf/MainTab.java	2008-05-19 19:10:27 UTC (rev 1466)
@@ -192,8 +192,8 @@
 			// If Solver or Details has changed, save Cache
 			updatePendingChanges();
 			if (detP.hasBlackStatusChanged()) {
-				// Restore the filter status (this automatically sets the status for blacklisted caches)
-				Global.getProfile().restoreFilter( true );
+				// filter out caches with wrong blacklist status
+				Global.getProfile().checkBlacklistStatus();
 				tbP.refreshTable();
 			}
 			break;

Modified: trunk/src/CacheWolf/Profile.java
===================================================================
--- trunk/src/CacheWolf/Profile.java	2008-05-19 17:40:28 UTC (rev 1465)
+++ trunk/src/CacheWolf/Profile.java	2008-05-19 19:10:27 UTC (rev 1466)
@@ -316,6 +316,23 @@
 			}
 		}
 	}
+	
+	void checkBlacklistStatus() {
+		Vector cacheDB=Global.getProfile().cacheDB;
+		CacheHolder ch;
+		boolean filterChanged = false;
+		for(int i = cacheDB.size()-1; i >=0 ; i--){
+			ch = (CacheHolder)cacheDB.get(i);
+			if (ch.is_black^showBlacklisted) {
+				ch.is_filtered = true;
+				filterChanged = true;
+			}
+		}
+		if ( filterChanged ) {
+			selectionChanged = true;
+			hasUnsavedChanges=true;			
+		}
+	}
 
 	public int getCacheIndex(String wp){
 		int retval = -1;

Modified: trunk/src/CacheWolf/StatusBar.java
===================================================================
--- trunk/src/CacheWolf/StatusBar.java	2008-05-19 17:40:28 UTC (rev 1465)
+++ trunk/src/CacheWolf/StatusBar.java	2008-05-19 19:10:27 UTC (rev 1466)
@@ -62,6 +62,8 @@
 			btnFlt.backGround=new Color(0,255,0);
 		else if (Global.getProfile().filterActive==Filter.FILTER_CACHELIST)
 			btnFlt.backGround=new Color(0,0,255);
+		else if (Global.getProfile().filterActive==Filter.FILTER_MARKED_ONLY)
+			btnFlt.backGround=new Color(0,255,255);
 		else
 			btnFlt.backGround=null;
 		// Current centre can only be displayed if screen is big



From pfeffer at mail.berlios.de  Mon May 19 21:48:07 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Mon, 19 May 2008 21:48:07 +0200
Subject: [Cachewolf-svn] r1467 - trunk/src/CacheWolf
Message-ID: <200805191948.m4JJm7IP029065@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-19 21:48:06 +0200 (Mon, 19 May 2008)
New Revision: 1467

Modified:
   trunk/src/CacheWolf/MyLocale.java
Log:
MyLocale: Bug fix: (second case, thanx to MiK) in the ewe-vm the error-message >Language file languages/" + getLocaleLanguage().toUpperCase() + ".cfg couldn't be loaded - using hard coded messages< caused an exception stopping the application, see  http://www.geoclub.de/viewtopic.php?f=40&t=24673&start=20

Modified: trunk/src/CacheWolf/MyLocale.java
===================================================================
--- trunk/src/CacheWolf/MyLocale.java	2008-05-19 19:10:27 UTC (rev 1466)
+++ trunk/src/CacheWolf/MyLocale.java	2008-05-19 19:48:06 UTC (rev 1467)
@@ -45,7 +45,11 @@
 			 int tmp = Locale.createID(language,"",0);
 			 if (tmp > -1) l=new Locale(tmp);
 			 else { // language not found
-				 (new MessageBox("Error", "Language " + language + " not found - using standard language", FormBase.OKB)).execute(); // don't copy this messagebox into a language file, because it is only used if no languages file can be accessed
+				 (new mThread() { // start a new thread is necessary because the simple ewe v1.49 threading model doesn't allow displaying of a messageBox in this kind of thread
+					 public void run() {
+						 (new MessageBox("Error", "Language " + language + " not found - using standard language", FormBase.OKB)).execute(); // don't copy this messagebox into a language file, because it is only used if no languages file can be accessed
+					 }
+				 }).start();
 				 l = Vm.getLocale(); 
 			 }
 		 }



From mik77 at mail.berlios.de  Mon May 19 22:46:53 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Mon, 19 May 2008 22:46:53 +0200
Subject: [Cachewolf-svn] r1468 - in trunk/src/CacheWolf: . navi
Message-ID: <200805192046.m4JKkr4m003788@sheep.berlios.de>

Author: mik77
Date: 2008-05-19 22:46:51 +0200 (Mon, 19 May 2008)
New Revision: 1468

Modified:
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/navi/MapsList.java
Log:
- recurse complete selected maps directory when searching for maps
- set fallback to whole maps directory, when no map directory is set

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-05-19 19:48:06 UTC (rev 1467)
+++ trunk/src/CacheWolf/Preferences.java	2008-05-19 20:46:51 UTC (rev 1468)
@@ -473,7 +473,10 @@
 			else return  ret;
 		}
 		// expedia dir
-		return getMapExpediaLoadPath(); 
+		// return getMapExpediaLoadPath();
+		
+		//whole maps directory
+		return Global.getPref().baseDir.replace('\\', '/') + "maps";
 	}
 
 	/**

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2008-05-19 19:48:06 UTC (rev 1467)
+++ trunk/src/CacheWolf/navi/MapsList.java	2008-05-19 20:46:51 UTC (rev 1468)
@@ -44,9 +44,20 @@
 		// sort(new StandardComparer(), false);
 
 		
-		for (int j = dirs.size()-1; j >= 0; j--) {
+		for (int j = 0; j < dirs.size(); j++) {
 			files = new FileBugfix(mapsPath+"/"+dirs.get(j));
 			//ewe.sys.Vm.debug("mapd-Dirs:"+files);
+			
+			//add subdirectories
+			if (!dirs.get(j).equals(".")) {
+				dirstmp = files.list(null, FileBase.LIST_DIRECTORIES_ONLY);
+				if (dirstmp != null) {
+					for (int subDir = 0; subDir < dirstmp.length; subDir++) {
+						dirs.add(j+1+subDir, dirs.get(j)+"/"+dirstmp[subDir]);
+					}
+				}
+			}
+
 			dateien = files.list("*.wfl", FileBase.LIST_FILES_ONLY); //"*.xyz" doesn't work on some systems -> use FileBugFix
 			if (dateien == null) continue;
 			for(int i = 0; i < dateien.length;i++){



From kappler at mail.berlios.de  Tue May 20 10:06:36 2008
From: kappler at mail.berlios.de (kappler at mail.berlios.de)
Date: Tue, 20 May 2008 10:06:36 +0200
Subject: [Cachewolf-svn] r1469 - trunk/src/CacheWolf
Message-ID: <200805200806.m4K86aUg027962@sheep.berlios.de>

Author: kappler
Date: 2008-05-20 10:06:35 +0200 (Tue, 20 May 2008)
New Revision: 1469

Modified:
   trunk/src/CacheWolf/CacheList.java
Log:
VGA: Use large scrollbar for CacheList

Modified: trunk/src/CacheWolf/CacheList.java
===================================================================
--- trunk/src/CacheWolf/CacheList.java	2008-05-19 20:46:51 UTC (rev 1468)
+++ trunk/src/CacheWolf/CacheList.java	2008-05-20 08:06:35 UTC (rev 1469)
@@ -36,8 +36,8 @@
 		// The actual list
 		lstCaches=new myList(10,1,false); lstCaches.text="CacheList"; 
 		lstCaches.addItem(MyLocale.getMsg(180,"Drag caches"));lstCaches.addItem(MyLocale.getMsg(181,"here"));
-		ScrollablePanel scp=lstCaches.getScrollablePanel();
-		addLast(scp,STRETCH,FILL); scp.setOptions(ScrollablePanel.NeverShowHorizontalScrollers);
+		MyScrollBarPanel scp=lstCaches.getScrollablePanel();
+		addLast(scp,STRETCH,FILL); scp.setOptions(MyScrollBarPanel.NeverShowHorizontalScrollers);
 		// The buttons to move the selected cache
 		addNext(btnDown=new mButton(imgDown),HSHRINK,HFILL); btnDown.modify(Disabled,0);
 		addLast(btnUp=new mButton(imgUp),HSHRINK,HFILL); btnUp.modify(Disabled,0);
@@ -141,6 +141,13 @@
 			}
 			super.onKeyEvent(ev);
 		}
+		public MyScrollBarPanel getScrollablePanel()
+		{
+			dontAutoScroll = amScrolling = true;
+			MyScrollBarPanel sp = new MyScrollBarPanel(this);
+			sp.modify(0,TakeControlEvents);
+			return sp;
+		}
 
 	} //******************* myList
 	



From pfeffer at mail.berlios.de  Tue May 20 19:59:19 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Tue, 20 May 2008 19:59:19 +0200
Subject: [Cachewolf-svn] r1470 - trunk/src/CacheWolf
Message-ID: <200805201759.m4KHxJmS001379@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-20 19:59:18 +0200 (Tue, 20 May 2008)
New Revision: 1470

Modified:
   trunk/src/CacheWolf/CacheList.java
Log:
CacheList: Bug fixed, which prevented flyingfish from compiling

Modified: trunk/src/CacheWolf/CacheList.java
===================================================================
--- trunk/src/CacheWolf/CacheList.java	2008-05-20 08:06:35 UTC (rev 1469)
+++ trunk/src/CacheWolf/CacheList.java	2008-05-20 17:59:18 UTC (rev 1470)
@@ -36,7 +36,7 @@
 		// The actual list
 		lstCaches=new myList(10,1,false); lstCaches.text="CacheList"; 
 		lstCaches.addItem(MyLocale.getMsg(180,"Drag caches"));lstCaches.addItem(MyLocale.getMsg(181,"here"));
-		MyScrollBarPanel scp=lstCaches.getScrollablePanel();
+		ScrollBarPanel scp=lstCaches.getScrollablePanel();
 		addLast(scp,STRETCH,FILL); scp.setOptions(MyScrollBarPanel.NeverShowHorizontalScrollers);
 		// The buttons to move the selected cache
 		addNext(btnDown=new mButton(imgDown),HSHRINK,HFILL); btnDown.modify(Disabled,0);
@@ -141,10 +141,10 @@
 			}
 			super.onKeyEvent(ev);
 		}
-		public MyScrollBarPanel getScrollablePanel()
+		public ScrollBarPanel getScrollablePanel()
 		{
 			dontAutoScroll = amScrolling = true;
-			MyScrollBarPanel sp = new MyScrollBarPanel(this);
+			ScrollBarPanel sp = new MyScrollBarPanel(this);
 			sp.modify(0,TakeControlEvents);
 			return sp;
 		}



From pfeffer at mail.berlios.de  Tue May 20 20:03:15 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Tue, 20 May 2008 20:03:15 +0200
Subject: [Cachewolf-svn] r1471 - trunk/src/CacheWolf
Message-ID: <200805201803.m4KI3FKq001806@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-20 20:03:14 +0200 (Tue, 20 May 2008)
New Revision: 1471

Modified:
   trunk/src/CacheWolf/CacheList.java
Log:
CacheList: Bug fixed, which prevented flyingfish from compiling - another try

Modified: trunk/src/CacheWolf/CacheList.java
===================================================================
--- trunk/src/CacheWolf/CacheList.java	2008-05-20 17:59:18 UTC (rev 1470)
+++ trunk/src/CacheWolf/CacheList.java	2008-05-20 18:03:14 UTC (rev 1471)
@@ -36,7 +36,7 @@
 		// The actual list
 		lstCaches=new myList(10,1,false); lstCaches.text="CacheList"; 
 		lstCaches.addItem(MyLocale.getMsg(180,"Drag caches"));lstCaches.addItem(MyLocale.getMsg(181,"here"));
-		ScrollBarPanel scp=lstCaches.getScrollablePanel();
+		ScrollablePanel scp=lstCaches.getScrollablePanel();
 		addLast(scp,STRETCH,FILL); scp.setOptions(MyScrollBarPanel.NeverShowHorizontalScrollers);
 		// The buttons to move the selected cache
 		addNext(btnDown=new mButton(imgDown),HSHRINK,HFILL); btnDown.modify(Disabled,0);
@@ -141,7 +141,7 @@
 			}
 			super.onKeyEvent(ev);
 		}
-		public ScrollBarPanel getScrollablePanel()
+		public ScrollablePanel getScrollablePanel()
 		{
 			dontAutoScroll = amScrolling = true;
 			ScrollBarPanel sp = new MyScrollBarPanel(this);



From cw-manual at mail.berlios.de  Tue May 20 22:41:21 2008
From: cw-manual at mail.berlios.de (cw-manual at mail.berlios.de)
Date: Tue, 20 May 2008 22:41:21 +0200
Subject: [Cachewolf-svn] r1472 - trunk/docs/CacheWolf Doku
Message-ID: <200805202041.m4KKfLSb015262@sheep.berlios.de>

Author: cw-manual
Date: 2008-05-20 22:41:14 +0200 (Tue, 20 May 2008)
New Revision: 1472

Modified:
   trunk/docs/CacheWolf Doku/menu.xml
Log:
lahmer: Unterschied zwischen Suchen und Suche alle erklaert.

Modified: trunk/docs/CacheWolf Doku/menu.xml
===================================================================
--- trunk/docs/CacheWolf Doku/menu.xml	2008-05-20 18:03:14 UTC (rev 1471)
+++ trunk/docs/CacheWolf Doku/menu.xml	2008-05-20 20:41:14 UTC (rev 1472)
@@ -129,8 +129,8 @@
       vorhanden, da es auf diversen PDAs eher schwierig ist, das Kontextmen?
       in der Listenansicht direkt aufzurufen. Daher ist auf PDAs dieses Men?
       zu bevorzugen. Auf PCs d?rfte es hingegen einfacher sein, das
-      Kontextmen? in der Listenansicht mit einem Rechtsklick aufzurufen.
-      </para>
+      Kontextmen? in der Listenansicht mit einem Rechtsklick
+      aufzurufen.</para>
     </section>
 
     <section>
@@ -177,7 +177,7 @@
         einzelnen Caches bei geocaching.com ein erneuter Login. Dies ist vor
         allem beim Spidern oder Aktualisieren vieler Caches recht hinderlich
         und sollte daher vor dem Spidern bzw. Aktualisieren auf jeden Fall
-        deaktiviert werden. </para>
+        deaktiviert werden.</para>
 
         <para>Ben?tigt wird diese Funktion aber dennoch: Nach einem einmal
         erfolgten Login (z.B. ausgel?st durch eine Aktualisierung) erfolgt
@@ -276,15 +276,15 @@
 
         <itemizedlist>
           <listitem>
-            <para>TOPO 1000 Deutschland </para>
+            <para>TOPO 1000 Deutschland</para>
           </listitem>
 
           <listitem>
-            <para>TOPO 500 Deutschland </para>
+            <para>TOPO 500 Deutschland</para>
           </listitem>
 
           <listitem>
-            <para>TOPO 200 Deutschland </para>
+            <para>TOPO 200 Deutschland</para>
           </listitem>
 
           <listitem>
@@ -547,17 +547,28 @@
       Zus?tzlich wird nach der Suche noch ein Filter angewendet, der alle
       Wegpunkte, die nicht passen, ausblendet.</para>
 
-      <para>Willst Du also die von Dir gesuchten Caches farblich hervorheben,
-      aber dennoch eine Liste mit allen Caches im Profil sehen, musst Du erst
-      die entsprechende Suche durchf?hren und anschlie?end ?ber
-      <literal>Filter -&gt; Aufheben</literal> den nach der Suche automatisch
-      ausgef?hrten Filter aufheben.</para>
+      <para>Im Gegensatz zum folgenden Men?punkt <literal>Suche alle</literal>
+      wird bei dieser Suche nur in den aktuell dargestellten Wegpunkten
+      gesucht, d.h. falls vor der Suche bereits eine andere Suche durchgef?hrt
+      wurde oder falls ein Filter angewendet wurde, wird nicht in den
+      ausgefilterten Wegpunkten gesucht! Dadurch ist es m?glich, eine bereits
+      durchgef?hrte Suche weiter zu verfeinern.</para>
     </section>
 
     <section>
       <title>Suche alle</title>
 
-      <para>TODO</para>
+      <para>Bei dieser Suche werden alle Wegpunkte des Profils nach einer
+      ?bereinstimmung zum eingegebenen Suchbegriff durchsucht. War vor der
+      Suche noch ein Filter aktiv, wird dieser zuerst aufgehoben und dann erst
+      die Suche durchgef?hrt.</para>
+
+      <para>Willst Du die von Dir gesuchten Caches farblich hervorheben, aber
+      dennoch eine Liste mit allen Caches im Profil sehen, musst Du erst die
+      entsprechende Suche durchf?hren und anschlie?end ?ber <literal>Filter
+      -&gt; Aufheben</literal> den nach der Suche automatisch ausgef?hrten
+      Filter aufheben. Die gesuchten Caches stehen dann am Anfang der Liste
+      und sind gelb hervorgehoben.</para>
     </section>
 
     <section>



From pfeffer at mail.berlios.de  Wed May 21 00:50:19 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 21 May 2008 00:50:19 +0200
Subject: [Cachewolf-svn] r1473 - trunk/src/CacheWolf/navi
Message-ID: <200805202250.m4KMoJIb024315@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-21 00:50:11 +0200 (Wed, 21 May 2008)
New Revision: 1473

Modified:
   trunk/src/CacheWolf/navi/MapInfoObject.java
Log:
MapInfoObject: bug fixed: the calculation of scale didn't work exactly -> warning: the automatic naming of maps changed --> if you already have maps of the same area and scale, they will be downloaded again  (because they get now a different name and therefor cannot be recognised as already existend)

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2008-05-20 20:41:14 UTC (rev 1472)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2008-05-20 22:50:11 UTC (rev 1473)
@@ -279,32 +279,15 @@
 			transLonY = affine[0]/nenner;
 
 			// calculate north direction
-			// float scaleXpixels = 1/(float)java.lang.Math.sqrt(java.lang.Math.pow(transLonX,2)+java.lang.Math.pow(transLonY,2));
-			//	float scaleY = 1/(float)java.lang.Math.sqrt(java.lang.Math.pow(transLatX,2)+java.lang.Math.pow(transLatY,2));
-			// float rotationX2x=(float)transLonX*scaleXpixels;
-			// float rotationX2y=(float)transLonY*scaleXpixels;
-			//rotationY2y=-(float)transLatY*scaleY; // lat -> y = -, y -> y = +
-			//rotationY2x=-(float)transLatX*scaleY; // uncomment an make it a field of MapInfoObject if you need translation from x to x rotated
 			Point c = calcMapXY(center);
 			int heightpixel = c.y * 2;
 			c.y -= 1000;
 			rotationRad = (float) (center.getBearing(calcLatLon(c)) / 180 * Math.PI);  // note: the direction of nord can vary across the image. In Gau?-Kr?ger Projection it does change about 1 degree per 10km! //(float)java.lang.Math.atan(rotationX2y);
 			if (rotationRad > Math.PI) rotationRad -= 2* Math.PI;
-			//if (rotationX2x < 0) rotationRad = (float)java.lang.Math.PI - rotationRad;
+
 			// calculate scale in meters per pixel
-			CWPoint bl = new CWPoint(buttomright.latDec, topleft.lonDec);
-			double diagonal = topleft.getDistance(buttomright);
-			double beta = java.lang.Math.atan(bl.getDistance(buttomright) / bl.getDistance(topleft));
-			double gamma = beta - rotationRad;
-			double heightkm = diagonal * Math.cos(gamma);
-			// double metersPerLat = 1000*(new CWPoint(0,0)).getDistance(new CWPoint(1,0));
-			//CWPoint buttomleftimage = topleft.project(rotationRad * 180 / Math.PI + 180, heightkm);
-			//CWPoint buttomleftimage2 = calcLatLon(0, heightpixel);
-			//double kw = buttomleftimage.getDistance(buttomleftimage2);
-			//double kw2 = buttomleftimage.getBearing(buttomleftimage2);
-			//Vm.debug("project test: " + buttomleftimage.getDistance(topleft));
-			// double heightpixel = calcMapXY(buttomleftimage).y / Math.cos(rotationRad); 
-			scale = (float) (heightkm * 1000 / heightpixel); 
+			double heightkm = calcLatLon(0, heightpixel).getDistance(topleft);
+			scale = (float) (heightkm * 1000 / heightpixel);
 		} catch (ArithmeticException ex) { throw new ArithmeticException(MyLocale.getMsg(4305, "Not allowed values in affine\n (matrix cannot be inverted)\n in file \n") + fileNameWFL); }
 	}
 



From pfeffer at mail.berlios.de  Wed May 21 02:22:58 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 21 May 2008 02:22:58 +0200
Subject: [Cachewolf-svn] r1474 - trunk/src/CacheWolf/navi
Message-ID: <200805210022.m4L0MwwJ024638@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-21 02:22:56 +0200 (Wed, 21 May 2008)
New Revision: 1474

Modified:
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/CacheWolf/navi/MapsList.java
Log:
WMS-MapLoader: bug fixed: at the edge of a Gau??-Kr??ger stripe the calibration was wrong see http://www.geoclub.de/viewtopic.php?f=40&t=24294&p=388974#p388974

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2008-05-20 22:50:11 UTC (rev 1473)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2008-05-21 00:22:56 UTC (rev 1474)
@@ -489,14 +489,14 @@
 		GkPoint[] ret = new GkPoint[4];
 	//	CWPoint topright = new CWPoint(maparea.topleft.latDec, maparea.buttomright.lonDec);
 	//	CWPoint buttomleft = new CWPoint(maparea.buttomright.latDec, maparea.topleft.lonDec);
-		int crs = getCrs(maparea.topleft);
+		int crs = getCrs(maparea.getCenter());
 		int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[crs]);
 		ret[TOPLEFT_INDEX] = TransformCoordinates.wgs84ToGaussKrueger(maparea.topleft, coordinateReferenceSystem[crs]);
 		ret[BUTTOMRIGHT_INDEX] = TransformCoordinates.wgs84ToGaussKrueger(maparea.buttomright, coordinateReferenceSystem[crs]);
 		ret[TOPRIGHT_INDEX] = new GkPoint(ret[BUTTOMRIGHT_INDEX].getGkEasting(region), ret[TOPLEFT_INDEX].northing, ret[TOPLEFT_INDEX].stripewidth, ret[TOPLEFT_INDEX].lengthOfStripe0);
 		ret[BUTTOMLEFT_INDEX] = new GkPoint(ret[TOPLEFT_INDEX].getGkEasting(region), ret[BUTTOMRIGHT_INDEX].northing, ret[TOPLEFT_INDEX].stripewidth, ret[TOPLEFT_INDEX].lengthOfStripe0);
-		Vm.debug("rot left direkt: " + TransformCoordinates.GkToWgs84(ret[TOPLEFT_INDEX], region).getBearing(TransformCoordinates.GkToWgs84(ret[BUTTOMLEFT_INDEX], region)));
-		Vm.debug("rot right direkt: " + TransformCoordinates.GkToWgs84(ret[TOPRIGHT_INDEX], region).getBearing(TransformCoordinates.GkToWgs84(ret[BUTTOMRIGHT_INDEX], region)));
+		//Vm.debug("rot left direkt: " + TransformCoordinates.GkToWgs84(ret[TOPLEFT_INDEX], region).getBearing(TransformCoordinates.GkToWgs84(ret[BUTTOMLEFT_INDEX], region)));
+		//Vm.debug("rot right direkt: " + TransformCoordinates.GkToWgs84(ret[TOPRIGHT_INDEX], region).getBearing(TransformCoordinates.GkToWgs84(ret[BUTTOMRIGHT_INDEX], region)));
 		//ret[2] = TransformCoordinates.wgs84ToGermanGk(topright, coordinateReferenceSystem[crs]);
 		//ret[3] = TransformCoordinates.wgs84ToGermanGk(buttomleft, coordinateReferenceSystem[crs]);
 		return ret;	
@@ -544,7 +544,7 @@
 		String bbox = "BBOX=";
 		int region = TransformCoordinates.getGkRegion(coordinateReferenceSystem[0]); 
 		if (region > 0) {
-			crs = getCrs(buttomleft);
+			crs = getCrs(maparea.getCenter());
 			GkPoint[] gk = getGkArea(maparea);
 			buttomleft = TransformCoordinates.GkToWgs84(gk[BUTTOMLEFT_INDEX], region);
 			topright = TransformCoordinates.GkToWgs84(gk[TOPRIGHT_INDEX], region);
@@ -565,7 +565,7 @@
 	 * This method gives the number in the arrays of coordinateReferenceSystems, which should be used
 	 * a) if only one is in the array 0 is returned
 	 * b) if there are more, find out which one matches the correct Gau?-K?ger stripe
-	 * Call this routine witch buttom left 
+	 * Call this routine with center of the area (use Area.getcenter()) 
 	 * @param p Point for which the epsg code is searched for
 	 * @return
 	 */
@@ -625,7 +625,7 @@
 		georef.add(new GCPoint(buttomleft, new Point(0, pixelsize.y)));
 
 		MapInfoObject ret = new MapInfoObject();
-		ret.evalGCP(georef, pixelsize.x, pixelsize.y, coordinateReferenceSystem[getCrs(maparea.topleft)]);
+		ret.evalGCP(georef, pixelsize.x, pixelsize.y, coordinateReferenceSystem[getCrs(maparea.getCenter())]);
 		//Vm.debug("\n nach kal");
 		//Vm.debug("fehler tl: " + ret.calcLatLon(0, 0).getDistance(maparea.topleft)*1000);
 		//Vm.debug("fehler tl: " + ret.calcLatLon(0, 0).getBearing(maparea.topleft));

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2008-05-20 22:50:11 UTC (rev 1473)
+++ trunk/src/CacheWolf/navi/MapsList.java	2008-05-21 00:22:56 UTC (rev 1474)
@@ -246,7 +246,7 @@
 			ewe.sys.Vm.showWait(false);
 		}
 		if (fittingmap == null) return null;
-		return new MapInfoObject(fittingmap);
+		return new MapInfoObject(fittingmap); // TODO in case that this one and the old one are identical this instantiation could eventually be avoided as it is done at every greater shift of the map
 	}
 
 	/**



From mik77 at mail.berlios.de  Wed May 21 21:31:55 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Wed, 21 May 2008 21:31:55 +0200
Subject: [Cachewolf-svn] r1475 - in trunk: res_noewe/languages
	src/CacheWolf/navi
Message-ID: <200805211931.m4LJVtQg021479@sheep.berlios.de>

Author: mik77
Date: 2008-05-21 21:31:51 +0200 (Wed, 21 May 2008)
New Revision: 1475

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/src/CacheWolf/navi/MovingMap.java
Log:
Show only one message box when no maps are available.

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-05-21 00:22:56 UTC (rev 1474)
+++ trunk/res_noewe/languages/DE.cfg	2008-05-21 19:31:51 UTC (rev 1475)
@@ -575,8 +575,7 @@
 		4200=Kartenverzeichnis w%e4hlen
 		4201=Information
 		4203=Lade Kartenliste...
-		4204=Es steht keine kalibrierte Karte zur Verf%fcgung %0a Bitte w%e4hlen Sie einen Ma%dfstab,%0a in dem der Track und die markierten Caches angezeigt werden sollen
-		4205=Es steht keine kalibrierte Karte zur Verf%fcgung %0a Sie k%f6nnen Karten herunterladen im Hauptmen%fc: Anwendung/Karten/kalibrierte herunterladen
+		4204=Es steht keine kalibrierte Karte zur Verf%fcgung %0a Bitte w%e4hlen Sie einen Ma%dfstab,%0a in dem der Track und die markierten Caches angezeigt werden sollen. %0a Sie k%f6nnen Karten herunterladen im Hauptmen%fc: Anwendung/Karten/kalibrierte herunterladen
 		4206=Entf:+
 		4207=Fehler
 		4208=Programmfehler: %0a nichterlaubter mapChangeModus:+

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-05-21 00:22:56 UTC (rev 1474)
+++ trunk/res_noewe/languages/EN.cfg	2008-05-21 19:31:51 UTC (rev 1475)
@@ -569,6 +569,7 @@
 		4200=Choose map directory
 		4201=Information
 		4203=Loading list of maps...
+		4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches. %0a You can get one by the menu: Application/Maps/download calibrated
 		4206=Dist:+
 		4207=Error
 		4208=Bug: %0aillegal mapChangeModus:+

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2008-05-21 00:22:56 UTC (rev 1474)
+++ trunk/res_noewe/languages/FR.cfg	2008-05-21 19:31:51 UTC (rev 1475)
@@ -573,8 +573,7 @@
 		4200=Choisir dossier de cartes
 		4201=Information
 		4203=Chargeant liste des cartes...
-		4204=Carte calib%e9e pas disponible %0a Choisissez une %e9chelle%0a dans laquelle le track et les cartes seront affich%e9s
-		4205=Carte calib%e9e pas disponible  %0a T%e9l%e9chargez cartes avec le menu: Application/Cartes/T%e9lecharger cartes calibr%e9es
+		4204=Carte calib%e9e pas disponible %0a Choisissez une %e9chelle%0a dans laquelle le track et les cartes seront affich%e9s. %0a T%e9l%e9chargez cartes avec le menu: Application/Cartes/T%e9lecharger cartes calibr%e9es
 		4206=Dist:+
 		4207=Erreur
 		4208=Bogue informatique: %0a mapChangeModus pas valide:+

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-05-21 00:22:56 UTC (rev 1474)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-05-21 19:31:51 UTC (rev 1475)
@@ -215,8 +215,7 @@
 		dontUpdatePos = true;
 		maps = new MapsList(mapsPath); // this actually loads the maps
 		if (maps.isEmpty()) {
-			(new MessageBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4204, "No georeferenced map available \n Please choose a scale \n to show the track and the caches"), FormBase.OKB)).execute();
-			(new MessageBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4205, "No georeferenced map available  \n you can get one by the menu: Application/Maps/download calibrated"), FormBase.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4201, "Information"), MyLocale.getMsg(4204, "No georeferenced map available \n Please choose a scale \n to show the track and the caches. \n You can get one by the menu: Application/Maps/download calibrated"), FormBase.OKB)).execute();
 			noMapsAvailable = true;
 		} else noMapsAvailable = false;
 		maps.addEmptyMaps(lat); // the empty maps must be added last, otherwise in method setBestMap, when no mapt is available, a malfunction will happen, see there



From salzkammergut at mail.berlios.de  Wed May 21 21:42:15 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Wed, 21 May 2008 21:42:15 +0200
Subject: [Cachewolf-svn] r1476 - trunk/src/CacheWolf
Message-ID: <200805211942.m4LJgFqn022743@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-21 21:42:12 +0200 (Wed, 21 May 2008)
New Revision: 1476

Modified:
   trunk/src/CacheWolf/SpiderGC.java
Log:
SpiderGC: Bugfix. When refreshing a cache the flag ForceLogin was ignored


Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-05-21 19:31:51 UTC (rev 1475)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-05-21 19:42:12 UTC (rev 1476)
@@ -214,7 +214,7 @@
 		if (ch.isAddiWpt()) return -1;  // No point re-spidering an addi waypoint, comes with parent
 
 		// check if we need to login
-		if (!loggedIn){
+		if (!loggedIn || Global.getPref().forceLogin){
 			if (this.login()!=FormBase.IDOK) return -1;
 			// loggedIn is already set by this.login()
 		}



From mik77 at mail.berlios.de  Thu May 22 23:18:44 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Thu, 22 May 2008 23:18:44 +0200
Subject: [Cachewolf-svn] r1477 - trunk/src/CacheWolf
Message-ID: <200805222118.m4MLIiG3024470@sheep.berlios.de>

Author: mik77
Date: 2008-05-22 23:18:42 +0200 (Thu, 22 May 2008)
New Revision: 1477

Modified:
   trunk/src/CacheWolf/CalcPanel.java
Log:
Only reset CalcPanel when switching to another waypoint.

Modified: trunk/src/CacheWolf/CalcPanel.java
===================================================================
--- trunk/src/CacheWolf/CalcPanel.java	2008-05-21 19:42:12 UTC (rev 1476)
+++ trunk/src/CacheWolf/CalcPanel.java	2008-05-22 21:18:42 UTC (rev 1477)
@@ -49,8 +49,9 @@
 	// different panels to avoid spanning
 	CellPanel TopP = new CellPanel();
 	CellPanel BottomP = new CellPanel();
-
 	
+	String lastWaypoint = "";
+	
 	int currFormat;
 	mButton btnChangeLatLon;
 	
@@ -79,7 +80,9 @@
 		BottomP.addNext(new mLabel(MyLocale.getMsg(1403,"Bearing")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		BottomP.addLast(new mLabel(MyLocale.getMsg(1404,"Distance")),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		BottomP.addNext(inpBearing = new mInput(),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		inpBearing.setText("0");
 		BottomP.addNext(inpDistance = new mInput(),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		inpDistance.setText("0");
 		// Check for narrow screen and reduce width of fields to avoid horizontal scroll panel
 		if (MyLocale.getScreenWidth()<=240) {
 			FontMetrics fm = getFontMetrics(inpBearing.getFont());
@@ -147,10 +150,18 @@
 	
 	// ch must be not null
 	public void setFields(CacheHolder ch){
-		currFormat = CWPoint.DMM;
-		if (ch.LatLon.length()== 0) coordInp.set(0,0);
-		else coordInp.set(ch.LatLon, CWPoint.CW);
-		setFields(coordInp, CWPoint.DMM);
+		if ( !ch.wayPoint.equalsIgnoreCase(lastWaypoint) ) {
+			lastWaypoint = ch.wayPoint;
+			if (ch.pos.isValid()) {
+				inpBearing.setText("0");
+				inpDistance.setText("0");
+
+				currFormat = CWPoint.DMM;
+				if (ch.LatLon.length()== 0) coordInp.set(0,0);
+				else coordInp.set(ch.LatLon, CWPoint.CW);
+				setFields(coordInp, CWPoint.DMM);				
+			}
+		}
 	}
 	
 	
@@ -158,9 +169,6 @@
 		if (format == CWPoint.CW) format = CWPoint.DMM;
 		btnChangeLatLon.setText(coords.toString(format));
 		chkFormat.selectIndex(format);
-		inpBearing.setText("0");
-		inpDistance.setText("0");
-		chcDistUnit.setInt(0);
 	}
 
 



From salzkammergut at mail.berlios.de  Thu May 22 23:37:02 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Thu, 22 May 2008 23:37:02 +0200
Subject: [Cachewolf-svn] r1478 - trunk/src/CacheWolf
Message-ID: <200805222137.m4MLb2u3026204@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-22 23:36:58 +0200 (Thu, 22 May 2008)
New Revision: 1478

Modified:
   trunk/src/CacheWolf/DataMover.java
Log:
DataMover: Bugfix: When a cache was edited and then copied or moved to another profile, the old version was copied/moved, as the modified details had not been written to disk. Now saveModifiedDetails is called before every DataMover action.

Modified: trunk/src/CacheWolf/DataMover.java
===================================================================
--- trunk/src/CacheWolf/DataMover.java	2008-05-22 21:18:42 UTC (rev 1477)
+++ trunk/src/CacheWolf/DataMover.java	2008-05-22 21:36:58 UTC (rev 1478)
@@ -85,6 +85,8 @@
 	  * @param exec
 	  */
 	 private void processCaches(Executor exec) {
+		// First empty the cache so that the correct cache details are on disk
+		CacheHolder.saveAllModifiedDetails(); 
 		int size=srcDB.size();
 		int count=0;
 		// Count the number of caches to move/delete/copy



From mik77 at mail.berlios.de  Fri May 23 19:55:34 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Fri, 23 May 2008 19:55:34 +0200
Subject: [Cachewolf-svn] r1479 - in trunk/src/CacheWolf: . navi
Message-ID: <200805231755.m4NHtYKK031161@sheep.berlios.de>

Author: mik77
Date: 2008-05-23 19:55:30 +0200 (Fri, 23 May 2008)
New Revision: 1479

Modified:
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MyLocale.java
   trunk/src/CacheWolf/ParseLatLon.java
   trunk/src/CacheWolf/Parser.java
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/SpiderGC.java
   trunk/src/CacheWolf/navi/MapImporter.java
Log:
- digSeparator removed from preferences. Always use directly from MyLocale.java
- Chosen language is now saved in the pref.xml instead of a separate file
- the language must be saved first in the pref.xml, so the locale can be correctly initialized when needed to parse the other prefs

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-05-22 21:36:58 UTC (rev 1478)
+++ trunk/src/CacheWolf/MainMenu.java	2008-05-23 17:55:30 UTC (rev 1479)
@@ -602,7 +602,7 @@
 				sb.append("<br>Platform: "); 			sb.append(Vm.getPlatform());
 				sb.append("<br>Locale lang is: ");		sb.append(MyLocale.getLocaleLanguage()); 
 				sb.append("<br>Locale country is: "); 	sb.append(MyLocale.getLocaleCountry()); 
-				sb.append("<br>Decimal separator is: \""); sb.append(pref.digSeparator);
+				sb.append("<br>Decimal separator is: \""); sb.append(MyLocale.getDigSeparator());
 				sb.append("\"<br>Device is PDA: ");		sb.append(Vm.isMobile());
 				sb.append("<br>Screen: ");				sb.append(MyLocale.getScreenWidth()); 
 				sb.append(" x ");	 sb.append(MyLocale.getScreenHeight()); 

Modified: trunk/src/CacheWolf/MyLocale.java
===================================================================
--- trunk/src/CacheWolf/MyLocale.java	2008-05-22 21:36:58 UTC (rev 1478)
+++ trunk/src/CacheWolf/MyLocale.java	2008-05-23 17:55:30 UTC (rev 1479)
@@ -228,26 +228,17 @@
 		}
 	}
 	
-	/*=================================================================
-	 * During initialisation the file "language" in the program directory
-	 * is read to check whether the user wishes to ovverride the default
-	 * language. This language cannot be stored in the pref.xml file, due
-	 * to an initialisation conflict (pref.xml needs MyLocale). A better
-	 * solution may be to read the override language from the command line,
-	 * but I do not know how to specify command line parameters on a PDA
-	 ==================================================================*/
 	/**
-	 * Read the language file and return the specified language (or empty
+	 * Read the language from the prefs and return the specified language (or empty
 	 * string if none specified).
 	 * @return Language (e.g. DE, EN etc.) or ""
 	 */
 	private static String getLanguage() {
-		try {
-			BufferedReader bufread=new BufferedReader(new FileReader(FileBase.getProgramDirectory() + "/" + "language"));
-			language=bufread.readLine();
-			bufread.close();
-		} catch (Exception ex) {
-			language="";
+		Preferences pref = Global.getPref();
+		if ( pref != null ) {
+			language = pref.language;
+		} else {
+			language = "";
 		}
 		if (language==null) language="";
 		return language;
@@ -257,13 +248,13 @@
 	 * Write the override language 
 	 * @param language The language to write
 	 */
-	public static void saveLanguage(String language) {
-		try{
-			BufferedWriter out = new BufferedWriter(new FileWriter(FileBase.getProgramDirectory() + "/" + "language"));
-			out.write(language);
-			out.close();
-		}catch (Exception e){ Vm.debug("Exception "+e);}
+	public static void saveLanguage(String saveLanguage) {
+		Preferences pref = Global.getPref();
+		if ( pref != null ) {
+			pref.language = saveLanguage;
+			pref.savePreferences();
+		}
 	}
-	
+
 }
 

Modified: trunk/src/CacheWolf/ParseLatLon.java
===================================================================
--- trunk/src/CacheWolf/ParseLatLon.java	2008-05-22 21:36:58 UTC (rev 1478)
+++ trunk/src/CacheWolf/ParseLatLon.java	2008-05-23 17:55:30 UTC (rev 1479)
@@ -29,7 +29,7 @@
 	*/
 	public ParseLatLon (String ll){
 		latlon = ll;
-		digSep=Global.getPref().digSeparator.charAt(0);
+		digSep=MyLocale.getDigSeparator().charAt(0);
 	}
 	
 	/**
@@ -39,7 +39,7 @@
 	*/
 	public ParseLatLon (String ll, String tr){
 		latlon = ll;
-		digSep=Global.getPref().digSeparator.charAt(0);
+		digSep=MyLocale.getDigSeparator().charAt(0);
 	}
 	
 	private int start;

Modified: trunk/src/CacheWolf/Parser.java
===================================================================
--- trunk/src/CacheWolf/Parser.java	2008-05-22 21:36:58 UTC (rev 1478)
+++ trunk/src/CacheWolf/Parser.java	2008-05-23 17:55:30 UTC (rev 1479)
@@ -246,7 +246,7 @@
 	
 	private double toNumber(String str) {
 		try {
-			if (Global.getPref().digSeparator.equals(","))	
+			if (MyLocale.getDigSeparator().equals(","))	
 				str = str.replace('.', ',');
 			else
 				str = str.replace(',','.');

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-05-22 21:36:58 UTC (rev 1478)
+++ trunk/src/CacheWolf/Preferences.java	2008-05-23 17:55:30 UTC (rev 1479)
@@ -41,7 +41,6 @@
 	 * Constructor is private for a singleton object
 	 */
 	private Preferences(){
-		digSeparator=MyLocale.getDigSeparator();
 		mySPO.bits = 8;
 		mySPO.parity = SerialPort.NOPARITY;
 		mySPO.stopBits = 1;
@@ -151,6 +150,8 @@
 	public int maxDetails=50;
 	/** Number of details to delete when maxDetails have been stored in cachesWithLoadedDetails */
 	public int deleteDetails=5;
+	/** The locale code (DE, EN, ...) */
+	public String language=""; 
 	
 	//////////////////////////////////////////////
 	/** The debug switch (Can be used to activate dormant code) by adding
@@ -170,8 +171,6 @@
 	public int myAppWidth = 0;
 	/** True if the preferences were changed and need to be saved */
 	public boolean dirty = false;
-	/** The decimal separator (from MyLocale) */
-	public String digSeparator = "";
 	
     //////////////////////////////////////////////////////////////////////////////////////
     // Read pref.xml file
@@ -318,6 +317,9 @@
 			if (maxDetails<2) maxDetails=2;
 			if (deleteDetails<1) deleteDetails=1;
 		}
+		else if (name.equals("locale")) {
+			language = atts.getValue("language");
+		}
 	}
 
 	public void characters( char ch[], int start, int length ) {
@@ -351,6 +353,7 @@
 			PrintWriter outp =  new PrintWriter(new BufferedWriter(new FileWriter(datei)));
 			outp.print("<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n");
 			outp.print("<preferences>\n");
+			outp.print("    <locale language=\"" + SafeXML.strxmlencode(language) + "\"/>\n");
 			outp.print("	<basedir dir = \"" + SafeXML.strxmlencode(baseDir) + "\"/>\n");
 			outp.print("    <lastprofile autoreload=\"" + SafeXML.strxmlencode(autoReloadLastProfile) + "\">" + SafeXML.strxmlencode(lastProfile) + "</lastprofile>\n"); //RB
 			outp.print("	<alias name =\""+ SafeXML.clean(myAlias) +"\" password=\""+SafeXML.clean(password)+"\" />\n");

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-05-22 21:36:58 UTC (rev 1478)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-05-23 17:55:30 UTC (rev 1479)
@@ -699,7 +699,7 @@
 		inRex.search(doc);
 		if(doc.indexOf("Here") >= 0) return(0);
 		if (!inRex.didMatch()) return 0;
-		if(pref.digSeparator.equals(",")) return Convert.toDouble(inRex.stringMatched(1).replace('.',','));
+		if(MyLocale.getDigSeparator().equals(",")) return Convert.toDouble(inRex.stringMatched(1).replace('.',','));
 		return Convert.toDouble(inRex.stringMatched(1));
 	}
 

Modified: trunk/src/CacheWolf/navi/MapImporter.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImporter.java	2008-05-22 21:36:58 UTC (rev 1478)
+++ trunk/src/CacheWolf/navi/MapImporter.java	2008-05-23 17:55:30 UTC (rev 1479)
@@ -237,7 +237,7 @@
 
 							line = inMap.readLine();
 							parts = mString.split(line, ',');
-							if(pref.digSeparator.equals(",")) {
+							if(MyLocale.getDigSeparator().equals(",")) {
 								parts[3]= parts[3].replace('.', ',');
 								parts[2]= parts[2].replace('.', ',');
 							}
@@ -248,7 +248,7 @@
 
 							line = inMap.readLine();
 							parts = mString.split(line, ',');
-							if(pref.digSeparator.equals(",")) {
+							if(MyLocale.getDigSeparator().equals(",")) {
 								parts[3]= parts[3].replace('.', ',');
 								parts[2]= parts[2].replace('.', ',');
 							}
@@ -259,7 +259,7 @@
 
 							line = inMap.readLine();
 							parts = mString.split(line, ',');
-							if(pref.digSeparator.equals(",")) {
+							if(MyLocale.getDigSeparator().equals(",")) {
 								parts[3]= parts[3].replace('.', ',');
 								parts[2]= parts[2].replace('.', ',');
 							}
@@ -270,7 +270,7 @@
 
 							line = inMap.readLine();
 							parts = mString.split(line, ',');
-							if(pref.digSeparator.equals(",")) {
+							if(MyLocale.getDigSeparator().equals(",")) {
 								parts[3]= parts[3].replace('.', ',');
 								parts[2]= parts[2].replace('.', ',');
 							}



From salzkammergut at mail.berlios.de  Sat May 24 21:58:53 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 24 May 2008 21:58:53 +0200
Subject: [Cachewolf-svn] r1480 - trunk/src/CacheWolf
Message-ID: <200805241958.m4OJwr66007998@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-24 21:58:49 +0200 (Sat, 24 May 2008)
New Revision: 1480

Modified:
   trunk/src/CacheWolf/TravelbugJourneyScreen.java
Log:
TravelBugJourneyScreen: Bug found by maierkurt (thanks!) if no caches are in profile

Modified: trunk/src/CacheWolf/TravelbugJourneyScreen.java
===================================================================
--- trunk/src/CacheWolf/TravelbugJourneyScreen.java	2008-05-23 17:55:30 UTC (rev 1479)
+++ trunk/src/CacheWolf/TravelbugJourneyScreen.java	2008-05-24 19:58:49 UTC (rev 1480)
@@ -63,7 +63,7 @@
 		CellPanel tablepane = split.getNextPanel();
 		int curCacheNo=Global.mainTab.tbP.getSelectedCache();
 		String cache="";
-		if (curCacheNo<cacheDB.size()) {
+		if (curCacheNo>=0 && curCacheNo<cacheDB.size()) {
 			ch=(CacheHolder)cacheDB.elementAt(curCacheNo);
 			cache=MyLocale.getMsg(6022,": Current cache: ")+ch.wayPoint+" - "+ch.CacheName;
 			waypoint=ch.wayPoint;



From pfeffer at mail.berlios.de  Wed May 28 23:18:42 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 28 May 2008 23:18:42 +0200
Subject: [Cachewolf-svn] r1481 - trunk/src/CacheWolf
Message-ID: <200805282118.m4SLIgED017994@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-28 23:18:40 +0200 (Wed, 28 May 2008)
New Revision: 1481

Modified:
   trunk/src/CacheWolf/CacheWolf.java
   trunk/src/CacheWolf/Preferences.java
Log:
Added command line option: -c (oder /c, case insensitive) you can provide a path to the preferences file, this is minimum requierement for v1.0, see http://www.geoclub.de/viewtopic.php?p=385661#p385661 for further discussion 
Added command line option: -debug (it has the same effect as adding debug -tag in the preferences file

Modified: trunk/src/CacheWolf/CacheWolf.java
===================================================================
--- trunk/src/CacheWolf/CacheWolf.java	2008-05-24 19:58:49 UTC (rev 1480)
+++ trunk/src/CacheWolf/CacheWolf.java	2008-05-28 21:18:40 UTC (rev 1481)
@@ -6,12 +6,12 @@
 public class CacheWolf extends Editor{
 	
 	
-	public static void main(String args[])
+	public static void main(String vmargs[])
 	{
 		//start with parameters:
 		//args[0]: spider
 		//args[1]: distance
-		ewe.sys.Vm.startEwe(args);
+		ewe.sys.Vm.startEwe(vmargs);
 /*		Gui.screenIs(Gui.PDA_SCREEN);
 		Rect s = (Rect)Window.getGuiInfo(Window.INFO_SCREEN_RECT,null,new Rect(),0);
 		//Gui.screenIs(Gui.PDA_SCREEN)
@@ -28,13 +28,43 @@
 			Vm.setSIP(Vm.SIP_LEAVE_BUTTON);
 		}
 		
+		// get program command line parameters and switches
+		String[] args = vmargs; // Vm.getProgramArguments(); <-- only works in eclipse, but mixes the letters in the ewe-vm (tested in ewe-1.40 on win xp)
+		Vm.debug("prg-args: " + args.length);
+		Vm.debug("vm-args: " + vmargs.length);
+		String configfile = null;
+		boolean debug = false;
 		if(args.length > 0){
 			if(args[0].equals("test")){
 				Test t=new Test(); 
 				t.testAll();
 			}
+			for (int i=0; i < args.length ; i++) {
+				Vm.debug("prog: " + args[i]);
+				Vm.debug("vm: " + vmargs[i]);
+				if (args[i] != null && args[i].length() > 1 &&
+						(args[i].startsWith("-") || args[i].startsWith("/")) ) {
+					String c = args[i].substring(1, args[i].length());
+					if (c.equalsIgnoreCase("c")) {
+						if (i < args.length -1 ) {
+							configfile = args[i+1];
+							i++;
+						} else {
+							(new MessageBox("Error", MyLocale.getMsg(7200, "Usage: CacheWolf [-c <path to pref.xml>] [-debug]"), MessageBox.OKB)).execute();
+							// return usage info
+							ewe.sys.Vm.exit(1);
+						}
+					}
+					if (c.equalsIgnoreCase("debug")) {
+						Vm.debug("d");
+						debug = true;
+					}
+
+				}
+			}
 		}
-		Editor mainF = new MainForm();
+		
+		Editor mainF = new MainForm(debug, configfile);
 		Device.preventIdleState(true);
 		mainF.execute();
 		Device.preventIdleState(false);

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2008-05-24 19:58:49 UTC (rev 1480)
+++ trunk/src/CacheWolf/Preferences.java	2008-05-28 21:18:40 UTC (rev 1481)
@@ -36,6 +36,38 @@
 	}
 
 	private static Preferences _reference;
+	
+	private String pathToConfigFile;
+	
+	/**
+	 * Call this method to set the path of the config file <br>
+	 * If you call it with null it defaults to [program-dir]/pref.xml
+	 * if p is a directory "pref.xml" will automatically appended
+	 * @param p
+	 */
+	public void setPathToConfigFile(String p) {
+		String p_;
+		if (p == null) {
+			String test;
+			test = Vm.getenv("APPDATA", "/"); // returns in java-vm on win xp: c:\<dokumente und Einstellungen>\<username>\<application data>
+			log("Vm.getenv(APPDATA: " + test); // this works also in win32.exe (ewe-vm on win xp)
+			test = Vm.getenv("HOME", "/"); // This should return on *nix system the home dir
+			log("Vm.getenv(HOME: " + test);
+			test = System.getProperty("user.dir"); // return in java-vm on win xp: <working dir> or maybe <program dir> 
+			log("System.getProperty(user.dir: " + test); // in win32.exe -> null
+			test = System.getProperty("user.home"); // in MS-java-VM env variable $HOME is ignored and always <windir>\java returned, see http://support.microsoft.com/kb/177181/en-us/
+			log("System.getProperty(user.home: " + test); // in win32.exe -> null
+			// "user.dir"              User's current working directory
+			// "user.home"             User home directory (taken from http://scv.bu.edu/Doc/Java/tutorial/java/system/properties.html )
+			p_ = FileBase.makePath(FileBase.getProgramDirectory(), "pref.xml");
+		}
+		else {
+			if (new FileBugfix(p).isDirectory()) p_ = FileBase.makePath(p, "pref.xml");
+			else p_ = p; 
+		}
+		pathToConfigFile = STRreplace.replace(p_, "//", "/"); // this is necessary in case that the root dir is the dir where the pref.xml is stored
+		pathToConfigFile = pathToConfigFile.replace('\\', '/');
+	}
 
 	/**
 	 * Constructor is private for a singleton object
@@ -177,16 +209,19 @@
 	//////////////////////////////////////////////////////////////////////////////////////
 	
 	/**
-	 * Method to open and parse the pref.xml file. Results are stored in the
+	 * Method to open and parse the config file (pref.xml). Results are stored in the
 	 * public variables of this class.
+	 * If you want to specify a non default config file call setPathToConfigFile() first.
 	 */
 	public void readPrefFile(){
+		if (pathToConfigFile == null) setPathToConfigFile(null); // this sets the default value 
 		try{
-			String datei = STRreplace.replace(FileBase.getProgramDirectory() + "/pref.xml", "//", "/"); // this is necessary in case that the root dir is the program dir
-			datei = datei.replace('\\', '/');
-			ewe.io.Reader r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(datei));
+			ewe.io.Reader r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(pathToConfigFile));
 			parse(r);
 			r.close();
+		}catch(IOException e){
+			log("IOException reading config file: " + pathToConfigFile, e, true);
+			(new MessageBox(MyLocale.getMsg(327, "Information"), MyLocale.getMsg(176, "First start - using default preferences \n For experts only: \n Could not read preferences file:\n") + pathToConfigFile, MessageBox.OKB)).execute();
 		}catch(Exception e){
 			if (e instanceof NullPointerException)
 				log("Error reading pref.xml: NullPointerException in Element "+lastName +". Wrong attribute?",e,true);
@@ -346,11 +381,9 @@
 	 * Method to save current preferences in the pref.xml file
 	 */
 	public void savePreferences(){
-		String datei = FileBase.getProgramDirectory() + "/" + "pref.xml";
-		datei = datei.replace('\\', '/');
-
+		if (pathToConfigFile == null) setPathToConfigFile(null); // this sets the default value 
 		try{
-			PrintWriter outp =  new PrintWriter(new BufferedWriter(new FileWriter(datei)));
+			PrintWriter outp =  new PrintWriter(new BufferedWriter(new FileWriter(pathToConfigFile)));
 			outp.print("<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n");
 			outp.print("<preferences>\n");
 			outp.print("    <locale language=\"" + SafeXML.strxmlencode(language) + "\"/>\n");
@@ -390,7 +423,7 @@
 			outp.print("</preferences>");
 			outp.close();
 		} catch (Exception e) {
-			log("Problem saving: " +datei,e,true);
+			log("Problem saving: " +pathToConfigFile,e,true);
 		}
 	}
 



From pfeffer at mail.berlios.de  Wed May 28 23:19:59 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 28 May 2008 23:19:59 +0200
Subject: [Cachewolf-svn] r1482 - trunk/res_noewe/languages
Message-ID: <200805282119.m4SLJxUj018140@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-28 23:19:58 +0200 (Wed, 28 May 2008)
New Revision: 1482

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
Log:
forgot to commit the localisation files for the previous commit

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-05-28 21:18:40 UTC (rev 1481)
+++ trunk/res_noewe/languages/DE.cfg	2008-05-28 21:19:58 UTC (rev 1482)
@@ -66,7 +66,7 @@
 		173=GPSBabel:
 		174=Kurznamen
 		175=Import
-		176=--frei geworden--
+		176=Erster Start %0a Bitte legen Sie das Datenverzeichnis fest %0a und ein neues Profil an %0a%0a Nur f%fcr Experten: %0a Konnte Einstellungsdatei nicht lesen:%0a
 		177=--frei geworden--
 		178=Versionspr%fcfung
 		179=Sie haben die%0aaktuelle Version.
@@ -810,7 +810,7 @@
 		7118=Stop
 		7119=Stop
 		7120=Abgebrochen
-		
+		7200=Aufruf: CacheWolf [-c <Pfad zur Einstellungsdatei>] [-debug]
 		{..}
 	{..}
 {..}

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-05-28 21:18:40 UTC (rev 1481)
+++ trunk/res_noewe/languages/EN.cfg	2008-05-28 21:19:58 UTC (rev 1482)
@@ -66,7 +66,7 @@
 		173=GPSBabel:
 		174=Short Names
 		175=Import
-		176=-- not used any more--
+		176=First start %0a Please choose a data directory %0a and create a new profile %0a%0a For experts only: %0a Could not read preferences file:%0a
 		177=-- not used any more--
 		178=Version Check
 		179=You are at%0athe current version.
@@ -794,6 +794,7 @@
 		7118=Stop
 		7119=Stop
 		7120=Canceled
+		7200=Usage: CacheWolf [-c <path to pref.xml>] [-debug]
 		{..}
 	{..}
 {..}



From pfeffer at mail.berlios.de  Wed May 28 23:21:37 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Wed, 28 May 2008 23:21:37 +0200
Subject: [Cachewolf-svn] r1483 - trunk/src/CacheWolf
Message-ID: <200805282121.m4SLLbxq018271@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-28 23:21:36 +0200 (Wed, 28 May 2008)
New Revision: 1483

Modified:
   trunk/src/CacheWolf/MainForm.java
Log:
another file I forgot to commit - I seem to be to tired

Modified: trunk/src/CacheWolf/MainForm.java
===================================================================
--- trunk/src/CacheWolf/MainForm.java	2008-05-28 21:19:58 UTC (rev 1482)
+++ trunk/src/CacheWolf/MainForm.java	2008-05-28 21:21:36 UTC (rev 1483)
@@ -32,8 +32,9 @@
 		doIt();
 	}
 	
-	public MainForm(boolean dbg){
+	public MainForm(boolean dbg, String pathtoprefxml){
 		pref.debug = dbg;
+		pref.setPathToConfigFile(pathtoprefxml); // in case pathtoprefxml == null the preferences will determine the path itself 
 		doIt();
 	}
 	protected void checkButtons() {



From salzkammergut at mail.berlios.de  Wed May 28 23:43:43 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Wed, 28 May 2008 23:43:43 +0200
Subject: [Cachewolf-svn] r1484 - trunk/src/CacheWolf
Message-ID: <200805282143.m4SLhhmj020345@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-28 23:43:39 +0200 (Wed, 28 May 2008)
New Revision: 1484

Modified:
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/SpiderGC.java
Log:
SpiderSingle: Bugfix for Commit 1476 which asked for Login at every cache. Now even with forcedLogin, only on login is performed for the first cache to be refreshed.

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-05-28 21:21:36 UTC (rev 1483)
+++ trunk/src/CacheWolf/MainMenu.java	2008-05-28 21:43:39 UTC (rev 1484)
@@ -673,6 +673,7 @@
 		}
 
 		int spiderErrors = 0;
+		boolean forceLogin=Global.getPref().forceLogin; // To ensure that spiderSingle only logs in once if forcedLogin=true
 		for(int j = 0; j <	cachesToUpdate.size(); j++){
 			int i = ((Integer)cachesToUpdate.get(j)).intValue();
 			ch = (CacheHolder)cacheDB.get(i);
@@ -680,7 +681,7 @@
 			infB.setInfo(MyLocale.getMsg(5513,"Loading: ") + ch.wayPoint +" (" + (j+1) + " / " + cachesToUpdate.size() + ")");
 			infB.redisplay();
 			if (ch.wayPoint.substring(0,2).equalsIgnoreCase("GC")) {
-				int test = spider.spiderSingle(i, infB);
+				int test = spider.spiderSingle(i, infB,forceLogin);
 				if (test == -1) {
 					infB.close(0);
 					break;
@@ -689,6 +690,7 @@
 				} else {
 					profile.hasUnsavedChanges=true;	
 				}
+				forceLogin=false;
 			}
 			else {
 				if (!ocSync.syncSingle(i, infB)) {

Modified: trunk/src/CacheWolf/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/SpiderGC.java	2008-05-28 21:21:36 UTC (rev 1483)
+++ trunk/src/CacheWolf/SpiderGC.java	2008-05-28 21:43:39 UTC (rev 1484)
@@ -207,14 +207,14 @@
 	 * It assumes a login has already been performed!
 	 * @return 1 if spider was successful, -1 if spider was cancelled by closing the infobox, 0 error, but continue with next cache
 	 */
-	public int spiderSingle(int number, InfoBox infB){
+	public int spiderSingle(int number, InfoBox infB, boolean forceLogin){
 		int ret=-1;
 		this.infB = infB;
 		CacheHolder ch = (CacheHolder)cacheDB.get(number);
 		if (ch.isAddiWpt()) return -1;  // No point re-spidering an addi waypoint, comes with parent
 
 		// check if we need to login
-		if (!loggedIn || Global.getPref().forceLogin){
+		if (!loggedIn || forceLogin){
 			if (this.login()!=FormBase.IDOK) return -1;
 			// loggedIn is already set by this.login()
 		}



From salzkammergut at mail.berlios.de  Thu May 29 18:44:04 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Thu, 29 May 2008 18:44:04 +0200
Subject: [Cachewolf-svn] r1485 - trunk/res_noewe
Message-ID: <200805291644.m4TGi4lQ014055@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-29 18:43:55 +0200 (Thu, 29 May 2008)
New Revision: 1485

Modified:
   trunk/res_noewe/spider.def
Log:
spider.def: Bugfix for problem during spidering of addi waypoints
http://www.geoclub.de/viewtopic.php?p=390138#p390138


Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2008-05-28 21:43:39 UTC (rev 1484)
+++ trunk/res_noewe/spider.def	2008-05-29 16:43:55 UTC (rev 1485)
@@ -18,6 +18,7 @@
 # Version 3.2 - 20071024 longer end sequence for longDescRex
 # Version 3.3 - 20080316 get travelbug name by tracking number
 # Version 3.4 - 20080227 Image comments added
+# Version 3.5 - 20080529 Modified descRex to allow for linebreaks
 #============================================================
 # A suffix of Rex indicates a regular expression
 # A suffix of ExStart indicates the start of an Extractor search pattern
@@ -135,7 +136,7 @@
 wayBlockExEnd      = </table>
 nameRex            = &RefDS=1">(.*)</a>
 koordRex           = align="left">([NSns]\ [0-9]{1,2}..[0-9]{1,2}.[0-9]{1,3}\ [EWew]\ [0-9]{1,3}..[0-9]{1,2}.[0-9]{1,3})</td>
-descRex            = colspan="4">(.*)</td>
+descRex            = colspan="4">((.|\n|\r)*?)</td>
 typeRex            = </a>\ \\((.*)\\)</td>
 rowBlockExStart    = <tr
 rowBlockExEnd      = </tr>



From pfeffer at mail.berlios.de  Thu May 29 22:11:37 2008
From: pfeffer at mail.berlios.de (pfeffer at mail.berlios.de)
Date: Thu, 29 May 2008 22:11:37 +0200
Subject: [Cachewolf-svn] r1486 - trunk/src/CacheWolf
Message-ID: <200805292011.m4TKBbnd001610@sheep.berlios.de>

Author: pfeffer
Date: 2008-05-29 22:02:32 +0200 (Thu, 29 May 2008)
New Revision: 1486

Modified:
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/Version.java
Log:
Version checking: stop showing working indicator (watch) after fetching the version information

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2008-05-29 16:43:55 UTC (rev 1485)
+++ trunk/src/CacheWolf/MainMenu.java	2008-05-29 20:02:32 UTC (rev 1486)
@@ -618,9 +618,7 @@
 				is.execute(father.getFrame(), Gui.CENTER_FRAME);
 			}
 			if(mev.selectedItem == chkVersion){
-				Vm.showWait(true);
 				(new MessageBox(MyLocale.getMsg(178, "Version Checking"), Version.getUpdateMessage(), FormBase.OKB)).execute();
-				Vm.showWait(false);
 			}
 			
 			// In case that the triggered event was due to one of the context menu items, process

Modified: trunk/src/CacheWolf/Version.java
===================================================================
--- trunk/src/CacheWolf/Version.java	2008-05-29 16:43:55 UTC (rev 1485)
+++ trunk/src/CacheWolf/Version.java	2008-05-29 20:02:32 UTC (rev 1486)
@@ -77,12 +77,16 @@
 	}
 
 	public static String getUpdateMessage() {
+		Vm.showWait(true);
 		try {
 			checkForUpdates();
 			return MyLocale.getMsg(7022, "Version type") +"\n"+ newVersionsArrayToString();
 		} catch (IOException e) {
 			return MyLocale.getMsg(7023, "Error getting current version information") +"\n" + e.getMessage();
 		}
+		finally {
+			Vm.showWait(false);
+		}
 	}
 
 	/**



From natureshadow at mail.berlios.de  Fri May 30 11:21:16 2008
From: natureshadow at mail.berlios.de (natureshadow at mail.berlios.de)
Date: Fri, 30 May 2008 11:21:16 +0200
Subject: [Cachewolf-svn] r1487 - trunk
Message-ID: <200805300921.m4U9LGdA019365@sheep.berlios.de>

Author: natureshadow
Date: 2008-05-30 11:21:15 +0200 (Fri, 30 May 2008)
New Revision: 1487

Modified:
   trunk/fwrtsnapshot.sh
Log:
Fixed fwrtsnapshot.sh to accept ewecl and cpio in any location.


Modified: trunk/fwrtsnapshot.sh
===================================================================
--- trunk/fwrtsnapshot.sh	2008-05-29 20:02:32 UTC (rev 1486)
+++ trunk/fwrtsnapshot.sh	2008-05-30 09:21:15 UTC (rev 1487)
@@ -10,8 +10,8 @@
 javac -source 1.3 -target 1.1 -encoding windows-1252 \
     -cp lib/CompileEwe.zip:lib -d bin -deprecation -nowarn \
     src/CacheWolf/*.java src/CacheWolf/*/*.java src/exp/*.java src/utils/*.java
-/usr/local/bin/ewecl programs/Jewel.ewe -c cw-pda.jnf
-/usr/local/bin/ewecl programs/Jewel.ewe -c cw-pc.jnf
+`which ewecl` programs/Jewel.ewe -c cw-pda.jnf
+`which ewecl` programs/Jewel.ewe -c cw-pc.jnf
 # Don?t change the order of the above Jewel commands because
 # the PC version has to overwrite the PDA version of the EWE file
 rm -rf published
@@ -37,7 +37,7 @@
 install -c -m 644 res_noewe/webmapservices/* published/dat/webmapservices/
 install -c -m 644 res_noewe/languages/* published/dat/languages/
 (cd published/dat && find * -type f | sort | \
-    /usr/local/bin/cpio -oC512 -Hustar -Mdist >../datfiles.tar)
+    `which cpio` -oC512 -Hustar -Mdist >../datfiles.tar)
 rm -rf published/dat
 chmod 644 published/datfiles.tar
 mkdir -p ~/public_html/CacheWolf-BE/r$v



From mik77 at mail.berlios.de  Sat May 31 01:09:20 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sat, 31 May 2008 01:09:20 +0200
Subject: [Cachewolf-svn] r1488 - trunk/src/CacheWolf
Message-ID: <200805302309.m4UN9KZw002282@sheep.berlios.de>

Author: mik77
Date: 2008-05-31 01:09:08 +0200 (Sat, 31 May 2008)
New Revision: 1488

Modified:
   trunk/src/CacheWolf/FilterScreen.java
Log:
Route filter button completely removed from filter dialog, instead of only disabling it.

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2008-05-30 09:21:15 UTC (rev 1487)
+++ trunk/src/CacheWolf/FilterScreen.java	2008-05-30 23:09:08 UTC (rev 1488)
@@ -286,9 +286,8 @@
 
 		Panel btPanel = new Panel();
 		btPanel.addNext(btnCancel = new mButton(MyLocale.getMsg(708,"Cancel")),CellConstants.STRETCH, CellConstants.FILL);
-		btPanel.addNext(btnApply = new mButton(MyLocale.getMsg(709,"Apply")),CellConstants.STRETCH, CellConstants.FILL);
-		btPanel.addLast(btnRoute = new mButton("Route"),CellConstants.STRETCH, CellConstants.FILL);
-		btnRoute.modify(ControlConstants.Disabled,0);
+		btPanel.addLast(btnApply = new mButton(MyLocale.getMsg(709,"Apply")),CellConstants.STRETCH, CellConstants.FILL);
+//		btPanel.addLast(btnRoute = new mButton("Route"),CellConstants.STRETCH, CellConstants.FILL);
 		addLast(btPanel.setTag(CellConstants.SPAN, new Dimension(3,1)), CellConstants.STRETCH, CellConstants.FILL);
 		int sw = MyLocale.getScreenWidth(); int sh = MyLocale.getScreenHeight(); 
 		Preferences pref = Global.getPref();int fs = pref.fontSize;



From mik77 at mail.berlios.de  Sat May 31 02:21:35 2008
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Sat, 31 May 2008 02:21:35 +0200
Subject: [Cachewolf-svn] r1489 - trunk/src/CacheWolf
Message-ID: <200805310021.m4V0LZ5u015231@sheep.berlios.de>

Author: mik77
Date: 2008-05-31 02:21:31 +0200 (Sat, 31 May 2008)
New Revision: 1489

Modified:
   trunk/src/CacheWolf/Attributes.java
Log:
Ignore blank attribute icons.

Modified: trunk/src/CacheWolf/Attributes.java
===================================================================
--- trunk/src/CacheWolf/Attributes.java	2008-05-30 23:09:08 UTC (rev 1488)
+++ trunk/src/CacheWolf/Attributes.java	2008-05-31 00:21:31 UTC (rev 1489)
@@ -77,14 +77,16 @@
 	 */
 	public void add(String attributeName){
 		if (count<attribs.length) {
-			Attribute attr = new Attribute(attributeName);
-			attribs[count++] = attr;
-			if (attributeName.endsWith("-yes.gif"))
-				attributesYes |= (1l << ( (long)(Math.ceil(attr.getAttrNr() / 2.0) - 1.0) ) );
-			else
-				attributesNo |= (1l << ( (long)(Math.ceil(attr.getAttrNr() / 2.0) - 1.0) ) );
+			if ( !attributeName.equalsIgnoreCase( "attribute-blank.gif" ) ) {
+				Attribute attr = new Attribute(attributeName);
+				attribs[count++] = attr;
+				if (attributeName.endsWith("-yes.gif"))
+					attributesYes |= (1l << ( (long)(Math.ceil(attr.getAttrNr() / 2.0) - 1.0) ) );
+				else
+					attributesNo |= (1l << ( (long)(Math.ceil(attr.getAttrNr() / 2.0) - 1.0) ) );
+			}
 		}
-    }
+	}
 
 	/**
 	 * Get the name of the i'th attribute in the list



From salzkammergut at mail.berlios.de  Sat May 31 14:50:45 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 31 May 2008 14:50:45 +0200
Subject: [Cachewolf-svn] r1490 - trunk/src/CacheWolf
Message-ID: <200805311250.m4VCojQW015674@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-31 14:50:42 +0200 (Sat, 31 May 2008)
New Revision: 1490

Modified:
   trunk/src/CacheWolf/CacheHolderDetail.java
Log:
CacheHolderDetail: Bugfix for Rev 1283 (Saving image comments)


Modified: trunk/src/CacheWolf/CacheHolderDetail.java
===================================================================
--- trunk/src/CacheWolf/CacheHolderDetail.java	2008-05-31 00:21:31 UTC (rev 1489)
+++ trunk/src/CacheWolf/CacheHolderDetail.java	2008-05-31 12:50:42 UTC (rev 1490)
@@ -296,7 +296,7 @@
 				  int iis = ImagesInfo.size();
 				  for(int i = 0;i<ImagesText.size();i++){
 						stbuf = (String)ImagesText.get(i);
-						if (iis < i && ImagesInfo.get(i) != null)
+						if (i< iis && ImagesInfo.get(i) != null)
 							detfile.print("    <IMGTEXT>"+stbuf+"<DESC>"+ImagesInfo.get(i)+"</DESC></IMGTEXT>\n");
 						else 
 							detfile.print("    <IMGTEXT>"+stbuf+"</IMGTEXT>\n");



From salzkammergut at mail.berlios.de  Sat May 31 15:01:36 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 31 May 2008 15:01:36 +0200
Subject: [Cachewolf-svn] r1491 - in trunk: res_noewe src/CacheWolf
Message-ID: <200805311301.m4VD1a9M017095@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-31 15:01:34 +0200 (Sat, 31 May 2008)
New Revision: 1491

Modified:
   trunk/res_noewe/GCTemplate.html
   trunk/src/CacheWolf/ShowCacheInBrowser.java
Log:
ShowCacheInBrowser: Added display of picture comments (e.g. GC19DDX)

Modified: trunk/res_noewe/GCTemplate.html
===================================================================
--- trunk/res_noewe/GCTemplate.html	2008-05-31 12:50:42 UTC (rev 1490)
+++ trunk/res_noewe/GCTemplate.html	2008-05-31 13:01:34 UTC (rev 1491)
@@ -117,7 +117,7 @@
 </tmpl_if>
 <tmpl_if IMAGES> 
 	<tmpl_loop IMAGES>
-		<a href="javascript:toggleDivOL(<tmpl_var I>);"><image src="images.gif" border=0> <tmpl_var IMAGETEXT></a><br/>
+		<a href="javascript:toggleDivOL(<tmpl_var I>);"><image src="images.gif" border=0> <tmpl_var IMAGETEXT></a>&nbsp;<i><tmpl_var IMAGECOMMENT></i><br/>
 		<div id=<tmpl_var I> style="display:none"><tmpl_var IMAGE></div>
 	</tmpl_loop>
 </tmpl_if>

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-05-31 12:50:42 UTC (rev 1490)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2008-05-31 13:01:34 UTC (rev 1491)
@@ -151,6 +151,10 @@
 							imgs.put("IMAGE","<img src=\"file://"+
 									   Global.getProfile().dataDir+chD.Images.get(imageNo)+"\" border=0>");
 							imgs.put("IMAGETEXT",chD.ImagesText.get(imageNo));
+							if (imageNo<chD.ImagesInfo.size() && chD.ImagesInfo.get(imageNo)!=null)
+								imgs.put("IMAGECOMMENT",chD.ImagesInfo.get(imageNo));
+							else
+								imgs.put("IMAGECOMMENT","");
 							imgs.put("I","'img"+new Integer(imageNo).toString()+"'");
 							imageVect.add(imgs);
 						}



From salzkammergut at mail.berlios.de  Sat May 31 15:48:35 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 31 May 2008 15:48:35 +0200
Subject: [Cachewolf-svn] r1492 - trunk/src/CacheWolf
Message-ID: <200805311348.m4VDmZKK020437@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-31 15:48:34 +0200 (Sat, 31 May 2008)
New Revision: 1492

Modified:
   trunk/src/CacheWolf/DescriptionPanel.java
Log:
DetailsPanel: Bugfix for Nullpointer Exception when showing pictures. Also when the addi is displayed, not all pictures from the main cache were shown.
See also http://www.geoclub.de/viewtopic.php?t=24979

Modified: trunk/src/CacheWolf/DescriptionPanel.java
===================================================================
--- trunk/src/CacheWolf/DescriptionPanel.java	2008-05-31 13:01:34 UTC (rev 1491)
+++ trunk/src/CacheWolf/DescriptionPanel.java	2008-05-31 13:48:34 UTC (rev 1492)
@@ -68,11 +68,13 @@
             int imageNo = 0;
             if (Global.getPref().descShowImg) {
                 Vector Images;
+                CacheHolderDetail chDimages; // cache which supplies the images (could be main cache)
                 if (cache.isAddiWpt()) {
-                    Images = cache.mainCache.getCacheDetails(true).Images;
+                    chDimages=cache.mainCache.getCacheDetails(true);
                 } else {
-                    Images = cache.Images;
+                    chDimages=cache;
                 }
+            	Images = chDimages.Images;
                 StringBuffer s = new StringBuffer(desc.length() + Images.size() * 100);
                 int start = 0;
                 int pos;
@@ -82,6 +84,7 @@
                         s.append(desc.substring(start, pos));
                         imgRex.searchFrom(desc, pos);
                         String imgUrl = imgRex.stringMatched(1);
+                        if (imgUrl==null) break; // Remaining pictures are from image span
                         // Vm.debug("imgUrl "+imgUrl);
                         if (imgUrl.lastIndexOf('.') > 0 && imgUrl.toLowerCase().startsWith("http")) {
                             String imgType = (imgUrl.substring(imgUrl.lastIndexOf("."))
@@ -105,10 +108,10 @@
                 if (start >= 0)
                     s.append(desc.substring(start));
                 desc = s.toString();
+                if (imageNo<Images.getCount()) {
+                    desc += getPicDesc(imageNo, chDimages);
+                }
             }
-            if (cache.hasImageInfo()) {
-                desc += getPicDesc(imageNo, cache);
-            }
             //disp.setHtml(desc);
             disp.startHtml();
             disp.getDecoderProperties().set("documentroot", Global.getProfile().dataDir);



From natureshadow at mail.berlios.de  Sat May 31 18:54:06 2008
From: natureshadow at mail.berlios.de (natureshadow at mail.berlios.de)
Date: Sat, 31 May 2008 18:54:06 +0200
Subject: [Cachewolf-svn] r1493 - trunk
Message-ID: <200805311654.m4VGs6dY007054@sheep.berlios.de>

Author: natureshadow
Date: 2008-05-31 18:54:03 +0200 (Sat, 31 May 2008)
New Revision: 1493

Modified:
   trunk/fwrtsnapshot.sh
Log:
Using $HOME in fwrtsnapshot.sh so it will run in all kinds of shells.


Modified: trunk/fwrtsnapshot.sh
===================================================================
--- trunk/fwrtsnapshot.sh	2008-05-31 13:48:34 UTC (rev 1492)
+++ trunk/fwrtsnapshot.sh	2008-05-31 16:54:03 UTC (rev 1493)
@@ -40,6 +40,6 @@
     `which cpio` -oC512 -Hustar -Mdist >../datfiles.tar)
 rm -rf published/dat
 chmod 644 published/datfiles.tar
-mkdir -p ~/public_html/CacheWolf-BE/r$v
-mv published/* ~/public_html/CacheWolf-BE/r$v/
+mkdir -p $HOME/public_html/CacheWolf-BE/r$v
+mv published/* $HOME/public_html/CacheWolf-BE/r$v/
 rm -rf bin published



From salzkammergut at mail.berlios.de  Sat May 31 23:31:40 2008
From: salzkammergut at mail.berlios.de (salzkammergut at mail.berlios.de)
Date: Sat, 31 May 2008 23:31:40 +0200
Subject: [Cachewolf-svn] r1494 - trunk/res_noewe
Message-ID: <200805312131.m4VLVeVS014657@sheep.berlios.de>

Author: salzkammergut
Date: 2008-05-31 23:31:38 +0200 (Sat, 31 May 2008)
New Revision: 1494

Modified:
   trunk/res_noewe/spider.def
Log:
spider.def: Bugfix to avoid stack overflow in exe when spidering addi waypoints

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2008-05-31 16:54:03 UTC (rev 1493)
+++ trunk/res_noewe/spider.def	2008-05-31 21:31:38 UTC (rev 1494)
@@ -19,6 +19,7 @@
 # Version 3.3 - 20080316 get travelbug name by tracking number
 # Version 3.4 - 20080227 Image comments added
 # Version 3.5 - 20080529 Modified descRex to allow for linebreaks
+# Version 3.6 - 20080531 Modified descRex to avoid Stack overflow in exe 
 #============================================================
 # A suffix of Rex indicates a regular expression
 # A suffix of ExStart indicates the start of an Extractor search pattern
@@ -136,7 +137,7 @@
 wayBlockExEnd      = </table>
 nameRex            = &RefDS=1">(.*)</a>
 koordRex           = align="left">([NSns]\ [0-9]{1,2}..[0-9]{1,2}.[0-9]{1,3}\ [EWew]\ [0-9]{1,3}..[0-9]{1,2}.[0-9]{1,3})</td>
-descRex            = colspan="4">((.|\n|\r)*?)</td>
+descRex            = colspan="4">((?:.|\n|\r)*?)</td>
 typeRex            = </a>\ \\((.*)\\)</td>
 rowBlockExStart    = <tr
 rowBlockExEnd      = </tr>



