<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r3080 - in trunk: res_noewe/languages src/CacheWolf	src/CacheWolf/imp
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r3080%20-%20in%20trunk%3A%20res_noewe/languages%20src/CacheWolf%0A%09src/CacheWolf/imp&In-Reply-To=%3C20110911222756.89058481349%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003068.html">
   <LINK REL="Next"  HREF="003072.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r3080 - in trunk: res_noewe/languages src/CacheWolf	src/CacheWolf/imp</H1>
    <B>araber95 at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r3080%20-%20in%20trunk%3A%20res_noewe/languages%20src/CacheWolf%0A%09src/CacheWolf/imp&In-Reply-To=%3C20110911222756.89058481349%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r3080 - in trunk: res_noewe/languages src/CacheWolf	src/CacheWolf/imp">araber95 at mail.berlios.de
       </A><BR>
    <I>Mon Sep 12 12:27:56 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003068.html">[Cachewolf-svn] r3077 - trunk/src/CacheWolf/imp
</A></li>
        <LI>Next message: <A HREF="003072.html">[Cachewolf-svn] r3081 - trunk/src/CacheWolf/view/pda
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3071">[ date ]</a>
              <a href="thread.html#3071">[ thread ]</a>
              <a href="subject.html#3071">[ subject ]</a>
              <a href="author.html#3071">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: araber95
Date: 2011-09-12 00:27:56 +0200 (Mon, 12 Sep 2011)
New Revision: 3080

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
1. removed menu force login
2. changed SpiderGC to UTF-8 for handling of GC languages
3. code for correct setting / resetting GC language

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/res_noewe/languages/DE.cfg	2011-09-11 22:27:56 UTC (rev 3080)
@@ -140,7 +140,6 @@
 213=Verwaiste .xml Dateien l&#195;&#182;schen
 214=Neuer Wegpunkt
 215=nach LOC
-216=Immer bei GC einloggen
 217=von GC Funde
 218=Auch in Beschreibung/Notizen
 219=Suche...
@@ -1105,8 +1104,8 @@
 7301=Stadt
 7302=Suchen
 7303=Abbr.
-7304=berlin, deutschland
-7305=Hauptbahnhof
+7304=Berlin
+7305=
 7306=suche...
 7307=abgebrochen durch Nutzer
 7308=Fehler bei der online Verbindung

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/res_noewe/languages/EN.cfg	2011-09-11 22:27:56 UTC (rev 3080)
@@ -140,7 +140,6 @@
 213=Deleting orphans
 214=New Waypoint
 215=to LOC
-216=Always login to GC
 217=from GC finds
 218=Also in description/notes
 219=Searching...

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/res_noewe/languages/FR.cfg	2011-09-11 22:27:56 UTC (rev 3080)
@@ -140,7 +140,6 @@
 213=Effacer les fichier .xml orpheline
 214=Nouveau waypoint
 215=&#195;&#160; LOC
-216=Toujours connecter
 217=de GC trouvailles
 218=Aussi dans description/notes
 219=Cherchant...

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/res_noewe/languages/NL.cfg	2011-09-11 22:27:56 UTC (rev 3080)
@@ -140,7 +140,6 @@
 213=[Deleting orphans]
 214=Nieuwe Waypoint
 215=aan LOC
-216=Altijd aanmelden bij GC
 217=van GC vondsten
 218=Ook in opmerkingen/beschrijving
 219=Zoeken...

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/res_noewe/languages/PL.cfg	2011-09-11 22:27:56 UTC (rev 3080)
@@ -140,7 +140,6 @@
 213=Usuwanie sierot
 214=Nowy WaypointUsunacUsunac
 215=LOC
-216=Zawsze loguj do GC
 217=z GC stwierdza
 218=Takze w opisie/notatkach
 219=Wyszukiwanie...

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/res_noewe/languages/SV.cfg	2011-09-11 22:27:56 UTC (rev 3080)
@@ -140,7 +140,6 @@
 213=bort f&#195;&#182;r&#195;&#164;ldral&#195;&#182;sa
 214=Ny v&#195;&#164;gpunkt
 215=f&#195;&#182;r LOC
-216=alltid logga in till GC
 217=fr&#195;&#165;n GC finner
 218=&#195;&#164;ven i beskrivningen / Notes
 219=S&#195;&#182;ker ...

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/src/CacheWolf/MainMenu.java	2011-09-11 22:27:56 UTC (rev 3080)
@@ -89,7 +89,7 @@
 	private MenuItem filtCreate, filtClear, filtInvert, filtSelected, filtNonSelected, filtBlack, filtApply;
 	private MenuItem exportLOC, exportGPS, mnuSeparator = new MenuItem(&quot;-&quot;);
 	private MenuItem orgNewWP, orgCopy, orgMove, orgDelete, orgRebuild, orgCheckNotesAndSolver;
-	public MenuItem cacheTour, orgTravelbugs, mnuForceLogin;
+	public MenuItem cacheTour, orgTravelbugs;
 	private MenuItem mnuNewProfile, mnuOpenProfile, mnuDeleteProfile, mnuRenameProfile, mnuEditCenter;
 	private Form father;
 	private TablePanel tbp;
@@ -134,12 +134,8 @@
 				mnuSeparator, //
 				loadGCVotes = new MenuItem(MyLocale.getMsg(1208, &quot;Import ratings from GCVote&quot;)), //
 				fetchOCLink = new MenuItem(MyLocale.getMsg(1209, &quot;Fetch link to OC - Cache&quot;)), //
-				mnuSeparator, //
-				mnuForceLogin = new MenuItem(MyLocale.getMsg(216, &quot;Always login to GC&quot;)), //
 		};
 		Menu importMenu = new Menu(mnuImport, MyLocale.getMsg(175, &quot;Import&quot;));
-		if (Global.getPref().forceLogin)
-			mnuForceLogin.modifiers ^= MenuItem.Checked;
 
 		// /////////////////////////////////////////////////////////////////////
 		// subMenu for export, part of &quot;Application&quot; menu below
@@ -440,11 +436,6 @@
 				updateSelectedCaches(tbp);
 				pref.setOldGCLanguage();
 			}
-			if (mev.selectedItem == mnuForceLogin) {
-				mnuForceLogin.modifiers ^= MenuItem.Checked;
-				Global.getPref().forceLogin = (mnuForceLogin.modifiers &amp; MenuItem.Checked) != 0;
-				Global.getPref().savePreferences();
-			}
 			// /////////////////////////////////////////////////////////////////////
 			// subMenu for export, part of &quot;Application&quot; menu
 			// /////////////////////////////////////////////////////////////////////
@@ -885,7 +876,6 @@
 		}
 
 		int spiderErrors = 0;
-		boolean forceLogin = Global.getPref().forceLogin; // To ensure that spiderSingle only logs in once if forcedLogin=true
 		for (int j = 0; j &lt; cachesToUpdate.size(); j++) {
 			int i = ((Integer) cachesToUpdate.get(j)).intValue();
 			ch = cacheDB.get(i);
@@ -893,7 +883,7 @@
 			infB.setInfo(MyLocale.getMsg(5513, &quot;Loading: &quot;) + ch.getWayPoint() + &quot; (&quot; + (j + 1) + &quot; / &quot; + cachesToUpdate.size() + &quot;)&quot;);
 			infB.redisplay();
 			if (ch.getWayPoint().substring(0, 2).equalsIgnoreCase(&quot;GC&quot;)) {
-				int test = spider.spiderSingle(i, infB, forceLogin, loadAllLogs || ch.is_found());
+				int test = spider.spiderSingle(i, infB, loadAllLogs || ch.is_found());
 				if (test == SpiderGC.SPIDER_CANCEL) {
 					infB.close(0);
 					break;
@@ -902,7 +892,6 @@
 				} else {
 					// profile.hasUnsavedChanges=true;
 				}
-				forceLogin = false;
 			} else {
 				if (!ocSync.syncSingle(i, infB)) {
 					infB.close(0);

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/src/CacheWolf/Preferences.java	2011-09-11 22:27:56 UTC (rev 3080)
@@ -90,7 +90,7 @@
 
 	/**
 	 * Singleton pattern - return reference to Preferences
-	 * 
+	 *
 	 * @return Singleton Preferences object
 	 */
 	public static Preferences getPrefObject() {
@@ -108,7 +108,7 @@
 	 * Call this method to set the path of the config file &lt;br&gt;
 	 * If you call it with null it defaults to [program-dir]/pref.xml if p is a directory &quot;pref.xml&quot; will automatically
 	 * appended
-	 * 
+	 *
 	 * @param p
 	 */
 	public void setPathToConfigFile(String p) {
@@ -283,8 +283,7 @@
 	 * The currently used centre point, can be different from the profile's centrepoint. This is used for spidering
 	 */
 	private CWPoint curCentrePt = new CWPoint();
-	/** True if a login screen is displayed on each spider operation */
-	public boolean forceLogin = true;
+	public boolean switchGCLanguageToEnglish = false;
 	/** True if the goto panel is North centered */
 	public boolean northCenteredGoto = true;
 	/** If not null, a customs map path has been specified by the user */
@@ -362,11 +361,11 @@
 	// ////////////////////////////////////////////
 	/**
 	 * The debug switch (Can be used to activate dormant code) by adding the line:
-	 * 
+	 *
 	 * &lt;pre&gt;
 	 * &lt;debug value=&quot;true&quot; /&gt;
 	 * &lt;/pre&gt;
-	 * 
+	 *
 	 * to the pref.xml file.
 	 */
 	public boolean debug = false;
@@ -422,7 +421,7 @@
 
 	/**
 	 * Tries to find a executable browser return &quot;&quot; if no browser found
-	 * 
+	 *
 	 * @return
 	 */
 	private String getDefaultBrowser() {
@@ -609,7 +608,6 @@
 			northCenteredGoto = Boolean.valueOf(atts.getValue(&quot;northcentered&quot;)).booleanValue();
 		} else if (name.equals(&quot;spider&quot;)) {
 			doNotGetFound = !Boolean.valueOf(atts.getValue(&quot;getFinds&quot;)).booleanValue();
-			forceLogin = Boolean.valueOf(atts.getValue(&quot;forcelogin&quot;)).booleanValue();
 			checkLog = Boolean.valueOf(atts.getValue(&quot;checkLog&quot;)).booleanValue();
 			tmp = atts.getValue(&quot;checkTBs&quot;);
 			if (tmp != null)
@@ -861,7 +859,6 @@
 			outp.print(&quot;    &lt;opencaching lastSite=\&quot;&quot; + lastOCSite + &quot;\&quot; downloadMissing=\&quot;&quot; + SafeXML.strxmlencode(downloadAllOC) + &quot;\&quot; /&gt;\n&quot;);
 			outp.print(&quot;    &lt;location lat=\&quot;&quot; + SafeXML.clean(curCentrePt.getLatDeg(TransformCoordinates.DD)) + &quot;\&quot; long=\&quot;&quot; + SafeXML.clean(curCentrePt.getLonDeg(TransformCoordinates.DD)) + &quot;\&quot; /&gt;\n&quot;);
 			outp.print(&quot;    &lt;spider&quot; //
-					+ &quot; forcelogin=\&quot;&quot; + SafeXML.strxmlencode(forceLogin) + &quot;\&quot;&quot; //
 					+ &quot; spiderUpdates=\&quot;&quot; + SafeXML.strxmlencode(spiderUpdates) + &quot;\&quot;&quot; //
 					+ &quot; checkLog=\&quot;&quot; + SafeXML.strxmlencode(checkLog) + &quot;\&quot;&quot; //
 					+ &quot; checkTBs=\&quot;&quot; + SafeXML.strxmlencode(checkTBs) + &quot;\&quot;&quot; //
@@ -926,7 +923,7 @@
 
 	/**
 	 * custom = set by the user
-	 * 
+	 *
 	 * @return custom Maps Path, null if not set
 	 */
 	public String getCustomMapsPath() {
@@ -983,8 +980,8 @@
 	 * gets the path to the calibrated maps it first tries if there are manually imported maps in
 	 * &lt;baseDir&gt;/maps/standard then it tries the legacy dir: &lt;program-dir&gt;/maps In case in both locations are no
 	 * .wfl-files it returns &lt;baseDir&gt;/maps/expedia - the place where the automatically downloaded maps are placed.
-	 * 
-	 * 
+	 *
+	 *
 	 */
 	public String getMapLoadPath() {
 		saveCustomMapsPath(getMapLoadPathInternal());
@@ -1100,7 +1097,7 @@
 	/**
 	 * tries to get the home data dir of the user e.g. &quot;c:\documents and...\&lt;user&gt;\my documents&quot; or &quot;/home/&lt;user&gt;&quot; in
 	 * linux if none could be identified, &quot;/&quot; is returned.
-	 * 
+	 *
 	 * @return
 	 */
 	public String getHomeDir() {
@@ -1139,7 +1136,7 @@
 
 	/**
 	 * Open Profile selector screen
-	 * 
+	 *
 	 * @param prof
 	 * @param showProfileSelector
 	 * @return True if a profile was selected
@@ -1266,13 +1263,13 @@
 	/**
 	 * Method to log messages to a file called log.txt It will always append to an existing file. To show the message on
 	 * the console, the global variable debug must be set. This can be done by adding
-	 * 
+	 *
 	 * &lt;pre&gt;
 	 * &lt;debug value=&quot;true&quot;&gt;
 	 * &lt;/pre&gt;
-	 * 
+	 *
 	 * to the pref.xml file
-	 * 
+	 *
 	 * @param text
 	 *            to log
 	 */
@@ -1305,7 +1302,7 @@
 
 	/**
 	 * Log an exception to the log file with or without a stack trace
-	 * 
+	 *
 	 * @param text
 	 *            Optional message (Can be empty string)
 	 * @param e
@@ -1314,11 +1311,11 @@
 	 *            If true and the debug switch is true, the stack trace is appended to the log The debug switch can be
 	 *            set by including the line &lt;i&gt;&lt;debug value=&quot;true&quot;&gt;&lt;/debug&gt;&lt;/i&gt; in the pref.xml file or by
 	 *            manually setting it (i.e. in BE versions or RC versions) by including the line
-	 * 
+	 *
 	 *            &lt;pre&gt;
 	 * Global.getPref().debug = true;
 	 * &lt;/pre&gt;
-	 * 
+	 *
 	 *            in Version.getRelease()
 	 */
 	public void log(String text, Throwable e, boolean withStackTrace) {
@@ -1337,7 +1334,7 @@
 	/**
 	 * Log an exception to the log file without a stack trace, i.e. where a stack trace is not needed because the
 	 * location/cause of the error is clear
-	 * 
+	 *
 	 * @param message
 	 *            Optional message (Can be empty string)
 	 * @param e
@@ -1390,7 +1387,7 @@
 	/**
 	 * &lt;code&gt;True&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;, depending if a filter with the given ID is saved in the
 	 * preferences.
-	 * 
+	 *
 	 * @param filterID
 	 *            ID of the filter to check
 	 * @return True or false
@@ -1402,7 +1399,7 @@
 	/**
 	 * Returns the FilterData object saved with the given ID. The ID is not saved in the object, so it may be resaved
 	 * under another ID.
-	 * 
+	 *
 	 * @param filterID
 	 *            ID of the FilterData object
 	 * @return FilterData object
@@ -1414,7 +1411,7 @@
 	/**
 	 * Adds a FilterData object to the list. If a FilterData object is already saved unter the given ID, the old object
 	 * is removed and the new one is set at its place.
-	 * 
+	 *
 	 * @param filterID
 	 *            ID to associate with the filter object
 	 * @param filter
@@ -1427,7 +1424,7 @@
 	/**
 	 * Removed the FilterData object which is saved with the given ID. If no such FilterData object exists, nothing
 	 * happens.
-	 * 
+	 *
 	 * @param filterID
 	 *            ID of FilterData object to remove
 	 */
@@ -1437,7 +1434,7 @@
 
 	/**
 	 * Returns a alphabetically sorted array of ID of saved FilterData objects.
-	 * 
+	 *
 	 * @return Array of IDs
 	 */
 	public String[] getFilterIDs() {
@@ -1502,6 +1499,7 @@
 		if (oldLanguageCtl.length() != 0)
 			try {
 				UrlFetcher.fetch(oldLanguageCtl);
+				switchGCLanguageToEnglish=true;
 			} catch (IOException e) {
 				// dann halt nicht
 			}

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2011-09-10 14:56:23 UTC (rev 3079)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2011-09-11 22:27:56 UTC (rev 3080)
@@ -530,7 +530,7 @@
 				ch.initStates(false);
 		}
 
-		// halbe Seitenl&#228;nge eines Quadrats ums Zentrum in km
+		// halbe Seitenl&#195;&#164;nge eines Quadrats ums Zentrum in km
 		double halfSideLength = maxDistance;
 		if (pref.metricSystem == Metrics.IMPERIAL) {
 			halfSideLength = Metrics.convertUnit(maxDistance, Metrics.MILES, Metrics.KILOMETER);
@@ -991,7 +991,7 @@
 				break;
 			final CacheHolder ch = (CacheHolder) e.nextElement();
 			infB.setInfo(MyLocale.getMsg(5513, &quot;Loading: &quot;) + ch.getWayPoint() + &quot; (&quot; + (cachesToLoad.size() + j) + &quot; / &quot; + totalCachesToLoad + &quot;)&quot;);
-			final int test = spiderSingle(cacheDB.getIndex(ch), infB, false, loadAllLogs);
+			final int test = spiderSingle(cacheDB.getIndex(ch), infB, loadAllLogs);
 			if (test == SPIDER_CANCEL) {
 				break;
 			} else {
@@ -1012,7 +1012,7 @@
 	 * @return 1 if spider was successful, -1 if spider was cancelled by closing the infobox, 0 error, but continue with
 	 *         next cache
 	 */
-	public int spiderSingle(int number, InfoBox pInfB, boolean forceLogin, boolean loadAllLogs) {
+	public int spiderSingle(int number, InfoBox pInfB, boolean loadAllLogs) {
 		int ret = -1;
 		this.infB = pInfB;
 		final CacheHolder ch = new CacheHolder(); // cacheDB.get(number);
@@ -1092,10 +1092,10 @@
 	 */
 	private boolean login() {
 
-		if (loggedIn &amp;&amp; !pref.forceLogin) {
+		if (loggedIn &amp;&amp; !pref.switchGCLanguageToEnglish) {
 			return true;
 		}
-		
+
 		if (pref.userID.length() &gt; 0) {
 			UrlFetcher.setPermanentRequestorProperty(&quot;Cookie&quot;, null);
 			loggedIn = switchToEnglish();
@@ -1233,7 +1233,7 @@
 				return 3;
 			}
 		}
-		
+
 		if (loginPage.indexOf(loginSuccess) &gt; 0) {
 			pref.log(&quot;Login successful: &quot; + pref.myAlias);
 			// **3 now we are logged in and get the Cookie (there are two)
@@ -1269,7 +1269,7 @@
 			pref.log(&quot;Login failed. Wrong Account or Password? &quot; + pref.myAlias, null);
 			return 2;
 		}
-		
+
 		if (!this.switchToEnglish())
 			return 0;
 
@@ -1323,25 +1323,19 @@
 		ext.set(ext.findNext(), &quot;&gt;&quot;, &quot;&lt;&quot;, 0, true);
 		String oldLanguage = ext.findNext();
 		if (oldLanguage.equals(&quot;English&quot;)) {
+			pref.switchGCLanguageToEnglish=false;
 			pref.log(&quot;already English&quot;);
-			pref.oldLanguageCtl = &quot;&quot;; // nothing to reset
 			return true;
 		}
 		// switch to english now goes into gc account Display Preferences
 		// (is permanent, must be reset)
-		// todo as long as Textfile Encoding is CP1252 we compare with
-		// substring(1) and think koreanisch if no merge at all
-		String languages[] = { &quot;English&quot;, &quot;Deutsch&quot;, &quot;Fran&#231;ais&quot;, &quot;Portugu&#234;s&quot;, &quot;Ce&#154;tina&quot;, &quot;Svenska&quot;, &quot;Nederlands&quot;, &quot;Catal&#224;&quot;, &quot;Polski&quot;, &quot;Eesti&quot;, &quot;Norsk, Bokm&#229;l&quot;, &quot;???&quot;, &quot;Espa&#241;ol&quot; };
+		String languages[] = { &quot;English&quot;, &quot;Deutsch&quot;, &quot;Fran&#231;ais&quot;, &quot;Portugu&#234;s&quot;, &quot;&#196;&#140;e&#197;&#161;tina&quot;, &quot;Svenska&quot;, &quot;Nederlands&quot;, &quot;Catal&#224;&quot;, &quot;Polski&quot;, &quot;Eesti&quot;, &quot;Norsk, Bokm&#229;l&quot;, &quot;&#237;&#149;&#156;&#234;&#181;&#173;&#236;&#150;&#180;&quot;, &quot;Espa&#241;ol&quot;, &quot;Magyar&quot; };
 		for (int i = 0; i &lt; languages.length; i++) {
-			if (oldLanguage.substring(1).equals(languages[i].substring(1))) {
+			if (oldLanguage.equals(languages[i])) {
 				pref.oldLanguageCtl = url + &quot;?__EVENTTARGET=&quot; + UrlFetcher.encodeURL(&quot;ctl00$uxLocaleList$uxLocaleList$ctl&quot; + MyLocale.formatLong(i, &quot;00&quot;) + &quot;$uxLocaleItem&quot;, false);
 				break;
 			}
 		}
-		if (pref.oldLanguageCtl.length() == 0) {
-			// koreanisch
-			pref.oldLanguageCtl = url + &quot;?__EVENTTARGET=&quot; + UrlFetcher.encodeURL(&quot;ctl00$uxLocaleList$uxLocaleList$ctl&quot; + &quot;11&quot; + &quot;$uxLocaleItem&quot;, false);
-		}
 		final String strEnglishPage = &quot;ctl00$uxLocaleList$uxLocaleList$ctl00$uxLocaleItem&quot;;
 		url += &quot;?__EVENTTARGET=&quot; + UrlFetcher.encodeURL(strEnglishPage, false);
 		try {
@@ -1541,7 +1535,7 @@
 				ch.initStates(false);
 		}
 
-		// halbe Seitenl&#228;nge eines Quadrats ums Zentrum in km
+		// halbe Seitenl&#195;&#164;nge eines Quadrats ums Zentrum in km
 		double halfSideLength = maxDistance;
 		if (pref.metricSystem == Metrics.IMPERIAL) {
 			halfSideLength = Metrics.convertUnit(maxDistance, Metrics.MILES, Metrics.KILOMETER);
@@ -1909,8 +1903,8 @@
 			if (ret.indexOf(&quot;ere&quot;) &gt; -1)
 				return distanceAndDirection; // zur Zeit &quot; Here -1&quot;
 			// Versuch den DistanceCodeKey automatisch zu bestimmen
-			// da dieser von gc mal wieder ge&#195;&#131;&#194;&#164;ndert wurde.
-			// todo Ben&#246;tigt ev noch weitere Anpassungen: | am Anfang, and calc of keylength
+			// da dieser von gc mal wieder ge&#195;&#164;ndert wurde.
+			// todo Ben&#195;&#182;tigt ev noch weitere Anpassungen: | am Anfang, and calc of keylength
 			// String thereitis=&quot;|0.34 km|102.698&quot;;
 			// String page =
 			// fetchText(&quot;<A HREF="http://www.geocaching.com/seek/nearest.aspx?lat=48.48973&amp;lng=009.26313&amp;dist=2&amp;f=1">http://www.geocaching.com/seek/nearest.aspx?lat=48.48973&amp;lng=009.26313&amp;dist=2&amp;f=1</A>&quot;,false);
@@ -1942,7 +1936,7 @@
 			final String coded = ewe.net.URL.decodeURL(RexPropDistanceCode.stringMatched(1));
 			final String newkey = decodeXor(coded, thereitis);
 			final int keylength = 13;
-			// wenn nicht 13 dann newkey auf wiederholung pr&#195;&#131;&#194;&#188;fen
+			// wenn nicht 13 dann newkey auf wiederholung pr&#195;&#188;fen
 			DistanceCodeKey = newkey.substring(0, keylength);
 			ret = decodeXor(stmp, DistanceCodeKey).replace('|', ' ');
 			pref.log(&quot;Automatic key: &quot; + DistanceCodeKey + &quot; result: &quot; + ret + Preferences.NEWLINE);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003068.html">[Cachewolf-svn] r3077 - trunk/src/CacheWolf/imp
</A></li>
	<LI>Next message: <A HREF="003072.html">[Cachewolf-svn] r3081 - trunk/src/CacheWolf/view/pda
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3071">[ date ]</a>
              <a href="thread.html#3071">[ thread ]</a>
              <a href="subject.html#3071">[ subject ]</a>
              <a href="author.html#3071">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
