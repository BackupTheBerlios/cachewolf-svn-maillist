<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r2604 - in trunk: res_noewe/templates src/CacheWolf	src/CacheWolf/exp
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2604%20-%20in%20trunk%3A%20res_noewe/templates%20src/CacheWolf%0A%09src/CacheWolf/exp&In-Reply-To=%3C201006132145.o5DLjeEO029838%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002530.html">
   <LINK REL="Next"  HREF="002532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r2604 - in trunk: res_noewe/templates src/CacheWolf	src/CacheWolf/exp</H1>
    <B>araber95 at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2604%20-%20in%20trunk%3A%20res_noewe/templates%20src/CacheWolf%0A%09src/CacheWolf/exp&In-Reply-To=%3C201006132145.o5DLjeEO029838%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r2604 - in trunk: res_noewe/templates src/CacheWolf	src/CacheWolf/exp">araber95 at mail.berlios.de
       </A><BR>
    <I>Sun Jun 13 23:45:40 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002530.html">[Cachewolf-svn] r2603 - trunk/src/CacheWolf/imp
</A></li>
        <LI>Next message: <A HREF="002532.html">[Bug #17063] Status&#228;nderung von Caches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2531">[ date ]</a>
              <a href="thread.html#2531">[ thread ]</a>
              <a href="subject.html#2531">[ subject ]</a>
              <a href="author.html#2531">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: araber95
Date: 2010-06-13 23:45:37 +0200 (Sun, 13 Jun 2010)
New Revision: 2604

Added:
   trunk/res_noewe/templates/pq.tpl
Modified:
   trunk/res_noewe/templates/Short documentation for the export via templates.htm
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/exp/GpxExportNg.java
Log:
enhancing tpl-exporter : new pq.tpl template for Dakota..Oregon (see <A HREF="http://www.geoclub.de/viewtopic.php?f=40&amp;t=45618&amp;sid=d47b4ad9d330d038c2276b0731be50fb&amp;start=10">http://www.geoclub.de/viewtopic.php?f=40&amp;t=45618&amp;sid=d47b4ad9d330d038c2276b0731be50fb&amp;start=10</A>)

Modified: trunk/res_noewe/templates/Short documentation for the export via templates.htm
===================================================================
--- trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-13 21:42:58 UTC (rev 2603)
+++ trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-06-13 21:45:37 UTC (rev 2604)
@@ -335,6 +335,10 @@
 &lt;span class=SpellE&gt;dann&lt;/span&gt; &lt;span class=SpellE&gt;kriegen&lt;/span&gt; &lt;span
 class=SpellE&gt;sie&lt;/span&gt; &lt;span class=SpellE&gt;noch&lt;/span&gt; &lt;span class=SpellE&gt;Infos&lt;/span&gt;
 &lt;span class=SpellE&gt;wie&lt;/span&gt; Difficulty etc. rein)&lt;br&gt;
+CACHEID&lt;span style='mso-tab-count:8'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:&lt;br&gt;
+ARCHIVED&lt;span style='mso-tab-count:8'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:&lt;br&gt;
+AVAILABLE&lt;span style='mso-tab-count:8'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
+&lt;br&gt;
 TRAVELBUG&lt;span style='mso-tab-count:8'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
 Y or N &lt;span class=SpellE&gt;f&#252;r&lt;/span&gt; &lt;span class=SpellE&gt;Anwesenheit/Abwesenheit&lt;/span&gt;
 von &lt;span class=SpellE&gt;TBs&lt;/span&gt; &lt;span class=SpellE&gt;im&lt;/span&gt; Cache&nbsp;&lt;br&gt;
@@ -364,7 +368,13 @@
 &lt;span class=SpellE&gt;Liste&lt;/span&gt; &lt;span class=SpellE&gt;der&lt;/span&gt; &lt;span
 class=SpellE&gt;TBs&lt;/span&gt; : &lt;br&gt;
 SOLVER&lt;span style='mso-tab-count:8'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
-Solver &lt;span class=SpellE&gt;Infos&lt;/span&gt;&lt;br style='mso-special-character:line-break'&gt;
+Solver &lt;span class=SpellE&gt;Infos&lt;/span&gt;&lt;br&gt;
+COUNTRY&lt;span style='mso-tab-count:8'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
+&lt;span class=SpellE&gt;Staat&lt;/span&gt; &lt;br&gt;
+STATE&lt;span style='mso-tab-count:9'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
+&lt;span class=SpellE&gt;Bundesland&lt;/span&gt;&lt;br&gt;
+HTML&lt;span style='mso-tab-count:9'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
+TRUE / FALSE if description is html&lt;br style='mso-special-character:line-break'&gt;
 &lt;![if !supportLineBreakNewLine]&gt;&lt;br style='mso-special-character:line-break'&gt;
 &lt;![endif]&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;
 
@@ -391,11 +401,11 @@
 &lt;p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'&gt;&lt;span
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;LOGS&lt;span
 style='mso-tab-count:9'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
-the &lt;&lt;span class=SpellE&gt;tmpl_loop&lt;/span&gt; LOGS &gt;, example see GCTemplate.html
-/ show cache in browser offline&lt;br&gt;
+the &lt;&lt;span class=SpellE&gt;tmpl_loop&lt;/span&gt; LOGS &gt;, example see
+GCTemplate.html / show cache in browser offline&lt;br&gt;
 ICON&lt;span style='mso-tab-count:9'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
 name of the log picture&lt;br&gt;
-DATE&lt;span style='mso-tab-count:1'&gt;&#160;&#160; &lt;/span&gt;&lt;span style='mso-tab-count:8'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
+DATE&lt;span style='mso-tab-count:9'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
 date of the log&lt;br&gt;
 LOGGER&lt;span style='mso-tab-count:8'&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/span&gt;:
 name&lt;br&gt;
@@ -600,8 +610,8 @@
 style='mso-spacerun:yes'&gt;&#160; &lt;/span&gt;you&lt;/span&gt;&lt;/span&gt;&lt;span lang=EN-GB
 style='mso-ansi-language:EN-GB'&gt; &lt;/span&gt;&lt;span lang=EN-GB style='font-size:10.0pt;
 font-family:Arial;mso-ansi-language:EN-GB'&gt;place &lt;&lt;span class=SpellE&gt;tmpl_var&lt;/span&gt;&gt;s.&lt;b
-style='mso-bidi-font-weight:normal'&gt; The only loop used by the template
-exporter is '&lt;span class=SpellE&gt;cache_index&lt;/span&gt;', see example above. &lt;/b&gt;&lt;/span&gt;&lt;span
+style='mso-bidi-font-weight:normal'&gt; The only loop used by the template exporter
+is '&lt;span class=SpellE&gt;cache_index&lt;/span&gt;', see example above. &lt;/b&gt;&lt;/span&gt;&lt;span
 lang=EN-GB style='mso-ansi-language:EN-GB'&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;
 
 &lt;p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
@@ -639,8 +649,8 @@
 if both __FIRST__ and __LAST__ are false&lt;br&gt;
 __COUNTER__&lt;span style='mso-tab-count:1'&gt; &lt;/span&gt;&lt;/span&gt;&lt;span lang=EN-GB
 style='mso-ansi-language:EN-GB'&gt;&nbsp;&nbsp;&nbsp; &lt;/span&gt;&lt;span lang=EN-GB
-style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;Which
-iteration is currently on. Starts at 1&lt;br style='mso-special-character:line-break'&gt;
+style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'&gt;Which iteration
+is currently on. Starts at 1&lt;br style='mso-special-character:line-break'&gt;
 &lt;![if !supportLineBreakNewLine]&gt;&lt;br style='mso-special-character:line-break'&gt;
 &lt;![endif]&gt;&lt;/span&gt;&lt;span lang=EN-GB style='mso-ansi-language:EN-GB'&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;
 

Added: trunk/res_noewe/templates/pq.tpl
===================================================================
--- trunk/res_noewe/templates/pq.tpl	2010-06-13 21:42:58 UTC (rev 2603)
+++ trunk/res_noewe/templates/pq.tpl	2010-06-13 21:45:37 UTC (rev 2604)
@@ -0,0 +1,58 @@
+&lt;tmpl_par name=&quot;charset&quot; value=&quot;UTF8&quot;&gt;
+&lt;tmpl_par name=&quot;newline&quot; value=&quot;CRLF&quot;&gt;
+&lt;tmpl_par name=&quot;decsep&quot; value=&quot;.&quot;&gt;
+&lt;tmpl_par name=&quot;Out&quot; value=&quot;*.gpx&quot;&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&lt;br&gt;
+&lt;gpx xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xmlns:xsd=&quot;<A HREF="http://www.w3.org/2001/XMLSchema">http://www.w3.org/2001/XMLSchema</A>&quot; version=&quot;1.0&quot; creator=&quot;Groundspeak Pocket Query&quot; xsi:schemaLocation=&quot;<A HREF="http://www.topografix.com/GPX/1/0">http://www.topografix.com/GPX/1/0</A> <A HREF="http://www.topografix.com/GPX/1/0/gpx.xsd">http://www.topografix.com/GPX/1/0/gpx.xsd</A> <A HREF="http://www.groundspeak.com/cache/1/0/1">http://www.groundspeak.com/cache/1/0/1</A> <A HREF="http://www.groundspeak.com/cache/1/0/1/cache.xsd">http://www.groundspeak.com/cache/1/0/1/cache.xsd</A>&quot; xmlns=&quot;<A HREF="http://www.topografix.com/GPX/1/0">http://www.topografix.com/GPX/1/0</A>&quot;&gt;&lt;br&gt;
+  &lt;name&gt;&lt;tmpl_var NAME&gt;&lt;/name&gt;&lt;br&gt;
+  &lt;desc&gt;Geocache file generated by Groundspeak&lt;/desc&gt;&lt;br&gt;
+  &lt;author&gt;Groundspeak&lt;/author&gt;&lt;br&gt;
+  &lt;email&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">contact at cachewolf.de</A>&lt;/email&gt;&lt;br&gt;
+  &lt;keywords&gt;cache, geocache, groundspeak&lt;/keywords&gt;&lt;br&gt;
+&lt;tmpl_loop cache_index&gt;
+  &lt;tmpl_if __FIRST__&gt;&lt;time&gt;&lt;tmpl_var NOW_DATE&gt;T&lt;tmpl_var NOW_TIME&gt;:00Z&lt;/time&gt;&lt;br&gt;
+  &lt;/tmpl_if&gt;
+&lt;wpt lat=&quot;&lt;tmpl_var LAT&gt;&quot; lon=&quot;&lt;tmpl_var LON&gt;&quot;&gt;&lt;br&gt;
+    &lt;time&gt;&lt;tmpl_var DATE&gt;T07:00:00Z&lt;/time&gt;&lt;br&gt;
+    &lt;name&gt;&lt;tmpl_var WAYPOINT&gt;&lt;/name&gt;&lt;br&gt;
+    &lt;desc&gt;&lt;tmpl_var NAME&gt; (&lt;tmpl_var DIFFICULTY&gt;/&lt;tmpl_var TERRAIN&gt;)&lt;/desc&gt;&lt;br&gt;
+    &lt;url&gt;&lt;tmpl_var URL&gt;&lt;/url&gt;&lt;br&gt;
+    &lt;urlname&gt;&lt;tmpl_var NAME&gt;&lt;/urlname&gt;&lt;br&gt;
+    &lt;sym&gt;&lt;tmpl_var SYM&gt;&lt;/sym&gt;&lt;br&gt;
+    &lt;type&gt;&lt;tmpl_var TYPE&gt;&lt;/type&gt;&lt;br&gt;
+    &lt;groundspeak:cache id=&quot;&lt;tmpl_var CACHEID&gt;&quot; available=&quot;&lt;tmpl_var AVAILABLE&gt;&quot; archived=&quot;&lt;tmpl_var ARCHIVED&gt;&quot; xmlns:groundspeak=&quot;<A HREF="http://www.groundspeak.com/cache/1/0/1">http://www.groundspeak.com/cache/1/0/1</A>&quot;&gt;&lt;br&gt;
+      &lt;groundspeak:name&gt;&lt;tmpl_var NAME&gt;&lt;/groundspeak:name&gt;&lt;br&gt;
+      &lt;groundspeak:placed_by&gt;&lt;tmpl_var OWNER&gt;&lt;/groundspeak:placed_by&gt;&lt;br&gt;
+      &lt;groundspeak:owner id=&quot;31415&quot;&gt;&lt;tmpl_var OWNER&gt;&lt;/groundspeak:owner&gt;&lt;br&gt;
+      &lt;groundspeak:type&gt;&lt;tmpl_var GSTYPE&gt;&lt;/groundspeak:type&gt;&lt;br&gt;
+      &lt;groundspeak:container&gt;&lt;tmpl_var SIZE&gt;&lt;/groundspeak:container&gt;&lt;br&gt;
+      &lt;groundspeak:attributes&gt;&lt;br&gt;
+        &lt;tmpl_loop ATTRIBUTES&gt;
+        &lt;groundspeak:attribute id=&quot;&lt;tmpl_var GCID&gt;&quot; inc=&quot;&lt;tmpl_var INC&gt;&quot;&gt;&lt;tmpl_var INFO&gt;&lt;/groundspeak:attribute&gt;&lt;br&gt;
+        &lt;/tmpl_loop&gt;
+       &lt;/groundspeak:attributes&gt;&lt;br&gt;
+      &lt;groundspeak:difficulty&gt;&lt;tmpl_var DIFFICULTY&gt;&lt;/groundspeak:difficulty&gt;&lt;br&gt;
+      &lt;groundspeak:terrain&gt;&lt;tmpl_var TERRAIN&gt;&lt;/groundspeak:terrain&gt;&lt;br&gt;
+      &lt;groundspeak:country&gt;&lt;tmpl_var COUNTRY&gt;&lt;/groundspeak:country&gt;&lt;br&gt;
+      &lt;groundspeak:state&gt;&lt;tmpl_var STATE&gt;&lt;/groundspeak:state&gt;&lt;br&gt;
+      &lt;groundspeak:short_description html=&quot;&lt;tmpl_var HTML&gt;&quot;&gt;&lt;tmpl_var NAME&gt; (&lt;tmpl_var DIFFICULTY&gt;/&lt;tmpl_var TERRAIN&gt;)&lt;/groundspeak:short_description&gt;&lt;br&gt;
+      &lt;groundspeak:long_description html=&quot;&lt;tmpl_var HTML&gt;&quot;&lt;tmpl_var DESCRIPTION&gt;&lt;/groundspeak:long_description&gt;&lt;br&gt;
+      &lt;groundspeak:encoded_hints&gt;&lt;tmpl_var DESCRYPTEDHINTS&gt;&lt;/groundspeak:encoded_hints&gt;&lt;br&gt;
+      &lt;groundspeak:logs&gt;&lt;br&gt;
+        &lt;groundspeak:log id=&quot;&lt;tmpl_var WAYPOINT&gt;0&quot;&gt;&lt;br&gt;
+          &lt;groundspeak:finder id=&quot;0&quot;&gt;CacheWolf&lt;/groundspeak:finder&gt;&lt;br&gt;
+          &lt;groundspeak:text encoded=&quot;False&quot;&gt;&lt;tmpl_loop ATTRIBUTES&gt;&lt;br /&gt;&lt;tmpl_var INC2TXT&gt;&amp;nbsp;:&lt;tmpl_var INFO&gt;&lt;br /&gt;&lt;/tmpl_loop&gt;&lt;/groundspeak:text&gt;&lt;br&gt;
+        &lt;/groundspeak:log&gt;&lt;br&gt;
+      &lt;tmpl_loop LOGS&gt;  &lt;groundspeak:log id=&quot;&lt;tmpl_var WAYPOINT&gt;&lt;tmpl_var __COUNTER__&gt;&quot;&gt;&lt;br&gt;
+          &lt;groundspeak:date&gt;&lt;tmpl_var DATE&gt;T19:00:00Z&lt;/groundspeak:date&gt;&lt;br&gt;
+          &lt;groundspeak:type&gt;&lt;tmpl_var LOGTYPE&gt;&lt;/groundspeak:type&gt;&lt;br&gt;
+          &lt;groundspeak:finder id=&quot;0&quot;&gt;&lt;tmpl_var LOGGER&gt;&lt;/groundspeak:finder&gt;&lt;br&gt;
+          &lt;groundspeak:text encoded=&quot;False&quot;&gt;&lt;tmpl_var MESSAGE&gt;&lt;/groundspeak:text&gt;&lt;br&gt;
+        &lt;/groundspeak:log&gt;&lt;br&gt;
+      &lt;/tmpl_loop&gt;&lt;/groundspeak:logs&gt;&lt;br&gt;
+      &lt;groundspeak:travelbugs /&gt;&lt;br&gt;
+    &lt;/groundspeak:cache&gt;&lt;br&gt;
+  &lt;/wpt&gt;&lt;br&gt;
+&lt;/tmpl_loop&gt;
+&lt;/gpx&gt;&lt;br&gt;
+

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-06-13 21:42:58 UTC (rev 2603)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-06-13 21:45:37 UTC (rev 2604)
@@ -633,12 +633,19 @@
 		varParams.put(&quot;GMTYPE&quot;, gm != null ? gm.getIcon(this) : &quot;&quot;);
 		varParams.put(&quot;NOW_DATE&quot;,nowdate().setToCurrentTime().toString());
 		varParams.put(&quot;NOW_TIME&quot;,nowtime().setToCurrentTime().toString());
+		varParams.put(&quot;CACHEID&quot;, GetCacheID());
+		varParams.put(&quot;AVAILABLE&quot;, available ? &quot;TRUE&quot; : &quot;FALSE&quot;);
+		varParams.put(&quot;ARCHIVED&quot;, archived ? &quot;TRUE&quot; : &quot;FALSE&quot;);
+		varParams.put(&quot;HTML&quot;, html ? &quot;TRUE&quot; : &quot;FALSE&quot;);
+		//() ? TRUE : FALSE
 		if (det == null){
 			varParams.put(&quot;URL&quot;, &quot;&quot;);
 			varParams.put(&quot;DESCRIPTION&quot;, &quot;&quot;);
 			varParams.put(&quot;NOTES&quot;, &quot;&quot;);
 			varParams.put(&quot;HINTS&quot;, &quot;&quot;);
 			varParams.put(&quot;DECRYPTEDHINTS&quot;, &quot;&quot;);
+			varParams.put(&quot;COUNTRY&quot;, &quot;&quot;);
+			varParams.put(&quot;STATE&quot;, &quot;&quot;);
 		}
 		else {
 			varParams.put(&quot;URL&quot;, det.URL);
@@ -675,6 +682,8 @@
 			}
 			if (det.Travelbugs.size()&gt;0) varParams.put(&quot;BUGS&quot;,det.Travelbugs.toHtml());
 			if (det.getSolver()!=null &amp;&amp; det.getSolver().trim().length()&gt;0) varParams.put(&quot;SOLVER&quot;, STRreplace.replace(det.getSolver(),&quot;\n&quot;,&quot;&lt;br/&gt;\n&quot;));
+			varParams.put(&quot;COUNTRY&quot;, det.Country);
+			varParams.put(&quot;STATE&quot;, det.State);
 			
 			// attributes
 			if (det.attributes.count()&gt;0) {
@@ -685,6 +694,7 @@
 					atts.put(&quot;IMAGE&quot;, det.attributes.getAttribute(i).getImageName());
 					atts.put(&quot;GCID&quot;, det.attributes.getAttribute(i).getGCId());
 					atts.put(&quot;INC&quot;, &quot;&quot; + det.attributes.getAttribute(i).getInc());
+					atts.put(&quot;INC2TXT&quot;, det.attributes.getAttribute(i).getInc()==1 ? &quot;YES:&quot; : &quot;NO:&quot;);
 					if (i % 5 ==4)
 						atts.put(&quot;BR&quot;,&quot;&lt;br/&gt;&quot;);
 					else
@@ -699,13 +709,17 @@
 			for (int i=0; i&lt;det.CacheLogs.size(); i++) {
 				Hashtable logs=new Hashtable();
 				if (det.CacheLogs.getLog(i).getIcon().equals(&quot;MAXLOG&quot;)) {
+					logs.put(&quot;WAYPOINT&quot;, wayPoint);
 					logs.put(&quot;ICON&quot;,&quot;&quot;);
+					logs.put(&quot;LOGTYPE&quot;,&quot;&quot;);
 					logs.put(&quot;DATE&quot;, &quot;&quot;);
 					logs.put(&quot;LOGGER&quot;, &quot;&quot;);
 					logs.put(&quot;MESSAGE&quot;, &quot;&lt;hr&gt;&quot;+MyLocale.getMsg(736,&quot;Too many logs&quot;)+&quot;&lt;hr&gt;&quot;);
 				}
 				else {
+					logs.put(&quot;WAYPOINT&quot;, wayPoint);
 					logs.put(&quot;ICON&quot;,det.CacheLogs.getLog(i).getIcon());
+					logs.put(&quot;LOGTYPE&quot;,image2TypeText(det.CacheLogs.getLog(i).getIcon()));
 					logs.put(&quot;DATE&quot;, det.CacheLogs.getLog(i).getDate());
 					logs.put(&quot;LOGGER&quot;, det.CacheLogs.getLog(i).getLogger());
 					logs.put(&quot;MESSAGE&quot;, STRreplace.replace(det.CacheLogs.getLog(i).getMessage().trim(),&quot;<A HREF="http://www.geocaching.com/images/icons/">http://www.geocaching.com/images/icons/</A>&quot;,null));
@@ -719,6 +733,47 @@
 	}	
 
 	/**
+	 * generate a gc.com compatible string representation of log derived from the internally stored image
+	 * @param image name of the image to display
+	 * @return log type. will default to &quot;Write note&quot; for unknown logtypes
+	 */
+	public static final String image2TypeText(String image) {
+		if (image.equals(&quot;icon_smile.gif&quot;))
+			return &quot;Found it&quot;;
+		if (image.equals(&quot;icon_sad.gif&quot;))
+			return &quot;Didn't find it&quot;;
+		if (image.equals(&quot;icon_note.gif&quot;))
+			return &quot;Write note&quot;;
+		if (image.equals(&quot;icon_enabled.gif&quot;))
+			return &quot;Enable Listing&quot;;
+		if (image.equals(&quot;icon_disabled.gif&quot;))
+			return &quot;Temporarily Disable Listing&quot;;
+		if (image.equals(&quot;icon_camera.gif&quot;))
+			return &quot;Webcam Photo Taken&quot;;
+		if (image.equals(&quot;icon_attended.gif&quot;))
+			return &quot;Attended&quot;;
+		if (image.equals(&quot;icon_greenlight.gif&quot;))
+			return &quot;Publish Listing&quot;;
+		if (image.equals(&quot;icon_rsvp.gif&quot;))
+			return &quot;Will Attend&quot;;
+		if (image.equals(&quot;big_smile.gif&quot;))
+			return &quot;Post Reviewer Note&quot;;
+		if (image.equals(&quot;traffic_cone.gif&quot;))
+			return &quot;Archive&quot;;
+		if (image.equals(&quot;icon_maint.gif&quot;))
+			return &quot;Owner Maintenance&quot;;
+		if (image.equals(&quot;icon_needsmaint.gif&quot;))
+			return &quot;Needs Maintenance&quot;;
+		if (image.equals(&quot;coord_update.gif&quot;))
+			return &quot;Update Coordinates&quot;;
+		if (image.equals(&quot;icon_remove.gif&quot;))
+			return &quot;Needs Archived&quot;;
+		if (image.equals(&quot;icon_redlight.gif&quot;))
+			return &quot;Retract Listing&quot;;
+		return &quot;unknown logtype &quot; + image;
+	}
+
+	/**
 	 * Modify the image links in the long description so that they point to image files in the local directory
 	 * Also copy the image file to the target directory so that it can be displayed.
 	 * @param chD CacheHolderDetail

Modified: trunk/src/CacheWolf/exp/GpxExportNg.java
===================================================================
--- trunk/src/CacheWolf/exp/GpxExportNg.java	2010-06-13 21:42:58 UTC (rev 2603)
+++ trunk/src/CacheWolf/exp/GpxExportNg.java	2010-06-13 21:45:37 UTC (rev 2604)
@@ -750,7 +750,7 @@
 		Transformer trans = new Transformer(true);
 		trans.add(new Regex(&quot;@@LOGID@@&quot;, logId));
 		trans.add(new Regex(&quot;@@LOGDATE@@&quot;, log.getDate()));
-		trans.add(new Regex(&quot;@@LOGTYPE@@&quot;, image2TypeText(log.getIcon())));
+		trans.add(new Regex(&quot;@@LOGTYPE@@&quot;, CacheHolder.image2TypeText(log.getIcon())));
 		trans.add(new Regex(&quot;@@LOGFINDERID@@&quot;, FinderID));
 		trans.add(new Regex(&quot;@@LOGFINDER@@&quot;, SafeXML.cleanGPX(log.getLogger())));
 		trans.add(new Regex(&quot;@@LOGENCODE@@&quot;, &quot;&quot;));
@@ -826,49 +826,6 @@
 	}
 
 	/**
-	 * generate a gc.com compatible string representation of log derived from the internally stored image
-	 * @param image name of the image to display
-	 * @return log type. will default to &quot;Write note&quot; for unknown logtypes
-	 */
-	private String image2TypeText(String image) {
-		if (image.equals(&quot;icon_smile.gif&quot;))
-			return &quot;Found it&quot;;
-		if (image.equals(&quot;icon_sad.gif&quot;))
-			return &quot;Didn't find it&quot;;
-		if (image.equals(&quot;icon_note.gif&quot;))
-			return &quot;Write note&quot;;
-		if (image.equals(&quot;icon_enabled.gif&quot;))
-			return &quot;Enable Listing&quot;;
-		if (image.equals(&quot;icon_disabled.gif&quot;))
-			return &quot;Temporarily Disable Listing&quot;;
-		if (image.equals(&quot;icon_camera.gif&quot;))
-			return &quot;Webcam Photo Taken&quot;;
-		if (image.equals(&quot;icon_attended.gif&quot;))
-			return &quot;Attended&quot;;
-		if (image.equals(&quot;icon_greenlight.gif&quot;))
-			return &quot;Publish Listing&quot;;
-		if (image.equals(&quot;icon_rsvp.gif&quot;))
-			return &quot;Will Attend&quot;;
-		if (image.equals(&quot;big_smile.gif&quot;))
-			return &quot;Post Reviewer Note&quot;;
-		if (image.equals(&quot;traffic_cone.gif&quot;))
-			return &quot;Archive&quot;;
-		if (image.equals(&quot;icon_maint.gif&quot;))
-			return &quot;Owner Maintenance&quot;;
-		if (image.equals(&quot;icon_needsmaint.gif&quot;))
-			return &quot;Needs Maintenance&quot;;
-		if (image.equals(&quot;coord_update.gif&quot;))
-			return &quot;Update Coordinates&quot;;
-		if (image.equals(&quot;icon_remove.gif&quot;))
-			return &quot;Needs Archived&quot;;
-		if (image.equals(&quot;icon_redlight.gif&quot;))
-			return &quot;Retract Listing&quot;;
-		Global.getPref().log(&quot;GPX Export: warning - unknown logtype &quot; + image + &quot; was changed to 'Write note'&quot;);
-		exportErrors++;
-		return &quot;Write note&quot;;
-	}
-
-	/**
 	 * create a position information suitable for a gc.com PQlike export
 	 *
 	 * @param pos


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002530.html">[Cachewolf-svn] r2603 - trunk/src/CacheWolf/imp
</A></li>
	<LI>Next message: <A HREF="002532.html">[Bug #17063] Status&#228;nderung von Caches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2531">[ date ]</a>
              <a href="thread.html#2531">[ thread ]</a>
              <a href="subject.html#2531">[ subject ]</a>
              <a href="author.html#2531">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
