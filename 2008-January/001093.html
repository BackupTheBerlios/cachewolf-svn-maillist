<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r1199 - in trunk: res_noewe/languages	src/CacheWolf/navi
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1199%20-%20in%20trunk%3A%20res_noewe/languages%0A%09src/CacheWolf/navi&In-Reply-To=%3C200801271917.m0RJHcrc010506%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001092.html">
   <LINK REL="Next"  HREF="001094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r1199 - in trunk: res_noewe/languages	src/CacheWolf/navi</H1>
    <B>mik77 at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1199%20-%20in%20trunk%3A%20res_noewe/languages%0A%09src/CacheWolf/navi&In-Reply-To=%3C200801271917.m0RJHcrc010506%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r1199 - in trunk: res_noewe/languages	src/CacheWolf/navi">mik77 at mail.berlios.de
       </A><BR>
    <I>Sun Jan 27 20:17:38 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001092.html">[Cachewolf-svn] r1198 - in trunk: res_noewe/languages	src/CacheWolf/navi
</A></li>
        <LI>Next message: <A HREF="001094.html">[Cachewolf-svn] r1200 - in trunk: res_noewe resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1093">[ date ]</a>
              <a href="thread.html#1093">[ thread ]</a>
              <a href="subject.html#1093">[ subject ]</a>
              <a href="author.html#1093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mik77
Date: 2008-01-27 20:17:33 +0100 (Sun, 27 Jan 2008)
New Revision: 1199

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/CacheWolf/navi/MapLoaderGui.java
   trunk/src/CacheWolf/navi/MapsList.java
Log:
Localization added. NL translation still missing.

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-01-27 19:07:32 UTC (rev 1198)
+++ trunk/res_noewe/languages/DE.cfg	2008-01-27 19:17:33 UTC (rev 1199)
@@ -318,7 +318,16 @@
 		1501=Aktuell
 		1502=Grad
 		1503=Nordausrichtung
-		1600=Opencahing.de Download
+		1504=Start
+		1505=Stop
+		1506=Karte
+		1507=Koordinaten ung%fcltig:
+		1508=Breite
+		1509=L%e4nge
+		1510=Keine Daten vom GPS%0aVerbindung zum seriellen Port geschlossen
+		1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a 
+		1512=Wegpunkt
+		1600=Opencaching.de Download
 		1601=max. Abstand:
 		1602=Bilder downloaden
 		1603=Karten downloaden
@@ -381,13 +390,44 @@
 		1739=Winkel muss im Bereich [0;2*PI] sein
 		1800=Georeferenzierte Karten herunterladen
 		1801=Kacheln herunterladen
+		1802=Download georeferenzierter Karten%0a W%e4hle Onlinedienst:
+		1803=f%fcr
+		1804=alle
+		1805=selektierte
+		1806=Caches
+		1807=Ca. m pro Pixel:
+		1808=%dcberlappung in Pixel:
+		1809=Lade %dcbersichtskarte
+		1810=In einem Rechteck von:
+		1811=um das Zentrum: 
+		1812=Kacheln
+		1813=Lade Karte f%fcr
+		1814=Pro Cache		
+		1815=Lade georeferenzierte Karten
+		1816=Lade georeferenzierte Karten%0a %0a %0a %0a %0a
+		1817=Keine Caches selektiert
+		1818=getSortedMapServiceIndex: Index 
+		1819=nicht gefunden
+		1820=Lade Karte '
+		1821=%0a f%fcr Cache:%0a
+		1822=Cache: 
+		1823=Ignoriere Fehler: 
+		1824=Lade %dcberblickskarte
+		1825=%dcberblickskarte: Ignoriere Fehler: 
+		1826=Laden und Kalibrieren der Karten beendet
+		1827='Radius' muss gr%f6%dfer als 0 sein
+		1828='%dcberlappung' muss gr%f6%dfer oder gleich 0 sein
+		1829=Bitte 'Zentrum' eingeben, um das die Karten geladen werden sollen
+		1830=Der gew%e4hlte Kartendienst bietet Karten in einem Ma%dfstab von 
+		1831= bis 
+		1832=%0a Bitte 'Ca. m pro Pixel' entsprechend anpassen
 		2000=GPX Export
 		2001=von
 		2100=Magellan Exporter
 		2101=Fehler beim laden der Datei magellan.cfg
-		2102=Zieldatei w&#195;&#164;hlen
+		2102=Zieldatei w%e4hlen
 		2103=Fehler beim lesen der Datei magellan.cfg
-		2104=Ausgabeverzeichnis f&#195;&#188;r die .gs Dateien ausw&#195;&#164;hlen
+		2104=Ausgabeverzeichnis f%fcr die .gs Dateien ausw%e4hlen
 		2500=Fehler beim Laden oder unkekanntes Attribut
 		2501=Nicht immer zug%e4nglich
 		2502=Immer zug%e4nglich (24/7)
@@ -498,7 +538,7 @@
 		4116=+-+Bild nicht kopiert
 		4117=Fehler beim Importieren der .map-Datei:+
 		4118=E/A-Fehler beim Lesen oder Schreiben der Kalibrierungsdatei
-		4119=Keine Kalibrierungsdatei gefunden f&#252;r:+
+		4119=Keine Kalibrierungsdatei gefunden f%fcr:+
 		4120=Fertig.
 		4200=Kartenverzeichnis w%e4hlen
 		4201=Information
@@ -565,7 +605,7 @@
 		4278=Kann folgende .wfl-Datei nicht laden:+%0a
 		4300=Leer 1 Punkt =+
 		4301=+meter
-		4302=Breite/L%e4nge au&#223;erhalb des zul%e4ssigen Bereiches beim Lesen von+
+		4302=Breite/L%e4nge au%dferhalb des zul%e4ssigen Bereiches beim Lesen von+
 		4303=Zu wenig Zeilen in Datei+
 		4304=Zu wenig Punkte, um die Karte zu kalibrieren
 		4305=Ung%fcltige Transformationsparameter%0a (Matrix kann nicht invertiert werden)%0a in der Datei %0a
@@ -580,6 +620,47 @@
 		4501=Gez:
 		4502=Gef:
 		4600=Nicht alle Caches k%f6nnen angezeigt werden. Inkompatibler Blacklist Status.
+		4700=Ignoriere Fehler beim%0aLaden der Kalibrierungsdatei%0a
+		4701=Suche nach bester Karte
+		4702=Optimierung
+		4703=Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?%0aIt can take several minutes.
+		4703=Cachewolf kann das Laden von Karten beschleunigen indem eine Markierung zum Dateinamen hinzugef%fcgt wird. Soll dies jetzt getan werden?%0aEs kann einige Minuten dauern.
+		4704=%0aUmbenennen der Datei:
+		4705=Fehler beim Umbenennen:%0a
+		4706=%0anach:%0an
+		4707=Fehler beim Lesen von: 
+		4800=Lade Onlinekartendienste
+		4801=Ignoriere Fehler beim %0a Lesen der Web Map Service Definitionsdatei %0a
+		4802=Lade kalibriertes (georeferenziertes) %0a Kartenbild %0a '
+		4803=' %0a Lade Kachel %0a Reihe 
+		4804= Spalte 
+		4805=Kachel 
+		4806=: Ignoriere Fehler: 
+		4807=loadTo: Karte laden fehlgeschlagen: Kein http-redirect erhalten
+		4808=downloadImage: content-type: 
+		4809= ist kein Bild, Anfang des Inhalts: 
+		4810=Fehler beim Laden oder Speichern der Karte:%0a
+		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a Diese Methode muss %fcberladen werden um sie zu nutzen
+		4812=WebMapService: Eigenschaft &gt;Name:&lt; fehlt in Datei:%0a
+		4813=WebMapService: Eigenschaft &gt;MainUrl:&lt; fehlt in Datei:%0a
+		4814=WebMapService: CoordinateReferenceSystemCacheWolf nicht angegeben
+		4815=Dieses Koordinaten-Referenzsystem wird von Cachewolf nicht unterst%fctzt:%0a
+		4816=WebMapService: Eigenschaft &gt;CoordinateReferenceSystemUrlPart:&lt; fehlt in Datei:%0a
+		4817=Anzahl der Strings in CoordinateReferenceSystemUrlPart (
+		4818=) muss mit der Anzahl der Codes in CoordinateReferenceSystemCacheWolf (
+		4819=)%fcbereinstimmen. Benutzte normale Leerschritte als Trenner
+		4820=WebMapService: Eigenschaft &gt;CoordinateReferenceSystemUrlPart:&lt; fehlerhaft in Datei:%0a
+		4821=WebMapService: Eigenschaft &gt;ImageFileExtension:&lt; fehlt in Datei:%0a
+		4822=Bereich: 
+		4823= wird vom Dienst: 
+		4824=nicht abgedeckt, Dienstbereich: 
+		4825=Ma%dfstab 
+		4826= wird von diesem Kartendienst nicht unterst%fctzt, unterst%fctzter Ma%dfstabsbereich: 
+		4827= (gemessen vertikal in Metern pro Pixel)
+		4828=Koordinatensystem wird von Cachewolf nicht unterst%fctzt: 
+		4829=getUrlForBoundingBox: Punkt: 
+		4830=Kein passender Gau%df-Kr%fcger-Streifen in der EPSG-Codeliste in der .wms-Datei
+		4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst%fctzt: 
 		4900=+ist keine deutsche Gau&#223;-Kr&#252;ger-Koordinate
 		4920=EPSG-Code+
 		4921=+nicht unterst&#252;tzt
@@ -614,7 +695,7 @@
 		6006=Von Datum
 		6007=Von Log
 		6008=Nach Prof
-	    6009=Nach Wegpt
+	  6009=Nach Wegpt
 		6010=Nach Datum
 		6011=Nach Log
 		6015=*** ANDERER ***

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-01-27 19:07:32 UTC (rev 1198)
+++ trunk/res_noewe/languages/EN.cfg	2008-01-27 19:17:33 UTC (rev 1199)
@@ -319,6 +319,15 @@
 		1501=Current
 		1502=deg
 		1503=North centered
+		1504=Start
+		1505=Stop
+		1506=Map
+		1507=Coordinates are out of range:
+		1508=latitude
+		1509=longditue
+		1510=No data from GPS%0aConnection to serial port closed
+		1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:%0a 
+		1512=Waypoint
 		1600=Opencahing.de Download
 		1601=Distance:
 		1602=Download Images
@@ -381,6 +390,37 @@
 		1739=Projection degrees must be in interval [0;2*PI]
 		1800=Download georeferenced maps
 		1801=Download tiles
+		1802=Download georeferenced maps%0a Select online service:
+		1803=for
+		1804=all
+		1805=selected
+		1806=caches
+		1807=Approx. m per pixel:
+		1808=overlapping in pixel:
+		1809=download an overview map
+		1810=Within a rectangle of:
+		1811=around the centre: 
+		1812=Tiles
+		1813=Download one map for
+		1814=Per cache
+		1815=Downloading georeferenced maps
+		1816=Downloading georeferenced maps%0a %0a %0a %0a %0a
+		1817=No caches are seleted
+		1818=getSortedMapServiceIndex: index 
+		1819=not found
+		1820=Downloading map '
+		1821=%0a for cache:%0a
+		1822=Cache: 
+		1823=Ignoring error: 
+		1824=downloading overview map
+		1825=Overview map: Ignoring error: 
+		1826=Finished downloading and calibration of maps
+		1827='radius' must be graeter than 0
+		1828='overlapping' must be greater or equal 0 
+		1829=Please enter the 'centre' around which the maps shall be downloaded
+		1830=The selected online map service provides map in the scale from 
+		1831= to 
+		1832=%0a please adjust 'Approx. meter pro pixel' accordingly
 		2000=GPX Export
 		2001=of
 		2500=Error loading attributes or unknown attribute
@@ -567,6 +607,46 @@
 		4501=Vis:
 		4502=Fnd:
 		4600=Some cache(s) cannot be shown because of wrong blacklist status
+		4700=Ignoring error while%0areading calibration file%0a
+		4701=Searching for best map
+		4702=Optimisation
+		4703=Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?%0aIt can take several minutes.
+		4704=%0aRenaming file:
+		4705=Failed to rename:%0a
+		4706=%0ato:%0an
+		4707=Error while reading: 
+		4800=Loading online map services
+		4801=Ignoring error while %0a reading web map service definition file %0a
+		4802=Downloading calibrated (georeferenced) %0a map image %0a '
+		4803=' %0a Downloading tile %0a row 
+		4804= column 
+		4805=Tile 
+		4806=: Ignoring error: 
+		4807=loadTo: failed to download map: didn't get http-redirect
+		4808=downloadImage: content-type: 
+		4809= is not an image, begin of content: 
+		4810=Error while downloading or saving map:%0a
+		4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
+		4812=WebMapService: property &gt;Name:&lt; missing in file:%0a
+		4813=WebMapService: property &gt;MainUrl:&lt; missing in file:%0a
+		4814=WebMapService: no CoordinateReferenceSystemCacheWolf given
+		4815=Coordinate reference system not supported by CacheWolf:%0a
+		4816=WebMapService: property &gt;CoordinateReferenceSystemUrlPart:&lt; missing in file:%0a
+		4817=Number of strings in CoordinateReferenceSystemUrlPart (
+		4818=) must match the number of codes in CoordinateReferenceSystemCacheWolf (
+		4819=) use normal space as separator
+		4820=WebMapService: property &gt;CoordinateReferenceSystemUrlPart:&lt; incorrect in file:%0a
+		4821=WebMapService: property &gt;ImageFileExtension:&lt; missing in file:%0a
+		4822=area: 
+		4823= not covered by service: 
+		4824=, service area: 
+		4825=scale 
+		4826= not supported by online map service, supported scale range: 
+		4827= (measured in meters per pixel vertically)
+		4828=Coordinate system not supported by Cachewolf: 
+		4829=getUrlForBoundingBox: Point: 
+		4830=No matching Gau&#223;-Kr&#252;ger-Stripe in the EPSG-code list in the .wms
+		4831=getMapInfoObject: Coordinate system not supported by Cachewolf: 
 		4900=+is not a german Gauss-Krueger coordinate
 		4920=EPSG code+
 		4921=+not supported

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2008-01-27 19:07:32 UTC (rev 1198)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2008-01-27 19:17:33 UTC (rev 1199)
@@ -92,10 +92,10 @@
 		cacheDB = profile.cacheDB;
 
 		// Button
-		ButtonP.addNext(btnGPS = new mButton(&quot;Start&quot;),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		ButtonP.addNext(btnGPS = new mButton(MyLocale.getMsg(1504,&quot;Start&quot;)),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		ButtonP.addNext(btnCenter = new mButton(MyLocale.getMsg(309,&quot;Centre&quot;)),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		ButtonP.addNext(btnSave = new mButton(MyLocale.getMsg(311,&quot;Create Waypoint&quot;)),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		ButtonP.addLast(btnMap = new mButton(&quot;Map&quot;),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		ButtonP.addLast(btnMap = new mButton(MyLocale.getMsg(1506,&quot;Map&quot;)),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 
 		//Format selection for coords		
 		//context menu
@@ -147,21 +147,10 @@
 		if (compassRose.isNorthCentered()) miNorthCentered.modifiers |= MenuItem.Checked;
 		else miNorthCentered.modifiers &amp;= MenuItem.Checked;
 
-		//log
-		LogP.addNext(lblLog = new mLabel(&quot;Log &quot;),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		LogP.addNext(chkLog = new mCheckBox(),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		LogP.addNext(inpLogSeconds = new mInput(&quot;10&quot;),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-		LogP.addLast(new mLabel(&quot;sec&quot;),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
-
-		chkLog.useCross = true;
-		chkLog.setState(false);
-		inpLogSeconds.columns = 5;
-
 		//add Panels
 		this.addLast(ButtonP,CellConstants.DONTSTRETCH, CellConstants.DONTFILL|CellConstants.WEST).setTag(SPAN,new Dimension(2,1));
 		this.addLast(CoordsP,CellConstants.HSTRETCH, CellConstants.HFILL|CellConstants.NORTH).setTag(SPAN,new Dimension(2,1));
 		this.addLast(roseP,CellConstants.DONTSTRETCH, CellConstants.DONTFILL|CellConstants.WEST).setTag(SPAN,new Dimension(2,1));
-		//this.addLast(LogP,CellConstants.DONTSTRETCH, CellConstants.DONTFILL|CellConstants.NORTHWEST).setTag(SPAN,new Dimension(1,1));
 
 		// for debuging
 		/*		CWGPSPoint myGPS;
@@ -216,7 +205,7 @@
 	 */ 
 	public void setDestination(CWPoint dest){
 		myNavigation.setDestination(dest);
-		if (!myNavigation.destination.isValid()) (new MessageBox(&quot;Error&quot;, &quot;Coordinates are out of range: \n&quot;+&quot;latitude: &quot;+myNavigation.destination.latDec+&quot;\n longditue: &quot;+myNavigation.destination.lonDec, MessageBox.OKB)).execute();
+		if (!myNavigation.destination.isValid()) (new MessageBox(MyLocale.getMsg(321,&quot;Error&quot;), MyLocale.getMsg(1507,&quot;Coordinates are out of range:&quot;) +&quot;\n&quot;+MyLocale.getMsg(1508,&quot;latitude&quot;)+&quot;: &quot;+myNavigation.destination.latDec+&quot;\n &quot;+MyLocale.getMsg(1509,&quot;longditue&quot;)+&quot;: &quot;+myNavigation.destination.lonDec, MessageBox.OKB)).execute();
 		
 	}
 	
@@ -276,13 +265,13 @@
 		}
 		// receiving no data
 		if (fix == -1) {
-			if (gpsStatus != RED) (new MessageBox(&quot;Error&quot;, &quot;No data from GPS\nConnection to serial port closed&quot;,MessageBox.OKB)).exec();
+			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, &quot;Error&quot;), MyLocale.getMsg(1510, &quot;No data from GPS\nConnection to serial port closed&quot;),MessageBox.OKB)).exec();
 			gpsStatus = RED;
 			myNavigation.stopGps();
 		}
 		// cannot interprete data
 		if (fix == -2) {
-			if (gpsStatus != RED) (new MessageBox(&quot;Error&quot;, &quot;Cannot interpret data from GPS\n possible reasons:\n wrong Port,\n wrong Baudrate,\n not NMEA-Protocol\nConnection to serial port closed\nLast String tried to interprete:\n &quot;+myNavigation.gpsPos.lastStrExamined, MessageBox.OKB)).exec();
+			if (gpsStatus != RED) (new MessageBox(MyLocale.getMsg(321, &quot;Error&quot;), MyLocale.getMsg(1511, &quot;Cannot interpret data from GPS\n possible reasons:\n wrong Port,\n wrong Baudrate,\n not NMEA-Protocol\nConnection to serial port closed\nLast String tried to interprete:\n&quot;)+myNavigation.gpsPos.lastStrExamined, MessageBox.OKB)).exec();
 			gpsStatus = RED;
 			myNavigation.stopGps(); // TODO automatic in myNavigate?
 		}
@@ -290,7 +279,7 @@
 
 	public void gpsStarted() {
 		chkLog.modify(ControlConstants.Disabled,0);
-		btnGPS.setText(&quot;Stop&quot;);
+		btnGPS.setText(MyLocale.getMsg(1505,&quot;Stop&quot;));
 	}
 	
 	public void startGps() {
@@ -299,7 +288,7 @@
 	}
 
 	public void gpsStoped() {
-		btnGPS.setText(&quot;Start&quot;);
+		btnGPS.setText(MyLocale.getMsg(1504,&quot;Start&quot;));
 		gpsStatus = this.backGround;
 		chkLog.modify(0,ControlConstants.Disabled);
 		this.repaintNow(); // without this the change in the background color will not be displayed
@@ -307,7 +296,7 @@
 
 	
 	private String getGotoBtnText() {
-		if (myNavigation.destination == null) return &quot;not set&quot;;
+		if (myNavigation.destination == null) return MyLocale.getMsg(999,&quot;Not set&quot;);
 		else return myNavigation.destination.toString(currFormat);
 	}
 	
@@ -395,7 +384,7 @@
 		if(ev instanceof ControlEvent &amp;&amp; ev.type == ControlEvent.PRESSED){
 			// start/stop GPS connection
 			if (ev.target == btnGPS){
-				if (btnGPS.getText().equals(&quot;Start&quot;)) startGps();
+				if (btnGPS.getText().equals(MyLocale.getMsg(1504, &quot;Start&quot;))) startGps();
 				else myNavigation.stopGps();
 			}
 
@@ -542,7 +531,7 @@
 	}
 		
 	private void drawWayPointData(Graphics g){
-		String strTemp = &quot;WayPoint&quot;;
+		String strTemp = MyLocale.getMsg(1512, &quot;Waypoint&quot;);
 		g.setColor(Color.DarkBlue);
 		g.fillRect(0, 0, fm.getTextWidth(strTemp) + 4, lineHeight);
 		g.setColor(Color.White);		

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2008-01-27 19:07:32 UTC (rev 1198)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2008-01-27 19:17:33 UTC (rev 1199)
@@ -5,6 +5,7 @@
 import CacheWolf.Global;
 import CacheWolf.HttpConnection;
 import CacheWolf.InfoBox;
+import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
 import ewe.ui.*;
 import ewe.io.*;
@@ -20,6 +21,7 @@
 
 /**
  *
+ * start offset for language file: 4800
  */
 
 //Um Karten zu holen!
@@ -65,7 +67,7 @@
 			try {
 				if (!showprogress &amp;&amp; ((i &amp; 0) == 0) &amp;&amp; (new Time().getTime()-start  &gt; 100) ) { // reason for (i &amp; 7 == 0): test time only after i is incremented 15 times
 					showprogress = true;      
-					progressBox = new InfoBox(&quot;Info&quot;, &quot;Loading online map services&quot;);
+					progressBox = new InfoBox(MyLocale.getMsg(327, &quot;Info&quot;), MyLocale.getMsg(4800, &quot;Loading online map services&quot;));
 					progressBox.exec(); 
 					progressBox.waitUntilPainted(500);
 					ewe.sys.Vm.showWait(true);
@@ -73,7 +75,7 @@
 				tempOMS = new WebMapService(wmspath + &quot;/&quot; + FileName);
 				onlineMapServices.add(tempOMS);
 			}catch(Exception ex){ 
-				if (f == null) (f=new MessageBox(&quot;Warning&quot;, &quot;Ignoring error while \n reading web map service definition file \n&quot;+ex.toString(), MessageBox.OKB)).exec();
+				if (f == null) (f=new MessageBox(MyLocale.getMsg(144, &quot;Warning&quot;), MyLocale.getMsg(4801, &quot;Ignoring error while \n reading web map service definition file \n&quot;)+ex.toString(), MessageBox.OKB)).exec();
 			}
 		}
 		tempOMS = new ExpediaMapService();
@@ -185,12 +187,12 @@
 			lon = topleft.lonDec;
 			for (int col = 1; col &lt;= numMapsX; col++) {
 				if (progressInfobox != null)
-					progressInfobox.setInfo(&quot;Downloading calibrated (georeferenced) \n map image \n '&quot; + currentOnlineMapService.getName()+&quot;' \n Downloading tile \n row &quot;+row+&quot; / &quot;+numMapsY+&quot; column &quot;+ col + &quot; / &quot;+numMapsX);
+					progressInfobox.setInfo(MyLocale.getMsg(4802, &quot;Downloading calibrated (georeferenced) \n map image \n '&quot;) + currentOnlineMapService.getName()+MyLocale.getMsg(4803, &quot;' \n Downloading tile \n row&quot;)+&quot; &quot;+row+&quot; / &quot;+numMapsY+MyLocale.getMsg(4804, &quot; column&quot;)+&quot; &quot;+ col + &quot; / &quot;+numMapsX);
 				center.set(lat, lon);
 				try {
 					downloadMap(center, tileScale, tilesSize, tilesPath);
 				} catch (Exception e) {
-					this.progressInfobox.addWarning(&quot;Tile &quot; + row + &quot;/&quot; + col + &quot;: Ignoring error: &quot; + e.getMessage()+&quot;\n&quot;);
+					this.progressInfobox.addWarning(MyLocale.getMsg(4805, &quot;Tile&quot;)+&quot; &quot; + row + &quot;/&quot; + col + MyLocale.getMsg(4806, &quot;: Ignoring error:&quot;)+&quot; &quot; + e.getMessage()+&quot;\n&quot;);
 				}
 				if (progressInfobox.isClosed) return;
 				lon += loninc;
@@ -269,13 +271,13 @@
 					}
 					i++;
 				}
-				if (i &gt; 4) throw new IOException(&quot;loadTo: failed to download map: didn't get http-redirect&quot;);
+				if (i &gt; 4) throw new IOException(MyLocale.getMsg(4807, &quot;loadTo: failed to download map: didn't get http-redirect&quot;));
 				String ct = (String)connImg.documentProperties.getValue(&quot;content-type&quot;, &quot;&quot;);
 				if (!ct.substring(0, 5).equalsIgnoreCase(&quot;image&quot;) )  {
 					String tmp = connImg.readText(sockImg, null).toString(); // TODO if the content is binary will will get an Exception in InfoBox, trying to display the content
 					tmp = tmp.substring(0, (tmp.length() &lt; 1000 ? tmp.length() : 1000));
 					sockImg.close();
-					throw new IOException(&quot;downloadImage: content-type: &quot; + ct + &quot; is not an image, begin of content: &quot; + tmp); 
+					throw new IOException(MyLocale.getMsg(4808, &quot;downloadImage: content-type:&quot;)+&quot; &quot; + ct + MyLocale.getMsg(4809, &quot; is not an image, begin of content:&quot;)+&quot; &quot; + tmp); 
 				}
 				daten = connImg.readData(sockImg);
 				fos = new FileOutputStream(dateiF);
@@ -285,7 +287,7 @@
 			}
 			//Vm.debug(&quot;done&quot;);
 		}catch(IOException e){
-			throw new IOException(&quot;Error while downloading or saving map:\n&quot; + e.getMessage());
+			throw new IOException(MyLocale.getMsg(4810, &quot;Error while downloading or saving map:\n&quot;) + e.getMessage());
 		}
 //		(new MessageBox(&quot;Error&quot;, &quot;Error saving calibration file:\n&quot;+e.getMessage(), MessageBox.OKB)).exec();
 
@@ -389,7 +391,7 @@
 
 	
 	protected MapInfoObject getMapInfoObjectInternal(Area maparea, Point pixelsize) {
-		throw new IllegalArgumentException(&quot;OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):\n This method must be overloaded in order to be able to use it&quot;);
+		throw new IllegalArgumentException(MyLocale.getMsg(4811, &quot;OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):\n This method must be overloaded in order to be able to use it&quot;));
 	}
 	
 	/**
@@ -434,29 +436,29 @@
 		String tmp = File.getFileExt(filename_);
 		this.filename = tmp.substring(0, tmp.lastIndexOf('.'));
 		name = wms.getProperty(&quot;Name&quot;, &quot;&quot;).trim();
-		if (name == &quot;&quot;) throw new IllegalArgumentException(&quot;WebMapService: property &gt;Name:&lt; missing in file:\n&quot; + filename);
+		if (name == &quot;&quot;) throw new IllegalArgumentException(MyLocale.getMsg(4812, &quot;WebMapService: property &gt;Name:&lt; missing in file:\n&quot;) + filename);
 		MainUrl = wms.getProperty(&quot;MainUrl&quot;, &quot;&quot;).trim();;
-		if (MainUrl == &quot;&quot;) throw new IllegalArgumentException(&quot;WebMapService: property &gt;MainUrl:&lt; missing in file:\n&quot; + filename);
+		if (MainUrl == &quot;&quot;) throw new IllegalArgumentException(MyLocale.getMsg(4813, &quot;WebMapService: property &gt;MainUrl:&lt; missing in file:\n&quot;) + filename);
 		mapType = wms.getProperty(&quot;MapType&quot;, &quot;maptype_unknown&quot;).trim();
 		serviceTypeUrlPart = wms.getProperty(&quot;ServiceTypeUrlPart&quot;, &quot;SERVICE=WMS&quot;).trim();
 		layersUrlPart = wms.getProperty(&quot;LayersUrlPart&quot;, &quot;&quot;).trim();;
 		versionUrlPart = wms.getProperty(&quot;VersionUrlPart&quot;, &quot;&quot;).trim();;
 		tmp = wms.getProperty(&quot;CoordinateReferenceSystemCacheWolf&quot;, &quot;&quot;).trim();
-		if (tmp.equals(&quot;&quot;)) throw new IllegalArgumentException(&quot;WebMapService: no CoordinateReferenceSystemCacheWolf given&quot;);
+		if (tmp.equals(&quot;&quot;)) throw new IllegalArgumentException(MyLocale.getMsg(4814, &quot;WebMapService: no CoordinateReferenceSystemCacheWolf given&quot;));
 		String[] tmp2 = mString.split(tmp, ' ');
 		coordinateReferenceSystem = new int[tmp2.length];
 		for (int i = 0; i &lt; tmp2.length; i++) {
 			coordinateReferenceSystem[i] = Convert.toInt(tmp2[i].trim());
-			if (!TransformCoordinates.isSupported(coordinateReferenceSystem[i])) throw new IllegalArgumentException(&quot;Coordinate reference system not supported by CacheWolf:\n&quot; + coordinateReferenceSystem[i]);
+			if (!TransformCoordinates.isSupported(coordinateReferenceSystem[i])) throw new IllegalArgumentException(MyLocale.getMsg(4815, &quot;Coordinate reference system not supported by CacheWolf:\n&quot;) + coordinateReferenceSystem[i]);
 		}
 		tmp = wms.getProperty(&quot;CoordinateReferenceSystemUrlPart&quot;, &quot;&quot;).trim();
-		if (tmp == &quot;&quot;) throw new IllegalArgumentException(&quot;CoordinateReferenceSystemUrlPart: property &gt;MainUrl:&lt; missing in file:\n&quot; + filename);
+		if (tmp == &quot;&quot;) throw new IllegalArgumentException(MyLocale.getMsg(4816, &quot;WebMapService: property &gt;CoordinateReferenceSystemUrlPart:&lt; missing in file:\n&quot;) + filename);
 		tmp2 = mString.split(tmp, ' ');
-		if (tmp2.length != coordinateReferenceSystem.length) throw new IllegalArgumentException(&quot;number of String in CoordinateReferenceSystemUrlPart (&quot;+tmp2.length+&quot;) must match the number of codes in CoordinateReferenceSystemCacheWolf (&quot;+coordinateReferenceSystem.length+&quot;) use normal space as separator&quot;);
+		if (tmp2.length != coordinateReferenceSystem.length) throw new IllegalArgumentException(MyLocale.getMsg(4817, &quot;number of strings in CoordinateReferenceSystemUrlPart (&quot;)+tmp2.length+MyLocale.getMsg(4818, &quot;) must match the number of codes in CoordinateReferenceSystemCacheWolf (&quot;)+coordinateReferenceSystem.length+MyLocale.getMsg(4819, &quot;) use normal space as separator&quot;));
 		coordinateReferenceSystemUrlPart = new String[tmp2.length];
 		for (int i = 0; i &lt; tmp2.length; i++) {
 			coordinateReferenceSystemUrlPart[i] = tmp2[i].trim();
-			if (coordinateReferenceSystemUrlPart[i] == &quot;&quot;) throw new IllegalArgumentException(&quot;CoordinateReferenceSystemUrlPart: property &gt;MainUrl:&lt; missing in file:\n&quot; + filename);
+			if (coordinateReferenceSystemUrlPart[i] == &quot;&quot;) throw new IllegalArgumentException(MyLocale.getMsg(4820, &quot;WebMapService: property &gt;CoordinateReferenceSystemUrlPart:&lt; incorrect in file:\n&quot;) + filename);
 		}
 		requestUrlPart = wms.getProperty(&quot;RequestUrlPart&quot;, &quot;REQUEST=GetMap&quot;).trim();
 		imageFormatUrlPart = wms.getProperty(&quot;ImageFormatUrlPart&quot;, &quot;&quot;).trim();
@@ -473,7 +475,7 @@
 		minscale = minscaleWMS / Math.sqrt(2); // in WMS scale is measured diagonal while in CacheWolf it is measured vertical
 		maxscale = maxscaleWMS / Math.sqrt(2);
 		imageFileExt = wms.getProperty(&quot;ImageFileExtension&quot;, &quot;&quot;).trim();
-		if (imageFileExt == &quot;&quot;) throw new IllegalArgumentException(&quot;WebMapService: property &gt;ImageFileExtension:&lt; missing in file:\n&quot; + filename);
+		if (imageFileExt == &quot;&quot;) throw new IllegalArgumentException(MyLocale.getMsg(4821, &quot;WebMapService: property &gt;ImageFileExtension:&lt; missing in file:\n&quot;) + filename);
 		recommendedScale = (float) Common.parseDouble(wms.getProperty(&quot;RecommendedScale&quot;, &quot;5&quot;).trim());
 	}
 
@@ -516,14 +518,14 @@
 	}
 
 	protected String getUrlForBoundingBoxInternal(Area maparea, Point pixelsize) {
-		if (!boundingBox.isOverlapping(maparea)) throw new IllegalArgumentException(&quot;area: &quot; + maparea.toString() + &quot; not covered by service: &quot; + name + &quot;, service area: &quot; + boundingBox.toString());
+		if (!boundingBox.isOverlapping(maparea)) throw new IllegalArgumentException(MyLocale.getMsg(4822, &quot;area:&quot;)+&quot; &quot; + maparea.toString() + MyLocale.getMsg(4823, &quot; not covered by service:&quot;)+&quot; &quot; + name + MyLocale.getMsg(4824, &quot;, service area:&quot;)+&quot; &quot; + boundingBox.toString());
 		// <A HREF="http://www.geoserver.nrw.de/GeoOgcWms1.3/servlet/TK25?SERVICE=WMS&amp;VERSION=1.1.0&amp;REQUEST=GetMap&amp;SRS=EPSG:31466&amp;BBOX=2577567.0149,5607721.7566,2578567.0077,5608721.7602&amp;WIDTH=500&amp;HEIGHT=500&amp;LAYERS=Raster:TK25_KMF:Farbkombination&amp;STYLES=&amp;FORMAT=image/png">http://www.geoserver.nrw.de/GeoOgcWms1.3/servlet/TK25?SERVICE=WMS&amp;VERSION=1.1.0&amp;REQUEST=GetMap&amp;SRS=EPSG:31466&amp;BBOX=2577567.0149,5607721.7566,2578567.0077,5608721.7602&amp;WIDTH=500&amp;HEIGHT=500&amp;LAYERS=Raster:TK25_KMF:Farbkombination&amp;STYLES=&amp;FORMAT=image/png</A>
 		CWPoint buttomleft = new CWPoint (maparea.buttomright.latDec, maparea.topleft.lonDec);
 		CWPoint topright = new CWPoint (maparea.topleft.latDec, maparea.buttomright.lonDec);
 		double scaleh = maparea.buttomright.getDistance(buttomleft) * 1000 / pixelsize.x; 
 		double scalev = maparea.topleft.getDistance(topright) * 1000 / pixelsize.y; 
 		double scale = Math.sqrt(scaleh * scaleh + scalev * scalev); // meters per pixel measured diagonal
-		if ( scale &lt; minscaleWMS || scale &gt; maxscaleWMS ) throw new IllegalArgumentException(&quot;scale &quot; + scale / Math.sqrt(2)+ &quot; not supported by online map service, supported scale range: &quot; + minscale + &quot; - &quot; + maxscale + &quot; (measured in meters per pixel vertically)&quot;);
+		if ( scale &lt; minscaleWMS || scale &gt; maxscaleWMS ) throw new IllegalArgumentException(MyLocale.getMsg(4825, &quot;scale&quot;)+&quot; &quot; + scale / Math.sqrt(2)+ MyLocale.getMsg(4826, &quot; not supported by online map service, supported scale range:&quot;)+&quot; &quot; + minscale + &quot; - &quot; + maxscale + MyLocale.getMsg(4827, &quot; (measured in meters per pixel vertically)&quot;));
 		int crs = 0;
 		String bbox = &quot;BBOX=&quot;;
 		if (TransformCoordinates.isGermanGk(coordinateReferenceSystem[0])) {
@@ -535,7 +537,7 @@
 			bbox += &quot;,&quot; + TransformCoordinates.wgs84ToGermanGk(topright, coordinateReferenceSystem[crs]).toString(2, &quot;&quot;, &quot;,&quot;);
 		} else if (coordinateReferenceSystem[0] == TransformCoordinates.EPSG_WGS84) 
 			bbox += buttomleft.toString(CWPoint.LON_LAT)  + &quot;,&quot; + topright.toString(CWPoint.LON_LAT);
-		else throw new IllegalArgumentException(&quot;Coordinate system not supported by cachewolf: &quot; + coordinateReferenceSystem.toString());
+		else throw new IllegalArgumentException(MyLocale.getMsg(4828, &quot;Coordinate system not supported by cachewolf:&quot;)+&quot; &quot; + coordinateReferenceSystem.toString());
 		String ret = MainUrl + &quot;SERVICE=WMS&quot; + &quot;&amp;&quot;+ versionUrlPart + &quot;&amp;&quot; + requestUrlPart + &quot;&amp;&quot; + 
 		coordinateReferenceSystemUrlPart[crs] + &quot;&amp;&quot; + bbox + 
 		&quot;&amp;WIDTH=&quot; + pixelsize.x + &quot;&amp;HEIGHT=&quot; + pixelsize.y + &quot;&amp;&quot; + 
@@ -557,13 +559,13 @@
 		if (coordinateReferenceSystem.length &gt; 1) {
 			GkPoint gkbl = TransformCoordinates.wgs84ToGermanGk(p); // TODO: think / read about what to do if buttom left and top right ae not in the same Gau&#223;-Kr&#252;ger stripe?
 			crs = TransformCoordinates.whichEpsg(coordinateReferenceSystem, gkbl);
-			if (crs &lt; 0) throw new IllegalArgumentException(&quot;getUrlForBoundingBox: Point: &quot; + gkbl.toString() + &quot;no matching Gau&#223;-Kr&#252;ger-Stripe in the EPSG-code list in the .wms&quot;);
+			if (crs &lt; 0) throw new IllegalArgumentException(MyLocale.getMsg(4829, &quot;getUrlForBoundingBox: Point:&quot;)+&quot; &quot; + gkbl.toString() + MyLocale.getMsg(4830, &quot;no matching Gau&#223;-Kr&#252;ger-Stripe in the EPSG-code list in the .wms&quot;));
 		}
 		return crs;
 	}
 
 	protected MapInfoObject getMapInfoObjectInternal(Area maparea, Point pixelsize) {
-		if (!boundingBox.isOverlapping(maparea)) throw new IllegalArgumentException(&quot;area: &quot; + maparea.toString() + &quot; not covered by service: &quot; + name + &quot;, service area: &quot; + boundingBox.toString());
+		if (!boundingBox.isOverlapping(maparea)) throw new IllegalArgumentException(MyLocale.getMsg(4822, &quot;area:&quot;)+&quot; &quot; + maparea.toString() + MyLocale.getMsg(4823, &quot; not covered by service:&quot;)+&quot; &quot; + name + MyLocale.getMsg(4824, &quot;, service area:&quot;)+&quot; &quot; + boundingBox.toString());
 		Vector georef = new Vector(4);
 
 		// calculate a rectangle in the according coordinate reference system
@@ -599,7 +601,7 @@
 			buttomright.shift(metersperpixalhorizontal, 0);
 			topright = new CWPoint (topleft.latDec, buttomright.lonDec);
 			buttomleft = new CWPoint (buttomright.latDec, topleft.lonDec);
-		} else throw new IllegalArgumentException(&quot;getMapInfoObject: Coordinate system not supported by cachewolf: &quot; + coordinateReferenceSystem);
+		} else throw new IllegalArgumentException(MyLocale.getMsg(4831, &quot;getMapInfoObject: Coordinate system not supported by cachewolf:&quot;)+&quot; &quot; + coordinateReferenceSystem);
 		georef.add(new GCPoint(topleft, new Point(0, 0)));
 		georef.add(new GCPoint(buttomright, new Point(pixelsize.x, pixelsize.y)));
 		georef.add(new GCPoint(topright, new Point(pixelsize.x, 0)));

Modified: trunk/src/CacheWolf/navi/MapLoaderGui.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-01-27 19:07:32 UTC (rev 1198)
+++ trunk/src/CacheWolf/navi/MapLoaderGui.java	2008-01-27 19:17:33 UTC (rev 1199)
@@ -17,6 +17,7 @@
  * @author pfeffer
  * This Class is the Dialog for Download calibrated from expedia.com
  * is called from 
+ *  * start offset for language file: 1800
  */
 
 public class MapLoaderGui extends Form {
@@ -26,24 +27,24 @@
 	CellPanel pnlTiles = new CellPanel();
 	CellPanel pnlPerCache = new CellPanel();
 
-	final String descString = &quot;Download georeferenced maps\n Select online service:&quot;;
+	final String descString = MyLocale.getMsg(1802,&quot;Download georeferenced maps\n Select online service:&quot;);
 	mChoice mapServiceChoice;
-	mCheckBox forCachesChkBox = new mCheckBox(&quot;for&quot;);
-	mChoice forSelectedChkBox = new mChoice(new String[] {&quot;all&quot;, &quot;selected&quot;}, 0);
-	mChoice forSelectedChkBoxPerCache = new mChoice(new String[] {&quot;all&quot;, &quot;selected&quot;}, 1);
-	mLabel cachesLbl = new mLabel(&quot;caches&quot;);
+	mCheckBox forCachesChkBox = new mCheckBox(MyLocale.getMsg(1803,&quot;for&quot;));
+	mChoice forSelectedChkBox = new mChoice(new String[] {MyLocale.getMsg(1804,&quot;all&quot;), MyLocale.getMsg(1805,&quot;selected&quot;)}, 0);
+	mChoice forSelectedChkBoxPerCache = new mChoice(new String[] {MyLocale.getMsg(1804,&quot;all&quot;), MyLocale.getMsg(1805,&quot;selected&quot;)}, 1);
+	mLabel cachesLbl = new mLabel(MyLocale.getMsg(1806,&quot;caches&quot;));
 	mInput distanceInput;
 	mLabel distLbl;
 	mLabel km = new mLabel(&quot;km&quot;);
 	mLabel coosLbl;
 	mButton coosBtn;
-	mLabel scaleLbl = new mLabel(&quot;Approx. m per pixel:&quot;);
+	mLabel scaleLbl = new mLabel(MyLocale.getMsg(1807,&quot;Approx. m per pixel:&quot;));
 	mInput scaleInput = new mInput (&quot;3&quot;);
 	mInput scaleInputPerCache = new mInput (&quot;1&quot;);
-	mLabel overlappingLbl = new mLabel(&quot;overlapping in pixel:&quot;);
+	mLabel overlappingLbl = new mLabel(MyLocale.getMsg(1808,&quot;overlapping in pixel:&quot;));
 	mInput overlappingInput = new mInput(&quot;100&quot;);
-	mCheckBox overviewChkBox = new mCheckBox(&quot;download an overview map&quot;);
-	mCheckBox overviewChkBoxPerCache = new mCheckBox(&quot;download an overview map&quot;);
+	mCheckBox overviewChkBox = new mCheckBox(MyLocale.getMsg(1809,&quot;download an overview map&quot;));
+	mCheckBox overviewChkBoxPerCache = new mCheckBox(MyLocale.getMsg(1809,&quot;download an overview map&quot;));
 
 	MapLoader mapLoader;
 	String[] unsortedMapServices;
@@ -81,13 +82,13 @@
 		pnlTiles.addNext(forCachesChkBox);
 		pnlTiles.addNext(forSelectedChkBox);
 		pnlTiles.addLast(cachesLbl);
-		pnlTiles.addNext(distLbl = new mLabel(MyLocale.getMsg(1802,&quot;Within a rectangle of:&quot;)),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
+		pnlTiles.addNext(distLbl = new mLabel(MyLocale.getMsg(1810,&quot;Within a rectangle of:&quot;)),CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		distanceInput = new mInput();
 		int tmp = Convert.toInt((Global.getProfile().distOC));
 		distanceInput.setText(Convert.toString((tmp &gt; 0 ? tmp : 15)));
 		pnlTiles.addNext(distanceInput,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		pnlTiles.addLast(km);
-		pnlTiles.addNext(coosLbl = new mLabel(MyLocale.getMsg(1803, &quot;around the centre: &quot;)));
+		pnlTiles.addNext(coosLbl = new mLabel(MyLocale.getMsg(1811, &quot;around the centre:&quot;)+&quot; &quot;));
 		pnlTiles.addLast(coosBtn = new mButton(center.toString()));
 		pnlTiles.addNext(scaleLbl);
 		mapLoader.setCurrentMapService(sortingMapServices[mapServiceChoice.selectedIndex]);
@@ -108,13 +109,13 @@
 		okBtiles.setHotKey(0, IKeys.ENTER);
 		pnlTiles.addLast(okBtiles,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));
 		updateForCachesState();
-		mTab.addCard(pnlTiles, MyLocale.getMsg(1804, &quot;Tiles&quot;), MyLocale.getMsg(1804, &quot;Tiles&quot;));
+		mTab.addCard(pnlTiles, MyLocale.getMsg(1812, &quot;Tiles&quot;), MyLocale.getMsg(1812, &quot;Tiles&quot;));
 
 		// per cache panel
-		pnlPerCache.addNext(new mLabel(&quot;Download one map for&quot;), CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
+		pnlPerCache.addNext(new mLabel(MyLocale.getMsg(1813, &quot;Download one map for&quot;)), CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
 		pnlPerCache.addNext(forSelectedChkBoxPerCache, CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
-		pnlPerCache.addLast(new mLabel(&quot;caches&quot;), CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
-		pnlPerCache.addNext(new mLabel(&quot;Approx. m per pixel&quot;), CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
+		pnlPerCache.addLast(new mLabel(MyLocale.getMsg(1806, &quot;caches&quot;)), CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
+		pnlPerCache.addNext(new mLabel(MyLocale.getMsg(1807, &quot;Approx. m per pixel&quot;)), CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
 		pnlPerCache.addLast(scaleInputPerCache, CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
 
 		cancelBPerCache = new mButton(MyLocale.getMsg(1604,&quot;Cancel&quot;));
@@ -125,7 +126,7 @@
 		okBPerCache.setHotKey(0, IKeys.ENTER);
 		pnlPerCache.addLast(okBPerCache, CellConstants.DONTSTRETCH, (CellConstants.DONTFILL));
 
-		mTab.addCard(pnlPerCache, MyLocale.getMsg(1805, &quot;Per cache&quot;), MyLocale.getMsg(1805, &quot;Per Cache&quot;));
+		mTab.addCard(pnlPerCache, MyLocale.getMsg(1814, &quot;Per cache&quot;), MyLocale.getMsg(1813, &quot;Per Cache&quot;));
 		this.addLast(mTab);
 	}
 
@@ -160,7 +161,7 @@
 		for (int i = 0; i &lt; sortingMapServices.length; i++) {
 			if (sortingMapServices[i] == originalindex) return i;
 		}
-		throw new IllegalStateException(&quot;getSortedMapServiceIndex: index &quot; + originalindex + &quot;not found&quot;);
+		throw new IllegalStateException(MyLocale.getMsg(1818, &quot;getSortedMapServiceIndex: index&quot;)+&quot; &quot; + originalindex + MyLocale.getMsg(1819, &quot;not found&quot;));
 	}
 
 	public String getMapsDir() {
@@ -172,7 +173,7 @@
 	public void downloadTiles() {
 		String mapsDir = getMapsDir();
 		if (mapsDir == null) return;
-		InfoBox progressBox = new InfoBox(&quot;Downloading georeferenced maps&quot;, &quot;Downloading georeferenced maps\n \n \n \n \n&quot;, InfoBox.PROGRESS_WITH_WARNINGS);
+		InfoBox progressBox = new InfoBox(MyLocale.getMsg(1815, &quot;Downloading georeferenced maps&quot;), MyLocale.getMsg(1816, &quot;Downloading georeferenced maps\n \n \n \n \n&quot;), InfoBox.PROGRESS_WITH_WARNINGS);
 		progressBox.setPreferredSize(220, 300);
 		progressBox.setInfoHeight(160);
 		progressBox.relayout(false);
@@ -183,7 +184,7 @@
 		if (forCachesChkBox.getState() || perCache) {
 			Area surArea = Global.getProfile().getSourroundingArea(onlySelected); // calculate map boundaries from cacheDB
 			if (surArea == null) {
-				(new MessageBox(&quot;Error&quot;, &quot;No Caches are seleted&quot;, MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(321, &quot;Error&quot;), MyLocale.getMsg(1817, &quot;No Caches are seleted&quot;), MessageBox.OKB)).execute();
 				Vm.showWait(false);
 				progressBox.close(0);
 				return;
@@ -194,12 +195,12 @@
 			mapLoader.setTiles(center, radius * 1000, scale, size, overlapping);
 		}
 		if (overviewmap) {
-			progressBox.setInfo(&quot;downloading overview map&quot;); 
+			progressBox.setInfo(MyLocale.getMsg(1824, &quot;downloading overview map&quot;)); 
 			float scale = MapLoader.getScale(center, radius * 1000, size);
 			try {
 				mapLoader.downloadMap(center, scale, size, mapsDir);
 			} catch (Exception e) {
-				progressBox.addWarning(&quot;Overview map: Ignoring error: &quot; + e.getMessage()+&quot;\n&quot;);
+				progressBox.addWarning(MyLocale.getMsg(1825, &quot;Overview map: Ignoring error:&quot;)+&quot; &quot; + e.getMessage()+&quot;\n&quot;);
 			}
 		}
 		if (!perCache){  // download tiles
@@ -220,18 +221,18 @@
 					}
 					if (ch.pos.isValid() &amp;&amp; ch.pos.latDec != 0 &amp;&amp; ch.pos.lonDec != 0) { // TODO != 0 sollte verschwinden, sobald das handling von nicht gesetzten Koos &#252;berall korrekt ist
 						numdownloaded++;
-						progressBox.setInfo(&quot;Downloading map '&quot;+mapLoader.currentOnlineMapService.getName()+&quot;'\n&quot;+numdownloaded+&quot; / &quot;+numCaches+&quot;\n for cache:\n&quot;+ch.CacheName);
+						progressBox.setInfo(MyLocale.getMsg(1820, &quot;Downloading map '&quot;)+mapLoader.currentOnlineMapService.getName()+&quot;'\n&quot;+numdownloaded+&quot; / &quot;+numCaches+MyLocale.getMsg(1821, &quot;\n for cache:\n&quot;)+ch.CacheName);
 						try {
 							mapLoader.downloadMap(ch.pos, scale, size, mapsDir);
 						} catch (Exception e) {
-							progressBox.addWarning(&quot;Cache: &quot; + ch.CacheName + &quot;(&quot; + ch.wayPoint + &quot;) Ignoring error: &quot; + e.getMessage()+&quot;\n&quot;);
+							progressBox.addWarning(MyLocale.getMsg(1822, &quot;Cache:&quot;)+&quot; &quot; + ch.CacheName + &quot;(&quot; + ch.wayPoint + &quot;) &quot;+MyLocale.getMsg(1823, &quot;Ignoring error:&quot;)+&quot; &quot; + e.getMessage()+&quot;\n&quot;);
 						}
 					}
 				}
 			}
 		}
 		Vm.showWait(false);
-		progressBox.addWarning(&quot;Finished downloading and calibration of maps&quot;);
+		progressBox.addWarning(MyLocale.getMsg(1826, &quot;Finished downloading and calibration of maps&quot;));
 		progressBox.addOkButton();
 		progressBox.waitUntilClosed();
 		mapLoader.setProgressInfoBox(null);
@@ -272,7 +273,7 @@
 				mapLoader.setCurrentMapService(sortingMapServices[mapServiceChoice.selectedIndex]);
 				if (ev.target == okBtiles) { // get tiles
 					perCache = false;
-					if (forSelectedChkBox.getSelectedItem().toString().equalsIgnoreCase(&quot;all&quot;)) onlySelected = false;
+					if (forSelectedChkBox.getSelectedItem().toString().equalsIgnoreCase(MyLocale.getMsg(1804, &quot;all&quot;))) onlySelected = false;
 					else onlySelected = true;
 					overviewmap = overviewChkBox.getState();
 					radius = Convert.toFloat(distanceInput.getText());
@@ -280,27 +281,27 @@
 					overlapping = Convert.toInt(overlappingInput.getText());
 					if (!forCachesChkBox.getState()) {
 						if (radius &lt;= 0) { 
-							(new MessageBox(&quot;Error&quot;, &quot;'radius' must be graeter than null&quot;, MessageBox.OKB)).execute();
+							(new MessageBox(MyLocale.getMsg(321, &quot;Error&quot;), MyLocale.getMsg(1827, &quot;'radius' must be graeter than 0&quot;), MessageBox.OKB)).execute();
 							return;
 						}
 						if (overlapping &lt; 0) { 
-							(new MessageBox(&quot;Error&quot;, &quot;'overlapping' must be greater or equal 0 &quot;, MessageBox.OKB)).execute();
+							(new MessageBox(MyLocale.getMsg(321, &quot;Error&quot;), MyLocale.getMsg(1828, &quot;'overlapping' must be greater or equal 0&quot;), MessageBox.OKB)).execute();
 							return;
 						}
 						if (!center.isValid() &amp;&amp; !forCachesChkBox.getState()) {
-							(new MessageBox(&quot;Error&quot;, &quot;Please enter the 'centre' around which the maps shall be downloaded&quot;, MessageBox.OKB)).execute();
+							(new MessageBox(MyLocale.getMsg(321, &quot;Error&quot;), MyLocale.getMsg(1829, &quot;Please enter the 'centre' around which the maps shall be downloaded&quot;), MessageBox.OKB)).execute();
 							return;
 						}
 					}
 				} else { // per cache
 					perCache = true;
-					if (forSelectedChkBoxPerCache.getSelectedItem().toString().equalsIgnoreCase(&quot;all&quot;)) onlySelected = false;
+					if (forSelectedChkBoxPerCache.getSelectedItem().toString().equalsIgnoreCase(MyLocale.getMsg(1804, &quot;all&quot;))) onlySelected = false;
 					else onlySelected = true;
 					overviewmap = overviewChkBoxPerCache.getState();
 					scale = Convert.toFloat(scaleInputPerCache.getText());
 				}
 				if (scale &lt; mapLoader.currentOnlineMapService.minscale || scale &gt; mapLoader.currentOnlineMapService.maxscale) {
-					(new MessageBox(&quot;Error&quot;, &quot;The selected online map service provides map in the scale from &quot; + mapLoader.currentOnlineMapService.minscale + &quot; to &quot;+ mapLoader.currentOnlineMapService.maxscale +&quot;\n please adjust 'Approx. meter pro pixel' accordingly&quot;, MessageBox.OKB)).execute();
+					(new MessageBox(MyLocale.getMsg(321, &quot;Error&quot;), MyLocale.getMsg(1830, &quot;The selected online map service provides map in the scale from&quot;)+&quot; &quot; + mapLoader.currentOnlineMapService.minscale + MyLocale.getMsg(1831, &quot; to&quot;)+&quot; &quot;+ mapLoader.currentOnlineMapService.maxscale +MyLocale.getMsg(1832, &quot;\n please adjust 'Approx. meter pro pixel' accordingly&quot;), MessageBox.OKB)).execute();
 					return;
 				}
 				this.close(Form.IDOK); 

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2008-01-27 19:07:32 UTC (rev 1198)
+++ trunk/src/CacheWolf/navi/MapsList.java	2008-01-27 19:17:33 UTC (rev 1199)
@@ -3,6 +3,7 @@
 import CacheWolf.CWPoint;
 import CacheWolf.Common;
 import CacheWolf.InfoBox;
+import CacheWolf.MyLocale;
 import utils.FileBugfix;
 import ewe.io.CompressedRandomStream;
 import ewe.io.File;
@@ -20,7 +21,7 @@
  * class to handle a list of maps
  * it loads the list, finds the best map for a given location,
  * says if a map is available for a given lat lon at a given scale
- * @author r
+ * start offset for language file: 4700
  *
  */
 public class MapsList extends Vector {
@@ -60,7 +61,7 @@
 					add(tempMIO);
 					//ewe.sys.Vm.debug(tempMIO.getEasyFindString() + tempMIO.mapName);
 				}catch(Exception ex){ // TODO exception ist, glaub ich evtl &#252;berfl&#252;ssig 
-					if (f == null) (f=new MessageBox(&quot;Warning&quot;, &quot;Ignoring error while \n reading calibration file \n&quot;+ex.toString(), MessageBox.OKB)).exec();
+					if (f == null) (f=new MessageBox(MyLocale.getMsg(144, &quot;Warning&quot;), MyLocale.getMsg(4700, &quot;Ignoring error while \n reading calibration file \n&quot;)+ex.toString(), MessageBox.OKB)).exec();
 				} /* catch(ArithmeticException ex){ // affine contain not allowed values 
 					if (f == null) (f=new MessageBox(&quot;Warning&quot;, &quot;Ignoring error while \n reading calibration file \n&quot;+ex.toString(), MessageBox.OKB)).exec();
 				} */
@@ -118,7 +119,7 @@
 		for (int i=size()-1; i &gt;= 0 ;i--) {
 			if (!showprogress &amp;&amp; ((i &amp; 31) == 0) &amp;&amp; (new Time().getTime()-start  &gt; 100) ) { // reason for (i &amp; 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(&quot;Info&quot;, &quot;Searching for best map&quot;);
+				progressBox = new InfoBox(MyLocale.getMsg(327,&quot;Info&quot;), MyLocale.getMsg(4701,&quot;Searching for best map&quot;));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -197,7 +198,7 @@
 		for (int i=size() -1; i&gt;=0 ;i--) {
 			if (!showprogress &amp;&amp; ((i &amp; 31) == 0) &amp;&amp; (new Time().getTime()-start  &gt; 100) ) { // reason for (i &amp; 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(&quot;Info&quot;, &quot;Searching for best map&quot;);
+				progressBox = new InfoBox(MyLocale.getMsg(327,&quot;Info&quot;), MyLocale.getMsg(4701,&quot;Searching for best map&quot;));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -266,7 +267,7 @@
 		for (int i=size()-1; i &gt;= 0 ;i--) { 
 			if (!showprogress &amp;&amp; ((i &amp; 31) == 0) &amp;&amp; (new Time().getTime()-start  &gt; 100) ) { // reason for (i &amp; 7 == 0): test time only after i is incremented 15 times
 				showprogress = true;      
-				progressBox = new InfoBox(&quot;Info&quot;, &quot;Searching for best map&quot;);
+				progressBox = new InfoBox(MyLocale.getMsg(327,&quot;Info&quot;), MyLocale.getMsg(4701,&quot;Searching for best map&quot;));
 				progressBox.exec(); 
 				progressBox.waitUntilPainted(100);
 				ewe.sys.Vm.showWait(true);
@@ -441,10 +442,10 @@
 				sortEntryBBox = &quot;FF1&quot;+map.getEasyFindString();
 				ewe.sys.Vm.debug(sortEntryBBox + &quot;: &quot;+filename);
 				if (rename == 0) { // never asked before
-					if ( (new MessageBox(&quot;Optmisiation&quot;, &quot;Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?\n It can take several minutes&quot;, 
+					if ( (new MessageBox(MyLocale.getMsg(4702,&quot;Optimisation&quot;), MyLocale.getMsg(4703,&quot;Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?\n It can take several minutes&quot;), 
 							MessageBox.YESB | MessageBox.NOB)).execute() == MessageBox.IDYES)
 					{
-						renameProgressInfoB = new InfoBox(&quot;Info&quot;, &quot;\nRenaming file:    \n&quot;);
+						renameProgressInfoB = new InfoBox(MyLocale.getMsg(327,&quot;Info&quot;), MyLocale.getMsg(4704,&quot;\nRenaming file:&quot;)+&quot;    \n&quot;);
 						renameProgressInfoB.exec();
 						renameProgressInfoB.waitUntilPainted(100);
 						rename = 1; // rename
@@ -452,21 +453,21 @@
 				}
 				if (rename == 1) {
 					renameCounter++;
-					renameProgressInfoB.setInfo(&quot;\nRenaming file: &quot; + renameCounter+&quot;\n&quot;);
+					renameProgressInfoB.setInfo(MyLocale.getMsg(4704,&quot;\nRenaming file:&quot;)+&quot; &quot; + renameCounter+&quot;\n&quot;);
 					String f = path+filename+&quot;.wfl&quot;;
 					String to = sortEntryBBox+&quot;E-&quot;+filename+&quot;.wfl&quot;;
 					if (!new File(f).rename(to))
-						(new MessageBox(&quot;Error&quot;, &quot;Failed to rename:\n&quot;+f+&quot;.wfl&quot;+&quot;\nto:\n&quot;+to, MessageBox.OKB)).exec();
+						(new MessageBox(MyLocale.getMsg(321,&quot;Error&quot;), MyLocale.getMsg(4705,&quot;Failed to rename:\n&quot;)+f+&quot;.wfl&quot;+MyLocale.getMsg(4706,&quot;\nto:\n&quot;)+to, MessageBox.OKB)).exec();
 					f = Common.getImageName(path+filename);
 					to = sortEntryBBox+&quot;E-&quot;+filename+Common.getFilenameExtension(f);
 					if (!new File(f).rename(to)) 
-						(new MessageBox(&quot;Error&quot;, &quot;Failed to rename:\n&quot;+f+&quot;.wfl&quot;+&quot;\nto:\n&quot;+to, MessageBox.OKB)).exec();
+						(new MessageBox(MyLocale.getMsg(321,&quot;Error&quot;), MyLocale.getMsg(4705,&quot;Failed to rename:\n&quot;)+f+&quot;.wfl&quot;+MyLocale.getMsg(4706,&quot;\nto:\n&quot;)+to, MessageBox.OKB)).exec();
 					filename = sortEntryBBox+&quot;E-&quot;+filename;
 					map.mapName = sortEntryBBox+&quot;E-&quot;+map.mapName;
 					map.fileNameWFL = path + filename + &quot;.wfl&quot;;
 				}
 			} catch (IOException ioex) { // this should not happen
-				(new MessageBox(&quot;Error&quot;, &quot;Error while reading: &quot;+path+filename+&quot;: &quot;+ ioex.getMessage(), MessageBox.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(321,&quot;Error&quot;), MyLocale.getMsg(4706,&quot;Error while reading:&quot;)+&quot; &quot;+path+filename+&quot;: &quot;+ ioex.getMessage(), MessageBox.OKB)).exec();
 			}
 		}
 	}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001092.html">[Cachewolf-svn] r1198 - in trunk: res_noewe/languages	src/CacheWolf/navi
</A></li>
	<LI>Next message: <A HREF="001094.html">[Cachewolf-svn] r1200 - in trunk: res_noewe resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1093">[ date ]</a>
              <a href="thread.html#1093">[ thread ]</a>
              <a href="subject.html#1093">[ subject ]</a>
              <a href="author.html#1093">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
