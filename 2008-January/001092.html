<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r1198 - in trunk: res_noewe/languages	src/CacheWolf/navi
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1198%20-%20in%20trunk%3A%20res_noewe/languages%0A%09src/CacheWolf/navi&In-Reply-To=%3C200801271907.m0RJ7ltH010005%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001091.html">
   <LINK REL="Next"  HREF="001093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r1198 - in trunk: res_noewe/languages	src/CacheWolf/navi</H1>
    <B>pfeffer at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1198%20-%20in%20trunk%3A%20res_noewe/languages%0A%09src/CacheWolf/navi&In-Reply-To=%3C200801271907.m0RJ7ltH010005%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r1198 - in trunk: res_noewe/languages	src/CacheWolf/navi">pfeffer at mail.berlios.de
       </A><BR>
    <I>Sun Jan 27 20:07:47 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001091.html">[Cachewolf-svn] r1197 - trunk/src/CacheWolf
</A></li>
        <LI>Next message: <A HREF="001093.html">[Cachewolf-svn] r1199 - in trunk: res_noewe/languages	src/CacheWolf/navi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1092">[ date ]</a>
              <a href="thread.html#1092">[ thread ]</a>
              <a href="subject.html#1092">[ subject ]</a>
              <a href="author.html#1092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: pfeffer
Date: 2008-01-27 20:07:32 +0100 (Sun, 27 Jan 2008)
New Revision: 1198

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/src/CacheWolf/navi/MapInfoObject.java
   trunk/src/CacheWolf/navi/MovingMap.java
   trunk/src/CacheWolf/navi/Navigate.java
   trunk/src/CacheWolf/navi/SkyOrientation.java
   trunk/src/CacheWolf/navi/TransformCoordinates.java
   trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java
Log:
navi: languages lokalised for a big part, mainly in the MovingMap

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2008-01-25 21:47:24 UTC (rev 1197)
+++ trunk/res_noewe/languages/DE.cfg	2008-01-27 19:07:32 UTC (rev 1198)
@@ -127,7 +127,7 @@
 		323=Fehler beim Schreiben der Datei
 		324= - neu versuchen?
 		325=Zuwenige Referenzpunkte, Karte nicht kalibriert
-		326=Es steht keine kalibrierte Karte zur Verf%fcgung %0a Bitte w%e4hlen Sie einen Ma%dfstab,%0a in dem der Track und die markierten Caches angezeigt werden sollen
+		326=
 		327=Information
 		328=Gefunden am
 		329=Versteckt am
@@ -501,17 +501,91 @@
 		4119=Keine Kalibrierungsdatei gefunden f&#252;r:+
 		4120=Fertig.
 		4200=Kartenverzeichnis w%e4hlen
+		4201=Information
+		4203=Lade Kartenliste...
+		4204=Es steht keine kalibrierte Karte zur Verf%fcgung %0a Bitte w%e4hlen Sie einen Ma%dfstab,%0a in dem der Track und die markierten Caches angezeigt werden sollen
+		4205=Es steht keine kalibrierte Karte zur Verf%fcgung %0a Sie k%f6nnen Karten herunterladen im Hauptmen%fc: Anwendung/Karten/kalibrierte herunterladen
+		4206=Entf:+
+		4207=Fehler
+		4208=Programmfehler: %0a nichterlaubter mapChangeModus:+
+		4210=Die mitwandernde Karte kann nicht ohne Karte gestartet werden. %0a Bitte w%e4hlen Sie eine %0a (evtl. eine leere)
+		4211=Keine+
+		4212=%fcbersichtlichere
+		4213=detailliertere
+		4214=+Karte verf%fcgbar
+		4215=Keine Caches mit H%e4ckchen ausgew%e4hlt
+		4216=Lade Karte...
+		4217=Konnte zu folgender Datei geh%f6rendes Bild nicht finden: %0a
+		4218=Konnte folgende Karte nicht laden: %0a
+		4219=Nicht genug (RAM)-Speicher frei, %0a um folgende Karte zu laden: %0a
+		4220=%0aSie k%f6nnen versuchen, %0a alle Programme zu schlie%dfen %0a und CacheWolf neuzustarten
+		4221=Nicht gen%fcgend Ressourcen verf%fcgbar:+
+		4222=Fehler: (RAM) Speicher voll
+		4230=Setze Ziel hier$z
+		4231=Setze Ziel hier
+		4232=Hier neuen Wegpunkt erzeugen$n
+		4233=Hier neuen Wegpunkt erzeugen
+		4234=Karte manuell ausw%e4hlen$s
+		4235=Karte manuell ausw%e4hlen
+		4236=Kartenverzeichnis wechseln$c
+		4237=Kartenverzeichnis wechseln
+		4238=Karte anzeigen
+		4239=Karte anzeigen
+		4240=Karte ausblenden
+		4241=Karte ausblenden
+		4242=Modus f%fcr automatischen Kartenwechsel
+		4244=H&#246;chsten Detailgrad, die aktuelle und Zielposition enth&#228;lt
+		4245=H&#246;chsten Detailgrad, die aktuelle und Zielposition enth&#228;lt
+		4246=H&#246;chster verf&#252;gbarer Detaillierungsgrad
+		4247=H&#246;chster verf&#252;gbare Detaillierungsgrad
+		4248=Manuellen Detaillierungsgrad m&#246;glichst beibehalten
+		4249=Manuellen Detaillierungsgrad m&#246;glichst beibehalten
+		4250=Detaillierungsgrad manuell w&#228;hlen
+		4252=Karte laden, die alle markierten Caches enth&#228;lt
+		4253=Karte laden, die alle markierten Caches enth&#228;lt
+		4254=Karte mit mehr Details laden
+		4255=Karte mit mehr Details laden
+		4256=Karte mir mehr &#220;berblick laden
+		4257=Karte mir mehr &#220;berblick laden
+		4258=Karte verschieben und neue laden		
+		4260=Karte zum Ziel verschieben
+		4261=Karte zum Ziel verschieben
+		4262=Karte zum GPS verschieben
+		4263=Karte zum GPS verschieben
+		4264=Karte zum Zentrum verschieben
+		4265=Karte zum Zentrum verschieben
+		4270=&#214;ffne
+		4271=Karten
+		4272=--- Karten von akt. Position und Ziel ---
+		4273=--- Karten der aktuellen Position ---
+		4274=--- Karten des Ziels ---
+		4275=--- Andere Karten ---
+		4276=Abbrechen
+		4277=Ausw&#228;hlen
+		4278=Kann folgende .wfl-Datei nicht laden:+%0a
 		4300=Leer 1 Punkt =+
 		4301=+meter
 		4302=Breite/L%e4nge au&#223;erhalb des zul%e4ssigen Bereiches beim Lesen von+
 		4303=Zu wenig Zeilen in Datei+
 		4304=Zu wenig Punkte, um die Karte zu kalibrieren
-		4305=Ung&#252;ltige Transformationsparameter%0a (Matrix kann nicht invertiert werden)%0a in der Datei %0a
+		4305=Ung%fcltige Transformationsparameter%0a (Matrix kann nicht invertiert werden)%0a in der Datei %0a
 		4306=Karte ist nicht georeferenziert
+		4400=Warnung
+		4401=Ignoriere Fehler: Konnte Daten nicht an Host weiterleiten:%0a
+		4402=F&#252;r einen neuen Versuch, stoppe und starte GPS neu
+		4403=Fehler
+		4404=Konnte keine Verbindung zum GPS-Empf&#228;nger %0a herstellen. Fehler beim &#246;ffnen des seriellen Ports%0a
+		4405=M&#246;gliche Gr&#252;nde:%0a Falscher Port %0a Ein anderes Programm blokiert den Anschluss %0a Auf Loox-Ger&#228;ten: ge&#246;ffneter Infrarot-Port blockiert das GPS
 		4500=Ges:
 		4501=Gez:
 		4502=Gef:
 		4600=Nicht alle Caches k%f6nnen angezeigt werden. Inkompatibler Blacklist Status.
+		4900=+ist keine deutsche Gau&#223;-Kr&#252;ger-Koordinate
+		4920=EPSG-Code+
+		4921=+nicht unterst&#252;tzt
+		4922=EPSG code fehlt in:+%0a
+		4923=fromWgs84: EPSG code+
+		4924=ToWgs84: EPSG code+
 		5000=Lade Cacheliste
 		5497=Fehler: Ein Tag in spider.def fehlt
 		5498=Login nicht m%f6glich. Fehler beim Laden der Seite nach Login.

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2008-01-25 21:47:24 UTC (rev 1197)
+++ trunk/res_noewe/languages/EN.cfg	2008-01-27 19:07:32 UTC (rev 1198)
@@ -495,6 +495,61 @@
 		4119=No calibration file found for:+
 		4120=done.
 		4200=Choose map directory
+		4201=Information
+		4203=Loading list of maps...
+		4206=Dist:+
+		4207=Error
+		4208=Bug: %0aillegal mapChangeModus:+
+		4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
+		4211=No+
+		4212=less
+		4213=more
+		4214=+detailed map available
+		4215=No caches selected by check mark
+		4216=Loading map...
+		4217=Could not find image associated with: %0a
+		4218=Could not load map: %0a
+		4219=Not enough memory to load map: %0a
+		4220=%0a You can try to close %0a all prgrams and %0a restart CacheWolf
+		4221=Not enough ressources to load map:+
+		4222=Out of memory error
+		4230=Goto here$g
+		4232=Create new Waypoint here$n
+		4234=Select a map manually$s
+		4236=Change map directory$c
+		4237=Change map directory
+		4238=Show map
+		4239=Show map
+		4240=Hide map
+		4241=Hide map
+		4242=Modus for automatic map change
+		4244=Highest res. containing dest. &amp; cur. position
+		4246=Highest resolution
+		4247=Highest resolution
+		4248=Keep manual resolution
+		4249=Keep manual resolution
+		4250=Change resolution manually
+		4252=Load a map containing all marked caches
+		4253=Load a map containing all marked caches
+		4254=Load a map with more details
+		4255=Load a map with more details
+		4256=Load a map for a better overview
+		4257=Load a map for a better overview
+		4258=Move map to and load map
+		4260=Move map to goto point
+		4261=Move map to goto point
+		4262=Move map to GPS position
+		4263=Move map to GPS position
+		4264=Move map to centre
+		4265=Move map to centre
+		4270=Open
+		4271=--- Maps containing GPS and goto pos. ---
+		4273=--- Maps containing curr. position ---
+		4274=--- Maps containing goto position ---
+		4275=--- Other maps ---
+		4276=Cancel
+		4277=Select
+		4278=Cannot load wfl-file: \n
 		4300=empty 1 Pixel =+
 		4301=+meters
 		4302=Lat/Lon out of range while reading+
@@ -502,10 +557,22 @@
 		4304=not enough points to calibrate the map
 		4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file %0a
 		4306=map not calibrated
+		4400=Warning
+		4401=Ignoring error:%0a could not forward GPS data to host:%0a
+		4402=%0astop and start GPS to retry
+		4403=Error
+		4404=Could not connect to GPS-receiver.%0a Error while opening serial Port%0a
+		4405=%0apossible reasons:\n Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS&quot;
 		4500=Tot:
 		4501=Vis:
 		4502=Fnd:
 		4600=Some cache(s) cannot be shown because of wrong blacklist status
+		4900=+is not a german Gauss-Krueger coordinate
+		4920=EPSG code+
+		4921=+not supported
+		4922=EPSG code missing in:+
+		4923=fromWgs84: EPSG code+
+		4924=ToWgs84: EPSG code+
 		5498=Login failed. Error loading page after login. 
 		5499=Error loading login page
 		5000=Load Cachelist

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2008-01-25 21:47:24 UTC (rev 1197)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2008-01-27 19:07:32 UTC (rev 1198)
@@ -311,8 +311,8 @@
 			double gamma = beta - rotationRad;
 			double heightkm = diagonal * Math.cos(gamma);
 			// double metersPerLat = 1000*(new CWPoint(0,0)).getDistance(new CWPoint(1,0));
-			CWPoint buttomleftimage = topleft.project(rotationRad * 180 / Math.PI + 180, heightkm);
-			CWPoint buttomleftimage2 = calcLatLon(0, heightpixel);
+			//CWPoint buttomleftimage = topleft.project(rotationRad * 180 / Math.PI + 180, heightkm);
+			//CWPoint buttomleftimage2 = calcLatLon(0, heightpixel);
 			//double kw = buttomleftimage.getDistance(buttomleftimage2);
 			//double kw2 = buttomleftimage.getBearing(buttomleftimage2);
 			//Vm.debug(&quot;project test: &quot; + buttomleftimage.getDistance(topleft));

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2008-01-25 21:47:24 UTC (rev 1197)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2008-01-27 19:07:32 UTC (rev 1198)
@@ -86,7 +86,7 @@
 		this.hasTopBar = false;
 		this.noBorder = true;
 		this.setPreferredSize(pref.myAppWidth, pref.myAppHeight);
-		this.title = &quot;Moving Map&quot;;
+		this.title = &quot;Moving Map&quot;; 
 		this.backGround = new Color(254,254,254); // background must not be black because black is interpreted as transparent and transparent images above (eg trackoverlay) want be drawn in windows-VM, so be care, don|t use white either
 		//this.mapPath = Global.getPref().getMapLoadPath();
 
@@ -180,18 +180,18 @@
 		//this.mapPath = mapsPath;
 		Vm.showWait(this, true);
 		resetCenterOfMap();
-		InfoBox inf = new InfoBox(&quot;Info&quot;, &quot;Loading list of maps...&quot;);
+		InfoBox inf = new InfoBox(MyLocale.getMsg(4201, &quot;Info&quot;), MyLocale.getMsg(4203, &quot;Loading list of maps...&quot;));
 		inf.exec();
 		inf.waitUntilPainted(100);
 		boolean saveGpsIgnoreStatus = dontUpdatePos;
 		dontUpdatePos = true;
 		maps = new MapsList(mapsPath); // this actually loads the maps
 		if (maps.isEmpty()) {
-			(new MessageBox(MyLocale.getMsg(327, &quot;Information&quot;), MyLocale.getMsg(326, &quot;Es steht keine kalibrierte Karte zur Verf&#252;gung \n Bitte w&#228;hlen Sie einen Ma&#223;stab,\n in dem der Track und die markierten Caches angezeigt werden sollen&quot;), MessageBox.OKB)).execute();
-			(new MessageBox(MyLocale.getMsg(327, &quot;Information&quot;), MyLocale.getMsg(326, &quot;Es steht keine kalibrierte Karte zur Verf&#252;gung \n Sie k&#246;nnen eine herunter laden im Hauptmen&#252;: Anwendung/Karten/kalibrierte herunterladen&quot;), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4201, &quot;Information&quot;), MyLocale.getMsg(4204, &quot;No georeferenced map available \n Please choose a scale \n to show the track and the caches&quot;), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4201, &quot;Information&quot;), MyLocale.getMsg(4205, &quot;No georeferenced map available  \n you can get one by the menu: Application/Maps/download calibrated&quot;), MessageBox.OKB)).execute();
 			noMapsAvailable = true;
 		} else noMapsAvailable = false;
-		maps.addEmptyMaps(lat);
+		maps.addEmptyMaps(lat); // the empty maps must be added last, otherwise in method setBestMap, when no mapt is available, a malfunction will happen, see there
 		dontUpdatePos = saveGpsIgnoreStatus;
 		inf.close(0);
 		Vm.showWait(this, false);
@@ -250,13 +250,13 @@
 				if (dd.value &lt; 1) {
 					dd.value = dd.value * 1000; 
 					dd.decimalPlaces = 0;
-					d = &quot;Dist: &quot; + dd.toString() + &quot;m&quot;;
+					d = MyLocale.getMsg(4206, &quot;Dist: &quot;) + dd.toString() + &quot;m&quot;;
 					int digits = (int)java.lang.Math.floor( java.lang.Math.log(dd.value) / java.lang.Math.log(10.0) );
 					digits = java.lang.Math.max(0, digits);
 				} 
 				else {
 					dd.decimalPlaces = 2;
-					d = &quot;Dist: &quot; + dd.toString() + &quot;km&quot;;
+					d = MyLocale.getMsg(4206, &quot;Dist: &quot;) + dd.toString() + &quot;km&quot;;
 					int digits = (int)java.lang.Math.floor( java.lang.Math.log(dd.value) / java.lang.Math.log(10.0) );
 					digits = java.lang.Math.max(0, digits);
 				}
@@ -835,7 +835,7 @@
 	 */
 	public void updatePosition(CWPoint where){
 		if (dontUpdatePos || loadingMapList) return; // avoid multi-threading problems
-		Vm.debug(&quot;updatepos, lat: &quot;+where.latDec+&quot; lon: &quot;+where.lonDec);
+		//Vm.debug(&quot;updatepos, lat: &quot;+where.latDec+&quot; lon: &quot;+where.lonDec);
 		if (!mapsloaded) {
 			loadMaps(Global.getPref().getMapLoadPath(), where.latDec);
 			lastCompareX = Integer.MAX_VALUE;
@@ -929,11 +929,11 @@
 			//	either Goto-Pos or GPS-Pos not set
 			else newmap = maps.getBestMap(cll, screen, 0.000001f, false); 
 			break;
-		default: (new MessageBox(&quot;Error&quot;, &quot;Programmfehler: \nillegal mapChangeModus: &quot; + mapChangeModus, MessageBox.OKB)).execute(); break;
+		default: (new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4208, &quot;Bug: \nillegal mapChangeModus: &quot;) + mapChangeModus, MessageBox.OKB)).execute(); break;
 		}
 		if ( newmap != null &amp;&amp; (currentMap == null || !currentMap.mapName.equals(newmap.mapName)) ) {
 			if (loadIfSameScale || !MapsList.scaleEquals(currentMap.scale / currentMap.zoomFactor, newmap) ) {
-				Vm.debug(&quot;better map found&quot;);
+				//Vm.debug(&quot;better map found&quot;);
 				setMap(newmap, where);
 				moveScreenXYtoLatLon(new Point(screen.x, screen.y), cll, true);
 			}
@@ -945,10 +945,10 @@
 			posCircle.where.set(cll); // choosemap calls setmap with posCircle-coos
 			try {
 				setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), where); // beware: &quot;-4&quot; only works if the empty maps were added last see MapsList.addEmptyMaps
-			} catch (IOException e) { (new MessageBox(&quot;Error&quot;, &quot;setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:&quot; + where.toString(), MessageBox.OKB)).exec(); }
-			while (currentMap == null) {
-				mmp.chooseMap(); // force the user to select a scale // TODO empty maps on top?
-				if (currentMap == null) (new MessageBox(&quot;Error&quot;, &quot;Moving map cannot run without a map - please select one. \n You can select an empty map&quot;, MessageBox.OKB)).execute();
+			} catch (IOException e) { (new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4209, &quot;setBestMap: problem in: setMap( ((MapListEntry)maps.elementAt(maps.getCount() - 4)).getMap(), lat, lon) lat/lon:&quot;) + where.toString(), MessageBox.OKB)).exec(); }
+			while (currentMap == null) { // this actually cannot happen, but maybe in case of an inconstistent code change (esp. regarding empty maps)
+				mmp.chooseMap(); // force the user to select a scale 
+				 if (currentMap == null) (new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4210, &quot;Moving map cannot run without a map - please select one. \n You can select an empty map&quot;), MessageBox.OKB)).execute();
 			}
 		}
 		inBestMap = false;
@@ -1008,13 +1008,16 @@
 			setResModus(MovingMap.NORMAL_KEEP_RESOLUTION);
 			dontUpdatePos = saveGpsIgnStatus;
 		}
-		else (new MessageBox(&quot;Error&quot;, &quot;No &quot;+ (betterOverview ? &quot;less&quot; : &quot;more&quot;) + &quot; detailed map available&quot;, MessageBox.OKB)).execute();
+		else (new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4211, &quot;No &quot;) + 
+				(betterOverview ? MyLocale.getMsg(4212, &quot;less&quot;) : MyLocale.getMsg(4213, &quot;more&quot;) ) + 
+				MyLocale.getMsg(4214, &quot; detailed map available&quot;), 
+				MessageBox.OKB)).execute();
 	}
 
 	public void loadMapForAllCaches(){
 		Area sur = Global.getProfile().getSourroundingArea(true);
 		if (sur == null) {
-			(new MessageBox(&quot;Error&quot;, &quot;Keine  Caches mit H&#228;ckchen ausgew&#228;hlt&quot;, MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4215, &quot;Keine  Caches mit H&#228;ckchen ausgew&#228;hlt&quot;), MessageBox.OKB)).execute();
 			return;
 		}
 		MapInfoObject newmap = maps.getMapForArea(sur.topleft, sur.buttomright);
@@ -1075,7 +1078,7 @@
 		saveIgnoreStatus = dontUpdatePos;
 		dontUpdatePos = true;  // make updatePosition ignore calls during loading new map
 		InfoBox inf;
-		inf = new InfoBox(&quot;Info&quot;, &quot;Loading map...&quot;);
+		inf = new InfoBox(MyLocale.getMsg(4201, &quot;Information&quot;), MyLocale.getMsg(4216, &quot;Loading map...&quot;));
 		inf.show();
 		inf.waitUntilPainted(100);
 		try {
@@ -1094,7 +1097,7 @@
 			if (ImageFilename == null ) {
 				mmp.mapImage = new MapImage();
 				maps.remove(currentMap);
-				(new MessageBox(&quot;Error&quot;, &quot;Could not find image associated with: \n&quot;+currentMap.fileNameWFL, MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4217, &quot;Could not find image associated with: \n&quot;)+currentMap.fileNameWFL, MessageBox.OKB)).execute();
 			}
 			else { 
 				if (ImageFilename.length() &gt; 0) mmp.mapImage = new MapImage(ImageFilename); // attention: when running in native java-vm, no exception will be thrown, not even OutOfMemeoryError
@@ -1125,7 +1128,7 @@
 			updateOnlyPosition(where, false);
 			inf.close(0);
 			Vm.showWait(false);
-			(new MessageBox(&quot;Error&quot;, &quot;Could not load map: &quot;+ newmap.getImageFilename(), MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4218, &quot;Could not load map: \n&quot;)+ newmap.getImageFilename(), MessageBox.OKB)).execute();
 			dontUpdatePos = saveIgnoreStatus;
 		} catch (OutOfMemoryError e) {
 			if (mmp.mapImage != null) {
@@ -1137,7 +1140,10 @@
 			updateOnlyPosition(where, false);
 			inf.close(0);
 			Vm.showWait(false);
-			(new MessageBox(&quot;Error&quot;, &quot;Not enough memory to load map: &quot;+ newmap.getImageFilename()+&quot;\nYou can try to close\n all prgrams and \nrestart CacheWolf&quot;, MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4219, &quot;Not enough memory to load map: \n&quot;) 
+					+ newmap.getImageFilename()
+					+ MyLocale.getMsg(4220, &quot;\nYou can try to close\n all prgrams and \nrestart CacheWolf&quot;), 
+					MessageBox.OKB)).execute();
 			dontUpdatePos = saveIgnoreStatus;
 		}catch (SystemResourceException e) {
 			if (mmp.mapImage != null) {
@@ -1149,7 +1155,10 @@
 			updateOnlyPosition(where, false); // TODO this doesn't work correctly if the resolution changed, I guess because the pixels of PosCircle will be interpreted from the new resolution, but should be interpreted using the old resolution to test: select a map with a much greater value of m per pixel manually 
 			inf.close(0);
 			Vm.showWait(false);
-			(new MessageBox(&quot;Error&quot;, &quot;Not enough ressources to load map: &quot;+ newmap.getImageFilename()+&quot;\nYou can try to close\n all prgrams and \nrestart CacheWolf&quot;, MessageBox.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4221, &quot;Not enough ressources to load map: &quot;)
+					+ newmap.getImageFilename()
+					+ MyLocale.getMsg(4220, &quot;\nYou can try to close\n all prgrams and \nrestart CacheWolf&quot;), 
+					MessageBox.OKB)).execute();
 			dontUpdatePos = saveIgnoreStatus;
 		}
 	}
@@ -1262,7 +1271,8 @@
 				else tmp = new MapImage(mapImage1to1.scale((int) (newImageRect.width*zoomFactor), (int)(newImageRect.height*zoomFactor), newImageRect, 0));
 				currentMap.zoom(zoomFactor, newImageRect.x, newImageRect.y);
 			} catch (OutOfMemoryError e) {
-				(new MessageBox(&quot;Error&quot;, &quot;Out of memory error&quot;, MessageBox.OKB)).execute();
+				(new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), 
+						MyLocale.getMsg(4222, &quot;Out of memory error&quot;), MessageBox.OKB)).execute();
 				//tmp = mapImage1to1;
 			} //if (tmp != null) currentMap.zoom();}
 			Vm.getUsedMemory(true);
@@ -1314,32 +1324,32 @@
  */
 class MovingMapPanel extends InteractivePanel implements EventListener {
 	Menu kontextMenu;
-	MenuItem gotoMenuItem = new MenuItem(&quot;Goto here$g&quot;, 0, null);
-	MenuItem newWayPointMenuItem = new MenuItem(&quot;Create new Waypoint here$n&quot;, 0, null);;
+	MenuItem gotoMenuItem = new MenuItem(MyLocale.getMsg(4230, &quot;Goto here$g&quot;), 0, null);
+	MenuItem newWayPointMenuItem = new MenuItem(MyLocale.getMsg(4232, &quot;Create new Waypoint here$n&quot;), 0, null);;
 	MenuItem openCacheDescMenuItem,addCachetoListMenuItem;
 	
 	MenuItem miLuminary[];
 
 	Menu mapsMenu;
-	MenuItem selectMapMI = new MenuItem(&quot;Select a map manually$s&quot;, new IconAndText(new mImage(&quot;map_open.png&quot;), &quot;Select a map manually&quot;, null, Graphics.RIGHT));
-	MenuItem changeMapDirMI = new MenuItem(&quot;Change map directory$c&quot;, new IconAndText(new mImage(&quot;map_cd.png&quot;), &quot;Change map directory&quot;, null, Graphics.RIGHT));
-	MenuItem showMapMI = new MenuItem(&quot;Show map&quot;, new IconAndText(new mImage(&quot;map_on.png&quot;), &quot;Show map&quot;, null, Graphics.RIGHT));
-	MenuItem hideMapMI = new MenuItem(&quot;Hide map&quot;, new IconAndText(new mImage(&quot;map_off.png&quot;), &quot;Hide map&quot;, null, Graphics.RIGHT));
+	MenuItem selectMapMI = new MenuItem(MyLocale.getMsg(4234, &quot;Select a map manually$s&quot;), new IconAndText(new mImage(&quot;map_open.png&quot;), MyLocale.getMsg(4235, &quot;Select a map manually&quot;), null, Graphics.RIGHT));
+	MenuItem changeMapDirMI = new MenuItem(MyLocale.getMsg(4236, &quot;Change map directory$c&quot;), new IconAndText(new mImage(&quot;map_cd.png&quot;), MyLocale.getMsg(4237, &quot;Change map directory&quot;), null, Graphics.RIGHT));
+	MenuItem showMapMI = new MenuItem(MyLocale.getMsg(4238, &quot;Show map&quot;), new IconAndText(new mImage(&quot;map_on.png&quot;), MyLocale.getMsg(4239, &quot;Show map&quot;), null, Graphics.RIGHT));
+	MenuItem hideMapMI = new MenuItem(MyLocale.getMsg(4240, &quot;Hide map&quot;), new IconAndText(new mImage(&quot;map_off.png&quot;), MyLocale.getMsg(4241, &quot;Hide map&quot;), null, Graphics.RIGHT));
 	// automatic
-	MenuItem mapChangeModusMI = new MenuItem(&quot;Modus for automatic map change&quot;, MenuItem.Separator, null);;
-	MenuItem highestResGpsDestMI = new MenuItem(&quot;Highest res. containing dest. &amp; cur. position&quot;, new IconAndText(new mImage(&quot;res_gps_goto.png&quot;), &quot;Highest res. containing dest. &amp; cur. position&quot;, null, Graphics.RIGHT)); //immer h&#246;chste Aufl&#246;sung w&#228;hlen, die akt. Pos. und Ziel enthalten 
-	MenuItem highestResolutionMI = new MenuItem(&quot;Highest resolution&quot;, new IconAndText(new mImage(&quot;res_high.png&quot;), &quot;Highest resolution&quot;, null, Graphics.RIGHT)); //immer h&#246;chste Aufl&#246;sung w&#228;hlen 
-	MenuItem keepManResolutionMI = new MenuItem(&quot;Keep manual resolution&quot;, new IconAndText(new mImage(&quot;res_manuell.png&quot;), &quot;Keep manual resolution&quot;, null, Graphics.RIGHT)); // manuell gew&#228;hlte Aufl&#246;sung beibehalten  
+	MenuItem mapChangeModusMI = new MenuItem(MyLocale.getMsg(4242, &quot;Modus for automatic map change&quot;), MenuItem.Separator, null);;
+	MenuItem highestResGpsDestMI = new MenuItem(MyLocale.getMsg(4244, &quot;Highest res. containing dest. &amp; cur. position&quot;), new IconAndText(new mImage(&quot;res_gps_goto.png&quot;), MyLocale.getMsg(4245, &quot;Highest res. containing dest. &amp; cur. position&quot;), null, Graphics.RIGHT)); //immer h&#246;chste Aufl&#246;sung w&#228;hlen, die akt. Pos. und Ziel enthalten 
+	MenuItem highestResolutionMI = new MenuItem(MyLocale.getMsg(4246, &quot;Highest resolution&quot;), new IconAndText(new mImage(&quot;res_high.png&quot;), MyLocale.getMsg(4247, &quot;Highest resolution&quot;), null, Graphics.RIGHT)); //immer h&#246;chste Aufl&#246;sung w&#228;hlen 
+	MenuItem keepManResolutionMI = new MenuItem(MyLocale.getMsg(4248, &quot;Keep manual resolution&quot;), new IconAndText(new mImage(&quot;res_manuell.png&quot;), MyLocale.getMsg(4249, &quot;Keep manual resolution&quot;), null, Graphics.RIGHT)); // manuell gew&#228;hlte Aufl&#246;sung beibehalten  
 	// manuell
-	MenuItem mapChangeResMI = new MenuItem(&quot;Change resolution manually&quot;, MenuItem.Separator, null);;
-	MenuItem AllCachesResMI = new MenuItem(&quot;Load a map containing all marked caches&quot;,  new IconAndText(new mImage(&quot;loupe_all.png&quot;), &quot;Load a map containing all marked caches&quot;, null, Graphics.RIGHT));   
-	MenuItem moreDetailsMI = new MenuItem(&quot;Load a map with more details&quot;, new IconAndText(new mImage(&quot;loupe_more_details.png&quot;), &quot;Load a map with more details&quot;, null, Graphics.RIGHT)); // laod a map with more details 
-	MenuItem moreOverviewMI = new MenuItem(&quot;Load a map for a better overview&quot;, new IconAndText(new mImage(&quot;loupe_better_overview.png&quot;), &quot;Load a map for a better overview&quot;, null, Graphics.RIGHT)); // Load a map for a better overview --&gt; lesser details  
+	MenuItem mapChangeResMI = new MenuItem(MyLocale.getMsg(4250, &quot;Change resolution manually&quot;), MenuItem.Separator, null);;
+	MenuItem AllCachesResMI = new MenuItem(MyLocale.getMsg(4252, &quot;Load a map containing all marked caches&quot;),  new IconAndText(new mImage(&quot;loupe_all.png&quot;), MyLocale.getMsg(4253, &quot;Load a map containing all marked caches&quot;), null, Graphics.RIGHT));   
+	MenuItem moreDetailsMI = new MenuItem(MyLocale.getMsg(4254, &quot;Load a map with more details&quot;), new IconAndText(new mImage(&quot;loupe_more_details.png&quot;), MyLocale.getMsg(4255, &quot;Load a map with more details&quot;), null, Graphics.RIGHT)); // laod a map with more details 
+	MenuItem moreOverviewMI = new MenuItem(MyLocale.getMsg(4256, &quot;Load a map for a better overview&quot;), new IconAndText(new mImage(&quot;loupe_better_overview.png&quot;), MyLocale.getMsg(4257, &quot;Load a map for a better overview&quot;), null, Graphics.RIGHT)); // Load a map for a better overview --&gt; lesser details  
 	// move map to
-	MenuItem moveToMI = new MenuItem(&quot;Move map to an load map&quot;, MenuItem.Separator, null);;
-	MenuItem moveToDestMI = new MenuItem(&quot;Move to goto point&quot;, new IconAndText(new mImage(&quot;move2goto.png&quot;), &quot;Move to goto point&quot;, null, Graphics.RIGHT)); //* Karte zum Ziel verschieben (und ggf. entsprechende Karte laden) 
-	MenuItem moveToGpsMI = new MenuItem(&quot;Move to GPS position&quot;, new IconAndText(new mImage(&quot;move2gps.png&quot;), &quot;Move to GPS position&quot;, null, Graphics.RIGHT));   
-	MenuItem moveToCenterMI = new MenuItem(&quot;Move to centre&quot;, new IconAndText(new mImage(&quot;move2center.png&quot;), &quot;Move to centre&quot;, null, Graphics.RIGHT));   
+	MenuItem moveToMI = new MenuItem(MyLocale.getMsg(4258, &quot;Move map to and load map&quot;), MenuItem.Separator, null);;
+	MenuItem moveToDestMI = new MenuItem(MyLocale.getMsg(4260, &quot;Move to goto point&quot;), new IconAndText(new mImage(&quot;move2goto.png&quot;), MyLocale.getMsg(4261, &quot;Move to goto point&quot;), null, Graphics.RIGHT)); //* Karte zum Ziel verschieben (und ggf. entsprechende Karte laden) 
+	MenuItem moveToGpsMI = new MenuItem(MyLocale.getMsg(4262, &quot;Move to GPS position&quot;), new IconAndText(new mImage(&quot;move2gps.png&quot;), MyLocale.getMsg(4263, &quot;Move to GPS position&quot;), null, Graphics.RIGHT));   
+	MenuItem moveToCenterMI = new MenuItem(MyLocale.getMsg(4264, &quot;Move to centre&quot;), new IconAndText(new mImage(&quot;move2center.png&quot;), MyLocale.getMsg(4265, &quot;Move to centre&quot;), null, Graphics.RIGHT));   
 
 	CacheHolder clickedCache;
 	MovingMap mm;
@@ -1597,7 +1607,7 @@
 				if (clickedOnImage != null &amp;&amp; clickedOnImage instanceof MapSymbol) {
 					clickedCache = ((CacheHolder)((MapSymbol)clickedOnImage).mapObject);
 					if (clickedCache != null) {
-						openCacheDescMenuItem = new MenuItem(&quot;Open '&quot;+(clickedCache.CacheName.length()&gt;0?clickedCache.CacheName:clickedCache.wayPoint)+&quot;'$o&quot;); // clickedCache == null can happen if clicked on the goto-symbol
+						openCacheDescMenuItem = new MenuItem(MyLocale.getMsg(4270, &quot;Open&quot;)+&quot; '&quot;+(clickedCache.CacheName.length()&gt;0 ? clickedCache.CacheName : clickedCache.wayPoint)+&quot;'$o&quot;); // clickedCache == null can happen if clicked on the goto-symbol
 						kontextMenu.addItem(openCacheDescMenuItem);
 						if (Global.mainForm.cacheListVisible) { 
 							addCachetoListMenuItem = new MenuItem(MyLocale.getMsg(199,&quot;Add to cachetour&quot;));
@@ -1755,7 +1765,7 @@
 	Vector maps;
 
 	public ListBox(Vector maps, CWPoint Gps, CWPoint gotopos, MapInfoObject curMap){
-		this.title = &quot;Maps&quot;;
+		this.title = MyLocale.getMsg(4271, &quot;Maps&quot;);
 		// if (Gui.screenIs(Gui.PDA_SCREEN)) this.setPreferredSize(200,100); else 
 		// set width to screenwidth *3/4 but to at least 240 if the screen is big engough for 240px width
 		this.setPreferredSize(java.lang.Math.max(MyLocale.getScreenWidth()*3/4, java.lang.Math.min(240, MyLocale.getScreenWidth()) ), MyLocale.getScreenHeight()*3/4);
@@ -1770,7 +1780,7 @@
 		int row = -1;
 		if (curMap == null) curMapFound = true;
 		if (gotopos != null &amp;&amp; Gps != null) {
-			list.addItem(&quot;--- Karten von akt. Position und Ziel ---&quot;);
+			list.addItem(MyLocale.getMsg(4272, &quot;--- Maps containing GPS and goto pos. ---&quot;));
 			row++;
 			cmp = &quot;FF1&quot;+(new Area(new CWPoint(Gps.latDec, Gps.lonDec), gotopos)).getEasyFindString();
 			for(int i = 0; i&lt;maps.size();i++){
@@ -1789,7 +1799,7 @@
 			}
 		}
 		if (Gps != null) {
-			list.addItem(&quot;--- Karten der aktuellen Position ---&quot;);
+			list.addItem(MyLocale.getMsg(4273, &quot;--- Maps containing curr. position ---&quot;));
 			row++;
 			cmp = &quot;FF1&quot;+Area.getEasyFindString(new CWPoint(Gps.latDec, Gps.lonDec), 30);
 			for(int i = 0; i&lt;maps.size();i++){
@@ -1808,7 +1818,7 @@
 			}
 		}
 		if (gotopos != null) {
-			list.addItem(&quot;--- Karten des Ziels ---&quot;);
+			list.addItem(MyLocale.getMsg(4274, &quot;--- Karten des Ziels ---&quot;));
 			row++;
 			cmp = &quot;FF1&quot;+Area.getEasyFindString(gotopos, 30);
 			for(int i = 0; i&lt;maps.size();i++){
@@ -1825,7 +1835,7 @@
 				}
 			}
 		}
-		list.addItem(&quot;--- andere Karten ---&quot;);
+		list.addItem(MyLocale.getMsg(4275, &quot;--- andere Karten ---&quot;));
 		row++;
 		for(int i = 0; i&lt;maps.size();i++){
 			ml = (MapListEntry)maps.get(i);
@@ -1837,10 +1847,10 @@
 		}
 		list.selectItem(oldmap, true);
 		this.addLast(scb = new CacheWolf.MyScrollBarPanel(list),CellConstants.STRETCH, CellConstants.FILL);
-		cancelButton = new mButton(&quot;Cancel&quot;);
+		cancelButton = new mButton(MyLocale.getMsg(4276, &quot;Cancel&quot;));
 		cancelButton.setHotKey(0, KeyEvent.getCancelKey(true));
 		this.addNext(cancelButton,CellConstants.STRETCH, CellConstants.FILL);
-		okButton = new mButton(&quot;Select&quot;);
+		okButton = new mButton(MyLocale.getMsg(4277, &quot;Select&quot;));
 		okButton.setHotKey(0, KeyEvent.getActionKey(true));
 		this.addLast(okButton,CellConstants.STRETCH, CellConstants.FILL);
 		okButton.takeFocus(0);
@@ -1874,7 +1884,8 @@
 				selected = true;
 				this.close(FormBase.IDOK);
 				} catch (IOException e) {
-					(new MessageBox(&quot;Error&quot;, &quot;Cannot load wfl-file: \n&quot; + ((MapListEntry)maps.get(mapNum)).filename, MessageBox.OKB)).execute();
+					(new MessageBox(MyLocale.getMsg(4207, &quot;Error&quot;), MyLocale.getMsg(4278, &quot;Cannot load wfl-file: \n&quot;) 
+							+ ((MapListEntry)maps.get(mapNum)).filename, MessageBox.OKB)).execute();
 				}
 			}
 			else {

Modified: trunk/src/CacheWolf/navi/Navigate.java
===================================================================
--- trunk/src/CacheWolf/navi/Navigate.java	2008-01-25 21:47:24 UTC (rev 1197)
+++ trunk/src/CacheWolf/navi/Navigate.java	2008-01-27 19:07:32 UTC (rev 1198)
@@ -2,6 +2,7 @@
 
 import CacheWolf.CWPoint;
 import CacheWolf.Global;
+import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
 import ewe.fx.Color;
 import ewe.io.IOException;
@@ -13,6 +14,13 @@
 import ewe.ui.MessageBox;
 import ewe.util.mString;
 
+/**
+ * Non-Gui Class to handle all things regarding navigation
+ * (GPS, Sun direction etc.)
+ * start offset in localisation file: 4400 
+ * @author Pfeffer
+ *
+ */
 public class Navigate {
 	public CWPoint destination = new CWPoint();
 	public CWGPSPoint gpsPos = new CWGPSPoint();
@@ -43,7 +51,10 @@
 		try {
 			serThread = new SerialThread(pref.mySPO, gpsPos, (pref.forwardGPS ? pref.forwardGpsHost : &quot;&quot;));
 			if (pref.forwardGPS &amp;&amp; !serThread.tcpForward) {
-				(new MessageBox(&quot;Warning&quot;, &quot;Ignoring error:\n could not forward GPS data to host:\n&quot;+pref.forwardGpsHost+&quot;\n&quot;+serThread.lastError+&quot;\nstop and start GPS to retry&quot;,MessageBox.OKB)).exec();
+				(new MessageBox(MyLocale.getMsg(4400, &quot;Warning&quot;), 
+						MyLocale.getMsg(4401, &quot;Ignoring error:\n could not forward GPS data to host:\n&quot;)
+						+ pref.forwardGpsHost+&quot;\n&quot; + serThread.lastError
+						+ MyLocale.getMsg(4402, &quot;\nstop and start GPS to retry&quot;), MessageBox.OKB)).exec();
 			}
 			if (gpsPos.latDec == 0 &amp;&amp; gpsPos.lonDec == 0) { // TODO use isValid() // TODO raus damit?
 				gpsPos.latDec = destination.latDec; // setze Zielpunkt als Ausgangspunkt
@@ -57,7 +68,11 @@
 			if (gotoPanel != null) gotoPanel.gpsStarted();
 			if (movingMap != null) movingMap.gpsStarted();
 		} catch (IOException e) {
-			(new MessageBox(&quot;Error&quot;, &quot;Could not connect to GPS-receiver.\n Error while opening serial Port &quot; + e.getMessage()+&quot;\npossible reasons:\n Another (GPS-)program is blocking the port\nwrong port\nOn Loox: active infra-red port is blocking GPS&quot;, MessageBox.OKB)).execute(); 
+			(new MessageBox(MyLocale.getMsg(4403, &quot;Error&quot;), 
+					MyLocale.getMsg(4404, &quot;Could not connect to GPS-receiver.\n Error while opening serial Port &quot;) 
+					+ e.getMessage()
+					+ MyLocale.getMsg(4405, &quot;\npossible reasons:\n Another (GPS-)program is blocking the port\nwrong port\nOn Loox: active infra-red port is blocking GPS&quot;), 
+					MessageBox.OKB)).execute(); 
 		}
 	}
 
@@ -123,7 +138,7 @@
 				SkyOrientation.getSunAzimut(gpsPos.Time, gpsPos.Date, gpsPos.latDec, gpsPos.lonDec);
 				double jd = SkyOrientation.utc2juliandate(gpsPos.Time, gpsPos.Date);
 				skyOrientationDir = SkyOrientation.getLuminaryDir(luminary, jd, gpsPos);
-				ewe.sys.Vm.debug(&quot;neu: &quot;+ skyOrientationDir.lonDec+ &quot;jd: &quot; + jd);
+				// ewe.sys.Vm.debug(&quot;neu: &quot;+ skyOrientationDir.lonDec+ &quot;jd: &quot; + jd);
 			} catch (NumberFormatException e) { // irgendeine Info zu Berechnung des Sonnenaziumt fehlt (insbesondere Datum und Uhrzeit sind nicht unbedingt gleichzeitig verf&#252;gbar wenn es einen Fix gibt)
 				skyOrientationDir.set(-361, -361); // any value out of range (bigger than 360) will prevent drawArrows from drawing it 
 			}

Modified: trunk/src/CacheWolf/navi/SkyOrientation.java
===================================================================
--- trunk/src/CacheWolf/navi/SkyOrientation.java	2008-01-25 21:47:24 UTC (rev 1197)
+++ trunk/src/CacheWolf/navi/SkyOrientation.java	2008-01-27 19:07:32 UTC (rev 1198)
@@ -38,7 +38,7 @@
 		// Sirius
 	};
 	
-	public static String [] LUMINARY_NAMES = { // TODO MyLocale.getMsg(xxx, &quot;Sun&quot;),
+	public static String [] LUMINARY_NAMES = { 
 		MyLocale.getMsg(6100, &quot;Sun&quot;), 
 		MyLocale.getMsg(6101, &quot;Moon&quot;), 
 		MyLocale.getMsg(6102, &quot;Grater Bear&quot;),
@@ -48,7 +48,7 @@
 		MyLocale.getMsg(6106, &quot;Southern Cross&quot;)
 	};
 
-	public static String [] LUMINARY_DESC = { // TODO MyLocale.getMsg(xxx, &quot;Sun&quot;),
+	public static String [] LUMINARY_DESC = {
 		MyLocale.getMsg(6100, &quot;Sun&quot;), 
 		MyLocale.getMsg(6101, &quot;Moon&quot;), 
 		MyLocale.getMsg(6122, &quot;Alioth in Greater Bear&quot;),
@@ -171,12 +171,12 @@
 			// null = Sueden auf Null = Norden umrechnen
 			azimut +=180.;
 			if (azimut &gt;360.) azimut -=360.;
-			ewe.sys.Vm.debug(&quot;sunAzimut1: &quot; + azimut);
-			ewe.sys.Vm.debug(&quot;sun Elevation: &quot; +getSunAzimut2 (utc, datum, lat, lon).latDec);
-			CWPoint MoonDir = getMoonDir(jd, new CWPoint(lat, lon));
-			ewe.sys.Vm.debug(&quot;Moon Elevation: &quot; + MoonDir.latDec + &quot;Moon Azimut: &quot; + MoonDir.lonDec);
-			CWPoint OrionDir = getAlnilamDir(jd, new CWPoint(lat, lon));
-			ewe.sys.Vm.debug(&quot;Alnilam (Orion) Elevation: &quot; + OrionDir.latDec + &quot;Alnilam (Orion) Azimut: &quot; + OrionDir.lonDec );
+			//ewe.sys.Vm.debug(&quot;sunAzimut1: &quot; + azimut);
+			//ewe.sys.Vm.debug(&quot;sun Elevation: &quot; +getSunAzimut2 (utc, datum, lat, lon).latDec);
+			//CWPoint MoonDir = getMoonDir(jd, new CWPoint(lat, lon));
+			//ewe.sys.Vm.debug(&quot;Moon Elevation: &quot; + MoonDir.latDec + &quot;Moon Azimut: &quot; + MoonDir.lonDec);
+			//CWPoint OrionDir = getAlnilamDir(jd, new CWPoint(lat, lon));
+			//ewe.sys.Vm.debug(&quot;Alnilam (Orion) Elevation: &quot; + OrionDir.latDec + &quot;Alnilam (Orion) Azimut: &quot; + OrionDir.lonDec );
 			
 			return azimut;
 		} catch (IndexOutOfBoundsException e) {

Modified: trunk/src/CacheWolf/navi/TransformCoordinates.java
===================================================================
--- trunk/src/CacheWolf/navi/TransformCoordinates.java	2008-01-25 21:47:24 UTC (rev 1197)
+++ trunk/src/CacheWolf/navi/TransformCoordinates.java	2008-01-27 19:07:32 UTC (rev 1198)
@@ -2,6 +2,7 @@
 
 import CacheWolf.CWPoint;
 import CacheWolf.Matrix;
+import CacheWolf.MyLocale;
 
 import java.lang.Math;
 
@@ -22,7 +23,9 @@
  * by the Bundesamt f&#252;r Kartographie und Geod&#228;sie for whole Germany: see:
  *  * <A HREF="http://crs.bkg.bund.de/crseu/crs/descrtrans/BeTA/BETA2007dokumentation.pdf">http://crs.bkg.bund.de/crseu/crs/descrtrans/BeTA/BETA2007dokumentation.pdf</A>
  *  * <A HREF="http://crs.bkg.bund.de/crs-eu/">http://crs.bkg.bund.de/crs-eu/</A> click on &quot;national CRS&quot; -&gt; germany -&gt; DE_DHDN / GK_3 -&gt; DE_DHDN (BeTA, 2007) to ETRS89
- * @author Robert Arnold
+ *  
+ *  Start offset in languages file: 4900
+ * @author Pfeffer
  *
  */
 public class TransformCoordinates {
@@ -222,7 +225,7 @@
 		case EPSG_GK3: stripe = 3; break;
 		case EPSG_GK4: stripe = 4; break;
 		case EPSG_GK5: stripe = 5; break;
-		default: throw new IllegalArgumentException(&quot;wgs84ToGermanGk: epsgcode: &quot; + epsgcode + &quot;is not a german Gau&#223;-Kr&#252;ger coordinate&quot;);
+		default: throw new IllegalArgumentException(&quot;wgs84ToGermanGk: epsgcode: &quot; + epsgcode + MyLocale.getMsg(4900, &quot; is not a german Gauss-Krueger coordinate&quot;));
 		}
 		return stripe; 
 	}

Modified: trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java
===================================================================
--- trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java	2008-01-25 21:47:24 UTC (rev 1197)
+++ trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java	2008-01-27 19:07:32 UTC (rev 1198)
@@ -5,7 +5,19 @@
 import ewe.sys.Convert;
 import ewe.util.Properties;
 import CacheWolf.CWPoint;
+import CacheWolf.MyLocale;
 
+/**
+ * Class to load the parameters of a datum shift of a map and
+ * the projection parameters from an Inputstream by the corresponding
+ * EPSG code
+ * After instantiation you can simply use to and fromWGS84 to
+ * convert between WGS84 and the given Coordinate reference system, given
+ * by the EPSG code
+ * Start offset in the language file: 4920  
+ * @author Pfeffer
+ *
+ */
 public class TransformCoordinatesProperties extends Properties {
 	public int epsgCode;
 	
@@ -13,11 +25,14 @@
 		super();
 		load(is);
 		epsgCode = Convert.toInt(getProperty(&quot;EpsgCode&quot;, &quot;-1&quot;));
-		if (epsgCode == -1) throw new IllegalArgumentException(&quot;EPSG code missing in: &quot; + is.getName());
+		if (epsgCode == -1) throw new IllegalArgumentException(MyLocale.getMsg(4922, &quot;EPSG code missing in: &quot;) + is.getName());
 	}
 	
 	public TransformCoordinatesProperties(int epsgcodei) {
-		if (!TransformCoordinates.isSupported(epsgcodei)) throw new IllegalArgumentException(&quot;EPSG code &quot; + epsgcodei + &quot;not supported&quot;);
+		if (!TransformCoordinates.isSupported(epsgcodei)) throw new IllegalArgumentException(
+				MyLocale.getMsg(4920, &quot;EPSG code &quot;) 
+				+ epsgcodei 
+				+ MyLocale.getMsg(4921, &quot; not supported&quot;));
 		epsgCode = epsgcodei;
 	}
 
@@ -42,7 +57,10 @@
 			GkPoint xy = TransformCoordinates.wgs84ToGermanGk(ll, epsgCode);
 			ret = new CWPoint(xy.northing, xy.getGkEasting());
 			break;
-		default: throw new IllegalArgumentException(&quot;fromWgs84: EPSG code &quot; + epsgCode + &quot;not supported&quot;);
+		default: throw new IllegalArgumentException(
+				MyLocale.getMsg(4923, &quot;fromWgs84: EPSG code &quot;) 
+				+ epsgCode 
+				+ MyLocale.getMsg(4921, &quot; not supported&quot;));
 		}
 		return ret;
 	}
@@ -67,7 +85,10 @@
 			GkPoint xy = new GkPoint(p.lonDec, p.latDec);
 			ret = TransformCoordinates.germanGkToWgs84(xy);
 			break;
-		default: throw new IllegalArgumentException(&quot;ToWgs84: EPSG code &quot; + epsgCode + &quot;not supported&quot;);
+		default: throw new IllegalArgumentException(
+				MyLocale.getMsg(4924, &quot;ToWgs84: EPSG code &quot;)
+				+ epsgCode
+				+ MyLocale.getMsg(4921, &quot; not supported&quot;));
 		}
 		return ret;
 	}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001091.html">[Cachewolf-svn] r1197 - trunk/src/CacheWolf
</A></li>
	<LI>Next message: <A HREF="001093.html">[Cachewolf-svn] r1199 - in trunk: res_noewe/languages	src/CacheWolf/navi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1092">[ date ]</a>
              <a href="thread.html#1092">[ thread ]</a>
              <a href="subject.html#1092">[ subject ]</a>
              <a href="author.html#1092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
