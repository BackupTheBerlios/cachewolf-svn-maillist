<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r1830 - in trunk/src: CacheWolf exp
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1830%20-%20in%20trunk/src%3A%20CacheWolf%20exp&In-Reply-To=%3C200905191840.n4JIe16K006860%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001747.html">
   <LINK REL="Next"  HREF="001749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r1830 - in trunk/src: CacheWolf exp</H1>
    <B>greiol at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1830%20-%20in%20trunk/src%3A%20CacheWolf%20exp&In-Reply-To=%3C200905191840.n4JIe16K006860%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r1830 - in trunk/src: CacheWolf exp">greiol at mail.berlios.de
       </A><BR>
    <I>Tue May 19 20:40:01 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001747.html">[Cachewolf-svn] r1829 - trunk/src/CacheWolf
</A></li>
        <LI>Next message: <A HREF="001749.html">[Cachewolf-svn] r1831 - trunk/src/exp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1748">[ date ]</a>
              <a href="thread.html#1748">[ thread ]</a>
              <a href="subject.html#1748">[ subject ]</a>
              <a href="author.html#1748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: greiol
Date: 2009-05-19 20:39:59 +0200 (Tue, 19 May 2009)
New Revision: 1830

Modified:
   trunk/src/CacheWolf/CacheSize.java
   trunk/src/CacheWolf/CacheTerrDiff.java
   trunk/src/CacheWolf/CacheType.java
   trunk/src/exp/KMLExporter.java
Log:
fixed google earth export
fixed typos

Modified: trunk/src/CacheWolf/CacheSize.java
===================================================================
--- trunk/src/CacheWolf/CacheSize.java	2009-05-19 13:31:23 UTC (rev 1829)
+++ trunk/src/CacheWolf/CacheSize.java	2009-05-19 18:39:59 UTC (rev 1830)
@@ -1,9 +1,9 @@
 package CacheWolf;
 
 /**
- * Handels all aspects of converting cache size information from
+ * Handles all aspects of converting cache size information from
  * and to the various im- and exporters as well as for converting
- * legavy profiles to current standard
+ * legacy profiles to current standard
  */
 public final class CacheSize {
 
@@ -96,7 +96,7 @@
 	public static final byte CW_GUIIMGID_VERYLARGE = 5;
 
 	/*
-	 * total number of different size images will be used to det the dimension
+	 * total number of different size images will be used to set the dimension
 	 * of sizePics[] array in TableModel
 	 */
 	public static final byte CW_TOTAL_SIZE_IMAGES = 6;
@@ -127,9 +127,9 @@
 	 * 
 	 * @param id
 	 *            size identifier matching the CW_GUIIMGID_ constants
-	 * @return filenam of image to be displayed for id
+	 * @return filename of image to be displayed for id
 	 * @throws IllegalArgumentException
-	 *             if there is no image associated to the id
+	 *             if there is no image associated to the &lt;code&gt;id&lt;/code&gt;
 	 */
 	public static String sizeImageForId(byte id) throws IllegalArgumentException {
 		switch (id) {
@@ -158,7 +158,7 @@
 	 *            CW internal representation of cache size
 	 * @return string representation of CacheWolf internal cache size
 	 * @throws IllegalArgumentException
-	 *             if cwsize can not be mapped to a CW_SIZE constant
+	 *             if &lt;code&gt;cwsize&lt;/code&gt; can not be mapped to a CW_SIZE constant
 	 */
 	public static String cw2ExportString(byte size) throws IllegalArgumentException {
 		switch (size) {
@@ -190,10 +190,10 @@
 	 * internal representation
 	 * 
 	 * @param tcstring
-	 *            size information extracted from a TC GPX inport
+	 *            size information extracted from a TC GPX import
 	 * @return CacheWolf internal representation of size information
 	 * @throws IllegalArgumentException
-	 *             if tcstring can not be mapped to internal representation
+	 *             if &lt;code&gt;tcstring&lt;/code&gt; can not be mapped to internal representation
 	 *             (CW_SIZE_*)
 	 */
 
@@ -218,10 +218,10 @@
 	 * representation
 	 * 
 	 * @param gcstring
-	 *            size information extracted from a GPX inport
+	 *            size information extracted from a GPX import
 	 * @return CacheWolf internal representation of size information
 	 * @throws IllegalArgumentException
-	 *             if gcstring can not be mapped to internal representation
+	 *             if &lt;code&gt;gcstring&lt;/code&gt; can not be mapped to internal representation
 	 *             (CW_SIZE_*)
 	 */
 
@@ -250,10 +250,10 @@
 	 * representation for CacheHolder
 	 * 
 	 * @param spiderstring
-	 *            string identified by the spider as containing size iformation
+	 *            string identified by the spider as containing size information
 	 * @return CacheWolf internal representation of size information
 	 * @throws IllegalArgumentException
-	 *             if spiderstring can not be mapped to internal representation
+	 *             if &lt;code&gt;spiderstring&lt;/code&gt; can not be mapped to internal representation
 	 *             (CW_SIZE_*)
 	 */
 	public static byte gcSpiderString2Cw(String spiderstring) throws IllegalArgumentException {
@@ -268,7 +268,7 @@
 	 * @param ocxmlstring
 	 *            string extracted from OC-XML attribute size
 	 * @return CacheWolf internal representation of size information
-	 * @trows IllegalArgumentException if ocxmlstring can not be mapped to a
+	 * @trows IllegalArgumentException if &lt;code&gt;ocxmlstring&lt;/code&gt; can not be mapped to a
 	 *        CW_SIZE_*
 	 */
 	public static byte ocXmlString2Cw(String ocxmlstring) throws IllegalArgumentException {
@@ -298,7 +298,7 @@
 	 *            CW internal representation of cache size
 	 * @return filename of image to be displayed in main panel as size icon
 	 * @throws IllegalArgumentException
-	 *             if size can not be mapped
+	 *             if &lt;code&gt;size&lt;/code&gt; can not be mapped
 	 */
 	public static byte guiSizeImageId(byte size) throws IllegalArgumentException {
 		switch (size) {
@@ -331,7 +331,7 @@
 	 * @param v1Size
 	 *            old size string
 	 * @return CW internal representation of cache size
-	 * @throws IllegalArgumentException if v1Size can not be mapped
+	 * @throws IllegalArgumentException if &lt;code&gt;v1Size&lt;/code&gt; can not be mapped
 	 * @deprecated remove once v1 file version compatibility is abandoned
 	 */
 	public static final byte v1Converter(String v1Size) throws IllegalArgumentException {
@@ -369,7 +369,7 @@
 	 *            CW internal representation of cache size
 	 * @return a bit mask for the filter function
 	 * @throws IllegalArgumentException
-	 *             if size can not be mapped to a bit mask
+	 *             if &lt;code&gt;size&lt;/code&gt; can not be mapped to a bit mask
 	 */
 	public static byte getFilterPattern(byte size) throws IllegalArgumentException {
 		switch (size) {
@@ -403,7 +403,7 @@
 	 *            CW internal representation of cache size
 	 * @return a one letter String for cache size
 	 * @throws IllegalArgumentException
-	 *             if size can not be mapped
+	 *             if &lt;code&gt;size&lt;/code&gt; can not be mapped
 	 */
 
 	public static String getExportShortId(byte size) throws IllegalArgumentException {
@@ -458,10 +458,10 @@
 	 * map a string chosen from the DetailsPanel Size drop down list back to
 	 * internal representation
 	 * 
-	 * @param id
-	 * @return
+	 * @param id string selected in the list
+	 * @return cw type information
 	 * @throws IllegalArgumentException
-	 *             if id can not be mapped
+	 *             if &lt;code&gt;id&lt;/code&gt; can not be mapped
 	 * @see cwSizeId2GuiSizeId
 	 * @see guiSizeStrings
 	 */
@@ -496,7 +496,7 @@
 	 *            internal id to be mapped
 	 * @return index of internal size in array
 	 * @throws IllegalArgumentException
-	 *             if id can not be mapped
+	 *             if &lt;code&gt;id&lt;/code&gt; can not be mapped
 	 * @see guiSizeStrings2CwSize
 	 * @see cwSizeId2GuiSizeId
 	 */

Modified: trunk/src/CacheWolf/CacheTerrDiff.java
===================================================================
--- trunk/src/CacheWolf/CacheTerrDiff.java	2009-05-19 13:31:23 UTC (rev 1829)
+++ trunk/src/CacheWolf/CacheTerrDiff.java	2009-05-19 18:39:59 UTC (rev 1830)
@@ -2,8 +2,8 @@
 
 /**
  * Handles all aspects of converting terrain and difficulty
- * infromations from legacy file versions and various im-
- * and expoters
+ * informations from legacy file versions and various im-
+ * and exporters
  * 
  * Only use the class in a static way, do not instantiate it
  */
@@ -35,9 +35,9 @@
 	}
 	
 	/**
-	 * convert &quot;old style&quot; terran and difficulty information to the new format.
+	 * convert &quot;old style&quot; terrain and difficulty information to the new format.
 	 * 
-	 * since it is also used by the importes it is not flagged as deprecated
+	 * since it is also used by the importers it is not flagged as depreciated
 	 * @param v1TerrDiff a string representation of terrain or difficulty
 	 * @return internal representation of terrain or difficulty
 	 * @throws IllegalArgumentException if &lt;code&gt;v1TerrDiff&lt;/code&gt; can not be mapped
@@ -64,7 +64,7 @@
 	/**
 	 * generate strings of terrain and difficulty for general use
 	 * @param td internal terrain or difficulty value
-	 * @return long version of terrain or difficulty (includeing .0)
+	 * @return long version of terrain or difficulty (including .0)
 	 * @throws IllegalArgumentException
 	 */
 	public static final String longDT(byte td) throws IllegalArgumentException {
@@ -85,7 +85,7 @@
 	/**
 	 * generate strings of terrain and difficulty information for GC.com-like GPX exports
 	 * @param td internal terrain or difficulty value
-	 * @return short version of terrainor difficulty (omit .0)
+	 * @return short version of terrain or difficulty (omit .0)
 	 * @throws IllegalArgumentException
 	 */
 	public static final String shortDT(byte td) throws IllegalArgumentException {

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2009-05-19 13:31:23 UTC (rev 1829)
+++ trunk/src/CacheWolf/CacheType.java	2009-05-19 18:39:59 UTC (rev 1830)
@@ -1,9 +1,9 @@
 package CacheWolf;
 
 /**
- * Handels all aspects of converting cache type information from
+ * Handles all aspects of converting cache type information from
  * and to the various im- and exporters as well as for converting
- * legavy profiles to current standard
+ * legacy profiles to current standard
  * 
  * Do not instantiate this class, only use it in a static way
  */
@@ -227,7 +227,7 @@
 		case CW_TYPE_REFERENCE: return &quot;R&quot;;
 		case CW_TYPE_APE: return &quot;T&quot;;
 		case CW_TYPE_MAZE: return &quot;X&quot;;
-		default: throw new IllegalArgumentException(&quot;unmatched argument &quot;+type+&quot; in CacheSizeNew getExportShortId()&quot;);
+		default: throw new IllegalArgumentException(&quot;unmatched argument &quot;+type+&quot; in CacheSize getExportShortId()&quot;);
 		}
 	}
 	
@@ -258,7 +258,7 @@
 		if (type.equals(&quot;1858&quot;)) return CW_TYPE_WHEREIGO;
 		if (type.equals(&quot;137&quot;)) return CW_TYPE_EARTH;
 		
-		throw new IllegalArgumentException(&quot;unmatched argument &quot;+type+&quot; in CacheSizeNew v1Converter()&quot;);
+		throw new IllegalArgumentException(&quot;unmatched argument &quot;+type+&quot; in CacheSize v1Converter()&quot;);
 	}
 
 	/**
@@ -293,7 +293,7 @@
 		case -62: return CW_TYPE_WHEREIGO;
 		case 100: return CW_TYPE_WHEREIGO; // yes, it can be either of those
 		case 9: return CW_TYPE_EARTH;
-		default: throw new IllegalArgumentException(&quot;unmatched argument &quot;+type+&quot; in CacheSizeNew v2Converter()&quot;);
+		default: throw new IllegalArgumentException(&quot;unmatched argument &quot;+type+&quot; in CacheSize v2Converter()&quot;);
 		}
 	}
 	

Modified: trunk/src/exp/KMLExporter.java
===================================================================
--- trunk/src/exp/KMLExporter.java	2009-05-19 13:31:23 UTC (rev 1829)
+++ trunk/src/exp/KMLExporter.java	2009-05-19 18:39:59 UTC (rev 1830)
@@ -1,7 +1,12 @@
 package exp;
 
-//FIXME: broken!
-
+import CacheWolf.CWPoint;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheHolderDetail;
+import CacheWolf.CacheType;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
+import CacheWolf.SafeXML;
 import ewe.io.BufferedWriter;
 import ewe.io.File;
 import ewe.io.FileBase;
@@ -10,16 +15,16 @@
 import ewe.io.IOException;
 import ewe.io.InputStream;
 import ewe.io.PrintWriter;
-import ewe.sys.Convert;
 import ewe.sys.Handle;
 import ewe.sys.Vm;
 import ewe.ui.ProgressBarForm;
-import ewe.util.*;
+import ewe.util.Hashtable;
+import ewe.util.Iterator;
+import ewe.util.Vector;
 import ewe.util.Map.MapEntry;
 import ewe.util.zip.ZipEntry;
 import ewe.util.zip.ZipException;
 import ewe.util.zip.ZipFile;
-import CacheWolf.*; // if we would use public instead of protected we would not need this.
 
 /**
 *	Class to export the cache database (index) to an KML-File
@@ -100,7 +105,7 @@
 					tmp = (Vector)entry.getValue();
 					// skip over empty cachetypes
 					if (tmp.size() == 0) continue;
-					outp.print(startFolder(CacheType.cw2ExportString(CacheType.guiSelect2Cw(new Integer((String)entry.getKey()).byteValue()))));
+					outp.print(startFolder(CacheType.cw2ExportString(new Integer((String)entry.getKey()).byteValue())));
 
 					for(int i = 0; i&lt;tmp.size(); i++){
 						ch = (CacheHolder) tmp.get(i);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001747.html">[Cachewolf-svn] r1829 - trunk/src/CacheWolf
</A></li>
	<LI>Next message: <A HREF="001749.html">[Cachewolf-svn] r1831 - trunk/src/exp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1748">[ date ]</a>
              <a href="thread.html#1748">[ thread ]</a>
              <a href="subject.html#1748">[ subject ]</a>
              <a href="author.html#1748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
