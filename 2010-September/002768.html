<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r2780 - in trunk: . res_noewe/languages	src/CacheWolf
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2780%20-%20in%20trunk%3A%20.%20res_noewe/languages%0A%09src/CacheWolf&In-Reply-To=%3C20100912173620.975A6480FEB%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002766.html">
   <LINK REL="Next"  HREF="002769.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r2780 - in trunk: . res_noewe/languages	src/CacheWolf</H1>
    <B>araber95 at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2780%20-%20in%20trunk%3A%20.%20res_noewe/languages%0A%09src/CacheWolf&In-Reply-To=%3C20100912173620.975A6480FEB%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r2780 - in trunk: . res_noewe/languages	src/CacheWolf">araber95 at mail.berlios.de
       </A><BR>
    <I>Sun Sep 12 07:36:20 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002766.html">[Cachewolf-svn] r2778 - trunk/src/CacheWolf/imp
</A></li>
        <LI>Next message: <A HREF="002769.html">[Cachewolf-svn] r2781 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2768">[ date ]</a>
              <a href="thread.html#2768">[ thread ]</a>
              <a href="subject.html#2768">[ subject ]</a>
              <a href="author.html#2768">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: araber95
Date: 2010-09-12 19:36:20 +0200 (Sun, 12 Sep 2010)
New Revision: 2780

Modified:
   trunk/currentversions.txt
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/Version.java
Log:
doing version info more readable.

Modified: trunk/currentversions.txt
===================================================================
--- trunk/currentversions.txt	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/currentversions.txt	2010-09-12 17:36:20 UTC (rev 2780)
@@ -6,12 +6,12 @@
 # ReleaseCandidate
 T1VersionMajor: 1
 T1VersionMinor: 2
-T1SvnRevision: 2726
+T1SvnRevision: <A HREF="http://cachewolf.aldos.de/rc/mostrecentbuild.txt">http://cachewolf.aldos.de/rc/mostrecentbuild.txt</A> [\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)
 
 # InDevelopmentStable
 T2VersionMajor: 1
 T2VersionMinor: 2
-T2SvnRevision: 2726
+T2SvnRevision: <A HREF="http://cachewolf.aldos.de/stable.txt">http://cachewolf.aldos.de/stable.txt</A> [\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)
 
 # InDevelopmentNewest
 T3VersionMajor: 1

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Kassiopeia Gamma
 6125=Deneb im Schwan
 6126=Mimosa im Kreuz des S%fcdens
-7000=Freigegeben
-7001=Kandidat f%fcr Freigabe
-7002=In Entwicklung, stabil
-7003=In Entwicklung, neuste
-7010=bereits aktuell(er)
+7000=Freigegeben:+
+7001=Kandidat f%fcr Freigabe:+
+7002=In Entwicklung, stabil:+
+7003=In Entwicklung, neuste:+
+7010=aktuell
 7011=Update verf%fcgbar
 7012=nicht verf%fcgbar
 7013=Fehler
 7020=Empfohlener Versionstyp
 7021=Dieser Versiontyp
-7022=Versionstyp
+7022=Dies ist:+
 7023=Fehler beim Laden der aktuellen Versionsinformationen
 7100=Einstellungen serieller Port
 7101=Ports auflisten

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb in Cygnus
 6126=Mimosa in Southern Cross
-7000=Release
-7001=Release candidate
-7002=in development, stable
-7003=in development, newest
-7010=bereits aktuell(er)
+7000=Release:*
+7001=Release candidate:+
+7002=in development, stable:+
+7003=in development, newest:+
+7010=up-to-date
 7011=Update available
 7012=not available
 7013=error
 7020=recommended version type
 7021=type of this version
-7022=Type of version
+7022=this is:+
 7023=Error downloading current version information
 7100=Serial Port Options
 7101=Update Ports$u

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Kassiopeia Gamma
 6125=Deneb im Schwan
 6126=Mimosa im Kreuz des S%fcdens
-7000=Valid%e9
-7001=Candidat pour validation
-7002=En developpement, stable
-7003=En developpement, le plus r%e9cent
+7000=Valid%e9:+
+7001=Candidat pour validation:+
+7002=En developpement, stable:+
+7003=En developpement, le plus r%e9cent:+
 7010=d%e9j%e0 actuel
 7011=Update disponible
 7012=pas disponible
 7013=Erreur
 7020=Type de version recommand%e9
 7021=Ce type de version
-7022=Type de version
+7022=ceci est:+
 7023=Erreur en t%e9l%e9chargeant les informations de version
 7100=Port s%e9rie Options
 7101=Mise %e0 jour des ports$u

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb in Cygnus
 6126=Mimosa in Zuiderkruis
-7000=Vrijgeven
-7001=Vrijgeven kandidaat
-7002=in ontwikkeling, stabiele
-7003=in ontwikkeling, de nieuwste
+7000=Vrijgeven:+
+7001=Vrijgeven kandidaat:+
+7002=in ontwikkeling, stabiel:+
+7003=in ontwikkeling, de nieuwste:+
 7010=al actueel
 7011=Update beschikbaar
 7012=niet beschikbaar
 7013=fout
 7020=aanbevolen versie type
 7021=type van deze versie
-7022=Type versie
+7022=Dit is:+
 7023=Fout bij het downloaden van de huidige versie informatie
 7100=Serial Port Opties
 7101=Update Poorten$u

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb w gwiazdozbiorze Labedzia
 6126=Mimosa w Krzyzu Poludnia
-7000=Wypuszczona
-7001=RC
-7002=w opracowaniu, stabilna
-7003=w opracowaniu, najnowsza
-7010=bereits aktuell(er)
+7000=Wypuszczona:+
+7001=kandydata wydania:+
+7002=w opracowaniu, stabilna:+
+7003=w opracowaniu, najnowsza:+
+7010=aktualny
 7011=Uptade dostepny
 7012=niedostepne
 7013=Blad
 7020=Typ rekomendowanej wersji
 7021=typ tej wersji
-7022=Typ wersji
+7022=to jest:+
 7023=Blad sciagania informacji aktualnej wersji
 7100=Opcje portu szeregowego
 7101=Update Ports$u

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,18 +1038,18 @@
 6124=Gamma Cassiopeia
 6125=Deneb i Cygnus
 6126=Mimosa i Southern Cross
-7000=Release
-7001=Release Candidate
-7002=i utveckling, stabil
-7003=i utveckling, nyaste
-7010=bereits aktuell (er)
-7011=Uppdatering
+7000=Release:*
+7001=Release Candidate:+
+7002=i utveckling, stabil:+
+7003=i utveckling, nyaste:+
+7010=upp-till-datum
+7011=Uppdatering tillg%e4nglig
 7012=ej tillg%e4nglig
 7013=fel
-7020=rekommenderas version typ
+7020=rekommenderade versionen typ
 7021=typ av denna version
-7022=Typ av version
-7023=Fel vid h%e4mtning av nuvarande version information
+7022=detta &#228;r:+
+7023=nedladdning Fel nuvarande version information
 7100=Serial Port Options
 7101=Uppdatera Ports$u
 7102=Baud:$b

Modified: trunk/src/CacheWolf/Version.java
===================================================================
--- trunk/src/CacheWolf/Version.java	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/src/CacheWolf/Version.java	2010-09-12 17:36:20 UTC (rev 2780)
@@ -17,11 +17,11 @@
 	static final String VER_SVN =&quot;$LastChangedRevision$&quot;; // the number is automatically replaced by subversion to the latest versionnumer of this file (svn:keywords LastChangedRevision)
 	static final int SVN_REVISION = Common.parseInt(VER_SVN.substring(VER_SVN.indexOf(&quot; &quot;)+1, VER_SVN.lastIndexOf(&quot; &quot;)));
 	static final int VERSION_TYPE = 3;
-	public static final String[] VERSION_TYPES = {
-		&quot;Release&quot;,
-		&quot;ReleaseCandidate&quot;,
-		&quot;InDevelopmentStable&quot;,
-		&quot;InDevelopmentNewest&quot;
+	public static final String VERSION_TYPES(int i) {
+		if (i==0) return MyLocale.getMsg(7000,&quot;Release&quot;);
+		if (i==1) return MyLocale.getMsg(7001,&quot;Release candidate&quot;);
+		if (i==2) return MyLocale.getMsg(7002,&quot;in development, stable&quot;);
+		return MyLocale.getMsg(7003,&quot;in development, newest&quot;);
 	};
 
 	/** only valid after calling checkForUpdates() */
@@ -36,7 +36,7 @@
 	public static String getReleaseDetailed() {
 		// habe die SVN-Nummer doch aus der Anzeige erstmal wieder herausgenommen, weil es in einem final Release doch recht seltsam auss&#239;&#191;&#189;he.
 		// Sinnvoll w&#239;&#191;&#189;re daher vielleicht, eine Methode getReleaseDatail, die die SVN-Versionnummer mit angibt und z.B. im &quot;&#239;&#191;&#189;ber&quot;-Dialog angezeigt werden k&#239;&#191;&#189;nnte.
-		return getRelease() + &quot; &quot; + VERSION_TYPES[VERSION_TYPE];
+		return getRelease() + &quot; &quot; + VERSION_TYPES(VERSION_TYPE);
 	}
 
 	/**
@@ -45,7 +45,7 @@
 	 * @throws IOException
 	 */
 	public static void checkForUpdates() throws IOException {
-		Properties curvers = UrlFetcher.fetchPropertyList(&quot;<A HREF="http://www.cachewolf.org/currentversions.txt">http://www.cachewolf.org/currentversions.txt</A>&quot;);
+		Properties curvers = UrlFetcher.fetchPropertyList(&quot;<A HREF="http://svn.berlios.de/svnroot/repos/cachewolf/trunk/currentversions.txt">http://svn.berlios.de/svnroot/repos/cachewolf/trunk/currentversions.txt</A>&quot;);
 		versionnumbers = new String[updateavailabe.length];
 		for (int i = updateavailabe.length-1; i &gt;=1; i--) {
 			updateavailabe[i] = checkVersion(curvers, &quot;T&quot;+(i-1), i); // this also sets versionnumber[i]
@@ -59,20 +59,22 @@
 	 */
 	public static String newVersionsArrayToString() {
 		StringBuffer ret = new StringBuffer(500);
+		ret.append(MyLocale.getMsg(7022, &quot;Version type&quot;)+&quot;\n&quot;);
+		ret.append(VERSION_TYPES(VERSION_TYPE)+getRelease());
+		ret.append(&quot; -&gt; &quot;+MyLocale.getMsg(7010 + updateavailabe[VERSION_TYPE+1], &quot;&quot;+updateavailabe[VERSION_TYPE+1]));
+		ret.append(&quot;\n\n&quot;);
+
 		for (int i=1; i &lt;= updateavailabe.length -1; i++) {
 			if (updateavailabe[i] != 2 || i-1 == VERSION_TYPE) {
-				ret.append(MyLocale.getMsg(7000+i-1, VERSION_TYPES[i-1]));
-				if (versionnumbers[i] != null) ret.append(&quot; &quot;).append(versionnumbers[i]);
+				ret.append(VERSION_TYPES(i-1));
+				if (versionnumbers[i] != null) ret.append(&quot; &quot;).append(versionnumbers[i]).append(&quot; &quot;);
 				if (i == updateavailabe[0]) ret.append(&quot;*&quot;);
 				if (i-1 == VERSION_TYPE ) ret.append(&quot;+&quot;);
-				ret.append(&quot;: &quot;);
-				ret.append(MyLocale.getMsg(7010 + updateavailabe[i], Convert.toString(updateavailabe[i])));
 				ret.append(&quot;\n&quot;);
 			}
 		}
-		ret.append(&quot;* = &quot;).append(MyLocale.getMsg(7020, &quot;Recommended version type&quot;));
+		ret.append(&quot;\n* = &quot;).append(MyLocale.getMsg(7020, &quot;Recommended version type&quot;));
 		ret.append(&quot;\n+ = &quot;).append(MyLocale.getMsg(7021, &quot;This version type&quot;)).append(&quot;\n&quot;);
-		ret.append(getReleaseDetailed());
 		return ret.toString();
 	}
 
@@ -80,7 +82,7 @@
 		Vm.showWait(true);
 		try {
 			checkForUpdates();
-			return MyLocale.getMsg(7022, &quot;Version type&quot;) +&quot;\n&quot;+ newVersionsArrayToString();
+			return newVersionsArrayToString();
 		} catch (IOException e) {
 			return MyLocale.getMsg(7023, &quot;Error getting current version information&quot;) +&quot;\n&quot; + e.getMessage();
 		}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002766.html">[Cachewolf-svn] r2778 - trunk/src/CacheWolf/imp
</A></li>
	<LI>Next message: <A HREF="002769.html">[Cachewolf-svn] r2781 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2768">[ date ]</a>
              <a href="thread.html#2768">[ thread ]</a>
              <a href="subject.html#2768">[ subject ]</a>
              <a href="author.html#2768">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
