<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r2400 - in trunk: res_noewe/languages	src/CacheWolf/imp
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2400%20-%20in%20trunk%3A%20res_noewe/languages%0A%09src/CacheWolf/imp&In-Reply-To=%3C201001111543.o0BFh2DL001909%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002323.html">
   <LINK REL="Next"  HREF="002325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r2400 - in trunk: res_noewe/languages	src/CacheWolf/imp</H1>
    <B>araber95 at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r2400%20-%20in%20trunk%3A%20res_noewe/languages%0A%09src/CacheWolf/imp&In-Reply-To=%3C201001111543.o0BFh2DL001909%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r2400 - in trunk: res_noewe/languages	src/CacheWolf/imp">araber95 at mail.berlios.de
       </A><BR>
    <I>Mon Jan 11 16:43:02 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002323.html">[Cachewolf-svn] r2399 - in trunk: res_noewe src/CacheWolf	src/CacheWolf/imp
</A></li>
        <LI>Next message: <A HREF="002325.html">[Cachewolf-svn] r2401 - trunk/src/CacheWolf/imp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2324">[ date ]</a>
              <a href="thread.html#2324">[ thread ]</a>
              <a href="subject.html#2324">[ subject ]</a>
              <a href="author.html#2324">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: araber95
Date: 2010-01-11 16:42:56 +0100 (Mon, 11 Jan 2010)
New Revision: 2400

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
some info added

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-01-11 10:27:01 UTC (rev 2399)
+++ trunk/res_noewe/languages/DE.cfg	2010-01-11 15:42:56 UTC (rev 2400)
@@ -825,7 +825,7 @@
 		5509=Zentrumskoordinaten nicht gesetzt
 		5510=Spider Optionen
 		5511=Gefunden+
-		5512=+Caches
+		5512=+neue Caches
 		5513=Laden von:+
 		5514=%0aTravelbug:+
 		5515=Fehler beim Laden des Caches.%0aBitte %fcberpr%fcfen Sie Ihre Internetverbindung.%0aNoch einmal versuchen?

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-01-11 10:27:01 UTC (rev 2399)
+++ trunk/res_noewe/languages/EN.cfg	2010-01-11 15:42:56 UTC (rev 2400)
@@ -813,7 +813,7 @@
 		5509=Coordinates for centre must be set
 		5510=Spider Options
 		5511=Found+
-		5512=+caches
+		5512=+new caches
 		5513=Loading:+
 		5514=%0aGetting bug:+
 		5515=Failed to load cache.%0aPlease check your internet connection.%0aRetry?

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-01-11 10:27:01 UTC (rev 2399)
+++ trunk/res_noewe/languages/FR.cfg	2010-01-11 15:42:56 UTC (rev 2400)
@@ -817,7 +817,7 @@
 		5509=Coordonn%e9es de centre pas mis
 		5510=Options spider
 		5511=Trouv%e9e+
-		5512=+Caches
+		5512=+nouveau Caches
 		5513=Chargeant:+
 		5514=%0aTravel Bug:+
 		5515=Erreur en chargeant la cache.%0aMerci de v%e9rifier votre connexion internet..%0aContinuer d'essayer?

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-01-11 10:27:01 UTC (rev 2399)
+++ trunk/res_noewe/languages/NL.cfg	2010-01-11 15:42:56 UTC (rev 2400)
@@ -625,7 +625,7 @@
 		5509=Co%f6rdinaten voor middelpunt moeten worden ingegeven.
 		5510=Spider options
 		5511=Gevonden+
-		5512=+caches
+		5512=+niew caches
 		5513=Bezig met laden:+
 		5514=%0aTravelbug
 		5515=Failed to load-cache.%0aPlease Controleer je internetverbinding.%0aRetry?

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-01-11 10:27:01 UTC (rev 2399)
+++ trunk/res_noewe/languages/PL.cfg	2010-01-11 15:42:56 UTC (rev 2400)
@@ -809,7 +809,7 @@
                 5509=Wspolrzedne dla srodka musza byc podane
                 5510=Opcje Spidera
                 5511=Znaleziona+
-                5512=+skrzynki
+                5512=+nowy skrzynki
                 5513=Wczytuje:+
                 5514=%0aPobieram bugi:+
                 5515=Nie mozna zaladowac skrzynki.%0aProsze sprawdzic polaczenie z netem.%0aSprobowac ponownie?

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-01-11 10:27:01 UTC (rev 2399)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-01-11 15:42:56 UTC (rev 2400)
@@ -118,6 +118,11 @@
 	private static String propListBlockRex;
 	private static String propLineRex;
 
+	private int numFoundUpdates=0;
+	private int numArchivedUpdates=0;
+	private int numAvailableUpdates=0;
+	private int numLogUpdates=0;
+	
 	public SpiderGC(Preferences prf, Profile profile, boolean bypass){
 		this.profile=profile;
 		this.cacheDB = profile.cacheDB;
@@ -352,8 +357,19 @@
 
 		if (infB.isClosed) { Vm.showWait(false); return; }
 		infB.setInfo(MyLocale.getMsg(5511,&quot;Found &quot;) + cachesToLoad.size() + MyLocale.getMsg(5512,&quot; caches&quot;));
+		
+		pref.log(&quot;Checked &quot; + page_number + &quot; pages&quot;);
+		pref.log(&quot;with &quot; + ((page_number-1)*20+found_on_page) + &quot; caches&quot;);
 		pref.log(&quot;Found &quot; + cachesToLoad.size() + &quot; new caches&quot;);
-		pref.log(&quot;Found &quot; + cachesToUpdate.size() + &quot; caches for update&quot;);
+		pref.log(&quot;Found &quot; + cachesToUpdate.size() + &quot;/&quot; + cachesShouldUpdate.size() + &quot; caches for update&quot;);
+		if(spiderAllFinds){
+			pref.log(&quot;Found &quot; + numFoundUpdates + &quot; caches with no found in profile.&quot;);
+			pref.log(&quot;Found &quot; + numArchivedUpdates + &quot; caches with changed archived status.&quot;);
+		}
+		pref.log(&quot;Found &quot; + numAvailableUpdates + &quot; caches with changed available status.&quot;);
+		pref.log(&quot;Found &quot; + numLogUpdates + &quot; caches with new found in log.&quot;);
+		pref.log(&quot;Found &quot; + (cachesToUpdate.size()-numAvailableUpdates-numLogUpdates) + &quot; caches possibly archived.&quot;);
+		pref.log(&quot;Found &quot; + cachesShouldUpdate.size() + &quot;?=&quot; + (numFoundUpdates+numArchivedUpdates+numAvailableUpdates+numArchivedUpdates) + &quot; caches to update.&quot;);
 
 		//=======
 		// Now ready to spider each cache in the list
@@ -402,7 +418,7 @@
 				} // For test==SPIDER_IGNORE_PREMIUM: Nothing to do
 			}
 		}
-
+		
 		if (!infB.isClosed) {
 			int j = 1;
 			for (Enumeration e = cachesToUpdate.elements() ; e.hasMoreElements() ; j++) {
@@ -761,13 +777,13 @@
 	private boolean updateExists(CacheHolder ch, String CacheDescription) {
 		// int lineDescription=20;
 		if (spiderAllFinds) {
-			if(!ch.is_found()) { ch.setFound(true); ch.save(); return true;}
+			if(!ch.is_found()) { ch.setFound(true); ch.save(); numFoundUpdates+=1; return true;}
 			boolean is_archived_GC=CacheDescription.indexOf(&quot;&lt;font color=\&quot;red\&quot;&gt;&lt;strike&gt;&quot;)!=-1;
-			if (is_archived_GC!=ch.is_archived()) { ch.setArchived(is_archived_GC); ch.save(); return true;}
+			if (is_archived_GC!=ch.is_archived()) { ch.setArchived(is_archived_GC); ch.save(); numArchivedUpdates+=1; return true;}
 		}
 		boolean is_available_GC=CacheDescription.indexOf(&quot;&lt;strike&gt;&quot;)==-1;
-		if (is_available_GC != ch.is_available()) { ch.setAvailable(is_available_GC); ch.save(); return true;}
-		if (newLogExists(ch,CacheDescription)) {return true;}
+		if (is_available_GC != ch.is_available()) { ch.setAvailable(is_available_GC); ch.save(); numAvailableUpdates+=1; return true;}
+		if (newLogExists(ch,CacheDescription)) {numLogUpdates+=1; return true;}
 		return false;
 	}
 	/**


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002323.html">[Cachewolf-svn] r2399 - in trunk: res_noewe src/CacheWolf	src/CacheWolf/imp
</A></li>
	<LI>Next message: <A HREF="002325.html">[Cachewolf-svn] r2401 - trunk/src/CacheWolf/imp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2324">[ date ]</a>
              <a href="thread.html#2324">[ thread ]</a>
              <a href="subject.html#2324">[ subject ]</a>
              <a href="author.html#2324">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
