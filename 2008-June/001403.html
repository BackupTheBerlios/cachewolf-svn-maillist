<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Cachewolf-svn] r1509 - trunk/docs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cachewolf-svn/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1509%20-%20trunk/docs&In-Reply-To=%3C200806080904.m5894a2X020819%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001402.html">
   <LINK REL="Next"  HREF="001404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Cachewolf-svn] r1509 - trunk/docs</H1>
    <B>salzkammergut at mail.berlios.de</B> 
    <A HREF="mailto:cachewolf-svn%40lists.berlios.de?Subject=Re%3A%20%5BCachewolf-svn%5D%20r1509%20-%20trunk/docs&In-Reply-To=%3C200806080904.m5894a2X020819%40sheep.berlios.de%3E"
       TITLE="[Cachewolf-svn] r1509 - trunk/docs">salzkammergut at mail.berlios.de
       </A><BR>
    <I>Sun Jun  8 11:04:36 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001402.html">[Cachewolf-svn] r1508 - in trunk/src/CacheWolf: . navi
</A></li>
        <LI>Next message: <A HREF="001404.html">[Cachewolf-svn] r1510 - trunk/res_noewe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1403">[ date ]</a>
              <a href="thread.html#1403">[ thread ]</a>
              <a href="subject.html#1403">[ subject ]</a>
              <a href="author.html#1403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: salzkammergut
Date: 2008-06-08 11:04:33 +0200 (Sun, 08 Jun 2008)
New Revision: 1509

Modified:
   trunk/docs/TemplateExport.txt
Log:
Updated template documentation

Modified: trunk/docs/TemplateExport.txt
===================================================================
--- trunk/docs/TemplateExport.txt	2008-06-08 08:59:51 UTC (rev 1508)
+++ trunk/docs/TemplateExport.txt	2008-06-08 09:04:33 UTC (rev 1509)
@@ -1,34 +1,47 @@
 &#65279;Short documentation for the export via templates
 
 Comment
+=======
+
 &lt;#-- TomTom ASC or POI --&gt;
 Anything between &quot;&lt;#--&quot; and &quot;--&gt;&quot; is handled as a comment
 
 Configuration section
+=====================
+
 Charsets: &lt;tmpl_par name=&quot;charset&quot; value=&quot;ASCII&quot;&gt;, values ASCII or UTF8
 
-Bad Chars:
-These chars are removed from the cachename, for example the ',' if ',' is used as a separator.
+Bad Chars
+=========
+
+These chars are removed from the cachename, hints and notes, for example the ',' if ',' is used as a separator.
 &lt;tmpl_par name=&quot;badchars&quot; value=&quot;,&quot;&gt;
 
-Newline:
+Newline
+=======
+
 These defines, what should be used for replacing &lt;br /&gt;
 &lt;tmpl_par name=&quot;newline&quot; value=&quot;CRLF&quot;&gt;, values are CR, LF or CRLF
 
-Decimal separator:
+Decimal separator
+=================
+
 Defines, which decimal separator is used
 &lt;tmpl_par name=&quot;decsep&quot; value=&quot;,&quot;&gt;, values &quot;.&quot; or ','
 
 Output section
+==============
 Anything (except comments and variables) is written to the output file. The cachedata ist placed between &lt;tmpl_loop cache_index&gt; and &lt;/tmpl_loop&gt;. Variables defined like this: &lt;tmpl_var name=LON&gt;. At the end of the line &lt;br /&gt; has to be placed, this ist replaced by CR.
 
-Variables:
+Variables
+=========
+
 TYPE: Type of cache, e.g. Regular, Multi
-SHORTTYPE: First Letter of sype
+SHORTTYPE: First Letter of type
 SIZE: Size of Cache, e.g. Regular, Micro
 SHORTSIZE: First letter of size
 WAYPOINT: GCXXXX, OCXXXX
-NAME: Name of cache
+NAME: Name of cache (badchars are removed, see below)
 OWNER
 DIFFICULTY
 TERRAIN
@@ -38,10 +51,21 @@
 LAT: Latitude in decimal format, e.g. 50.20147
 LON: Longitude in decimal format, e.g. 008.58132
 STATUS
+STATUS_DATE: Get the date part of the status 
+STATUS_TIME: Get the time part of the status
 DATE: date hidden
 URL
+DESCRIPTION: Cache Description (possibly in HTML Format)
+NOTES: User Notes   (badchars are removed, see below)
+HINTS: Encrypted hints   (badchars are removed, see below)
+DESCRYPTEDHINTS: Decrypted hints    (badchars are removed, see below) 
 
-Example:
+Further documentation of template library: <A HREF="http://html-tmpl-java.sourceforge.net/">http://html-tmpl-java.sourceforge.net/</A>
+
+
+Example
+=======
+
 &lt;#-- Microsoft AutoRoute --&gt;
 &lt;#-- Codecs: ASCII, UTF8 --&gt;
 &lt;tmpl_par name=&quot;charset&quot; value=&quot;ASCII&quot;&gt;
@@ -55,3 +79,99 @@
 &lt;tmpl_loop cache_index&gt;
 &quot;&lt;tmpl_var name=SHORTTYPE&gt;-&lt;tmpl_var name=SHORTSIZE&gt;-&lt;tmpl_var name=DIFFICULTY&gt;-&lt;tmpl_var name=TERRAIN&gt; &lt;tmpl_var name=NAME&gt;&quot;;&lt;tmpl_var name=LAT&gt;;&lt;tmpl_var name=LON&gt;;&quot;&lt;tmpl_var name=TYPE&gt;&quot;;&quot;&lt;tmpl_var name=SIZE&gt;&quot;;&quot;&lt;tmpl_var name=WAYPOINT&gt;&quot;;&quot;&lt;tmpl_var name=DATE&gt;&quot;;&quot;&lt;tmpl_var name=URL&gt;&quot;&lt;br /&gt;
 &lt;/tmpl_loop&gt;
+
+
+Tags
+====
+
+tmpl_var
+--------
+
+You can set default values for your template variables, 
+which will be used if no value has been set through the setParam method.
+
+&lt;TMPL_VAR name=&quot;var_name&quot; default=&quot;my value&quot;&gt;
+
+If var_name is set using setParam (or setParams), then it's value will be whatever it was set to, 
+else it will be &quot;my value&quot; (without the quotes).
+
+You can also &quot;escape&quot; certain strings. The following escape modes are possible.
+  none:   String unchanged (this is the default if escape is not specified)
+  html:   Encode special characters: &amp; &gt; &lt; &quot;.  They are changed to &amp; &lt;  &gt;  and &quot; respectively
+  url:    Encode special characters in URL, e.g. space becomes %20
+  quote:  Change quotation marks:   &quot; becomes \&quot;  and ' becomes \'
+
+Example: &lt;TMPL_VAR name=&quot;var_name&quot; escape=&quot;html&quot;&gt;
+
+tmpl_if
+-------
+
+The &lt;tmpl_if&gt; tag allows you to include or not include a block of the template based on the value 
+of a given parameter name. If the parameter is given a value that is true, then the block is included 
+in the output. If the value is false, then it is skipped.
+
+The tmpl_if must be closed with a corresponding /tmpl_if, e.g.
+
+&lt;tmpl_if ...&gt;
+...
+&lt;/tmpl_if&gt;
+
+
+Parameter values for conditions are Strings in java, and not boolean values, hence, what evaluates to true 
+and false needs to be specifically defined.
+
+As of now, the following values evaluate to false:
+&quot;&quot; - the empty string
+&quot;0&quot; - the string containing only the number zero
+null - the null value
+
+tmpl_else
+---------
+
+While the if block allows us to display some output if a condition is true, 
+we may also need to display content if the condition is false. This can be done by using the optional 
+else branch of the if block.
+
+tmpl_unless
+-----------
+
+This tag is the exact opposite of the &lt;tmpl_if&gt; tag. A &lt;tmpl_unless&gt; block is displayed if its control 
+variable evaluates to false. If the control variable evaluates to true, then the else block, 
+if any, is displayed instead.
+
+tmpl_loop
+---------
+
+The &lt;tmpl_loop&gt; tag is a bit more complicated than the other tags. It allows you to create a section of text 
+that will be displayed repeatedly for every item in the loop control variable. Inside the &lt;tmpl_loop&gt;, 
+you place &lt;tmpl_var&gt;s. The only loop used by the template exporter is 'cache_index', see example above. 
+
+Loop context variables
+----------------------
+
+If you set loop_context_vars to true in your Template's constructor, then you will have access to five 
+special variables in all your loops. These are:
+
+__FIRST__
+    True for the first run of the loop, false otherwise
+__LAST__
+    True for the last run of the loop, false otherwise
+__ODD__
+    True for every other iteration of the loop - a loop starts at 1
+__INNER__
+    True if both __FIRST__ and __LAST__ are false
+__COUNTER__
+    Which iteration is currently on. Starts at 1
+
+You may use these like any other &lt;TMPL_VAR&gt; inside your loop.
+
+
+tmpl_include
+------------
+
+The &lt;tmpl_include&gt; tag is the next simplest tag after &lt;tmpl_var&gt;, however, it will not do what you expect it to do 
+inside a &lt;tmpl_if&gt;
+
+&lt;tmpl_include&gt; is used to include the contents of another template within this template, at the position of the tag. 
+Processing then continues, as if the included template were always a part of the current template. 
+


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001402.html">[Cachewolf-svn] r1508 - in trunk/src/CacheWolf: . navi
</A></li>
	<LI>Next message: <A HREF="001404.html">[Cachewolf-svn] r1510 - trunk/res_noewe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1403">[ date ]</a>
              <a href="thread.html#1403">[ thread ]</a>
              <a href="subject.html#1403">[ subject ]</a>
              <a href="author.html#1403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cachewolf-svn">More information about the Cachewolf-svn
mailing list</a><br>
</body></html>
