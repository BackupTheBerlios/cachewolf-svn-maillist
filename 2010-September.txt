From mik77 at mail.berlios.de  Thu Sep  2 11:10:04 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Thu,  2 Sep 2010 11:10:04 AM +0200
Subject: [Cachewolf-svn] r2766 - trunk/src/CacheWolf/imp
Message-ID: <20100902091004.AD687480FF9@sheep.berlios.de>

Author: mik77
Date: 2010-09-02 11:10:04 +0200 (Thu, 02 Sep 2010)
New Revision: 2766

Modified:
   trunk/src/CacheWolf/imp/GCVoteImporter.java
Log:
Factor for GcVote average changed from 2 to 10

Modified: trunk/src/CacheWolf/imp/GCVoteImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GCVoteImporter.java	2010-08-31 19:33:39 UTC (rev 2765)
+++ trunk/src/CacheWolf/imp/GCVoteImporter.java	2010-09-02 09:10:04 UTC (rev 2766)
@@ -115,7 +115,7 @@
 		double voteAvg;
 		if(name.equals("vote")) {
 			waypoint = atts.getValue("waypoint");
-			voteAvg = Common.parseDouble(atts.getValue("voteAvg")) * 2.0;
+			voteAvg = Common.parseDouble(atts.getValue("voteAvg")) * 10.0;
 			// voteCnt = atts.getValue("voteCnt");
 			if (pref.debug) pref.log("[GCVote]:WQaypoint = " + waypoint + "-" + voteAvg);
 



From mik77 at mail.berlios.de  Thu Sep  2 03:18:45 2010
From: mik77 at mail.berlios.de (mik77 at mail.berlios.de)
Date: Thu,  2 Sep 2010 03:18:45 PM +0200
Subject: [Cachewolf-svn] r2767 - in trunk/src/CacheWolf: . imp
Message-ID: <20100902131845.A70A94801A1@sheep.berlios.de>

Author: mik77
Date: 2010-09-02 15:18:45 +0200 (Thu, 02 Sep 2010)
New Revision: 2767

Modified:
   trunk/src/CacheWolf/MyComparer.java
   trunk/src/CacheWolf/imp/GCVoteImporter.java
   trunk/src/CacheWolf/myTableModel.java
Log:
save and show number of votes from GcVote

Modified: trunk/src/CacheWolf/MyComparer.java
===================================================================
--- trunk/src/CacheWolf/MyComparer.java	2010-09-02 09:10:04 UTC (rev 2766)
+++ trunk/src/CacheWolf/MyComparer.java	2010-09-02 13:18:45 UTC (rev 2767)
@@ -92,7 +92,18 @@
 		} else if (colToCompare==13) {
 			for (int i=0; i<visibleSize; i++) {
 				CacheHolder ch=cacheDB.get(i);
-				ch.sort=MyLocale.formatLong(ch.getNumRecommended(),"00000");
+				if ( ch.isOC() ) {
+  				ch.sort=MyLocale.formatLong(ch.getNumRecommended(),"00000");
+        } else {
+				  int gcVote = ch.getNumRecommended();
+				  if ( gcVote < 100 ) {
+				    ch.sort=MyLocale.formatLong(gcVote,"00") + "00000000";
+          } else {
+            int votes = gcVote / 100;
+            gcVote = gcVote - 100 * votes;
+            ch.sort = MyLocale.formatLong(gcVote,"00") + MyLocale.formatLong(votes,"00000000");
+          }
+        }
 			}			
 		} else if (colToCompare==14) {
 			for (int i=0; i<visibleSize; i++) {

Modified: trunk/src/CacheWolf/imp/GCVoteImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GCVoteImporter.java	2010-09-02 09:10:04 UTC (rev 2766)
+++ trunk/src/CacheWolf/imp/GCVoteImporter.java	2010-09-02 13:18:45 UTC (rev 2767)
@@ -113,14 +113,15 @@
 	public void startElement(String name, AttributeList atts){
 		String waypoint;
 		double voteAvg;
+		int voteCnt;
 		if(name.equals("vote")) {
 			waypoint = atts.getValue("waypoint");
 			voteAvg = Common.parseDouble(atts.getValue("voteAvg")) * 10.0;
-			// voteCnt = atts.getValue("voteCnt");
-			if (pref.debug) pref.log("[GCVote]:WQaypoint = " + waypoint + "-" + voteAvg);
+			voteCnt = Common.parseInt(atts.getValue("voteCnt"));
+			if (pref.debug) pref.log("[GCVote]:Waypoint = " + waypoint + " - " + voteAvg + "(" + voteCnt + " votes)" );
 
 			CacheHolder cb = cacheDB.get(waypoint);
-			cb.setNumRecommended((int)(voteAvg + 0.5));
+			cb.setNumRecommended( 100*voteCnt + (int)(voteAvg + 0.5));
 		}
 	}
 

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2010-09-02 09:10:04 UTC (rev 2766)
+++ trunk/src/CacheWolf/myTableModel.java	2010-09-02 13:18:45 UTC (rev 2767)
@@ -453,7 +453,18 @@
 				case 13: // OC number of recommendations
 					if (!ch.isCacheWpt())
 						return null;
-					return Convert.formatInt(ch.getNumRecommended());
+					if ( ch.isOC() ) {
+					  return Convert.formatInt(ch.getNumRecommended());
+					} else {
+					  int gcVote = ch.getNumRecommended();
+					  if ( gcVote < 100 ) {
+					    return MyLocale.formatDouble((double)gcVote/10.0, "0.0"); 
+					  } else {
+					    int votes = gcVote / 100;
+					    gcVote = gcVote - 100 * votes;
+					    return MyLocale.formatDouble((double)gcVote/10.0, "0.0") + " (" + Convert.formatInt(votes) + ")";
+            } 
+          }
 				case 14: // OC rating
 					if (ch.isOC())
 						return Convert.formatInt(ch.recommendationScore);



From araber95 at mail.berlios.de  Fri Sep  3 04:25:04 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri,  3 Sep 2010 04:25:04 PM +0200
Subject: [Cachewolf-svn] r2768 - in trunk: res_noewe res_noewe/languages
	src/CacheWolf src/CacheWolf/imp
Message-ID: <20100903142505.0BFF6481014@sheep.berlios.de>

Author: araber95
Date: 2010-09-03 16:25:04 +0200 (Fri, 03 Sep 2010)
New Revision: 2768

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/res_noewe/spider.def
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/StatusBar.java
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
doing some things better and quicker.

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-03 14:25:04 UTC (rev 2768)
@@ -60,13 +60,13 @@
 128=%fcber Template
 129=aus Datei
 130=von opencaching
-131=um Zentrum (GC)
+131=von GC um Zentrum
 132=nach Explorist
 133=Suche alle
 134=Gew%e4hlter Cache
 135=nach SpoilerPOI
 136=zum GPS: installiere GPSBabel
-137=am Weg (GC)
+137=von GC am Weg
 139=Travelbugs verwalten
 140=Verwalten
 141=Kopieren
@@ -137,7 +137,7 @@
 214=Neuer Wegpunkt
 215=nach LOC
 216=Immer bei GC einloggen
-217=Funde (GC)
+217=von GC Funde
 218=Auch in Beschreibung/Notizen
 219=Suche...
 220=Pr%fcfe Notizen und L%f6ser
@@ -972,7 +972,7 @@
 5509=Zentrumskoordinaten nicht gesetzt
 5510=Import Optionen
 5511=Gefunden+
-5512=+neue Caches
+5512=+%0aneue / zu aktualisierende Caches
 5513=Laden von:+
 5514=%0aTravelbug:+
 5515=Fehler beim Laden des Caches.%0aBitte %fcberpr%fcfen Sie Ihre Internetverbindung und ob als Sprache bei GC.com English ausgew%e4hlt ist.%0aNoch einmal versuchen?

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-03 14:25:04 UTC (rev 2768)
@@ -60,13 +60,13 @@
 128=via Template
 129=from file
 130=from opencaching
-131=from geocaching.com
+131=from GC around the center
 132=to Explorist
 133=Search all
 134=Selected Cache
 135=to SpoilerPOI
 136=to GPS : gpsbabel missing.
-137=along a route (from gc)
+137=from GC along a route
 139=Manage Travelbugs
 140=Organise
 141=Copy
@@ -137,7 +137,7 @@
 214=New Waypoint
 215=to LOC
 216=Always login to GC
-217=all finds (GC)
+217=from GC finds
 218=Also in description/notes
 219=Searching...
 220=Check notes and solver
@@ -972,7 +972,7 @@
 5509=Coordinates for centre must be set
 5510=Spider Options
 5511=Found+
-5512=+new caches
+5512=+new/update caches
 5513=Loading:+
 5514=%0aGetting bug:+
 5515=Failed to load cache.%0aPlease check your internet connection.%0aRetry?

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-03 14:25:04 UTC (rev 2768)
@@ -60,13 +60,13 @@
 128=par Template
 129=de Fichier
 130=de opencaching
-131=de geocaching.com
+131=de GC autour du centre
 132=vers Explorist
 133=Cherche toutes
 134=Cache choisi
 135=vers SpoilerPOI
 136=to GPS : gpsbabel missing.
-137=along a route (from gc)
+137=de GC le long de la route
 139=G%e9rer Travelbugs
 140=G%e9rer
 141=Copier
@@ -137,7 +137,7 @@
 214=Nouveau waypoint
 215=%e0 LOC
 216=Toujours connecter
-217=toutes les trouvailles (GC)
+217=de GC trouvailles
 218=Aussi dans description/notes
 219=Cherchant...
 220=V%e9rifier notes et resoudeur
@@ -972,7 +972,7 @@
 5509=Coordonn%e9es de centre pas mis
 5510=Options spider
 5511=Trouv%e9e+
-5512=+nouveau Caches
+5512=+nouveau/mettre %e0 jour Caches
 5513=Chargeant:+
 5514=%0aTravel Bug:+
 5515=Erreur en chargeant la cache.%0aMerci de v%e9rifier votre connexion internet et si vous avez language englais chez gc.com..%0aContinuer d'essayer?

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-03 14:25:04 UTC (rev 2768)
@@ -60,13 +60,13 @@
 128=Via sjabloon
 129=van Bestand
 130=van opencaching
-131=van geocaching.com
+131=van GC rond het centrum
 132=Naar Explorist
 133=Allen zoeken
 134=Gekozen Cache
 135=Naar SpoilerPOI
 136=to GPS : gpsbabel missing.
-137=along a route (from gc)
+137=van GC langs de route
 139=Beheren Travelbugs
 140=Organiseren
 141=Kopi%ebren
@@ -137,7 +137,7 @@
 214=Nieuwe Waypoint
 215=aan LOC
 216=Altijd aanmelden bij GC
-217=alle vondsten (GC)
+217=van GC vondsten
 218=Ook in opmerkingen/beschrijving
 219=Zoeken...
 220=Onderzoek opmerkingen en oplosser
@@ -972,7 +972,7 @@
 5509=Co%f6rdinaten voor middelpunt moeten worden ingegeven.
 5510=Spider options
 5511=Gevonden+
-5512=+niew caches
+5512=+niew/update caches
 5513=Bezig met laden:+
 5514=%0aTravelbug
 5515=Failed to load-cache.%0aPlease Controleer je internetverbinding.%0aRetry?

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-03 14:25:04 UTC (rev 2768)
@@ -60,13 +60,13 @@
 128=Przez szablon
 129=z pliku
 130=z Opencaching
-131=z geocaching.com
+131=z GC wok%f3l centrum
 132=Explorist
 133=Szukaj wszystkich
 134=Zaznaczony Cache
 135=SpoilerPOI
 136=to GPS : gpsbabel missing.
-137=along a route (from gc)
+137=z GC na trasie
 139=Zarzadzaj Travelbugami
 140=Zarzadzanie
 141=Kopiuj
@@ -137,7 +137,7 @@
 214=Nowy WaypointUsunacUsunac
 215=LOC
 216=Zawsze loguj do GC
-217=sciagnij wszystkie znalezione (GC)
+217=z GC stwierdza
 218=Takze w opisie/notatkach
 219=Wyszukiwanie...
 220=Sprawdz notatki i pomoc
@@ -972,7 +972,7 @@
 5509=Wspolrzedne dla srodka musza byc podane
 5510=Opcje Spidera
 5511=Znaleziona+
-5512=+nowy skrzynki
+5512=+nowy/aktualizacja skrzynki
 5513=Wczytuje:+
 5514=%0aPobieram bugi:+
 5515=Nie mozna zaladowac skrzynki.%0aProsze sprawdzic polaczenie z netem.%0aSprobowac ponownie?

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-03 14:25:04 UTC (rev 2768)
@@ -60,13 +60,13 @@
 128=via Mall
 129=fr%e5n fil
 130=fr%e5n opencaching
-131=fr%e5n geocaching.com
+131=fr%e5n GC runt centrum
 132=till eXplorist
 133=S%f6k alla
 134=Valda Cache
 135=till SpoilerPOI
 136=to GPS : gpsbabel missing.
-137=along a route (from gc)
+137=fr%e5n GC l%e4ngs rutten
 139=Hantera Travelbugs
 140=Sortera
 141=Kopiera
@@ -137,7 +137,7 @@
 214=Ny v%e4gpunkt
 215=f%f6r LOC
 216=alltid logga in till GC
-217=alla fynd (GC)
+217=fr%e5n GC finner
 218=%e4ven i beskrivningen / Notes
 219=S%f6ker ...
 220=Kontrollera anteckningar och solver
@@ -972,7 +972,7 @@
 5509=Koordinater f%f6r centrum m%e5ste st%e4llas
 5510=Spider Options
 5511=Found +
-5512=+ nya cachar
+5512=+ nya/uppdatering cachar
 5513=Laddar: +
 5514 =%0aGetting bug: +
 5515=Kunde inte ladda cache.%0aPlease kontrollera din Internetanslutning.%0aRetry?

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/res_noewe/spider.def	2010-09-03 14:25:04 UTC (rev 2768)
@@ -157,8 +157,8 @@
 bugLinkEnd         = "\ class="lnk">
 bugNameExStart     = <span>
 bugNameExEnd       = </span>
-bugDetailsStart    = id="ctl00_ContentBody_BugDetails_BugGoal">
-bugDetailsEnd      = </span>
+bugDetailsStart    = "og:description"\ content="
+bugDetailsEnd      = "\ property="og:desc
 getBugByName       = http://www.geocaching.com/track/search.aspx?k=
 getBugByGuid       = http://www.geocaching.com/track/details.aspx?guid=
 getBugById         = http://www.geocaching.com/track/details.aspx?id=

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/src/CacheWolf/Preferences.java	2010-09-03 14:25:04 UTC (rev 2768)
@@ -1042,7 +1042,11 @@
 	public void logInit(){
 		File logFile = new FileBugfix(LOGFILENAME);
 		logFile.delete();
-		log("CW Version "+Version.getReleaseDetailed());
+		log("CW Version "+Version.getReleaseDetailed(),null);
+		
+		if (System.getProperty("os.name")!=null) log("Operating system: "+System.getProperty("os.name")+"/"+System.getProperty("os.arch"),null);
+		if (System.getProperty("java.vendor")!=null) log("Java: "+System.getProperty("java.vendor")+"/"+System.getProperty("java.version"),null);
+		
 	}
 
 	boolean forceLog = false;
@@ -1092,7 +1096,7 @@
 	 */
 	public void log(String text,Throwable e, boolean withStackTrace) {
 		if (e!=null) {
-			text+="\n";
+			text+=Preferences.NEWLINE;
 			if (withStackTrace)
 				text+=ewe.sys.Vm.getAStackTrace(e);
 			else

Modified: trunk/src/CacheWolf/StatusBar.java
===================================================================
--- trunk/src/CacheWolf/StatusBar.java	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/src/CacheWolf/StatusBar.java	2010-09-03 14:25:04 UTC (rev 2768)
@@ -79,6 +79,7 @@
 		strStatus += MyLocale.getMsg(4500,"Tot:") + " " + stats.total(bigScreen) + " " +
 					MyLocale.getMsg(4501,"Dsp:") + " " + stats.visible(bigScreen) + " " +
 					MyLocale.getMsg(4502,"Fnd:") + " " + stats.totalFound() + "  ";
+		disp.setToolTip("Cache/Addi +Blacklisted");
 		disp.setText(strStatus);
 		// Indicate that a filter is active in the status line
 		if (Global.getProfile().getFilterActive()==Filter.FILTER_ACTIVE)

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-02 13:18:45 UTC (rev 2767)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-03 14:25:04 UTC (rev 2768)
@@ -117,14 +117,12 @@
 	private static SpiderProperties p=null;
 	// following filled at doit
 	private CWPoint origin;
-	private double saveDistanceInMiles;
 	private boolean doNotgetFound;
 	private String cacheTypeRestriction;
 	private boolean spiderAllFinds;
 	private String htmlListPage;
 	private int maxUpdate;
 	private boolean maxNumberAbort;
-	private double distanceInKm=0;
 	private byte restrictedCacheType=0;
 
 	private static String propFirstPage;
@@ -132,6 +130,9 @@
 	private static String propFirstPageFinds;
 	private static String propFirstLine;
 	private static String propFirstLine2;
+	private static String gotoNextPage = "ctl00$ContentBody$pgrTop$ctl08";
+	private static String gotoNextBlock = "ctl00$ContentBody$pgrTop$ctl06"; // change to the block (10pages) of the wanted page
+	private static String gotoPage = "ctl00$ContentBody$pgrTop$lbGoToPage_"; // add pagenumber 
 	private static String propMaxDistance;
 	private static String propShowOnlyFound;
 	private static Regex RexPropListBlock;
@@ -195,9 +196,6 @@
 			return;
 		}
 		
-		if (System.getProperty("os.name")!=null)pref.log("Operating system: "+System.getProperty("os.name")+"/"+System.getProperty("os.arch"));
-		if (System.getProperty("java.vendor")!=null)pref.log("Java: "+System.getProperty("java.vendor")+"/"+System.getProperty("java.version"));
-		
 		// Reset states for all caches when spidering (http://tinyurl.com/dzjh7p)
 		for(int i = 0; i<cacheDB.size();i++){
 			CacheHolder ch = cacheDB.get(i);
@@ -210,7 +208,7 @@
 			infB = new InfoBox("Status", MyLocale.getMsg(5502,"Fetching first page..."));
 			infB.exec();
 			
-			pref.log("Download properties : "+Preferences.NEWLINE
+			pref.log("ListPages Properties : "+Preferences.NEWLINE
 					+ "minDistance: " + minDistance+Preferences.NEWLINE
 					+ "maxDistance: " + maxDistance+Preferences.NEWLINE
 					+ "directions: " + direction+Preferences.NEWLINE
@@ -224,7 +222,8 @@
 			
 			Hashtable cachesToUpdate = new Hashtable(cacheDB.size());
 			
-			fillDownloadLists(pref.maxSpiderNumber , maxUpdate, maxDistance, minDistance, directions, cachesToUpdate);
+			cachesToUpdate=fillDownloadLists(pref.maxSpiderNumber , maxUpdate, maxDistance, minDistance, directions, cachesToUpdate);
+			if (cachesToUpdate == null) {cachesToUpdate = new Hashtable();};
 			if (infB.isClosed) { Vm.showWait(false); return; }
 			infB.setInfo(MyLocale.getMsg(5511,"Found ") + cachesToLoad.size() + MyLocale.getMsg(5512," caches"));
 
@@ -250,7 +249,7 @@
 			int totalCachesToLoad = cachesToLoad.size() + cachesToUpdate.size();
 			boolean loadAllLogs = (pref.maxLogsToSpider > 5) || spiderAllFinds;
 			pref.log("Download properties : "+Preferences.NEWLINE
-					+ "maxLogs: " + (loadAllLogs ? "completepage " : "shortpage") + "save:" + pref.maxLogsToSpider+Preferences.NEWLINE
+					+ "maxLogs: " + (loadAllLogs ? "completepage " : "shortpage") + "nr.:" + pref.maxLogsToSpider+Preferences.NEWLINE
 					+ "with pictures     : " + (!pref.downloadPics ? "no" : "yes")+Preferences.NEWLINE
 					+ "with tb           : " + (!pref.downloadTBs ? "no" : "yes")+Preferences.NEWLINE
 					,null);
@@ -260,8 +259,6 @@
 			spiderErrors=downloadCaches(cachesToLoad, spiderErrors, totalCachesToLoad, loadAllLogs);
 			spiderErrors=updateCaches(cachesToUpdate, spiderErrors, totalCachesToLoad, loadAllLogs);
 
-			if (infB.isClosed) { Vm.showWait(false); return; }
-
 			if ( spiderErrors > 0) {
 				new MessageBox(MyLocale.getMsg(5500,"Error"),spiderErrors + MyLocale.getMsg(5516," cache descriptions%0acould not be loaded."),FormBase.DEFOKB).execute();
 			}
@@ -271,7 +268,7 @@
 			Global.getProfile().restoreFilter();
 			Global.getProfile().saveIndex(Global.getPref(),true);
 
-			infB.close(0);
+			if (!infB.isClosed) {infB.close(0);}			
 			Vm.showWait(false);			
 		}
 	} // End of DoIt
@@ -292,7 +289,10 @@
 			if (ch.mainCache == null) ch.initStates(false);
 		}
 
-		double lateralDistance = distanceInKm; // Seitenabstand in km
+		double lateralDistance=maxDistance; // Seitenabstand in km
+		if ( pref.metricSystem == Metrics.IMPERIAL ) {
+			lateralDistance = Metrics.convertUnit(maxDistance, Metrics.MILES, Metrics.KILOMETER);
+		}			
 		cachesToLoad.clear();
 		origin=startPos;
 		Hashtable cachesToUpdate = new Hashtable(); //dummy , won't update
@@ -300,7 +300,7 @@
 		int n;
 		while ((n=nextRoutePoint(startPos, lateralDistance)) > -1) {
 			// spider around startpos			
-			fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
+			cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
 			nextCache=cacheDB.get(n);
 			double degrees = startPos.getBearing(nextCache.pos);
 			double distanceToNextCache=startPos.getDistance(nextCache.pos);
@@ -310,17 +310,17 @@
 				startPos=nextCheckPoint;
 				// spider around nextCheckPoint
 				origin=nextCheckPoint;
-				fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
-				// Global.getPref().log("next CP = "+nextCheckPoint.toString(),null);
+				cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
+				// pref.log("next CP = "+nextCheckPoint.toString(),null);
 				if (infB.isClosed) { break; }
 			}
 			startPos=nextCache.pos;
-			// Global.getPref().log("next WP = "+nextCache.getWayPoint()+" : "+CWPoint.getDirection(degrees),null);
+			// pref.log("next WP = "+nextCache.getWayPoint()+" : "+CWPoint.getDirection(degrees),null);
 			if (infB.isClosed) { break; }
 		}
 		// spider around startpos (means endpos)
 		origin=startPos;
-		fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
+		cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
 		int spiderErrors=0;
 		if (infB.isClosed) { Vm.showWait(false); return; } // or ask for download of intermediate result 
 		spiderErrors=downloadCaches(cachesToLoad, spiderErrors, cachesToLoad.size(), true);
@@ -460,7 +460,7 @@
 			if (maxNumberString.length()!= 0) {
 				maxNew = Common.parseInt(maxNumberString);
 			}
-			if (maxNew == 0) return false;
+			// if (maxNew == 0) return false;
 			if(maxNew == -1) maxNew=Integer.MAX_VALUE;
 			if (maxNew != pref.maxSpiderNumber) {
 				pref.maxSpiderNumber = maxNew;
@@ -492,18 +492,6 @@
 			profile.setDistGC(maxDist);
 		}
 
-		//max distance in miles for URL, so we can get more than 80km
-		saveDistanceInMiles = maxDistance;
-		if ( Global.getPref().metricSystem != Metrics.IMPERIAL ) {
-			saveDistanceInMiles = Metrics.convertUnit(maxDistance, Metrics.KILOMETER, Metrics.MILES);
-		}
-		// add a mile to be save from different distance calculations in CW and at GC
-		saveDistanceInMiles = java.lang.Math.ceil(saveDistanceInMiles) + 1;
-
-		distanceInKm = maxDistance;
-		if ( Global.getPref().metricSystem == Metrics.IMPERIAL ) {
-			distanceInKm = Metrics.convertUnit(maxDistance, Metrics.MILES, Metrics.KILOMETER);
-		}			
 		directions=mString.split(direction, ',');
 		// works even if TYPE not in options
 		cacheTypeRestriction = options.getCacheTypeRestriction(p);
@@ -515,26 +503,58 @@
 
 	}
 
-	private void fillDownloadLists(int maxNew, int maxUpdate, double toDistance, double fromDistance, String[] directions, Hashtable cExpectedForUpdate) {
-		if (!loggedIn || Global.getPref().forceLogin) {
-			if(login() != FormBase.IDOK) return;
+	private Hashtable fillDownloadLists(int maxNew, int maxUpdate, double toDistance, double fromDistance, String[] directions, Hashtable cExpectedForUpdate) {
+		if (!loggedIn || pref.forceLogin) {
+			if(login() != FormBase.IDOK) return null;
 		}
-		getFirstListPage();
-		int page_number = 1;
-		int found_on_page = 0;
 		
-		int numFinds=0; // spiderAllFinds : Number of GC-founds for this user
+		int numFinds;
+		int startPage=1;
+		// get pagenumber of page with fromDistance , to skip reading of pages < fromDistance 
+		if (fromDistance>0) {
+			// distance in miles for URL
+			int fromDistanceInMiles = (int) java.lang.Math.ceil(fromDistance);
+			if ( pref.metricSystem != Metrics.IMPERIAL ) {
+				fromDistanceInMiles =(int) java.lang.Math.ceil(Metrics.convertUnit(fromDistance, Metrics.KILOMETER, Metrics.MILES));
+			}
+			// - a mile to be save to get a page with fromDistance
+			getFirstListPage(java.lang.Math.max(fromDistanceInMiles-1, 1));		
+			numFinds=getNumFound(htmlListPage); // Number of caches from gc Listpage
+			// calc the number of the startpage
+			startPage = (int) java.lang.Math.ceil(numFinds / 20);			
+		}
+		
+		//max distance in miles for URL, so we can get more than 80km
+		int toDistanceInMiles = (int) java.lang.Math.ceil(toDistance);
+		if ( pref.metricSystem != Metrics.IMPERIAL ) {
+			toDistanceInMiles = (int) java.lang.Math.ceil(Metrics.convertUnit(toDistance, Metrics.KILOMETER, Metrics.MILES));
+		}
+		// add a mile to be save from different distance calculations in CW and at GC
+		toDistanceInMiles++;
+		getFirstListPage(toDistanceInMiles);		
+		numFinds=getNumFound(htmlListPage); // Number of caches from gc first Listpage
+
+		if (fromDistance>0) {
+			// skip (most of) the pages with distance < fromDistance
+			for (int i = 0; i < (startPage / 10); i++) {
+				getAListPage(toDistanceInMiles,gotoNextBlock);			
+			}
+			getAListPage(toDistanceInMiles,gotoPage+startPage);			
+		}
+		
 		int numFoundInDB=0; // Number of GC-founds already in this profile
 		if (spiderAllFinds) {
-			pref.log((spiderAllFinds ? "all Finds (DB/GC)"+ numFoundInDB+"/"+numFinds : "new and update Caches")+Preferences.NEWLINE);
-
 			numFoundInDB=getFoundInDB();
-			numFinds=getNumFound(htmlListPage);
+			pref.log((spiderAllFinds ? "all Finds (DB/GC)"+ numFoundInDB+"/"+numFinds : "new and update Caches")+Preferences.NEWLINE,null);
 			maxNew=java.lang.Math.min(numFinds-numFoundInDB,maxNew);
-			if (maxUpdate == 0 && maxNew == 0) { Vm.showWait(false); infB.close(0); return; }
+			if (maxUpdate == 0 && maxNew == 0) { Vm.showWait(false); infB.close(0); return null; }
 		}
 
 		if (maxUpdate>0) {
+			double distanceInKm=toDistance;
+			if ( pref.metricSystem == Metrics.IMPERIAL ) {
+				distanceInKm = Metrics.convertUnit(toDistance, Metrics.MILES, Metrics.KILOMETER);
+			}
 			// expecting all are changed (archived caches remain always) 
 			for(int i = 0; i<cacheDB.size();i++){
 				CacheHolder ch = cacheDB.get(i);
@@ -558,6 +578,8 @@
 		int startSize=cExpectedForUpdate.size(); //for save reasons
 
 		Hashtable cFoundForUpdate = new Hashtable(cacheDB.size()); // for don't loose the already done work
+		int page_number = 1;
+		int found_on_page = 0;
 		try {
 			//Loop pages till maximum distance has been found or no more caches are in the list
 			while(toDistance > 0){
@@ -601,11 +623,14 @@
 						else {
 							if (maxUpdate>0) {
 								if (doPMCache(CacheDescriptionGC) && updateExists(ch,CacheDescriptionGC)) {
-									if (!ch.is_black() && (cFoundForUpdate.size()<maxUpdate)) cFoundForUpdate.put(chWaypoint, ch);
+									if (!ch.is_black()) { 
+											if (cFoundForUpdate.size()<maxUpdate) {
+												cFoundForUpdate.put(chWaypoint, ch); }
+											else cExpectedForUpdate.remove( chWaypoint );
+									}
+									else cExpectedForUpdate.remove( chWaypoint );
 								}
-								else {
-									cExpectedForUpdate.remove( chWaypoint );
-								}
+								else cExpectedForUpdate.remove( chWaypoint );
 							}
 						}
 						if(cachesToLoad.size() >= maxNew) {
@@ -636,11 +661,11 @@
 					}
 					else toDistance = 0; // last page (has less than 20 entries!?) to check reached
 				}
-				if(toDistance > 0){getNextListPage(); page_number++; found_on_page = 0;}
+				if(toDistance > 0){getAListPage(toDistanceInMiles, gotoNextPage); page_number++; found_on_page = 0;}
 			} // loop pages
 		} // try
 		catch (Exception ex) {
-			pref.log("Download error : ", ex);
+			pref.log("Download error : ", ex, true);
 			infB.close(0);
 			Vm.showWait(false);
 		}
@@ -653,15 +678,16 @@
 				"Found " + numLogUpdates + " caches with new found in log (inc. blacklisted"+Preferences.NEWLINE+
 				"Found " + (cExpectedForUpdate.size()-numAvailableUpdates-numLogUpdates) + " caches possibly archived."+Preferences.NEWLINE+
 				"Found " + cFoundForUpdate.size() + "?=" + (numFoundUpdates+numArchivedUpdates+numAvailableUpdates+numArchivedUpdates) + " caches to update."+Preferences.NEWLINE+
-				"Found " + numPrivate + " Premium Caches (for non Premium Member.)");
+				"Found " + numPrivate + " Premium Caches (for non Premium Member.)",null);
 		if(spiderAllFinds){
 			pref.log("Found " + numFoundUpdates + " caches with no found in profile."+Preferences.NEWLINE+
-			"Found " + numArchivedUpdates + " caches with changed archived status."+Preferences.NEWLINE);
+			"Found " + numArchivedUpdates + " caches with changed archived status."+Preferences.NEWLINE,null);
 		}
 
 		if (cExpectedForUpdate.size() == startSize) cExpectedForUpdate.clear(); // there must be something wrong
 		if (cExpectedForUpdate.size() == 0 || cExpectedForUpdate.size() > maxUpdate)
 			cExpectedForUpdate=cFoundForUpdate;
+		return cExpectedForUpdate;
 		
 	}
 
@@ -701,7 +727,7 @@
 				break;
 			} else if (test == SPIDER_ERROR) {
 				spiderErrors++;
-				Global.getPref().log("SpiderGC: could not spider "+ch.getWayPoint(),null);
+				pref.log("[updateCaches] could not spider "+ch.getWayPoint(),null);
 			} else {
 				//profile.hasUnsavedChanges=true;
 			}
@@ -751,7 +777,7 @@
 				cacheInDB.save();
 			}
 		}catch(Exception ex){
-			pref.log("Error spidering " + ch.getWayPoint() + " in spiderSingle");
+			pref.log("[spiderSingle] Error spidering " + ch.getWayPoint() + " in spiderSingle",ex);
 		}
 		return ret;
 	} // spiderSingle
@@ -765,7 +791,7 @@
 		String completeWebPage;
 		// Check whether spider definitions could be loaded, if not issue appropriate message and terminate
 		// Try to login. If login fails, issue appropriate message and terminate
-		if (!loggedIn || Global.getPref().forceLogin) {
+		if (!loggedIn || pref.forceLogin) {
 			if (login()!=FormBase.IDOK) {
 				return "";
 			}
@@ -774,11 +800,11 @@
 		localInfB.exec();
 		try{
 			String doc = p.getProp("waypoint") + wayPoint;
-			pref.log("Fetching: " + wayPoint);
 			completeWebPage = fetch(doc);
+			pref.log("Fetched " + wayPoint);
 		}catch(Exception ex){
 			localInfB.close(0);
-			pref.log("Could not fetch " + wayPoint,ex);
+			pref.log("[getCacheCoordinates] Could not fetch " + wayPoint,ex);
 			return "";
 		}
 		localInfB.close(0);
@@ -820,13 +846,13 @@
 		localInfB = new InfoBox(MyLocale.getMsg(5507,"Status"), MyLocale.getMsg(5508,"Logging in..."));
 		localInfB.exec();
 		try{
-			pref.log("[login]:Fetching login page");
 			//Access the page once to get a viewstate
 			loginPage = fetch(loginPageUrl);   //http://www.geocaching.com/login/Default.aspx
+			pref.log("[login]:Fetched login page "+loginPageUrl);
 			if (loginPage.equals("")) {
 				localInfB.close(0);
 				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5499,"Error loading login page.%0aPlease check your internet connection."), FormBase.OKB)).execute();
-				pref.log("[login]:Could not fetch: gc.com login page");
+				pref.log("[login]:Could not fetch: gc.com login page "+loginPageUrl,null);
 				return ERR_LOGIN;
 			}
 		} catch(Exception ex){
@@ -845,23 +871,20 @@
 			rexViewstate.search(loginPage);
 			if(rexViewstate.didMatch()){
 				viewstate = rexViewstate.stringMatched(1);
-				//Vm.debug("ViewState: " + viewstate);
 			} else {
-				pref.log("[login]:rexViewstate not found before login"+Preferences.NEWLINE);
+				pref.log("[login]:rexViewstate not found before login",null);
 			}
 
 			if(loginPage.indexOf(loginSuccess) > 0)
-				pref.log("[login]:Already logged in");
+				pref.log("[login]:Already logged in"+pref.myAlias);
 			else {
 				rexEventvalidation.search(loginPage);
 				if(rexEventvalidation.didMatch()){
 					// eventvalidation = rexEventvalidation.stringMatched(1);
-					//Vm.debug("EVENTVALIDATION: " + eventvalidation);
 				} else
-					pref.log("[login]:rexEventvalidation not found before login"+Preferences.NEWLINE);
+					pref.log("[login]:rexEventvalidation not found before login"+Preferences.NEWLINE,null);
 				//Ok now login!
 				try{
-					pref.log("[login]:Logging in as "+pref.myAlias);
 					StringBuffer sb=new StringBuffer(1000);
 					sb.append(URL.encodeURL("__VIEWSTATE",false));	sb.append("="); sb.append(URL.encodeURL(viewstate,false));
 					sb.append("&ctl00%24ContentBody%24"); sb.append(URL.encodeURL("myUsername",false));
@@ -876,13 +899,11 @@
 //					sb.append("="); sb.append(URL.encodeURL(eventvalidation,false));
 					loginPage = fetch_post(loginPageUrl, sb.toString(), nextPage);  // /login/default.aspx
 					if(loginPage.indexOf(loginSuccess) > 0)
-						pref.log("[login]:Login successful");
+						pref.log("Login successful: "+pref.myAlias);
 					else {
-						pref.log("[login]:Login failed. Wrong Account or Password?");
-						if (pref.debug) {
-							pref.log("[login.LoginUrl]:"+sb.toString());
-							pref.log("[login.Answer]:"+loginPage);
-						}
+						pref.log("Login failed. Wrong Account or Password? "+pref.myAlias,null);
+						pref.log("[login.LoginUrl]:"+sb.toString(),null);
+						pref.log("[login.Answer]:"+loginPage,null);
 						localInfB.close(0);
 						(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed! Wrong account or password?"), FormBase.OKB)).execute();
 						return ERR_LOGIN;
@@ -897,23 +918,20 @@
 
 			rexViewstate.search(loginPage);
 			if (!rexViewstate.didMatch()) {
-				pref.log("[login]:check rexViewstate in SpiderGC.java --> not found after login"+Preferences.NEWLINE+loginPage);
+				pref.log("[login]:check rexViewstate in SpiderGC.java --> not found after login"+Preferences.NEWLINE+loginPage,null);
 			}
 			viewstate = rexViewstate.stringMatched(1);
 			
 			rexCookieID.search(loginPage);
 			if (!rexCookieID.didMatch()) {
-				pref.log("[login]:check rexCookieID in SpiderGC.java --> CookieID not found. Using old one."+Preferences.NEWLINE+loginPage);
+				pref.log("[login]:check rexCookieID in SpiderGC.java --> CookieID not found. Using old one."+Preferences.NEWLINE+loginPage,null);
 			} else
 				cookieID = rexCookieID.stringMatched(1);
-			//Vm.debug(cookieID);
 			rexCookieSession.search(loginPage);
 			if (!rexCookieSession.didMatch()) {
 				pref.log("[login]:check rexCookieSession in SpiderGC.java --> CookieSession not found. Using old one."+Preferences.NEWLINE+loginPage);
-				//cookieSession="";
 			} else
 				cookieSession = rexCookieSession.stringMatched(1);
-			//Vm.debug("cookieSession = " + cookieSession);
 
 			/*
 			String viewstate1;
@@ -943,10 +961,10 @@
 //		    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
 //		    + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+ URL.encodeURL(eventvalidation,false);
 			try{
-				pref.log("Switching to English:" + postStr);
 				loginPage = fetch_post(loginPageUrl, postStr, nextPage);
+				pref.log("Switched to English");
 			}catch(Exception ex){
-				pref.log("Error switching to English");
+				pref.log("Error switching to English: check/n" + loginPageUrl + "/n" + postStr + "/n" + nextPage + "/n",ex);
 			}
 		}
 		boolean loginAborted=localInfB.isClosed;
@@ -998,13 +1016,14 @@
 			icon_attended=p.getProp("icon_attended");
 			RexCacheType = new Regex(p.getProp("cacheTypeRex"));
 		}catch(Exception ex){
+			pref.log("Error fetching Properties.",ex);
 		}
 	}
 
 	/*
 	 *
 	 */
-	private void getFirstListPage() {
+	private void getFirstListPage(int distance) {
 		//Get first page
 
 		String url;
@@ -1012,16 +1031,15 @@
 			url = propFirstPageFinds + encodeUTF8URL(Utils.encodeJavaUtf8String(pref.myAlias));
 		} else {
 			url = propFirstPage + origin.getLatDeg(TransformCoordinates.DD) + propFirstPage2 + origin.getLonDeg(TransformCoordinates.DD)
-		                              + propMaxDistance + Integer.toString( (int)saveDistanceInMiles );
+		                              + propMaxDistance + Integer.toString(distance);
 			if(doNotgetFound) url = url + propShowOnlyFound;
 		}
 		url = url + cacheTypeRestriction;
-		pref.log("Getting first page: "+url);
 		try{
 			htmlListPage = fetch(url);
-			pref.log("Got first page");
+			pref.log("Got first page "+url);
 		}catch(Exception ex){
-			pref.log("Error fetching first list page",ex,true);
+			pref.log("Error fetching first list page "+url,ex,true);
 			Vm.showWait(false);
 			infB.close(0);
 			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5503,"Error fetching first list page."), FormBase.OKB)).execute();
@@ -1033,13 +1051,13 @@
 	 * in: ...
 	 * out: page_number,htmlPage
 	 */
-	private void getNextListPage() {
+	private void getAListPage(int distance, String whatPage) {
 		String postStr;
 		if (spiderAllFinds) {
 			postStr = propFirstLine;
 		} else {
 			postStr = propFirstLine + origin.getLatDeg(TransformCoordinates.DD) + propFirstLine2 + origin.getLonDeg(TransformCoordinates.DD)
-					                             + propMaxDistance + Integer.toString( (int)saveDistanceInMiles );
+					                             + propMaxDistance + Integer.toString(distance);
 			if(doNotgetFound) postStr = postStr + propShowOnlyFound;
 		}
 		postStr = postStr + cacheTypeRestriction;
@@ -1073,18 +1091,17 @@
 		}
 		*/
 
-		String strNextPage = "ctl00$ContentBody$pgrTop$ctl08";
-		String url = URL.encodeURL("__EVENTTARGET",false) +"="+ URL.encodeURL(strNextPage,false)
+		String url = URL.encodeURL("__EVENTTARGET",false) +"="+ URL.encodeURL(whatPage,false)
 	    + "&" + URL.encodeURL("__EVENTARGUMENT",false) +"="+ URL.encodeURL("",false)
 	    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) +"=2"
 	    + "&" + URL.encodeURL("__VIEWSTATE",false) +"="+ URL.encodeURL(viewstate,false)
 	    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
 //	    + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+ URL.encodeURL(eventvalidation,false);
 		try{
-			pref.log("Fetching next list page:" + url);
 			htmlListPage = fetch_post(postStr, url, p.getProp("nextListPage"));
+			pref.log("Got next list page:" + url);
 		}catch(Exception ex){
-			pref.log("Error getting next page");
+			pref.log("Error getting next page"+url,ex);
 		}
 	}
 
@@ -1293,7 +1310,6 @@
 	 */
 	private boolean newFoundExists(CacheHolder ch, String cacheDescrition) {
 		if(!pref.checkLog) return false;
-		// String[] CacheDesc=mString.split(cacheDescrition,'\n');
 		Time lastLogCW = new Time();
 		Log lastLog = ch.getCacheDetails(true).CacheLogs.getLog(0);
 		if (lastLog == null) return true;
@@ -1317,10 +1333,9 @@
 			return false;
 		}
 		if (stmp.indexOf("day")>0) {
-			lastLogGC.day=java.lang.Math.max(1, lastLogGC.day-7); // simplyfied (update if not newer than last week)
+			lastLogGC.setTime(lastLogGC.getTime()-691200000L); // simplyfied (update if not newer than last week)
 		}
 		else if (stmp.equals("")) {
-			Vm.debug("no log yet");
 			return false; // no log yet
 		}
 		else {
@@ -1337,9 +1352,8 @@
 			}
 			lastLogGC.year=2000+Integer.parseInt(SDate[2].substring(0,2));
 		}
-		// compare
-		// Vm.debug("CW:"+lastLogCW.toString()+" GC:"+lastLogGC.toString());
-		return lastLogCW.compareTo(lastLogGC) < 0;
+		boolean ret = lastLogCW.compareTo(lastLogGC) < 0;
+		return ret;
 	}
 
 	/**
@@ -1369,10 +1383,10 @@
 				ret = SPIDER_OK; // initialize value;
 				try{
 					String doc = p.getProp("getPageByName") + ch.getWayPoint() +((fetchAllLogs||ch.is_found())?p.getProp("fetchAllLogs"):"");
-					pref.log("Fetching: " + ch.getWayPoint());
 					completeWebPage = fetch(doc);
+					pref.log("Fetched: " + ch.getWayPoint());
 					if	( completeWebPage.equals("")) {
-						pref.log("Could not fetch " + ch.getWayPoint());
+						pref.log("Could not fetch " + ch.getWayPoint(),null);
 						if (!infB.isClosed) {
 							continue;
 						} else {
@@ -1516,15 +1530,14 @@
 						pref.log("ready " + ch.getWayPoint() + " : "+ ch.getLastSync());
 						break;
 					}catch(Exception ex){
-						pref.log("Error reading cache: "+ch.getWayPoint());
-						pref.log("Exception in getCacheByWaypointName: ",ex);
+						pref.log("[getCacheByWaypointName: ]Error reading cache: "+ch.getWayPoint(),ex);
 					}
 				} else {
 					break;
 				}
 			} // spiderTrys
 			if ( ( spiderTrys >= MAX_SPIDER_TRYS ) && ( ret == SPIDER_OK ) ) {
-				pref.log(">>> Failed to spider cache. Number of retrys exhausted.");
+				pref.log(">>> Failed to spider cache. Number of retrys exhausted.",null);
 				int decision = (new MessageBox(MyLocale.getMsg(5500,"Error"),MyLocale.getMsg(5515,"Failed to load cache.%0aPleas check your internet connection.%0aRetry?"),FormBase.DEFOKB|FormBase.NOB|FormBase.CANCELB)).execute();
 				if ( decision == FormBase.IDOK ) {
 					continue; // retry even if failure
@@ -1800,7 +1813,6 @@
 	public void getBugs(CacheHolderDetail chD, String doc) throws Exception{
 		Extractor exBlock = new Extractor(doc,p.getProp("blockExStart"),p.getProp("blockExEnd") ,0,Extractor.EXCLUDESTARTEND);
 		String bugBlock = exBlock.findNext();
-		//Vm.debug("Bugblock: "+bugBlock);
 		Extractor exBug = new Extractor(bugBlock,p.getProp("bugExStart"),p.getProp("bugExEnd"),0,Extractor.EXCLUDESTARTEND);
 		String link,bug,linkPlusBug,bugDetails;
 		String oldInfoBox=infB.getInfo();
@@ -1817,15 +1829,15 @@
 				Travelbug tb=new Travelbug(bug);
 				try{
 					infB.setInfo(oldInfoBox+MyLocale.getMsg(5514,"\nGetting bug: ")+SafeXML.cleanback(bug));
-					pref.log("Fetching bug details: "+bug);
 					bugDetails = fetch(link);
+					pref.log("[getBugs] Fetched TB details: "+bug);
 					Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
 					tb.setMission(exDetails.findNext());
 					Extractor exGuid = new Extractor(bugDetails,"details.aspx?guid=","\" id=\"aspnetForm",0,Extractor.EXCLUDESTARTEND); // TODO Replace with spider.def see also further down
 					tb.setGuid(exGuid.findNext());
 					chD.Travelbugs.add(tb);
 				}catch(Exception ex){
-					pref.log("Could not fetch bug details");
+					pref.log("[getBugs] Could not fetch bug details",ex);
 				}
 			}
 			//Vm.debug("B: " + bug);
@@ -1872,10 +1884,8 @@
 		} catch (Exception ex) {//Missing property in spider.def
 			return;
 		}
-		//Vm.debug("In getImages: Have longDesc" + longDesc);
 		String tst;
 		tst = exImgBlock.findNext();
-		//Vm.debug("Test: \n" + tst);
 		Extractor exImgSrc = new Extractor(tst, "http://", "\"", 0, true);
 		while(exImgBlock.endOfSearch() == false){
 			imgUrl = exImgSrc.findNext();
@@ -1898,18 +1908,18 @@
 							}
 							if (imageInfo == null) {
 								imageInfo = new ImageInfo();
-								pref.log("Loading image: " + imgUrl+" as "+fileName+imgType);
+								pref.log("[getImages] Loading image: " + imgUrl+" as "+fileName+imgType);
 								spiderImage(imgUrl, fileName+imgType);
 								imageInfo.setFilename(fileName+imgType);
 								imageInfo.setURL(imgUrl);
 							} else {
-								pref.log("Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
+								pref.log("[getImages] Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
 							}
 							spideredUrls.add(imgUrl);
 							spiderCounter++;
 						} else { // Image already spidered as wayPoint_'idxUrl'
 							fileName = chD.getParent().getWayPoint().toLowerCase() + "_" + Convert.toString(idxUrl);
-							pref.log("Already loaded image: " + imgUrl+" as "+fileName+imgType);
+							pref.log("[getImages] Already loaded image: " + imgUrl+" as "+fileName+imgType);
 							imageInfo = new ImageInfo();
 							imageInfo.setFilename(fileName+imgType);
 							imageInfo.setURL(imgUrl);
@@ -1920,8 +1930,7 @@
 						chD.images.add(imageInfo);
 					}
 				} catch (IndexOutOfBoundsException e) {
-					//Vm.debug("IndexOutOfBoundsException not in image span"+e.toString()+"imgURL:"+imgUrl);
-					pref.log("Problem loading image. imgURL:"+imgUrl);
+					pref.log("[getImages] Problem loading image. imgURL:"+imgUrl,e);
 				}
 				}
 			exImgSrc.setSource(exImgBlock.findNext());
@@ -1936,7 +1945,7 @@
 			exImgName = new Extractor(tst,p.getProp("imgNameExStart"),p.getProp("imgNameExEnd"), 0 , true);
 			exImgSrc = new Extractor(tst,p.getProp("imgSrcExStart"),p.getProp("imgSrcExEnd"), 0, true);
 			exImgComment = new Extractor(tst,p.getProp("imgCommentExStart"),p.getProp("imgCommentExEnd"), 0, true);
-		} catch (Exception ex) { // Missing property in spider .def
+		} catch (Exception ex) {
 			return;
 		}
 		while(!exImgSrc.endOfSearch()){
@@ -1960,18 +1969,18 @@
 							}
 							if (imageInfo == null) {
 								imageInfo = new ImageInfo();
-								pref.log("Loading image: " + imgUrl+" as "+fileName+imgType);
+								pref.log("[getImages] Loading image: " + imgUrl+" as "+fileName+imgType);
 								spiderImage(imgUrl, fileName+imgType);
 								imageInfo.setFilename(fileName+imgType);
 								imageInfo.setURL(imgUrl);
 							} else {
-								pref.log("Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
+								pref.log("[getImages] Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
 							}
 							spideredUrls.add(imgUrl);
 							spiderCounter++;
 						} else { // Image already spidered as wayPoint_'idxUrl'
 							fileName = chD.getParent().getWayPoint().toLowerCase() + "_" + Convert.toString(idxUrl);
-							pref.log("Already loaded image: " + imgUrl+" as "+fileName+imgType);
+							pref.log("[getImages] Already loaded image: " + imgUrl+" as "+fileName+imgType);
 							imageInfo = new ImageInfo();
 							imageInfo.setFilename(fileName+imgType);
 							imageInfo.setURL(imgUrl);
@@ -1983,7 +1992,7 @@
 						chD.images.add(imageInfo);
 					}
 				} catch (IndexOutOfBoundsException e) {
-					pref.log("IndexOutOfBoundsException in image span. imgURL:"+imgUrl,e);
+					pref.log("[getImages] IndexOutOfBoundsException in image span. imgURL:"+imgUrl,e);
 				}
 			}
 		}
@@ -2011,12 +2020,12 @@
 							}
 							if (imageInfo==null) {
 								imageInfo = new ImageInfo();
-								pref.log("Loading image: " + imgUrl+" as "+fileName+imgType);
+								pref.log("[getImages] Loading image: " + imgUrl+" as "+fileName+imgType);
 								spiderImage(imgUrl, fileName+imgType);
 								imageInfo.setFilename(fileName+imgType);
 								imageInfo.setURL(imgUrl);
 							} else {
-								pref.log("Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
+								pref.log("[getImages] Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
 							}
 							spideredUrls.add(imgUrl);
 							spiderCounter++;
@@ -2026,7 +2035,7 @@
 						}
 					}
 				} catch (IndexOutOfBoundsException e) {
-					pref.log("Problem loading image. imgURL:"+imgUrl);
+					pref.log("[getImages] Problem loading image. imgURL:"+imgUrl,e);
 				}
 			}
 		}
@@ -2054,14 +2063,14 @@
 		//connImg.setRequestorProperty("User-Agent","Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.12) Gecko/20080201 Firefox/2.0.0.12");
 		//connImg.setRequestorProperty("Accept","text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5");
 		try{
-			pref.log("Trying to fetch image from: " + imgUrl);
+			pref.log("[spiderImage] Trying to fetch image from: " + imgUrl);
 			String redirect=null;
 			do {
 				sockImg = connImg.connect();
 				redirect=connImg.getRedirectTo();
 				if (redirect!=null) {
 					connImg=connImg.getRedirectedConnection(redirect);
-					pref.log("Redirect to "+redirect);
+					pref.log("[spiderImage] Redirect to "+redirect);
 				}
 			} while(redirect!=null); // TODO this can end up in an endless loop if trying to load from a malicous site
 			daten = connImg.readData(sockImg);
@@ -2070,11 +2079,11 @@
 			fos.close();
 			sockImg.close();
 		} catch (UnknownHostException e) {
-			pref.log("Host not there...");
-		}catch(IOException ioex){
-			pref.log("File not found!");
+			pref.log("[spiderImage] Host not there...",e);
+		} catch(IOException ioex){
+			pref.log("[spiderImage] File not found!",ioex);
 		} catch (Exception ex){
-			pref.log("Some other problem while fetching image",ex);
+			pref.log("[spiderImage] Some other problem while fetching image",ex);
 		} finally {
 			//Continue with the spider
 		}
@@ -2221,18 +2230,18 @@
 				conn.setRequestorProperty("Cookie", "ASP.NET_SessionId="+cookieSession +"; userid="+cookieID);
 				pref.log("[fetch]:Cookie Zeug: " + "Cookie: ASP.NET_SessionId="+cookieSession +"; userid="+cookieID);
 			} else
-				pref.log("[fetch]:No Cookie found");
+				pref.log("[fetch]:No Cookie found",null);
 			conn.setRequestorProperty("Connection", "close");
 			conn.documentIsEncoded = true;
-			if (pref.debug) pref.log("[fetch]:Connecting "+address);
+			pref.log("[fetch]:Connecting "+address);
 			Socket sock = conn.connect();
-			if (pref.debug) pref.log("[fetch]:Connect ok! "+address);
+			pref.log("[fetch]:Connect ok! "+address);
 			// ByteArray daten = conn.readData(sock);
 			JavaUtf8Codec codec = new JavaUtf8Codec();
 			// c_data = codec.decodeText(daten.data, 0, daten.length, true, null);
 			c_data = conn.readText(sock, codec);
 			sock.close();
-			if (pref.debug) pref.log("[fetch]:Read data ok "+address);
+			pref.log("[fetch]:Read data ok "+address);
 			return getResponseHeaders(conn)+ c_data.toString();
 		}catch(IOException ioex){
 			pref.log("IOException in fetch", ioex);
@@ -2258,22 +2267,21 @@
 			conn.setRequestorProperty("Content-Type", "application/x-www-form-urlencoded");
 			if(cookieSession.length()>0){
 				conn.setRequestorProperty("Cookie", "ASP.NET_SessionId="+cookieSession+"; userid="+cookieID);
-				pref.log("[fetch_post]:Cookie Zeug: " + "Cookie: ASP.NET_SessionId="+cookieSession +"; userid="+cookieID);
+				pref.log("[fetch_post] " + "Cookie: ASP.NET_SessionId="+cookieSession +"; userid="+cookieID);
 			} else {
-				pref.log("[fetch_post]:No Cookie found");
+				pref.log("[fetch_post]:No Cookie found",null);
 			}
 			conn.setRequestorProperty("Connection", "close");
-			if (pref.debug) pref.log("[fetch_post]:Connecting "+address);
 			Socket sock = conn.connect();
-			if (pref.debug) pref.log("[fetch_post]:Connect ok! "+address);
+			pref.log("[fetch_post]:Connect ok! "+address);
 			// ByteArray daten = conn.readData(sock);
 			CharArray c_data = conn.readText(sock, codec);
-			if (pref.debug) pref.log("[fetch_post]:Read data ok "+address);
+			pref.log("[fetch_post]:Read data ok "+address);
 			// CharArray c_data = codec.decodeText(daten.data, 0, daten.length, true, null);
 			sock.close();
 			return getResponseHeaders(conn)+c_data.toString();
 		} catch (Exception e) {
-			Global.getPref().log("Ignored Exception", e, true);
+			pref.log("[fetch_post] Ignored Exception", e, true);
 		}
 		return "";
 	}
@@ -2326,10 +2334,10 @@
 		String bugList;
 		try{
 			//infB.setInfo(oldInfoBox+"\nGetting bug: "+bug);
-			pref.log("Fetching bugId: "+name);
 			bugList = fetch(p.getProp("getBugByName")+STRreplace.replace(SafeXML.clean(name)," ","+"));
+			pref.log("[getBugId] Fetched bugId: "+name);
 		}catch(Exception ex){
-			pref.log("Could not fetch bug list");
+			pref.log("[getBugId] Could not fetch bug list"+name,ex);
 			bugList="";
 		}
 		try {
@@ -2344,6 +2352,7 @@
 			Extractor exGuid = new Extractor(bugList,p.getProp("bugGuidExStart"),p.getProp("bugGuidExEnd"),0,Extractor.EXCLUDESTARTEND); // TODO Replace with spider.def
 			return exGuid.findNext();
 		} catch (Exception ex) {
+			pref.log("[getBugId] Error getting TB",ex);
 			return "";
 		}
 	}
@@ -2358,13 +2367,13 @@
 		String bugDetails;
 		try{
 			//infB.setInfo(oldInfoBox+"\nGetting bug: "+bug);
-			pref.log("Fetching bug detailsById: "+guid);
 			if (guid.length()>10)
 				bugDetails = fetch(p.getProp("getBugByGuid")+guid);
 			else
 				bugDetails = fetch(p.getProp("getBugById")+guid);
+			pref.log("[getBugMissionByGuid] Fetched TB detailsById: "+guid);
 		}catch(Exception ex){
-			pref.log("Could not fetch bug details");
+			pref.log("[getBugMissionByGuid] Could not fetch TB details "+guid,ex);
 			bugDetails="";
 		}
 		try {
@@ -2375,6 +2384,7 @@
 			Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
 			return exDetails.findNext();
 		} catch (Exception ex) {
+			pref.log("[getBugMissionByGuid] Error getting TB "+guid,ex);
 			return "";
 		}
 	}
@@ -2387,20 +2397,22 @@
 	public String getBugMissionByTrackNr(String trackNr) {
 		String bugDetails;
 		try{
-			pref.log("Fetching bug detailsByTrackNr: "+trackNr);
 			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr);
+			pref.log("[getBugMissionByTrackNr] Fetched bug detailsByTrackNr: "+trackNr);
 		}catch(Exception ex){
-			pref.log("Could not fetch bug details");
+			pref.log("[getBugMissionByTrackNr] getBugByTrackNr "+trackNr,ex);
 			bugDetails="";
 		}
 		try {
 			if (bugDetails.indexOf(p.getProp("bugNotFound"))>=0) {
+				pref.log("[getBugMissionByTrackNr], bugNotFound "+trackNr,null);
 //				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), MessageBox.OKB)).execute();
 				return "";
 			}
 			Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
 			return exDetails.findNext();
 		} catch (Exception ex) {
+			pref.log("[getBugMissionByTrackNr] TB Details, bugNotFound "+trackNr,ex);
 			return "";
 		}
 	}
@@ -2414,14 +2426,15 @@
 		String bugDetails;
 		String trackNr = TB.getTrackingNo();
 		try{
-			pref.log("Fetching bug detailsByTrackNr: "+trackNr);
 			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr);
+			pref.log("[getBugMissionAndNameByTrackNr] Fetched TB getBugByTrackNr: "+trackNr);
 		}catch(Exception ex){
-			pref.log("Could not fetch bug details");
+			pref.log("[getBugMissionAndNameByTrackNr] Could not fetch bug details: "+trackNr,ex);
 			bugDetails="";
 		}
 		try {
 			if (bugDetails.indexOf(p.getProp("bugNotFound"))>=0) {
+				pref.log("[getBugMissionAndNameByTrackNr], bugNotFound: "+trackNr,null);
 //				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), MessageBox.OKB)).execute();
 				return false;
 			}
@@ -2431,6 +2444,7 @@
 			TB.setName( exName.findNext() );
 			return true;
 		} catch (Exception ex) {
+			pref.log("[getBugMissionAndNameByTrackNr] TB Details, bugNotFound: "+trackNr,ex);
 			return false;
 		}
 	}
@@ -2441,7 +2455,7 @@
 			try {
 				load(new FileInputStream(FileBase.getProgramDirectory()+"/spider.def"));
 			} catch (Exception ex) {
-				pref.log("Failed to load spider.def",ex);
+				pref.log("Failed to load spider.def from "+FileBase.getProgramDirectory(),ex);
 				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5504,"Could not load 'spider.def'"), FormBase.OKB)).execute();
 			}
 		}
@@ -2456,6 +2470,7 @@
 			String s=super.getProperty(key);
 			if (s == null) {
 				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5497,"Error missing tag in spider.def") + ": "+key, FormBase.OKB)).execute();
+				pref.log("Missing tag in spider.def: "+key);
 				throw new Exception("Missing tag in spider.def: "+key);
 			}
 			return s;



From araber95 at mail.berlios.de  Sat Sep  4 01:15:05 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat,  4 Sep 2010 01:15:05 PM +0200
Subject: [Cachewolf-svn] r2769 - in trunk: res_noewe src/CacheWolf
	src/CacheWolf/imp
Message-ID: <20100904111505.CBD3148102A@sheep.berlios.de>

Author: araber95
Date: 2010-09-04 13:15:05 +0200 (Sat, 04 Sep 2010)
New Revision: 2769

Modified:
   trunk/res_noewe/spider.def
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
BF: getting TB guid

Modified: trunk/res_noewe/spider.def
===================================================================
--- trunk/res_noewe/spider.def	2010-09-03 14:25:04 UTC (rev 2768)
+++ trunk/res_noewe/spider.def	2010-09-04 11:15:05 UTC (rev 2769)
@@ -60,6 +60,9 @@
 firstPage          = http://www.geocaching.com/seek/nearest.aspx?lat=
 firstPage2         = &lng=
 firstPageFinds     = http://www.geocaching.com/seek/nearest.aspx?ul=
+showOnlyFound      = &f=1
+maxDistance        = &dist=
+nextListPage       = /seek/nearest.aspx
 # Regex to search for cachenames
 listBlockRex       = <table id="ctl00_ContentBody_dlResults"((?s).*?)</table>
 lineRex            = <tr\ bgcolor='#.{6}'\\s*class="Data\ BorderTop">((?s).*?)</tr>
@@ -76,47 +79,43 @@
 found              = alt="Found\ It!"
 own                = /WptTypes/name_tag.gif
 TBRex              = /wpttypes/([0-9]+).gif" alt="(.*?)"
-showOnlyFound      = &f=1
-maxDistance        = &dist=
-firstLine          = http://www.geocaching.com/seek/nearest.aspx?lat=
-firstLine2         = &lng=
-nextListPage       = /seek/nearest.aspx
 
-onlyWherigo         = &tx=0544fa55-772d-4e5c-96a9-36a51ebcf5c9
-onlyMegaEvent       = &tx=69eb8535-b718-4b35-ae3c-a856a55b0874
-onlyEarth           = &tx=c66f5cf3-9523-4549-b8dd-759cd2f18db8
-onlyUnknown         = &tx=40861821-1835-4e11-b666-8d41064d03fe
+onlyTraditional     = &tx=32bc9333-5e52-4957-b0f6-5a2c8fc7b257
 onlyMulti           = &tx=a5f6d0ad-d2f2-4011-8c14-940a9ebf3c74
 onlyVirtual         = &tx=294d4360-ac86-4c83-84dd-8113ef678d7e
 onlyLetterboxHybrid = &tx=4bdd8fb2-d7bc-453f-a9c5-968563b15d24
-onlyTraditional     = &tx=32bc9333-5e52-4957-b0f6-5a2c8fc7b257
+#allEventTypes==onlyEvent       = &tx=69eb8534-b718-4b35-ae3c-a856a55b0874
 onlyEvent           = &tx=69eb8534-b718-4b35-ae3c-a856a55b0874
+onlyMegaEvent       = &tx=69eb8535-b718-4b35-ae3c-a856a55b0874
 onlyCito            = &tx=57150806-bc1a-42d6-9cf0-538d171a2d22
+onlyL_FEvent        = &tx=3ea6533d-bb52-42fe-b2d2-79a3424d4728
+onlyUnknown         = &tx=40861821-1835-4e11-b666-8d41064d03fe
 onlyWebcam          = &tx=31d2ae3c-c358-4b5f-8dcd-2185bf472d3d
+onlyEarth           = &tx=c66f5cf3-9523-4549-b8dd-759cd2f18db8
+onlyWherigo         = &tx=0544fa55-772d-4e5c-96a9-36a51ebcf5c9
+#onlyProjectAPE      = &tx=2555690d-b2bc-4b55-b5ac-0cb704c0b768
+#onlyGPSAdventure    = &tx=72e69af2-7986-4990-afd9-bc16cbbb4ce3
 
-onlyProjectAPE      = &tx=2555690d-b2bc-4b55-b5ac-0cb704c0b768
-onlyGPSAdventure    = &tx=72e69af2-7986-4990-afd9-bc16cbbb4ce3
-
 #--------------------------------------
 #Section2: Get cachepage by name
 #--------------------------------------
 getPageByName      = http://www.geocaching.com/seek/cache_details.aspx?wp=
 fetchAllLogs       = &log=y
-cacheUnavailable   = <ul\ class="OldWarning"><li>This\ cache\ is\ temporarily\ unavailable.\ Read\ the\ logs\ below\ to\ read\ the\ status\ for\ this\ cache.</li></ul>
-cacheArchived      = <ul\ class="OldWarning"><li>This\ cache\ has\ been\ archived,\ but\ is\ available\ for\ viewing\ for\ archival\ purposes.</li></ul>
-latLonRex          = <span\ id="ctl00_ContentBody_LatLon"\ style="font-weight:bold;">((?s).*?)</span>
-shortDescRex       = <span\ id="ctl00_ContentBody_ShortDescription">((?s).*?)</span>
-longDescRex        = tentBody_LongDescription">((?s).*?)<td\ valign="top"\ width="10%">\\s*&nbsp;\\s*</td
-cacheNameRex       = <span\ id="ctl00_ContentBody_CacheName">((?s).*?)</span>
+cacheUnavailable   = cache\ is\ temporarily\ unavailable
+cacheArchived      = cache\ has\ been\ archived
+premiumCachepage   = viewable\ to\ Premium\ Members\ only.
+latLonRex          = tBody_LatLon"\ style="font-weight:bold;">((?s).*?)</span>
+shortDescRex       = tBody_ShortDescription">((?s).*?)</span>
+longDescRex        = tBody_LongDescription">((?s).*?)<td\ valign="top"\ width="10%">\\s*&nbsp;\\s*</td
+cacheNameRex       = tBody_CacheName">((?s).*?)</span>
 cacheOwnerRex      = &wid(?:(?s).*?)>((?s).*?)<
 dateHiddenRex      = (?:Hidden|Event\ Date)\\s*:\ </strong>\\s*((?s).*?)\\s*<
 hintsRex           = <div id="div_hint" class="HalfLeft">\\s*((?s).*?)\\s*</div>
 sizeRex            = alt="Size:\ ((?s).*?)"\ />&nbsp<small>
-difficultyRex      = <td>\\s*<strong>\\s*Difficulty:</strong>\\s*<img src=.*?alt="(.*?)\ out\ of
-terrainRex         = <td>\\s*<strong>\\s*Terrain:</strong>\\s*<img src=.*?alt="(.*?)\ out\ of
+difficultyRex      = Difficulty:</strong>\\s*<img src=.*?alt="(.*?)\ out\ of
+terrainRex         = Terrain:</strong>\\s*<img src=.*?alt="(.*?)\ out\ of
 cacheTypeRex       = /images/WptTypes/(.*?)\\.gif"\ alt="
-cacheLocationRex   = <span\ id="ctl00_ContentBody_Location">In\ ([^<]*?)<
-premiumCachepage   = Sorry, the owner of this listing has made it viewable to Premium Members only.
+cacheLocationRex   = tBody_Location">In\ ([^<]*?)<
 
 #--------------------------------------
 #Section2a: Logs

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2010-09-03 14:25:04 UTC (rev 2768)
+++ trunk/src/CacheWolf/Preferences.java	2010-09-04 11:15:05 UTC (rev 2769)
@@ -1042,10 +1042,10 @@
 	public void logInit(){
 		File logFile = new FileBugfix(LOGFILENAME);
 		logFile.delete();
-		log("CW Version "+Version.getReleaseDetailed(),null);
+		log("CW Version "+Version.getReleaseDetailed(),null,true);
 		
-		if (System.getProperty("os.name")!=null) log("Operating system: "+System.getProperty("os.name")+"/"+System.getProperty("os.arch"),null);
-		if (System.getProperty("java.vendor")!=null) log("Java: "+System.getProperty("java.vendor")+"/"+System.getProperty("java.version"),null);
+		if (System.getProperty("os.name")!=null) log("Operating system: "+System.getProperty("os.name")+"/"+System.getProperty("os.arch"),null,true);
+		if (System.getProperty("java.vendor")!=null) log("Java: "+System.getProperty("java.vendor")+"/"+System.getProperty("java.version"),null,true);
 		
 	}
 

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-03 14:25:04 UTC (rev 2768)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-04 11:15:05 UTC (rev 2769)
@@ -128,8 +128,6 @@
 	private static String propFirstPage;
 	private static String propFirstPage2;
 	private static String propFirstPageFinds;
-	private static String propFirstLine;
-	private static String propFirstLine2;
 	private static String gotoNextPage = "ctl00$ContentBody$pgrTop$ctl08";
 	private static String gotoNextBlock = "ctl00$ContentBody$pgrTop$ctl06"; // change to the block (10pages) of the wanted page
 	private static String gotoPage = "ctl00$ContentBody$pgrTop$lbGoToPage_"; // add pagenumber 
@@ -173,10 +171,7 @@
 		this.profile=profile;
 		this.cacheDB = profile.cacheDB;
 		pref = prf;
-		if (p == null) {
-			pref.logInit();
-			p=new SpiderProperties();
-		}
+		if (p == null) {p=new SpiderProperties();}
 		initialiseProperties();
 	}
 
@@ -622,11 +617,11 @@
 						}
 						else {
 							if (maxUpdate>0) {
-								if (doPMCache(CacheDescriptionGC) && updateExists(ch,CacheDescriptionGC)) {
-									if (!ch.is_black()) { 
-											if (cFoundForUpdate.size()<maxUpdate) {
-												cFoundForUpdate.put(chWaypoint, ch); }
-											else cExpectedForUpdate.remove( chWaypoint );
+								if (!ch.is_black()) {
+									if (doPMCache(CacheDescriptionGC) && updateExists(ch,CacheDescriptionGC)) {
+										if (cFoundForUpdate.size()<maxUpdate) {
+											cFoundForUpdate.put(chWaypoint, ch); }
+										else cExpectedForUpdate.remove( chWaypoint );
 									}
 									else cExpectedForUpdate.remove( chWaypoint );
 								}
@@ -675,7 +670,7 @@
 				"Found " + cachesToLoad.size() + " new caches"+Preferences.NEWLINE+
 				"Found " + cExpectedForUpdate.size() + "/" + cFoundForUpdate.size() + " caches for update"+Preferences.NEWLINE+
 				"Found " + numAvailableUpdates + " caches with changed available status."+Preferences.NEWLINE+
-				"Found " + numLogUpdates + " caches with new found in log (inc. blacklisted"+Preferences.NEWLINE+
+				"Found " + numLogUpdates + " caches with new found in log."+Preferences.NEWLINE+
 				"Found " + (cExpectedForUpdate.size()-numAvailableUpdates-numLogUpdates) + " caches possibly archived."+Preferences.NEWLINE+
 				"Found " + cFoundForUpdate.size() + "?=" + (numFoundUpdates+numArchivedUpdates+numAvailableUpdates+numArchivedUpdates) + " caches to update."+Preferences.NEWLINE+
 				"Found " + numPrivate + " Premium Caches (for non Premium Member.)",null);
@@ -865,7 +860,7 @@
 			Regex rexCookieID = new Regex("(?i)Set-Cookie: userid=(.*?);.*");
 			Regex rexViewstate = new Regex("id=\"__VIEWSTATE\" value=\"(.*?)\" />");
 			// Regex rexViewstate1 = new Regex("id=\"__VIEWSTATE1\" value=\"(.*?)\" />");
-			Regex rexEventvalidation = new Regex("id=\"__EVENTVALIDATION\" value=\"(.*?)\" />");
+			// Regex rexEventvalidation = new Regex("id=\"__EVENTVALIDATION\" value=\"(.*?)\" />");
 			Regex rexCookieSession = new Regex("(?i)Set-Cookie: ASP.NET_SessionId=(.*?);.*");
 			String viewstate="";
 			rexViewstate.search(loginPage);
@@ -878,12 +873,14 @@
 			if(loginPage.indexOf(loginSuccess) > 0)
 				pref.log("[login]:Already logged in"+pref.myAlias);
 			else {
+				/*
 				rexEventvalidation.search(loginPage);
 				if(rexEventvalidation.didMatch()){
 					// eventvalidation = rexEventvalidation.stringMatched(1);
 				} else
-					pref.log("[login]:rexEventvalidation not found before login"+Preferences.NEWLINE,null);
+					pref.log("[login]:rexEventvalidation not found before login",null);
 				//Ok now login!
+				 */
 				try{
 					StringBuffer sb=new StringBuffer(1000);
 					sb.append(URL.encodeURL("__VIEWSTATE",false));	sb.append("="); sb.append(URL.encodeURL(viewstate,false));
@@ -984,8 +981,6 @@
 			propFirstPage=p.getProp("firstPage");
 			propFirstPage2=p.getProp("firstPage2");
 			propFirstPageFinds=p.getProp("firstPageFinds");
-			propFirstLine=p.getProp("firstLine");
-			propFirstLine2=p.getProp("firstLine2");
 			propMaxDistance=p.getProp("maxDistance");
 			propShowOnlyFound=p.getProp("showOnlyFound");
 			RexPropListBlock = new Regex(p.getProp("listBlockRex"));
@@ -1037,9 +1032,9 @@
 		url = url + cacheTypeRestriction;
 		try{
 			htmlListPage = fetch(url);
-			pref.log("Got first page "+url);
+			pref.log("[getFirstListPage] Got first page "+url);
 		}catch(Exception ex){
-			pref.log("Error fetching first list page "+url,ex,true);
+			pref.log("[getFirstListPage] Error fetching first list page "+url,ex,true);
 			Vm.showWait(false);
 			infB.close(0);
 			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5503,"Error fetching first list page."), FormBase.OKB)).execute();
@@ -1054,9 +1049,9 @@
 	private void getAListPage(int distance, String whatPage) {
 		String postStr;
 		if (spiderAllFinds) {
-			postStr = propFirstLine;
+			postStr = propFirstPage;
 		} else {
-			postStr = propFirstLine + origin.getLatDeg(TransformCoordinates.DD) + propFirstLine2 + origin.getLonDeg(TransformCoordinates.DD)
+			postStr = propFirstPage + origin.getLatDeg(TransformCoordinates.DD) + propFirstPage2 + origin.getLonDeg(TransformCoordinates.DD)
 					                             + propMaxDistance + Integer.toString(distance);
 			if(doNotgetFound) postStr = postStr + propShowOnlyFound;
 		}
@@ -1069,7 +1064,7 @@
 			viewstate = rexViewstate.stringMatched(1);
 		} else {
 			viewstate = "";
-			pref.log("[getNextListPage]:check rexViewstate in SpiderGC.java"+Preferences.NEWLINE+htmlListPage);
+			pref.log("[getAListPage] check rexViewstate in SpiderGC.java"+Preferences.NEWLINE+htmlListPage);
 		}
 		
 		Regex rexViewstate1 = new Regex("id=\"__VIEWSTATE1\" value=\"(.*?)\" />");
@@ -1079,7 +1074,7 @@
 			viewstate1 = rexViewstate1.stringMatched(1);
 		} else {
 			viewstate1 = "";
-			pref.log("[getNextListPage]:check rexViewstate1 in SpiderGC.java"+Preferences.NEWLINE+htmlListPage);
+			pref.log("[getAListPage] check rexViewstate1 in SpiderGC.java"+Preferences.NEWLINE+htmlListPage);
 		}
 
 		/*
@@ -1091,17 +1086,17 @@
 		}
 		*/
 
-		String url = URL.encodeURL("__EVENTTARGET",false) +"="+ URL.encodeURL(whatPage,false)
-	    + "&" + URL.encodeURL("__EVENTARGUMENT",false) +"="+ URL.encodeURL("",false)
-	    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) +"=2"
-	    + "&" + URL.encodeURL("__VIEWSTATE",false) +"="+ URL.encodeURL(viewstate,false)
-	    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
-//	    + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+ URL.encodeURL(eventvalidation,false);
+		String url = URL.encodeURL("__EVENTTARGET",false) + "=" + URL.encodeURL(whatPage,false)
+	    + "&" + URL.encodeURL("__EVENTARGUMENT",false) + "=" + URL.encodeURL("",false)
+	    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) + "=2"
+	    + "&" + URL.encodeURL("__VIEWSTATE",false) + "=" + URL.encodeURL(viewstate,false)
+	    + "&" + URL.encodeURL("__VIEWSTATE1",false) + "=" + URL.encodeURL(viewstate1,false);
+//	    + "&" + URL.encodeURL("__EVENTVALIDATION",false) + "=" + URL.encodeURL(eventvalidation,false);
 		try{
 			htmlListPage = fetch_post(postStr, url, p.getProp("nextListPage"));
-			pref.log("Got next list page:" + url);
+			pref.log("[getAListPage] Got list page: "+URL.encodeURL(whatPage,false));
 		}catch(Exception ex){
-			pref.log("Error getting next page"+url,ex);
+			pref.log("[getAListPage] Error getting a list page"+url,ex);
 		}
 	}
 
@@ -1408,7 +1403,7 @@
 					try{
 						ch.initStates(!isUpdate);
 
-						//first check if coordinates are available to prevent deleting existing coorinates
+						//first check if coordinates are available to prevent deleting existing coordinates
 						String latLon = getLatLon(completeWebPage);
 						if (latLon.equals("???")) {
 							if (completeWebPage.indexOf(p.getProp("premiumCachepage"))>0) {
@@ -1833,7 +1828,7 @@
 					pref.log("[getBugs] Fetched TB details: "+bug);
 					Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
 					tb.setMission(exDetails.findNext());
-					Extractor exGuid = new Extractor(bugDetails,"details.aspx?guid=","\" id=\"aspnetForm",0,Extractor.EXCLUDESTARTEND); // TODO Replace with spider.def see also further down
+					Extractor exGuid = new Extractor(bugDetails,"action=\"details.aspx?guid=","\" id=\"aspnetForm",0,Extractor.EXCLUDESTARTEND); // TODO Replace with spider.def see also further down
 					tb.setGuid(exGuid.findNext());
 					chD.Travelbugs.add(tb);
 				}catch(Exception ex){



From araber95 at mail.berlios.de  Mon Sep  6 02:18:48 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon,  6 Sep 2010 02:18:48 PM +0200
Subject: [Cachewolf-svn] r2770 - trunk/src/CacheWolf/imp
Message-ID: <20100906121848.2306A481051@sheep.berlios.de>

Author: araber95
Date: 2010-09-06 14:18:47 +0200 (Mon, 06 Sep 2010)
New Revision: 2770

Modified:
   trunk/src/CacheWolf/imp/FieldnotesImporter.java
Log:
correct setting of status with date

Modified: trunk/src/CacheWolf/imp/FieldnotesImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-04 11:15:05 UTC (rev 2769)
+++ trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-06 12:18:47 UTC (rev 2770)
@@ -8,10 +8,16 @@
 import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
+import HTML.Tmpl.Util;
+import HTML.Tmpl.Element.Element;
+import ewe.io.BufferedReader;
+import ewe.io.FileNotFoundException;
 import ewe.io.FileReader;
+import ewe.io.IOException;
 import ewe.io.JavaUtf8Codec;
 import ewe.sys.Vm;
 import ewe.sys.Time;
+import ewe.util.EmptyStackException;
 import ewe.util.mString;
 
 public class FieldnotesImporter {
@@ -42,7 +48,65 @@
 			Vm.showWait(false);
 		}
 	}
+/* TODO Import of files with UNICODE Charset 
+	private void read_file(String filename)
+			throws FileNotFoundException, 
+				IllegalStateException,
+				IOException, 
+				EmptyStackException
+	{
+		BufferedReader br=openFile(filename);
+
+		String line;
+
+		Element e = null;
+		if(elements.empty())
+			e = __template__;
+		else
+			e = (Element)elements.pop();
+
+		max_includes--;
+		while((line=br.readLine()) != null) {
+			Util.debug_print("Line: " + line);
+			e = parseLine(line+"\n", e);
+		}
+		max_includes++;
+
+		br.close();
+		br=null;
+
+	}
 	
+	private BufferedReader openFile(String filename)
+	throws FileNotFoundException{
+		boolean add_path=true;
+		if(!elements.empty() && !search_path_on_include)
+			add_path=false;
+
+		if(filename.startsWith("/"))
+			add_path=false;
+
+		if(this.path == null)
+			add_path=false;
+
+		Util.debug_print("open " + filename);
+		if(!add_path)
+			return new BufferedReader(new FileReader(filename));
+
+		BufferedReader br=null;
+
+		for(int i=0; i<this.path.length; i++) {
+			try {
+				Util.debug_print("trying " + this.path[i] +	"/" + filename);
+				br = new BufferedReader(new FileReader(this.path[i] + "/" + filename));
+				break;
+			} catch (FileNotFoundException fnfe) {}
+		}
+		if(br == null) throw new FileNotFoundException(filename);
+		return br;
+	}
+ */
+	
 	private void parse(String s) {
 		final byte WPPOS=0;
 		final byte DATEPOS=1;
@@ -63,16 +127,17 @@
 			CacheHolder ch = cacheDB.get(wayPoint);
 			if (ch!=null) {
 				if (l1[LOGTYPPOS].equals(ch.getGCFoundText())) {
-					ch.setCacheStatus(l1[DATEPOS].replace('T',' ').replace('Z', ' '));
+					String stmp=ch.getCacheStatus();
+					ch.setCacheStatus(l1[DATEPOS].replace('T',' ').replace('Z', ' ').trim());
 					ch.setFound(true);
 				} else {
 					String stmp=ch.getCWLogText(l1[LOGTYPPOS]);
 					if(stmp.equals("")) 
-						ch.setCacheStatus(l1[LOGTYPPOS]);
+						ch.setCacheStatus(l1[LOGTYPPOS]); // eingelesener 
 					else ch.setCacheStatus(stmp); // Statustext (ohne Datum/Uhrzeit)
 					ch.setFound(false);
 				}				
-				ch.getCacheDetails(false).setCacheNotes(logText);
+				if (!logText.equals("")) ch.getCacheDetails(false).setCacheNotes(logText);
 				ch.save();
 			}
 		}



From araber95 at mail.berlios.de  Mon Sep  6 02:24:57 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon,  6 Sep 2010 02:24:57 PM +0200
Subject: [Cachewolf-svn] r2771 - trunk/src/CacheWolf/imp
Message-ID: <20100906122457.3F253481051@sheep.berlios.de>

Author: araber95
Date: 2010-09-06 14:24:57 +0200 (Mon, 06 Sep 2010)
New Revision: 2771

Modified:
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
correct handling of aborting download of listpages (really stops on closed infB)

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-06 12:18:47 UTC (rev 2770)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-06 12:24:57 UTC (rev 2771)
@@ -641,7 +641,7 @@
 					} else toDistance = 0; // finish listing
 					// get next row of table (next Cache Description) of this htmlListPage
 					RexPropLine.searchFrom(tableOfHtmlListPage, RexPropLine.matchedTo());
-					if (infB.isClosed) break;
+					if (infB.isClosed) { toDistance=0; break; }
 				} // next Cache
 				 infB.setInfo(MyLocale.getMsg(5511,"Found ")+
 						 cachesToLoad.size()+" / "+



From araber95 at mail.berlios.de  Tue Sep  7 12:38:42 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Tue,  7 Sep 2010 12:38:42 PM +0200
Subject: [Cachewolf-svn] r2772 - in trunk/src/CacheWolf: . exp imp
Message-ID: <20100907103842.A02E0481057@sheep.berlios.de>

Author: araber95
Date: 2010-09-07 12:38:41 +0200 (Tue, 07 Sep 2010)
New Revision: 2772

Modified:
   trunk/src/CacheWolf/Log.java
   trunk/src/CacheWolf/exp/TPLExporter.java
   trunk/src/CacheWolf/imp/GPXImporter.java
   trunk/src/CacheWolf/imp/OCXMLImporter.java
Log:
moved typeText2Image to Log.java (where it belongs to)

Modified: trunk/src/CacheWolf/Log.java
===================================================================
--- trunk/src/CacheWolf/Log.java	2010-09-06 12:24:57 UTC (rev 2771)
+++ trunk/src/CacheWolf/Log.java	2010-09-07 10:38:41 UTC (rev 2772)
@@ -1,7 +1,5 @@
 package CacheWolf;
 
-import CacheWolf.imp.GPXImporter;
-
 public class Log {
 	private static String MAXLOGICON="MAXLOG";
 	private static String INVALIDLOGICON=null;
@@ -95,8 +93,32 @@
 	}
 	
 	public boolean isFoundLog() {
-		return icon.equals(GPXImporter.typeText2Image("Found"));
+		return icon.equals(typeText2Image("Found"));
 	}
+	
+	// if you change any of these make sure to check image2TypeText in the GPX exporters
+	public static String typeText2Image(String typeText){
+		if (typeText.equals("Found it")||typeText.equals("Found")||typeText.equals("find")) return "icon_smile.gif";
+		if (typeText.equals("Didn't find it")||typeText.equals("Not Found")||typeText.equals("no_find")) return "icon_sad.gif";
+		if (typeText.equals("Write note")||typeText.equals("Note")||typeText.equals("note")
+			||typeText.equals("Not Attempted")||typeText.equals("Other")) return "icon_note.gif";
+		if (typeText.equals("Enable Listing")) return "icon_enabled.gif";
+		if (typeText.equals("Temporarily Disable Listing")) return "icon_disabled.gif";
+		if (typeText.equals("Webcam Photo Taken")) return "icon_camera.gif";
+		if (typeText.equals("Attended")) return "icon_attended.gif";
+		if (typeText.equals("Publish Listing")) return "icon_greenlight.gif";
+		if (typeText.equals("Will Attend")) return "icon_rsvp.gif";
+		if (typeText.equals("Post Reviewer Note")) return "big_smile.gif";
+		if (typeText.equals("Unarchive")) return "traffic_cone.gif";
+		if (typeText.equals("Archive")) return "traffic_cone.gif";
+		if (typeText.equals("Owner Maintenance")) return "icon_maint.gif";
+		if (typeText.equals("Needs Maintenance")) return "icon_needsmaint.gif";
+		if (typeText.equals("Needs Archived")) return "icon_remove.gif";
+		if (typeText.equals("Update Coordinates")) return "coord_update.gif";
+		if (typeText.equals("Retract Listing")) return "img_redlight.gif";
+		Global.getPref().log("GPX Import: warning, unknown logtype "+typeText+" assuming Write note");
+		return "icon_note.gif";
+	}
 
 	/** log was written by one of the aliases defined in preferences */
 	public boolean isOwnLog() {

Modified: trunk/src/CacheWolf/exp/TPLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/TPLExporter.java	2010-09-06 12:24:57 UTC (rev 2771)
+++ trunk/src/CacheWolf/exp/TPLExporter.java	2010-09-07 10:38:41 UTC (rev 2772)
@@ -27,7 +27,6 @@
 
 import CacheWolf.CacheDB;
 import CacheWolf.CacheHolder;
-import CacheWolf.DataMover;
 import CacheWolf.Global;
 import CacheWolf.InfoBox;
 import CacheWolf.Preferences;

Modified: trunk/src/CacheWolf/imp/GPXImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GPXImporter.java	2010-09-06 12:24:57 UTC (rev 2771)
+++ trunk/src/CacheWolf/imp/GPXImporter.java	2010-09-07 10:38:41 UTC (rev 2772)
@@ -287,7 +287,7 @@
 				return;
 			}
 			if (name.equals("groundspeak:type") || name.equals("type") || name.equals("terra:type")){
-				logIcon = new String(typeText2Image(strData));
+				logIcon = new String(Log.typeText2Image(strData));
 				return;
 			}
 			if (name.equals("groundspeak:finder")|| name.equals("geocacher")|| name.equals("finder")|| name.equals("terra:user")){
@@ -519,30 +519,6 @@
 		if (debugGPX) Vm.debug("Char: " + strBuf.toString());
 	}
 	
-	// if you change any of these make sure to check image2TypeText in the GPX exporters
-	public static String typeText2Image(String typeText){
-		if (typeText.equals("Found it")||typeText.equals("Found")||typeText.equals("find")) return "icon_smile.gif";
-		if (typeText.equals("Didn't find it")||typeText.equals("Not Found")||typeText.equals("no_find")) return "icon_sad.gif";
-		if (typeText.equals("Write note")||typeText.equals("Note")||typeText.equals("note")
-			||typeText.equals("Not Attempted")||typeText.equals("Other")) return "icon_note.gif";
-		if (typeText.equals("Enable Listing")) return "icon_enabled.gif";
-		if (typeText.equals("Temporarily Disable Listing")) return "icon_disabled.gif";
-		if (typeText.equals("Webcam Photo Taken")) return "icon_camera.gif";
-		if (typeText.equals("Attended")) return "icon_attended.gif";
-		if (typeText.equals("Publish Listing")) return "icon_greenlight.gif";
-		if (typeText.equals("Will Attend")) return "icon_rsvp.gif";
-		if (typeText.equals("Post Reviewer Note")) return "big_smile.gif";
-		if (typeText.equals("Unarchive")) return "traffic_cone.gif";
-		if (typeText.equals("Archive")) return "traffic_cone.gif";
-		if (typeText.equals("Owner Maintenance")) return "icon_maint.gif";
-		if (typeText.equals("Needs Maintenance")) return "icon_needsmaint.gif";
-		if (typeText.equals("Needs Archived")) return "icon_remove.gif";
-		if (typeText.equals("Update Coordinates")) return "coord_update.gif";
-		if (typeText.equals("Retract Listing")) return "img_redlight.gif";
-		Global.getPref().log("GPX Import: warning, unknown logtype "+typeText+" assuming Write note");
-		return "icon_note.gif";
-	}
-	
 	public static String TCSizetoText(String size){
 		if (size.equals("1")) return "Micro";
 		if (size.equals("2")) return "Medium";

Modified: trunk/src/CacheWolf/imp/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-09-06 12:24:57 UTC (rev 2771)
+++ trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-09-07 10:38:41 UTC (rev 2772)
@@ -462,14 +462,14 @@
 			logtype = Convert.toInt(atts.getValue("id"));
 			switch (logtype) {
 			case 1:
-				logIcon = GPXImporter.typeText2Image("Found");
+				logIcon = Log.typeText2Image("Found");
 				break;
 			case 2:	
-				logIcon = GPXImporter.typeText2Image("Not Found");
+				logIcon = Log.typeText2Image("Not Found");
 				holder.setNoFindLogs((byte)(holder.getNoFindLogs()+1));
 				break;
 			case 3: 
-				logIcon = GPXImporter.typeText2Image("Note");
+				logIcon = Log.typeText2Image("Note");
 			}
 			loggerRecommended = atts.getValue("recommended").equals("1");
 			return;



From araber95 at mail.berlios.de  Thu Sep  9 08:04:23 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu,  9 Sep 2010 08:04:23 PM +0200
Subject: [Cachewolf-svn] r2773 - in trunk/src/CacheWolf: . imp navi
Message-ID: <20100909180424.0C44B480020@sheep.berlios.de>

Author: araber95
Date: 2010-09-09 20:04:23 +0200 (Thu, 09 Sep 2010)
New Revision: 2773

Modified:
   trunk/src/CacheWolf/CWPoint.java
   trunk/src/CacheWolf/Common.java
   trunk/src/CacheWolf/CoordsScreen.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/imp/SpiderGC.java
   trunk/src/CacheWolf/navi/MapLoader.java
Log:
new function for quick loading of caches with minimal gc traffic. (todo message files)

Modified: trunk/src/CacheWolf/CWPoint.java
===================================================================
--- trunk/src/CacheWolf/CWPoint.java	2010-09-07 10:38:41 UTC (rev 2772)
+++ trunk/src/CacheWolf/CWPoint.java	2010-09-09 18:04:23 UTC (rev 2773)
@@ -274,13 +274,15 @@
 	/**
 	 * shift the point
 	 * @param meters positiv to north (east), negativ to south (west)
-	 * @param direction 0 north-south, 1 east-west
+	 * @param direction 0 north(meters negative=south), 1 east(meters negative=west) 2 south(meters negative=north) 3 west(meters negative=east)
 	 */
 	public void shift(double meters, int direction) {
 		double meters2deglon = 1/(1000*(new CWPoint(0,0)).getDistance(new CWPoint(1,0)));
 		switch (direction) { // TODO use ellipsoid distance calculations for better accuracy
 			case 0: latDec += meters *  meters2deglon; return;
 			case 1: lonDec += meters * (meters2deglon / Math.cos(latDec / 180 * Math.PI));return;
+			case 2: latDec += -meters *  meters2deglon; return;
+			case 3: lonDec += -meters * (meters2deglon / Math.cos(latDec / 180 * Math.PI));return;
 		}
 	}
 

Modified: trunk/src/CacheWolf/Common.java
===================================================================
--- trunk/src/CacheWolf/Common.java	2010-09-07 10:38:41 UTC (rev 2772)
+++ trunk/src/CacheWolf/Common.java	2010-09-09 18:04:23 UTC (rev 2773)
@@ -2,7 +2,6 @@
 
 
 import CacheWolf.utils.FileBugfix;
-import ewe.sys.Convert;
 
 public final class Common {
 
@@ -94,7 +93,7 @@
 		}// for
 		return new String(dummy);
 	}
-	
+/*	
 	public static String stringToHex(String str){
 		StringBuffer strBuf = new StringBuffer();
 		StringBuffer strHex = new StringBuffer();
@@ -108,7 +107,7 @@
 		strBuf.append(strHex);
 		return strBuf.toString();
 	}
-	
+*/	
 	public static String ClearForFileName(String str) {
 		String ret = str.replace('?', '_');
 		ret = ret.replace(' ', '-');
@@ -147,11 +146,10 @@
 		return fn.substring(dot, fn.length());
 	}
 	
-	public static String DoubleToString(double d, int decimalplaces) {
+	public static String DoubleToString(double d, int length, int decimalplaces) {
 		ewe.sys.Double e = new ewe.sys.Double();
 		e.set(d);
-		e.decimalPlaces = decimalplaces;
-		return e.toString().replace(',', '.');
+		return e.toString(length,decimalplaces,0).replace(',', '.');
 
 	}
 	

Modified: trunk/src/CacheWolf/CoordsScreen.java
===================================================================
--- trunk/src/CacheWolf/CoordsScreen.java	2010-09-07 10:38:41 UTC (rev 2772)
+++ trunk/src/CacheWolf/CoordsScreen.java	2010-09-09 18:04:23 UTC (rev 2773)
@@ -198,8 +198,8 @@
 				localCooSystem.setInt(formatsel - formatSelToLocalSystem.length);
 				ProjectedPoint pp = TransformCoordinates.wgs84ToLocalsystem(coords, format);
 				inpText.setText(pp.toHumanReadableString());
-				inpUTMNorthing.setText(Common.DoubleToString(pp.getNorthing(),0));
-				inpUTMEasting.setText(Common.DoubleToString(pp.getEasting(),0));
+				inpUTMNorthing.setText(Common.DoubleToString(pp.getNorthing(),0,0));
+				inpUTMEasting.setText(Common.DoubleToString(pp.getEasting(),0,0));
 				if (TransformCoordinates.getLocalSystem(format).zoneSeperatly) inpUTMZone.setText(pp.getZoneString()); 
 				else inpUTMZone.setText("");
 			}

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2010-09-07 10:38:41 UTC (rev 2772)
+++ trunk/src/CacheWolf/MainMenu.java	2010-09-09 18:04:23 UTC (rev 2773)
@@ -55,7 +55,7 @@
 public class MainMenu extends MenuBar {
 	private MenuItem preferences, mnuContext,loadcaches,loadOC, /* savenexit, */ savenoxit,exit,search,searchAll,searchClr;
 	private MenuItem downloadmap, kalibmap, importmap, selectMapPath;
-	private MenuItem spider, spiderRoute, spiderAllFinds, loadGCVotes, update, chkVersion;
+	private MenuItem spider, spiderRoute, spiderQuick, spiderAllFinds, loadGCVotes, update, chkVersion;
 	private MenuItem about, wolflang, sysinfo, legend;
 	private MenuItem exportGpxNg, exporthtml, exporttop50, exportASC, exportTomTom, exportMSARCSV, exportSpoilerPOI;
 	private MenuItem exportOZI, exportKML, exportTPL, exportExplorist;
@@ -97,6 +97,7 @@
 				loadcaches     = new MenuItem(MyLocale.getMsg(129,"Import GPX")),
 				loadOC         = new MenuItem(MyLocale.getMsg(130,"Download from opencaching")),
 				spider         = new MenuItem(MyLocale.getMsg(131,"Download from geocaching.com")),
+				spiderQuick    = new MenuItem(MyLocale.getMsg(0,"from GC quick")),
 				spiderRoute,
 				spiderAllFinds = new MenuItem(MyLocale.getMsg(217,"Spider all finds from geocaching.com")),
 				update         = new MenuItem(MyLocale.getMsg(1014,"Update cache data")),
@@ -349,6 +350,14 @@
 				profile.readIndex();
 				tbp.resetModel();
 			}
+			if(mev.selectedItem == spiderQuick){
+				SpiderGC spGC = new SpiderGC(pref, profile, true);
+				Global.mainTab.saveUnsavedChanges(false);
+				spGC.doItQuickFillFromMapList();
+				cacheDB.clear();
+				profile.readIndex();
+				tbp.resetModel();
+			}
 			if(mev.selectedItem == spiderAllFinds){
 				SpiderGC spGC = new SpiderGC(pref, profile, true);
 				Global.mainTab.saveUnsavedChanges(false);

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-07 10:38:41 UTC (rev 2772)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-09 18:04:23 UTC (rev 2773)
@@ -64,7 +64,6 @@
 import ewe.net.URL;
 import ewe.net.UnknownHostException;
 import ewe.sys.Convert;
-import ewe.sys.Double;
 import ewe.sys.Time;
 import ewe.sys.Vm;
 import ewe.ui.FormBase;
@@ -166,6 +165,8 @@
 	private int numAvailableUpdates=0;
 	private int numLogUpdates=0;
 	private int numPrivate=0;
+	private int page_number=1;
+	private int num_added=0;
 
 	public SpiderGC(Preferences prf, Profile profile, boolean bypass){
 		this.profile=profile;
@@ -332,6 +333,7 @@
 		Global.getProfile().saveIndex(Global.getPref(),true);
 	}
 	
+	
 	private int nextRoutePoint(CWPoint startPos, double lateralDistance) {
 		// get next Destination
 		double nextDistance = 0;
@@ -368,7 +370,133 @@
 		return index;
 	}
 
+	public void doItQuickFillFromMapList() {
+
+		CWPoint origin = pref.getCurCentrePt();
+		if (!origin.isValid()) return; //
+		if (!doDownloadGui(2)) return;
+
+		Vm.showWait(true);
+		infB = new InfoBox("Status", MyLocale.getMsg(0,"getting the caches."));
+		infB.exec();
+
+		// Reset states for all caches when spidering (http://tinyurl.com/dzjh7p)
+		for(int i = 0; i<cacheDB.size();i++){
+			CacheHolder ch = cacheDB.get(i);
+			if (ch.mainCache == null) ch.initStates(false);
+		}
+
+		double halfSideLength=maxDistance; // halbe Seitenl?nge eines Quadrats ums Zentrum in km
+		if ( pref.metricSystem == Metrics.IMPERIAL ) {
+			halfSideLength = Metrics.convertUnit(maxDistance, Metrics.MILES, Metrics.KILOMETER);
+		}
+
+		if (!loggedIn || pref.forceLogin) {
+			if(login() != FormBase.IDOK) return;
+		}
+
+		page_number = 1;
+		num_added = 0;
+		getCaches(origin,halfSideLength);
+		
+		if (!infB.isClosed) infB.close(0);
+		Vm.showWait(false);
+
+		Global.getProfile().restoreFilter();
+		Global.getProfile().saveIndex(Global.getPref(),true);
+				
+	}
 	
+	private void getCaches(CWPoint middleOfSquare, double halfSideLength) {
+		if (infB.isClosed) return;
+		page_number++;
+		String listPage=getMapListPage(middleOfSquare, halfSideLength, halfSideLength);
+		if (listPage.indexOf("\"count\": 501")>-1 || halfSideLength < 1.0 ) {
+			Vm.debug("split "+middleOfSquare.toString());
+			double quarterSideLength = halfSideLength/2.0;
+			double metersQuarterSideLength = quarterSideLength * 1000;
+			int north = 0;
+			int east = 1;
+			int south = 2;
+			int west = 3;
+
+			CWPoint northwest = new CWPoint(middleOfSquare); 
+			northwest.shift(metersQuarterSideLength, north);
+			CWPoint northeast = new CWPoint(northwest);
+			northwest.shift(metersQuarterSideLength , west);
+			northeast.shift(metersQuarterSideLength, east);
+			
+			CWPoint southwest = new CWPoint(middleOfSquare);
+			southwest.shift(metersQuarterSideLength, south);
+			CWPoint southeast = new CWPoint(southwest);
+			southwest.shift(metersQuarterSideLength, west);
+			southeast.shift(metersQuarterSideLength, east);
+			
+			Vm.debug("get northwest");
+			getCaches(northwest, quarterSideLength);
+			Vm.debug("get northeast");
+			getCaches(northeast, quarterSideLength);
+			Vm.debug("get southwest");
+			getCaches(southwest, quarterSideLength);
+			Vm.debug("get southeast");
+			getCaches(southeast, quarterSideLength);
+			
+		}
+		else {
+			Vm.debug("add Caches "+middleOfSquare.toString());
+			addCaches(listPage);
+		}
+		Vm.debug("ready "+middleOfSquare.toString());
+	}
+	
+	private void addCaches(String listPage) {
+		String[] caches = mString.split(listPage, '{');
+		for (int i = 0; i < caches.length; i++) {
+			if (infB.isClosed) return;
+			String elements[] = mString.split(caches[i],',');
+			String e1[]= mString.split(elements[0],' '); //.indexOf("\"lat\": ");
+			if ( e1[0].indexOf("lat") > -1) {
+				boolean found=mString.split(elements[5],' ')[1].equals("true");
+				if (found && doNotgetFound) continue;
+				byte cacheType=CacheType.gcSpider2CwType(mString.split(elements[4],' ')[1]);
+				if (restrictedCacheType != CacheType.CW_TYPE_ERROR ) {
+					if (restrictedCacheType!=cacheType) continue;
+				}
+				String lat=e1[1];
+				String lon=mString.split(elements[2],' ')[1];
+				String wp=mString.split(elements[3],'\"')[3];
+				String own=mString.split(elements[6],' ')[1];
+				String available=mString.split(elements[7],' ')[1];
+				String cacheName=mString.split(elements[8],'\"')[3];;
+				CacheHolder ch=cacheDB.get(wp);
+				if (ch==null) {
+					ch = new CacheHolder();
+					ch.setWayPoint(wp);
+					ch.setLatLon(lat+" "+lon);
+					ch.setType(cacheType);
+					if (own.equals("true")) {
+						ch.setOwned(true);
+					}
+					else {
+						if (found) {
+							ch.setFound(true);
+							ch.setCacheStatus(ch.getFoundText());
+						}
+					}
+					ch.setAvailable(available.equals("true")? true : false);
+					ch.setCacheName(cacheName);
+					ch.save();
+					num_added++;
+					cacheDB.add(ch);
+					if (Global.mainTab.statBar!=null) Global.mainTab.statBar.updateDisplay("GC pages: "+page_number+" Caches added to CW: "+num_added);
+				}
+				else {
+					Vm.debug("uups");
+				}
+			}			
+		}
+	}
+	
 	private boolean doDownloadGui(int menu){
 
 		OCXMLImporterScreen options;
@@ -411,10 +539,7 @@
 			String minDist = options.minDistanceInput.getText();
 			if (minDist.length() == 0) minDist="0";
 			minDistance = Common.parseDouble(minDist);
-			Double distDouble = new Double();
-			distDouble.value = minDistance;
-			minDist = distDouble.toString(0, 1, 0).replace(',', '.');
-			profile.setMinDistGC(minDist);
+			profile.setMinDistGC(Double.toString(minDistance).replace(',', '.'));
 
 			direction=options.directionInput.getText().toUpperCase();
 			direction=direction.replace(' ',','); // separator blank to ,
@@ -427,7 +552,7 @@
 			doNotgetFound = options.foundCheckBox.getState();
 
 		}
-		else { // menu=1 input values for get Caches along a route
+		else if (menu == 1) { // menu = 1 input values for get Caches along a route
 			options = new OCXMLImporterScreen(MyLocale.getMsg(137,"Download along a Route from geocaching.com"),
 					OCXMLImporterScreen.ISGC|
 					OCXMLImporterScreen.DIST|
@@ -445,6 +570,17 @@
 			direction="";
 			maxUpdate=0;
 		}
+		else { // if (menu == 2) {
+			options = new OCXMLImporterScreen(MyLocale.getMsg(0,"Qick Import"),
+					OCXMLImporterScreen.ISGC|
+					OCXMLImporterScreen.DIST|
+					OCXMLImporterScreen.INCLUDEFOUND|
+					OCXMLImporterScreen.TYPE);
+			// setting defaults for input 
+			// doing the input
+			if (options.execute() == FormBase.IDCANCEL) {return false; }
+			doNotgetFound = options.foundCheckBox.getState();
+		}
 
 		if (menu==0) {
 			
@@ -477,14 +613,10 @@
 		if (options.maxDistanceInput != null){
 			String maxDist = options.maxDistanceInput.getText();
 			if (maxDist.length() ==  0) return false;
-			maxDistance = Common.parseDouble(maxDist.replace(',', '.'));
+			maxDistance = Common.parseDouble(maxDist);
 			if (maxDistance ==  0) return false;
 			if (maxDistance<0.5) maxDistance=0.5; // zur Sicherheit mindenstens 500 meter Umkreis
-			//save last radius to profile
-			Double distDouble = new Double();
-			distDouble.value = maxDistance;
-			maxDist = distDouble.toString(0, 1, 0).replace(',', '.');
-			profile.setDistGC(maxDist);
+			profile.setDistGC(Double.toString(maxDistance));
 		}
 
 		directions=mString.split(direction, ',');
@@ -573,7 +705,7 @@
 		int startSize=cExpectedForUpdate.size(); //for save reasons
 
 		Hashtable cFoundForUpdate = new Hashtable(cacheDB.size()); // for don't loose the already done work
-		int page_number = 1;
+		page_number = 1;
 		int found_on_page = 0;
 		try {
 			//Loop pages till maximum distance has been found or no more caches are in the list
@@ -894,7 +1026,7 @@
 					sb.append("="); sb.append(URL.encodeURL("Login",false));
 //					sb.append("&"); sb.append(URL.encodeURL("__EVENTVALIDATION",false));
 //					sb.append("="); sb.append(URL.encodeURL(eventvalidation,false));
-					loginPage = fetch_post(loginPageUrl, sb.toString(), nextPage);  // /login/default.aspx
+					loginPage = fetch_post(loginPageUrl, sb.toString(), nextPage, true);  // /login/default.aspx
 					if(loginPage.indexOf(loginSuccess) > 0)
 						pref.log("Login successful: "+pref.myAlias);
 					else {
@@ -958,7 +1090,7 @@
 //		    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
 //		    + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+ URL.encodeURL(eventvalidation,false);
 			try{
-				loginPage = fetch_post(loginPageUrl, postStr, nextPage);
+				loginPage = fetch_post(loginPageUrl, postStr, nextPage, true);
 				pref.log("Switched to English");
 			}catch(Exception ex){
 				pref.log("Error switching to English: check/n" + loginPageUrl + "/n" + postStr + "/n" + nextPage + "/n",ex);
@@ -1093,13 +1225,57 @@
 	    + "&" + URL.encodeURL("__VIEWSTATE1",false) + "=" + URL.encodeURL(viewstate1,false);
 //	    + "&" + URL.encodeURL("__EVENTVALIDATION",false) + "=" + URL.encodeURL(eventvalidation,false);
 		try{
-			htmlListPage = fetch_post(postStr, url, p.getProp("nextListPage"));
+			htmlListPage = fetch_post(postStr, url, p.getProp("nextListPage"), true);
 			pref.log("[getAListPage] Got list page: "+URL.encodeURL(whatPage,false));
 		}catch(Exception ex){
 			pref.log("[getAListPage] Error getting a list page"+url,ex);
 		}
 	}
+	/* */
+	private String getMapListPage(CWPoint origin, double kmlat, double kmlon) {
+		double km2latdeg=1/(origin.getDistance(new CWPoint(origin.latDec+1,origin.lonDec)));
+		double km2londeg=1/(origin.getDistance(new CWPoint(origin.latDec,origin.lonDec+1)));
+		double dlat = kmlat * km2latdeg;
+		double dlon = kmlon * km2londeg;
+		String url="http://www.geocaching.com/map/default.aspx"+
+			"?lat="+origin.getLatDeg(TransformCoordinates.DD)+
+			"&lng="+origin.getLonDeg(TransformCoordinates.DD);
+		double left = origin.lonDec - dlon;
+		double up = origin.latDec + dlat;
+		double right = origin.lonDec + dlon;
+		double down = origin.latDec - dlat;
+		String strLeft=MyLocale.formatDouble(left, "00.00000").replace(',','.');
+		String strUp=MyLocale.formatDouble(up, "00.00000").replace(',','.');
+		String strRight=MyLocale.formatDouble(right, "00.00000").replace(',','.');
+		String strDown=MyLocale.formatDouble(down, "00.00000").replace(',','.');
 
+		String eo_cb_param1 = "eo_cb_param=%7B%22c%22%3A%201%2C%20%22m%22%3A%20%22%22%2C%20%22d%22%3A%20%22";
+		String eo_cb_param2 = strUp+"|"+strDown+"|"+strRight+"|"+strLeft+"%22%7D";
+		String ret;
+		String doc="";
+		try{
+
+			doc="eo_cb_id=ctl00_ContentBody_cbAjax" +
+			"&"+eo_cb_param1 + eo_cb_param2 +
+			"&__eo_obj_states="+
+			//"&__VIEWSTATE="+viewstate+
+			"&__VIEWSTATE=%2FwEPDwULLTEyOTYyNjYwNjkPZBYCZg9kFgZmD2QWAgIODxYCHgdWaXNpYmxlaGQCAQ9kFhICBQ8WAh4EVGV4dGRkAgkPFgIfAQUWWW91IGFyZSBub3QgbG9nZ2VkIGluLmQCCw8PFgQeC05hdmlnYXRlVXJsBZEBaHR0cDovL3d3dy5nZW9jYWNoaW5nLmNvbS9sb2dpbi9kZWZhdWx0LmFzcHg%2FUkVTRVQ9WSZyZWRpcj1odHRwJTNhJTJmJTJmd3d3Lmdlb2NhY2hpbmcuY29tJTJmbWFwJTJmZGVmYXVsdC5hc3B4JTNmbGF0JTNkNDYuNjE1OTclMjZsbmclM2QxMy44NDg3Mx8BBQZMb2cgaW5kZAIPD2QWAgIBDw8WAh8BZGRkAhEPZBYCAgEPD2QPZAUMRFFJQkFBQUFBQUE9ZAIfDxYCHwBnZAInDw8WBB8CBQwvcmV2aWV3cy9ncHMfAQULR1BTIFJldmlld3NkZAIrD2QWAgIBDw8WAh8BBZcCPGlmcmFtZSBzcmM9Imh0dHA6Ly9iYW5tYW41Lmdyb3VuZHNwZWFrLmNvbS9iYW5tYW41L2FkLmFzcHg%2FWm9uZUlEPTkmVGFzaz1HZXQmU2l0ZUlEPTEmWD0nMzdlYWVjMTQzODVjNDc1Y2JiZjFhODk0YTgzOTNiMGMnIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjI0MCIgTWFyZ2lud2lkdGg9IjAiIE1hcmdpbmhlaWdodD0iMCIgSHNwYWNlPSIwIiBWc3BhY2U9IjAiIEZyYW1lYm9yZGVyPSIwIiBTY3JvbGxpbmc9Im5vIiBzdHlsZT0id2lkdGg6MTIwcHg7SGVpZ2h0OjI0MHB4OyI%2BPC9pZnJhbWU%2BZGQCLQ9kFgJmD2QWAmYPFgIeC18hSXRlbUNvdW50AgYWDAIBD2QWAgIBDw8WCB4PQ29tbWFuZE
 FyZ3VtZW50BQVlbi1VUx4LQ29tbWFuZE5hbWUFDVNldFRlbXBMb2NhbGUfAQUHRW5nbGlzaB4QQ2F1c2VzVmFsaWRhdGlvbmhkZAICD2QWAgIBDw8WCB8EBQVkZS1ERR8FBQ1TZXRUZW1wTG9jYWxlHwEFB0RldXRzY2gfBmhkZAIDD2QWAgIBDw8WCB8EBQVmci1GUh8FBQ1TZXRUZW1wTG9jYWxlHwEFCUZyYW7Dp2Fpcx8GaGRkAgQPZBYCAgEPDxYIHwQFBXB0LVBUHwUFDVNldFRlbXBMb2NhbGUfAQUKUG9ydHVndcOqcx8GaGRkAgUPZBYCAgEPDxYIHwQFBWNzLUNaHwUFDVNldFRlbXBMb2NhbGUfAQUJxIxlxaF0aW5hHwZoZGQCBg9kFgICAQ8PFggfBAUFc3YtU0UfBQUNU2V0VGVtcExvY2FsZR8BBQdTdmVuc2thHwZoZGQCAw8WAh8BBSxTZXJ2ZXI6IFdFQjA4OyBCdWlsZDogVEZTLlJlbGVhc2VfMjAxMDA4MzAuMWRkkWJYA8UHbJ38zIk7cJhELr1nbU4%3D"+
+			"&eo_version=5.0.51.2"+
+			"&=on&=&=&=2&=3&=4&=5&=1858&=6&=8&=11&=137&=13&=453&=3653&=on&=" +
+			"&__EVENTVALIDATION="+
+			"&__EVENTTARGET="+
+			"&__EVENTARGUMENT=";
+
+			ret = fetch_post(url, doc, "/map/default.aspx", false);
+			pref.log("[getAListPage] Got map Cachepage: ");
+		}catch(Exception ex){
+			ret="";
+			pref.log("[getAListPage] Error getting map Cachepage"+url+doc,ex);
+		}
+		return ret;
+	}
+	 /* */
+
 	/**
 	 * check if new Update exists
 	 * @param ch CacheHolder
@@ -1141,7 +1317,7 @@
 	private int getNumFound(String doc) {
 		RexNumFinds.search(doc);
 		if (RexNumFinds.didMatch()) {
-			 return Convert.toInt(RexNumFinds.stringMatched(1));}
+			 return Common.parseInt(RexNumFinds.stringMatched(1));}
 		else {
 			pref.log("check RexNumFinds in SpiderGC.java / initialiseProperties"+Preferences.NEWLINE+doc);
 			return 0;
@@ -1338,14 +1514,14 @@
 					"June", "July", "August", "September", "October", "November",
 					"December" };
 			SDate=mString.split(stmp,' ');
-			lastLogGC.day=Integer.parseInt(SDate[0]);
+			lastLogGC.day=Common.parseInt(SDate[0]);
 			for (int m = 0; m < 12; m++) {
 				if (monthNames[m].startsWith(SDate[1])) {
 					lastLogGC.month=m+1;
 					m=12;
 				}
 			}
-			lastLogGC.year=2000+Integer.parseInt(SDate[2].substring(0,2));
+			lastLogGC.year=2000+Common.parseInt(SDate[2].substring(0,2));
 		}
 		boolean ret = lastLogCW.compareTo(lastLogGC) < 0;
 		return ret;
@@ -2251,7 +2427,7 @@
 	*	This method does exactly that. Actually this method is generic in the sense
 	*	that it can be used to post to a URL using http post.
 	*/
-	private static String fetch_post(String address, String document, String path) {
+	private static String fetch_post(String address, String document, String path, boolean withResponseHeaders) {
 		HttpConnection conn;
 		try {
 			conn = new HttpConnection(address);
@@ -2274,7 +2450,9 @@
 			pref.log("[fetch_post]:Read data ok "+address);
 			// CharArray c_data = codec.decodeText(daten.data, 0, daten.length, true, null);
 			sock.close();
-			return getResponseHeaders(conn)+c_data.toString();
+			if (withResponseHeaders)
+				return getResponseHeaders(conn)+c_data.toString();
+			else return c_data.toString();
 		} catch (Exception e) {
 			pref.log("[fetch_post] Ignored Exception", e, true);
 		}

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2010-09-07 10:38:41 UTC (rev 2772)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2010-09-09 18:04:23 UTC (rev 2773)
@@ -245,7 +245,7 @@
 	}
 
 	public String createFilename(CWPoint center, float scale) {
-		String filename = Common.ClearForFileName(currentOnlineMapService.getNameForFileSystem()+"_s"+Common.DoubleToString(scale, 1)
+		String filename = Common.ClearForFileName(currentOnlineMapService.getNameForFileSystem()+"_s"+Common.DoubleToString(scale,0,1)
 				+ "_c" + center.toString(TransformCoordinates.LAT_LON).replace(',', '-'));
 		return filename;
 	}
@@ -472,7 +472,7 @@
 		String[] tmp2 = mString.split(tmp, ' ');
 		coordinateReferenceSystem = new int[tmp2.length];
 		for (int i = 0; i < tmp2.length; i++) {
-			coordinateReferenceSystem[i] = Convert.toInt(tmp2[i].trim());
+			coordinateReferenceSystem[i] = Common.parseInt(tmp2[i].trim());
 			if (!TransformCoordinates.isSupported(coordinateReferenceSystem[i])) throw new IllegalArgumentException(MyLocale.getMsg(4815, "Coordinate reference system not supported by CacheWolf:\n") + coordinateReferenceSystem[i]);
 		}
 		tmp = wms.getProperty("CoordinateReferenceSystemUrlPart", "").trim();



From araber95 at mail.berlios.de  Fri Sep 10 03:44:22 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 10 Sep 2010 03:44:22 PM +0200
Subject: [Cachewolf-svn] r2774 - trunk/src/CacheWolf/imp
Message-ID: <20100910134422.15BEC48038A@sheep.berlios.de>

Author: araber95
Date: 2010-09-10 15:44:21 +0200 (Fri, 10 Sep 2010)
New Revision: 2774

Modified:
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
changed calculating the squares to the simple way.

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-09 18:04:23 UTC (rev 2773)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-10 13:44:21 UTC (rev 2774)
@@ -220,8 +220,10 @@
 			
 			cachesToUpdate=fillDownloadLists(pref.maxSpiderNumber , maxUpdate, maxDistance, minDistance, directions, cachesToUpdate);
 			if (cachesToUpdate == null) {cachesToUpdate = new Hashtable();};
-			if (infB.isClosed) { Vm.showWait(false); return; }
-			infB.setInfo(MyLocale.getMsg(5511,"Found ") + cachesToLoad.size() + MyLocale.getMsg(5512," caches"));
+			if (!infB.isClosed){
+				infB.setInfo(MyLocale.getMsg(5511,"Found ") + cachesToLoad.size() + MyLocale.getMsg(5512," caches"));
+			}
+			// continue to update index to changed cache.xml things (size,terrain,difficulty,...?) 
 
 			//=======
 			// Now ready to spider each cache in the lists
@@ -252,8 +254,10 @@
 
 			if (Global.mainTab.statBar!=null) Global.mainTab.statBar.updateDisplay("");
 
-			spiderErrors=downloadCaches(cachesToLoad, spiderErrors, totalCachesToLoad, loadAllLogs);
-			spiderErrors=updateCaches(cachesToUpdate, spiderErrors, totalCachesToLoad, loadAllLogs);
+			if (!infB.isClosed) {
+				spiderErrors=downloadCaches(cachesToLoad, spiderErrors, totalCachesToLoad, loadAllLogs);
+				spiderErrors=updateCaches(cachesToUpdate, spiderErrors, totalCachesToLoad, loadAllLogs);
+			}
 
 			if ( spiderErrors > 0) {
 				new MessageBox(MyLocale.getMsg(5500,"Error"),spiderErrors + MyLocale.getMsg(5516," cache descriptions%0acould not be loaded."),FormBase.DEFOKB).execute();
@@ -397,8 +401,22 @@
 
 		page_number = 1;
 		num_added = 0;
-		getCaches(origin,halfSideLength);
 		
+		int north = 0;
+		int east = 1;
+		int south = 2;
+		int west = 3;
+
+		halfSideLength=halfSideLength*1000; // in meters
+		CWPoint northwest = new CWPoint(origin); 
+		northwest.shift(halfSideLength , north);
+		northwest.shift(halfSideLength , west);		
+		CWPoint southeast = new CWPoint(origin);
+		southeast.shift(halfSideLength, south);
+		southeast.shift(halfSideLength, east);
+
+		getCaches(northwest.latDec,northwest.lonDec,southeast.latDec,southeast.lonDec);
+		
 		if (!infB.isClosed) infB.close(0);
 		Vm.showWait(false);
 
@@ -407,46 +425,40 @@
 				
 	}
 	
-	private void getCaches(CWPoint middleOfSquare, double halfSideLength) {
+	private void getCaches(double north, double west, double south, double east) {
 		if (infB.isClosed) return;
 		page_number++;
-		String listPage=getMapListPage(middleOfSquare, halfSideLength, halfSideLength);
-		if (listPage.indexOf("\"count\": 501")>-1 || halfSideLength < 1.0 ) {
-			Vm.debug("split "+middleOfSquare.toString());
-			double quarterSideLength = halfSideLength/2.0;
-			double metersQuarterSideLength = quarterSideLength * 1000;
-			int north = 0;
-			int east = 1;
-			int south = 2;
-			int west = 3;
+		CWPoint middle = new CWPoint((north+south)/2.0,(west+east)/2.0);
+		
+		// Global.getPref().log("Mitte: "+middle,null);
+		// Global.getPref().log("Rechteck: "+south+" "+west+" to "+north+" "+east,null);
+		CWPoint lu = new CWPoint(south,west);
+		CWPoint ro = new CWPoint(north,east);
+		CWPoint lo = new CWPoint(north,west);
+		CWPoint ru = new CWPoint(south,east);
+		// Global.getPref().log("Seitenl?ngen: "+lu.getDistance(ru)+" "+lu.getDistance(lo)+" "+ro.getDistance(lo)+" "+ro.getDistance(ru),null);		
 
-			CWPoint northwest = new CWPoint(middleOfSquare); 
-			northwest.shift(metersQuarterSideLength, north);
-			CWPoint northeast = new CWPoint(northwest);
-			northwest.shift(metersQuarterSideLength , west);
-			northeast.shift(metersQuarterSideLength, east);
+		String listPage=getMapListPage(middle, north, west, south, east);
+		if (listPage.indexOf("\"count\": 501")>-1 && +lu.getDistance(ru) > 2.0 ) {
+			Vm.debug("split ");
 			
-			CWPoint southwest = new CWPoint(middleOfSquare);
-			southwest.shift(metersQuarterSideLength, south);
-			CWPoint southeast = new CWPoint(southwest);
-			southwest.shift(metersQuarterSideLength, west);
-			southeast.shift(metersQuarterSideLength, east);
-			
+			double northsouthmiddle = (north+south)/2.0;
+			double westeastmiddle = (west+east)/2.0;
 			Vm.debug("get northwest");
-			getCaches(northwest, quarterSideLength);
+			getCaches(north, west, northsouthmiddle, westeastmiddle);
 			Vm.debug("get northeast");
-			getCaches(northeast, quarterSideLength);
+			getCaches(north, westeastmiddle, northsouthmiddle, east);
 			Vm.debug("get southwest");
-			getCaches(southwest, quarterSideLength);
+			getCaches(northsouthmiddle, west, south, westeastmiddle);
 			Vm.debug("get southeast");
-			getCaches(southeast, quarterSideLength);
+			getCaches(northsouthmiddle, westeastmiddle, south, east);
 			
 		}
 		else {
-			Vm.debug("add Caches "+middleOfSquare.toString());
+			Vm.debug("add Caches ");
 			addCaches(listPage);
 		}
-		Vm.debug("ready "+middleOfSquare.toString());
+		Vm.debug("ready ");
 	}
 	
 	private void addCaches(String listPage) {
@@ -666,7 +678,7 @@
 			for (int i = 0; i < (startPage / 10); i++) {
 				getAListPage(toDistanceInMiles,gotoNextBlock);			
 			}
-			getAListPage(toDistanceInMiles,gotoPage+startPage);			
+			if (startPage>1) getAListPage(toDistanceInMiles,gotoPage+startPage);			
 		}
 		
 		int numFoundInDB=0; // Number of GC-founds already in this profile
@@ -748,7 +760,7 @@
 								}
 						}
 						else {
-							if (maxUpdate>0) {
+							if (maxUpdate>0) { // regardless of fromDistance
 								if (!ch.is_black()) {
 									if (doPMCache(CacheDescriptionGC) && updateExists(ch,CacheDescriptionGC)) {
 										if (cFoundForUpdate.size()<maxUpdate) {
@@ -773,7 +785,8 @@
 					} else toDistance = 0; // finish listing
 					// get next row of table (next Cache Description) of this htmlListPage
 					RexPropLine.searchFrom(tableOfHtmlListPage, RexPropLine.matchedTo());
-					if (infB.isClosed) { toDistance=0; break; }
+					if (infB.isClosed) {
+						toDistance=0; break; }
 				} // next Cache
 				 infB.setInfo(MyLocale.getMsg(5511,"Found ")+
 						 cachesToLoad.size()+" / "+
@@ -1232,22 +1245,16 @@
 		}
 	}
 	/* */
-	private String getMapListPage(CWPoint origin, double kmlat, double kmlon) {
-		double km2latdeg=1/(origin.getDistance(new CWPoint(origin.latDec+1,origin.lonDec)));
-		double km2londeg=1/(origin.getDistance(new CWPoint(origin.latDec,origin.lonDec+1)));
-		double dlat = kmlat * km2latdeg;
-		double dlon = kmlon * km2londeg;
+	private String getMapListPage(CWPoint middle, double north, double west, double south, double east) {
+
 		String url="http://www.geocaching.com/map/default.aspx"+
-			"?lat="+origin.getLatDeg(TransformCoordinates.DD)+
-			"&lng="+origin.getLonDeg(TransformCoordinates.DD);
-		double left = origin.lonDec - dlon;
-		double up = origin.latDec + dlat;
-		double right = origin.lonDec + dlon;
-		double down = origin.latDec - dlat;
-		String strLeft=MyLocale.formatDouble(left, "00.00000").replace(',','.');
-		String strUp=MyLocale.formatDouble(up, "00.00000").replace(',','.');
-		String strRight=MyLocale.formatDouble(right, "00.00000").replace(',','.');
-		String strDown=MyLocale.formatDouble(down, "00.00000").replace(',','.');
+			"?lat="+middle.getLatDeg(TransformCoordinates.DD)+
+			"&lng="+middle.getLonDeg(TransformCoordinates.DD);
+				
+		String strLeft=MyLocale.formatDouble(west, "00.00000").replace(',','.');
+		String strUp=MyLocale.formatDouble(north, "00.00000").replace(',','.');
+		String strRight=MyLocale.formatDouble(east, "00.00000").replace(',','.');
+		String strDown=MyLocale.formatDouble(south, "00.00000").replace(',','.');
 
 		String eo_cb_param1 = "eo_cb_param=%7B%22c%22%3A%201%2C%20%22m%22%3A%20%22%22%2C%20%22d%22%3A%20%22";
 		String eo_cb_param2 = strUp+"|"+strDown+"|"+strRight+"|"+strLeft+"%22%7D";



From araber95 at mail.berlios.de  Fri Sep 10 04:05:29 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 10 Sep 2010 04:05:29 PM +0200
Subject: [Cachewolf-svn] r2775 - in trunk: res_noewe/languages src/CacheWolf
	src/CacheWolf/imp
Message-ID: <20100910140529.9A1DE48038A@sheep.berlios.de>

Author: araber95
Date: 2010-09-10 16:05:29 +0200 (Fri, 10 Sep 2010)
New Revision: 2775

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
doing the language texts for "quick import"

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-10 13:44:21 UTC (rev 2774)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-10 14:05:29 UTC (rev 2775)
@@ -67,6 +67,7 @@
 135=nach SpoilerPOI
 136=zum GPS: installiere GPSBabel
 137=von GC am Weg
+138=von GC schnelle %dcbersicht
 139=Travelbugs verwalten
 140=Verwalten
 141=Kopieren

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-10 13:44:21 UTC (rev 2774)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-10 14:05:29 UTC (rev 2775)
@@ -67,6 +67,7 @@
 135=to SpoilerPOI
 136=to GPS : gpsbabel missing.
 137=from GC along a route
+138=from GC quick overview
 139=Manage Travelbugs
 140=Organise
 141=Copy

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-10 13:44:21 UTC (rev 2774)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-10 14:05:29 UTC (rev 2775)
@@ -67,6 +67,7 @@
 135=vers SpoilerPOI
 136=to GPS : gpsbabel missing.
 137=de GC le long de la route
+138=de GC aper%e7u rapide
 139=G%e9rer Travelbugs
 140=G%e9rer
 141=Copier

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-10 13:44:21 UTC (rev 2774)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-10 14:05:29 UTC (rev 2775)
@@ -67,6 +67,7 @@
 135=Naar SpoilerPOI
 136=to GPS : gpsbabel missing.
 137=van GC langs de route
+138=van GC snel een overzicht
 139=Beheren Travelbugs
 140=Organiseren
 141=Kopi%ebren

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-10 13:44:21 UTC (rev 2774)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-10 14:05:29 UTC (rev 2775)
@@ -67,6 +67,7 @@
 135=SpoilerPOI
 136=to GPS : gpsbabel missing.
 137=z GC na trasie
+138=z GC szybki przeglad
 139=Zarzadzaj Travelbugami
 140=Zarzadzanie
 141=Kopiuj

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-10 13:44:21 UTC (rev 2774)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-10 14:05:29 UTC (rev 2775)
@@ -67,6 +67,7 @@
 135=till SpoilerPOI
 136=to GPS : gpsbabel missing.
 137=fr%e5n GC l%e4ngs rutten
+138=fr%e5n GC snabb %f6verblick
 139=Hantera Travelbugs
 140=Sortera
 141=Kopiera

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2010-09-10 13:44:21 UTC (rev 2774)
+++ trunk/src/CacheWolf/MainMenu.java	2010-09-10 14:05:29 UTC (rev 2775)
@@ -97,7 +97,7 @@
 				loadcaches     = new MenuItem(MyLocale.getMsg(129,"Import GPX")),
 				loadOC         = new MenuItem(MyLocale.getMsg(130,"Download from opencaching")),
 				spider         = new MenuItem(MyLocale.getMsg(131,"Download from geocaching.com")),
-				spiderQuick    = new MenuItem(MyLocale.getMsg(0,"from GC quick")),
+				spiderQuick    = new MenuItem(MyLocale.getMsg(138,"from GC quick")),
 				spiderRoute,
 				spiderAllFinds = new MenuItem(MyLocale.getMsg(217,"Spider all finds from geocaching.com")),
 				update         = new MenuItem(MyLocale.getMsg(1014,"Update cache data")),

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-10 13:44:21 UTC (rev 2774)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-10 14:05:29 UTC (rev 2775)
@@ -381,7 +381,7 @@
 		if (!doDownloadGui(2)) return;
 
 		Vm.showWait(true);
-		infB = new InfoBox("Status", MyLocale.getMsg(0,"getting the caches."));
+		infB = new InfoBox("Status", MyLocale.getMsg(1609,"getting the caches."));
 		infB.exec();
 
 		// Reset states for all caches when spidering (http://tinyurl.com/dzjh7p)
@@ -583,7 +583,7 @@
 			maxUpdate=0;
 		}
 		else { // if (menu == 2) {
-			options = new OCXMLImporterScreen(MyLocale.getMsg(0,"Qick Import"),
+			options = new OCXMLImporterScreen(MyLocale.getMsg(138,"Qick Import"),
 					OCXMLImporterScreen.ISGC|
 					OCXMLImporterScreen.DIST|
 					OCXMLImporterScreen.INCLUDEFOUND|



From araber95 at mail.berlios.de  Sat Sep 11 08:37:13 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 11 Sep 2010 08:37:13 PM +0200
Subject: [Cachewolf-svn] r2776 - trunk/src/CacheWolf/imp
Message-ID: <20100911183713.7DD54480F50@sheep.berlios.de>

Author: araber95
Date: 2010-09-11 20:37:13 +0200 (Sat, 11 Sep 2010)
New Revision: 2776

Modified:
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
Message, if current centre point not set.

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-10 14:05:29 UTC (rev 2775)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-11 18:37:13 UTC (rev 2776)
@@ -47,6 +47,7 @@
 import CacheWolf.STRreplace;
 import CacheWolf.SafeXML;
 import CacheWolf.Travelbug;
+import CacheWolf.navi.Area;
 import CacheWolf.navi.Metrics;
 import CacheWolf.navi.TransformCoordinates;
 
@@ -274,15 +275,23 @@
 	} // End of DoIt
 	
 	public void doItAlongARoute() {
+		Area sq;
 
 		CWPoint startPos = pref.getCurCentrePt();
-		if (!startPos.isValid()) return; //
+		if (!startPos.isValid()) {
+			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5509,"Coordinates for centre must be set"), FormBase.OKB)).execute();
+			return; //
+		}
 		if (!doDownloadGui(1)) return;
 
 		Vm.showWait(true);
 		infB = new InfoBox("Status", MyLocale.getMsg(5502,"Fetching first page..."));
 		infB.exec();
 
+		if (!loggedIn || pref.forceLogin) {
+			if(login() != FormBase.IDOK) return;
+		}
+
 		// Reset states for all caches when spidering (http://tinyurl.com/dzjh7p)
 		for(int i = 0; i<cacheDB.size();i++){
 			CacheHolder ch = cacheDB.get(i);
@@ -299,8 +308,11 @@
 		CacheHolder nextCache=null;
 		int n;
 		while ((n=nextRoutePoint(startPos, lateralDistance)) > -1) {
-			// spider around startpos			
-			cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
+			// spider around startPos			
+			// cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);			
+			sq=getSquare(origin, lateralDistance);
+			getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, true);
+
 			nextCache=cacheDB.get(n);
 			double degrees = startPos.getBearing(nextCache.pos);
 			double distanceToNextCache=startPos.getDistance(nextCache.pos);
@@ -310,7 +322,9 @@
 				startPos=nextCheckPoint;
 				// spider around nextCheckPoint
 				origin=nextCheckPoint;
-				cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
+				// cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
+				sq=getSquare(origin, lateralDistance);
+				getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, true);
 				// pref.log("next CP = "+nextCheckPoint.toString(),null);
 				if (infB.isClosed) { break; }
 			}
@@ -320,9 +334,18 @@
 		}
 		// spider around startpos (means endpos)
 		origin=startPos;
-		cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
+		// cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
+		sq=getSquare(origin, lateralDistance);
+		getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, true);
 		int spiderErrors=0;
 		if (infB.isClosed) { Vm.showWait(false); return; } // or ask for download of intermediate result 
+		for (int i = 0; i < cachesToLoad.size(); i++) {
+			String wpt = (String)cachesToLoad.get(i);
+			boolean is_found = wpt.indexOf("found")!=-1;
+			if (is_found) wpt=wpt.substring(0,wpt.indexOf("found"));
+			int j = cacheDB.getIndex(wpt);
+			if (j!=-1) cacheDB.removeElementAt(j);			
+		}
 		spiderErrors=downloadCaches(cachesToLoad, spiderErrors, cachesToLoad.size(), true);
 
 		infB.close(0);
@@ -374,10 +397,33 @@
 		return index;
 	}
 
+	private Area getSquare(CWPoint centre, double halfSideLengthKm) {		
+		int north = 0;
+		int east = 1;
+		int south = 2;
+		int west = 3;
+		double halfSideLength=halfSideLengthKm * 1000.0; // in meters
+		Area ret = new Area();
+		ret.topleft.latDec=centre.latDec;
+		ret.topleft.lonDec=centre.lonDec;
+		ret.topleft.shift(halfSideLength, north);
+		ret.topleft.shift(halfSideLength, west);
+
+		ret.buttomright.latDec=centre.latDec;
+		ret.buttomright.lonDec=centre.lonDec;
+		ret.buttomright.shift(halfSideLength, south);
+		ret.buttomright.shift(halfSideLength, east);
+		
+		return ret;
+	}
+	
 	public void doItQuickFillFromMapList() {
 
 		CWPoint origin = pref.getCurCentrePt();
-		if (!origin.isValid()) return; //
+		if (!origin.isValid()) {
+			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5509,"Coordinates for centre must be set"), FormBase.OKB)).execute();
+			return; //
+		}
 		if (!doDownloadGui(2)) return;
 
 		Vm.showWait(true);
@@ -399,24 +445,12 @@
 			if(login() != FormBase.IDOK) return;
 		}
 
-		page_number = 1;
+		page_number = 0;
 		num_added = 0;
 		
-		int north = 0;
-		int east = 1;
-		int south = 2;
-		int west = 3;
-
-		halfSideLength=halfSideLength*1000; // in meters
-		CWPoint northwest = new CWPoint(origin); 
-		northwest.shift(halfSideLength , north);
-		northwest.shift(halfSideLength , west);		
-		CWPoint southeast = new CWPoint(origin);
-		southeast.shift(halfSideLength, south);
-		southeast.shift(halfSideLength, east);
-
-		getCaches(northwest.latDec,northwest.lonDec,southeast.latDec,southeast.lonDec);
-		
+		Area sq=getSquare(origin, halfSideLength);
+		getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, false);
+				
 		if (!infB.isClosed) infB.close(0);
 		Vm.showWait(false);
 
@@ -425,19 +459,19 @@
 				
 	}
 	
-	private void getCaches(double north, double west, double south, double east) {
+	private void getCaches(double north, double west, double south, double east, boolean setCachesToLoad) {
 		if (infB.isClosed) return;
-		page_number++;
 		CWPoint middle = new CWPoint((north+south)/2.0,(west+east)/2.0);
 		
 		// Global.getPref().log("Mitte: "+middle,null);
 		// Global.getPref().log("Rechteck: "+south+" "+west+" to "+north+" "+east,null);
 		CWPoint lu = new CWPoint(south,west);
-		CWPoint ro = new CWPoint(north,east);
-		CWPoint lo = new CWPoint(north,west);
+		//CWPoint ro = new CWPoint(north,east);
+		//CWPoint lo = new CWPoint(north,west);
 		CWPoint ru = new CWPoint(south,east);
 		// Global.getPref().log("Seitenl?ngen: "+lu.getDistance(ru)+" "+lu.getDistance(lo)+" "+ro.getDistance(lo)+" "+ro.getDistance(ru),null);		
 
+		page_number++;
 		String listPage=getMapListPage(middle, north, west, south, east);
 		if (listPage.indexOf("\"count\": 501")>-1 && +lu.getDistance(ru) > 2.0 ) {
 			Vm.debug("split ");
@@ -445,23 +479,23 @@
 			double northsouthmiddle = (north+south)/2.0;
 			double westeastmiddle = (west+east)/2.0;
 			Vm.debug("get northwest");
-			getCaches(north, west, northsouthmiddle, westeastmiddle);
+			getCaches(north, west, northsouthmiddle, westeastmiddle, setCachesToLoad);
 			Vm.debug("get northeast");
-			getCaches(north, westeastmiddle, northsouthmiddle, east);
+			getCaches(north, westeastmiddle, northsouthmiddle, east, setCachesToLoad);
 			Vm.debug("get southwest");
-			getCaches(northsouthmiddle, west, south, westeastmiddle);
+			getCaches(northsouthmiddle, west, south, westeastmiddle, setCachesToLoad);
 			Vm.debug("get southeast");
-			getCaches(northsouthmiddle, westeastmiddle, south, east);
+			getCaches(northsouthmiddle, westeastmiddle, south, east, setCachesToLoad);
 			
 		}
 		else {
 			Vm.debug("add Caches ");
-			addCaches(listPage);
+			addCaches(listPage, setCachesToLoad);
 		}
 		Vm.debug("ready ");
 	}
 	
-	private void addCaches(String listPage) {
+	private void addCaches(String listPage, boolean setCachesToLoad) {
 		String[] caches = mString.split(listPage, '{');
 		for (int i = 0; i < caches.length; i++) {
 			if (infB.isClosed) return;
@@ -497,9 +531,13 @@
 					}
 					ch.setAvailable(available.equals("true")? true : false);
 					ch.setCacheName(cacheName);
-					ch.save();
 					num_added++;
-					cacheDB.add(ch);
+					cacheDB.add(ch); 
+					if (setCachesToLoad) {
+						cachesToLoad.add(wp+"found");}
+					else {
+						ch.save();
+					}
 					if (Global.mainTab.statBar!=null) Global.mainTab.statBar.updateDisplay("GC pages: "+page_number+" Caches added to CW: "+num_added);
 				}
 				else {



From araber95 at mail.berlios.de  Sat Sep 11 11:24:41 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 11 Sep 2010 11:24:41 PM +0200
Subject: [Cachewolf-svn] r2777 - trunk/src/CacheWolf/imp
Message-ID: <20100911212441.96E5A480F50@sheep.berlios.de>

Author: araber95
Date: 2010-09-11 23:24:41 +0200 (Sat, 11 Sep 2010)
New Revision: 2777

Modified:
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
arbitrary size of spider area works correct.

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-11 18:37:13 UTC (rev 2776)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-11 21:24:41 UTC (rev 2777)
@@ -304,7 +304,7 @@
 		}			
 		cachesToLoad.clear();
 		origin=startPos;
-		Hashtable cachesToUpdate = new Hashtable(); //dummy , won't update
+		// Hashtable cachesToUpdate = new Hashtable(); //dummy , won't update
 		CacheHolder nextCache=null;
 		int n;
 		while ((n=nextRoutePoint(startPos, lateralDistance)) > -1) {
@@ -470,29 +470,21 @@
 		//CWPoint lo = new CWPoint(north,west);
 		CWPoint ru = new CWPoint(south,east);
 		// Global.getPref().log("Seitenl?ngen: "+lu.getDistance(ru)+" "+lu.getDistance(lo)+" "+ro.getDistance(lo)+" "+ro.getDistance(ru),null);		
+		double len = lu.getDistance(ru);
 
 		page_number++;
 		String listPage=getMapListPage(middle, north, west, south, east);
-		if (listPage.indexOf("\"count\": 501")>-1 && +lu.getDistance(ru) > 2.0 ) {
-			Vm.debug("split ");
-			
+		if ((listPage.indexOf("\"count\": 501")>-1) || (listPage.indexOf("\"count\": 0")>-1 && len > 30)) {
 			double northsouthmiddle = (north+south)/2.0;
 			double westeastmiddle = (west+east)/2.0;
-			Vm.debug("get northwest");
 			getCaches(north, west, northsouthmiddle, westeastmiddle, setCachesToLoad);
-			Vm.debug("get northeast");
 			getCaches(north, westeastmiddle, northsouthmiddle, east, setCachesToLoad);
-			Vm.debug("get southwest");
 			getCaches(northsouthmiddle, west, south, westeastmiddle, setCachesToLoad);
-			Vm.debug("get southeast");
-			getCaches(northsouthmiddle, westeastmiddle, south, east, setCachesToLoad);
-			
+			getCaches(northsouthmiddle, westeastmiddle, south, east, setCachesToLoad);		
 		}
 		else {
-			Vm.debug("add Caches ");
 			addCaches(listPage, setCachesToLoad);
 		}
-		Vm.debug("ready ");
 	}
 	
 	private void addCaches(String listPage, boolean setCachesToLoad) {
@@ -541,7 +533,7 @@
 					if (Global.mainTab.statBar!=null) Global.mainTab.statBar.updateDisplay("GC pages: "+page_number+" Caches added to CW: "+num_added);
 				}
 				else {
-					Vm.debug("uups");
+					// Vm.debug("no Caches found");
 				}
 			}			
 		}



From araber95 at mail.berlios.de  Sat Sep 11 11:42:40 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 11 Sep 2010 11:42:40 PM +0200
Subject: [Cachewolf-svn] r2778 - trunk/src/CacheWolf/imp
Message-ID: <20100911214240.B4CD8480F50@sheep.berlios.de>

Author: araber95
Date: 2010-09-11 23:42:40 +0200 (Sat, 11 Sep 2010)
New Revision: 2778

Modified:
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
small edit

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-11 21:24:41 UTC (rev 2777)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-11 21:42:40 UTC (rev 2778)
@@ -461,17 +461,10 @@
 	
 	private void getCaches(double north, double west, double south, double east, boolean setCachesToLoad) {
 		if (infB.isClosed) return;
-		CWPoint middle = new CWPoint((north+south)/2.0,(west+east)/2.0);
-		
-		// Global.getPref().log("Mitte: "+middle,null);
-		// Global.getPref().log("Rechteck: "+south+" "+west+" to "+north+" "+east,null);
-		CWPoint lu = new CWPoint(south,west);
-		//CWPoint ro = new CWPoint(north,east);
-		//CWPoint lo = new CWPoint(north,west);
-		CWPoint ru = new CWPoint(south,east);
-		// Global.getPref().log("Seitenl?ngen: "+lu.getDistance(ru)+" "+lu.getDistance(lo)+" "+ro.getDistance(lo)+" "+ro.getDistance(ru),null);		
-		double len = lu.getDistance(ru);
-
+		double lm = (north+south)/2.0;
+		CWPoint middle = new CWPoint(lm,(west+east)/2.0);
+		CWPoint rm = new CWPoint(lm, east);
+		double len = middle.getDistance(rm) * 2.0;
 		page_number++;
 		String listPage=getMapListPage(middle, north, west, south, east);
 		if ((listPage.indexOf("\"count\": 501")>-1) || (listPage.indexOf("\"count\": 0")>-1 && len > 30)) {



From araber95 at mail.berlios.de  Sun Sep 12 12:37:25 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 12 Sep 2010 12:37:25 PM +0200
Subject: [Cachewolf-svn] r2779 - trunk
Message-ID: <20100912103725.A7DD7480F4F@sheep.berlios.de>

Author: araber95
Date: 2010-09-12 12:37:25 +0200 (Sun, 12 Sep 2010)
New Revision: 2779

Added:
   trunk/CacheWolf.launch
Log:
adding the launch configuration file. this is referenced on the homepage under "CW selbst bauen".

Added: trunk/CacheWolf.launch
===================================================================
--- trunk/CacheWolf.launch	                        (rev 0)
+++ trunk/CacheWolf.launch	2010-09-12 10:37:25 UTC (rev 2779)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<launchConfiguration type="org.eclipse.jdt.launching.localJavaApplication">
+<listAttribute key="org.eclipse.debug.core.MAPPED_RESOURCE_PATHS">
+<listEntry value="/CacheWolf"/>
+</listAttribute>
+<listAttribute key="org.eclipse.debug.core.MAPPED_RESOURCE_TYPES">
+<listEntry value="4"/>
+</listAttribute>
+<listAttribute key="org.eclipse.jdt.launching.CLASSPATH">
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/ewe.jar&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry id=&quot;org.eclipse.jdt.launching.classpathentry.defaultClasspath&quot;&gt;&#13;&#10;&lt;memento exportedEntriesOnly=&quot;false&quot; project=&quot;CacheWolf&quot;/&gt;&#13;&#10;&lt;/runtimeClasspathEntry&gt;&#13;&#10;"/>
+<listEntry value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&#13;&#10;&lt;runtimeClasspathEntry internalArchive=&quot;/CacheWolf/lib/JavaEwe.zip&quot; path=&quot;3&quot; type=&quot;2&quot;/&gt;&#13;&#10;"/>
+</listAttribute>
+<booleanAttribute key="org.eclipse.jdt.launching.DEFAULT_CLASSPATH" value="false"/>
+<stringAttribute key="org.eclipse.jdt.launching.MAIN_TYPE" value="Ewe"/>
+<stringAttribute key="org.eclipse.jdt.launching.PROGRAM_ARGUMENTS" value="CacheWolf.CacheWolf"/>
+<stringAttribute key="org.eclipse.jdt.launching.PROJECT_ATTR" value="CacheWolf"/>
+<stringAttribute key="org.eclipse.jdt.launching.VM_ARGUMENTS" value="-Xms64M -Xmx1024M"/>
+<stringAttribute key="org.eclipse.jdt.launching.WORKING_DIRECTORY" value="${workspace_loc:CacheWolf/work}"/>
+</launchConfiguration>



From araber95 at mail.berlios.de  Sun Sep 12 07:36:20 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 12 Sep 2010 07:36:20 PM +0200
Subject: [Cachewolf-svn] r2780 - in trunk: . res_noewe/languages
	src/CacheWolf
Message-ID: <20100912173620.975A6480FEB@sheep.berlios.de>

Author: araber95
Date: 2010-09-12 19:36:20 +0200 (Sun, 12 Sep 2010)
New Revision: 2780

Modified:
   trunk/currentversions.txt
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/Version.java
Log:
doing version info more readable.

Modified: trunk/currentversions.txt
===================================================================
--- trunk/currentversions.txt	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/currentversions.txt	2010-09-12 17:36:20 UTC (rev 2780)
@@ -6,12 +6,12 @@
 # ReleaseCandidate
 T1VersionMajor: 1
 T1VersionMinor: 2
-T1SvnRevision: 2726
+T1SvnRevision: http://cachewolf.aldos.de/rc/mostrecentbuild.txt [\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)
 
 # InDevelopmentStable
 T2VersionMajor: 1
 T2VersionMinor: 2
-T2SvnRevision: 2726
+T2SvnRevision: http://cachewolf.aldos.de/stable.txt [\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)
 
 # InDevelopmentNewest
 T3VersionMajor: 1

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Kassiopeia Gamma
 6125=Deneb im Schwan
 6126=Mimosa im Kreuz des S%fcdens
-7000=Freigegeben
-7001=Kandidat f%fcr Freigabe
-7002=In Entwicklung, stabil
-7003=In Entwicklung, neuste
-7010=bereits aktuell(er)
+7000=Freigegeben:+
+7001=Kandidat f%fcr Freigabe:+
+7002=In Entwicklung, stabil:+
+7003=In Entwicklung, neuste:+
+7010=aktuell
 7011=Update verf%fcgbar
 7012=nicht verf%fcgbar
 7013=Fehler
 7020=Empfohlener Versionstyp
 7021=Dieser Versiontyp
-7022=Versionstyp
+7022=Dies ist:+
 7023=Fehler beim Laden der aktuellen Versionsinformationen
 7100=Einstellungen serieller Port
 7101=Ports auflisten

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb in Cygnus
 6126=Mimosa in Southern Cross
-7000=Release
-7001=Release candidate
-7002=in development, stable
-7003=in development, newest
-7010=bereits aktuell(er)
+7000=Release:*
+7001=Release candidate:+
+7002=in development, stable:+
+7003=in development, newest:+
+7010=up-to-date
 7011=Update available
 7012=not available
 7013=error
 7020=recommended version type
 7021=type of this version
-7022=Type of version
+7022=this is:+
 7023=Error downloading current version information
 7100=Serial Port Options
 7101=Update Ports$u

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Kassiopeia Gamma
 6125=Deneb im Schwan
 6126=Mimosa im Kreuz des S%fcdens
-7000=Valid%e9
-7001=Candidat pour validation
-7002=En developpement, stable
-7003=En developpement, le plus r%e9cent
+7000=Valid%e9:+
+7001=Candidat pour validation:+
+7002=En developpement, stable:+
+7003=En developpement, le plus r%e9cent:+
 7010=d%e9j%e0 actuel
 7011=Update disponible
 7012=pas disponible
 7013=Erreur
 7020=Type de version recommand%e9
 7021=Ce type de version
-7022=Type de version
+7022=ceci est:+
 7023=Erreur en t%e9l%e9chargeant les informations de version
 7100=Port s%e9rie Options
 7101=Mise %e0 jour des ports$u

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb in Cygnus
 6126=Mimosa in Zuiderkruis
-7000=Vrijgeven
-7001=Vrijgeven kandidaat
-7002=in ontwikkeling, stabiele
-7003=in ontwikkeling, de nieuwste
+7000=Vrijgeven:+
+7001=Vrijgeven kandidaat:+
+7002=in ontwikkeling, stabiel:+
+7003=in ontwikkeling, de nieuwste:+
 7010=al actueel
 7011=Update beschikbaar
 7012=niet beschikbaar
 7013=fout
 7020=aanbevolen versie type
 7021=type van deze versie
-7022=Type versie
+7022=Dit is:+
 7023=Fout bij het downloaden van de huidige versie informatie
 7100=Serial Port Opties
 7101=Update Poorten$u

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb w gwiazdozbiorze Labedzia
 6126=Mimosa w Krzyzu Poludnia
-7000=Wypuszczona
-7001=RC
-7002=w opracowaniu, stabilna
-7003=w opracowaniu, najnowsza
-7010=bereits aktuell(er)
+7000=Wypuszczona:+
+7001=kandydata wydania:+
+7002=w opracowaniu, stabilna:+
+7003=w opracowaniu, najnowsza:+
+7010=aktualny
 7011=Uptade dostepny
 7012=niedostepne
 7013=Blad
 7020=Typ rekomendowanej wersji
 7021=typ tej wersji
-7022=Typ wersji
+7022=to jest:+
 7023=Blad sciagania informacji aktualnej wersji
 7100=Opcje portu szeregowego
 7101=Update Ports$u

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-12 17:36:20 UTC (rev 2780)
@@ -1038,18 +1038,18 @@
 6124=Gamma Cassiopeia
 6125=Deneb i Cygnus
 6126=Mimosa i Southern Cross
-7000=Release
-7001=Release Candidate
-7002=i utveckling, stabil
-7003=i utveckling, nyaste
-7010=bereits aktuell (er)
-7011=Uppdatering
+7000=Release:*
+7001=Release Candidate:+
+7002=i utveckling, stabil:+
+7003=i utveckling, nyaste:+
+7010=upp-till-datum
+7011=Uppdatering tillg%e4nglig
 7012=ej tillg%e4nglig
 7013=fel
-7020=rekommenderas version typ
+7020=rekommenderade versionen typ
 7021=typ av denna version
-7022=Typ av version
-7023=Fel vid h%e4mtning av nuvarande version information
+7022=detta ?r:+
+7023=nedladdning Fel nuvarande version information
 7100=Serial Port Options
 7101=Uppdatera Ports$u
 7102=Baud:$b

Modified: trunk/src/CacheWolf/Version.java
===================================================================
--- trunk/src/CacheWolf/Version.java	2010-09-12 10:37:25 UTC (rev 2779)
+++ trunk/src/CacheWolf/Version.java	2010-09-12 17:36:20 UTC (rev 2780)
@@ -17,11 +17,11 @@
 	static final String VER_SVN ="$LastChangedRevision$"; // the number is automatically replaced by subversion to the latest versionnumer of this file (svn:keywords LastChangedRevision)
 	static final int SVN_REVISION = Common.parseInt(VER_SVN.substring(VER_SVN.indexOf(" ")+1, VER_SVN.lastIndexOf(" ")));
 	static final int VERSION_TYPE = 3;
-	public static final String[] VERSION_TYPES = {
-		"Release",
-		"ReleaseCandidate",
-		"InDevelopmentStable",
-		"InDevelopmentNewest"
+	public static final String VERSION_TYPES(int i) {
+		if (i==0) return MyLocale.getMsg(7000,"Release");
+		if (i==1) return MyLocale.getMsg(7001,"Release candidate");
+		if (i==2) return MyLocale.getMsg(7002,"in development, stable");
+		return MyLocale.getMsg(7003,"in development, newest");
 	};
 
 	/** only valid after calling checkForUpdates() */
@@ -36,7 +36,7 @@
 	public static String getReleaseDetailed() {
 		// habe die SVN-Nummer doch aus der Anzeige erstmal wieder herausgenommen, weil es in einem final Release doch recht seltsam auss???he.
 		// Sinnvoll w???re daher vielleicht, eine Methode getReleaseDatail, die die SVN-Versionnummer mit angibt und z.B. im "???ber"-Dialog angezeigt werden k???nnte.
-		return getRelease() + " " + VERSION_TYPES[VERSION_TYPE];
+		return getRelease() + " " + VERSION_TYPES(VERSION_TYPE);
 	}
 
 	/**
@@ -45,7 +45,7 @@
 	 * @throws IOException
 	 */
 	public static void checkForUpdates() throws IOException {
-		Properties curvers = UrlFetcher.fetchPropertyList("http://www.cachewolf.org/currentversions.txt");
+		Properties curvers = UrlFetcher.fetchPropertyList("http://svn.berlios.de/svnroot/repos/cachewolf/trunk/currentversions.txt");
 		versionnumbers = new String[updateavailabe.length];
 		for (int i = updateavailabe.length-1; i >=1; i--) {
 			updateavailabe[i] = checkVersion(curvers, "T"+(i-1), i); // this also sets versionnumber[i]
@@ -59,20 +59,22 @@
 	 */
 	public static String newVersionsArrayToString() {
 		StringBuffer ret = new StringBuffer(500);
+		ret.append(MyLocale.getMsg(7022, "Version type")+"\n");
+		ret.append(VERSION_TYPES(VERSION_TYPE)+getRelease());
+		ret.append(" -> "+MyLocale.getMsg(7010 + updateavailabe[VERSION_TYPE+1], ""+updateavailabe[VERSION_TYPE+1]));
+		ret.append("\n\n");
+
 		for (int i=1; i <= updateavailabe.length -1; i++) {
 			if (updateavailabe[i] != 2 || i-1 == VERSION_TYPE) {
-				ret.append(MyLocale.getMsg(7000+i-1, VERSION_TYPES[i-1]));
-				if (versionnumbers[i] != null) ret.append(" ").append(versionnumbers[i]);
+				ret.append(VERSION_TYPES(i-1));
+				if (versionnumbers[i] != null) ret.append(" ").append(versionnumbers[i]).append(" ");
 				if (i == updateavailabe[0]) ret.append("*");
 				if (i-1 == VERSION_TYPE ) ret.append("+");
-				ret.append(": ");
-				ret.append(MyLocale.getMsg(7010 + updateavailabe[i], Convert.toString(updateavailabe[i])));
 				ret.append("\n");
 			}
 		}
-		ret.append("* = ").append(MyLocale.getMsg(7020, "Recommended version type"));
+		ret.append("\n* = ").append(MyLocale.getMsg(7020, "Recommended version type"));
 		ret.append("\n+ = ").append(MyLocale.getMsg(7021, "This version type")).append("\n");
-		ret.append(getReleaseDetailed());
 		return ret.toString();
 	}
 
@@ -80,7 +82,7 @@
 		Vm.showWait(true);
 		try {
 			checkForUpdates();
-			return MyLocale.getMsg(7022, "Version type") +"\n"+ newVersionsArrayToString();
+			return newVersionsArrayToString();
 		} catch (IOException e) {
 			return MyLocale.getMsg(7023, "Error getting current version information") +"\n" + e.getMessage();
 		}



From araber95 at mail.berlios.de  Sun Sep 12 07:41:17 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sun, 12 Sep 2010 07:41:17 PM +0200
Subject: [Cachewolf-svn] r2781 - trunk
Message-ID: <20100912174118.208E0480FEB@sheep.berlios.de>

Author: araber95
Date: 2010-09-12 19:41:17 +0200 (Sun, 12 Sep 2010)
New Revision: 2781

Modified:
   trunk/currentversions.txt
Log:
small change

Modified: trunk/currentversions.txt
===================================================================
--- trunk/currentversions.txt	2010-09-12 17:36:20 UTC (rev 2780)
+++ trunk/currentversions.txt	2010-09-12 17:41:17 UTC (rev 2781)
@@ -10,7 +10,7 @@
 
 # InDevelopmentStable
 T2VersionMajor: 1
-T2VersionMinor: 2
+T2VersionMinor: 3
 T2SvnRevision: http://cachewolf.aldos.de/stable.txt [\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)
 
 # InDevelopmentNewest
@@ -20,5 +20,5 @@
 #T3SvnRevision: http://www.naturalnik.de/CacheWolf-BE/zcurrent.txt [\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)
 T3SvnRevision: http://cachewolf.aldos.de/mostrecentbuild.txt [\\s]*[\\\\r]*[\\\\n]*[\\s]*([0-9]*)
 
-RecommendedType: 1
+RecommendedType: 2
 



From araber95 at mail.berlios.de  Mon Sep 13 02:43:58 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 13 Sep 2010 02:43:58 PM +0200
Subject: [Cachewolf-svn] r2782 - trunk/src/CacheWolf/imp
Message-ID: <20100913124358.DCEFA481034@sheep.berlios.de>

Author: araber95
Date: 2010-09-13 14:43:58 +0200 (Mon, 13 Sep 2010)
New Revision: 2782

Modified:
   trunk/src/CacheWolf/imp/FieldnotesImporter.java
Log:
checking of codec: reading unicode,utf-8 and ascii.

Modified: trunk/src/CacheWolf/imp/FieldnotesImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-12 17:41:17 UTC (rev 2781)
+++ trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-13 12:43:58 UTC (rev 2782)
@@ -2,22 +2,16 @@
 
 import CacheWolf.CacheDB;
 import CacheWolf.CacheHolder;
-import CacheWolf.CacheSize;
-import CacheWolf.CacheTerrDiff;
-import CacheWolf.CacheType;
-import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
-import HTML.Tmpl.Util;
-import HTML.Tmpl.Element.Element;
-import ewe.io.BufferedReader;
-import ewe.io.FileNotFoundException;
+import ewe.io.AsciiCodec;
 import ewe.io.FileReader;
 import ewe.io.IOException;
 import ewe.io.JavaUtf8Codec;
+import ewe.io.TextCodec;
 import ewe.sys.Vm;
-import ewe.sys.Time;
-import ewe.util.EmptyStackException;
+import ewe.util.ByteArray;
+import ewe.util.CharArray;
 import ewe.util.mString;
 
 public class FieldnotesImporter {
@@ -35,9 +29,28 @@
 
 	public void doIt() {
 		try {
-			Vm.showWait(true);
-			FileReader r = new FileReader(file);
-			r.codec=new JavaUtf8Codec();
+			Vm.showWait(true);	
+			FileReader r = null;
+
+			try {
+				r = new FileReader(file);
+				r.codec=new NoCodec();				
+				r.read(); // for checking of Codec
+			}
+			catch (Error e) {
+				r.close();
+				r = new FileReader(file);
+				if (e.getMessage().equals("UTF-8")) {
+					r.codec=new JavaUtf8Codec();
+				}
+				else if (e.getMessage().equals("ASCII")){
+					r.codec=new AsciiCodec();
+				}
+				else {
+					Vm.showWait(false);
+					return;
+				}
+			}		
 			parse(r.readAll());
 			r.close();
 			// save Index
@@ -48,65 +61,7 @@
 			Vm.showWait(false);
 		}
 	}
-/* TODO Import of files with UNICODE Charset 
-	private void read_file(String filename)
-			throws FileNotFoundException, 
-				IllegalStateException,
-				IOException, 
-				EmptyStackException
-	{
-		BufferedReader br=openFile(filename);
-
-		String line;
-
-		Element e = null;
-		if(elements.empty())
-			e = __template__;
-		else
-			e = (Element)elements.pop();
-
-		max_includes--;
-		while((line=br.readLine()) != null) {
-			Util.debug_print("Line: " + line);
-			e = parseLine(line+"\n", e);
-		}
-		max_includes++;
-
-		br.close();
-		br=null;
-
-	}
 	
-	private BufferedReader openFile(String filename)
-	throws FileNotFoundException{
-		boolean add_path=true;
-		if(!elements.empty() && !search_path_on_include)
-			add_path=false;
-
-		if(filename.startsWith("/"))
-			add_path=false;
-
-		if(this.path == null)
-			add_path=false;
-
-		Util.debug_print("open " + filename);
-		if(!add_path)
-			return new BufferedReader(new FileReader(filename));
-
-		BufferedReader br=null;
-
-		for(int i=0; i<this.path.length; i++) {
-			try {
-				Util.debug_print("trying " + this.path[i] +	"/" + filename);
-				br = new BufferedReader(new FileReader(this.path[i] + "/" + filename));
-				break;
-			} catch (FileNotFoundException fnfe) {}
-		}
-		if(br == null) throw new FileNotFoundException(filename);
-		return br;
-	}
- */
-	
 	private void parse(String s) {
 		final byte WPPOS=0;
 		final byte DATEPOS=1;
@@ -127,7 +82,7 @@
 			CacheHolder ch = cacheDB.get(wayPoint);
 			if (ch!=null) {
 				if (l1[LOGTYPPOS].equals(ch.getGCFoundText())) {
-					String stmp=ch.getCacheStatus();
+					// String stmp=ch.getCacheStatus();
 					ch.setCacheStatus(l1[DATEPOS].replace('T',' ').replace('Z', ' ').trim());
 					ch.setFound(true);
 				} else {
@@ -144,3 +99,104 @@
 	}
 
 }
+
+//##################################################################
+class NoCodec implements TextCodec{
+//##################################################################
+
+/**
+* This is a creation option. It specifies that CR characters should be removed when
+* encoding text into UTF.
+**/
+public static final int STRIP_CR_ON_DECODE = 0x1;
+/**
+* This is a creation option. It specifies that CR characters should be removed when
+* decoding text from UTF.
+**/
+public static final int STRIP_CR_ON_ENCODE = 0x2;
+/**
+* This is a creation option. It specifies that CR characters should be removed when
+* decoding text from UTF AND encoding text to UTF.
+**/
+public static final int STRIP_CR = STRIP_CR_ON_DECODE|STRIP_CR_ON_ENCODE;
+
+private int flags = 0;
+private boolean checked=false;
+
+//===================================================================
+public NoCodec(int options)
+//===================================================================
+{
+	flags = options;
+}
+//===================================================================
+public NoCodec()
+//===================================================================
+{
+	this(0);
+}
+//===================================================================
+public ByteArray encodeText(char [] text, int start, int length, boolean endOfData, ByteArray dest) throws IOException
+//===================================================================
+{
+	if (dest == null) dest = new ByteArray();
+	int size = length == 0 ? 2 : 2+text.length*2;
+	if (dest.data == null || dest.data.length < size)
+		dest.data = new byte[size];
+	byte [] destination = dest.data;
+	int s = 0;
+	if (length>0){
+		destination[s++] = (byte) 0xFF;
+		destination[s++] = (byte) 0xFE;
+	}
+	for (int i = 0; i<length; i++){
+		char c = text[i+start];
+		if (c == 13 && ((flags & STRIP_CR_ON_ENCODE) != 0)) continue;
+		destination[s++] = (byte)(c & 0xFF);
+		destination[s++] = (byte)((c>>8) & 0xFF);
+	}
+	dest.length = s;
+	return dest;
+}
+
+//===================================================================
+public CharArray decodeText(byte [] encoded, int start, int length, boolean endOfData, CharArray dest) throws Error, IOException
+//===================================================================
+// strip CR ignored
+{
+	if (dest == null) dest = new CharArray();
+	dest.length = 0;
+	if (!checked && length>3) {
+		checked=true;
+		int magicNumber=encoded[start]+256*encoded[start+1];
+		if (magicNumber!=-513) {
+			if (magicNumber==-17681) {
+				throw new Error("UTF-8");}
+			else {throw new Error("ASCII");}
+		}
+	}
+	for (int i = start; i < start+length; i++) {
+		int k = encoded[i];
+		i++;
+		k=k + 256*encoded[i];
+		String s=""+(char)k;
+		dest.append(s);
+	}
+	return dest;
+}
+
+//===================================================================
+public void closeCodec() throws IOException
+//===================================================================
+{
+}
+
+//===================================================================
+public Object getCopy()
+//===================================================================
+{
+	return new NoCodec(flags);
+}
+//##################################################################
+}
+//##################################################################



From araber95 at mail.berlios.de  Fri Sep 17 01:28:11 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 17 Sep 2010 01:28:11 PM +0200
Subject: [Cachewolf-svn] r2783 - in trunk: res_noewe/languages src/CacheWolf
	src/CacheWolf/exp src/CacheWolf/imp src/CacheWolf/navi
	src/CacheWolf/navi/touchControls src/CacheWolf/utils
Message-ID: <20100917112812.486E548104C@sheep.berlios.de>

Author: araber95
Date: 2010-09-17 13:28:11 +0200 (Fri, 17 Sep 2010)
New Revision: 2783

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/Attribute.java
   trunk/src/CacheWolf/Attributes.java
   trunk/src/CacheWolf/AttributesSelector.java
   trunk/src/CacheWolf/AttributesViewer.java
   trunk/src/CacheWolf/CWPoint.java
   trunk/src/CacheWolf/CWProgressBar.java
   trunk/src/CacheWolf/CacheDB.java
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/CacheHolderDetail.java
   trunk/src/CacheWolf/CacheImages.java
   trunk/src/CacheWolf/CacheList.java
   trunk/src/CacheWolf/CacheSize.java
   trunk/src/CacheWolf/CacheTerrDiff.java
   trunk/src/CacheWolf/CacheType.java
   trunk/src/CacheWolf/CacheWolf.java
   trunk/src/CacheWolf/CalcPanel.java
   trunk/src/CacheWolf/Common.java
   trunk/src/CacheWolf/CoordsScreen.java
   trunk/src/CacheWolf/DBStats.java
   trunk/src/CacheWolf/DataMover.java
   trunk/src/CacheWolf/DataMoverForm.java
   trunk/src/CacheWolf/DateFormat.java
   trunk/src/CacheWolf/DateTimeChooser.java
   trunk/src/CacheWolf/DescriptionPanel.java
   trunk/src/CacheWolf/DetailsPanel.java
   trunk/src/CacheWolf/Extractor.java
   trunk/src/CacheWolf/Filter.java
   trunk/src/CacheWolf/FilterData.java
   trunk/src/CacheWolf/FilterScreen.java
   trunk/src/CacheWolf/GPSPortOptions.java
   trunk/src/CacheWolf/GeoCodeGui.java
   trunk/src/CacheWolf/GeocoderOsm.java
   trunk/src/CacheWolf/Global.java
   trunk/src/CacheWolf/GuiImageBroker.java
   trunk/src/CacheWolf/HintLogPanel.java
   trunk/src/CacheWolf/HttpConnection.java
   trunk/src/CacheWolf/ImageDetailForm.java
   trunk/src/CacheWolf/ImageInfo.java
   trunk/src/CacheWolf/ImageInteractivePanel.java
   trunk/src/CacheWolf/ImagePanel.java
   trunk/src/CacheWolf/ImagePanelImage.java
   trunk/src/CacheWolf/InfoBox.java
   trunk/src/CacheWolf/InfoScreen.java
   trunk/src/CacheWolf/InputScreen.java
   trunk/src/CacheWolf/Log.java
   trunk/src/CacheWolf/LogList.java
   trunk/src/CacheWolf/MainForm.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/Matrix.java
   trunk/src/CacheWolf/MyComparer.java
   trunk/src/CacheWolf/MyEditor.java
   trunk/src/CacheWolf/MyLocale.java
   trunk/src/CacheWolf/MyScrollBarPanel.java
   trunk/src/CacheWolf/NewProfileForm.java
   trunk/src/CacheWolf/NewProfileWizard.java
   trunk/src/CacheWolf/NotesScreen.java
   trunk/src/CacheWolf/OC.java
   trunk/src/CacheWolf/ParseLatLon.java
   trunk/src/CacheWolf/Parser.java
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/Profile.java
   trunk/src/CacheWolf/ProfileDataForm.java
   trunk/src/CacheWolf/ProfilesForm.java
   trunk/src/CacheWolf/RadarPanel.java
   trunk/src/CacheWolf/RadarPanelImage.java
   trunk/src/CacheWolf/Rebuild.java
   trunk/src/CacheWolf/Reducer.java
   trunk/src/CacheWolf/STRreplace.java
   trunk/src/CacheWolf/SafeXML.java
   trunk/src/CacheWolf/SearchBox.java
   trunk/src/CacheWolf/SearchCache.java
   trunk/src/CacheWolf/ShowCacheInBrowser.java
   trunk/src/CacheWolf/SolverPanel.java
   trunk/src/CacheWolf/StatusBar.java
   trunk/src/CacheWolf/TableColumnChooser.java
   trunk/src/CacheWolf/TableForm.java
   trunk/src/CacheWolf/TablePanel.java
   trunk/src/CacheWolf/Test.java
   trunk/src/CacheWolf/TokenObj.java
   trunk/src/CacheWolf/Tokenizer.java
   trunk/src/CacheWolf/Travelbug.java
   trunk/src/CacheWolf/TravelbugJourney.java
   trunk/src/CacheWolf/TravelbugJourneyList.java
   trunk/src/CacheWolf/TravelbugJourneyScreen.java
   trunk/src/CacheWolf/TravelbugList.java
   trunk/src/CacheWolf/TravelbugPickup.java
   trunk/src/CacheWolf/TravelbugScreen.java
   trunk/src/CacheWolf/UrlFetcher.java
   trunk/src/CacheWolf/Version.java
   trunk/src/CacheWolf/exp/ASCExporter.java
   trunk/src/CacheWolf/exp/DistanceComparer.java
   trunk/src/CacheWolf/exp/ExploristExporter.java
   trunk/src/CacheWolf/exp/Exporter.java
   trunk/src/CacheWolf/exp/GarminMap.java
   trunk/src/CacheWolf/exp/GpxExportNg.java
   trunk/src/CacheWolf/exp/HTMLExporter.java
   trunk/src/CacheWolf/exp/KMLExporter.java
   trunk/src/CacheWolf/exp/LocExporter.java
   trunk/src/CacheWolf/exp/MSARCSVExporter.java
   trunk/src/CacheWolf/exp/OVLExporter.java
   trunk/src/CacheWolf/exp/OziExporter.java
   trunk/src/CacheWolf/exp/SpoilerPOIExporter.java
   trunk/src/CacheWolf/exp/SpoilerPOIExporterScreen.java
   trunk/src/CacheWolf/exp/TPLExporter.java
   trunk/src/CacheWolf/exp/TomTomExporter.java
   trunk/src/CacheWolf/exp/TomTomExporterScreen.java
   trunk/src/CacheWolf/imp/FieldnotesImporter.java
   trunk/src/CacheWolf/imp/GCVoteImporter.java
   trunk/src/CacheWolf/imp/GPXImporter.java
   trunk/src/CacheWolf/imp/KMLImporter.java
   trunk/src/CacheWolf/imp/LOCXMLImporter.java
   trunk/src/CacheWolf/imp/OCXMLImporter.java
   trunk/src/CacheWolf/imp/OCXMLImporterScreen.java
   trunk/src/CacheWolf/imp/SpiderGC.java
   trunk/src/CacheWolf/myInteractivePanel.java
   trunk/src/CacheWolf/myTableControl.java
   trunk/src/CacheWolf/myTableModel.java
   trunk/src/CacheWolf/navi/Area.java
   trunk/src/CacheWolf/navi/AreaList.java
   trunk/src/CacheWolf/navi/CWGPSPoint.java
   trunk/src/CacheWolf/navi/Ellipsoid.java
   trunk/src/CacheWolf/navi/GeodeticCalculator.java
   trunk/src/CacheWolf/navi/GkProjection.java
   trunk/src/CacheWolf/navi/GotoPanel.java
   trunk/src/CacheWolf/navi/LambertProjection.java
   trunk/src/CacheWolf/navi/MapImage.java
   trunk/src/CacheWolf/navi/MapImporter.java
   trunk/src/CacheWolf/navi/MapInfoObject.java
   trunk/src/CacheWolf/navi/MapLoader.java
   trunk/src/CacheWolf/navi/MapLoaderGui.java
   trunk/src/CacheWolf/navi/MapSymbol.java
   trunk/src/CacheWolf/navi/MapsList.java
   trunk/src/CacheWolf/navi/Metrics.java
   trunk/src/CacheWolf/navi/MovingMap.java
   trunk/src/CacheWolf/navi/MovingMapCache.java
   trunk/src/CacheWolf/navi/Navigate.java
   trunk/src/CacheWolf/navi/ProjectedPoint.java
   trunk/src/CacheWolf/navi/Projection.java
   trunk/src/CacheWolf/navi/SelectMap.java
   trunk/src/CacheWolf/navi/SkyOrientation.java
   trunk/src/CacheWolf/navi/Track.java
   trunk/src/CacheWolf/navi/TrackOverlay.java
   trunk/src/CacheWolf/navi/TrackPoint.java
   trunk/src/CacheWolf/navi/TransformCoordinates.java
   trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java
   trunk/src/CacheWolf/navi/UTMProjection.java
   trunk/src/CacheWolf/navi/touchControls/AniImageGrayScaled.java
   trunk/src/CacheWolf/navi/touchControls/ICommandListener.java
   trunk/src/CacheWolf/navi/touchControls/ImageWithText.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java
   trunk/src/CacheWolf/utils/CWWrapper.java
   trunk/src/CacheWolf/utils/FileBugfix.java
   trunk/src/CacheWolf/utils/MessageBoxFixed.java
   trunk/src/CacheWolf/utils/MutableInteger.java
   trunk/src/CacheWolf/utils/URLUTF8Encoder.java
Log:
1. copyright / GPL added to source files.
2. writing all errors to log.txt(+ debug-screen), even if no debug is turned on.
3. changed coding of language.cfg files to UTF-8.

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,4 +1,4 @@
-{cachewolf.Languages}
+???{cachewolf.Languages}
 {LocalResources}
 {de}
 1=eigener
@@ -43,10 +43,10 @@
 111=Beenden
 112=Suchen
 113=Suche aufheben
-114=%c4ndern & Anwenden
+114=??ndern & Anwenden
 115=Umkehren
 116=Aufheben
-117=%dcber
+117=??ber
 118=WolfLanguage
 119=Suche nach:
 120=Anwendung
@@ -57,27 +57,27 @@
 125=nach Google Earth
 126=nach TomTom OV2
 127=Speichern
-128=%fcber Template
+128=??ber Template
 129=aus Datei
 130=von opencaching
 131=von GC um Zentrum
 132=nach Explorist
 133=Suche alle
-134=Gew%e4hlter Cache
+134=Gew??hlter Cache
 135=nach SpoilerPOI
 136=zum GPS: installiere GPSBabel
 137=von GC am Weg
-138=von GC schnelle %dcbersicht
+138=von GC schnelle ??bersicht
 139=Travelbugs verwalten
 140=Verwalten
 141=Kopieren
 142=Verschieben
-143=L%f6schen
+143=L??schen
 144=Warnung
-145=Daten ALLER ANGEZEIGTEN Wegpunkte werden gel%f6scht!  Weiter?
+145=Daten ALLER ANGEZEIGTEN Wegpunkte werden gel??scht!  Weiter?
 146=Daten ALLER ANGEZEIGTEN Wegpunkte werden kopiert!  Weiter?
 147=Daten ALLER ANGEZEIGTEN Wegpunkte werden verschoben!  Weiter?
-148=Zielverzeichnis w%e4hlen
+148=Zielverzeichnis w??hlen
 149=Karten
 150=Importieren
 151=Kalibrieren
@@ -85,22 +85,22 @@
 153=Kartenimport erfolgreich
 154=Fehler beim Kartenimport!
 155=Legende
-156=Nicht gen%fcgend freier Speicher, Karte zu gro%df
+156=Nicht gen??gend freier Speicher, Karte zu gro??
 157=System
-158=Version pr%fcfen
+158=Version pr??fen
 159=Filter
 160=Markierte ausfiltern
 161=Zeige Blacklist
 162=Kalibrierte herunterladen
-170=Datenverzeichnis w%e4hlen
-171=Profil existiert nicht:+
-172=Kann das Kartenverzeichnis nicht erstellen:%0a
+170=Datenverzeichnis w??hlen
+171=Profil existiert nicht:%20
+172=Kann das Kartenverzeichnis nicht erstellen:
 173=GPSBabel:
 174=Kurznamen
 175=Import
-176=Erster Start %0a Bitte legen Sie das Datenverzeichnis fest %0a und ein neues Profil an %0a%0a Nur f%fcr Experten: %0a Konnte Einstellungsdatei nicht lesen:%0a
+176=Erster Start %0a Bitte legen Sie das Datenverzeichnis fest %0a und ein neues Profil an %0a%0a Nur f??r Experten: %0a Konnte Einstellungsdatei nicht lesen:
 177=--frei geworden--
-178=Versionspr%fcfung
+178=Versionspr??fung
 179=Sie haben die%0aaktuelle Version.
 180=Caches hierher
 181=ziehen
@@ -113,46 +113,46 @@
 188=CACHETOUR: NEU
 189=Tourfilter anwenden
 190=Nur diese Wegpunkte zeigen
-191=Datei w%e4hlen
-192=%c4nderungen speichern
-193=Addis hinzuf%fcgen
+191=Datei w??hlen
+192=??nderungen speichern
+193=Addis hinzuf??gen
 195=Derzeitiges Zentrum
 196=Gesamte # Caches (GC&OC)%0aGesamt # sichtbar%0aGesamt # gefunden
 197=Cachetour anzeigen/verbergen
 198=Cachetour
-199=Zu Cachetour hinzuf%fcgen
+199=Zu Cachetour hinzuf??gen
 200=Details
 201=Beschreibung
 202=Bilder
 203=Hint & Logs
-204=L%f6ser
+204=L??ser
 205=Radar
 206=Liste
 207=**frei/nicht benutzt / veraltet**
 208=Index neu erstellen
 209=Wiederaufbau Index
-210=Caches gel%f6scht:+
-211=%0aCaches hinzugef%fcgt:+
-212=Alle .xml Dateien (und Bilder) l%f6schen, die nicht in index.xml sind
-213=Verwaiste .xml Dateien l%f6schen
+210=Caches gel??scht:%20
+211=Caches hinzugef??gt:%20
+212=Alle .xml Dateien (und Bilder) l??schen, die nicht in index.xml sind
+213=Verwaiste .xml Dateien l??schen
 214=Neuer Wegpunkt
 215=nach LOC
 216=Immer bei GC einloggen
 217=von GC Funde
 218=Auch in Beschreibung/Notizen
 219=Suche...
-220=Pr%fcfe Notizen und L%f6ser
-221=Filter %fcberschreiben?
-222=Der Filter existiert schon. %dcberschreiben?
-223=Filter l%f6schen?
-224=+- Den gespeicherten Filter l%f6schen?
+220=Pr??fe Notizen und L??ser
+221=Filter ??berschreiben?
+222=Der Filter existiert schon. ??berschreiben?
+223=Filter l??schen?
+224=%20- Den gespeicherten Filter l??schen?
 225=Auch in Logs
-226=Das Profil kann nicht gel%f6scht werden.
-227=Das aktive Profil kann nicht gel%f6scht werden.
+226=Das Profil kann nicht gel??scht werden.
+227=Das aktive Profil kann nicht gel??scht werden.
 228=Das aktive Profil kann nicht umbenannt werden.
 229=Das Profil kann nicht umbenannt werden.
 250=ColleIsarcos Texte fuer den DataMover
-251=Alle Wegpunkte werden gel%f6scht
+251=Alle Wegpunkte werden gel??scht
 252=Alle Wegpunkte werden verschoben
 253=Alle Wegpunkte werden kopiert
 254=Alle sichtbaren
@@ -163,12 +163,12 @@
 259=Wollen Sie fortfahren?
 260=Plattform:
 261=Lokale Sprache ist:
-262=L%e4ndereinstellung ist:
+262=L??ndereinstellung ist:
 263=Dezimaltrennzeichen ist:
-264=Ger%e4t ist PDA:
+264=Ger??t ist PDA:
 265=Bildschirm:
-266=Schriftgr%f6%dfe:
-267=Eintr%e4ge in der der DB:
+266=Schriftgr????e:
+267=Eintr??ge in der der DB:
 268=Dateitrennzeichen:
 269=Programm-Verzeichnis ist:
 270=Anzahl der Details im Speicher ist:
@@ -177,9 +177,9 @@
 273=Filter ein/aus
 274=AutoSort aus
 275=Der Wegpunkt existiert schon!%0aDen Wegpunkt vor dem Verlassen der Details bitte umbenennen!
-299=Regul%e4rer Ausdruck
+299=Regul??rer Ausdruck
 300=Type:
-301=Gr%f6%dfe:
+301=Gr????e:
 302=Wegpunkt:
 303=Name:
 304=Koordinaten:
@@ -188,7 +188,7 @@
 307=Status:
 308=Notizen:
 309=Zentrum
-310=L%f6schen
+310=L??schen
 311=Neuer Wegpunkt
 312=Speichern
 313=Merker 1
@@ -202,7 +202,7 @@
 321=Fehler
 322=Kann Bild/Karte nicht laden
 323=Fehler beim Schreiben der Datei
-324= - neu versuchen?
+324=- neu versuchen?
 325=Zuwenige Referenzpunkte, Karte nicht kalibriert
 326=
 327=Information
@@ -211,33 +211,33 @@
 330=Nicht gefunden am
 340=Cachebilder:
 341=Eigene Bilder:
-342=Gel%f6scht
+342=Gel??scht
 343=Nicht genug Speicher um Bild zu laden
-344=Datei l%f6schen
+344=Datei l??schen
 345=Gehe zu diesen Koordinaten
 346=Zeige Travelbugs
 347=Zeige Karte
-348=Eigene Bilder hinzuf%fcgen
+348=Eigene Bilder hinzuf??gen
 349=Blacklist-Status umschalten
-350=Zeitstempel zu Notizen hinzuf%fcgen
-351=Notizen hinzuf%fcgen/%e4ndern
+350=Zeitstempel zu Notizen hinzuf??gen
+351=Notizen hinzuf??gen/??ndern
 353=
 354=werde teilnehmen
 355=habe teilgenommen
-356=vor%fcbergehend nicht verf%fcgbar
-357=erm%f6gliche Auflistung
+356=vor??bergehend nicht verf??gbar
+357=erm??gliche Auflistung
 358=Notiz an den Rezensent
 359=Besitzer Wartung
 360=Merker 2
 361=Webcambild gemacht
-362=gel%f6st
+362=gel??st
 400=Dekodieren
 401=Kodieren
 500=Umschalten
-588=L%e4ngeneinheiten
+588=L??ngeneinheiten
 589=Metrisch (km)
 590=Imperial (Meilen)
-591=Leer f%fcr Sprache des Betriebssystems%0aoder 2 Zeichen f%fcr andere Sprache , z.B. DE, EN
+591=Leer f??r Sprache des Betriebssystems%0aoder 2 Zeichen f??r andere Sprache , z.B. DE, EN
 592=Sprache (braucht Neustart)
 593=Password ist hier optional.%0aNur eingeben wenn es in pref.xml%0agespeichert werden soll.
 594=Passwt
@@ -262,17 +262,17 @@
 613=Richtung
 614=Abbrechen
 615=Anwenden
-616=Verzeichnis ausw%e4hlen
-617=Einf%fcgen
+616=Verzeichnis ausw??hlen
+617=Einf??gen
 618=Kopieren
 619=Parse
 620=Speichern
 621=Allgemein
 622=Ansicht
 623=Bilder:
-624=Gel%f6schte Bilder zeigen
+624=Gel??schte Bilder zeigen
 625=Ansicht (braucht Neustart):
-626=Men%fc oben
+626=Men?? oben
 627=Tabs oben
 628=Status
 629=Profil auto. laden
@@ -281,7 +281,7 @@
 632=Mehr
 633=Max. logs spidern
 634=Proxy verwenden
-635=Gr%f6%dfe
+635=Gr????e
 636=Empfehlungen
 637=OC Index
 638=Bilder in Beschreibung anzeigen
@@ -309,22 +309,22 @@
 709=Anwenden
 710=Archiviert
 711=Nicht suchbar
-712=Route Datei w%e4hlen
+712=Route Datei w??hlen
 713=Speicher Filter
 714=Richtung & Entfernung
 715=Zeige alle Caches mit Status
-716=Alle abw%e4hlen
-717=Alle w%e4hlen
+716=Alle abw??hlen
+717=Alle w??hlen
 718=Cache Bewertungen
 719=Cache Typen
 720=Status
 721=Richtung
 722=Bewertung
 723=Typen
-724=Beh%e4lter
-725=Hinweis: Filter sind additiv, aktiv = gr%fcn
-726=Zus%e4tzliche Wegpunkte
-727=Beh%e4lter
+724=Beh??lter
+725=Hinweis: Filter sind additiv, aktiv = gr??n
+726=Zus??tzliche Wegpunkte
+727=Beh??lter
 728=Zus. WegPkt
 729=Nicht archiviert
 730=Suchbar
@@ -332,8 +332,8 @@
 732=Anderer Besitzer
 733=Addi Wpt
 734=Kein Hauptwegpunkt gefunden zu
-735=Addi Waypoints m%fcssen das Format xxYYYY haben, wobei xx beliebige Zeichen und YYYY die Zeichen des Hauptcaches nach dem GC sind
-736=Zu viele Logs (Maximum in den Einstellungen %e4ndern)
+735=Addi Waypoints m??ssen das Format xxYYYY haben, wobei xx beliebige Zeichen und YYYY die Zeichen des Hauptcaches nach dem GC sind
+736=Zu viele Logs (Maximum in den Einstellungen ??ndern)
 737=Cache-Attribute
 738=Attribute
 739=Filter mit
@@ -355,11 +355,11 @@
 905=Cachedaten laden
 906=Cacheliste:
 907=Max Entfernung:
-908=Wegpunktdatei w%e4hlen:
-909=Datei(en) w%e4hlen
-910=Vorlagendatei w%e4hlen
+908=Wegpunktdatei w??hlen:
+909=Datei(en) w??hlen
+910=Vorlagendatei w??hlen
 950=Transfer
-951=Zu GPS %fcbertragen
+951=Zu GPS ??bertragen
 952=Umwandeln ...
 999=Nicht gesetzt
 1000=D
@@ -374,38 +374,38 @@
 1009=Peil
 1010=Gehe zu diesem
 1011=Nichtmarkierte ausfiltern
-1012=Markierte l%f6schen
+1012=Markierte l??schen
 1013=Auswahl
 1014=Markierte aktualisieren
 1015=Alle markieren
 1016=Alle Markierungen aufheben
 1017=G
-1018=Im Browser offline %f6ffnen
+1018=Im Browser offline ??ffnen
 1019=Diesen als Zentrum setzen
-1020=Im Browser online %f6ffnen
-1021=Beschreibung %f6ffnen
-1022=Alle mit H%e4kchen markierten Wegpunkte (
-1023=Diese Funktion steht gegenw%e4rtig nur f%fcr Geocaching.com zur Verf%fcgung
+1020=Im Browser online ??ffnen
+1021=Beschreibung ??ffnen
+1022=Alle mit H??kchen markierten Wegpunkte (
+1023=Diese Funktion steht gegenw??rtig nur f??r Geocaching.com zur Verf??gung
 1024=Entfernungen in der Listenansicht~vom aktuellen Standpunkt aus~neu berechnet
-1025=Kann Zentrum nicht setzen (GPS-Position unzul%e4ssig)
+1025=Kann Zentrum nicht setzen (GPS-Position unzul??ssig)
 1026=Bewertung
 1027=OC-Idx
-1028=) l%f6schen?
-1029=Es gibt angew%e4hlte aber nicht sichtbare Wegpunkte.%0a(Caches:+
-1030=, zus%e4tzliche Wegpunkte:+
-1031=Diese auch l%f6schen?
+1028=) l??schen?
+1029=Es gibt angew??hlte aber nicht sichtbare Wegpunkte.%0a(Caches:%20
+1030=, zus??tzliche Wegpunkte:%20
+1031=Diese auch l??schen?
 1032=Pfad zum Browser:
 1033=ist falsch!
-1034=Browser kann nicht ge%f6ffnet werden!
-1035=M%f6gliche Ursache:
+1034=Browser kann nicht ge??ffnet werden!
+1035=M??gliche Ursache:
 1036=Ein Fehler in der Ewe-VM
 1037=Bitte Geduld bis zu einem Update
 1038=L
-1039=L%f6ser vorhanden
+1039=L??ser vorhanden
 1040=N
 1041=Notiz vorhanden
 1042=Addis einblenden
-1043=Keine zus%e4tzlichen Wegpunkte vorhanden.
+1043=Keine zus??tzlichen Wegpunkte vorhanden.
 1044=Addis
 1045=Addis ausblenden
 1046=# Addis
@@ -415,13 +415,13 @@
 1050=Aktualisiert
 1051=Zuletzt aktualisiert
 1052=Im Browser online loggen
-1053=In Googlemaps %f6ffnen
+1053=In Googlemaps ??ffnen
 1054=Markierte Black/Whitelist
 1100=Profile
 1105=Suchen
-1106=Profil w%e4hlen oder Neu
+1106=Profil w??hlen oder Neu
 1107=Neu
-1108=Profil w%e4hlen
+1108=Profil w??hlen
 1109=Laden
 1110=Zentrum
 1111=Neues Profil anlegen
@@ -434,23 +434,23 @@
 1118=Profil
 1119=Alte Profile
 1120=Schwier
-1121=Gel%e4nde
-1122='maps' ist f%fcr das Kartenverzeichnis reserviert.
+1121=Gel??nde
+1122='maps' ist f??r das Kartenverzeichnis reserviert.
 1123=Zur Festlegung der Zentrumskoordinaten dieses Profils, klicken Sie auf "Weiter".
 1124=Weiter
-1125=L%f6schen
+1125=L??schen
 1126=Umbenennen
 1200=Liste
 1201=Details
 1202=Beschreibung
 1203=Bilder
 1204=Hint & Logs
-1205=L%f6ser
+1205=L??ser
 1206=Rechner
-1207=%c4nderungen im Profil Speichern?
+1207=??nderungen im Profil Speichern?
 1208=Bewertungen von gcvote
 1300=Letzte Einstellung
-1301=Profil ausw%e4hlen:
+1301=Profil ausw??hlen:
 1400=Zone
 1401=Nord
 1402=Ost
@@ -459,12 +459,12 @@
 1405=Koordinaten von GC laden: GCxxxxx unten eingeben
 1406=Koordinaten in beliebigem Format oder GCxxxx
 1407=Schritte
-1408=Fu%df
+1408=Fu??
 1409=Yards
 1410=Meilen
-1411=Bitte g%fcltige Koordinaten eingeben.
-1412=Koordinaten ung%fcltig. Trotzdem %fcbernehmen?
-1413=L%f6schen
+1411=Bitte g??ltige Koordinaten eingeben.
+1412=Koordinaten ung??ltig. Trotzdem ??bernehmen?
+1413=L??schen
 1414=Suchen
 1415=Peilung
 1500=Ziel:
@@ -473,16 +473,16 @@
 1503=Nordausrichtung
 1504=Start GPS
 1505=Stop GPS
-1506= Karte
-1507=Koordinaten ung%fcltig:
+1506=Karte
+1507=Koordinaten ung??ltig:
 1508=Breite
-1509=L%e4nge
+1509=L??nge
 1510=Keine Daten vom GPS%0aVerbindung zum seriellen Port geschlossen
-1511=Kann Daten vom GPS nicht interpretieren%0a M%f6gliche Gr%fcnde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:%0a
+1511=Kann Daten vom GPS nicht interpretieren%0a M??gliche Gr??nde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:
 1512=Wegpunkt
-1513=Kann Karte nicht ohne g%fcltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew%e4hlten Cache eingeben oder GPS starten
+1513=Kann Karte nicht ohne g??ltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew??hlten Cache eingeben oder GPS starten
 1514=Kann Entfernungen nicht neuberechnen, weil keine GPS-Position gesetzt ist (kein GPS-Empfang ist/war)
-1600=Laden von%20
+1600=Laden von
 1601=max. Abstand:
 1602=Bilder laden
 1603=Karten laden
@@ -499,21 +499,21 @@
 1614=Fehler beim Entpacken der Update-Datei
 1615=Fehler beim Interpretieren der Update-Datei, Status:
 1616=Fehler: Konnte Update-Datei von opencaching.de nicht laden
-1617=Ignoriere Fehler in html-Cache-Beschreibung: "<img" ohne "src=" in cache+
-1618=Ignoriere Fehler in Cache:+
-1619=: konnte Bild von folgender URL nicht laden:+
-1620=laden eingebundener Bilder:+
-1621=Fehler beim Interpretieren%0a der Update-Datei,%0aDies ist vermutlich ein Fehler bei Opencaching.de%0aSp%e4ter erneut versuchen%0a Status:
+1617=Ignoriere Fehler in html-Cache-Beschreibung: "<img" ohne "src=" in cache%20
+1618=Ignoriere Fehler in Cache:%20
+1619=: konnte Bild von folgender URL nicht laden:%20
+1620=laden eingebundener Bilder:%20
+1621=Fehler beim Interpretieren%0a der Update-Datei,%0aDies ist vermutlich ein Fehler bei Opencaching.de%0aSp??ter erneut versuchen%0a Status:
 1622=Gefundene Caches nicht laden
-1623=Importiere h%f6chstens
-1624=+Cache (leer=alle)
+1623=Importiere h??chstens
+1624=%20Cache (leer=alle)
 1625=TBs laden
 1626=Speichere bis zu x Logs:
 1627=Alle Caches
 1628=min. Abstand:
 1629=Richtung (leer/N/N*/N,NE,E):
 1630=z.B. leer oder N oder N* oder N,NE,E
-1631=Aktualisiere h%f6chstens:
+1631=Aktualisiere h??chstens:
 1700=Fehler in Zeile:
 1701=Spalte:
 1702=Variable nicht definiert:
@@ -524,10 +524,10 @@
 1707=Gefunden:
 1708=Funktionsname nicht eindeutig:
 1709=Unbekannte Funktion:
-1710=Kann leere Zeichenkette nicht z%e4hlen
-1711=Ersatzzeichenketten m%fcssen gleiche L%e4nge haben
-1712=Unzul%e4ssige Koordinate:
-1713=Falsches Koordinatenformat. Erlaubt sind cw / dd / dmm / dms /+
+1710=Kann leere Zeichenkette nicht z??hlen
+1711=Ersatzzeichenketten m??ssen gleiche L??nge haben
+1712=Unzul??ssige Koordinate:
+1713=Falsches Koordinatenformat. Erlaubt sind cw / dd / dmm / dms /%20
 1714=Goto: Wegpunkt existiert nicht:
 1715=instr: Startposition nicht in Zeichenkette
 1716=mid: Ganzzahliger Parameter erwartet
@@ -546,67 +546,67 @@
 1731=Nicht erlaubtes Formatierungzeichen
 1732=Nicht erlaubtes Zeichen
 1733=Befehl eingeben
-1734=Ausgabebereich l%f6schen
+1734=Ausgabebereich l??schen
 1735=Rechne!
 1736=Laden
 1737=Speichern
 1738=Speichern als
 1739=Winkel muss im Bereich [0;2*PI] sein
-1740=Kreuzpeilungswinkel m?ssen im Bereich [0;360] sein
-1741=Kreuzpeilungswinkel m?ssen im Bereich [0;2*PI] sein
+1740=Kreuzpeilungswinkel m??ssen im Bereich [0;360] sein
+1741=Kreuzpeilungswinkel m??ssen im Bereich [0;2*PI] sein
 1742=Abstand der Punkte in der Kreuzpeilung ist zu klein
-1743=Kreuzpeilung nicht m%f6glich. Bitte Entwickler auf geoclub.de informieren!
-1744=Kreuzpeilung mit identischen Peilungswinkeln nicht m%f6glich
+1743=Kreuzpeilung nicht m??glich. Bitte Entwickler auf geoclub.de informieren!
+1744=Kreuzpeilung mit identischen Peilungswinkeln nicht m??glich
 1800=Georeferenzierte Karten herunterladen
 1801=Kacheln herunterladen
-1802=Laden georeferenzierter Karten%0a W%e4hle Onlinedienst:
-1803=f%fcr
+1802=Laden georeferenzierter Karten%0a W??hle Onlinedienst:
+1803=f??r
 1804=alle
 1805=selektierte
 1806=Caches
 1807=Ca. m pro Pixel:
-1808=%dcberlappung in Pixel:
-1809=Lade %dcbersichtskarte
+1808=??berlappung in Pixel:
+1809=Lade ??bersichtskarte
 1810=In einem Rechteck von:
 1811=um das Zentrum:
 1812=Kacheln
-1813=Lade Karte f%fcr
+1813=Lade Karte f??r
 1814=Pro Cache
 1815=Lade georeferenzierte Karten
-1816=Lade georeferenzierte Karten%0a %0a %0a %0a %0a
+1816=Lade georeferenzierte Karten
 1817=Keine Caches selektiert
 1818=getSortedMapServiceIndex: Index
 1819=nicht gefunden
 1820=Lade Karte '
-1821=%0a f%fcr Cache:%0a
+1821=f??r Cache:
 1822=Cache:
 1823=Ignoriere Fehler:
-1824=Lade %dcberblickskarte
-1825=%dcberblickskarte: Ignoriere Fehler:
+1824=Lade ??berblickskarte
+1825=??berblickskarte: Ignoriere Fehler:
 1826=Laden und Kalibrieren der Karten beendet
-1827='Radius' muss gr%f6%dfer als 0 sein
-1828='%dcberlappung' muss gr%f6%dfer oder gleich 0 sein
+1827='Radius' muss gr????er als 0 sein
+1828='??berlappung' muss gr????er oder gleich 0 sein
 1829=Bitte 'Zentrum' eingeben, um das die Karten geladen werden sollen
-1830=Der gew%e4hlte Kartendienst bietet Karten in einem Ma%dfstab von
-1831= bis
-1832=%0a Bitte 'Ca. m pro Pixel' entsprechend anpassen
-1833=Bitte w%e4hlen Sie nicht die Trennlinie als WMS-Service
+1830=Der gew??hlte Kartendienst bietet Karten in einem Ma??stab von
+1831=bis
+1832=Bitte 'Ca. m pro Pixel' entsprechend anpassen
+1833=Bitte w??hlen Sie nicht die Trennlinie als WMS-Service
 1834=Bitte den Pfad zur Kosmos.Console.exe in die wms-Datei richtig eintragen.
-1835=Kachelgr%f6%dfe:
-1836=Breite der Kacheln mu%df g%f6%dfer als 0 sein.
-1837=H%f6he der Kacheln mu%df g%f6%dfer als 0 sein.
+1835=Kachelgr????e:
+1836=Breite der Kacheln mu?? g????er als 0 sein.
+1837=H??he der Kacheln mu?? g????er als 0 sein.
 2000=GPX Export
 2001=von
 2100=Explorist Exporter
 2101=Fehler beim laden der Datei magellan.cfg
-2102=Zieldatei w%e4hlen
+2102=Zieldatei w??hlen
 2103=Fehler beim lesen der Datei magellan.cfg
-2104=Ausgabeverzeichnis f%fcr die .gs Dateien ausw%e4hlen
+2104=Ausgabeverzeichnis f??r die .gs Dateien ausw??hlen
 2500=Fehler beim Laden oder unkekanntes Attribut
-2501=Nicht immer zug%e4nglich
-2502=Immer zug%e4nglich (24/7)
-2503=Keine Fahrr%e4der
-2504=Fahrr%e4der erlaubt
+2501=Nicht immer zug??nglich
+2502=Immer zug??nglich (24/7)
+2503=Keine Fahrr??der
+2504=Fahrr??der erlaubt
 2505=ohne Wasserfahrzeug
 2506=Wasserfahrzeug erforderlich
 2507=keine Kakteen
@@ -618,63 +618,63 @@
 2513=keine Klippen / Felsen
 2514=!!! Steinschlag / Absturz
 2515=Kein Klettern
-2516=Klettern (ohne Ausr%fcstung)
+2516=Klettern (ohne Ausr??stung)
 2517=kein Kompass notwendig
 2518=Kompass notwendig
 2519=kein Weidevieh
 2520=Achtung Weidevieh
-2521=ungef%e4hrliches Gebiet
-2522=!!! gef%e4hrliches Gebiet
+2521=ungef??hrliches Gebiet
+2522=!!! gef??hrliches Gebiet
 2523=Keine Hunde
 2524=Hunde erlaubt
-2525=keine Eintritts- / Parkgeb%fchr
-2526=Eintritts- / Parkgeb%fchr
+2525=keine Eintritts- / Parkgeb??hr
+2526=Eintritts- / Parkgeb??hr
 2527=kein Wandern
 2528=Anstrengende Wanderung
 2529=Keine Pferde
 2530=Pferde erlaubt
 2531=kein Jagdgebiet
 2532=!!! Jagdgebiet
-2533=Keine Gel%e4ndefahrzeuge
-2534=Gel%e4ndefahrzeuge erlaubt
-2535=nicht f%fcr Kinder geeignet
+2533=Keine Gel??ndefahrzeuge
+2534=Gel??ndefahrzeuge erlaubt
+2535=nicht f??r Kinder geeignet
 2536=kindgerechter Cache
 2537=kein Bergbaugebiet
 2538=!!! Bergbaugebiet (ehemaliges)
-2539=Keine Motorr%e4der
-2540=Motorr%e4der erlaubt
+2539=Keine Motorr??der
+2540=Motorr??der erlaubt
 2541=Nicht bei Nacht empfohlen
-2542=Nur bei Nacht m%f6glich
-2543=Dauert l%e4nger als 1 Stunde
+2542=Nur bei Nacht m??glich
+2543=Dauert l??nger als 1 Stunde
 2544=Dauert weniger als 1 Stunde
 2545=kein Parkplatz
-2546=Parkplatz verf%fcgbar
+2546=Parkplatz verf??gbar
 2547=kein Telefon
-2548=Telefon verf%fcgbar
+2548=Telefon verf??gbar
 2549=kein Picnic
 2550=Grillplatz
 2551=keine giftigen Pflanzen
 2552=giftige Pflanzen
-2553=nicht mit %d6PNV erreichbar
-2554=%d6PNV erreichbar
+2553=nicht mit ??PNV erreichbar
+2554=??PNV erreichbar
 2555=Keine Quadbikes
 2556=Quadbikes erlaubt
-2557=ohne Kletterausr%fcstung
-2558=Kletterausr%fcstung erforderlich
+2557=ohne Kletterausr??stung
+2558=Kletterausr??stung erforderlich
 2559=keine Toiletten
-2560=Toiletten verf%fcgbar
+2560=Toiletten verf??gbar
 2561=kein Ausblick
-2562=Sch%f6ner Ausblick
-2563=kein Tauchger%e4t n%f6tig
-2564=Tauchger%e4t erforderlich
+2562=Sch??ner Ausblick
+2563=kein Tauchger??t n??tig
+2564=Tauchger??t erforderlich
 2565=keine Schlangen
 2566=Schlangen
 2567=Keine Schneemobile
 2568=Schneemobil erlaubt
 2569=Kein heimliches Agieren notwendig
 2570=Heimlich / listig
-2571=F%fcr Kinderwagen nicht geeignet
-2572=F%fcr Kinderwagen geeignet
+2571=F??r Kinderwagen nicht geeignet
+2572=F??r Kinderwagen geeignet
 2573=kein Schwimmen
 2574=Schwimmen
 2575=keine Dornen
@@ -684,37 +684,37 @@
 2579=Waten nicht notwendig
 2580=Waten notwendig
 2581=kein Trinkwasser
-2582=Trinkwasser verf%fcgbar
-2583=nicht f%fcr Rollst%fchle
-2584=Geeignet f%fcr Rollst%fchle
+2582=Trinkwasser verf??gbar
+2583=nicht f??r Rollst??hle
+2584=Geeignet f??r Rollst??hle
 2585=nicht im Winter
 2586=Schneesicher / im Winter
 2587=GC: Cache ok OC: keine Erste Hilfe
 2588=GC: Cachewartung OC: Erste Hilfe
 2589=Keine Taschenlampe notwendig
 2590=Taschenlampe notwendig
-2591=kein Flugger%e4t notwendig
-2592=Flugger%e4t erforderlich
-2593=keine giftigen/gef%e4hrliche Tiere
-2594=!!! Giftige/gef%e4hrliche Tiere
+2591=kein Flugger??t notwendig
+2592=Flugger??t erforderlich
+2593=keine giftigen/gef??hrliche Tiere
+2594=!!! Giftige/gef??hrliche Tiere
 2595=keine Rechenaufgabe
 2596=Rechenaufgabe
 2597=keine Startbedingungen
 2598=Startbedingungen erfragen
 2599=nicht mit dem Auto erreichbar
 2600=Nahe beim Auto
-2601=keine H%f6hlenausr%fcstung n%f6tig
-2602=H%f6hlenausr%fcstung erforderlich
-2603=nicht ganzj%e4hrig
-2604=w%e4hrend des ganzen Jahres
-2605=nicht tags%fcber
-2606=nur tags%fcber
-2607=nicht in geschlossenen R%e4umen
-2608=In geschlossenen R%e4umen
+2601=keine H??hlenausr??stung n??tig
+2602=H??hlenausr??stung erforderlich
+2603=nicht ganzj??hrig
+2604=w??hrend des ganzen Jahres
+2605=nicht tags??ber
+2606=nur tags??ber
+2607=nicht in geschlossenen R??umen
+2608=In geschlossenen R??umen
 2609=kein interessanter Ort
 2610=Interessanter Ort
 2611=keine Letterbox (kein Stempel)
-2612=Letterbox (ben%f6tigt Stempel)
+2612=Letterbox (ben??tigt Stempel)
 2613=festes Ziel
 2614=Bewegliches Ziel
 2615=kein/e Brutsaison / Naturschutz
@@ -725,26 +725,26 @@
 2620=Nur bei Opencaching logbar
 2621=normaler Cachetype
 2622=Besonderer Cachetype
-2623=keine %dcbernachtung erforderlich
-2624=%dcbernachtung erforderlich
+2623=keine ??bernachtung erforderlich
+2624=??bernachtung erforderlich
 2625=
 2626=
 2627=
 2628=
-2629=kein R%e4tsel
-2630=R%e4tsel
+2629=kein R??tsel
+2630=R??tsel
 2631=
 2632=
-2633=ebenes Gel%e4nde
-2634=H%fcgeliges Gel%e4nde
+2633=ebenes Gel??nde
+2634=H??geliges Gel??nde
 2635=nicht im Wasser
 2636=Im Wasser
-2637=unabh%e4ngig von Gezeiten
-2638=Gezeiten abh%e4ngig
+2637=unabh??ngig von Gezeiten
+2638=Gezeiten abh??ngig
 2639=nicht an bestimmte Zeiten gebunden
 2640=An bestimmte Zeiten gebunden
-2641=Keine spezielle Ausr%fcstung
-2642=Spezielle Ausr%fcstung
+2641=Keine spezielle Ausr??stung
+2642=Spezielle Ausr??stung
 2643=keine nahe Eisenbahnlinie
 2644=Eisenbahnlinie nahbei
 2645=ohne Webcam
@@ -753,12 +753,12 @@
 2648=Recherche
 2649=kein Link zu GC,...
 2650=Hyperlink zu GC,...
-2651=geh%f6rt nicht zur "Lost and Found" Tour
-2652=geh%f6rt zur "Lost and Found" Tour
-2653=kein Wohnmobilstellpatz verf%fcgbar
-2654=Wohnmobilstellpatz verf%fcgbar
-2655=kein R%e4tsel vor Ort l%f6sen
-2656=R%e4tsel vor Ort l%f6sen
+2651=geh??rt nicht zur "Lost and Found" Tour
+2652=geh??rt zur "Lost and Found" Tour
+2653=kein Wohnmobilstellpatz verf??gbar
+2654=Wohnmobilstellpatz verf??gbar
+2655=kein R??tsel vor Ort l??sen
+2656=R??tsel vor Ort l??sen
 2657=kein UV-Licht erforderlich
 2658=UV-Licht erforderlich
 2659=keine Schneeschuhe
@@ -781,12 +781,12 @@
 2676=lange Wanderung
 2677=keine Tankstelle nahebei
 2678=Tankstelle nahebei
-2679=keine Verpflegungsm%f6glichkeit
-2680=Verpflegungsm%f6glichkeit nahebei
-3000=Schlie%dfen
-4000=Geladene Caches:+
-4001=GPX-Dateien von Opencaching enthalten keine Informationen zu Bildern, sie werden nicht heruntergeladen. Am besten Caches von Opencaching holen per Men%fc /Anwendung/Import/von Opencaching
-4100=Verzeichnis w%e4hlen:
+2679=keine Verpflegungsm??glichkeit
+2680=Verpflegungsm??glichkeit nahebei
+3000=Schlie??en
+4000=Geladene Caches:%20
+4001=GPX-Dateien von Opencaching enthalten keine Informationen zu Bildern, sie werden nicht heruntergeladen. Am besten Caches von Opencaching holen per Men?? /Anwendung/Import/von Opencaching
+4100=Verzeichnis w??hlen:
 4101=Karten
 4102=Kalibrierte Karten
 4103=Nicht kalibrierte Karten
@@ -797,62 +797,62 @@
 4108=Koordinaten:
 4109=Lade Karten...
 4110=Lade
-4111=Koordinaten m%fcssen in dem Format N XX XX,XXX E XXX XX,XXX eingegeben werden
-4112=E/A-Fehler beim Kopieren von:+
-4113=+nach:+
-4114=+Fehler:+
-4115=Fehler: Kann Bild nicht dekodieren:+
-4116=+-+Bild nicht kopiert
-4117=Fehler beim Importieren der .map-Datei:+
+4111=Koordinaten m??ssen in dem Format N XX XX,XXX E XXX XX,XXX eingegeben werden
+4112=E/A-Fehler beim Kopieren von:%20
+4113=%20nach:%20
+4114=%20Fehler:%20
+4115=Fehler: Kann Bild nicht dekodieren:%20
+4116=%20-%20Bild nicht kopiert
+4117=Fehler beim Importieren der .map-Datei:%20
 4118=E/A-Fehler beim Lesen oder Schreiben der Kalibrierungsdatei
-4119=Keine Kalibrierungsdatei gefunden f%fcr:+
+4119=Keine Kalibrierungsdatei gefunden f??r:%20
 4120=Fertig.
-4200=Kartenverzeichnis w%e4hlen
+4200=Kartenverzeichnis w??hlen
 4201=Information
 4203=Lade Kartenliste...
-4204=Es steht keine kalibrierte Karte zur Verf%fcgung %0a Bitte w%e4hlen Sie einen Ma%dfstab,%0a in dem der Track und die markierten Caches angezeigt werden sollen. %0a Sie k%f6nnen Karten herunterladen im Hauptmen%fc: Anwendung/Karten/kalibrierte herunterladen
-4206=Entf:+
+4204=Es steht keine kalibrierte Karte zur Verf??gung %0a Bitte w??hlen Sie einen Ma??stab,%0a in dem der Track und die markierten Caches angezeigt werden sollen. %0a Sie k??nnen Karten herunterladen im Hauptmen??: Anwendung/Karten/kalibrierte herunterladen
+4206=Entf:%20
 4207=Fehler
-4208=Programmfehler: %0a nichterlaubter mapChangeModus:+
-4210=Die mitwandernde Karte kann nicht ohne Karte gestartet werden. %0a Bitte w%e4hlen Sie eine %0a (evtl. eine leere)
-4211=Keine+
-4212=%fcbersichtlichere
+4208=Programmfehler: %0a nichterlaubter mapChangeModus:%20
+4210=Die mitwandernde Karte kann nicht ohne Karte gestartet werden. %0a Bitte w??hlen Sie eine %0a (evtl. eine leere)
+4211=Keine%20
+4212=??bersichtlichere
 4213=detailliertere
-4214=+Karte verf%fcgbar
-4215=Keine Caches mit H%e4ckchen ausgew%e4hlt
+4214=%20Karte verf??gbar
+4215=Keine Caches mit H??ckchen ausgew??hlt
 4216=Lade Karte...
-4217=Konnte zu folgender Datei geh%f6rendes Bild nicht finden: %0a
-4218=Konnte folgende Karte nicht laden: %0a
-4219=Nicht genug (RAM)-Speicher frei, %0a um folgende Karte zu laden: %0a
-4220=%0aSie k%f6nnen versuchen, %0a alle Programme zu schlie%dfen %0a und CacheWolf neuzustarten
-4221=Nicht gen%fcgend Ressourcen verf%fcgbar:+
+4217=Konnte zu folgender Datei geh??rendes Bild nicht finden:
+4218=Konnte folgende Karte nicht laden:
+4219=Nicht genug (RAM)-Speicher frei, %0a um folgende Karte zu laden:
+4220=Sie k??nnen versuchen, %0a alle Programme zu schlie??en %0a und CacheWolf neuzustarten
+4221=Nicht gen??gend Ressourcen verf??gbar:%20
 4222=Fehler: (RAM) Speicher voll
 4230=Setze Ziel hier$z
 4231=Setze Ziel hier
 4232=Hier neuen Wegpunkt erzeugen$n
 4233=Hier neuen Wegpunkt erzeugen
-4234=Karte manuell ausw%e4hlen$s
-4235=Karte manuell ausw%e4hlen
+4234=Karte manuell ausw??hlen$s
+4235=Karte manuell ausw??hlen
 4236=Kartenverzeichnis wechseln$c
 4237=Kartenverzeichnis wechseln
 4238=Karte anzeigen
 4239=Karte anzeigen
 4240=Karte ausblenden
 4241=Karte ausblenden
-4242=Modus f%fcr automatischen Kartenwechsel
-4244=H%f6chster Detailgrad m. aktueller u. Zielpos.
-4245=H%f6chster Detailgrad m. aktueller u. Zielpos.
-4246=H%f6chster verf%fcgbarer Detailgrad
-4247=H%f6chster verf%fcgbarer Detailgrad
-4248=Manuellen Detailgrad m%f6glichst beibehalten
-4249=Manuellen Detailgrad m%f6glichst beibehalten
-4250=Detailgrad manuell w%e4hlen
+4242=Modus f??r automatischen Kartenwechsel
+4244=H??chster Detailgrad m. aktueller u. Zielpos.
+4245=H??chster Detailgrad m. aktueller u. Zielpos.
+4246=H??chster verf??gbarer Detailgrad
+4247=H??chster verf??gbarer Detailgrad
+4248=Manuellen Detailgrad m??glichst beibehalten
+4249=Manuellen Detailgrad m??glichst beibehalten
+4250=Detailgrad manuell w??hlen
 4252=Karte mit allen markierten Caches laden
 4253=Karte mit allen markierten Caches laden
 4254=Karte mit mehr Details laden
 4255=Karte mit mehr Details laden
-4256=Karte mit mehr %dcberblick laden
-4257=Karte mit mehr %dcberblick laden
+4256=Karte mit mehr ??berblick laden
+4257=Karte mit mehr ??berblick laden
 4258=Karte verschieben und neue laden
 4260=Karte zum Ziel verschieben
 4261=Karte zum Ziel verschieben
@@ -860,109 +860,109 @@
 4263=Karte zum GPS verschieben
 4264=Karte zum Zentrum verschieben
 4265=Karte zum Zentrum verschieben
-4266=Weisse Fl%e4chen f%fcllen
-4267=Weisse Fl%e4chen anzeigen
+4266=Weisse Fl??chen f??llen
+4267=Weisse Fl??chen anzeigen
 4268=Alle Cache anzeigen
 4269=markierte Cache anzeigen
-4270=%d6ffne
+4270=??ffne
 4271=Karten
 4272=--- Karten von akt. Position und Ziel ---
 4273=--- Karten der aktuellen Position ---
 4274=--- Karten des Ziels ---
 4275=--- Andere Karten ---
 4276=Abbrechen
-4277=Ausw%e4hlen
-4278=Kann folgende .wfl-Datei nicht laden:+%0a
+4277=Ausw??hlen
+4278=Kann folgende .wfl-Datei nicht laden:%20
 4279=Setze Ziel auf
 4280=Kleine Kacheln
 4281=Mittler Kacheln
-4282=Gro%dfe Kacheln
+4282=Gro??e Kacheln
 4290=Herauszoomen
 4291=Hineinzoomen
 4292=Manuell zoomen
-4293=Zur Originalaufl%f6sung zoomen
-4294=Vergr%f6ssern
+4293=Zur Originalaufl??sung zoomen
+4294=Vergr??ssern
 4295=Mittelpunkt
 4296=Detaillierung
-4300=Leer 1 Punkt =+
-4301=+meter
-4302=Breite/L%e4nge au%dferhalb des zul%e4ssigen Bereiches beim Lesen von+
-4303=Zu wenig Zeilen in Datei+
+4300=Leer 1 Punkt =%20
+4301=%20meter
+4302=Breite/L??nge au??erhalb des zul??ssigen Bereiches beim Lesen von%20
+4303=Zu wenig Zeilen in Datei%20
 4304=Zu wenig Punkte, um die Karte zu kalibrieren
-4305=Ung%fcltige Transformationsparameter%0a (Matrix kann nicht invertiert werden)%0a in der Datei %0a
+4305=Ung??ltige Transformationsparameter%0a (Matrix kann nicht invertiert werden)%0a in der Datei
 4306=Karte ist nicht georeferenziert
 4400=Warnung
-4401=Ignoriere Fehler: Konnte Daten nicht an Host weiterleiten:%0a
-4402=F%fcr einen neuen Versuch, stoppe und starte GPS neu
+4401=Ignoriere Fehler: Konnte Daten nicht an Host weiterleiten:
+4402=F??r einen neuen Versuch, stoppe und starte GPS neu
 4403=Fehler
-4404=Konnte keine Verbindung zum GPS-Empf%e4nger %0a herstellen. Fehler beim %f6ffnen des seriellen Ports%0a
-4405=%0aM%f6gliche Gr%fcnde:%0a Falscher Port %0a Ein anderes Programm blockiert den Anschluss %0a gilt nur auf Loox-Ger%e4ten: ge%f6ffneter Infrarot-Port blockiert das GPS
+4404=Konnte keine Verbindung zum GPS-Empf??nger %0a herstellen. Fehler beim ??ffnen des seriellen Ports
+4405=M??gliche Gr??nde:%0a Falscher Port %0a Ein anderes Programm blockiert den Anschluss %0a gilt nur auf Loox-Ger??ten: ge??ffneter Infrarot-Port blockiert das GPS
 4406=Kopieren Sie java_ewe.dll in das Verzeichnis des CacheWolf-Programms
-4407=Die vorgefundenen Dateien entsprechen nicht dem aktuellen Format.%0aDaher werden sie nun in das aktuelle Format konvertiert. Abh%e4ngig von der Gr%f6%dfe des Profils und dem verwendeten Rechner kann das einige Minuten dauern. Wir bitten um Geduld.
+4407=Die vorgefundenen Dateien entsprechen nicht dem aktuellen Format.%0aDaher werden sie nun in das aktuelle Format konvertiert. Abh??ngig von der Gr????e des Profils und dem verwendeten Rechner kann das einige Minuten dauern. Wir bitten um Geduld.
 4408=Konnte keine Verbindung zum GPSD herstellen:
-4409=%0aM%f6gliche Gr%fcnde:%0a Adresse/Port falsch%0a GPSD l%e4uft dort nicht
+4409=M??gliche Gr??nde:%0a Adresse/Port falsch%0a GPSD l??uft dort nicht
 4500=Alle:
 4501=Sehe:
 4502=Fund:
-4600=Nicht alle Caches k%f6nnen angezeigt werden. Inkompatibler Blacklist-Status.
-4700=Ignoriere Fehler beim%0aLaden der Kalibrierungsdatei%0a
+4600=Nicht alle Caches k??nnen angezeigt werden. Inkompatibler Blacklist-Status.
+4700=Ignoriere Fehler beim%0aLaden der Kalibrierungsdatei
 4701=Suche nach bester Karte
 4702=Optimierung
-4703=Cachewolf kann das Laden von Karten beschleunigen, indem eine Markierung zum Dateinamen hinzugef%fcgt wird. Soll dies jetzt getan werden?%0aEs kann einige Minuten dauern.
-4704=%0aUmbenennen der Datei:
-4705=Fehler beim Umbenennen:%0a
-4706=%0danach:%0a
-4707=E/A-Fehler beim Lesen von:+
-4708=Fehler beim Lesen von:+
-4709=Konnte Kartenbild zu folgender Kalibrierungsdatei nicht finden:%0a
+4703=Cachewolf kann das Laden von Karten beschleunigen, indem eine Markierung zum Dateinamen hinzugef??gt wird. Soll dies jetzt getan werden?%0aEs kann einige Minuten dauern.
+4704=Umbenennen der Datei:
+4705=Fehler beim Umbenennen:
+4706=anach:
+4707=E/A-Fehler beim Lesen von:%20
+4708=Fehler beim Lesen von:%20
+4709=Konnte Kartenbild zu folgender Kalibrierungsdatei nicht finden:
 4800=Lade Onlinekartendienste
-4801=Ignoriere Fehler beim %0a Lesen der Web Map Service Definitionsdatei %0a
+4801=Ignoriere Fehler beim %0a Lesen der Web Map Service Definitionsdatei
 4802=Lade kalibriertes (georeferenziertes) %0a Kartenbild %0a '
 4803=' %0a Lade Kachel %0a Reihe
-4804= Spalte
+4804=Spalte
 4805=Kachel
 4806=: Ignoriere Fehler:
 4807=Karte laden fehlgeschlagen: Kein http-redirect erhalten
 4808=Bild: Type:
-4809= ist kein Bild, Anfang des Inhalts:
-4810=Fehler beim Laden oder Speichern der Karte:%0a
-4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a Diese Methode muss %fcberladen werden um sie zu nutzen
-4812=WebMapService: Eigenschaft >Name:< fehlt in Datei:%0a
-4813=WebMapService: Eigenschaft >MainUrl:< fehlt in Datei:%0a
+4809=ist kein Bild, Anfang des Inhalts:
+4810=Fehler beim Laden oder Speichern der Karte:
+4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a Diese Methode muss ??berladen werden um sie zu nutzen
+4812=WebMapService: Eigenschaft >Name:< fehlt in Datei:
+4813=WebMapService: Eigenschaft >MainUrl:< fehlt in Datei:
 4814=WebMapService: CoordinateReferenceSystemCacheWolf nicht angegeben
-4815=Dieses Koordinaten-Referenzsystem wird von Cachewolf nicht unterst%fctzt:%0a
-4816=WebMapService: Eigenschaft >CoordinateReferenceSystemUrlPart:< fehlt in Datei:%0a
+4815=Dieses Koordinaten-Referenzsystem wird von Cachewolf nicht unterst??tzt:
+4816=WebMapService: Eigenschaft >CoordinateReferenceSystemUrlPart:< fehlt in Datei:
 4817=Anzahl der Strings in CoordinateReferenceSystemUrlPart (
 4818=) muss mit der Anzahl der Codes in CoordinateReferenceSystemCacheWolf (
-4819=)%fcbereinstimmen. Benutzte normale Leerschritte als Trenner
-4820=WebMapService: Eigenschaft >CoordinateReferenceSystemUrlPart:< fehlerhaft in Datei:%0a
-4821=WebMapService: Eigenschaft >ImageFileExtension:< fehlt in Datei:%0a
+4819=)??bereinstimmen. Benutzte normale Leerschritte als Trenner
+4820=WebMapService: Eigenschaft >CoordinateReferenceSystemUrlPart:< fehlerhaft in Datei:
+4821=WebMapService: Eigenschaft >ImageFileExtension:< fehlt in Datei:
 4822=Bereich:
-4823= wird vom Dienst:
-4824=+nicht abgedeckt, Dienstbereich:
-4825=Ma%dfstab
-4826= wird von diesem Kartendienst nicht unterst%fctzt, unterst%fctzter Ma%dfstabsbereich:
-4827= (gemessen vertikal in Metern pro Pixel)
-4828=Koordinatensystem wird von Cachewolf nicht unterst%fctzt:
+4823=wird vom Dienst:
+4824=%20nicht abgedeckt, Dienstbereich:
+4825=Ma??stab
+4826=wird von diesem Kartendienst nicht unterst??tzt, unterst??tzter Ma??stabsbereich:
+4827=(gemessen vertikal in Metern pro Pixel)
+4828=Koordinatensystem wird von Cachewolf nicht unterst??tzt:
 4829=getUrlForBoundingBox: Punkt:
-4830=Kein passender Gau%df-Kr%fcger-Streifen in der EPSG-Codeliste in der .wms-Datei
-4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst%fctzt:
-4900=+ist keine deutsche Gau%df-Kr%fcger-Koordinate
-4920=EPSG-Code+
-4921=+nicht unterst%fctzt
-4922=EPSG code fehlt in:+%0a
-4923=fromWgs84: EPSG code+
-4924=ToWgs84: EPSG code+
+4830=Kein passender Gau??-Kr??ger-Streifen in der EPSG-Codeliste in der .wms-Datei
+4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst??tzt:
+4900=%20ist keine deutsche Gau??-Kr??ger-Koordinate
+4920=EPSG-Code%20
+4921=%20nicht unterst??tzt
+4922=EPSG code fehlt in:%20
+4923=fromWgs84: EPSG code%20
+4924=ToWgs84: EPSG code%20
 5000=Lade Cacheliste
-5001=Hilfswegpunkte k%f6nnnen nicht direkt gespidert werden.%0aBitte zus%e4tzlich den Vater anhaken.
-5002=: Diese Funktion steht gegenw%e4rtig nur f%fcr geocaching.com und opencaching.{cz,de,org.uk,pl} zur Verf%fcgung.
+5001=Hilfswegpunkte k??nnnen nicht direkt gespidert werden.%0aBitte zus??tzlich den Vater anhaken.
+5002=: Diese Funktion steht gegenw??rtig nur f??r geocaching.com und opencaching.{cz,de,org.uk,pl} zur Verf??gung.
 5003=Optionen
-5004=Erstelle Beziehungen f%fcr zus%e4tzliche Wegpunkte...
+5004=Erstelle Beziehungen f??r zus??tzliche Wegpunkte...
 5497=Fehler: Ein Tag in spider.def fehlt
-5498=Login nicht m%f6glich. Fehler beim Laden der Seite nach Login.
-5499=Fehler beim Laden der Login Seite.%0aBitte %fcberpr%fcfen Sie Ihre Internetverbindung.
+5498=Login nicht m??glich. Fehler beim Laden der Seite nach Login.
+5499=Fehler beim Laden der Login Seite.%0aBitte ??berpr??fen Sie Ihre Internetverbindung.
 5500=Fehler
-5501=Login nicht m%f6glich. Falscher Name oder Passwort?
+5501=Login nicht m??glich. Falscher Name oder Passwort?
 5502=Lade erste Seite ...
 5503=Fehler beim Laden der ersten Seite.
 5504=Fehler beim Laden der Datei 'spider.def'
@@ -972,18 +972,18 @@
 5508=Einloggen ...
 5509=Zentrumskoordinaten nicht gesetzt
 5510=Import Optionen
-5511=Gefunden+
-5512=+%0aneue / zu aktualisierende Caches
-5513=Laden von:+
-5514=%0aTravelbug:+
-5515=Fehler beim Laden des Caches.%0aBitte %fcberpr%fcfen Sie Ihre Internetverbindung und ob als Sprache bei GC.com English ausgew%e4hlt ist.%0aNoch einmal versuchen?
-5516=+Cachebeschreibungen%0akonnten nicht geladen werden.
+5511=Gefunden%20
+5512=%20%0aneue / zu aktualisierende Caches
+5513=Laden von:%20
+5514=Travelbug:%20
+5515=Fehler beim Laden des Caches.%0aBitte ??berpr??fen Sie Ihre Internetverbindung und ob als Sprache bei GC.com English ausgew??hlt ist.%0aNoch einmal versuchen?
+5516=%20Cachebeschreibungen%0akonnten nicht geladen werden.
 5517=Aktualisierungen importieren?
-5518=+Caches in der Datenbank sollten aktualisiert werden. Jetzt aktualisieren?
+5518=%20Caches in der Datenbank sollten aktualisiert werden. Jetzt aktualisieren?
 5519=Information
-5520=Nur das eingestellte Maximum an Caches wurde geladen.%0aWiederholen sie das Spidern sp%e4ter um weitere Caches zu laden.%0aEs wurden keine vorhandenen Caches aktualisiert.
-5521=Seite+
-5522=Pr%fcfen auf %e4ltere XML-Dateien ( ohne <CACHE... /> ) ?
+5520=Nur das eingestellte Maximum an Caches wurde geladen.%0aWiederholen sie das Spidern sp??ter um weitere Caches zu laden.%0aEs wurden keine vorhandenen Caches aktualisiert.
+5521=Seite%20
+5522=Pr??fen auf ??ltere XML-Dateien ( ohne <CACHE... /> ) ?
 6000=Guid
 6001=Name
 6002=Track#
@@ -1003,7 +1003,7 @@
 6019=Tracking Nummer
 6020=Travelbug nicht gefunden.
 6021=Mehr als einen Travelbug gefunden. Bitte den Namen genauer angeben.
-6022=: Aktueller Cache:+
+6022=: Aktueller Cache:%20
 6025=Name:
 6026=Tracking #:
 6027=Id/Guid:
@@ -1019,36 +1019,36 @@
 6040=Nimm TB aus aktuellem Cache
 6041=Lege TB in aktuellen Cache
 6042=Neuer Travelbug
-6043=Travelbug l%f6schen
+6043=Travelbug l??schen
 6044=Ziel (und Name) abrufen
-6045=On-line %d6ffnen
+6045=On-line ??ffnen
 6046=Nur nicht geloggte zeigen
-6047=Ausgew%e4hlte Zeilen l%f6schen
+6047=Ausgew??hlte Zeilen l??schen
 6050=Spalten zeigen
 6051=Spalten verbergen
 6100=Sonne
 6101=Mond
-6102=Gro%dfer Wagen
+6102=Gro??er Wagen
 6103=Orion
 6104=Himmels-W
 6105=Schwan
-6106=Kreuz des S%fcdens
-6122=Altioth im Gro%dfen Wagen
+6106=Kreuz des S??dens
+6122=Altioth im Gro??en Wagen
 6123=Alnilam im Orion
 6124=Kassiopeia Gamma
 6125=Deneb im Schwan
-6126=Mimosa im Kreuz des S%fcdens
-7000=Freigegeben:+
-7001=Kandidat f%fcr Freigabe:+
-7002=In Entwicklung, stabil:+
-7003=In Entwicklung, neuste:+
+6126=Mimosa im Kreuz des S??dens
+7000=Freigegeben:%20
+7001=Kandidat f??r Freigabe:%20
+7002=In Entwicklung, stabil:%20
+7003=In Entwicklung, neuste:%20
 7010=aktuell
-7011=Update verf%fcgbar
-7012=nicht verf%fcgbar
+7011=Update verf??gbar
+7012=nicht verf??gbar
 7013=Fehler
 7020=Empfohlener Versionstyp
 7021=Dieser Versiontyp
-7022=Dies ist:+
+7022=Dies ist:%20
 7023=Fehler beim Laden der aktuellen Versionsinformationen
 7100=Einstellungen serieller Port
 7101=Ports auflisten
@@ -1056,17 +1056,17 @@
 7103=Suchen$u
 7104=Testen$t
 7105=GPS-Daten weiterleiten an Host
-7106=Alle Daten vom GPS-Empf%e4nger werden an den eingetragenen Host an TCP-Port 23 weitergeleitet. Mit dem Programm HW Virtual Serial Port kann damit ein virtueller COM-Port eingerichtet werden
+7106=Alle Daten vom GPS-Empf??nger werden an den eingetragenen Host an TCP-Port 23 weitergeleitet. Mit dem Programm HW Virtual Serial Port kann damit ein virtueller COM-Port eingerichtet werden
 7107=Position alle X Sekunden speichern (NMEA-LOG)
-7108=Fehler: Konnte folgenden seriellen Port nicht %d6ffnen:+
-7109=Fehler beim Ermitteln der verf%fcgbaren seriellen Ports%0a
-7110=GPS nicht gefunden%0a
-7111=Versuche+
-7112= mit+
-7113= - einige Daten empfangen%0a
-7114=GPS-Port gefunden%0a
-7115= - nicht als GPS-Daten erkannt%0a
-7116= - keine Daten empfangen%0a
+7108=Fehler: Konnte folgenden seriellen Port nicht ??ffnen:%20
+7109=Fehler beim Ermitteln der verf??gbaren seriellen Ports
+7110=GPS nicht gefunden
+7111=Versuche%20
+7112=mit%20
+7113=- einige Daten empfangen
+7114=GPS-Port gefunden
+7115=- nicht als GPS-Daten erkannt
+7116=- keine Daten empfangen
 7117=Anzeige der Daten direkt vom seriellen Port:
 7118=Stop
 7119=Stop
@@ -1074,15 +1074,15 @@
 7121=Daten per GPSD empfangen von
 7122=Die GPS-Daten werden per GPSD von einem anderen Server oder localhost empfangen (statt per seriellem Port)
 7200=Aufruf: CacheWolf [-c <Pfad zur Einstellungsdatei>] [-debug]
-        7300=Stra%dfe/POI
-        7301=Stadt
-        7302=Suchen
-        7303=Abbr.
-        7304=berlin, deutschland
-        7305=Hauptbahnhof
-        7306=suche...
-        7307=abgebrochen durch Nutzer
-        7308=Fehler bei der online Verbindung
+7300=Stra??e/POI
+7301=Stadt
+7302=Suchen
+7303=Abbr.
+7304=berlin, deutschland
+7305=Hauptbahnhof
+7306=suche...
+7307=abgebrochen durch Nutzer
+7308=Fehler bei der online Verbindung
 {..}
 {..}
 {..}

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,4 +1,4 @@
-{cachewolf.Languages}
+???{cachewolf.Languages}
 {LocalResources}
 {en}
 1=Custom
@@ -93,12 +93,12 @@
 161=Show Blacklist
 162=Download calibrated
 170=Select data directory
-171=Profile does not exist:+
-172=Error: cannot create maps directory:%0a
+171=Profile does not exist:%20
+172=Error: cannot create maps directory:
 173=GPSBabel:
 174=Short Names
 175=Import
-176=First start %0a Please choose a data directory %0a and create a new profile %0a%0a For experts only: %0a Could not read preferences file:%0a
+176=First start %0a Please choose a data directory %0a and create a new profile %0a%0a For experts only: %0a Could not read preferences file:
 177=-- not used any more--
 178=Version Check
 179=You are at%0athe current version.
@@ -131,8 +131,8 @@
 207=** unused **
 208=Rebuild index
 209=Rebuilding index
-210=Caches deleted:+
-211=%0aCaches added:+
+210=Caches deleted:%20
+211=Caches added:%20
 212=Delete all .xml files not in index.xml and associated pictures
 213=Deleting orphans
 214=New Waypoint
@@ -145,7 +145,7 @@
 221=Overwrite filter?
 222=This filter already exists. Overwrite it?
 223=Delete filter?
-224=+- Delete the saved filter?
+224=%20- Delete the saved filter?
 225=Also in logs
 226=Profile cannot be deleted.
 227=active profile cannot be deleted.
@@ -202,7 +202,7 @@
 321=Error
 322=Couldn't find image/map
 323=Fehler beim Schreiben der Datei
-324= - retry?
+324=- retry?
 325=Not enough reference points, map not calibrated
 326=
 327=Information
@@ -391,8 +391,8 @@
 1026=#Rec
 1027=OC-Idx
 1028=)?
-1029=There are waypoints that are ticked but invisible.%0a(Main caches:+
-1030=, additional Waypoints:+
+1029=There are waypoints that are ticked but invisible.%0a(Main caches:%20
+1030=, additional Waypoints:%20
 1031=Delete them, too?
 1032=Path to browser:
 1033=is incorrect!
@@ -473,16 +473,16 @@
 1503=North centered
 1504=Start GPS
 1505=Stop GPS
-1506=  Map
+1506=Map
 1507=Coordinates are out of range:
 1508=latitude
 1509=longitude
 1510=No data from GPS%0aConnection to serial port closed
-1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:%0a
+1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:
 1512=Waypoint
 1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination as center or in selected cache, or start GPS
 1514=Cannot recalculate distances, because the GPS position is not set
-1600=+Download
+1600=%20Download
 1601=max. Distance:
 1602=Download images
 1603=Download maps
@@ -499,14 +499,14 @@
 1614=Error while unzipping udpate file
 1615=Error parsing update file, state:
 1616=Error: could not download udpate file from opencaching.de
-1617=Ignoring error in html-Cache-Description: "<img" without "src=" in cache+
-1618=Ignoring error in Cache:+
-1619=: could not download image from URL:+
-1620=downloading embedded images:+
+1617=Ignoring error in html-Cache-Description: "<img" without "src=" in cache%20
+1618=Ignoring error in Cache:%20
+1619=: could not download image from URL:%20
+1620=downloading embedded images:%20
 1621=Error while interpreting data%0a from Opencaching.de,%0aThis is most probaly a bug at Opencaching.de%0aRetry later%0a Status:
 1622=Exclude found caches
 1623=Import upto:
-1624=+caches (empty=all)
+1624=%20caches (empty=all)
 1625=Download TBs
 1626=Max. save logs:
 1627=All caches
@@ -515,7 +515,7 @@
 1630=e.g. blank or N or N* or N,NE,E
 1631=Update upto:
 1700=Error on line:
-1701= position:
+1701=position:
 1702=Variable not defined:
 1703=Not a valid number:
 1704=Unexpected end of source
@@ -527,7 +527,7 @@
 1710=Cannot count empty string
 1711=Replacement characters strings must be of equal length
 1712=Invalid coordinate:
-1713=Invalid coordinate format. Allowed are cw / dd / dmm / dms /+
+1713=Invalid coordinate format. Allowed are cw / dd / dmm / dms /%20
 1714=Goto: Waypoint does not exist:
 1715=instr: Start position not in string
 1716=mid: Integer argument expected
@@ -573,12 +573,12 @@
 1813=Download one map for
 1814=Per cache
 1815=Downloading georeferenced maps
-1816=Downloading georeferenced maps%0a %0a %0a %0a %0a
+1816=Downloading georeferenced maps
 1817=No caches are ticked
 1818=getSortedMapServiceIndex: index
 1819=not found
 1820=Downloading map '
-1821=%0a for cache:%0a
+1821=for cache:
 1822=Cache:
 1823=Ignoring error:
 1824=downloading overview map
@@ -588,8 +588,8 @@
 1828='overlapping' must be greater or equal 0
 1829=Please enter the 'centre' around which the maps shall be downloaded
 1830=The selected online map service provides map in the scale from
-1831= to
-1832=%0a please adjust 'Approx. meter pro pixel' accordingly
+1831=to
+1832=please adjust 'Approx. meter pro pixel' accordingly
 1833=Please don't select the separetor line in the wms service option
 1834=Please enter the correct path to Kosmos.Console.exe into the wms-file.
 1835=Tilesize:
@@ -784,7 +784,7 @@
 2679=no Food nearby
 2680=Food nearby
 3000=Close
-4000=Loaded caches:+
+4000=Loaded caches:%20
 4001=GPX files from opencaching don't contain information of images, they cannot be loaded. Best you get caches from opencaching by menu /Application/Import/Download from Opencaching
 4100=choose directory:
 4101=Maps
@@ -798,34 +798,34 @@
 4109=Loading maps...
 4110=loading
 4111=Coordinates must be entered in the format N XX XX.XXX E XXX XX.XXX
-4112=IO-Error while copying image from:+
-4113=to:+
-4114=+error:+
-4115=Error: could not decode image:+
-4116=+-+image not copied
-4117=Error while importing .map-file:+
+4112=IO-Error while copying image from:%20
+4113=to:%20
+4114=%20error:%20
+4115=Error: could not decode image:%20
+4116=%20-%20image not copied
+4117=Error while importing .map-file:%20
 4118=IO-Error while reading or writing calibration file
-4119=No calibration file found for:+
+4119=No calibration file found for:%20
 4120=done.
 4200=Choose map directory
 4201=Information
 4203=Loading list of maps...
 4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches. %0a You can get one by the menu: Application/Maps/download calibrated
-4206=Dist:+
+4206=Dist:%20
 4207=Error
-4208=Bug: %0aillegal mapChangeModus:+
+4208=Bug: %0aillegal mapChangeModus:%20
 4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
-4211=No+
+4211=No%20
 4212=less
 4213=more
-4214=+detailed map available
+4214=%20detailed map available
 4215=No caches selected by a tick
 4216=Loading map...
-4217=Could not find image associated with: %0a
-4218=Could not load map: %0a
-4219=Not enough memory to load map: %0a
-4220=%0a You can try to close %0a all prgrams and %0a restart CacheWolf
-4221=Not enough ressources to load map:+
+4217=Could not find image associated with:
+4218=Could not load map:
+4219=Not enough memory to load map:
+4220=You can try to close %0a all prgrams and %0a restart CacheWolf
+4221=Not enough ressources to load map:%20
 4222=Out of memory error
 4230=Goto here$g
 4231=Goto here
@@ -884,75 +884,75 @@
 4294=zoom
 4295=center
 4296=detailing
-4300=empty 1 Pixel =+
-4301=+meters
-4302=Lat/Lon out of range while reading+
-4303=not enough lines in file+
+4300=empty 1 Pixel =%20
+4301=%20meters
+4302=Lat/Lon out of range while reading%20
+4303=not enough lines in file%20
 4304=not enough points to calibrate the map
-4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file %0a
+4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file
 4306=map not calibrated
 4400=Warning
-4401=Ignoring error:%0a could not forward GPS data to host:%0a
-4402=%0astop and start GPS to retry
+4401=Ignoring error:%0a could not forward GPS data to host:
+4402=stop and start GPS to retry
 4403=Error
-4404=Could not connect to GPS-receiver.%0a Error while opening serial Port%0a
-4405=%0apossible reasons:\n Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS"
+4404=Could not connect to GPS-receiver.%0a Error while opening serial Port
+4405=possible reasons:\n Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS"
 4406=Please copy jave_ewe.dll into the directory of the cachewolf program
 4407=The profile files are not in the current format.%0aTherefore they are now converted to the current format. Depending of the size of the profile and the computer involved this may take some minutes. Please bear with us until the conversion is done.
 4408=Could not connect to GPSD:
-4409=%0apossible reasons:%0aGPSD host is not reachable or GPSD is not running there
+4409=possible reasons:%0aGPSD host is not reachable or GPSD is not running there
 4500=Tot:
 4501=Vis:
 4502=Fnd:
 4600=Some cache(s) cannot be shown because of wrong blacklist status
-4700=Ignoring error while%0areading calibration file%0a
+4700=Ignoring error while%0areading calibration file
 4701=Searching for best map
 4702=Optimisation
 4703=Cachewolf can make loading maps much faster by adding an identification mark to the filename. Do you want me to do this now?%0aIt can take several minutes.
-4704=%0aRenaming file:
-4705=Failed to rename:%0a
-4706=%0ato:%0an
+4704=Renaming file:
+4705=Failed to rename:
+4706=to:%0an
 4707=I/O-Error while reading:
 4708=Error while reading:
-4709=Could not find image assiciated to:%0a
+4709=Could not find image assiciated to:
 4800=Loading online map services
-4801=Ignoring error while %0a reading web map service definition file %0a
+4801=Ignoring error while %0a reading web map service definition file
 4802=Downloading calibrated (georeferenced) %0a map image %0a '
 4803=' %0a Downloading tile %0a row
-4804= column
+4804=column
 4805=Tile
 4806=: Ignoring error:
 4807=loadTo: failed to download map: didn't get http-redirect
 4808=downloadImage: content-type:
-4809= is not an image, begin of content:
-4810=Error while downloading or saving map:%0a
+4809=is not an image, begin of content:
+4810=Error while downloading or saving map:
 4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
-4812=WebMapService: property >Name:< missing in file:%0a
-4813=WebMapService: property >MainUrl:< missing in file:%0a
+4812=WebMapService: property >Name:< missing in file:
+4813=WebMapService: property >MainUrl:< missing in file:
 4814=WebMapService: no CoordinateReferenceSystemCacheWolf given
-4815=Coordinate reference system not supported by CacheWolf:%0a
-4816=WebMapService: property >CoordinateReferenceSystemUrlPart:< missing in file:%0a
+4815=Coordinate reference system not supported by CacheWolf:
+4816=WebMapService: property >CoordinateReferenceSystemUrlPart:< missing in file:
 4817=Number of strings in CoordinateReferenceSystemUrlPart (
 4818=) must match the number of codes in CoordinateReferenceSystemCacheWolf (
 4819=) use normal space as separator
-4820=WebMapService: property >CoordinateReferenceSystemUrlPart:< incorrect in file:%0a
-4821=WebMapService: property >ImageFileExtension:< missing in file:%0a
+4820=WebMapService: property >CoordinateReferenceSystemUrlPart:< incorrect in file:
+4821=WebMapService: property >ImageFileExtension:< missing in file:
 4822=area:
-4823= not covered by service:
+4823=not covered by service:
 4824=, service area:
 4825=scale
-4826= not supported by online map service, supported scale range:
-4827= (measured in meters per pixel vertically)
+4826=not supported by online map service, supported scale range:
+4827=(measured in meters per pixel vertically)
 4828=Coordinate system not supported by Cachewolf:
 4829=getUrlForBoundingBox: Point:
-4830=No matching Gau%df-Kr%fcger-Stripe in the EPSG-code list in the .wms
+4830=No matching Gau??-Kr??ger-Stripe in the EPSG-code list in the .wms
 4831=getMapInfoObject: Coordinate system not supported by Cachewolf:
-4900=+is not a german Gauss-Krueger coordinate
-4920=EPSG code+
-4921=+not supported
-4922=EPSG code missing in:+
-4923=fromWgs84: EPSG code+
-4924=ToWgs84: EPSG code+
+4900=%20is not a german Gauss-Krueger coordinate
+4920=EPSG code%20
+4921=%20not supported
+4922=EPSG code missing in:%20
+4923=fromWgs84: EPSG code%20
+4924=ToWgs84: EPSG code%20
 5000=Load Cachelist
 5001=Can't spider additional waypoint directly.%0aPlease check main cache.
 5002=: At the moment, this function is only available for geocaching.com and opencaching.{cz,de,org.uk,pl}.
@@ -972,17 +972,17 @@
 5508=Logging in...
 5509=Coordinates for centre must be set
 5510=Spider Options
-5511=Found+
-5512=+new/update caches
-5513=Loading:+
-5514=%0aGetting bug:+
+5511=Found%20
+5512=%20new/update caches
+5513=Loading:%20
+5514=Getting bug:%20
 5515=Failed to load cache.%0aPlease check your internet connection.%0aRetry?
-5516=+cache descriptions%0acould not be loaded.
+5516=%20cache descriptions%0acould not be loaded.
 5517=Spider updates?
-5518=+caches in database need an update. Update now?
+5518=%20caches in database need an update. Update now?
 5519=Information
 5520=Only the given maximum of caches were loaded.%0aRepeat spidering later to load more caches.%0aNo already existing caches were updated.
-5521=Page+
+5521=Page%20
 5522=Check for older xml-Files ( without <CACHE... /> )?
 6000=Guid
 6001=Name
@@ -993,7 +993,7 @@
 6006=From Date
 6007=From Log
 6008=To Prof
-  6009=To Wpt
+6009=To Wpt
 6010=To Date
 6011=To Log
 6015=*** OTHER ***
@@ -1003,7 +1003,7 @@
 6019=Tracking number
 6020=Travelbug not found.
 6021=More than one travelbug found. Specify name more precisely.
-6022=: Current cache:+
+6022=: Current cache:%20
 6025=Name:
 6026=Tracking #:
 6027=Id/Guid:
@@ -1039,16 +1039,16 @@
 6125=Deneb in Cygnus
 6126=Mimosa in Southern Cross
 7000=Release:*
-7001=Release candidate:+
-7002=in development, stable:+
-7003=in development, newest:+
+7001=Release candidate:%20
+7002=in development, stable:%20
+7003=in development, newest:%20
 7010=up-to-date
 7011=Update available
 7012=not available
 7013=error
 7020=recommended version type
 7021=type of this version
-7022=this is:+
+7022=this is:%20
 7023=Error downloading current version information
 7100=Serial Port Options
 7101=Update Ports$u
@@ -1058,31 +1058,31 @@
 7105=Forward GPS data to host
 7106=All data from GPS will be sent to TCP-port 23%0a and can be redirected there to a serial port%0a by
 7107=Interval in sec for logging
-7108=Error: Failed to open serial port:+
-7109=Error: Could not get list of available serial ports%0a
-7110=GPS not found%0a
-7111=Trying+
-7112= at+
-7113= - got some data%0a
-7114=GPS Port found%0a
-7115= - No GPS data tag found%0a
-7116= - no data received%0a
-7117=Displaying data from serial port directly:%0a
+7108=Error: Failed to open serial port:%20
+7109=Error: Could not get list of available serial ports
+7110=GPS not found
+7111=Trying%20
+7112=at%20
+7113=- got some data
+7114=GPS Port found
+7115=- No GPS data tag found
+7116=- no data received
+7117=Displaying data from serial port directly:
 7118=Stop
 7119=Stop
 7120=Canceled
 7121=Receive GPS from gpsd host
 7122=GPS data will be received from a gpsd server, not from a serial port
 7200=Usage: CacheWolf [-c <path to pref.xml>] [-debug]
-        7300=Street/POI
-        7301=City
-        7302=Search
-        7303=Cancel
-        7304=new york, usa
-        7305=wallstreet
-        7306=searching...
-        7307=Canceled by user
-        7308=Could not connect
+7300=Street/POI
+7301=City
+7302=Search
+7303=Cancel
+7304=new york, usa
+7305=wallstreet
+7306=searching...
+7307=Canceled by user
+7308=Could not connect
 {..}
 {..}
 {..}

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,20 +1,20 @@
-{cachewolf.Languages}
+???{cachewolf.Languages}
 {LocalResources}
 {fr}
-1=personnalis%e9
+1=personnalis??
 2=traditionnel
 3=Multi
 4=virtuel
-5=bo%eete aux lettres
-6=%e9v%e9nement
+5=bo??te aux lettres
+6=??v??nement
 7=Quiz
-8=myst%e8re
+8=myst??re
 9=en mouvement
 10=conduire en
 11=Webcam
 12=Locationless
 13=CITO
-14=Mega %e9v%e9nement
+14=Mega ??v??nement
 15=WherIGo
 16=APE
 17=MAZE
@@ -27,7 +27,7 @@
 51=Addi: Stage
 52=Addi: Question
 53=Addi: Final
-54=Addi: Point de d%e9part
+54=Addi: Point de d??part
 55=Addi: Reference
 100=vers HTML
 101=vers GPX
@@ -37,13 +37,13 @@
 105=vers TomTom
 106=vers MS AutoRoute CSV
 107=Export
-108=Pr%e9f%e9rences
+108=Pr??f??rences
 109=Charger liste de caches
 110=Enregistrer & Quitter
 111=Quitter
 112=Chercher
 113=Enlever recherche
-114=Cr%e9er
+114=Cr??er
 115=Invertier
 116=Enlever
 117=Info
@@ -67,36 +67,36 @@
 135=vers SpoilerPOI
 136=to GPS : gpsbabel missing.
 137=de GC le long de la route
-138=de GC aper%e7u rapide
-139=G%e9rer Travelbugs
-140=G%e9rer
+138=de GC aper??u rapide
+139=G??rer Travelbugs
+140=G??rer
 141=Copier
-142=D%e9placer
+142=D??placer
 143=Effacer
 144=Avertissement
-145=Donn%e9es de TOUTES les waypoints AFFICH%c9ES seront effac%e9es. Continu%e9?
-146=Donn%e9es de TOUTES les waypoints AFFICH%c9ES seront copi%e9es. Continu%e9?
-147=Donn%e9es de TOUTES les waypoints AFFICH%c9ES seront d%e9plac%e9es. Continu%e9?
+145=Donn??es de TOUTES les waypoints AFFICH??ES seront effac??es. Continu???
+146=Donn??es de TOUTES les waypoints AFFICH??ES seront copi??es. Continu???
+147=Donn??es de TOUTES les waypoints AFFICH??ES seront d??plac??es. Continu???
 148=Choisir dossier
 149=Cartes
 150=Importer
 151=Calibrer
 152=Importation de la carte
-153=Importation de la carte r%e9ussi
+153=Importation de la carte r??ussi
 154=Erreur en important la carte!
 155=Legende
 156=Pas assez de memoire libre, carte trop grande!
-157=Syst%e8me
+157=Syst??me
 158=Verifier version
 159=Filtre
-160=Filtre les caches coch%e9es
+160=Filtre les caches coch??es
 161=Montre liste noire
-162=T%e9l%e9charger calibr%e9e
+162=T??l??charger calibr??e
 170=Choisir dossier de base pour les profiles
-171=Profile n'existe pas:+
-172=Ne peut pas cr%e9er dossier pour des cartes:%0a
+171=Profile n'existe pas:%20
+172=Ne peut pas cr??er dossier pour des cartes:
 173=GPSBabel:
-174=Abr%e9viation
+174=Abr??viation
 175=Import
 176=--frei geworden--
 177=--frei geworden--
@@ -117,11 +117,11 @@
 192=Enregistrer modifications
 193=Ajouter waypoints additionelles
 195=Centre actuel
-196=# Caches en tout (GC&OC)%0a# visible%0a# trouv%e9es
+196=# Caches en tout (GC&OC)%0a# visible%0a# trouv??es
 197=Afficher/dissimuler tour de cache
 198=Tour de cache
 199=Ajouter au tour de cache
-200=D%e9tails
+200=D??tails
 201=Description
 202=Images
 203=Ind. & Logs
@@ -129,23 +129,23 @@
 205=Radar
 206=Liste
 207=** liberte **
-208=R%e9cr%e9er index
-209=R%e9cr%e9er index
-210=Caches supprim%e9s:+
-211=%0aCaches ajout%e9:+
+208=R??cr??er index
+209=R??cr??er index
+210=Caches supprim??s:%20
+211=Caches ajout??:%20
 212=Effacer toutes les fichier .xml (et images) qui ne sont pas en index.xml
 213=Effacer les fichier .xml orpheline
 214=Nouveau waypoint
-215=%e0 LOC
+215=?? LOC
 216=Toujours connecter
 217=de GC trouvailles
 218=Aussi dans description/notes
 219=Cherchant...
-220=V%e9rifier notes et resoudeur
-221=%c9craser filtre?
-222=Ce filtre existe d%e9j%e0. %c9craser-le?
+220=V??rifier notes et resoudeur
+221=??craser filtre?
+222=Ce filtre existe d??j??. ??craser-le?
 223=Effacer filtre?
-224=+- Effacer ce filtre enregistr%e9?
+224=%20- Effacer ce filtre enregistr???
 225=Aussi dans logs
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -176,13 +176,13 @@
 272=[CacheWolf version:]
 273=[filter on/off]
 274=aucun tri automatique
-275=Le waypoint existe d%6aj%e0!%0aLe waypoint le renommer avant de quitter les d%e9tails s'il vous pla%eet!
+275=Le waypoint existe djj??!%0aLe waypoint le renommer avant de quitter les d??tails s'il vous pla??t!
 299=Expression rationnelle
 300=Type:
 301=Gabarit:
 302=Waypoint:
 303=Nom:
-304=Coordonn%e9es:
+304=Coordonn??es:
 305=Cache le:
 306=Detenteur:
 307=Statut:
@@ -192,29 +192,29 @@
 311=Nouveau waypoint
 312=Enregistrer
 313=marqueur 1
-314=%c9crire note
-315=Besoins archiv%e9es
+314=??crire note
+315=Besoins archiv??es
 316=Besoins d'entretien
 317=Chercher
-318=Trouv%e9e
-319=Pas trouv%e9e
+318=Trouv??e
+319=Pas trouv??e
 320=Detenteur
 321=Erreur
 322=Ne peut pas charger image/carte
 323=Erreur en enregistrant le fichier
-324= - essayer encore une fois?
-325=Pas assez de points de r%e9f%e9rence, ne peut pas calibrer la carte
+324=- essayer encore une fois?
+325=Pas assez de points de r??f??rence, ne peut pas calibrer la carte
 326=
 327=Information
-328=Trouv%e9e le
-329=Cach%e9e le
-330=pas trouv%e9e le
+328=Trouv??e le
+329=Cach??e le
+330=pas trouv??e le
 340=Images de cache:
 341=Propre images:
-342=Effac%e9
-343=Pas assez de m%e9moire pour charger image
+342=Effac??
+343=Pas assez de m??moire pour charger image
 344=Effacer fichier
-345=Allez vers ces coordonn%e9es
+345=Allez vers ces coordonn??es
 346=Afficher Travelbugs
 347=Afficher carte
 348=Ajouter propre images
@@ -223,21 +223,21 @@
 351=Ajouter/changer notes
 353=
 354=Participera
-355=Assist%e9
-356=D%e9sactiver temporairement Listing
+355=Assist??
+356=D??sactiver temporairement Listing
 357=Activer Listing
-358=Post Note du v%e9rificateur
+358=Post Note du v??rificateur
 359=Detenteur d'entretien
 360=marqueur 2
 361=Webcam Photo Taken
 362=solved
-400=D%e9coder
+400=D??coder
 401=encoder
 500=Changer
-588=Syst%e8me de mesure
-589=M%e9trique (km)
-590=Imp%e9rial (milles)
-591=Vide pour langue de syst%e8me d'exploitation%0aou deux aract%e8res pour autre langure, p.ex. DE, EN
+588=Syst??me de mesure
+589=M??trique (km)
+590=Imp??rial (milles)
+591=Vide pour langue de syst??me d'exploitation%0aou deux aract??res pour autre langure, p.ex. DE, EN
 592=Langue (faut redemarrer)
 593=Le mot de passe est optionel ici.%0aL'entrer seulement s'il doit enregistrer en fichier pref.xml
 594=Mot de passe
@@ -245,18 +245,18 @@
 596=Nom
 597=Waypoint
 598=Type
-599=Liste d%e9roulante
-600=Pr%e9f%e9rences
+599=Liste d??roulante
+600=Pr??f??rences
 601=Votre pseudo:
-602=Coordonn%e9es maison:
+602=Coordonn??es maison:
 603=Dossier pour profiles
 604=Chercher
 605=Colonnes de table:
-606=Difficult%e9
+606=Difficult??
 607=Terrain
-608=Coordonn%e9es
-609=D%e9tenteur
-610=Cach%e9e le
+608=Coordonn??es
+609=D??tenteur
+610=Cach??e le
 611=Statut
 612=Distance
 613=Direction
@@ -267,10 +267,10 @@
 618=Copier
 619=Analyser
 620=Enregistrer
-621=G%e9n%e9ral
+621=G??n??ral
 622=Affichage
 623=Images:
-624=Afficher images effac%e9es
+624=Afficher images effac??es
 625=Affichage (faut redemmarrer):
 626=Menu en haut
 627=Onglet en haut
@@ -297,17 +297,17 @@
 648=[Debug Mode]
 649=[use own symbols]
 650=GC memberID:
-700=Cr%e9er filtre
+700=Cr??er filtre
 701=Distance
-702=Dificult%e9
-703=Trouv%e9e
-704=Pas trouv%e9e
+702=Dificult??
+703=Trouv??e
+704=Pas trouv??e
 705=dans les
-706=Trouv%e9e
-707=D%e9tenteur
+706=Trouv??e
+707=D??tenteur
 708=Annuler
 709=Appliquer
-710=Archiv%e9e
+710=Archiv??e
 711=Pas trouvable
 712=Choisir fichier Route
 713=Enregistrer fitre
@@ -315,68 +315,68 @@
 715=Affiche caches avec statut:
 716=Decocher toutes
 717=Cocher toutes
-718=%c9valuations des caches
+718=??valuations des caches
 719=Types
 720=Statuts
 721=Direction
-722=%c9valuation
+722=??valuation
 723=Types
-724=R%e9cipient
+724=R??cipient
 725=Indication: Filtres sont additive, aktive=vert
 726=Waypoints supplementaires
-727=R%e9cipient
+727=R??cipient
 728=Waypt. suppl.
-729=Pas archiv%e9e
+729=Pas archiv??e
 730=Trouvable
-731=Pas encore trouv%e9e
-732=Autre d%e9tenteur
+731=Pas encore trouv??e
+732=Autre d??tenteur
 733=Wpt addition.
-734=Pas trouv%e9e wpt pricipal pour
-735=Les waypoints additionels doivent avoir le format xxYYYY, xx %e9tant des caract%e8res quelconque et YYYY les caract%e8res du cache pricipal apr%e8s le GC
-736=Trop de logs (Changes Maximum dans les pr%e9f%e9rences)
+734=Pas trouv??e wpt pricipal pour
+735=Les waypoints additionels doivent avoir le format xxYYYY, xx ??tant des caract??res quelconque et YYYY les caract??res du cache pricipal apr??s le GC
+736=Trop de logs (Changes Maximum dans les pr??f??rences)
 737=Attribut cache
 738=Attributs
 739=Filtrer avec
 740=Toutes
 741=Un
 742=Aucun
-743=Sans coordonn%e9es
+743=Sans coordonn??es
 800=Etablir liste
 801=cherche...
-802=Caches identifi%e9. Continue recherche...
+802=Caches identifi??. Continue recherche...
 803=Fini!
-804=Collectioner d%e9tails de la cache
-805=Chercher d%e9tails pour:
+804=Collectioner d??tails de la cache
+805=Chercher d??tails pour:
 900=Liste
 901=Loc
 902=Rayon
 903=Annulation
 904=Multi
-905=Charger donn%e9es de la cache
+905=Charger donn??es de la cache
 906=Liste des caches:
 907=Distance maximum:
 908=Choisir fichier du waypoint:
 909=Choisir fichier(s)
-910=Choisier fichier mod%e8le
-950=Transf%e8r
-951=T%e9l%e9charger vers GPS
+910=Choisier fichier mod??le
+950=Transf??r
+951=T??l??charger vers GPS
 952=Transformer ...
-999=Pas donn%e9
+999=Pas donn??
 1000=D
 1001=T
 1002=Waypoint
 1003=Nom
-1004=Coordonn%e9es
+1004=Coordonn??es
 1005=Detenteur
-1006=Cach%e9e le
+1006=Cach??e le
 1007=Statut
 1008=Dist
 1009=Dir
 1010=Allez vers cache
-1011=Filtrer les non-coch%e9e
-1012=Effacer les coch%e9es
+1011=Filtrer les non-coch??e
+1012=Effacer les coch??es
 1013=Selection
-1014=Mettre %e0 jour les coch%e9es
+1014=Mettre ?? jour les coch??es
 1015=Cocher toutes
 1016=Decocher toutes
 1017=G
@@ -384,22 +384,22 @@
 1019=Choisir pout centre
 1020=Ouvrir en navigateur en ligne
 1021=Ouvrir description
-1022=Effacer toutes les waypoints coch%e9es (
-1023=Cette fonction n'est momentan%e9ment disponible que pour Geocaching.com
-1024=Distances recalcul%e9
+1022=Effacer toutes les waypoints coch??es (
+1023=Cette fonction n'est momentan??ment disponible que pour Geocaching.com
+1024=Distances recalcul??
 1025=Ne peut pas actualiser centre. (Position GPS pas valide)
 1026=#Rec
 1027=OC-Idx
 1028=) ?
-1029=Il y a des waypoints coch%e9e mais pas visible.%0a(Caches:+
-1030=, waypoints additionel:+
+1029=Il y a des waypoints coch??e mais pas visible.%0a(Caches:%20
+1030=, waypoints additionel:%20
 1031=Effacer ceux-ci aussi?
 1032=Chemin au navigateur:
 1033=n'est pas correct!
 1034=Ne peut pas ouvrir le navigateur!
 1035=Cause possible:
 1036=Un bogue dans le Ewe-VM
-1037=Merci de patientier pour un mise %e0 jour
+1037=Merci de patientier pour un mise ?? jour
 1038=R
 1039=Resoudeur existe
 1040=N
@@ -412,22 +412,22 @@
 1047=A
 1048=# DNF logs
 1049=DNF
-1050=Mis %e0 jour
-1051=Date de mettre %e0 jour
+1050=Mis ?? jour
+1051=Date de mettre ?? jour
 1052=[Log online in Browser]
 1053=[Open in Google maps online]
 1054=Ticked change blacklist
 1100=Profils
 1105=Chercher
-1106=Choiser profil ou cr%e9er-un
-1107=Cr%e9er
+1106=Choiser profil ou cr??er-un
+1107=Cr??er
 1108=Choisir profil
 1109=Charger
 1110=Centre
-1111=Cr%e9er nouveau profil
+1111=Cr??er nouveau profil
 1112=Nom de profil
-1113=Ne peut pas cr%e9er dossier (Ne peut pas contenir un caract%e8re interdit par le syst%e8me d'exploitation)
-1114=Dossier existe d%e9j%e0
+1113=Ne peut pas cr??er dossier (Ne peut pas contenir un caract??re interdit par le syst??me d'exploitation)
+1114=Dossier existe d??j??
 1115=Centre
 1116=Actuel
 1117=copier
@@ -435,13 +435,13 @@
 1119=Vieux Profils
 1120=Diff.
 1121=Terrain
-1122='maps' est r%e9serv%e9 pour le dossier des cartes.
+1122='maps' est r??serv?? pour le dossier des cartes.
 1123=Pour fixer le centre de ce profil, cliquer "Continuer"
 1124=Continuer
 1125=[Delete]
 1126=[Rename]
 1200=Liste
-1201=D%e9tails
+1201=D??tails
 1202=Description
 1203=Images
 1204=Ind. & Logs
@@ -449,147 +449,147 @@
 1206=Ordinateur
 1207=Sauvegarder les changements dans le profil?
 1208=ratings from GCVote
-1300=Dernier param%e8tage
+1300=Dernier param??tage
 1301=Choisir profil:
 1400=Zone
 1401=Nord
 1402=Est
 1403=Direction
 1404=Trajet
-1405=Charger coordonn%e9es de GC: Entrer GCxxxxx ci-dessous
-1406=Coordonn%e9es en format au choix ou GCxxxx
+1405=Charger coordonn??es de GC: Entrer GCxxxxx ci-dessous
+1406=Coordonn??es en format au choix ou GCxxxx
 1407=Pas
 1408=Pieds
 1409=Yards
 1410=Mille
-1411=Entrez coordonn%e9es valides, svp.
-1412=Coordonn%e9es pas valides. Prendre-les quand-m%eame ?
+1411=Entrez coordonn??es valides, svp.
+1412=Coordonn??es pas valides. Prendre-les quand-m??me ?
 1413=Effacer
 1414=Recherche
 1415=Palier
 1500=Destination:
 1501=Actuel
-1502=Degr%e9
+1502=Degr??
 1503=Orientation septentrional
-1504=D%e9marrer GPS
+1504=D??marrer GPS
 1505=Stop GPS
-1506= Carte
-1507=Coordonn%e9es pas valides:
+1506=Carte
+1507=Coordonn??es pas valides:
 1508=Latitude
 1509=Longitude
-1510=Pas de donn%e9es par le GPS%0aFermer connexion avec port seriel.
-1511=Ne peut pas interpr%e9ter les donn%e9es du GPS%0aCauses possibles:%0aMauvais Port,%0amauvais baud,%0apas de protocole NMEA%0aConnexion ferm%e9e%0aDerni%e8re cha%eene de lettres:%0a
+1510=Pas de donn??es par le GPS%0aFermer connexion avec port seriel.
+1511=Ne peut pas interpr??ter les donn??es du GPS%0aCauses possibles:%0aMauvais Port,%0amauvais baud,%0apas de protocole NMEA%0aConnexion ferm??e%0aDerni??re cha??ne de lettres:
 1512=Waypoint
-1513=Ne peut pas afficher carte sans coordonn%e9es valides - Merci d'entrer coordonn%e9es comme destination, centre ou dans le cache choisi et d%e9marrer GPS
-1514=Impossible de recalculer les distances, parce que la position GPS n'est pas d%e5fini
-1600=+T%e9l%e9chargement
+1513=Ne peut pas afficher carte sans coordonn??es valides - Merci d'entrer coordonn??es comme destination, centre ou dans le cache choisi et d??marrer GPS
+1514=Impossible de recalculer les distances, parce que la position GPS n'est pas d??fini
+1600=%20T??l??chargement
 1601=max. Distance:
-1602=T%e9l%e9charger images
-1603=T%e9l%e9charger cartes
+1602=T??l??charger images
+1603=T??l??charger cartes
 1604=Annuler
 1605=OK
 1606=OC recharger tous
-1607=Mise %e0 jour par opencaching r%e9ussi
-1608=T%e9l%e9chargant donn%e9es par opencaching...
+1607=Mise ?? jour par opencaching r??ussi
+1608=T??l??chargant donn??es par opencaching...
 1609=Importe Cache:
-1610=T%e9l%e9charge la carte manquante
+1610=T??l??charge la carte manquante
 1611=Importe description:
 1612=Importe Log:
 1613=Importe Image:
-1614=Erreur en decompactant le fichier mise %e0 jour
-1615=Erreur en decompactant le fichier mise %e0 jour. Statut:
-1616=Erreur: N'a pas pu t%e9l%e9charger le fichier mise %e0 jour d'opencaching.de
-1617=Ignore erreur en fichier HTML codage de la cache: "<img" sans "src=" en cache+
-1618=Ignore erreur en cache:+
-1619=: n'a pas pu t%e9l%e9charger l'image d'URL suivante:+
-1620=t%e9l%e9chargement d'image integr%e8e:+
-1621=Erreur d'interpretation du fichier mise %e0 jour.%0aC'est probablement un erreur d'opencaching.de%0aEssayez encore une fois plus tard.%0a Statut:
-1622=Pas t%e9l%e9charger caches trouv%e9es
-1623=Max Quantit%e9:
-1624=+ caches
+1614=Erreur en decompactant le fichier mise ?? jour
+1615=Erreur en decompactant le fichier mise ?? jour. Statut:
+1616=Erreur: N'a pas pu t??l??charger le fichier mise ?? jour d'opencaching.de
+1617=Ignore erreur en fichier HTML codage de la cache: "<img" sans "src=" en cache%20
+1618=Ignore erreur en cache:%20
+1619=: n'a pas pu t??l??charger l'image d'URL suivante:%20
+1620=t??l??chargement d'image integr??e:%20
+1621=Erreur d'interpretation du fichier mise ?? jour.%0aC'est probablement un erreur d'opencaching.de%0aEssayez encore une fois plus tard.%0a Statut:
+1622=Pas t??l??charger caches trouv??es
+1623=Max Quantit??:
+1624=%20 caches
 1625=Importe TBs
-1626=Max Activit%e9:
+1626=Max Activit??:
 1627=Tous les caches
 1628=min. Distance:
 1629=Direction (vide/N/N*/N,NE,E):
 1630=par exemple nulle ou N ou N* ou N,NE,E
-1631=max. Mises %e0 jour:
+1631=max. Mises ?? jour:
 1700=Erreur en lingne:
 1701=Colonne:
-1702=Variable pas d%e9fini:
+1702=Variable pas d??fini:
 1703=Pas de nombre valide:
 1704=Fin de logiciel pas attendue
 1705=ENDIF manquant
 1706=Attendu:
-1707=Trouv%e9:
+1707=Trouv??:
 1708=Nom de fonction pas unique:
 1709=Fonction inconnue:
-1710=Ne peut pas compter cha%eene de caract%e8res vide
-1711=Cha%eenes de caract%e8res de remplacement doivent avoir la m%eame longuer
-1712=Coordonn%e9e invalide:
-1713=Format de coordonn%e9es pas valide. Faut avoir cw / dd / dmm / dms /+
+1710=Ne peut pas compter cha??ne de caract??res vide
+1711=Cha??nes de caract??res de remplacement doivent avoir la m??me longuer
+1712=Coordonn??e invalide:
+1713=Format de coordonn??es pas valide. Faut avoir cw / dd / dmm / dms /%20
 1714=Goto: Waypoint n'existe pas:
-1715=instr: Position de d%e9part pas en cha%eene de caract%e8re
-1716=mid: Attendu param%e8tre en nombre entier
-1717=mid: Param%e8tre hors domaine valide
+1715=instr: Position de d??part pas en cha??ne de caract??re
+1716=mid: Attendu param??tre en nombre entier
+1717=mid: Param??tre hors domaine valide
 1718=Ne peut pas projeter une distance negative
-1719=Angle doit %eatre dans la domaine [0;360]
+1719=Angle doit ??tre dans la domaine [0;360]
 1720=Ne peut pas extraire la racine d'un nombre negativ
 1723=Attendu un operateur de comparaison
 1724=Variable n'a pas de valeur:
-1725=Caract%e8re(s) inattendu(s):
+1725=Caract??re(s) inattendu(s):
 1726=Trop d'argument pour fonction
 1727=Fonction a mauvais nombre d'arguments
-1728=Fonction pas encore realis%e9e:
+1728=Fonction pas encore realis??e:
 1729=Division par 0
-1730=" manquant %e0 la fin de la cha%eene de caract%e8res
-1731=Caract%e8re de format pas valide
-1732=Caract%e8re pas permis
+1730=" manquant ?? la fin de la cha??ne de caract??res
+1731=Caract??re de format pas valide
+1732=Caract??re pas permis
 1733=Commande
 1734=Effacer la domaine de sortie
 1735=Calcule!
 1736=Charger
 1737=Enregistrer
 1738=Enregistrer sous
-1739=degr%e9s de projection doit %eatre dans l'intervalle [0;2*PI]
-1740=degr%e9s Crossbearing doit %eatre dans l'intervalle [0;360]
-1741=degr%e9s Crossbearing doit %eatre dans l'intervalle [0,2*PI]
+1739=degr??s de projection doit ??tre dans l'intervalle [0;2*PI]
+1740=degr??s Crossbearing doit ??tre dans l'intervalle [0;360]
+1741=degr??s Crossbearing doit ??tre dans l'intervalle [0,2*PI]
 1742=Crossbearing: la distance entre les points est trop petit
-1743=calcul Crossbearing %e9chou%e9. S'il vous pla%eet informer les d%e9veloppeurs %e0 geoclub.de
-1744=rep%e9rage avec des angles identiques portant pas possible
-1800=T%e9l%e9charger des cartes g%e9o-r%e9f%e9renc%e9e
-1801=T%e9l%e9charger pages
-1802=T%e9l%e9chargement des cartes g%e9o-r%e9f%e9renc%e9e%0aChoissisez service en ligne:
+1743=calcul Crossbearing ??chou??. S'il vous pla??t informer les d??veloppeurs ?? geoclub.de
+1744=rep??rage avec des angles identiques portant pas possible
+1800=T??l??charger des cartes g??o-r??f??renc??e
+1801=T??l??charger pages
+1802=T??l??chargement des cartes g??o-r??f??renc??e%0aChoissisez service en ligne:
 1803=pour
 1804=toutes
-1805=coch%e9es
+1805=coch??es
 1806=Caches
 1807=Ca. m par pixel:
 1808=Chevauchement en pixel:
-1809=T%e9l%e9charge carte synoptique
+1809=T??l??charge carte synoptique
 1810=Dans un cadre de:
 1811=avec le centre:
 1812=Pages
-1813=T%e9l%e9charge carte pour
+1813=T??l??charge carte pour
 1814=Par cache
-1815=T%e9l%e9charge cartes g%e9o-r%e9f%e9renc%e9es
-1816=T%e9l%e9charge cartes g%e9o-r%e9f%e9renc%e9es%0a %0a %0a %0a %0a
-1817=Pas de caches coch%e9es
+1815=T??l??charge cartes g??o-r??f??renc??es
+1816=T??l??charge cartes g??o-r??f??renc??es
+1817=Pas de caches coch??es
 1818=getSortedMapServiceIndex: Index
-1819=pas trouv%e9
-1820=T%e9l%e9charge carte '
-1821=%0a pour cache:%0a
+1819=pas trouv??
+1820=T??l??charge carte '
+1821=pour cache:
 1822=Cache:
 1823=Ignore erreur:
-1824=T%e9l%e9charge carte synoptique
+1824=T??l??charge carte synoptique
 1825=Carte synoptique: Ignore erreurs:
 1826=Charger et calibrer des cartes fini
-1827='Radius' doit %eatre plus grand que zero
-1828='Chevauchement' ne doit pas %eatre moins que zero
-1829=Entrez un 'centre' autour duquel les cartes seront charg%e9es.
-1830=Le service de cartes choisi offre cartes en %e9chelle de
-1831= %e0
-1832=%0a Adaptez 'Ca. m par pixel' respectivement, svp.
+1827='Radius' doit ??tre plus grand que zero
+1828='Chevauchement' ne doit pas ??tre moins que zero
+1829=Entrez un 'centre' autour duquel les cartes seront charg??es.
+1830=Le service de cartes choisi offre cartes en ??chelle de
+1831=??
+1832=Adaptez 'Ca. m par pixel' respectivement, svp.
 1833=[Please don't select the separetor line in the wms service option]
 1834=[Please enter the correct path to Kosmos.Console.exe into the wms-file.]
 1835=[Tilesize:]
@@ -606,15 +606,15 @@
 2501=Pas toujours accessible
 2502=Toujours accessible (24/7)
 2503=Pas de bicyclettes
-2504=Bicyclettes autoris%e9es
+2504=Bicyclettes autoris??es
 2505=*boat-no
 2506=*boat-yes
 2507=*cactus-no
 2508=*cactus-yes
 2509=Pas de feux de bivouac
-2510=Feux de bivouacs autoris%e9s
+2510=Feux de bivouacs autoris??s
 2511=Pas de camping
-2512=Camping autoris%e9
+2512=Camping autoris??
 2513=*cliff-no
 2514=Danger: chute de pierres
 2515=Pas d'escalade difficile
@@ -622,27 +622,27 @@
 2517=*compass-no
 2518=*compass-yes
 2519=*cow-no
-2520=Attention b%e9tail de p%e2turage
+2520=Attention b??tail de p??turage
 2521=*danger-no
 2522=Region dangereuse
 2523=Pas de chiens
-2524=Chiens autoris%e9s
+2524=Chiens autoris??s
 2525=*fee-no
 2526=Payante
 2527=*hiking-no
-2528=Randonn%e9e fatiguante
+2528=Randonn??e fatiguante
 2529=Pas de chevaux
-2530=Chavaux autoris%e9s
+2530=Chavaux autoris??s
 2531=*hunting-no
 2532=Region de chasse
-2533=Pas de v%e9hicules tout terrain
-2534=V%e9hicules tout terrain autoris%e9es
+2533=Pas de v??hicules tout terrain
+2534=V??hicules tout terrain autoris??es
 2535=Pas d'enfants
 2536=Aimable avec les enfants
 2537=*mine-no
 2538=*mine-yes
 2539=Pas de motos
-2540=Motos autoris%e9s
+2540=Motos autoris??s
 2541=Pas pendant la nuit
 2542=Possible pendant la nuit
 2543=Met plus d'une heure
@@ -650,7 +650,7 @@
 2545=*parking-no
 2546=Parking disponible
 2547=*phone-no
-2548=T%e9l%e9phone disponible
+2548=T??l??phone disponible
 2549=*picnic-no
 2550=Table de pique-nique disponible
 2551=*poisonoak-no
@@ -658,9 +658,9 @@
 2553=*public-no
 2554=Transports publiques disponible
 2555=Pas de quads
-2556=Quads autoris%e9s
+2556=Quads autoris??s
 2557=*rappelling-no
-2558=Equipment d'escalade n%e9cessaire
+2558=Equipment d'escalade n??cessaire
 2559=*restrooms-no
 2560=Toilettes disponibles
 2561=*scenic-no
@@ -671,199 +671,199 @@
 2566=*snakes-yes
 2567=Pas de motoneiges
 2568=*snowmobiles-yes
-2569=Caract%e8re secret pas n%e9cessaire
-2570=Caract%e8re secret n%e9cessaire
-2571=Pas appropri%e9 pour poussettes
-2572=Appropri%e9 pour poussettes
+2569=Caract??re secret pas n??cessaire
+2570=Caract??re secret n??cessaire
+2571=Pas appropri?? pour poussettes
+2572=Appropri?? pour poussettes
 2573=*swimming-no
 2574=*swimming-yes
 2575=*thorn-no
-2576=%c9pines!
+2576=??pines!
 2577=*ticks-no
 2578=Tiques!
 2579=*wading-no
 2580=Patauger possible
 2581=*water-no
 2582=Eau potable disponible
-2583=Pas appropri%e9 pour chaises roulantes
-2584=Appropri%e9 pour chaises roulantes
+2583=Pas appropri?? pour chaises roulantes
+2584=Appropri?? pour chaises roulantes
 2585=Pas disponible en hiver
 2586=Disponible en hiver
-2587=GC:Entretien de la cache pas n%e9cessaire OC:No first aid there
-2588=GC:Entretien de la cache n%e9cessaire OC:first aid there
-2589=pas de lampe de poche n%e9cessaire
-2590=Lampe de poche n%e9cessaire
-2591=pas d'avions n%e9cessaire
-2592=avions n%e9cessaire
+2587=GC:Entretien de la cache pas n??cessaire OC:No first aid there
+2588=GC:Entretien de la cache n??cessaire OC:first aid there
+2589=pas de lampe de poche n??cessaire
+2590=Lampe de poche n??cessaire
+2591=pas d'avions n??cessaire
+2592=avions n??cessaire
 2593=animaux pas de poison / dangereux
 2594=dangereux poison / animaux
-2595=pas de probl%e8me d'arithm%e9tique
-2596=probl%e8me arithm%e9tique
-2597=Pas d'infos suppl%e9mentaires
-2598=demander au propri%e9taire d'infos
+2595=pas de probl??me d'arithm??tique
+2596=probl??me arithm??tique
+2597=Pas d'infos suppl??mentaires
+2598=demander au propri??taire d'infos
 2599=pas de disque dans
-2600=est pr%e8s de voiture (drive in)
+2600=est pr??s de voiture (drive in)
 2601=pas de cave
 2602=grotte Utilities
-2603=ann%e9es pas entier
-2604=ann%e9e enti%e8re
+2603=ann??es pas entier
+2604=ann??e enti??re
 2605=pas du jour
-2606=uniquement pendant la journ%e9e
-2607=pas dans des pi%e8ces ferm%e9es
-2608=dans des locaux ferm%e9s
-2609=pas de place int%e9ressante
-2610=place int%e9ressant
-2611=pas de bo%eete aux lettres (pas de tampon n%e9cessaire)
-2612=letterbox (timbre n%e9cessaire)
+2606=uniquement pendant la journ??e
+2607=pas dans des pi??ces ferm??es
+2608=dans des locaux ferm??s
+2609=pas de place int??ressante
+2610=place int??ressant
+2611=pas de bo??te aux lettres (pas de tampon n??cessaire)
+2612=letterbox (timbre n??cessaire)
 2613=cible fixe
 2614=Moving Target
 2615=pas de saison de reproduction / conservation
 2616=saison de reproduction / conservation
-2617=GPS n%e9cessaires
+2617=GPS n??cessaires
 2618=pas besoin de GPS
-2619=non seulement r%e9pertori%e9s au Opencaching
-2620=uniquement r%e9pertori%e9s au Opencaching
+2619=non seulement r??pertori??s au Opencaching
+2620=uniquement r??pertori??s au Opencaching
 2621=cache normal
-2622=type particulier de m%e9moire cache
-2623=pas de s%e9jour n%e9cessaire
-2624=s%e9jour n%e9cessaire
-2625 =
-2626 =
-2627 =
-2628 =
+2622=type particulier de m??moire cache
+2623=pas de s??jour n??cessaire
+2624=s??jour n??cessaire
+2625=
+2626=
+2627=
+2628=
 2629=pas de devinette
-2630=%e9nigme
-2631 =
-2632 =
+2630=??nigme
+2631=
+2632=
 2633=terrain plat
 2634=Les terrains montagneux
 2635=pas dans l'eau
 2636=dans l'eau
-2637=mar%e9es ind%e9pendante
-2638=mar%e9es %e0 charge
-2639=pas li%e9e %e0 des moments pr%e9cis
-2640=li%e9e %e0 des moments pr%e9cis
-2641=pas d'%e9quipement sp%e9cial n%e9cessaire
-2642=%e9quipements sp%e9ciaux n%e9cessaires
-2643=pas de ligne de chemin de fer de pr%e8s
-2644=ligne de chemin de fer de pr%e8s
+2637=mar??es ind??pendante
+2638=mar??es ?? charge
+2639=pas li??e ?? des moments pr??cis
+2640=li??e ?? des moments pr??cis
+2641=pas d'??quipement sp??cial n??cessaire
+2642=??quipements sp??ciaux n??cessaires
+2643=pas de ligne de chemin de fer de pr??s
+2644=ligne de chemin de fer de pr??s
 2645=sans webcam
-2646=webcam %e0 la cible
-2647=no investigations n%e9cessaires
-2648=enqu%eates n%e9cessaires
+2646=webcam ?? la cible
+2647=no investigations n??cessaires
+2648=enqu??tes n??cessaires
 2649=pas de lien avec GC, ...
-2650=hyperlink %e0 GC, ...
+2650=hyperlink ?? GC, ...
 2651=no lost and found tour
 2652=lost and found tour
 2653=no truck driver/RV
 2654=truck driver/RV
 2655=no field puzzle
 2656=field puzzle
-2657=pas de lumi%e8re UV n%e9cessaire
-2658=UV n%e9cessaire
+2657=pas de lumi??re UV n??cessaire
+2658=UV n??cessaire
 2659=pas de raquettes
 2660=Raquettes
 2661=Pas de Cross Country Ski
 2662=ski de fond
-2663=Pas outil sp%e9cial requis
-2664=outil sp%e9cial requis
+2663=Pas outil sp??cial requis
+2664=outil sp??cial requis
 2665=pas de cache de nuit
 2666=Cache Night
 2667=Pas de parc et de saisir
 2668=Park et saisir
-2669=structure pas abandonn%e9s
+2669=structure pas abandonn??s
 2670=Abandon structure
-2671=Pas de hausse %e0 court
-2672=Short randonn%e9e
-2673=aucune hausse %e0 moyen
-2674=moyenne randonn%e9e
-2675=Pas de longue randonn%e9e
-2676=Long Randonn%e9e
-2677=Pas de carburant %e0 proximit%e9
-2678=carburant %e0 proximit%e9
-2679=pas de nourriture %e0 proximit%e9
-2680=la nourriture %e0 proximit%e9
+2671=Pas de hausse ?? court
+2672=Short randonn??e
+2673=aucune hausse ?? moyen
+2674=moyenne randonn??e
+2675=Pas de longue randonn??e
+2676=Long Randonn??e
+2677=Pas de carburant ?? proximit??
+2678=carburant ?? proximit??
+2679=pas de nourriture ?? proximit??
+2680=la nourriture ?? proximit??
 3000=Fermer
-4000=Caches charg%e9es:
-4001=GPX fichiers %e0 partir Opencaching ne contiennent pas d'informations d'images, ils ne peuvent pas %eatre charg%e9. Pour le meilleur vous obtenez des caches de Opencaching par le menu /Application/importation/Download from Opencaching
+4000=Caches charg??es:
+4001=GPX fichiers ?? partir Opencaching ne contiennent pas d'informations d'images, ils ne peuvent pas ??tre charg??. Pour le meilleur vous obtenez des caches de Opencaching par le menu /Application/importation/Download from Opencaching
 4100=Choisir dossier:
 4101=Cartes
-4102=Cartes calibr%e9es
-4103=Cartes pas calibr%e9es
+4102=Cartes calibr??es
+4103=Cartes pas calibr??es
 4104=Annuler
 4105=Charger
 4106=Calibrer carte:
 4107=Fini!
-4108=Coordon%e9es:
+4108=Coordon??es:
 4109=Chargeant Cartes...
 4110=Chargeant
-4111=Les coordonn%e9es doivent %eatre en format N XX XX,XXX E XXX XX,XXX
-4112=Erreur E/S en copyant:+
-4113=+%e0:+
-4114=+Erreur:+
-4115=Erreur: Ne peut pas d%e9coder image:+
-4116=+-+Image pas copi%e9e
-4117=Erreur en important fichier .map:+
-4118=Erreur E/S en lisant ou %e9crivant le fichier de calibrage
-4119=Pas trouv%e9 de fichier de calibrage pour:+
+4111=Les coordonn??es doivent ??tre en format N XX XX,XXX E XXX XX,XXX
+4112=Erreur E/S en copyant:%20
+4113=%20??:%20
+4114=%20Erreur:%20
+4115=Erreur: Ne peut pas d??coder image:%20
+4116=%20-%20Image pas copi??e
+4117=Erreur en important fichier .map:%20
+4118=Erreur E/S en lisant ou ??crivant le fichier de calibrage
+4119=Pas trouv?? de fichier de calibrage pour:%20
 4120=Fini.
 4200=Choisir dossier de cartes
 4201=Information
 4203=Chargeant liste des cartes...
-4204=Carte calib%e9e pas disponible %0a Choisissez une %e9chelle%0a dans laquelle le track et les cartes seront affich%e9s. %0a T%e9l%e9chargez cartes avec le menu: Application/Cartes/T%e9lecharger cartes calibr%e9es
-4206=Dist:+
+4204=Carte calib??e pas disponible %0a Choisissez une ??chelle%0a dans laquelle le track et les cartes seront affich??s. %0a T??l??chargez cartes avec le menu: Application/Cartes/T??lecharger cartes calibr??es
+4206=Dist:%20
 4207=Erreur
-4208=Bogue informatique: %0a mapChangeModus pas valide:+
-4210=La carte se d%e9placeant ne peut pas demarrer sans carte. %0a Choisissez-en une %0a (vide eventuellement)
-4211=Pas de carte+
+4208=Bogue informatique: %0a mapChangeModus pas valide:%20
+4210=La carte se d??placeant ne peut pas demarrer sans carte. %0a Choisissez-en une %0a (vide eventuellement)
+4211=Pas de carte%20
 4212=plus claire et plus
-4213=d%e9taill%e9e
-4214=+disponible
-4215=Pas de caches coch%e9es
+4213=d??taill??e
+4214=%20disponible
+4215=Pas de caches coch??es
 4216=Chargeant carte...
-4217=N'a pas pu trouv%e9 fichier pour cette image: %0a
-4218=N'a pas pu charg%e9 carte: %0a
-4219=Pas assez de m%e9moire %0a pour charger carte: %0a
-4220=%0aVous pourriez fermer les logiciels %0a et redemarrer CacheWolf
-4221=Pas assez de ressources disponibles:+
-4222=Erreur: M%e9moire (RAM) plein
+4217=N'a pas pu trouv?? fichier pour cette image:
+4218=N'a pas pu charg?? carte:
+4219=Pas assez de m??moire %0a pour charger carte:
+4220=Vous pourriez fermer les logiciels %0a et redemarrer CacheWolf
+4221=Pas assez de ressources disponibles:%20
+4222=Erreur: M??moire (RAM) plein
 4230=Mets dest. ici$z
 4231=Mets dest. ici
-4232=Cr%e9er nouveau waypoint ici$n
-4233=Cr%e9er nouveau waypoint ici
+4232=Cr??er nouveau waypoint ici$n
+4233=Cr??er nouveau waypoint ici
 4234=Choisir carte manuel$s
 4235=Choisir carte manuel
 4236=Changer dossier des cartes$c
 4237=Changer dossier des cartes
 4238=Afficher carte
 4239=Afficher carte
-4240=%c9teindre carte
-4241=%c9teindre carte
+4240=??teindre carte
+4241=??teindre carte
 4242=Mode pour changement automatique de la carte
-4244=Plus grand degr%e9 de d%e9tail avec pos. actuelle et destination
-4245=Plus grand degr%e9 de d%e9tail avec pos. actuelle et destination
-4246=Plus grand degr%e9 de d%e9tail disponible
-4247=Plus grand degr%e9 de d%e9tail disponible
-4248=Garder degr%e9 de d%e9tail manuel si possible
-4249=Garder degr%e9 de d%e9tail manuel si possible
-4250=Choisir degr%e9 de d%e9tail manuellement
-4252=Charger cartes avec toutes caches coch%e9es
-4253=Charger cartes avec toutes caches coch%e9es
-4254=Charger carte avec plus de d%e9tails
-4255=Charger carte avec plus de d%e9tails
+4244=Plus grand degr?? de d??tail avec pos. actuelle et destination
+4245=Plus grand degr?? de d??tail avec pos. actuelle et destination
+4246=Plus grand degr?? de d??tail disponible
+4247=Plus grand degr?? de d??tail disponible
+4248=Garder degr?? de d??tail manuel si possible
+4249=Garder degr?? de d??tail manuel si possible
+4250=Choisir degr?? de d??tail manuellement
+4252=Charger cartes avec toutes caches coch??es
+4253=Charger cartes avec toutes caches coch??es
+4254=Charger carte avec plus de d??tails
+4255=Charger carte avec plus de d??tails
 4256=Charger carte avec plus de vue d'ensemble
 4257=Charger carte avec plus de vue d'ensemble
-4258=D%e9placer carte et en charger une nouvelle
-4260=D%e9placer carte vers destination
-4261=D%e9placer carte vers destination
-4262=D%e9placer carte vers GPS
-4263=D%e9placer carte vers GPS
-4264=D%e9placer carte vers centre
-4265=D%e9placer carte vers centre
+4258=D??placer carte et en charger une nouvelle
+4260=D??placer carte vers destination
+4261=D??placer carte vers destination
+4262=D??placer carte vers GPS
+4263=D??placer carte vers GPS
+4264=D??placer carte vers centre
+4265=D??placer carte vers centre
 4266=[Fill white areas]
 4267=[Show white areas]
 4268=voir toutes les caches
-4269=voir marqu%e9s caches
+4269=voir marqu??s caches
 4270=Ouvre
 4271=Cartes
 4272=--- Cartes de la pos. actuelle et de la dest. ---
@@ -875,115 +875,115 @@
 4278=Ne peut pas charger ces fichiers .wfl: \n
 4279=Goto
 4280=Petits raccords
-4281=tuiles %e0 moyen
+4281=tuiles ?? moyen
 4282=grands carreaux
-4290=zoom arri%e8re
+4290=zoom arri??re
 4291=zoomer
 4292=zoom manuel
-4293=Zoom sur une r%e9solution originale
+4293=Zoom sur une r??solution originale
 4294=zoom
 4295=center
 4296=detailing
-4300=1 pixel vide =+
-4301=+metre
-4302=Latitude/Longitude hors de l'%e9tendue valide en chargeant+
-4303=Trop peu de lignes en fichier+
+4300=1 pixel vide =%20
+4301=%20metre
+4302=Latitude/Longitude hors de l'??tendue valide en chargeant%20
+4303=Trop peu de lignes en fichier%20
 4304=Trop peu de points pour calibrer la carte
-4305=Param%e8tres de transformation pas valides%0a (Ne peut pas inverser matrice)%0a dans le fichier %0a
-4306=Carte n'est pas g%e9o-r%e9f%e9renc%e9e
+4305=Param??tres de transformation pas valides%0a (Ne peut pas inverser matrice)%0a dans le fichier
+4306=Carte n'est pas g??o-r??f??renc??e
 4400=Avertissement
-4401=Ignore erreur: N'a pas pu transmettre donn%e9es au h%f4te:%0a
-4402=Pour un nouveau essai red%e9marrez GPS
+4401=Ignore erreur: N'a pas pu transmettre donn??es au h??te:
+4402=Pour un nouveau essai red??marrez GPS
 4403=Erreur
-4404=N'a pas pu %e9tablir une connexion avec le r%e9cepteur GPS. %0a Erreur en ouvrant le port seriel%0a
+4404=N'a pas pu ??tablir une connexion avec le r??cepteur GPS. %0a Erreur en ouvrant le port seriel
 4405=Causes possibles:%0a Port faux %0a Un autre logiciel bloque le port %0a Seulement pour les appareils Loox: port infrarouge ouverts bloque GPS
 4406=Copiez java_ewe.dll dans le dossier CacheWolf
-4407=Les fichiers de profil ne sont pas dans le format actuel.%0aPar cons%e9quent, ils sont maintenant convertis au format actuel. En fonction de la taille de l'image et l'ordinateur associ%e9 cette mai prendre quelques minutes. S'il vous pla%eet garder avec nous jusqu'%e0 la conversion est effectu%e9e.
-4408=Impossible de se connecter %e0 la GPSD:
-4409=%0apossible raisons:%0aGPSD h%f4te n'est pas accessible ou GPSD s'ex%e9cute pas l%e0
+4407=Les fichiers de profil ne sont pas dans le format actuel.%0aPar cons??quent, ils sont maintenant convertis au format actuel. En fonction de la taille de l'image et l'ordinateur associ?? cette mai prendre quelques minutes. S'il vous pla??t garder avec nous jusqu'?? la conversion est effectu??e.
+4408=Impossible de se connecter ?? la GPSD:
+4409=possible raisons:%0aGPSD h??te n'est pas accessible ou GPSD s'ex??cute pas l??
 4500=Tout:
 4501=Aff:
 4502=Trv:
 4600=Ne peut pas afficher toutes les caches. Incompatible statut de liste noire.
-4700=Ignore erreur chargeant%0ale fichier de calibration%0a
+4700=Ignore erreur chargeant%0ale fichier de calibration
 4701=Cherche la meilleur carte
 4702=Optimisation
-4703=Cachewolf peut accelerer le chargement des cartes en ajoutant un marquage%0a Faire ?a maintenant?%0a?a peut mettre quelques minutes.
-4704=%0aRenommer fichier:
-4705=Erreur en renommant:%0a
-4706=%0apr%e8s:%0a
-4707=Erreur E/S en lisant:+
-4708=Erreur en lisant:+
-4709=N'a pas pu trouver image de carte pour ce fichier de calibration:%0a
+4703=Cachewolf peut accelerer le chargement des cartes en ajoutant un marquage%0a Faire ???maintenant?%0a?? peut mettre quelques minutes.
+4704=Renommer fichier:
+4705=Erreur en renommant:
+4706=pr??s:
+4707=Erreur E/S en lisant:%20
+4708=Erreur en lisant:%20
+4709=N'a pas pu trouver image de carte pour ce fichier de calibration:
 4800=Charge services de cartes en lingne
-4801=Ignore erreur en %0a lisant le fichier de d%e9finition Web Map Service %0a
-4802=Chargeant image de carte calibr%e9e et g%e9o-r%e9f%e9renc%e9e %0a '
+4801=Ignore erreur en %0a lisant le fichier de d??finition Web Map Service
+4802=Chargeant image de carte calibr??e et g??o-r??f??renc??e %0a '
 4803=' %0a Chargeant page %0a Ligne
-4804= Colonne
+4804=Colonne
 4805=Page
 4806=: Ignore erreur:
-4807=loadTo: Chargement de la carte %e9chou%e9: Pas re?u http-redirect
+4807=loadTo: Chargement de la carte ??chou??: Pas re???http-redirect
 4808=downloadImage: content-type:
-4809= n'est pas une image, debut du contenu:
-4810=Erreur en chargeant ou enr%e9gstrant carte:%0a
+4809=n'est pas une image, debut du contenu:
+4810=Erreur en chargeant ou enr??gstrant carte:
 4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
-4812=WebMapService: Propri%e9t%e9 >Name:< manque en fichier:%0a
-4813=WebMapService: Propri%e9t%e9 >MainUrl:< manque en fichier:%0a
-4814=WebMapService: CoordinateReferenceSystemCacheWolf pas indiqu%e9
-4815=Ce syst%e8me de coordonn%e9es de r%e9f%e9rence n'est pas soutenu par Cachewolf:%0a
-4816=WebMapService: Propri%e9t%e9 >CoordinateReferenceSystemUrlPart:< manque en fichier:%0a
-4817=Nombre de cha%eenes de caract%e8res en CoordinateReferenceSystemUrlPart (
+4812=WebMapService: Propri??t?? >Name:< manque en fichier:
+4813=WebMapService: Propri??t?? >MainUrl:< manque en fichier:
+4814=WebMapService: CoordinateReferenceSystemCacheWolf pas indiqu??
+4815=Ce syst??me de coordonn??es de r??f??rence n'est pas soutenu par Cachewolf:
+4816=WebMapService: Propri??t?? >CoordinateReferenceSystemUrlPart:< manque en fichier:
+4817=Nombre de cha??nes de caract??res en CoordinateReferenceSystemUrlPart (
 4818=) doit correpondres au nombre de codes en CoordinateReferenceSystemCacheWolf (
-4819=). Utilise caract%e8res %e0 ignorer pour s%e9paration
-4820=WebMapService: Propri%e9t%e9 >CoordinateReferenceSystemUrlPart:< fautive en fichier:%0a
-4821=WebMapService: Propri%e9t%e9 >ImageFileExtension:< manque en fichier:%0a
-4822=%c9tendu:
-4823= n'est pas couvert par service:
-4824=, %c9tendu de service:
+4819=). Utilise caract??res ?? ignorer pour s??paration
+4820=WebMapService: Propri??t?? >CoordinateReferenceSystemUrlPart:< fautive en fichier:
+4821=WebMapService: Propri??t?? >ImageFileExtension:< manque en fichier:
+4822=??tendu:
+4823=n'est pas couvert par service:
+4824=, ??tendu de service:
 4825=Echelle
-4826= n'est pas soutenu par cette service de cartes. Echelle soutenu:
-4827= (mesur%e9 verticalement en m%e8tres par pixel)
-4828=Syst%e8me de coordonn%e9es n'est pas soutenue par CacheWolf:
+4826=n'est pas soutenu par cette service de cartes. Echelle soutenu:
+4827=(mesur?? verticalement en m??tres par pixel)
+4828=Syst??me de coordonn??es n'est pas soutenue par CacheWolf:
 4829=getUrlForBoundingBox: Point:
-4830=Pas de bande Gau%df-Kr%fcger dans la liste de codes EPSG dans le fichier .wms
-4831=getMapInfoObject: Syst%e8me de coordonn%e9es n'est pas soutenue par CacheWolf:
-4900=+n'est pas une coordonn%e9e allemande Gau%df-Kr%fcger
-4920=Code EPSG+
-4921=+pas soutenu
-4922=Code EPSG manque en:+%0a
-4923=fromWgs84: code EPSG+
-4924=ToWgs84: code EPSG+
+4830=Pas de bande Gau??-Kr??ger dans la liste de codes EPSG dans le fichier .wms
+4831=getMapInfoObject: Syst??me de coordonn??es n'est pas soutenue par CacheWolf:
+4900=%20n'est pas une coordonn??e allemande Gau??-Kr??ger
+4920=Code EPSG%20
+4921=%20pas soutenu
+4922=Code EPSG manque en:%20
+4923=fromWgs84: code EPSG%20
+4924=ToWgs84: code EPSG%20
 5000=Chargeant liste de caches
 5001=Ne peut pas spider waypoints suppletif.%0aCochez le parent, svp..
-5002=: Cette fonction n'est disponible que pour geocaching.com et opencaching.{cz,de,org.uk,pl} momentan%e9ment.
+5002=: Cette fonction n'est disponible que pour geocaching.com et opencaching.{cz,de,org.uk,pl} momentan??ment.
 5003=Options
-5004=Cr%e9ant r%e9f%e9rences pour les waypoints additionelles...
+5004=Cr??ant r??f??rences pour les waypoints additionelles...
 5497=Erreur: Une balise manque en spider.def
 5498=Login pas possible. Erreur en chargeant la page suivante.
-5499=Erreur en chargeant la page Login.%0aMerci de v%e9rifier votre connexion internet.
+5499=Erreur en chargeant la page Login.%0aMerci de v??rifier votre connexion internet.
 5500=Erreur.
 5501=Login pas possible. Nom ou mot de passe fautif?
-5502=Chargeant premi%e8re page ...
-5503=Erreur en chargeant la premi%e8re page.
+5502=Chargeant premi??re page ...
+5503=Erreur en chargeant la premi??re page.
 5504=Erreur en chargeant le fichier 'spider.def'
 5505=Entrez mot de passe
 5506=Mot de passe
 5507=Statut
 5508=Connecter ...
-5509=Coordonn%e9es de centre pas mis
+5509=Coordonn??es de centre pas mis
 5510=Options spider
-5511=Trouv%e9e+
-5512=+nouveau/mettre %e0 jour Caches
-5513=Chargeant:+
-5514=%0aTravel Bug:+
-5515=Erreur en chargeant la cache.%0aMerci de v%e9rifier votre connexion internet et si vous avez language englais chez gc.com..%0aContinuer d'essayer?
-5516=+descriptions cache%0ane pouvait pas %eatre charg%e9.
-5517=Spider mises %e0 jour?
-5518=+caches en base de donn%e9es ont besoin d'une mise %e0 jour. Mettre %e0 jour maintenant?
+5511=Trouv??e%20
+5512=%20nouveau/mettre ?? jour Caches
+5513=Chargeant:%20
+5514=Travel Bug:%20
+5515=Erreur en chargeant la cache.%0aMerci de v??rifier votre connexion internet et si vous avez language englais chez gc.com..%0aContinuer d'essayer?
+5516=%20descriptions cache%0ane pouvait pas ??tre charg??.
+5517=Spider mises ?? jour?
+5518=%20caches en base de donn??es ont besoin d'une mise ?? jour. Mettre ?? jour maintenant?
 5519=Information
-5520=Seulement le maximum compte tenu des caches ont %e9t%e9 charg%e9s.%0aR%e9p%e9tez spidering plus tard %e0 la charge des caches plus.%0aNo caches d%e9j%e0 existants ont %e9t%e9 mis %e0 jour.
-5521=Page+
-5522=V%e9rifier les plus %e2g%e9s fichiers XML (sans <CACHE... />)?
+5520=Seulement le maximum compte tenu des caches ont ??t?? charg??s.%0aR??p??tez spidering plus tard ?? la charge des caches plus.%0aNo caches d??j?? existants ont ??t?? mis ?? jour.
+5521=Page%20
+5522=V??rifier les plus ??g??s fichiers XML (sans <CACHE... />)?
 6000=Guid
 6001=Nom
 6002=Track#
@@ -992,28 +992,28 @@
 6005=De waypt
 6006=De date
 6007=De log
-6008=%c0 Prof
-6009=%c0 waypt
-6010=%c0 date
-6011=%c0 log
+6008=?? Prof
+6009=?? waypt
+6010=?? date
+6011=?? log
 6015=*** AUTRE ***
 6016=Prendre Travel Bug
 6017=Poser Travel Bug
 6018=Nom du Travel Bug
 6019=Numero de track
-6020=Pas trouv%e9 Travel Bug.
-6021=Trouv%e9 plus d'un Travel Bug. Indiquez le nom plus pr%e9cis%e9ment.
-6022=: Cache actuelle:+
+6020=Pas trouv?? Travel Bug.
+6021=Trouv?? plus d'un Travel Bug. Indiquez le nom plus pr??cis??ment.
+6022=: Cache actuelle:%20
 6025=Nom:
 6026=# track:
 6027=Id/Guid:
 6028=Nom
 6029=Profil/Cache:
 6030=Date pris:
-6031=Log cr%e9e
+6031=Log cr??e
 6032=De
-6033=Date pos%e9:
-6034=%c0
+6033=Date pos??:
+6034=??
 6035=Destination:
 6036=Destination
 6040=Prends TB de cache actuelle
@@ -1023,66 +1023,66 @@
 6044=Retirer nom et destination
 6045=Ouvrir en ligne
 6046=N'afficher que le sans logs
-6047=Effacer lignes selectionn%e9es
+6047=Effacer lignes selectionn??es
 6050=Montrer colonnes
 6051=Masquer colonnes
 6100=Soleil
 6101=Lune
 6102=Grande Ourse
 6103=Orion
-6104=Cassiop%e9e
+6104=Cassiop??e
 6105=Cygne
 6106=Croix du Sud
-6122=Altioth im Gro%dfen Wagen
+6122=Altioth im Gro??en Wagen
 6123=Alnilam im Orion
 6124=Kassiopeia Gamma
 6125=Deneb im Schwan
-6126=Mimosa im Kreuz des S%fcdens
-7000=Valid%e9:+
-7001=Candidat pour validation:+
-7002=En developpement, stable:+
-7003=En developpement, le plus r%e9cent:+
-7010=d%e9j%e0 actuel
+6126=Mimosa im Kreuz des S??dens
+7000=Valid??:%20
+7001=Candidat pour validation:%20
+7002=En developpement, stable:%20
+7003=En developpement, le plus r??cent:%20
+7010=d??j?? actuel
 7011=Update disponible
 7012=pas disponible
 7013=Erreur
-7020=Type de version recommand%e9
+7020=Type de version recommand??
 7021=Ce type de version
-7022=ceci est:+
-7023=Erreur en t%e9l%e9chargeant les informations de version
-7100=Port s%e9rie Options
-7101=Mise %e0 jour des ports$u
+7022=ceci est:%20
+7023=Erreur en t??l??chargeant les informations de version
+7100=Port s??rie Options
+7101=Mise ?? jour des ports$u
 7102=Baud:$b
 7103=Scan$u
 7104=Test$t
-7105=Suivant les donn%e9es GPS pour accueillir
-7106=Toutes les donn%e9es du GPS sera envoy%e9 %e0 TCP-Port 23%0a et peut %eatre redirig%e9 l%e0 %e0 un port s%e9rie 0a% par
-7107=intervalle en secondes pour l'exploitation foresti%e8re
-7108=Erreur: Impossible d'ouvrir le port s%e9rie: +
-7109=Erreur: Impossible d'obtenir la liste des ports s%e9rie disponibles%0a
-7110=GPS introuvable%0a
-7111=Trying+
-7112=at+
-7113= - obtenu quelques donn%e9es%0a
-7114=GPS Port trouv%e9%0a
-7115= - Pas d'%e9tiquette de donn%e9es GPS trouv%e9%0a
-7116= - Pas de donn%e9es re?ues%0a
-7117=Afficher les donn%e9es du port s%e9rie directement:%0a
+7105=Suivant les donn??es GPS pour accueillir
+7106=Toutes les donn??es du GPS sera envoy?? ?? TCP-Port 23%0a et peut ??tre redirig?? l?? ?? un port s??rie 0a??ar
+7107=intervalle en secondes pour l'exploitation foresti??re
+7108=Erreur: Impossible d'ouvrir le port s??rie: %20
+7109=Erreur: Impossible d'obtenir la liste des ports s??rie disponibles
+7110=GPS introuvable
+7111=Trying%20
+7112=at%20
+7113=- obtenu quelques donn??es
+7114=GPS Port trouv??
+7115=- Pas d'??tiquette de donn??es GPS trouv??
+7116=- Pas de donn??es re???s
+7117=Afficher les donn??es du port s??rie directement:
 7118=Stop
 7119=Stop
-7120=ANNUL%e9
-7121=Recevoir GPS %e0 partir de l'h?te gpsd
-7122=GPS donn%e9es seront re?ues par un serveur gpsd, et non %e0 partir d'un port s%e9rie
+7120=ANNUL??
+7121=Recevoir GPS ?? partir de l'h??te gpsd
+7122=GPS donn??es seront re???s par un serveur gpsd, et non ?? partir d'un port s??rie
 7200=Usage: CacheWolf [-c <chemin vers pref.xml>] [-debug]
-        7300=Street/POI
-        7301=Ville
-        7302=Recherche
-        7303=Annuler
-        7304=paris
-        7305=avenue des champs-elysees
-        7306=Recherche en cours...
-        7307=Annul%e9 par l'utilisateur
-        7308=Impossible de se connecter
-        {..}
+7300=Street/POI
+7301=Ville
+7302=Recherche
+7303=Annuler
+7304=paris
+7305=avenue des champs-elysees
+7306=Recherche en cours...
+7307=Annul?? par l'utilisateur
+7308=Impossible de se connecter
 {..}
 {..}
+{..}

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,4 +1,4 @@
-{cachewolf.Languages}
+???{cachewolf.Languages}
 {LocalResources}
 {nl}
 1=Gewoonte
@@ -70,7 +70,7 @@
 138=van GC snel een overzicht
 139=Beheren Travelbugs
 140=Organiseren
-141=Kopi%ebren
+141=Kopi??ren
 142=Verplaatsen
 143=Verwijderen
 144=Waarschuwing
@@ -93,7 +93,7 @@
 161=Toon Blacklist
 162=Gekalibreerde kaarten downloaden.
 170=Selecteer basis map voor cache data.
-171=Profiel bestaat niet:+
+171=Profiel bestaat niet:%20
 172=Fout: kan kaarten map niet maken:%0a.
 173=GPSBabel:
 174=Verkorte namen
@@ -131,8 +131,8 @@
 207=[** unused **]
 208=[Rebuild index]
 209=[Rebuilding index]
-210=Caches geschrapt:+}
-211=%0aCaches toegevoegd:+
+210=Caches geschrapt:%20}
+211=Caches toegevoegd:%20
 212=[Delete all .xml files not in index.xml and associated pictures]
 213=[Deleting orphans]
 214=Nieuwe Waypoint
@@ -145,7 +145,7 @@
 221=Overschrijf filter?
 222=De filter exiteerd al. Overschrijven?
 223=Filter verwijderen?
-224=+- Deze filter verwijderen?
+224=%20- Deze filter verwijderen?
 225=Ook in logs
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -182,7 +182,7 @@
 301=Grote:
 302=Waypoint:
 303=Naam:
-304=Co%f6rdinaten:
+304=Co??rdinaten:
 305=Verborgen op:
 306=Eigenaar:
 307=Status:
@@ -214,7 +214,7 @@
 342=Verwijderd
 343=Niet genoeg geheugen om cache afbeeldingen te laden.
 344=Verwijder afbeeldingen
-345=Ga naar deze co%f6rdinaten.
+345=Ga naar deze co??rdinaten.
 346=Toon Travelbugs
 347=Toon kaart
 348=Eigen afbeeldingen toevoegen.
@@ -248,13 +248,13 @@
 599=Checkbox
 600=Voorkeuren
 601=Jouw Nickname
-602=Thuis co%f6rdinaten
+602=Thuis co??rdinaten
 603=Profiel map
 604=Zoeken
 605=Tabel kolommen
 606=Moeilijkheidsgraad
 607=Terrein
-608=Co%f6rdinaten
+608=Co??rdinaten
 609=Eigenaar
 610=Verborgen op
 611=Status
@@ -340,7 +340,7 @@
 740=alle
 741=een
 742=geen
-743=Zonder co%f6rdinaten
+743=Zonder co??rdinaten
 800=Maak lijst
 801=Zoeken.....
 802=Caches gevonden. Zoeken......
@@ -366,7 +366,7 @@
 1001=T
 1002=Waypoint
 1003=Naam
-1004=Co%f6rdinaat
+1004=Co??rdinaat
 1005=Eigenaar
 1006=Verborgen op
 1007=Status
@@ -387,12 +387,12 @@
 1022=Verwijder alle aangevinkte Waypoints (.
 1023=Deze functie is momenteel alleen beschikbaar voor geocaching.com.
 1024=Afstand in lijst is~ten opzichte van de huidige positie~herberekend.
-1025=Kan middelpunt niet toepassen (verkeerde GPS co%f6rdinaten).
+1025=Kan middelpunt niet toepassen (verkeerde GPS co??rdinaten).
 1026=#Rec
 1027=OC-Idx
 1028=) verwijderen?
-1029=Er zijn verwinkte maar niet zichtbare Waypoints.%0a(Caches:+
-1030=, additionele Waypoints:+
+1029=Er zijn verwinkte maar niet zichtbare Waypoints.%0a(Caches:%20
+1030=, additionele Waypoints:%20
 1031=Deeze ook verwijdern?
 1032=Path to browser:
 1033=is incorrect!
@@ -456,14 +456,14 @@
 1402=Easting
 1403=Richting
 1404=Afstand
-1405=Om co%f6rdinaten te laden van GC, geef onder in GCxxxx.
-1406=Geef co%f6rdinaten in (alle formaten mogelijk) of GCxxxx.
+1405=Om co??rdinaten te laden van GC, geef onder in GCxxxx.
+1406=Geef co??rdinaten in (alle formaten mogelijk) of GCxxxx.
 1407=Stappen
 1408=Voet
 1409=Yards
 1410=mijl
-1411=Voer een geldige co?rdinaten.
-1412=Co%f6rdinaten ongeldig. Toch doen?
+1411=Voer een geldige co??rdinaten.
+1412=Co??rdinaten ongeldig. Toch doen?
 1413=Verwijderen
 1414=Zoeken
 1415=Bearing (lager)
@@ -473,16 +473,16 @@
 1503=Noord voor
 1504=Start GPS
 1505=Stop GPS
-1506= Kaart
-1507=Co%f6rdinaten ongeldig:
+1506=Kaart
+1507=Co??rdinaten ongeldig:
 1508=breedtegraad
 1509=lengtegraad
-1510=Geen data van GPS%0aConnectie naar seri%eble port gesloten
-1511=Kan niet interpreteren van gegevens van GPS%0a mogelijke redenen:%0a verkeerde Port,%0a verkeerde Baudrate,%0a niet NMEA-protocol%0aConnection op de seri?le poort gesloten%0aLast String probeerde te interpreteren:%0a
+1510=Geen data van GPS%0aConnectie naar seri??le port gesloten
+1511=Kan niet interpreteren van gegevens van GPS%0a mogelijke redenen:%0a verkeerde Port,%0a verkeerde Baudrate,%0a niet NMEA-protocol%0aConnection op de seri??? poort gesloten%0aLast String probeerde te interpreteren:
 1512=Wegpunt
-1513=Kan moving map niet draaien zonder geldige co%f6rdinaten. Geef Centrums- of Doelco%f6rdinaten of start het GPS AUB.
+1513=Kan moving map niet draaien zonder geldige co??rdinaten. Geef Centrums- of Doelco??rdinaten of start het GPS AUB.
 1514=Kan afstanden niet opnieuw berekenen doordat er geen GPS positie gegeven is (geen receptie is/was)
-1600=+Download
+1600=%20Download
 1601=max. Afstand:
 1602=Download afbeeldingen
 1603=Download kaarten
@@ -499,14 +499,14 @@
 1614=Fout bij het unzippen van update file.
 1615=Fout bij het interpreteren van update file, status:
 1616=Fout: Kan de update file niet downloaden van Opencaching.de.
-1617=Negeert fout in html-cache-beschrijving:"<img" without "src=" in cache+
-1618=Negeert fout in cache:+
-1619=: kon de afbeelding van URL niet downloaden:+
-1620=download bijgesloten afbeeldingen:+
+1617=Negeert fout in html-cache-beschrijving:"<img" without "src=" in cache%20
+1618=Negeert fout in cache:%20
+1619=: kon de afbeelding van URL niet downloaden:%20
+1620=download bijgesloten afbeeldingen:%20
 1621=Fout tijdens interpreteren data%0a van Opencaching.de,%0aDit is vermoedelijk een fout bij Opencaching.de%0aprobeer later nogmaals%0aStatus:
 1622=niet in staat om te laden caches gevonden
 1623=Max Aantal:
-1624=+ caches
+1624=%20 caches
 1625=Import TBs:
 1626=Max Logs:
 1627=Alle caches
@@ -526,10 +526,10 @@
 1709=Onbekende functie:
 1710=Kan de lege string niet tellen.
 1711=Gekopieerde karakter strings moeten van dezelfde lengte zijn.
-1712=Ongeldige co%f6rdinaten:
-1713=Ongeldig co%f6rdinaat formaat. Toegestaan zijn cw / dd / dmm / dms /+
+1712=Ongeldige co??rdinaten:
+1713=Ongeldig co??rdinaat formaat. Toegestaan zijn cw / dd / dmm / dms /%20
 1714=Ga naar: Waypoint bestaat niet:
-1715=Instr: Start co%f6rdinaat niet in string.
+1715=Instr: Start co??rdinaat niet in string.
 1716=Mid: Geheel getal verwacht.
 1717=Mid: Argument valt buiten de range.
 1718=Kan geen negatieve afstand projecteren.
@@ -540,7 +540,7 @@
 1725=Onverwachte karakter(s)
 1726=Te veel argumenten voor deze functie.
 1727=Ongeldig aantal argumenten.
-1728=Functie niet ge%efmplementeerd.
+1728=Functie niet ge??mplementeerd.
 1729=Deling door 0.
 1730=Oneindige string
 1731=Ongeldig formaat karakters.
@@ -573,12 +573,12 @@
 1813=Laden kaart voor
 1814=Per cache
 1815=Downloaden geografische referenties kaarten
-1816=Downloaden geografische referentie maps%0a%0a%0a%0a%0a
+1816=Downloaden geografische referentie maps
 1817=Geen caches zijn aangevinkt
 1818=getSortedMapServiceIndex: index
 1819=niet gevonden
 1820=Downloaden kaart '
-1821=%0a voor cache:%0a
+1821=voor cache:
 1822=Cache:
 1823=negeren fout:
 1824=downloaden overzichtskaart
@@ -589,7 +589,7 @@
 1829=Voer het 'centrum' waarrond de kaarten worden gedownload
 1830=De geselecteerde kaart online service biedt de kaart in de schaal van
 1831=naar
-1832=%0a gelieve aanpassen 'Ca. meter pro pixel 'dienovereenkomstig
+1832=gelieve aanpassen 'Ca. meter pro pixel 'dienovereenkomstig
 1833=Gelieve niet selecteert de separetor lijn in de WMS-service-optie
 1834=Voer het juiste pad naar Kosmos.Console.exe in de WMS-bestand.
 1835=[Tilesize:]
@@ -602,7 +602,7 @@
 2102=Kies doelbestand
 2103=Fout bij het lezen van het bestand magellan.cfg
 2104=Kies de output directory voor gs-bestanden
-     2500=Fout bij laden of onbekende pictogrammen.
+2500=Fout bij laden of onbekende pictogrammen.
 2501=Geen 24/7 cache
 2502=Beschikbaar 24/7
 2503=Geen fietsen
@@ -727,14 +727,14 @@
 2622=speciaal soort cache
 2623=geen overnachting nodig
 2624=overnachting nodig
-2625 =
-2626 =
-2627 =
-2628 =
+2625=
+2626=
+2627=
+2628=
 2629=geen raadsel
 2630=raadsel
-2631 =
-2632 =
+2631=
+2632=
 2633=vlak terrein
 2634=Heuvelachtig terrein
 2635=niet in het water
@@ -794,38 +794,38 @@
 4105=Laden
 4106=Kalibreert kaart
 4107=Gebeurt!
-4108=Co%f6rdinaten:
+4108=Co??rdinaten:
 4109=bezig kaarten te laden..
 4110=Bezig met laden
-4111=Co%f6rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
-4112=IO-Fout tijdens het kopi%ebren van beeld:+
-4113=+voor:+
-4114=+Fout:+
-4115=Fout: kan niet decoderen afbeelding:+
-4116=+-+ afbeelding niet gekopieerd
-4117=Fout bij importeren .map Bestand:+
+4111=Co??rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
+4112=IO-Fout tijdens het kopi??ren van beeld:%20
+4113=%20voor:%20
+4114=%20Fout:%20
+4115=Fout: kan niet decoderen afbeelding:%20
+4116=%20-%20 afbeelding niet gekopieerd
+4117=Fout bij importeren .map Bestand:%20
 4118=I/O-fout tijdens het lezen of schrijven van de kalibratie-bestand
-4119=Geen kalibratie bestand gevonden voor:+
+4119=Geen kalibratie bestand gevonden voor:%20
 4120=Gedaan.
 4200=Kies kaarten map
 4201=Informatie
 4203=Laden kaart lijst ...
 4204=Het is niet gekalibreerd kaart.  %0a Selecteer een schaal,%0a waarbij het spoor en de geselecteerde caches worden weergegeven. %0a U kunt de kaarten downloaden vanuit het hoofdmenu: application / kaarten gekalibreerd / download
-4206=Dist: +
+4206=Dist: %20
 4207=Fout
-4208=Programma fout:%0a niet toegestaan mapChangeModus:+
-4210= De "mitwandernde kaart" kan niet zonder een kaart. %0a Selecteer een %0a (Eventueel een lege)
-4211=Geen+
+4208=Programma fout:%0a niet toegestaan mapChangeModus:%20
+4210=De "mitwandernde kaart" kan niet zonder een kaart. %0a Selecteer een %0a (Eventueel een lege)
+4211=Geen%20
 4212=duidelijker
 4213=gedetailleerde
-4214=+Kaart beschikbaar
+4214=%20Kaart beschikbaar
 4215=Geen caches geselecteerd met vinkje
 4216=Laden kaart ...
-4217=Geen bestand, behorende tot de volgende afbeelding is niet gevonden: %0a
-4218=Kan niet laden de volgende kaart: %0a
-4219=Niet genoeg geheugen in kaart te laden:%0a
-4220=%0a U kunt proberen om alle prgrams%0a%0a sluiten en opnieuw op te starten CacheWolf
-4221=Niet genoeg ressources te laden kaart: +
+4217=Geen bestand, behorende tot de volgende afbeelding is niet gevonden:
+4218=Kan niet laden de volgende kaart:
+4219=Niet genoeg geheugen in kaart te laden:
+4220=U kunt proberen om alle prgrams%0a%0a sluiten en opnieuw op te starten CacheWolf
+4221=Niet genoeg ressources te laden kaart: %20
 4222=Out of memory error
 4230=Ga hier$g
 4230=Ga hier
@@ -884,75 +884,75 @@
 4294=Vergroten
 4295=Centrum
 4296=Detaillering
-4300=leeg 1 pixel=+
-4301=+ meter
-4302=Lat / Lon buiten bereik tijdens het lezen +
-4303=niet genoeg lijnen in dossier +
+4300=leeg 1 pixel=%20
+4301=%20 meter
+4302=Lat / Lon buiten bereik tijdens het lezen %20
+4303=niet genoeg lijnen in dossier %20
 4304=niet genoeg punten voor het ijken van de kaart
-4305=Niet toegelaten waarden in affiene%0a (matrix kan niet worden omgekeerd)%0a in bestand%0a
+4305=Niet toegelaten waarden in affiene%0a (matrix kan niet worden omgekeerd)%0a in bestand
 4306=kaart niet gekalibreerd
 4400=Waarschuwing
-4401=Negeren fout:%0a kon niet naar voren GPS-gegevens met host:%0a
-4402=%0astop GPS en start het opnieuw proberen
+4401=Negeren fout:%0a kon niet naar voren GPS-gegevens met host:
+4402=stop GPS en start het opnieuw proberen
 4403=Fout
-4404=Kon niet verbinden met GPS-ontvanger.%0a Fout tijdens het openen van seri?le poort%0a
-4405=%0apossible redenen: \n ander (GPS-) programma is het blokkeren van de poort%0awrong poort%0aOn Loox: actief infra-rood poort wordt geblokkeerd door GPS "
+4404=Kon niet verbinden met GPS-ontvanger.%0a Fout tijdens het openen van seri??? poort
+4405=possible redenen: \n ander (GPS-) programma is het blokkeren van de poort%0awrong poort%0aOn Loox: actief infra-rood poort wordt geblokkeerd door GPS "
 4406=Kopieer jave_ewe.dll in de directory van het programma cachewolf
 4407=Het profiel bestanden worden niet in de huidige indeling.%0aTherefore ze nu omgezet naar de huidige indeling. Afhankelijk van de grootte van het profiel en de computer voor dit kan enkele minuten duren. Houd er rekening met ons tot de conversie is gedaan.
 4408=Kan geen verbinding maken RAPV:
-4409=%0apossible redenen:%0aGPSD host niet bereikbaar is of RAPV is niet actief zijn
+4409=possible redenen:%0aGPSD host niet bereikbaar is of RAPV is niet actief zijn
 4500=Tot:
 4501=Vis:
 4502=Fnd:
 4600=Sommige caches kunnen niet worden getoond door verkeerde blacklist status.
-4700=negeren fout tijdens%0alezing de kalibratie bestand%0a
+4700=negeren fout tijdens%0alezing de kalibratie bestand
 4701=Zoeken naar beste kaart
 4702=Optimalisatie
 4703=Cachewolf kan laden kaarten veel sneller door toevoegen van een identificatiemerk op de bestandsnaam. Wil je dat ik om dit te doen nu?%0aIt kan enkele minuten duren.
-4704=%0ahernoemen bestand:
-4705=mislukt hernoemen:%0a
-4706=%0ato:%0an
+4704=hernoemen bestand:
+4705=mislukt hernoemen:
+4706=to:%0an
 4707=I/O-fout tijdens het lezen:
 4708=Fout tijdens het lezen:
-4709=Kan niet vinden afbeelding assiciated naar:%0a
+4709=Kan niet vinden afbeelding assiciated naar:
 4800=Laden kaart online diensten
-4801=negeren fout tijdens het lezen van%0a Web Map Service definitie bestand%0a
+4801=negeren fout tijdens het lezen van%0a Web Map Service definitie bestand
 4802=Downloaden gekalibreerd (geografische referenties)%0a kaartbeeld %0a '
 4803='%0a laden tegel%0a rij
-4804= kolom
+4804=kolom
 4805=Tile
 4806=: negeren fout:
 4807=loadTo: failed to download kaart: didn't get http - redirect
 4808=downloadImage: content-type:
-4809= is niet een beeld, een begin van de inhoud:
-4810=Fout tijdens het downloaden of opslaan kaart:%0a
+4809=is niet een beeld, een begin van de inhoud:
+4810=Fout tijdens het downloaden of opslaan kaart:
 4811=OnlineMapService: getMapInfoObjectInternal (Area maparea, punt pixelsize):%0a Deze methode moet worden overbelast met het oog op in staat zijn om het te gebruiken
-4812=WebMapService: pand> Naam: <ontbreekt in bestand:%0a
-4813=WebMapService: pand> MainUrl: <ontbreekt in bestand:%0a
+4812=WebMapService: pand> Naam: <ontbreekt in bestand:
+4813=WebMapService: pand> MainUrl: <ontbreekt in bestand:
 4814=WebMapService: geen CoordinateReferenceSystemCacheWolf gegeven
-4815=Co?rdinaat referentie systeem niet ondersteund door CacheWolf:%0a
-4816=WebMapService: onroerend goed > CoordinateReferenceSystemUrlPart: <ontbreekt in bestand:%0a
+4815=Co??rdinaat referentie systeem niet ondersteund door CacheWolf:
+4816=WebMapService: onroerend goed > CoordinateReferenceSystemUrlPart: <ontbreekt in bestand:
 4817=Aantal strings in CoordinateReferenceSystemUrlPart (
 4818=) moet overeenkomen met het aantal codes in CoordinateReferenceSystemCacheWolf (
 4819=) gebruik normale ruimte als scheidingsteken
-4820=WebMapService: onroerend goed > CoordinateReferenceSystemUrlPart: <onjuist in bestand:%0a
-4821=WebMapService: pand> ImageFileExtension: < ontbreekt in bestand:%0a
+4820=WebMapService: onroerend goed > CoordinateReferenceSystemUrlPart: <onjuist in bestand:
+4821=WebMapService: pand> ImageFileExtension: < ontbreekt in bestand:
 4822=zone:
 4823=niet onder dienst:
 4824=, service area:
 4825=schaal
 4826=niet ondersteund door online kaart service, ondersteund schaal range:
 4827=(gemeten in meters per pixel verticaal)
-4828=Co?rdinaat systeem niet ondersteund door Cachewolf:
+4828=Co??rdinaat systeem niet ondersteund door Cachewolf:
 4829=getUrlForBoundingBox: Point:
-4830=Geen overeenkomende Gau% df-Kr% fcger-streep in de EPSG-code lijst in het. WMS
-4831=getMapInfoObject: Co?rdinaat systeem niet ondersteund door Cachewolf:
-4900=+ is niet een Duitse Gauss-Krueger te co?rdineren
-4920=EPSG code +
-4921=+ niet ondersteund
-4922=EPSG code ontbreekt in: +
-4923=fromWgs84: EPSG code +
-4924=ToWgs84: EPSG code +
+4830=Geen overeenkomende Gau??f-Kr??cger-streep in de EPSG-code lijst in het. WMS
+4831=getMapInfoObject: Co??rdinaat systeem niet ondersteund door Cachewolf:
+4900=%20 is niet een Duitse Gauss-Krueger te co??rdineren
+4920=EPSG code %20
+4921=%20 niet ondersteund
+4922=EPSG code ontbreekt in: %20
+4923=fromWgs84: EPSG code %20
+4924=ToWgs84: EPSG code %20
 5000=Laad cache lijst
 5001=Kan niet extra waypoint laaden.%0aGelieve te laaden hoofd Waypoint.
 5002=Op het ogenblik is deze functie slechts toepasselijk voor geocaching.com en opencaching.{cz,de,org.uk,pl}.
@@ -970,19 +970,19 @@
 5506=Password
 5507=Status
 5508=Bezig met inloggen...
-5509=Co%f6rdinaten voor middelpunt moeten worden ingegeven.
+5509=Co??rdinaten voor middelpunt moeten worden ingegeven.
 5510=Spider options
-5511=Gevonden+
-5512=+niew/update caches
-5513=Bezig met laden:+
-5514=%0aTravelbug
+5511=Gevonden%20
+5512=%20niew/update caches
+5513=Bezig met laden:%20
+5514=Travelbug
 5515=Failed to load-cache.%0aPlease Controleer je internetverbinding.%0aRetry?
-5516=+cache beschrijvingen%0acould niet worden geladen.
+5516=%20cache beschrijvingen%0acould niet worden geladen.
 5517=Spider updates?
-5518=+caches in de database moet een update. Update nu?
+5518=%20caches in de database moet een update. Update nu?
 5519=Informatie
 5520=Alleen de gegeven maximum van caches waren geladen.%0aRepeat spideren later meer caches te laden.%0aNo reeds bestaande caches zijn bijgewerkt.
-5521=Page+
+5521=Page%20
 5522=Controleer voor oudere xml-bestanden (zonder <CACHE... />)?
 6000=Guid
 6001=Naam
@@ -1002,8 +1002,8 @@
 6018=Naam Travelbug
 6019=Tracking nummer
 6020=Travelbug niet gevonden
-6021=Meer dan %e9%e9n Travelbug gevonden. Specificeer de namen duidelijker.
-6022=:Huidige cache:+
+6021=Meer dan ????n Travelbug gevonden. Specificeer de namen duidelijker.
+6022=:Huidige cache:%20
 6025=Naam:
 6026=Tracking #:
 6027=Id/Guid:
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb in Cygnus
 6126=Mimosa in Zuiderkruis
-7000=Vrijgeven:+
-7001=Vrijgeven kandidaat:+
-7002=in ontwikkeling, stabiel:+
-7003=in ontwikkeling, de nieuwste:+
+7000=Vrijgeven:%20
+7001=Vrijgeven kandidaat:%20
+7002=in ontwikkeling, stabiel:%20
+7003=in ontwikkeling, de nieuwste:%20
 7010=al actueel
 7011=Update beschikbaar
 7012=niet beschikbaar
 7013=fout
 7020=aanbevolen versie type
 7021=type van deze versie
-7022=Dit is:+
+7022=Dit is:%20
 7023=Fout bij het downloaden van de huidige versie informatie
 7100=Serial Port Opties
 7101=Update Poorten$u
@@ -1056,23 +1056,23 @@
 7103=Scannen$u
 7104=Proef$t
 7105=Voorwaarts GPS-gegevens te hosten
-7106=Alle gegevens van GPS wordt verstuurd naar TCP-poort 23%0a en kan er worden doorgestuurd naar een seri%eble poort%0a door
+7106=Alle gegevens van GPS wordt verstuurd naar TCP-poort 23%0a en kan er worden doorgestuurd naar een seri??le poort%0a door
 7107=Interval in seconden voor houtkap
-7108=Fout: failed to open seri%eble poort:+
-7109=Fout: Kon geen lijst van beschikbare seri%eble poorten%0a
-7110=GPS niet gevonden%0a
-7111=Proberen+
-7112=op+
-7113=- ik heb bepaalde gegevens%0a
-7114=GPS Poort gevonden%0a
-7115=- Geen GPS-gegevens tag gevonden%0a
-7116=- geen gegevens ontvangen%0a
-7117=Displaying gegevens van seri?le poort direct:%0a
+7108=Fout: failed to open seri??le poort:%20
+7109=Fout: Kon geen lijst van beschikbare seri??le poorten
+7110=GPS niet gevonden
+7111=Proberen%20
+7112=op%20
+7113=- ik heb bepaalde gegevens
+7114=GPS Poort gevonden
+7115=- Geen GPS-gegevens tag gevonden
+7116=- geen gegevens ontvangen
+7117=Displaying gegevens van seri??? poort direct:
 7118=Stop
 7119=Stop
 7120=Geannuleerd
 7121=ontvangen van GPS-ontvangst gpsd
-7122=GPS-gegevens worden ontvangen van een gpsd server, niet van een seri?le poort
+7122=GPS-gegevens worden ontvangen van een gpsd server, niet van een seri??? poort
 7200=Gebruik: CacheWolf [-c <pad naar pref.xml>] [-debug]
 7300=Straat / POI
 7301=Stad
@@ -1083,6 +1083,6 @@
 7306=zoeken...
 7307=geannuleerd door gebruiker
 7308=Kan geen verbinding
-    {..}
 {..}
 {..}
+{..}

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,4 +1,4 @@
-{cachewolf.Languages}
+???{cachewolf.Languages}
 {LocalResources}
 {pl}
 1=Zwyczaj
@@ -60,7 +60,7 @@
 128=Przez szablon
 129=z pliku
 130=z Opencaching
-131=z GC wok%f3l centrum
+131=z GC wok??l centrum
 132=Explorist
 133=Szukaj wszystkich
 134=Zaznaczony Cache
@@ -93,12 +93,12 @@
 161=Pokaz czarna liste
 162=Sciagnij skalibrowane
 170=Wybierz folder z danymi
-171=Profil nie istnieje:+
-172=Blad: nie mozna utworzyc katalogu map:%0a
+171=Profil nie istnieje:%20
+172=Blad: nie mozna utworzyc katalogu map:
 173=GPSBabel:
 174=Krotkie nazwy
 175=Importuj
-176=Pierwsze uruchomienie %0a Prosze wybrac katalog z danymi %0a i stworzyc swoj profil %0a%0a Dla zaawansowanych: %0a Blad odczytu pliku wlasciwosci:%0a
+176=Pierwsze uruchomienie %0a Prosze wybrac katalog z danymi %0a i stworzyc swoj profil %0a%0a Dla zaawansowanych: %0a Blad odczytu pliku wlasciwosci:
 177=-- chwilowo nieuzywane--
 178=Sprawdz wersje
 179=Jestes na%0atej wersji.
@@ -131,8 +131,8 @@
 207=** free/unused/depreciated **
 208=Przebuduj index
 209=Trwa przebudowywanie index
-210=Skrzynki skresla sie:+
-211=%0aSkrzynki brzmieniu:+
+210=Skrzynki skresla sie:%20
+211=Skrzynki brzmieniu:%20
 212=Usun wszystkie pliki .xml, ktore nie sa w index.xml i zalaczone obrazy
 213=Usuwanie sierot
 214=Nowy WaypointUsunacUsunac
@@ -145,7 +145,7 @@
 221=Nadpisac filtr?
 222=Taki filtr juz istnieje. Nadpisac?
 223=Usunac filtr?
-224=+- Usunac zapisany filtr?
+224=%20- Usunac zapisany filtr?
 225=Takze w logach
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -176,7 +176,7 @@
 272=Wersja CacheWolf-a:
 273=[filter on/off]
 274=nie Autosortowanie
-275=waypoint juz istnieje!%0a punkt trasy przed wyjazdem szczeg%f3ly prosze zmienic!
+275=waypoint juz istnieje!%0a punkt trasy przed wyjazdem szczeg??ly prosze zmienic!
 299=Wyrazenie regularne (zwykle)
 300=Typ:
 301=Rozmiar:
@@ -202,7 +202,7 @@
 321=Blad
 322=Nie znaleziono obrazkow/map
 323=Fehler beim Schreiben der Datei
-324= - sprobowac ponownie?
+324=- sprobowac ponownie?
 325=Za malo punktow odniesienia, mapa nie skalibrowana.
 326=Nie ma dostepnej skalibrowanej mapy. %0a Prosze wybrac inna skale by wyswietlic trase i skrzynki.
 327=Informacje
@@ -340,7 +340,7 @@
 740=wszystkie
 741=jedna
 742=zadna
-743=Bez wsp%f3lrzednych
+743=Bez wsp??lrzednych
 800=Tworzenie listy
 801=Szukanie...
 802=Skrzynki zidentyfikowane. Szukanie...
@@ -391,8 +391,8 @@
 1026=#Rec
 1027=OC-Idx
 1028=)?
-1029=Uwaga. Sa waypointy zaznaczone ale niewidoczne.%0a(Glowne skrzynki:+
-1030=, dodatkowe waypointy:+
+1029=Uwaga. Sa waypointy zaznaczone ale niewidoczne.%0a(Glowne skrzynki:%20
+1030=, dodatkowe waypointy:%20
 1031=Usunac je takze?
 1032=sciezka do przegladarki:
 1033=nieprawidlowa!
@@ -473,12 +473,12 @@
 1503=Polnoc wysrodkowane
 1504=Start GPS
 1505=Stop GPS
-1506= Mapa
+1506=Mapa
 1507=Wspolrzedne poza zasiegiem:
 1508=szerokosc
 1509=dlugosc
 1510=Brak danych z GPS%0aZamkniete polaczenie do portu
-1511=Bledne dane z GPS%0a mozliwe przyczyny:%0a zly Port,%0a zla predkosc portu (Baudrate),%0a protokol nie NMEA%0aPolaczenie z portem zerwane%0aOstatni wiersz probowany do interpretacji:%0a
+1511=Bledne dane z GPS%0a mozliwe przyczyny:%0a zly Port,%0a zla predkosc portu (Baudrate),%0a protokol nie NMEA%0aPolaczenie z portem zerwane%0aOstatni wiersz probowany do interpretacji:
 1512=Waypoint
 1513=Nie mozna poruszac mapy bez prawidlowych wspolrzednych.%0a Prosze Wprowadz Wspolrzedne srodka %0alub na wybrana skrzynke, lub pozycja GPS
 1514=Nie mozna przeliczyc odleglosci, pozycja GPS nie ustawiona
@@ -499,14 +499,14 @@
 1614=Blad podczas rozpakowywania %0apliku update'u
 1615=Blad przeliczania pliku, stan:
 1616=Blad: nie moge sciagnac pliku z opencaching
-1617=Ignoruje Blad w html-skrzynka-opis: "<img" without "src=" dla skrzynki+
-1618=Ignoruje Blad w skrzynce:+
-1619=: nie moge pobrac obrazka z URL:+
-1620=Sciagam osadzone grafiki:+
+1617=Ignoruje Blad w html-skrzynka-opis: "<img" without "src=" dla skrzynki%20
+1618=Ignoruje Blad w skrzynce:%20
+1619=: nie moge pobrac obrazka z URL:%20
+1620=Sciagam osadzone grafiki:%20
 1621=Blad podczas interpretacji danych%0a Z Opencaching,%0aNajpopularniejszy blad w Opencaching%0aSprobuj pozniej%0a Status:
 1622=Wyklucz znalezione skrzynki
 1623=Max. numer:
-1624=+skrzynek
+1624=%20skrzynek
 1625=Sciagnij TBs
 1626=Max. logow:
 1627=Wszystkie skrzynki
@@ -515,7 +515,7 @@
 1630=np. puste lub N lub N* lub N,S,E
 1631=Max. Aktualizacje:
 1700=Blad on line:
-1701= pozycja:
+1701=pozycja:
 1702=Zmienna niezdefiniowana:
 1703=Nieprawidlowy numer:
 1704=Nieoczekiwany koniec
@@ -527,7 +527,7 @@
 1710=Nie moge liczyc pustego ciagu
 1711=Ciagi musza byc tej samej dlugosci
 1712=Zle wspolrzedne:
-1713=Zly format wspolrzednych. Dozwolone to cw / dd / dmm / dms /+
+1713=Zly format wspolrzednych. Dozwolone to cw / dd / dmm / dms /%20
 1714=GoTo: Waypoint nie istnieje:
 1715=instr: Pozycja poczatkowa nie w ciagu
 1716=mid: Oczekiwano wartosci calkowitej
@@ -573,12 +573,12 @@
 1813=Sciagnij mape dla
 1814=Dla skrzynki
 1815=Sciaganie skalibrowanych map
-1816=Sciaganie skalibrowanych map %0a %0a %0a %0a %0a
+1816=Sciaganie skalibrowanych map
 1817=Nie wybrano skrzynek
 1818=getSortedMapServiceIndex: index
 1819=Nienaleziona
 1820=Sciagam mape '
-1821=%0a dla skrzynki:%0a
+1821=dla skrzynki:
 1822=Skrzynka:
 1823=Ignoruje blad:
 1824=sciaganie mapy przegladawej
@@ -588,8 +588,8 @@
 1828='overlapping' musi byc rowne lub wieksze niz 0
 1829=Prosze Wprowadz 'srodek' wokol ktorego sciagnac mape
 1830=Wybrany serwis map online daje mapy w skali od
-1831= do
-1832=%0a Prosze dostosowac 'Approx. meter pro pixel' accordingly
+1831=do
+1832=Prosze dostosowac 'Approx. meter pro pixel' accordingly
 1833=Prosze nie wybierac lini separatora w opcjach serwisu wms
 1834=Prosze wpisac poprawna sciezke do Kosmos.Console.exe w wms pliku.
 1835=[Tilesize:]
@@ -727,20 +727,20 @@
 2622=specjalny typ pamieci podrecznej
 2623=bez noclegu wymagane
 2624=nocleg wymagane
-2625 =
-2626 =
-2627 =
-2628 =
+2625=
+2626=
+2627=
+2628=
 2629=no riddle
 2630=zagadka
-2631 =
-2632 =
+2631=
+2632=
 2633=plaskim terenie
-2634=tereny g%f3rzyste
+2634=tereny g??rzyste
 2635=Nie w wodzie
 2636=w wodzie
-2637=plyw%f3w niezalezne
-2638=plyw%f3w utrzymaniu
+2637=plyw??w niezalezne
+2638=plyw??w utrzymaniu
 2639=nie zwiazane z okreslonym czasie
 2640=zwiazane z okreslonym czasie
 2641=bez potrzeby uzycia specjalnego sprzetu
@@ -773,8 +773,8 @@
 2668=Park i zlapal
 2669=nie Abandoned struktury
 2670=Abandoned struktury
-2671=nie Kr%f3tkie wycieczki
-2672=Kr%f3tka wycieczka
+2671=nie Kr??tkie wycieczki
+2672=Kr??tka wycieczka
 2673=brak Medium Hike
 2674=Medium Hike
 2675=brak Long Hike
@@ -784,7 +784,7 @@
 2679=brak zywnosci w poblizu
 2680=Zywnosci w poblizu
 3000=Zamknij
-4000=Wczytaj skrzynki:+
+4000=Wczytaj skrzynki:%20
 4001=Pliki GPX z opencaching nie zawieraja informacji o obrazach, nie moga byc one wczytane. Najlepiej pobierz skrzynki z opencaching przez menu /Aplikacja/Importuj/Sciagnij Z Opencaching
 4100=Wybierz katalog:
 4101=Mapy
@@ -798,34 +798,34 @@
 4109=Wczytuje mapy...
 4110=wczytuje
 4111=Wspolrzedne musza byc wprowadzone w formacie N XX XX.XXX E XXX XX.XXX
-4112=IO-Blad podczas kopiowania obrazu z:+
-4113=do:+
-4114=+Blad:+
-4115=Blad: nie moge odczytac obrazu:+
-4116=+-+obraz nie skopiowany
-4117=Blad podczas importowania pliku .map:+
+4112=IO-Blad podczas kopiowania obrazu z:%20
+4113=do:%20
+4114=%20Blad:%20
+4115=Blad: nie moge odczytac obrazu:%20
+4116=%20-%20obraz nie skopiowany
+4117=Blad podczas importowania pliku .map:%20
 4118=IO-Blad podczas wczytywania lub nadpisywania pliku
-4119=Plik kalibracji nie znaleziony dla:+
+4119=Plik kalibracji nie znaleziony dla:%20
 4120=skonczone.
 4200=Wybierz katalog map
 4201=Informacja
 4203=Wczytuje liste map...
 4204=Brak skalibrowanej mapy %0a Prosze Wybierz skale %0a by pokazac trase i skrzynki. %0a Mozesz uzyskac jakas przez menu: Aplikacja/Mapy/sciagnij skalibrowane
-4206=Dist:+
+4206=Dist:%20
 4207=Blad
-4208=Bug: %0anieprawidlowy mapChangeModus:+
+4208=Bug: %0anieprawidlowy mapChangeModus:%20
 4210=Przesuwanie mapy nie moze dzialac bez mapy - Prosze wybrac jakas. %0a Mozesz wybrac pusta
-4211=Zadna+
+4211=Zadna%20
 4212=mniej
 4213=bardziej
-4214=+szczegolowa mapa dostepna
+4214=%20szczegolowa mapa dostepna
 4215=Nie ma skrzynek wybraych
 4216=Wczytuje mape...
-4217=Nie moge znalezc obrazow polaczonych z: %0a
-4218=Nie moge wczytac mapy: %0a
-4219=Za malo pamieci do wczytania mapy: %0a
-4220=%0a Mozesz sprobowac zamknac %0a wszystkie programy %0a i zrestartowac CacheWolfa
-4221=Za malo zrodel do wczytania mapy:+
+4217=Nie moge znalezc obrazow polaczonych z:
+4218=Nie moge wczytac mapy:
+4219=Za malo pamieci do wczytania mapy:
+4220=Mozesz sprobowac zamknac %0a wszystkie programy %0a i zrestartowac CacheWolfa
+4221=Za malo zrodel do wczytania mapy:%20
 4222=Za malo pamieci
 4230=Idz tu$g
 4231=Idz tu
@@ -884,75 +884,75 @@
 4294=zoom
 4295=center
 4296=detailing
-4300=Pusty 1 Pixel =+
-4301=+metrow
-4302=Lat/Lon poza obszarem podczas wczytywania+
-4303=za malo lini w pliku+
+4300=Pusty 1 Pixel =%20
+4301=%20metrow
+4302=Lat/Lon poza obszarem podczas wczytywania%20
+4303=za malo lini w pliku%20
 4304=za malo punktow do kalibracji mapy.
-4305=Nieprawidlowe wartosci afiniczne %0a (macierz nie moze byc odwrocona)%0a w pliku %0a
+4305=Nieprawidlowe wartosci afiniczne %0a (macierz nie moze byc odwrocona)%0a w pliku
 4306=mapa nie skalibrowana
 4400=Uwaga
-4401=Ignoruje Blad:%0a nie moge podac danych GPS do hosta:%0a
-4402=%0azatrzymaj i uruchom GPS by sprobowac ponownie
+4401=Ignoruje Blad:%0a nie moge podac danych GPS do hosta:
+4402=zatrzymaj i uruchom GPS by sprobowac ponownie
 4403=Blad
-4404=Nie moge polaczyc z odbiornikiem GPS.%0a Blad otwarcia Portu szeregowego%0a
-4405=%0amozliwe przyczyny:\n Inny (GPS-)program blokuje port%0azly port%0aLoox: aktywna podczerwien blokuje GPS"
+4404=Nie moge polaczyc z odbiornikiem GPS.%0a Blad otwarcia Portu szeregowego
+4405=mozliwe przyczyny:\n Inny (GPS-)program blokuje port%0azly port%0aLoox: aktywna podczerwien blokuje GPS"
 4406=Prosze kopiuj jave_ewe.dll do katalogu z programem
-4407=Pliki Profilu sa w nieaktualnym formacie.%0aZostaja na sile przekonwertowywane na aktualny format.%0a W zaleznosci od wielkosci profilu i mozliwosci komputera moze to chwile potrwac.%0a Prosze czekac?]
+4407=Pliki Profilu sa w nieaktualnym formacie.%0aZostaja na sile przekonwertowywane na aktualny format.%0a W zaleznosci od wielkosci profilu i mozliwosci komputera moze to chwile potrwac.%0a Prosze czekac??]
 4408=Nie moge polaczyc z GPSD:
-4409=%0amozliwe przyczyny:%0aGPSD host nieosiagalny lub GPSD tu nie dziala
+4409=mozliwe przyczyny:%0aGPSD host nieosiagalny lub GPSD tu nie dziala
 4500=Wsz:
 4501=Odw:
 4502=Zna:
 4600=Niektore skrzynki nie moga byc wyswietlone bo sa na blackliscie
-4700=Ignoruje blad podczas%0aodczytu pliku kalibracji%0a
+4700=Ignoruje blad podczas%0aodczytu pliku kalibracji
 4701=Szukam najlepszej mapy
 4702=Optymalizacja
 4703=Cachewolf moze wczytywac mapy duzo szybciej%0a dodajac znaczniki identyfikujace do nazwy pliku. %0a Zrobic to teraz?%0aTo moze zajac pare minut.
-4704=%0aPonownie nazywam plik:
-4705=Blad ponownego nazywania:%0a
-4706=%0ado:%0
+4704=Ponownie nazywam plik:
+4705=Blad ponownego nazywania:
+4706=do:%0
 4707=I/O-Blad podczas odczytu:
 4708=Blad podczas odczytu:
-4709=Nie moge znalezc obrazka powiazanego z:%0a
+4709=Nie moge znalezc obrazka powiazanego z:
 4800=Wczytuje serwisy map online
-4801=Ignoruje blad podczas %0a wczytywania pliku definicji serwera mapy%0a
+4801=Ignoruje blad podczas %0a wczytywania pliku definicji serwera mapy
 4802=Sciagam skalibrowany (z georeferencjami) %0a obraz mapy %0a '
-4803=' %0a Sciagam rzad %0a
-4804= kolumna
+4803=' %0a Sciagam rzad
+4804=kolumna
 4805=Pole
 4806=: Ignoruje blad:
 4807=loadTo: nieudane sciaganie mapy: nie ma przekierowania http
 4808=downloadImage: content-type:
-4809= to nie obraz, poczatek struktury zawartosci:
-4810=Blad podczas sciagania lub zapisu mapy:%0a
+4809=to nie obraz, poczatek struktury zawartosci:
+4810=Blad podczas sciagania lub zapisu mapy:
 4811=OnlineMapService: getMapInfoObjectInternal(Pole mapy, Point pixelsize):%0a This method must be overloaded in order to be able to use it
-4812=WebMapService: dane >Nazwa:< brakuje w pliku:%0a
-4813=WebMapService: dane >MainUrl:< brakuje w pliku:%0a
+4812=WebMapService: dane >Nazwa:< brakuje w pliku:
+4813=WebMapService: dane >MainUrl:< brakuje w pliku:
 4814=WebMapService: CoordinateReferenceSystemCacheWolf nie ma zadnej wartosci
-4815=System powiazan wspolrzednych nie wspierany przez CacheWolf:%0a
-4816=WebMapService: dane >CoordinateReferenceSystemUrlPart:< brak w pliku:%0a
+4815=System powiazan wspolrzednych nie wspierany przez CacheWolf:
+4816=WebMapService: dane >CoordinateReferenceSystemUrlPart:< brak w pliku:
 4817=numer wierszy w CoordinateReferenceSystemUrlPart (
 4818=) musi byc taki sam jak numer kodu w CoordinateReferenceSystemCacheWolf (
 4819=) uzyj spacji do rozdzielenia
-4820=WebMapService: dane >CoordinateReferenceSystemUrlPart:< bledne w pliku:%0a
-4821=WebMapService: dane >ImageplikExtension:< brak w pliku:%0a
+4820=WebMapService: dane >CoordinateReferenceSystemUrlPart:< bledne w pliku:
+4821=WebMapService: dane >ImageplikExtension:< brak w pliku:
 4822=obszar:
-4823= brak pokrycia w serwisie:
+4823=brak pokrycia w serwisie:
 4824=, obszar:
 4825=skala
-4826= nie obslugiwane przez serwer online, zastosuj skale:
-4827= (mierzone w metrach na piksel pionowo)
+4826=nie obslugiwane przez serwer online, zastosuj skale:
+4827=(mierzone w metrach na piksel pionowo)
 4828=Cachewolf nie wspiera takich wspolrzednych:
 4829=getUrlForBoundingBox: Point:
-4830=Nie pasujace Gau%df-Kr%fcger-Stripe w kodzie EPSG w pliku .wms
+4830=Nie pasujace Gau??-Kr??ger-Stripe w kodzie EPSG w pliku .wms
 4831=getMapInfoObject: Cachewolf nie wspiera takich wspolrzednych:
-4900=+to nie sa koordynaty Gauss-Krueger
-4920=EPSG code+
-4921=+nie wspierane
-4922=EPSG code brakujacy w:+
-4923=fromWgs84: EPSG code+
-4924=ToWgs84: EPSG code+
+4900=%20to nie sa koordynaty Gauss-Krueger
+4920=EPSG code%20
+4921=%20nie wspierane
+4922=EPSG code brakujacy w:%20
+4923=fromWgs84: EPSG code%20
+4924=ToWgs84: EPSG code%20
 5000=Wczytuje liste skrzynek
 5001=Nie moge powiazac spiderem waypointow bezposrednio.%0aProsze sprawdzic glowna skrzynke.
 5002=: Na ten moment, ta funkcja jest dostepna tylko dla geocaching.com i opencaching.{cz,de,org.uk,pl}.
@@ -972,18 +972,18 @@
 5508=Loguje...
 5509=Wspolrzedne dla srodka musza byc podane
 5510=Opcje Spidera
-5511=Znaleziona+
-5512=+nowy/aktualizacja skrzynki
-5513=Wczytuje:+
-5514=%0aPobieram bugi:+
+5511=Znaleziona%20
+5512=%20nowy/aktualizacja skrzynki
+5513=Wczytuje:%20
+5514=Pobieram bugi:%20
 5515=Nie mozna zaladowac skrzynki.%0aProsze sprawdzic polaczenie z netem.%0aSprobowac ponownie?
-5516=+Nie mozna zaladowac%0aopisu skrzynek.
+5516=%20Nie mozna zaladowac%0aopisu skrzynek.
 5517=Spider updates?
-5518=+Skrzynki w bazie wymagaja update'u.%0aZrobic to teraz?
+5518=%20Skrzynki w bazie wymagaja update'u.%0aZrobic to teraz?
 5519=Informacje
 5520=Tylko zadane maksimum zostalo wczytane.%0aPowtorz pozniej by znalezc inne skrzynki.%0aZadna z dotychczasowych skrzynek nie zostala updateowana.
-5521=Strona+
-5522=Sprawdz starszych plik%f3w XML (bez <CACHE... />)?
+5521=Strona%20
+5522=Sprawdz starszych plik??w XML (bez <CACHE... />)?
 6000=Przewodnik
 6001=Nazwa
 6002=sciezka#
@@ -1003,7 +1003,7 @@
 6019=Tracking numer
 6020=Travelbug nie znaleziony.
 6021=Wiecej niz jeden travelbug Znaleziony. Sprecyzuj nazwe.
-6022=: aktualna cache:+
+6022=: aktualna cache:%20
 6025=Nazwa:
 6026=Tracking #:
 6027=Id/Guid:
@@ -1033,22 +1033,22 @@
 6104=Cassiopeia
 6105=Cygnus
 6106=Krzyzu Poludnia
-6122=Altioth w Wielki W%f3z
+6122=Altioth w Wielki W??z
 6123=Alnilam w Orionie
 6124=Gamma Cassiopeia
 6125=Deneb w gwiazdozbiorze Labedzia
 6126=Mimosa w Krzyzu Poludnia
-7000=Wypuszczona:+
-7001=kandydata wydania:+
-7002=w opracowaniu, stabilna:+
-7003=w opracowaniu, najnowsza:+
+7000=Wypuszczona:%20
+7001=kandydata wydania:%20
+7002=w opracowaniu, stabilna:%20
+7003=w opracowaniu, najnowsza:%20
 7010=aktualny
 7011=Uptade dostepny
 7012=niedostepne
 7013=Blad
 7020=Typ rekomendowanej wersji
 7021=typ tej wersji
-7022=to jest:+
+7022=to jest:%20
 7023=Blad sciagania informacji aktualnej wersji
 7100=Opcje portu szeregowego
 7101=Update Ports$u
@@ -1058,16 +1058,16 @@
 7105=Przekaz dane GPS do hosta
 7106=Wszystkie dane z GPS beda przeslane na port 23 TCP%0a i moga byc przekierowane na port szeregowy%0a przez
 7107=Przerwa w sekundach dla logowania
-7108=Blad: Nieudane otwarcie portu szeregowego:+
-7109=Blad: Nie moge zyskac danych o portach szeregowych%0a
-7110=GPS nie znaleziony%0a
-7111=Probowanie+
-7112= +
-7113= - sa jakies dane%0a
-7114=GPS Port Znaleziony%0a
-7115= - Nie znaleziono tagu danych GPS%0a
-7116= - nie otrzymano danych%0a
-7117=Pokazuje dane bezposrednio z portu:%0a
+7108=Blad: Nieudane otwarcie portu szeregowego:%20
+7109=Blad: Nie moge zyskac danych o portach szeregowych
+7110=GPS nie znaleziony
+7111=Probowanie%20
+7112=%20
+7113=- sa jakies dane
+7114=GPS Port Znaleziony
+7115=- Nie znaleziono tagu danych GPS
+7116=- nie otrzymano danych
+7117=Pokazuje dane bezposrednio z portu:
 7118=Stop
 7119=Stop
 7120=Anulowano
@@ -1083,6 +1083,6 @@
 7306=Szukaj...
 7307=Anulowane przez uzytkownika
 7308=Nie mozna polaczyc
-     {..}
-       {..}
 {..}
+{..}
+{..}

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,4 +1,4 @@
-{cachewolf.Languages}
+???{cachewolf.Languages}
 {LocalResources}
 {sv}
 1=Anpassad
@@ -37,18 +37,18 @@
 105=till TomTom
 106=till MS AutoRoute CSV
 107=Exportera
-108=Inst%e4llningar
+108=Inst??llningar
 109=Ladda cachar
 110=Spara & Avsluta
 111=Avsluta
-112=S%f6k
+112=S??k
 113=Clear Search
 114=Edit & filter
 115=Invertera filter
 116=Rensa filter
 117=Om
 118=WolfLanguage
-119=S%f6k efter:
+119=S??k efter:
 120=Application
 121=Profil
 122=till Garmin
@@ -58,26 +58,26 @@
 126=till TomTom ov2
 127=Spara
 128=via Mall
-129=fr%e5n fil
-130=fr%e5n opencaching
-131=fr%e5n GC runt centrum
+129=fr??n fil
+130=fr??n opencaching
+131=fr??n GC runt centrum
 132=till eXplorist
-133=S%f6k alla
+133=S??k alla
 134=Valda Cache
 135=till SpoilerPOI
 136=to GPS : gpsbabel missing.
-137=fr%e5n GC l%e4ngs rutten
-138=fr%e5n GC snabb %f6verblick
+137=fr??n GC l??ngs rutten
+138=fr??n GC snabb ??verblick
 139=Hantera Travelbugs
 140=Sortera
 141=Kopiera
 142=Flytta
 143=Ta bort
 144=Varning
-145=Uppgifter om alla visat v%e4gpunkter kommer att tas bort! Forts%e4tta?
-146=Uppgifter om alla visat v%e4gpunkter kommer att kopieras! Forts%e4tta?
-147=Uppgifter om alla visat v%e4gpunkter kommer att flyttas! Forts%e4tta?
-148=V%e4lj m%e5lkatalog
+145=Uppgifter om alla visat v??gpunkter kommer att tas bort! Forts??tta?
+146=Uppgifter om alla visat v??gpunkter kommer att kopieras! Forts??tta?
+147=Uppgifter om alla visat v??gpunkter kommer att flyttas! Forts??tta?
+148=V??lj m??lkatalog
 149=Maps
 150=Importera
 151=Kalibrera
@@ -85,42 +85,42 @@
 153=Karta import lyckad
 154=Fel vid import karta!
 155=Legend
-156=Slut p%e5 minne fel, karta till stora
+156=Slut p?? minne fel, karta till stora
 157=System
 158=versionkontroll
 159=Filter
 160=Filter markeras ut
 161=Visa Blacklist
 162=Ladda kalibrerad
-170=V%e4lj databas
-171=profil finns inte: +
-172=Fel: kan inte skapa kartor katalog:%0a
+170=V??lj databas
+171=profil finns inte: %20
+172=Fel: kan inte skapa kartor katalog:
 173=gpsbabel:
 174=korta namn
 175=Importera
-176=F%f6rsta start%0a V%e4lj en data 0a katalog% och skapa en ny profil%0a%0a avancerat:%0a inte kunde l%e4sa inst%e4llningsfil:%0a
-177 =-- inte l%e4ngre anv%e4nds --
+176=F??rsta start%0a V??lj en data 0a katalog??ch skapa en ny profil%0a%0a avancerat:%0a inte kunde l??sa inst??llningsfil:
+177=-- inte l??ngre anv??nds --
 178=versionkontroll
-179=Du %e4r p%e5%0athe nuvarande version.
+179=Du ??r p??%0athe nuvarande version.
 180=Drag cachar
-181=h%e4r
+181=h??r
 182=Ny lista
 183=Load lista
 184=Spara som
-185=Spara (utan bekr%e4ftelse)
-186=ocks%e5 dra Addi Wpts
-187=Visa endast dessa v%e4gpunkter
+185=Spara (utan bekr??ftelse)
+186=ocks?? dra Addi Wpts
+187=Visa endast dessa v??gpunkter
 188=CACHETOUR: NY
-189=Anv%e4nd Tour filter
-190=Visa endast dessa v%e4gpunkter
-191=V%e4lj fil
-192=Spara %e4ndringar
-193=L%e4gg till Addis
+189=Anv??nd Tour filter
+190=Visa endast dessa v??gpunkter
+191=V??lj fil
+192=Spara ??ndringar
+193=L??gg till Addis
 195=Nuvarande Centre
 196=totalt antal cachar (GC & OC)%0aTotal # synlig%0aTotal # hittades
-197=Visa / D%f6lj cachetour
+197=Visa / D??lj cachetour
 198=Cachetour
-199=L%e4gg till cachetour
+199=L??gg till cachetour
 200=Details
 201=Beskrivning
 202=Images
@@ -128,106 +128,106 @@
 204=Solver
 205=Radar
 206=List
-207 =** oanv%e4nda **
+207=** oanv??nda **
 208=Rebuild index
 209=Rebuilding index
-210=cachar utg%e5: +
-211 =%0aCaches till: +
-212=Ta bort alla. XML-filer inte index.xml och tillh%f6rande bilder
-213=bort f%f6r%e4ldral%f6sa
-214=Ny v%e4gpunkt
-215=f%f6r LOC
+210=cachar utg??: %20
+211=Caches till: %20
+212=Ta bort alla. XML-filer inte index.xml och tillh??rande bilder
+213=bort f??r??ldral??sa
+214=Ny v??gpunkt
+215=f??r LOC
 216=alltid logga in till GC
-217=fr%e5n GC finner
-218=%e4ven i beskrivningen / Notes
-219=S%f6ker ...
+217=fr??n GC finner
+218=??ven i beskrivningen / Notes
+219=S??ker ...
 220=Kontrollera anteckningar och solver
-221=Skriv %f6ver filter?
-222=Det finns redan. %f6ver den?
+221=Skriv ??ver filter?
+222=Det finns redan. ??ver den?
 223=Ta bort filter?
-224=+ - radera sparade filter?
-225=%e4ven i loggarna
+224=%20 - radera sparade filter?
+225=??ven i loggarna
 226=profil inte kan tas bort.
 227=aktiv profil kan inte raderas.
-228=aktiv profil kan inte d%f6pas.
-229=profil inte kan d%f6pas.
-250=ColleIsarcos texte anv%e4nds i DataMover
+228=aktiv profil kan inte d??pas.
+229=profil inte kan d??pas.
+250=ColleIsarcos texte anv??nds i DataMover
 251=Alla waypoints kommer att raderas
-252=Alla v%e4gpunkter kommer att flyttas
-253=Alla v%e4gpunkter kommer att kopieras
+252=Alla v??gpunkter kommer att flyttas
+253=Alla v??gpunkter kommer att kopieras
 254=All synlig
 255=Alla markeras
 256=Alla synliga och markeras
 257=Main
 258=Addis
-259=Vill du verkligen forts%e4tta?
+259=Vill du verkligen forts??tta?
 260=Plattform:
-261=Locale lang %e4r:
+261=Locale lang ??r:
 262=Locale land:
-263=Decimaltecken %e4r:
-264=Device %e4r PDA:
-265=sk%e4rm:
+263=Decimaltecken ??r:
+264=Device ??r PDA:
+265=sk??rm:
 266=Font storlek:
 267=poster i DB:
-268=Fil separator %e4r:
-269=Nummer %e4r:
-270=antal detaljer i RAM-minnet %e4r:
+268=Fil separator ??r:
+269=Nummer ??r:
+270=antal detaljer i RAM-minnet ??r:
 271=Maximum:
 272=CacheWolf version:
 273=filter on / off
 274=no autosort
-275=Waypoint finns redan!%0aPlease d%f6pa waypoint innan de l%e4mnar detaljer!
+275=Waypoint finns redan!%0aPlease d??pa waypoint innan de l??mnar detaljer!
 299=Vanligt uttryck
 300=Typ:
 301=Storlek:
 302=Waypoint:
 303=Namn:
 304=Plats:
-305=Dold p%e5:
-306=%e4gare:
+305=Dold p??:
+306=??gare:
 307=Status:
-308=Anm%e4rkningar:
+308=Anm??rkningar:
 309=Ange som centrum
 310=Ta bort
-311=Ny v%e4gpunkt
+311=Ny v??gpunkt
 312=Spara
 313=Flag 1
 314=skriva en anteckning
 315=behov arkiverade
-316=behov underh%e5lls
-317=S%f6k
+316=behov underh??lls
+317=S??k
 318=Found
 319=Not Found
-320=%e4gare
+320=??gare
 321=Fel
 322=Kunde inte hitta bild / karta
 323=Fehler beim Schreiben der Datei
-324=- f%f6rs%f6ka igen?
+324=- f??rs??ka igen?
 325=Inte nog referenspunkter, karta inte kalibreras
-326=Ingen kalibreras karta tillg%e4nglig. %0a V%e4lj en skala att visa sp%e5r och cachar.
+326=Ingen kalibreras karta tillg??nglig. %0a V??lj en skala att visa sp??r och cachar.
 327=Information
 328=Datum hittades
-329=Dold p%e5
+329=Dold p??
 330=Datum inte hittade
 340=Cache Bilder:
 341=User Bilder:
 342=bort
-343=Inte tillr%e4ckligt mycket minne f%f6r att ladda cache bild
+343=Inte tillr??ckligt mycket minne f??r att ladda cache bild
 344=Ta bort bild
-345=G%e5 till dessa koordinater
+345=G?? till dessa koordinater
 346=Visa travelbugs
 347=Visa karta
-348=L%e4gg till anv%e4ndare bilder
-349=V%e4xla Blacklist Status
-350=L%e4gg till tidsst%e4mpel till anteckningar
-351=L%e4gg till / redigera anteckningar
+348=L??gg till anv??ndare bilder
+349=V??xla Blacklist Status
+350=L??gg till tidsst??mpel till anteckningar
+351=L??gg till / redigera anteckningar
 353=
 354=deltar
 355=deltog
-356=tillf%e4lligt inaktivera notering
-357=m%f6jligg%f6ra notering
+356=tillf??lligt inaktivera notering
+357=m??jligg??ra notering
 358=post recensent not
-359=%e4gare underh%e5ll
+359=??gare underh??ll
 360=Flag 1
 361=Webcam Photo Taken
 362=solved
@@ -237,81 +237,81 @@
 588=Enhet System
 589=Metric (km)
 590=Imperial (mi.)
-591=L%e4mna tom f%f6r standardspr%e5k eller%0aadd 2 tecken spr%e5k, t.ex. DE, EN
-592=Spr%e5k (behov omstart)
-593=L%f6senordet %e4r frivillig h%e4r.%0aEnter bara om du vill lagra det i pref.xml
+591=L??mna tom f??r standardspr??k eller%0aadd 2 tecken spr??k, t.ex. DE, EN
+592=Spr??k (behov omstart)
+593=L??senordet ??r frivillig h??r.%0aEnter bara om du vill lagra det i pref.xml
 594=Passwd
 595=List
 596=Namn
 597=Waypoint
 598=Typ
 599=Checkbox
-600=Inst%e4llningar
+600=Inst??llningar
 601=Ditt alias:
 602=Home koordinater:
 603=databas
-604=S%f6k
+604=S??k
 605=Tabell kolumner:
-606=Sv%e5righetsgrad
+606=Sv??righetsgrad
 607=Terrain
 608=Koordinater
-609=%e4gare
-610=Hiddon p%e5
+609=??gare
+610=Hiddon p??
 611=Status
-612=Avst%e5nd
+612=Avst??nd
 613=Rubrik
 614=Avbryt
-615=Verkst%e4ll
-616=V%e4lj katalog
+615=Verkst??ll
+616=V??lj katalog
 617=Klistra in
 618=Kopiera
 619=Parse
 620=Spara
-621=Allm%e4nt
-622=sk%e4rm
+621=Allm??nt
+622=sk??rm
 623=Bilder:
 624=Visa borttagna bilder
-625=sk%e4rm (behov omstart):
+625=sk??rm (behov omstart):
 626=Meny topp
 627=Tabs topp
 628=Status
 629=Autoload sista profilen
 630=HintLogPanel: Loggar per sida
-631=PDA har n%e4ra Button
+631=PDA har n??ra Button
 632=Mer
-633=Max. loggar f%f6r att katalogisera
-634=Anv%e4nd Proxy
+633=Max. loggar f??r att katalogisera
+634=Anv??nd Proxy
 635=Storlek
 636=OC Recs
 637=OC Index
 638=Visa bilder i beskrivningen
-639=Uppdatera n%e4r spidering?
+639=Uppdatera n??r spidering?
 640=Ja
 641=Nej
 642=Ask
 643=Cache detaljer i:
 644=waypoint
 645=name
-646=cur.centre fr%e5n GPS
+646=cur.centre fr??n GPS
 647=cachegrouped sortering
-648=Fels%f6kningsl%e4ge
-649=anv%e4nda egna symboler
+648=Fels??kningsl??ge
+649=anv??nda egna symboler
 650=GC memberID:
-700=St%e4ll in filter
-701=Avst%e5nd
-702=Sv%e5righetsgrad
+700=St??ll in filter
+701=Avst??nd
+702=Sv??righetsgrad
 703=Found
 704=Not found
-705=under f%f6rra
+705=under f??rra
 706=Found
-707=%e4gare
+707=??gare
 708=Avbryt
-709=Anv%e4nd filter
+709=Anv??nd filter
 710=Archived
-711=Ej tillg%e4nglig
-712=V%e4lj rutt fil
+711=Ej tillg??nglig
+712=V??lj rutt fil
 713=Spara filter
-714=Bearing & Avst%e5nd
+714=Bearing & Avst??nd
 715=Visa alla cachar med status:
 716=Avmarkera alla
 717=Tick alla
@@ -322,18 +322,18 @@
 722=Rating
 723=Types
 724=Container
-725=Anm: Filter %e4r additiva, aktiva filter=gr%f6nt
+725=Anm: Filter ??r additiva, aktiva filter=gr??nt
 726=Extra waypoints
 727=Cache container
-728=L%e4gg till. Waypt
+728=L??gg till. Waypt
 729=Ej arkiverade
-730=Tillg%e4nglig
-731=%e4nnu inte hittat
-732=%f6vriga %e4gare
+730=Tillg??nglig
+731=??nnu inte hittat
+732=??vriga ??gare
 733=Addi WPT
-734=Inga viktigaste waypoint f%f6r
-735=Addi Waypoints m%e5ste ha formatet xxYYYY, d%e4r xx %e4r alla 2 tecken och YYYY %e4r de viktigaste cachens chars efter GC
-736=F%f6r m%e5nga stockar (gr%e4ns kan justeras i inst%e4llningarna)
+734=Inga viktigaste waypoint f??r
+735=Addi Waypoints m??ste ha formatet xxYYYY, d??r xx ??r alla 2 tecken och YYYY ??r de viktigaste cachens chars efter GC
+736=F??r m??nga stockar (gr??ns kan justeras i inst??llningarna)
 737=Cache-attribut
 738=Egenskaper
 739=Filter
@@ -342,37 +342,37 @@
 742=none
 743=Nej Koordinater
 800=Skapa lista
-801=S%f6ker ...
-802=cachar identifierats. S%f6ker ...
+801=S??ker ...
+802=cachar identifierats. S??ker ...
 803=Klart!
 804=Collecting cache detaljer
 805=samla in uppgifter om:
 900=List
 901=Loc
-902=N%e4rmaste
+902=N??rmaste
 903=Avbryt
 904=Multi
 905=Ladda Caches
-906=Lista %f6ver Caches:
-907=Max avst%e5nd:
-908=V%e4lj waypoint fil:
-909=V%e4lj fil (er)
-910=V%e4lj mallfil
+906=Lista ??ver Caches:
+907=Max avst??nd:
+908=V??lj waypoint fil:
+909=V??lj fil (er)
+910=V??lj mallfil
 950=Transfer
 951=Skicka till GPS
 952=Konvertera ...
-999=Ej inst%e4llt
+999=Ej inst??llt
 1000=D
 1001=T
 1002=Waypoint
 1003=Namn
 1004=Location
-1005=%e4gare
+1005=??gare
 1006=Hidden
 1007=Status
 1008=Dist
 1009=Bear
-1010=G%e5 till denna
+1010=G?? till denna
 1011=Filtrera bort icke-markeras
 1012=Ta bort markeras
 1013=vald / markeras
@@ -380,26 +380,26 @@
 1015=Tick alla
 1016=Avmarkera alla
 1017=S
-1018=%f6ppna offline i webbl%e4saren
+1018=??ppna offline i webbl??saren
 1019=Ange som centrum
-1020=%f6ppna online i webbl%e4saren
-1021=%f6ppna cache beskrivning
+1020=??ppna online i webbl??saren
+1021=??ppna cache beskrivning
 1022=Ta bort alla waypoints som har en bock (
-1023=Denna funktion %e4r f%f6r n%e4rvarande endast tillg%e4nglig f%f6r geocaching.com
-1024=Avst%e5nd i listvyn omr%e4knade ~ fr%e5n nuvarande position
-1025=Kan inte st%e4lla centrum (Ogiltig GPS-position)
+1023=Denna funktion ??r f??r n??rvarande endast tillg??nglig f??r geocaching.com
+1024=Avst??nd i listvyn omr??knade ~ fr??n nuvarande position
+1025=Kan inte st??lla centrum (Ogiltig GPS-position)
 1026=# Rec
 1027=OC-Index
-1028 =)?
-1029=Det finns waypoints som %e4r markerade men osynligt.%0a (Main cachar: +
-1030 =, ytterligare Waypoints: +
-1031=Ta bort dem ocks%e5?
-1032=S%f6kv%e4g till webbl%e4sare:
-1033=%e4r felaktigt!
-1034=Kan inte starta webbl%e4sare!
-1035=M%f6jlig orsak:
-1036=Ett fel i tacka VM, b%f6r du vara
-1037=patient f%f6r en uppdatering
+1028=)?
+1029=Det finns waypoints som ??r markerade men osynligt.%0a (Main cachar: %20
+1030=, ytterligare Waypoints: %20
+1031=Ta bort dem ocks???
+1032=S??kv??g till webbl??sare:
+1033=??r felaktigt!
+1034=Kan inte starta webbl??sare!
+1035=M??jlig orsak:
+1036=Ett fel i tacka VM, b??r du vara
+1037=patient f??r en uppdatering
 1038=S
 1039=Solver finns
 1040=N
@@ -414,19 +414,19 @@
 1049=DNF
 1050=Senast synkroniserade
 1051=senaste synkroniseringen datum
-1052=Log online i webbl%e4saren
-1053=%f6ppna i Google-kartor p%e5 Internet
+1052=Log online i webbl??saren
+1053=??ppna i Google-kartor p?? Internet
 1054=Ticked change blacklist
 1100=Profiler
-1105=Bl%e4ddra
-1106=V%e4lj profil eller ett nytt
+1105=Bl??ddra
+1106=V??lj profil eller ett nytt
 1107=New
-1108=V%e4lj profil
-1109=%f6ppna
+1108=V??lj profil
+1109=??ppna
 1110=Centre
 1111=Skapa ny profil:
 1112=Nytt profilnamn
-1113=Kan inte skapa katalogen (inte f%e5r inneh%e5lla caracters f%f6rbjudna operativsystem)
+1113=Kan inte skapa katalogen (inte f??r inneh??lla caracters f??rbjudna operativsystem)
 1114=Katalog finns redan.
 1115=Centre
 1116=Nuvarande
@@ -435,11 +435,11 @@
 1119=gamla profiler
 1120=Diff
 1121=Terr
-1122='%e4r kartor "reserveras f%f6r kartorna katalogen.
-1123=Klicka p%e5 "N%e4sta" f%f6r att definiera centrum koordinater f%f6r den h%e4r profilen.
-1124=N%e4sta
+1122='??r kartor "reserveras f??r kartorna katalogen.
+1123=Klicka p?? "N??sta" f??r att definiera centrum koordinater f??r den h??r profilen.
+1124=N??sta
 1125=Ta bort
-1126=D%f6p
+1126=D??p
 1200=List
 1201=Detaljer
 1202=Beskrivning
@@ -449,48 +449,48 @@
 1206=Calc
 1207=Din profil har sparats. Vill du spara?
 1208=ratings from GCVote
-1300=senaste inst%e4llningen
-1301=V%e4lj profil:
+1300=senaste inst??llningen
+1301=V??lj profil:
 1400=Zone
 1401=Northing
 1402=Easting
 1403=Bearing
-1404=Avst%e5nd
-1405=F%f6r att ladda koordinater fr%e5n GC, ange GCxxxxx nedan
-1406=Skriv in koordinater i n%e5got format eller GCxxxx
+1404=Avst??nd
+1405=F??r att ladda koordinater fr??n GC, ange GCxxxxx nedan
+1406=Skriv in koordinater i n??got format eller GCxxxx
 1407=steg
 1408=feet
 1409=varv
 1410=miles
 1411=Ange giltig koordinater
-1412=Koordinater ogiltig. Ans%f6k anyway?
+1412=Koordinater ogiltig. Ans??k anyway?
 1413=Clear
-1414=S%f6k
-1415=B%e4ring
+1414=S??k
+1415=B??ring
 1500=DST:
 1501=Nuvarande
 1502=deg
 1503=North centrerad
 1504=Start GPS
 1505=Stopp GPS
-1506= Karta
-1507=koordinater %e4r utom r%e4ckh%e5ll:
+1506=Karta
+1507=koordinater ??r utom r??ckh??ll:
 1508=latitud
 1509=longitud
-1510=Inga data fr%e5n GPS%0aConnection till serieport st%e4ngd
-1511=Kan inte tolka data fr%e5n GPS%0a m%f6jliga orsaker:%0a fel Port,%0a fel Baudrate,%0a inte NMEA-protokoll%0aConnection till serieport st%e4ngd String%0aLast f%f6rs%f6kt att tolka:%0a
+1510=Inga data fr??n GPS%0aConnection till serieport st??ngd
+1511=Kan inte tolka data fr??n GPS%0a m??jliga orsaker:%0a fel Port,%0a fel Baudrate,%0a inte NMEA-protokoll%0aConnection till serieport st??ngd String%0aLast f??rs??kt att tolka:
 1512=Waypoint
-1513=Kan inte b%f6rja r%f6ra karta utan giltig koordinater. V%e4nligen ange koordinater som destination som center eller i utvalda cache, eller starta GPS
-1514=Kan inte r%e4kna avst%e5nd, eftersom GPS-position %e4r inte inst%e4lld
-1600=+ H%e4mta
-1601=max. Avst%e5nd:
+1513=Kan inte b??rja r??ra karta utan giltig koordinater. V??nligen ange koordinater som destination som center eller i utvalda cache, eller starta GPS
+1514=Kan inte r??kna avst??nd, eftersom GPS-position ??r inte inst??lld
+1600=%20 H??mta
+1601=max. Avst??nd:
 1602=Ladda ner bilder
-1603=H%e4mta kartor
+1603=H??mta kartor
 1604=Avbryt
 1605=OK
 1606=OC reload all
-1607=Uppdatera fr%e5n opencaching framg%e5ngsrik
-1608=H%e4mtar data fr%e5n opencaching ...
+1607=Uppdatera fr??n opencaching framg??ngsrik
+1608=H??mtar data fr??n opencaching ...
 1609=Importera Cache:
 1610=download missing map
 1611=Importera cache beskrivning:
@@ -498,295 +498,295 @@
 1613=Importera bild:
 1614=Fel vid unzipping udpate fil
 1615=Fel vid analys uppdaterad fil, ange:
-1616=Fel: Kunde inte h%e4mta udpate fil fr%e5n opencaching.de
-1617=Ignorera fel i html-Cache-Beskrivning: "<img" utan "src =" i cache +
-1618=Ignorera fel i Cache: +
-1619 =: kunde inte ladda ner bild fr%e5n URL: +
-1620=h%e4mta inb%e4ddade bilder: +
-1621=Fel vid tolkning av data%0a fr%e5n Opencaching.de, %e4r%0aThis troligen ett fel p%e5 Opencaching.de%0aRetry senare%0a Status:
+1616=Fel: Kunde inte h??mta udpate fil fr??n opencaching.de
+1617=Ignorera fel i html-Cache-Beskrivning: "<img" utan "src =" i cache %20
+1618=Ignorera fel i Cache: %20
+1619=: kunde inte ladda ner bild fr??n URL: %20
+1620=h??mta inb??ddade bilder: %20
+1621=Fel vid tolkning av data%0a fr??n Opencaching.de, ??r%0aThis troligen ett fel p?? Opencaching.de%0aRetry senare%0a Status:
 1622=Uteslut hittade cachar
 1623=Importera upto:
-1624=+ cachar (tom=alla)
-1625=H%e4mta TBS
+1624=%20 cachar (tom=alla)
+1625=H??mta TBS
 1626=Max. spara loggar:
 1627=Alla cachar
-1628=min. Avst%e5nd:
+1628=min. Avst??nd:
 1629=Direction (tom / N / N * / N, NE, E):
 1630=t.ex. tom eller N eller N * eller N, NE, E
 1631=Uppdatera upto:
-1700=Fel p%e5 rad:
+1700=Fel p?? rad:
 1701=position:
 1702=Variabel inte definierats:
 1703=inte ett giltigt nummer:
-1704=Ov%e4ntat slut k%e4lla
+1704=Ov??ntat slut k??lla
 1705=Saknas endif
-1706=F%f6rv%e4ntad
+1706=F??rv??ntad
 1707=Found:
 1708=Tvetydigt funktion namn:
 1709=Unknown function:
-1710=Kan inte r%e4kna tom str%e4ng
-1711=Ers%e4ttning tecken str%e4ngar m%e5ste vara lika l%e5nga
+1710=Kan inte r??kna tom str??ng
+1711=Ers??ttning tecken str??ngar m??ste vara lika l??nga
 1712=Ogiltig samordna:
-1713=Ogiltigt samordna format. Till%e5tna %e4r cw / dd / DMM / DMS / +
-1714=G%e5 till: Waypoint finns inte:
-1715=Instr: Startposition inte i str%e4ng
-1716=MID: Integer argument v%e4ntat
+1713=Ogiltigt samordna format. Till??tna ??r cw / dd / DMM / DMS / %20
+1714=G?? till: Waypoint finns inte:
+1715=Instr: Startposition inte i str??ng
+1716=MID: Integer argument v??ntat
 1717=mid: Argument out of range
 1718=Kan inte projektet en negativ distans
-1719=Projection grader m%e5ste vara i intervallet [0; 360]
-1720=Kan inte r%e4kna ut kvadratroten av ett negativt tal
-1723=J%e4mf%f6relse operat%f6r f%f6rv%e4ntas
-1724=Variabel inte fastst%e4lld:
-1725=Ov%e4ntade tecken (s):
-1726=Alltf%f6r m%e5nga argument f%f6r funktion
+1719=Projection grader m??ste vara i intervallet [0; 360]
+1720=Kan inte r??kna ut kvadratroten av ett negativt tal
+1723=J??mf??relse operat??r f??rv??ntas
+1724=Variabel inte fastst??lld:
+1725=Ov??ntade tecken (s):
+1726=Alltf??r m??nga argument f??r funktion
 1727=Ogiltigt antal argument
-1728=Funktion %e4nnu inte genomf%f6rts:
+1728=Funktion ??nnu inte genomf??rts:
 1729=Division med 0
 1730=Unterminated string
-1731=Ogiltigt format karakt%e4r
+1731=Ogiltigt format karakt??r
 1732=Ogiltigt tecken
 1733=Input kommandot
 1734=Clear output
-1735=l%f6sa!
-1736=H%e4mta
+1735=l??sa!
+1736=H??mta
 1737=Spara
 1738=SaveAs
-1739=Projection grader m%e5ste vara i intervallet [0, 2 * PI]
-1740=Crossbearing grader m%e5ste vara i intervallet [0; 360]
-1741=Crossbearing grader m%e5ste vara i intervallet [0, 2 * PI]
-1742=Crossbearing: avst%e5nd mellan punkter till sm%e5
-1743=Crossbearing ber%e4kning misslyckades. V%e4nligen informera utvecklarna p%e5 geoclub.de
-1744=utforskning med identiska med vinklarna inte %e4r m%f6jligt
-1800=H%e4mta georefererade kartor
+1739=Projection grader m??ste vara i intervallet [0, 2 * PI]
+1740=Crossbearing grader m??ste vara i intervallet [0; 360]
+1741=Crossbearing grader m??ste vara i intervallet [0, 2 * PI]
+1742=Crossbearing: avst??nd mellan punkter till sm??
+1743=Crossbearing ber??kning misslyckades. V??nligen informera utvecklarna p?? geoclub.de
+1744=utforskning med identiska med vinklarna inte ??r m??jligt
+1800=H??mta georefererade kartor
 1801=Ladda ner plattor
-1802=Ladda georefererade kartor%0a V%e4lj webbtj%e4nst:
-1803=f%f6r
+1802=Ladda georefererade kartor%0a V??lj webbtj??nst:
+1803=f??r
 1804=alla
 1805=ikryssad
 1806=cachar
 1807=ca. m per pixel:
-1808=%f6verlappande i pixel:
-1809=ladda ner en %f6versiktskarta
+1808=??verlappande i pixel:
+1809=ladda ner en ??versiktskarta
 1810=inom en rektangel av:
 1811=runt centrum:
 1812=Tiles
-1813=H%e4mta en karta f%f6r
+1813=H??mta en karta f??r
 1814=Per cache
-1815=H%e4mtar georefererade kartor
-1816=H%e4mtar georefererade kartor%0a%0a%0a%0a%0a
-1817=Inga cachar %e4r markerade
+1815=H??mtar georefererade kartor
+1816=H??mtar georefererade kartor
+1817=Inga cachar ??r markerade
 1818=getSortedMapServiceIndex: index
 1819=inte hittas
-1820=H%e4mtar karta "
-1821 =%0a f%f6r cache:%0a
+1820=H??mtar karta "
+1821=f??r cache:
 1822=Cache:
 1823=Ignorera fel:
-1824=nedladdning %f6versiktskarta
-1825=%f6versiktskarta: Ignorera fel:
-1826=f%e4rdig data%f6verf%f6ring och kalibrering av kartor
-1827='radie "m%e5ste graeter %e4n 0
-1828="%f6verlappning" m%e5ste vara st%f6rre eller lika med 0
+1824=nedladdning ??versiktskarta
+1825=??versiktskarta: Ignorera fel:
+1826=f??rdig data??verf??ring och kalibrering av kartor
+1827='radie "m??ste graeter ??n 0
+1828="??verlappning" m??ste vara st??rre eller lika med 0
 1829=Fyll i "centrum" kring vilka kartor som skall laddas ner
-1830=Det valda online karttj%e4nst erbjuder karta i skala fr%e5n
+1830=Det valda online karttj??nst erbjuder karta i skala fr??n
 1831=till
-1832 =%0a Justera "Ca. meter pro pixel "i enlighet
-1833=V%e4lj inte den separetor linje i WMS tj%e4nst alternativet
-1834=Skriv in r%e4tt s%f6kv%e4g till Kosmos.Console.exe till WMS-filen.
+1832=Justera "Ca. meter pro pixel "i enlighet
+1833=V??lj inte den separetor linje i WMS tj??nst alternativet
+1834=Skriv in r??tt s??kv??g till Kosmos.Console.exe till WMS-filen.
 1835=[Tilesize:]
 1836=[Width of tiles must be greater 0.]
 1837=[Height of tiles must be greater 0.]
 2000=GPX Exportera
 2001=av
 2100=Explorist Exporter
-2101=Kunde inte l%e4sa in filen magellan.cfg
-2102=V%e4lj m%e5lfil
-2103=Fel vid l%e4sning av filen magellan.cfg
-2104=V%e4lj produktionen katalog f%f6r GS-filer
-2500=Fel vid laddning av attribut eller ok%e4nd attribut
+2101=Kunde inte l??sa in filen magellan.cfg
+2102=V??lj m??lfil
+2103=Fel vid l??sning av filen magellan.cfg
+2104=V??lj produktionen katalog f??r GS-filer
+2500=Fel vid laddning av attribut eller ok??nd attribut
 2501=inte 24-7
-2502=tillg%e4nglig 24-7
+2502=tillg??nglig 24-7
 2503=no bikes
-2504=cyklar till%e5ts
-2505 =* b%e5t-no
-2506 =* b%e5t-ja
-2507 =* kaktus-no
-2508 =* kaktus-ja
-2509=inga l%e4gereldar
-2510=eldning till%e5ten
+2504=cyklar till??ts
+2505=* b??t-no
+2506=* b??t-ja
+2507=* kaktus-no
+2508=* kaktus-ja
+2509=inga l??gereldar
+2510=eldning till??ten
 2511=Ingen camping
-2512=Camping till%e5ten
-2513 =* cliff-no
-2514=fallande stenar i n%e4rheten
-2515=ingen sv%e5r kl%e4ttring
-2516=sv%e5r kl%e4ttring
-2517 =* kompass-no
-2518 =* kompass-ja
-2519 =* ko-no
-2520=klocka f%f6r boskap
-2521 =* fara-no
-2522=farligt omr%e5de
+2512=Camping till??ten
+2513=* cliff-no
+2514=fallande stenar i n??rheten
+2515=ingen sv??r kl??ttring
+2516=sv??r kl??ttring
+2517=* kompass-no
+2518=* kompass-ja
+2519=* ko-no
+2520=klocka f??r boskap
+2521=* fara-no
+2522=farligt omr??de
 2523=ingen hund
-2524=husdjur till%e5tna
-2525 =* fee-no
-2526=tillg%e5ng / parkeringsavgifter
-2527 =* hiking-no
+2524=husdjur till??tna
+2525=* fee-no
+2526=tillg??ng / parkeringsavgifter
+2527=* hiking-no
 2528=betydande hike
-2529=inga h%e4star
-2530=h%e4star till%e5ts
-2531 =* jakt-no
-2532=jaktomr%e5de
-2533=no terr%e4ngfordon
-2534=terr%e4ngfordon till%e5ten
+2529=inga h??star
+2530=h??star till??ts
+2531=* jakt-no
+2532=jaktomr??de
+2533=no terr??ngfordon
+2534=terr??ngfordon till??ten
 2535=no kids
-2536=barnv%e4nlig
-2537 =* mine-no
-2538 =* mine-ja
+2536=barnv??nlig
+2537=* mine-no
+2538=* mine-ja
 2539=no motorcyklar
-2540=motorcyklar till%e5ts
-2541=rekommenderas inte p%e5 natten
-2542=rekommenderas p%e5 natten
-2543=tar mer %e4n en timme
-2544=tar mindre %e4n en timme
-2545 =* parking-no
+2540=motorcyklar till??ts
+2541=rekommenderas inte p?? natten
+2542=rekommenderas p?? natten
+2543=tar mer ??n en timme
+2544=tar mindre ??n en timme
+2545=* parking-no
 2546=parking available
-2547 =* telefon-no
-2548=telefon i n%e4rheten
-2549 =* picknick-no
-2550=picknickbord tillg%e4nglig
-2551 =* poisonoak-no
-2552 =* poisonoak-ja
-2553 =* offentlig-no
-2554=kollektivtrafik tillg%e4nglig
+2547=* telefon-no
+2548=telefon i n??rheten
+2549=* picknick-no
+2550=picknickbord tillg??nglig
+2551=* poisonoak-no
+2552=* poisonoak-ja
+2553=* offentlig-no
+2554=kollektivtrafik tillg??nglig
 2555=no quads
-2556=quads till%e5ten
-2557 =* firning-no
-2558=kl%e4tterutrustning
-2559 =* toaletter-no
+2556=quads till??ten
+2557=* firning-no
+2558=kl??tterutrustning
+2559=* toaletter-no
 2560=toaletter finns
-2561 =* scenic-no
+2561=* scenic-no
 2562=vacker utsikt
-2563 =* scuba-no
-2564 =* scuba-ja
-2565 =* ormar-no
-2566 =* ormar-ja
-2567=no sn%f6skotrar
-2568 =* sn%f6skotrar-ja
-2569=no stealth kr%e4vs
-2570=stealth kr%e4vs
-2571=inte flan%f6r tillg%e4nglig
-2572=barnvagn tillg%e4nglig
-2573 =* swimming-no
-2574 =* swimming-ja
-2575 =* thorn-no
-2576=t%f6rnen!
-2577 =* f%e4stingar-no
-2578=f%e4stingar!
-2579 =* vada-no
-2580=kan kr%e4va att vada
-2581 =* vatten-no
-2582=dricksvatten i n%e4rheten
+2563=* scuba-no
+2564=* scuba-ja
+2565=* ormar-no
+2566=* ormar-ja
+2567=no sn??skotrar
+2568=* sn??skotrar-ja
+2569=no stealth kr??vs
+2570=stealth kr??vs
+2571=inte flan??r tillg??nglig
+2572=barnvagn tillg??nglig
+2573=* swimming-no
+2574=* swimming-ja
+2575=* thorn-no
+2576=t??rnen!
+2577=* f??stingar-no
+2578=f??stingar!
+2579=* vada-no
+2580=kan kr??va att vada
+2581=* vatten-no
+2582=dricksvatten i n??rheten
 2583=ej Handikappanpassad
 2584=Handikappanpassad
-2585=ej tillg%e4nglig p%e5 vintern
-2586=tillg%e4nglig i vinter
-2587=GC:Inget underh%e5ll beh%f6vs OC:No first aid there
-2588=GC:underh%e5llsbehov OC:first aid there
-2589=ingen ficklampa kr%e4vs
-2590=Ficklampa som kr%e4vs
-2591=no flygplan kr%e4vs
-2592=flygplan kr%e4vs
+2585=ej tillg??nglig p?? vintern
+2586=tillg??nglig i vinter
+2587=GC:Inget underh??ll beh??vs OC:No first aid there
+2588=GC:underh??llsbehov OC:first aid there
+2589=ingen ficklampa kr??vs
+2590=Ficklampa som kr??vs
+2591=no flygplan kr??vs
+2592=flygplan kr??vs
 2593=no gift / farliga djur
 2594=gift / farliga djur
 2595=no aritmetiska problem
 2596=aritmetiska problem
 2597=ingen ytterligare information
-2598=be %e4gare f%f6r infos
-2599=no k%f6ra i
-2600=%e4r n%e4ra bilen (drive in)
+2598=be ??gare f??r infos
+2599=no k??ra i
+2600=??r n??ra bilen (drive in)
 2601=no grotta
 2602=grotta utilities
-2603=inte hela %e5ret
-2604=hela %e5ret
+2603=inte hela ??ret
+2604=hela ??ret
 2605=inte dagtid
 2606=endast dagtid
 2607=inte i slutna rum
 2608=i slutna rum
 2609=no intressant plats
-2610=intressant st%e4lle
-2611=no letterbox (inget frim%e4rke beh%f6vs)
-2612=letterbox (frim%e4rke beh%f6vs)
-2613=fast m%e5l
-2614=r%f6rligt m%e5l "
-2615=no h%e4ckningss%e4song / bevarande
-2616=parningss%e4songen / bevarande
-2617=GPS beh%f6vs
-2618=ingen GPS beh%f6vs
-2619=inte bara n%e4mns i Opencaching
-2620=endast anges p%e5 Opencaching
+2610=intressant st??lle
+2611=no letterbox (inget frim??rke beh??vs)
+2612=letterbox (frim??rke beh??vs)
+2613=fast m??l
+2614=r??rligt m??l "
+2615=no h??ckningss??song / bevarande
+2616=parningss??songen / bevarande
+2617=GPS beh??vs
+2618=ingen GPS beh??vs
+2619=inte bara n??mns i Opencaching
+2620=endast anges p?? Opencaching
 2621=normal cache
 2622=speciell typ av cache
-2623=ingen %f6vernattning kr%e4vs
-2624=%f6vernattning kr%e4vs
-2625 =
-2626 =
-2627 =
-2628 =
-2629=ingen g%e5ta
-2630=g%e5ta
-2631 =
-2632 =
-2633=platt terr%e4ng
-2634=kuperad terr%e4ng
+2623=ingen ??vernattning kr??vs
+2624=??vernattning kr??vs
+2625=
+2626=
+2627=
+2628=
+2629=ingen g??ta
+2630=g??ta
+2631=
+2632=
+2633=platt terr??ng
+2634=kuperad terr??ng
 2635=inte i vatten
 2636=i vatten
 2637=tidvatten oberoende
 2638=tidvatten beroende
 2639=inte bundet till vissa tider
 2640=bundna till vissa tider
-2641=ingen speciell utrustning beh%f6vs
-2642=speciell utrustning beh%f6vs
-2643=no j%e4rnv%e4gslinje n%e4rbild
-2644=j%e4rnv%e4gslinjen n%e4rbild
+2641=ingen speciell utrustning beh??vs
+2642=speciell utrustning beh??vs
+2643=no j??rnv??gslinje n??rbild
+2644=j??rnv??gslinjen n??rbild
 2645=utan webbkamera
-2646=webbkamera vid m%e5let
-2647=inga utredningar som kr%e4vs
-2648=utredningar som kr%e4vs
+2646=webbkamera vid m??let
+2647=inga utredningar som kr??vs
+2648=utredningar som kr??vs
 2649=ingen koppling till GC, ...
-2650=hyperl%e4nk till GC, ...
+2650=hyperl??nk till GC, ...
 2651=no loast and found tour
 2652=lost and found tour
 2653=no truck driver/RV
 2654=truck driver/RV
 2655=no field puzzle
 2656=field puzzle
-2657=ingen UV-ljus kr%e4vs
-2658=UV-ljus kr%e4vs
-2659=ingen Sn%f6skor
-2660=Sn%f6skor
-2661=ingen l%e4ngdskidor
-2662=l%e4ngdskidor
-2663=inga specialverktyg kr%e4vs
-2664=specialverktyg kr%e4vs
+2657=ingen UV-ljus kr??vs
+2658=UV-ljus kr??vs
+2659=ingen Sn??skor
+2660=Sn??skor
+2661=ingen l??ngdskidor
+2662=l??ngdskidor
+2663=inga specialverktyg kr??vs
+2664=specialverktyg kr??vs
 2665=ingen Night Cache
 2666=Night Cache
 2667=ingen Park och ta
 2668=Park och ta
-2669=ingen %f6vergivna struktur
-2670=%f6vergivna struktur
+2669=ingen ??vergivna struktur
+2670=??vergivna struktur
 2671=ingen Kort vandring
 2672=Kort vandring
 2673=ingen Medium Vandra
 2674=Medium Vandra
-2675=ingen l%e5ng vandring
-2676=l%e5ng vandring
-2677=Inget br%e4nsle i n%e4rheten
-2678=Br%e4nsle i n%e4rheten
-2679=ingen mat i n%e4rheten
-2680=Food i n%e4rheten
-3000=St%e4ng
-4000=Loaded cachar:+
-4001=GPX filer fr%e5n opencaching inte inneh%e5ller n%e5gon information av bilder, kan de inte laoded. B%e4st du cachar fr%e5n opencaching genom menyn / Application / Import / Download fr%e5n Opencaching
-4100=V%e4lj katalog:
+2675=ingen l??ng vandring
+2676=l??ng vandring
+2677=Inget br??nsle i n??rheten
+2678=Br??nsle i n??rheten
+2679=ingen mat i n??rheten
+2680=Food i n??rheten
+3000=St??ng
+4000=Loaded cachar:%20
+4001=GPX filer fr??n opencaching inte inneh??ller n??gon information av bilder, kan de inte laoded. B??st du cachar fr??n opencaching genom menyn / Application / Import / Download fr??n Opencaching
+4100=V??lj katalog:
 4101=Maps
 4102=Kalibrerade kartor
 4103=inte kalibreras kartor
@@ -797,62 +797,62 @@
 4108=Koordinater:
 4109=Laddar kartor ...
 4110=laddning
-4111=Koordinater m%e5ste anges i formatet N XX XX.XXX E XXX XX.XXX
-4112=IO-Fel vid kopiering bild fr%e5n: +
-4113=till: +
-4114=+ error: +
-4115=Fel: Kunde inte avkoda bild: +
-4116=+ - + bild inte kopieras
-4117=Fel vid import. Map-fil: +
-4118=IO-Fel vid l%e4sning eller skrivning kalibrering fil
-4119=Ingen kalibrering fil hittades f%f6r: +
+4111=Koordinater m??ste anges i formatet N XX XX.XXX E XXX XX.XXX
+4112=IO-Fel vid kopiering bild fr??n: %20
+4113=till: %20
+4114=%20 error: %20
+4115=Fel: Kunde inte avkoda bild: %20
+4116=%20 - %20 bild inte kopieras
+4117=Fel vid import. Map-fil: %20
+4118=IO-Fel vid l??sning eller skrivning kalibrering fil
+4119=Ingen kalibrering fil hittades f??r: %20
 4120=gjort.
-4200=V%e4lj karta katalog
+4200=V??lj karta katalog
 4201=Information
 4203=Lastspecifikationers av kartor ...
-4204=Ingen georefererade kartan tillg%e4nglig%0a V%e4lj en skala%0a att visa sp%e5ret och cachar. %0a Du kan f%e5 en av menyn: Application / Kartor / download kalibrerad
-4206=Dist: +
+4204=Ingen georefererade kartan tillg??nglig%0a V??lj en skala%0a att visa sp??ret och cachar. %0a Du kan f?? en av menyn: Application / Kartor / download kalibrerad
+4206=Dist: %20
 4207=Fel
-4208=Bug:%0aillegal mapChangeModus: +
-4210=Flytta kartan kan inte k%f6ras utan en karta - v%e4lj ett. %0a Du kan v%e4lja en tom karta
-4211=No +
+4208=Bug:%0aillegal mapChangeModus: %20
+4210=Flytta kartan kan inte k??ras utan en karta - v??lj ett. %0a Du kan v??lja en tom karta
+4211=No %20
 4212=mindre
 4213=mer
-4214=+ detaljerad karta finns
-4215=Ingen cachar ut av en f%e4sting
+4214=%20 detaljerad karta finns
+4215=Ingen cachar ut av en f??sting
 4216=Laddar karta ...
-4217=Kunde inte hitta bilden i samband med:%0a
-4218=Kunde inte l%e4sa kartan:%0a
-4219=Inte tillr%e4ckligt med minne f%f6r att l%e4sa kartan:%0a
-4220 =%0a Du kan prova att st%e4nga%0a alla prgrams och 0A% starta CacheWolf
-4221=inte tillr%e4ckligt med resurser f%f6r att ladda kartan: +
+4217=Kunde inte hitta bilden i samband med:
+4218=Kunde inte l??sa kartan:
+4219=Inte tillr??ckligt med minne f??r att l??sa kartan:
+4220=Du kan prova att st??nga%0a alla prgrams och 0A??tarta CacheWolf
+4221=inte tillr??ckligt med resurser f??r att ladda kartan: %20
 4222=Out of memory error
-4230=G%e5 hit$g
-4231=G%e5 hit
-4232=Skapa ny waypoint h%e4r$n
-4233=Skapa ny waypoint h%e4r
-4234=V%e4lj en karta manuellt$s
-4235=V%e4lj en karta manuellt
-4236=%e4ndra kartan katalog$c
+4230=G?? hit$g
+4231=G?? hit
+4232=Skapa ny waypoint h??r$n
+4233=Skapa ny waypoint h??r
+4234=V??lj en karta manuellt$s
+4235=V??lj en karta manuellt
+4236=??ndra kartan katalog$c
 4237=Change map katalog
 4238=Visa karta
 4239=Visa karta
-4240=D%f6lj karta
-4241=D%f6lj karta
-4242=Modus f%f6r automatisk karta f%f6r%e4ndring
-4244=H%f6gsta res. inneh%e5llande dest. & Cur. position
-4245=H%f6gsta res. inneh%e5llande dest. & Cur. position
-4246=H%f6gsta uppl%f6sning
-4247=H%f6gsta uppl%f6sning
-4248=Beh%e5ll manual uppl%f6sning
-4249=Beh%e5ll manual uppl%f6sning
-4250=%e4ndra uppl%f6sning manuellt
-4252=H%e4mta en karta med alla markerade cachar
-4253=H%e4mta en karta med alla markerade cachar
-4254=H%e4mta en karta med mer information
-4255=H%e4mta en karta med mer information
-4256=H%e4mta en karta f%f6r en b%e4ttre %f6verblick
-4257=H%e4mta en karta f%f6r en b%e4ttre %f6verblick
+4240=D??lj karta
+4241=D??lj karta
+4242=Modus f??r automatisk karta f??r??ndring
+4244=H??gsta res. inneh??llande dest. & Cur. position
+4245=H??gsta res. inneh??llande dest. & Cur. position
+4246=H??gsta uppl??sning
+4247=H??gsta uppl??sning
+4248=Beh??ll manual uppl??sning
+4249=Beh??ll manual uppl??sning
+4250=??ndra uppl??sning manuellt
+4252=H??mta en karta med alla markerade cachar
+4253=H??mta en karta med alla markerade cachar
+4254=H??mta en karta med mer information
+4255=H??mta en karta med mer information
+4256=H??mta en karta f??r en b??ttre ??verblick
+4257=H??mta en karta f??r en b??ttre ??verblick
 4258=Flytta kartan till och ladda karta
 4260=Flytta kartan till goto punkt
 4261=Flytta kartan till goto punkt
@@ -860,228 +860,228 @@
 4263=Flytta kartan till GPS-position
 4264=Flytta kartan till centrum
 4265=Flytta kartan till centrum
-4266=Fyll vita omr%e5den
-4267=Visa vita omr%e5den
+4266=Fyll vita omr??den
+4267=Visa vita omr??den
 4268=Visa alla cachar
 4269=Visa markerade cachar
-4270=%f6ppna
+4270=??ppna
 4271=Kartor
-4272 =--- Kartor med GPS och pos goto. ---
-4273 =--- Kartor inneh%e5ller Curr. position ---
-4274 =--- Kartor inneh%e5ller goto l%e4ge ---
-4275 =--- Andra kartor ---
+4272=--- Kartor med GPS och pos goto. ---
+4273=--- Kartor inneh??ller Curr. position ---
+4274=--- Kartor inneh??ller goto l??ge ---
+4275=--- Andra kartor ---
 4276=Avbryt
-4277=V%e4lj
+4277=V??lj
 4278=Kan inte ladda WFL-filen: \ n
-4279=G%e5 till
+4279=G?? till
 4280=Liten Tiles
 4281=Medium Tiles
 4282=Big Tiles
 4290=utzoomning
 4291=zooma in
 4292=manuell zoom
-4293=Zooma till ursprunglig uppl%f6sning
+4293=Zooma till ursprunglig uppl??sning
 4294=zoom
 4295=center
 4296=detailing
-4300=tom 1 pixel=+
-4301=+ meter
-4302=Lat / Lon r%e4ckh%e5ll n%e4r du l%e4ser +
-4303=inte tillr%e4ckligt rader i filen +
-4304=inte tillr%e4ckligt med po%e4ng f%f6r att kalibrera kartan
-4305=Ej till%e5tet v%e4rden i affine%0a (matris kan inte inverteras)%0a i filen%0a
+4300=tom 1 pixel=%20
+4301=%20 meter
+4302=Lat / Lon r??ckh??ll n??r du l??ser %20
+4303=inte tillr??ckligt rader i filen %20
+4304=inte tillr??ckligt med po??ng f??r att kalibrera kartan
+4305=Ej till??tet v??rden i affine%0a (matris kan inte inverteras)%0a i filen
 4306=map inte kalibreras
 4400=Varning
-4401=Ignorera fel:%0a kunde inte fram emot GPS-data till host:%0a
-4402 =%0astop och GPS b%f6rja f%f6rs%f6ka igen
+4401=Ignorera fel:%0a kunde inte fram emot GPS-data till host:
+4402=stop och GPS b??rja f??rs??ka igen
 4403=Fel
-4404=Kunde inte ansluta till GPS-mottagare.%0a Fel vid %f6ppning serieport%0a
-4405 =%0apossible sk%e4l: \ n Another (GPS-) program blockerar port%0awrong port%0aOn Loox: aktiv infrar%f6d port blockerar GPS "
+4404=Kunde inte ansluta till GPS-mottagare.%0a Fel vid ??ppning serieport
+4405=possible sk??l: \ n Another (GPS-) program blockerar port%0awrong port%0aOn Loox: aktiv infrar??d port blockerar GPS "
 4406=Kopiera jave_ewe.dll i katalogen av cachewolf program
-4407=Profilen filer %e4r inte i det aktuella formatet.%0aTherefore de nu omvandlas till det aktuella formatet. Beroende av storleken p%e5 profilen och den dator som anv%e4nds h%e4r kan ta n%e5gra minuter. V%e4nligen ha med oss tills konverteringen %e4r klar.
+4407=Profilen filer ??r inte i det aktuella formatet.%0aTherefore de nu omvandlas till det aktuella formatet. Beroende av storleken p?? profilen och den dator som anv??nds h??r kan ta n??gra minuter. V??nligen ha med oss tills konverteringen ??r klar.
 4408=Kunde inte ansluta till GPSD:
-4409 =%0apossible sk%e4l:%0aGPSD v%e4rd %e4r inte n%e5s eller GPSD %e4r inte ig%e5ng det
+4409=possible sk??l:%0aGPSD v??rd ??r inte n??s eller GPSD ??r inte ig??ng det
 4500=Tot:
 4501=Visa:
 4502=FND:
-4600=Vissa cache (s) inte kan uppfyllas p%e5 grund av fel svartlista status
-4700=Ignorera fel medan%0areading% kalibrering fil 0a
-4701=S%f6ker efter b%e4sta karta
+4600=Vissa cache (s) inte kan uppfyllas p?? grund av fel svartlista status
+4700=Ignorera fel medan%0areading??alibrering fil 0a
+4701=S??ker efter b??sta karta
 4702=Optimering
-4703=Cachewolf kan g%f6ra lastning kartor mycket snabbare genom att l%e4gga till ett identifieringsm%e4rke p%e5 filnamnet. Vill du att jag ska g%f6ra det nu?%0aIt kan ta flera minuter.
-4704 =%0aRenaming fil:
-4705=Kunde inte byta namn till%0a
-4706 =%0ato:%0an
-4707=I / O-Fel vid l%e4sning:
-4708=Fel vid l%e4sning:
-4709=Kunde inte hitta bilden assiciated till:%0a
-4800=Laddar online karttj%e4nster
-4801=Ignorera fel medan%0a l%e4sning Web Map Service definitionsfilen%0a
-4802=H%e4mtar kalibrerad (georefererade)%0a kartbild%0a "
+4703=Cachewolf kan g??ra lastning kartor mycket snabbare genom att l??gga till ett identifieringsm??rke p?? filnamnet. Vill du att jag ska g??ra det nu?%0aIt kan ta flera minuter.
+4704=Renaming fil:
+4705=Kunde inte byta namn till
+4706=to:%0an
+4707=I / O-Fel vid l??sning:
+4708=Fel vid l??sning:
+4709=Kunde inte hitta bilden assiciated till:
+4800=Laddar online karttj??nster
+4801=Ignorera fel medan%0a l??sning Web Map Service definitionsfilen
+4802=H??mtar kalibrerad (georefererade)%0a kartbild%0a "
 4803='%0a Downloading kakel%0a rad
 4804=kolumn
 4805=Tile
-4806 =: Ignorera fel:
+4806=: Ignorera fel:
 4807=loadTo: misslyckades med att ladda ner kartan: fick inte http-redirect
 4808=downloadImage: Content-Type:
-4809=%e4r inte en bild, b%f6rjar av inneh%e5ll:
-4810=Fel vid nedladdning eller spara karta:%0a
-4811=OnlineMapService: getMapInfoObjectInternal (omr%e5de maparea punkt pixelsize):%0a Denna metod m%e5ste belastas f%f6r att kunna anv%e4nda den
-4812=WebMapService: egendom> Namn: <saknas i filen:%0a
-4813=WebMapService: Objekt> MainUrl: <saknas i filen:%0a
+4809=??r inte en bild, b??rjar av inneh??ll:
+4810=Fel vid nedladdning eller spara karta:
+4811=OnlineMapService: getMapInfoObjectInternal (omr??de maparea punkt pixelsize):%0a Denna metod m??ste belastas f??r att kunna anv??nda den
+4812=WebMapService: egendom> Namn: <saknas i filen:
+4813=WebMapService: Objekt> MainUrl: <saknas i filen:
 4814=WebMapService: ingen CoordinateReferenceSystemCacheWolf ges
-4815=koordinatsystem som inte st%f6ds av CacheWolf:%0a
-4816=WebMapService: Objekt> CoordinateReferenceSystemUrlPart: <saknas i filen:%0a
-4817=antal str%e4ngar i CoordinateReferenceSystemUrlPart (
-4818 =) m%e5ste st%e4mma %f6verens med antalet koder i CoordinateReferenceSystemCacheWolf (
-4819 =) anv%e4nda normal utrymme som separator
-4820=WebMapService: Objekt> CoordinateReferenceSystemUrlPart: <felaktig fil:%0a
-4821=WebMapService: Objekt> ImageFileExtension: <saknas i filen:%0a
+4815=koordinatsystem som inte st??ds av CacheWolf:
+4816=WebMapService: Objekt> CoordinateReferenceSystemUrlPart: <saknas i filen:
+4817=antal str??ngar i CoordinateReferenceSystemUrlPart (
+4818=) m??ste st??mma ??verens med antalet koder i CoordinateReferenceSystemCacheWolf (
+4819=) anv??nda normal utrymme som separator
+4820=WebMapService: Objekt> CoordinateReferenceSystemUrlPart: <felaktig fil:
+4821=WebMapService: Objekt> ImageFileExtension: <saknas i filen:
 4822=area:
-4823=inte omfattas av tj%e4nsten
+4823=inte omfattas av tj??nsten
 4824=, service area:
 4825=skala
-4826=inte st%f6ds av online karttj%e4nst, med st%f6d skalomr%e5de:
-4827=(m%e4tt i meter per pixel vertikalt)
-4828=Koordinatsystem inte st%f6ds av Cachewolf:
+4826=inte st??ds av online karttj??nst, med st??d skalomr??de:
+4827=(m??tt i meter per pixel vertikalt)
+4828=Koordinatsystem inte st??ds av Cachewolf:
 4829=getUrlForBoundingBox: Point:
-4830=Inga matchande Gau% DF-Kr% fcger-rand i EPSG-kodlistan p%e5. WMS
-4831=getMapInfoObject: Koordinatsystem inte st%f6ds av Cachewolf:
-4900=+ %e4r inte en tysk Gauss-Krueger samordna
-4920=EPSG kod +
-4921=+ st%f6ds
-4922=EPSG kod saknas i: +
-4923=fromWgs84: EPSG kod +
-4924=ToWgs84: EPSG kod +
+4830=Inga matchande Gau??F-Kr??cger-rand i EPSG-kodlistan p??. WMS
+4831=getMapInfoObject: Koordinatsystem inte st??ds av Cachewolf:
+4900=%20 ??r inte en tysk Gauss-Krueger samordna
+4920=EPSG kod %20
+4921=%20 st??ds
+4922=EPSG kod saknas i: %20
+4923=fromWgs84: EPSG kod %20
+4924=ToWgs84: EPSG kod %20
 5000=Load Cachelist
 5001=Kan inte spindel ytterligare waypoint direkt.%0aPlease kolla viktigaste cache.
-5002 =: F%f6r n%e4rvarande %e4r denna funktion endast tillg%e4nglig f%f6r geocaching.com och opencaching. (CZ, DE, org.uk, pl).
-5003=Inst%e4llningar
-5004=Building referenser f%f6r ytterligare waypoints ...
+5002=: F??r n??rvarande ??r denna funktion endast tillg??nglig f??r geocaching.com och opencaching. (CZ, DE, org.uk, pl).
+5003=Inst??llningar
+5004=Building referenser f??r ytterligare waypoints ...
 5497=Fel saknas tag i spider.def
 5498=Inloggning misslyckades. Fel vid laddning av sidan efter inloggning.
-5499=Fel vid inl%e4sning av inloggningssidan.%0aPlease kontrollera din Internetanslutning.
+5499=Fel vid inl??sning av inloggningssidan.%0aPlease kontrollera din Internetanslutning.
 5500=Fel
-5501=Inloggning misslyckades! Fel konto eller l%f6senord?
-5502=H%e4mtar f%f6rsta sidan ...
-5503=Fel n%e4r f%f6rsta lista sidan.
-5504=Kunde inte l%e4sa in "spider.def"
-5505=Ange l%f6senord
-5506=L%f6senord
+5501=Inloggning misslyckades! Fel konto eller l??senord?
+5502=H??mtar f??rsta sidan ...
+5503=Fel n??r f??rsta lista sidan.
+5504=Kunde inte l??sa in "spider.def"
+5505=Ange l??senord
+5506=L??senord
 5507=Status
 5508=Loggar in ..
-5509=Koordinater f%f6r centrum m%e5ste st%e4llas
+5509=Koordinater f??r centrum m??ste st??llas
 5510=Spider Options
-5511=Found +
-5512=+ nya/uppdatering cachar
-5513=Laddar: +
-5514 =%0aGetting bug: +
+5511=Found %20
+5512=%20 nya/uppdatering cachar
+5513=Laddar: %20
+5514=Getting bug: %20
 5515=Kunde inte ladda cache.%0aPlease kontrollera din Internetanslutning.%0aRetry?
-5516=+ cache beskrivningar%0acould inte laddas.
+5516=%20 cache beskrivningar%0acould inte laddas.
 5517=Spider uppdateringar?
-5518=+ cachar i databasen beh%f6ver uppdateras. Uppdatera nu?
+5518=%20 cachar i databasen beh??ver uppdateras. Uppdatera nu?
 5519=Information
-5520=Endast ges maximalt cachar lastades.%0aRepeat spidering senare att l%e4sa mer cachar.%0aNo redan existerande cachar har uppdaterats.
-5521=Sida +
-5522=S%f6k %e4ldre xml-filer (utan <CACHE... />)?
+5520=Endast ges maximalt cachar lastades.%0aRepeat spidering senare att l??sa mer cachar.%0aNo redan existerande cachar har uppdaterats.
+5521=Sida %20
+5522=S??k ??ldre xml-filer (utan <CACHE... />)?
 6000=Guid
 6001=Namn
 6002=track #
 6003=Mission
-6004=Fr%e5n Prof
-6005=Fr%e5n WPT
-6006=Fr%e5n Datum
-6007=Fr%e5n Log
+6004=Fr??n Prof
+6005=Fr??n WPT
+6006=Fr??n Datum
+6007=Fr??n Log
 6008=Till Prof
 6009=SVENSK
 6010=Till Datum
 6011=Till Log
-6015 =*** ANDRA ***
+6015=*** ANDRA ***
 6016=Pick up travelbug
 6017=Drop travelbug
 6018=Travelbug namn
-6019=Sp%e5rningsnummer
+6019=Sp??rningsnummer
 6020=Travelbug hittades inte.
-6021=Mer %e4n en travelbug hittades. Ange namn mer exakt.
-6022 =: Aktuella cache: +
+6021=Mer ??n en travelbug hittades. Ange namn mer exakt.
+6022=: Aktuella cache: %20
 6025=Namn:
-6026=Sp%e5rningsnummer:
+6026=Sp??rningsnummer:
 6027=Id / GUID:
 6028=Namn
 6029=Profil / Cache:
 6030=Datum hittades:
 6031=Logged
-6032=Fr%e5n
+6032=Fr??n
 6033=Datum dropped:
 6034=Till
 6035=Mission:
 6036=Mission
-6040=Pick up TB fr%e5n nuvarande cache
+6040=Pick up TB fr??n nuvarande cache
 6041=Drop TB i cache
 6042=New Travelbug
 6043=Radera Travelbug
 6044=Get uppdrag (och namn)
-6045=%f6ppna on-line
+6045=??ppna on-line
 6046=Visa bara inte inloggad
 6047=Ta bort valda Travelbugs
 6050=Visa kolumn
 6051=Visa inte kolumn
 6100=Sun
 6101=Moon
-6102=st%f6rre Bear
+6102=st??rre Bear
 6103=Orion
 6104=Cassiopeia
 6105=Cygnus
-6106=S%f6dra Korset
+6106=S??dra Korset
 6122=Altioth i Karlavagnen
 6123=Alnilam i Orion
 6124=Gamma Cassiopeia
 6125=Deneb i Cygnus
 6126=Mimosa i Southern Cross
 7000=Release:*
-7001=Release Candidate:+
-7002=i utveckling, stabil:+
-7003=i utveckling, nyaste:+
+7001=Release Candidate:%20
+7002=i utveckling, stabil:%20
+7003=i utveckling, nyaste:%20
 7010=upp-till-datum
-7011=Uppdatering tillg%e4nglig
-7012=ej tillg%e4nglig
+7011=Uppdatering tillg??nglig
+7012=ej tillg??nglig
 7013=fel
 7020=rekommenderade versionen typ
 7021=typ av denna version
-7022=detta ?r:+
+7022=detta ???%20
 7023=nedladdning Fel nuvarande version information
 7100=Serial Port Options
 7101=Uppdatera Ports$u
 7102=Baud:$b
 7103=Scan$u
 7104=Test$t
-7105=Forward GPS-data att vara v%e4rd
-7106=Alla data fr%e5n GPS kommer att skickas till TCP-port 23%0a och kan omf%f6rdelas det till en seriell port%0a av
-7107=Intervall i sekunder f%f6r avverkning
-7108=Fel: Kunde inte %f6ppna serieport: +
-7109=Fel: Kunde inte h%e4mta lista %f6ver tillg%e4ngliga seriella portar%0a
-7110=GPS hittades inte%0a
-7111=Trying +
-7112=at +
-7113=- fick en del data%0a
-7114=GPS Port hittades%0a
-7115=- Ingen GPS data tag hittades%0a
-7116=- inga uppgifter inkom%0a
-7117=Visa data fr%e5n serieporten direkt:%0a
+7105=Forward GPS-data att vara v??rd
+7106=Alla data fr??n GPS kommer att skickas till TCP-port 23%0a och kan omf??rdelas det till en seriell port%0a av
+7107=Intervall i sekunder f??r avverkning
+7108=Fel: Kunde inte ??ppna serieport: %20
+7109=Fel: Kunde inte h??mta lista ??ver tillg??ngliga seriella portar
+7110=GPS hittades inte
+7111=Trying %20
+7112=at %20
+7113=- fick en del data
+7114=GPS Port hittades
+7115=- Ingen GPS data tag hittades
+7116=- inga uppgifter inkom
+7117=Visa data fr??n serieporten direkt:
 7118=Stopp
 7119=Stopp
 7120=annullerad
-7121=F%e5 GPS fr%e5n gpsd v%e4rd
-7122=GPS-data tas emot fr%e5n en gpsd server, inte fr%e5n en seriell port
-7200=Anv%e4ndning: CacheWolf [-c <s%f6kv%e4g till pref.xml>] [-debug]
-7300=Gata / sev%e4rdhet
+7121=F?? GPS fr??n gpsd v??rd
+7122=GPS-data tas emot fr??n en gpsd server, inte fr??n en seriell port
+7200=Anv??ndning: CacheWolf [-c <s??kv??g till pref.xml>] [-debug]
+7300=Gata / sev??rdhet
 7301=City
-7302=S%f6k
+7302=S??k
 7303=Avbryt
 7304=New York, USA
 7305=Wallstreet
 7306=Searching ...
-7307=annullerad av anv%e4ndaren
+7307=annullerad av anv??ndaren
 7308=Kunde inte ansluta
 {..}
 {..}

Modified: trunk/src/CacheWolf/Attribute.java
===================================================================
--- trunk/src/CacheWolf/Attribute.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Attribute.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.fx.mImage;

Modified: trunk/src/CacheWolf/Attributes.java
===================================================================
--- trunk/src/CacheWolf/Attributes.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Attributes.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 public class Attributes {
 	public Attributes(){} // Just a public constructor

Modified: trunk/src/CacheWolf/AttributesSelector.java
===================================================================
--- trunk/src/CacheWolf/AttributesSelector.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/AttributesSelector.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.fx.Image;
@@ -11,7 +36,6 @@
 import ewe.ui.DataChangeEvent;
 import ewe.ui.Panel;
 import ewe.ui.mLabel;
-import ewe.sys.*;
 
 public class AttributesSelector extends Panel {
 	protected static int TILESIZE=16; // for small screen 

Modified: trunk/src/CacheWolf/AttributesViewer.java
===================================================================
--- trunk/src/CacheWolf/AttributesViewer.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/AttributesViewer.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,8 +1,37 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.fx.*;
-import ewe.graphics.*;
-import ewe.ui.*;
+import ewe.fx.Rect;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.graphics.InteractivePanel;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.mLabel;
 
 public class AttributesViewer extends CellPanel {
 	protected static int TILESIZE=Attribute.getImageWidth()+2;

Modified: trunk/src/CacheWolf/CWPoint.java
===================================================================
--- trunk/src/CacheWolf/CWPoint.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CWPoint.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,10 +1,35 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 
+import CacheWolf.navi.GeodeticCalculator;
 import CacheWolf.navi.ProjectedPoint;
 import CacheWolf.navi.TrackPoint;
 import CacheWolf.navi.TransformCoordinates;
-import CacheWolf.navi.GeodeticCalculator;
 
 import com.stevesoft.ewe_pat.Regex;
 
@@ -220,7 +245,6 @@
 						else set(rex.stringMatched(23), rex.stringMatched(22), ls);
 					}
 				}
-				//else Vm.debug("CWPoint: "+coord+" could not be parsed");
 			}	/**
 	 * set lat and lon 
 	 * @param strLatNS "N" or "S"

Modified: trunk/src/CacheWolf/CWProgressBar.java
===================================================================
--- trunk/src/CacheWolf/CWProgressBar.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CWProgressBar.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.sys.Handle;

Modified: trunk/src/CacheWolf/CacheDB.java
===================================================================
--- trunk/src/CacheWolf/CacheDB.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheDB.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.MutableInteger;

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.exp.Exporter;
@@ -3,4 +28,5 @@
 import CacheWolf.exp.GarminMap;
 import CacheWolf.navi.Metrics;
+
 import com.stevesoft.ewe_pat.Regex;
 
@@ -799,7 +825,7 @@
 					String src = Global.getProfile().dataDir + imgFile;
 					String dest = Global.getPref().getExportPath(expName) + imgFile;
 					if (!DataMover.copy(src,dest)) {
-						Global.getPref().log("error copying "+imgFile+" to "+Global.getPref().getExportPath(expName));
+						Global.getPref().log("[CacheHolder:toHashtable]error copying "+imgFile+" to "+Global.getPref().getExportPath(expName));
 					}
 				}
 				imgVect.add(imgs);

Modified: trunk/src/CacheWolf/CacheHolderDetail.java
===================================================================
--- trunk/src/CacheWolf/CacheHolderDetail.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheHolderDetail.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.FileBugfix;
@@ -200,7 +225,7 @@
 			}
 
 			if (in == null) throw new FileNotFoundException(dir+getParent().getWayPoint().toLowerCase()+".xml");
-			if (Global.getPref().debug) Global.getPref().log("Reading file "+getParent().getWayPoint() + ".xml");
+			Global.getPref().log("Reading file "+getParent().getWayPoint() + ".xml");
 			String text= in.readAll();
 			in.close();
 			Extractor ex = new Extractor(text, "<DETAILS><![CDATA[", "]]></DETAILS>", 0, true);		
@@ -357,7 +382,6 @@
 		public void saveCacheDetails(String dir){
 			PrintWriter detfile;
 			deleteFile(dir + getParent().getWayPoint() + ".xml");
-			//Vm.debug("Writing to: " +dir + "for: " + wayPoint);
 			try{
 			  detfile = new PrintWriter(new BufferedWriter(new FileWriter(new FileBugfix(dir + getParent().getWayPoint().toLowerCase() + ".xml").getAbsolutePath())));
 			} catch (Exception e) {
@@ -437,12 +461,12 @@
 				  Global.getPref().log("Writing file: "+getParent().getWayPoint().toLowerCase() + ".xml");
 				} // if length
 			} catch (Exception e){
-				Global.getPref().log("Problem waypoint " + getParent().getWayPoint() + " writing to a details file: " + e.getMessage());
+				Global.getPref().log("Problem waypoint " + getParent().getWayPoint() + " writing to a details file: ",e);
 			}
 			try{
 			  detfile.close();
 			} catch (Exception e){
-				Global.getPref().log("Problem waypoint " + getParent().getWayPoint() + " writing to a details file: " + e.getMessage());
+				Global.getPref().log("Problem waypoint " + getParent().getWayPoint() + " writing to a details file: ",e);
 			}
 			hasUnsavedChanges = false;
 		}

Modified: trunk/src/CacheWolf/CacheImages.java
===================================================================
--- trunk/src/CacheWolf/CacheImages.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheImages.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,28 @@
-/**
- * 
- */
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.FileBugfix;

Modified: trunk/src/CacheWolf/CacheList.java
===================================================================
--- trunk/src/CacheWolf/CacheList.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheList.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.filechooser.FileChooser;
@@ -2,7 +27,32 @@
 import ewe.filechooser.FileChooserBase;
-import ewe.fx.*;
-import ewe.io.*;
-import ewe.sys.*;
-import ewe.ui.*;
-import ewe.util.*;
+import ewe.fx.Color;
+import ewe.fx.IconAndText;
+import ewe.fx.Point;
+import ewe.fx.mImage;
+import ewe.io.BufferedWriter;
+import ewe.io.FileReader;
+import ewe.io.FileWriter;
+import ewe.io.PrintWriter;
+import ewe.sys.Convert;
+import ewe.ui.CellPanel;
+import ewe.ui.Control;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.DragContext;
+import ewe.ui.Event;
+import ewe.ui.FormBase;
+import ewe.ui.Gui;
+import ewe.ui.IKeys;
+import ewe.ui.KeyEvent;
+import ewe.ui.MenuEvent;
+import ewe.ui.MenuItem;
+import ewe.ui.MessageBox;
+import ewe.ui.MultiPanelEvent;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.ScrollablePanel;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mLabel;
+import ewe.ui.mList;
+import ewe.util.Comparer;
 

Modified: trunk/src/CacheWolf/CacheSize.java
===================================================================
--- trunk/src/CacheWolf/CacheSize.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheSize.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**

Modified: trunk/src/CacheWolf/CacheTerrDiff.java
===================================================================
--- trunk/src/CacheWolf/CacheTerrDiff.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheTerrDiff.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**

Modified: trunk/src/CacheWolf/CacheType.java
===================================================================
--- trunk/src/CacheWolf/CacheType.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheType.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.fx.Image;

Modified: trunk/src/CacheWolf/CacheWolf.java
===================================================================
--- trunk/src/CacheWolf/CacheWolf.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CacheWolf.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,47 +1,46 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.ui.*;
-import ewe.sys.*;
+import ewe.sys.Device;
+import ewe.ui.Editor;
+import ewe.ui.FormBase;
+import ewe.ui.MessageBox;
 
-public class CacheWolf extends Editor{
-	
-	
+public class CacheWolf{
 	public static void main(String vmargs[])
 	{
-		//start with parameters:
-		//args[0]: spider
-		//args[1]: distance
 		ewe.sys.Vm.startEwe(vmargs);
-/*		Gui.screenIs(Gui.PDA_SCREEN);
-		Rect s = (Rect)Window.getGuiInfo(Window.INFO_SCREEN_RECT,null,new Rect(),0);
-		//Gui.screenIs(Gui.PDA_SCREEN)
-		if (Vm.isMobile() && s.height >= 400) {
-			Font defaultGuiFont = mApp.findFont("gui");
-			int sz = (int)(defaultGuiFont.getSize());
-			Font newGuiFont = new Font(defaultGuiFont.getName(), defaultGuiFont.getStyle(), sz); 
-			mApp.addFont(newGuiFont, "gui"); 
-			mApp.fontsChanged();
-			mApp.mainApp.font = newGuiFont;
-		}
-*/		
-		if (Gui.screenIs(Gui.PDA_SCREEN) && Vm.isMobile()) {
-			Vm.setSIP(Vm.SIP_LEAVE_BUTTON);
-		}
 		
 		// get program command line parameters and switches
 		String[] args = vmargs; // Vm.getProgramArguments(); <-- only works in eclipse, but mixes the letters in the ewe-vm (tested in ewe-1.49 on win xp)
 		String configfile = null;
 		boolean debug = false;
 		if(args.length > 0){
-			/* 
-			if(args[0].equals("test")){
-				Test t=new Test(); 
-				t.testAll();
-			}
-			*/
 			for (int i=0; i < args.length ; i++) {
-				// Vm.debug("prog: " + args[i]);
-				// Vm.debug("vm: " + vmargs[i]);
 				if (args[i] != null && args[i].length() > 1 &&
 						(args[i].startsWith("-") || args[i].startsWith("/")) ) {
 					String c = args[i].substring(1, args[i].length());
@@ -56,20 +55,14 @@
 						}
 					}
 					if (c.equalsIgnoreCase("debug")) {
-						//Vm.debug("d");
 						debug = true;
 					}
 
 				}
 			}
 		}
-		/*
-		if (debug) {
-			Vm.debug("prg-args: " + args.length);
-			Vm.debug("vm-args: " + vmargs.length);
-		}
-		*/
-		
+		// debug = true will permanently set this in pref.xml
+		// !!! debug = false will be overwritten by reading pref.xml
 		Editor mainF = new MainForm(debug, configfile);
 		Device.preventIdleState(true);
 		mainF.execute();

Modified: trunk/src/CacheWolf/CalcPanel.java
===================================================================
--- trunk/src/CacheWolf/CalcPanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CalcPanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.navi.Metrics;
@@ -2,8 +27,18 @@
 import CacheWolf.navi.TransformCoordinates;
-import CacheWolf.InputScreen;
+import ewe.fx.Dimension;
+import ewe.fx.FontMetrics;
 import ewe.sys.Vm;
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.CheckBoxGroup;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.FormBase;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mChoice;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
 import ewe.ui.formatted.TextDisplay;
-import ewe.fx.Dimension;
-import ewe.fx.FontMetrics;
 

Modified: trunk/src/CacheWolf/Common.java
===================================================================
--- trunk/src/CacheWolf/Common.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Common.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 

Modified: trunk/src/CacheWolf/CoordsScreen.java
===================================================================
--- trunk/src/CacheWolf/CoordsScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/CoordsScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.imp.SpiderGC;
@@ -4,9 +29,25 @@
 import CacheWolf.navi.Navigate;
 import CacheWolf.navi.ProjectedPoint;
 import CacheWolf.navi.TransformCoordinates;
-import ewe.ui.*;
 import ewe.fx.Dimension;
-import ewe.sys.*;
+import ewe.sys.Vm;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.CheckBoxGroup;
+import ewe.ui.Control;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.Gui;
+import ewe.ui.IKeys;
+import ewe.ui.MessageBox;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mChoice;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
 
 /**
  *	Class for entering coordinates<br>
@@ -234,7 +275,6 @@
 	
 	public void onEvent(Event ev){
 
-		//Vm.debug(ev.toString());
 		// Ensure that the Enter key moves to the appropriate field
 		// for Checkboxes and Choice controls this is done via the exitKeys
 		// For input fields we use the wantReturn field

Modified: trunk/src/CacheWolf/DBStats.java
===================================================================
--- trunk/src/CacheWolf/DBStats.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/DBStats.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**

Modified: trunk/src/CacheWolf/DataMover.java
===================================================================
--- trunk/src/CacheWolf/DataMover.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/DataMover.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.FileBugfix;

Modified: trunk/src/CacheWolf/DataMoverForm.java
===================================================================
--- trunk/src/CacheWolf/DataMoverForm.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/DataMoverForm.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.ui.CellConstants;

Modified: trunk/src/CacheWolf/DateFormat.java
===================================================================
--- trunk/src/CacheWolf/DateFormat.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/DateFormat.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /* Several date formats are used by GC.COM

Modified: trunk/src/CacheWolf/DateTimeChooser.java
===================================================================
--- trunk/src/CacheWolf/DateTimeChooser.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/DateTimeChooser.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,9 +1,54 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.ui.*;
-import ewe.fx.*;
-import ewe.sys.*;
-import ewe.util.*;
-import ewe.reflect.*;
+import ewe.fx.Color;
+import ewe.fx.DrawnIcon;
+import ewe.fx.Insets;
+import ewe.fx.Point;
+import ewe.reflect.FieldTransfer;
+import ewe.sys.Convert;
+import ewe.sys.Locale;
+import ewe.sys.Time;
+import ewe.sys.TimeOfDay;
+import ewe.sys.Vm;
+import ewe.ui.CardPanel;
+import ewe.ui.CellPanel;
+import ewe.ui.Control;
+import ewe.ui.ControlEvent;
+import ewe.ui.Editor;
+import ewe.ui.InputPanelTableModel;
+import ewe.ui.MultiPanel;
+import ewe.ui.TableCellAttributes;
+import ewe.ui.TableControl;
+import ewe.ui.TableEvent;
+import ewe.ui.TableModel;
+import ewe.ui.UIConstants;
+import ewe.ui.mButton;
+import ewe.util.Vector;
+import ewe.util.mString;
 
 
 public class DateTimeChooser extends Editor {
@@ -305,11 +350,9 @@
 	
 	
 	void set(int day,int month,int year) {
-		//ewe.sys.Vm.debug(month+","+year);
 		numDays = Time.numberOfDays(month,year);
 		Time t = new Time(1,month,year);
 		firstDayIndex = Time.indexOfDayInWeek(t.dayOfWeek,locale)-1;
-		//ewe.sys.Vm.debug(""+firstDayIndex+", "+numDays);
 		int oldDay = chosenDay;
 		chosenDay = day;
 		if (oldDay != chosenDay) refreshDay(oldDay);

Modified: trunk/src/CacheWolf/DescriptionPanel.java
===================================================================
--- trunk/src/CacheWolf/DescriptionPanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/DescriptionPanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import com.stevesoft.ewe_pat.Regex;
@@ -2,5 +27,11 @@
 
-import ewe.ui.*;
-import ewe.fx.*;
-import ewe.sys.*;
+import ewe.fx.Font;
+import ewe.sys.Vm;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.HtmlDisplay;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.mButton;
 
@@ -83,7 +114,6 @@
                 imgRex.searchFrom(desc, pos);
                 String imgUrl = imgRex.stringMatched(1);
                 if (imgUrl==null) break; // Remaining pictures are from image span
-                // Vm.debug("imgUrl "+imgUrl);
                 if (imgUrl.lastIndexOf('.') > 0 && imgUrl.toLowerCase().startsWith("http")) {
                     String imgType = (imgUrl.substring(imgUrl.lastIndexOf('.')).toLowerCase() + "    ").substring(0, 4).trim();
                     // If we have an image which we stored when spidering, we can display it

Modified: trunk/src/CacheWolf/DetailsPanel.java
===================================================================
--- trunk/src/CacheWolf/DetailsPanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/DetailsPanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,31 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.navi.TransformCoordinates;
-import CacheWolf.InputScreen;
 import ewe.fx.Color;
 import ewe.fx.Dimension;
 import ewe.fx.Point;
@@ -382,18 +406,14 @@
 			} else {
 				btnTerr.setText("T: -.-");
 				mainCache.setIncomplete(true);
-				if (Global.getPref().debug) {
-					Global.getPref().log(mainCache.getWayPoint() + " has wrong terrain " + mainCache.getTerrain());
-				}
+				Global.getPref().log(mainCache.getWayPoint() + " has wrong terrain " + mainCache.getTerrain());
 			}
 			if (CacheTerrDiff.isValidTD(mainCache.getHard())) {
 				btnDiff.setText(MyLocale.getMsg(1000, "D") + ": " + CacheTerrDiff.longDT(mainCache.getHard()));
 			} else {
 				btnDiff.setText("D: -.-");
 				mainCache.setIncomplete(true);
-				if (Global.getPref().debug) {
-					Global.getPref().log(mainCache.getWayPoint() + " has wrong difficulty " + mainCache.getHard());
-				}
+				Global.getPref().log(mainCache.getWayPoint() + " has wrong difficulty " + mainCache.getHard());
 			}
 		}
 

Modified: trunk/src/CacheWolf/Extractor.java
===================================================================
--- trunk/src/CacheWolf/Extractor.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Extractor.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 
@@ -28,9 +53,7 @@
 		public Extractor(String sTxt, String st, String e, int sOff, boolean only){
 			startOffset = sOff;
 			searchText = sTxt;
-			//Vm.debug("Start " + st);
 			end = e;
-			//Vm.debug("End: " + e);
 			start = st;
 			betweenonly = only;
 		}
@@ -41,7 +64,6 @@
 		 */
 		public void setSource(String sTxt){
 			searchText = sTxt;
-			//Vm.debug("Searchtext: " + searchText);
 			startOffset = 0;
 		}
 		
@@ -63,7 +85,6 @@
 			if (searchText == null) return new String(); //maby null should 
 			int idxStart = searchText.indexOf(start,startOffset);
 			int idxEnd = searchText.indexOf(end, idxStart+start.length());
-			////Vm.debug("Start: " + Convert.toString(idxStart) + " End: " + Convert.toString(idxEnd));
 			if(idxEnd == -1) idxEnd = searchText.length(); //index counts from zero length from 1 but the last char is not included in substr and substr accepts length +1 (but not length+2)
 			startOffset = idxEnd;
 			tst = new String();

Modified: trunk/src/CacheWolf/Filter.java
===================================================================
--- trunk/src/CacheWolf/Filter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Filter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,12 +1,43 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
+import CacheWolf.imp.KMLImporter;
+import CacheWolf.navi.TransformCoordinates;
+
+import com.stevesoft.ewe_pat.Regex;
+
+import ewe.io.File;
+import ewe.io.FileNotFoundException;
+import ewe.io.FileReader;
+import ewe.io.IOException;
+import ewe.sys.Convert;
 import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
-import ewe.util.*;
-import ewe.sys.*;
-import ewe.io.*;
-import com.stevesoft.ewe_pat.*;
-import CacheWolf.imp.*;
-import CacheWolf.navi.TransformCoordinates;
+import ewe.util.Hashtable;
+import ewe.util.Vector;
 
 /**
 *	Class that actually filters the cache database.<br>
@@ -108,19 +139,6 @@
 				String line; 
 				while((line = in.readLine()) != null){
 					rex.search(line);
-					/*
-					Vm.debug(line);
-					Vm.debug(rex.stringMatched(1));
-					Vm.debug(rex.stringMatched(2));
-					Vm.debug(rex.stringMatched(3));
-					Vm.debug(rex.stringMatched(5));
-					
-					Vm.debug(rex.stringMatched(6));
-					Vm.debug(rex.stringMatched(7));
-					Vm.debug(rex.stringMatched(8));
-					Vm.debug(rex.stringMatched(10));
-					Vm.debug(" ");
-					*/
 					// parse the route file
 					if(rex.didMatch()){
 						lat = Convert.toDouble(rex.stringMatched(2)) + Convert.toDouble(rex.stringMatched(3))/60 + Convert.toDouble(rex.stringMatched(5))/60000;
@@ -154,12 +172,9 @@
 					calcDistance = DistToSegment(fromPoint, toPoint, cwp);
 					calcDistance = (calcDistance*180*60)/java.lang.Math.PI;
 					calcDistance = calcDistance * 1.852;
-					//Vm.debug("Distcalc: " + calcDistance + "Cache: " +ch.CacheName + " / z is = " + z);
 					if(calcDistance <= distance) {
-						//Vm.debug("Distcalc: " + calcDistance + "Cache: " +ch.CacheName + " / z is = " + z);
 						ch.in_range = true;
 					}
-					//cacheDB.set(i, ch);
 				} // for database
 			} // for segments
 			for(int i = cacheDB.size()-1; i >=0 ; i--){
@@ -177,23 +192,7 @@
 	*	Method to calculate the distance of a point to a segment
 	*/
 	private double DistToSegment(CWPoint fromPoint, CWPoint toPoint, CWPoint cwp){
-		
-		/*
-		double XTD = 0;
 		double dist = 0;
-		
-		double crs_AB = fromPoint.getBearing(toPoint);
-		crs_AB = crs_AB * java.lang.Math.PI / 180;
-		double crs_AD = fromPoint.getBearing(cwp);
-		crs_AD = crs_AD * java.lang.Math.PI / 180;
-		double dist_AD = fromPoint.getDistance(cwp);
-		Vm.debug("Distance: "+dist_AD);
-		dist_AD = dist_AD / 1.852;
-		dist_AD = (java.lang.Math.PI/(180*60))*dist_AD;
-		XTD =java.lang.Math.asin(java.lang.Math.sin(dist_AD)*java.lang.Math.sin(crs_AD-crs_AB));
-		return java.lang.Math.abs(XTD);
-		*/
-		double dist = 0;
 		double px = cwp.lonDec * pi180;
 		double py = cwp.latDec * pi180;
 		double X1 = fromPoint.lonDec * pi180;

Modified: trunk/src/CacheWolf/FilterData.java
===================================================================
--- trunk/src/CacheWolf/FilterData.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/FilterData.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**

Modified: trunk/src/CacheWolf/FilterScreen.java
===================================================================
--- trunk/src/CacheWolf/FilterScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/FilterScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,10 +1,63 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 import CacheWolf.navi.Metrics;
-import ewe.ui.*;
-import ewe.io.*;
-import ewe.fx.*;
-import ewe.sys.*;
-import ewe.filechooser.*;
+import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
+import ewe.fx.Color;
+import ewe.fx.Dimension;
+import ewe.fx.Graphics;
+import ewe.fx.Image;
+import ewe.fx.Insets;
+import ewe.fx.Pen;
+import ewe.fx.Rect;
+import ewe.fx.mImage;
+import ewe.io.File;
+import ewe.sys.Convert;
+import ewe.sys.Vm;
+import ewe.ui.ButtonObject;
+import ewe.ui.CardPanel;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.ControlEvent;
+import ewe.ui.DataChangeEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.Frame;
+import ewe.ui.InputBox;
+import ewe.ui.MessageBox;
+import ewe.ui.Panel;
+import ewe.ui.UIConstants;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mChoice;
+import ewe.ui.mComboBox;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
 
 /**
 *	This class displays a form that the user uses to set the filter criteria.
@@ -721,9 +774,6 @@
 						this.repaintNow();
 					}
 				}
-//				Vm.debug("Event: "+ev.toString()+"; Target: "+ev.target+"; Liste: "+fltList.getText()+
-//						" (alt: "+fltList.oldText+")");
-				//setColors();
 			}
 			setColors();
 		}

Modified: trunk/src/CacheWolf/GPSPortOptions.java
===================================================================
--- trunk/src/CacheWolf/GPSPortOptions.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/GPSPortOptions.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,8 +1,9 @@
     /*
-    CacheWolf is a software for PocketPC, Win and Linux that 
-    enables paperless caching. 
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
     It supports the sites geocaching.com and opencaching.de
-    
+
     Copyright (C) 2006  CacheWolf development team
     See http://developer.berlios.de/projects/cachewolf/
     for more information.
@@ -11,8 +12,7 @@
 
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
-    the Free Software Foundation; either version 2 of the License, or
-    (at your option) any later version.
+    the Free Software Foundation; version 2 of the License.
 
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
@@ -23,25 +23,43 @@
     along with this program; if not, write to the Free Software
     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
     */
-
 package CacheWolf;
 
-import ewe.ui.*;
-import ewe.io.*;
-import ewe.ui.formatted.TextDisplay;
+import net.ax86.GPS;
+import net.ax86.GPSException;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import ewe.io.IOException;
+import ewe.io.SerialPort;
+import ewe.io.SerialPortOptions;
 import ewe.net.Socket;
 import ewe.reflect.FieldTransfer;
 import ewe.reflect.Reflect;
-import ewe.sys.*;
-import ewe.util.*;
+import ewe.sys.Time;
+import ewe.sys.mThread;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.ControlConstants;
+import ewe.ui.Editor;
+import ewe.ui.EditorEvent;
+import ewe.ui.FormBase;
+import ewe.ui.Gui;
+import ewe.ui.InputStack;
+import ewe.ui.MessageBox;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.ScrollablePanel;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mChoice;
+import ewe.ui.mComboBox;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
+import ewe.ui.formatted.TextDisplay;
+import ewe.util.mString;
 
-// Stuff needed by the GpsdThread class:
-import net.ax86.GPS;
-import net.ax86.GPSException;
-import org.json.JSONObject;
-import org.json.JSONException;
 
-
 /**
  * Thread for reading data from COM-port
  *

Modified: trunk/src/CacheWolf/GeoCodeGui.java
===================================================================
--- trunk/src/CacheWolf/GeoCodeGui.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/GeoCodeGui.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.io.IOException;
@@ -70,7 +95,6 @@
 
 	public void onEvent(Event ev){
 
-		//Vm.debug(ev.toString());
 		// Ensure that the Enter key moves to the appropriate field
 		// for Checkboxes and Choice controls this is done via the exitKeys
 		// For input fields we use the wantReturn field

Modified: trunk/src/CacheWolf/GeocoderOsm.java
===================================================================
--- trunk/src/CacheWolf/GeocoderOsm.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/GeocoderOsm.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.io.ByteArrayInputStream;

Modified: trunk/src/CacheWolf/Global.java
===================================================================
--- trunk/src/CacheWolf/Global.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Global.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**

Modified: trunk/src/CacheWolf/GuiImageBroker.java
===================================================================
--- trunk/src/CacheWolf/GuiImageBroker.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/GuiImageBroker.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.FileBugfix;

Modified: trunk/src/CacheWolf/HintLogPanel.java
===================================================================
--- trunk/src/CacheWolf/HintLogPanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/HintLogPanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.fx.Dimension;

Modified: trunk/src/CacheWolf/HttpConnection.java
===================================================================
--- trunk/src/CacheWolf/HttpConnection.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/HttpConnection.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.data.Property;
@@ -300,7 +325,6 @@
 		document = url;
 	} else {
 		url = FileBase.fixupPath(url);
-		//ewe.sys.Vm.debug("url: "+url);
 		port = 80;
 		String uu = url.toLowerCase();
 		if (uu.startsWith("http://")){
@@ -443,12 +467,9 @@
 		if (idx == -1) continue;
 		String name = s.substring(0,idx).trim().toLowerCase();
 		String value = s.substring(idx+1).trim();
-		//if (document.endsWith("html")) ewe.sys.Vm.debug(document+": "+name+" = "+value);
 		documentProperties.add(name,value);
 	}
 	contentLength = documentProperties.getInt("content-length",-1);
-	//if (document.endsWith("?") || document.endsWith(".gif"))
-	//ewe.sys.Vm.debug(documentProperties.toString());
 	return responseCode;
 }
 
@@ -512,87 +533,8 @@
 		clen *= 16;
 		clen += c <= '9' ? c-'0' : c-'A'+10;
 	}
-	//ewe.sys.Vm.debug("Length: "+length+" = "+clen);
 	return clen;
 }
-/*
-//===================================================================
-Handle readInSomeData(final Socket connection,final int numBytes,final ByteArray dest)
-//===================================================================
-{
-	return new ewe.sys.TaskObject(){
-		protected void doRun(){
-			try{
-				ByteArray ba = dest;
-				if (ba == null) ba = new ByteArray();
-				ba.clear();
-				int size = numBytes;
-				if (buffer == null) buffer = new byte[10240];			
-				handle.setProgress(0.0f);
-				while(size > 0){
-					int toRead = size > buffer.length ? buffer.length : size;
-					toRead = connection.read(buffer,0,toRead);
-					if (toRead <= 0) throw new IOException();
-					ba.append(buffer,0,toRead);
-					size -= toRead;
-					handle.setProgress((float)((double)(numBytes-size)/numBytes));
-				}
-				handle.setProgress(1.0f);
-				handle.returnValue = ba;
-				handle.set(Handle.Succeeded);
-				return;
-			}catch(Exception e){
-				handle.failed(e);
-			}finally{
-				if (!keepAliveMode || ((handle.check() & handle.Success) == 0))
-					connection.close();
-			}
-		}
-	}.startTask();
-}
-*/
-/*
-//===================================================================
-Handle readInChunkedData(final Socket connection)
-//===================================================================
-{
-	return new ewe.sys.TaskObject(){
-		protected void doRun(){
-			try{
-				ByteArray ba = new ByteArray();
-				while(true){
-					handle.setProgress(-1f);
-					int size = readInChunkedHeader(connection,null,null);
-					if (size == 0) break;
-					if (buffer == null) buffer = new byte[10240];			
-					while(size > 0){
-						int toRead = size > buffer.length ? buffer.length : size;
-						//ewe.sys.Vm.debug("Reading: "+toRead);
-						toRead = connection.read(buffer,0,toRead);
-						if (toRead <= 0) throw new IOException();
-						ba.append(buffer,0,toRead);
-						size -= toRead;
-						handle.setProgress(-1f);
-					}
-					//
-					// Should be a CRLF after the data.
-					//
-					while(true){
-						int got = connection.read();
-						if (got == -1) throw new IOException();
-						if (got == '\n') break;
-					}
-				}
-				handle.returnValue = ba;
-				handle.set(Handle.Succeeded);
-				return;
-			}catch(IOException e){
-				handle.failed(e);
-			}
-		}
-	}.startTask();
-}
-*/
 /**
  * Read in all the data from the Socket.
  * @param connection The socket returned by a connect() call.
@@ -632,7 +574,6 @@
 private InputStream getInputStream()
 //===================================================================
 {
-	//ewe.sys.Vm.debug(documentProperties.toString());
 	int length = documentProperties.getInt("content-length",-1);
 	if ("chunked".equals(documentProperties.getValue(encodings,null)))
 		return new MemoryStream(true){
@@ -763,7 +704,6 @@
 				// Now wait until connected.
 				//
 				if (!waitOnSuccess(sh,true)) return;
-				//ewe.sys.Vm.debug("Socket connected.");
 				//
 				// Report that the socket connection was made.
 				// Now have to decode the data.
@@ -771,7 +711,6 @@
 				handle.setFlags(SocketConnected,0);
 				//
 				makeRequest(sock,serverTextDecoder);
-				//ewe.sys.Vm.debug("Request made.");
 				handle.returnValue = connectedSocket = sock;
 				handle.setFlags(Handle.Success,0);
 				return;
@@ -793,69 +732,9 @@
  * the document properties list.
  * @exception IOException if there was an error connecting or getting the data.
  */
-//===================================================================
-public Socket connect() throws IOException
-//===================================================================
-{
+public Socket connect() throws IOException {
 	return (Socket)waitOnIO(connectAsync(),"Could not connect.");
 }
-/**
- * Connect to the server and save the socket for later use as the "connectedSocket" field.
- * @return the connected socket - before any data is sent or read.
- * @exception IOException if a connection could not be made.
- * FIXME: never referenced
- */
-////===================================================================
-//public Socket connectSocketOnly() throws IOException
-////===================================================================
-//{
-//	//if (connectedSocket != null) return connectedSocket;
-//	//return connectedSocket = new Socket(host,port);
-//	if (openSocket != null) return openSocket;
-//	return openSocket = new Socket(host,port);
-//}
-
-/*
-//===================================================================
-public Handle connectAsync2()
-//===================================================================
-{
-	return new ewe.sys.Vm.TaskObject(){
-		protected void doRun(){
-			try{
-				Socket sock = new Socket(host,port);
-				handle.setFlags(SocketConnected,0);
-								
-			}catch(Exception e){
-				handle.set(Handle.Failed);
-				return;
-			}
-		}
-	}.stratTask();
 }
-*/
-/*
-//===================================================================
-public static void main(String args[]) throws IOException, InterruptedException
-//===================================================================
-{
-	ewe.sys.Vm.startEwe(args);
-	HttpConnection hp = new HttpConnection("192.168.0.52",80,"/eweDemo.zip");
-	Socket sock = hp.connect();
-	Handle h = hp.readInData(sock);
-	ProgressBarForm pbf = new ProgressBarForm();
-	pbf.showStop = true;
-	pbf.execute(h,"Reading...");
-	pbf.showMainTask = false;
-	pbf.showSubTask = true;
-	h.waitUntilStopped();
-	if ((h.check() & h.Success) != 0) ewe.sys.Vm.debug("Success!!");
-	sock.close();
-	ewe.sys.Vm.exit(0);
-}
-*/
-//##################################################################
-}
-//##################################################################
 
 

Modified: trunk/src/CacheWolf/ImageDetailForm.java
===================================================================
--- trunk/src/CacheWolf/ImageDetailForm.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ImageDetailForm.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,5 +1,35 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.mLabel;
 
 
 /**

Modified: trunk/src/CacheWolf/ImageInfo.java
===================================================================
--- trunk/src/CacheWolf/ImageInfo.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ImageInfo.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**

Modified: trunk/src/CacheWolf/ImageInteractivePanel.java
===================================================================
--- trunk/src/CacheWolf/ImageInteractivePanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ImageInteractivePanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,37 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.graphics.*;
-import ewe.fx.*;
-import ewe.ui.*;
+import ewe.fx.Point;
+import ewe.fx.Rect;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.graphics.InteractivePanel;
+import ewe.ui.ControlEvent;
+import ewe.ui.Menu;
+import ewe.ui.ScrollBarPanel;
 
 /**
 *	This class handles the resizing im images

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ImagePanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,10 +1,49 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 import CacheWolf.utils.FileBugfix;
-import ewe.graphics.*;
-import ewe.sys.*;
-import ewe.fx.*;
-import ewe.ui.*;
-import ewe.io.*;
+import ewe.fx.Color;
+import ewe.fx.Font;
+import ewe.fx.FontMetrics;
+import ewe.fx.Graphics;
+import ewe.fx.Image;
+import ewe.fx.Point;
+import ewe.fx.Rect;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.graphics.InteractivePanel;
+import ewe.io.File;
+import ewe.sys.SystemResourceException;
+import ewe.sys.Vm;
+import ewe.ui.ControlBase;
+import ewe.ui.Event;
+import ewe.ui.FormBase;
+import ewe.ui.Gui;
+import ewe.ui.MessageBox;
+import ewe.ui.PenEvent;
 
 
 /**
@@ -73,8 +112,6 @@
 			addImages(cache.images.getDisplayImages(cache.getParent().getWayPoint()));
 			// load user images
 			if(locCounter==1 || locCounter ==2) locY = locY + thumb_size;
-			//Vm.debug("thumb_size: " + Convert.toString(thumb_size));
-			//Vm.debug("locy after: " + Convert.toString(locY));
 			if (cache.userImages.size()> 0){
 				addTitle(MyLocale.getMsg(341,"User Images:"));
 				locY = locY + 20;
@@ -240,13 +277,11 @@
 	* If right mouse key is clicked, a dialogue to delete the image wil be displayed
 	*/
 	public void imageClicked(AniImage which, Point pos){
-//		Vm.debug("Clicked"+pos.x+","+pos.y+" "+(((Control.currentPenEvent.modifiers&PenEvent.RIGHT_BUTTON)==PenEvent.RIGHT_BUTTON)?"RIGHT":"LEFT") );
 		if ((ControlBase.currentPenEvent.modifiers&PenEvent.RIGHT_BUTTON)==PenEvent.RIGHT_BUTTON || duration>LONG_PEN_DOWN_DURATION) {
 			// Right button pressed - delete image to conserve space
 			if (which instanceof ImagePanelImage && !((ImagePanelImage)which).fileName.equals(NO_IMAGE)) {
 				MessageBox mBox = new MessageBox (MyLocale.getMsg(144,"Warning"),MyLocale.getMsg(344,"Delete image")+" \""+((ImagePanelImage)which).imageText+"\"?", FormBase.IDYES |FormBase.IDNO);
 				if (mBox.execute() == FormBase.IDOK){
-						//Vm.debug("Deleting "+((ImagePanelImage)which).fileName);
 						try {
 							File f=new File(((ImagePanelImage)which).fileName);
 							f.delete();

Modified: trunk/src/CacheWolf/ImagePanelImage.java
===================================================================
--- trunk/src/CacheWolf/ImagePanelImage.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ImagePanelImage.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,31 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.graphics.*;
-import ewe.fx.*;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
 
 /**
 * The ImagePanelImage extends AniImage by a fileName.

Modified: trunk/src/CacheWolf/InfoBox.java
===================================================================
--- trunk/src/CacheWolf/InfoBox.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/InfoBox.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,5 +1,41 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.IKeys;
+import ewe.ui.TextMessage;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
 
 public class InfoBox extends Form{
 	TextMessage msgArea;

Modified: trunk/src/CacheWolf/InfoScreen.java
===================================================================
--- trunk/src/CacheWolf/InfoScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/InfoScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,39 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.ui.*;
-import ewe.io.*;
+import ewe.io.FileReader;
+import ewe.ui.CellConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.HtmlDisplay;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.ScrollablePanel;
+import ewe.ui.mButton;
 
 /**
 *	This class displays an information screen. It loads the html text to display
@@ -27,7 +59,6 @@
 				myText = in.readAll();
 				in.close();
 			}catch(Exception ex){
-				//Vm.debug("Error! Could not open " + datei);
 			}
 		} else myText = datei;
 		disp.setHtml(myText);

Modified: trunk/src/CacheWolf/InputScreen.java
===================================================================
--- trunk/src/CacheWolf/InputScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/InputScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 
@@ -3,6 +28,22 @@
 import CacheWolf.navi.Navigate;
 import CacheWolf.navi.TransformCoordinates;
-import ewe.fx.*;
-import ewe.ui.*;
+import ewe.fx.Color;
+import ewe.fx.Font;
+import ewe.fx.FontMetrics;
+import ewe.fx.Graphics;
+import ewe.fx.Pen;
+import ewe.fx.Rect;
+import ewe.ui.ButtonObject;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.Control;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.SingleContainer;
+import ewe.ui.mButton;
+import ewe.ui.mLabel;
 
 

Modified: trunk/src/CacheWolf/Log.java
===================================================================
--- trunk/src/CacheWolf/Log.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Log.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 public class Log {
@@ -39,7 +64,7 @@
 			if (logLine.indexOf("<img")<0) { // Have we reached the line that states max logs reached 
 				icon=MAXLOGICON; 
 			} else {
-				Global.getPref().log("Error parsing log: "+logLine);
+				Global.getPref().log("Error parsing log: "+logLine,ex);
 				icon=INVALIDLOGICON;
 			}	
 			date="1900-00-00";
@@ -116,7 +141,7 @@
 		if (typeText.equals("Needs Archived")) return "icon_remove.gif";
 		if (typeText.equals("Update Coordinates")) return "coord_update.gif";
 		if (typeText.equals("Retract Listing")) return "img_redlight.gif";
-		Global.getPref().log("GPX Import: warning, unknown logtype "+typeText+" assuming Write note");
+		Global.getPref().log("GPX Import: warning, unknown logtype "+typeText+" assuming Write note",null);
 		return "icon_note.gif";
 	}
 

Modified: trunk/src/CacheWolf/LogList.java
===================================================================
--- trunk/src/CacheWolf/LogList.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/LogList.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.util.Vector;

Modified: trunk/src/CacheWolf/MainForm.java
===================================================================
--- trunk/src/CacheWolf/MainForm.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/MainForm.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,8 +1,48 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.ui.*;
-import ewe.sys.*;
-import ewe.fx.*;
+import ewe.fx.Color;
+import ewe.fx.DrawnIcon;
+import ewe.fx.Font;
+import ewe.fx.Graphics;
+import ewe.fx.Rect;
+import ewe.sys.Device;
+import ewe.sys.Vm;
+import ewe.ui.CellPanel;
+import ewe.ui.Editor;
+import ewe.ui.Event;
+import ewe.ui.FormBase;
+import ewe.ui.Gui;
+import ewe.ui.MenuItem;
+import ewe.ui.MessageBox;
+import ewe.ui.PanelSplitter;
+import ewe.ui.SplittablePanel;
+import ewe.ui.WindowConstants;
+import ewe.ui.mApp;
 
 /**
 *	Mainform is responsible for building the user interface.
@@ -34,7 +74,7 @@
 
 	public MainForm(boolean dbg, String pathtoprefxml){
 		//Resize the Close und Ok-Buttons of all Forms. This is just a test for the PDA Versions:
-		int fontSize = pref.fontSize;
+		int fontSize = pref.fontSize; // constructor default value
 		FormBase.close = new DrawnIcon(DrawnIcon.CROSS,fontSize,fontSize,new Color(0,0,0));
 		FormBase.tick = new DrawnIcon(DrawnIcon.TICK,fontSize,fontSize,new Color(0,128,0));
 		FormBase.cross = new DrawnIcon(DrawnIcon.CROSS,fontSize,fontSize,new Color(128,0,0));
@@ -60,6 +100,7 @@
 		this.resizable = true;
 		this.moveable = true;
 		this.windowFlagsToSet = WindowConstants.FLAG_MAXIMIZE_ON_PDA;
+		// if (ewe.ui.Gui.screenSize.width <= 350 && ewe.ui.Gui.screenSize.height <= 350)
 		//Rect screen = ((ewe.fx.Rect) (Window.getGuiInfo(WindowConstants.INFO_SCREEN_RECT,null,new ewe.fx.Rect(),0)));
 		//if ( screen.height >= 600 && screen.width >= 800) this.setPreferredSize(800, 600);
 		this.resizeOnSIP = true;
@@ -99,10 +140,12 @@
 			pref.setCurCentrePt(profile.centre);
 			setTitle(profile.name + " - CW "+Version.getRelease());
 		} catch (Exception e){
-			if(pref.debug) Vm.debug("MainForm:: Exception:: " + e.toString());
+			pref.log("[MainForm:DoIt]",e);
 		}
 
-
+		if (Gui.screenIs(Gui.PDA_SCREEN) && Vm.isMobile()) {
+			Vm.setSIP(Vm.SIP_LEAVE_BUTTON,mApp.mainApp);
+		}
 		if(pref.fixSIP){
 			if (Gui.screenIs(Gui.PDA_SCREEN) && Vm.isMobile()) {
 				//Vm.setSIP(Vm.SIP_LEAVE_BUTTON|Vm.SIP_ON);

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/MainMenu.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.exp.ASCExporter;
@@ -12,13 +37,13 @@
 import CacheWolf.exp.SpoilerPOIExporter;
 import CacheWolf.exp.TPLExporter;
 import CacheWolf.exp.TomTomExporter;
+import CacheWolf.imp.FieldnotesImporter;
+import CacheWolf.imp.GCVoteImporter;
 import CacheWolf.imp.GPXImporter;
 import CacheWolf.imp.LOCXMLImporter;
-import CacheWolf.imp.FieldnotesImporter;
 import CacheWolf.imp.OCXMLImporter;
 import CacheWolf.imp.OCXMLImporterScreen;
 import CacheWolf.imp.SpiderGC;
-import CacheWolf.imp.GCVoteImporter;
 import CacheWolf.navi.MapImporter;
 import CacheWolf.navi.MapLoaderGui;
 import CacheWolf.navi.SelectMap;
@@ -97,9 +122,9 @@
 				loadcaches     = new MenuItem(MyLocale.getMsg(129,"Import GPX")),
 				loadOC         = new MenuItem(MyLocale.getMsg(130,"Download from opencaching")),
 				spider         = new MenuItem(MyLocale.getMsg(131,"Download from geocaching.com")),
-				spiderQuick    = new MenuItem(MyLocale.getMsg(138,"from GC quick")),
 				spiderRoute,
 				spiderAllFinds = new MenuItem(MyLocale.getMsg(217,"Spider all finds from geocaching.com")),
+				spiderQuick    = new MenuItem(MyLocale.getMsg(138,"from GC quick")),
 				update         = new MenuItem(MyLocale.getMsg(1014,"Update cache data")),
 				mnuSeparator,
 				loadGCVotes    = new MenuItem(MyLocale.getMsg(1208,"Import ratings from GCVote")),
@@ -470,7 +495,7 @@
 				loc.doIt(LocExporter.MODE_AUTO);
 				ProgressBarForm.display(MyLocale.getMsg(950,"Transfer"),MyLocale.getMsg(951,"Sending to GPS"), null);
 				gpsBabelCommand = pref.gpsbabel+" "+pref.garminGPSBabelOptions+" -i geo -f "+ tmpFileName +" -o garmin -F " + pref.garminConn +":";
-				if (pref.debug)	pref.log( gpsBabelCommand );
+				pref.log("[MainMenu:onEvent] "+gpsBabelCommand);
 				try {
 					// this will *only* work with ewe.jar at the moment
 					ewe.sys.Process p = Vm.exec( gpsBabelCommand );
@@ -737,7 +762,6 @@
 				is.execute(father.getFrame(), Gui.CENTER_FRAME);
 			}
 			if(mev.selectedItem == sysinfo){
-				//Vm.debug("Checking system...");
 				StringBuffer sb=new StringBuffer(400);
 				Font f = mApp.guiFont;
 				sb.append(MyLocale.getMsg(121,"Profile"));
@@ -798,6 +822,7 @@
 				sb.append(Version.getReleaseDetailed());
 				sb.append("<br>");
 				InfoScreen is = new InfoScreen(sb.toString(), "System", false,pref);
+				pref.log(STRreplace.replace(sb.toString(),"<br>",Preferences.NEWLINE),null);
 				is.execute(father.getFrame(), Gui.CENTER_FRAME);
 			}
 			if(mev.selectedItem == chkVersion){
@@ -826,7 +851,6 @@
 
 		SpiderGC spider = new SpiderGC(pref, profile, false);
 		OCXMLImporter ocSync = new OCXMLImporter(pref, profile);
-		//Vm.debug("ByPass? " + profile.byPassIndexActive);
 		Vm.showWait(true);
 		boolean alreadySaid = false;
 		boolean alreadySaid2 = false;

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/MainTab.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.navi.GotoPanel;
@@ -135,7 +160,7 @@
 	 * Code to execute when leaving a panel (oldCard is the panel number)
 	 *
 	 */
-	private void onLeavingPanel(int panelNo) {//Vm.debug("Leaving "+panelNo);
+	private void onLeavingPanel(int panelNo) {
 		if (panelNo==0) { // Leaving the list view
 			// Get the cache for the current line (ch)
 			// Get the details for the current line (chD)
@@ -184,7 +209,7 @@
 					boolean oldHasSolver = chMain.hasSolver();
 					chMain.getCacheDetails(true).setSolver(solverP.getInstructions());
 					if (oldHasSolver != chMain.hasSolver()) tbP.tc.update(true);
-					chMain.save();//Vm.debug("mainT:SaveCache "+chMain.wayPoint+"/S:"+chMain.Solver);
+					chMain.save();
 					chMain=null;
 				}
 			}
@@ -195,7 +220,7 @@
 	 * Code to execute when entering a panel (getSelectedItem() is the panel number)
 	 *
 	 */
-	private void onEnteringPanel(int panelNo) {//Vm.debug("Entering "+panelNo);
+	private void onEnteringPanel(int panelNo) {
 		switch (panelNo) {// Switch by panel number
 		case 0:  //MainPanel
 			MyLocale.setSIPOff();
@@ -362,13 +387,11 @@
 					//If white Areas are filled there is a problem with painting the image. We force painting here.
 					mm.repaint ();
 				}catch (InterruptedException e) {
-					e.printStackTrace();
-					Global.getPref().log("Error starting mavoing map (1): " + e.getMessage(), e, true);
+					Global.getPref().log("Error starting mavoing map (1): ", e, true);
 					(new MessageBox("Error", "This must not happen please report to pfeffer how to produce this error message", FormBase.OKB)).execute(); }
 			}
 		} catch (Exception e) { // TODO swith waiting indication clock off
-			e.printStackTrace();
-			Global.getPref().log("Error starting moving map (2): " + e.getMessage(), e, true);
+			Global.getPref().log("Error starting moving map (2): ", e, true);
 			(new MessageBox("Error", "Error starting moving map: " + e.getMessage(), FormBase.OKB)).execute();
 		}
 	}

Modified: trunk/src/CacheWolf/Matrix.java
===================================================================
--- trunk/src/CacheWolf/Matrix.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Matrix.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,30 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.sys.*;
-
 public final class Matrix{
 	int iDF = 0;
 	
@@ -26,7 +49,6 @@
 		double m[][] = new double[matrix.length][srcMatrix.matrix[0].length];
 		for (int i = 0; i < m.length; i++)
 			for (int j = 0; j < m[i].length; j++){
-				//Vm.debug("i: " + i + " j: " + j);
 				m[i][j] = calculateRowColumnProduct(matrix,i,srcMatrix.matrix,j);
 			}
 		
@@ -40,7 +62,6 @@
 	private double calculateRowColumnProduct(double[][] A, int row, double[][] B, int col){
 		double product = 0;
 		for(int i = 0; i < A[row].length; i++){
-			//Vm.debug("i = " + i + " row = " + row + " col = " + col);
 			product +=A[row][i]*B[i][col];
 		}
 		return product;
@@ -99,7 +120,7 @@
 	public void DumpMatrix(){
 		for (int i = 0; i < matrix.length; i++)
 			for (int j = 0; j < matrix[i].length; j++)
-				Vm.debug("[ "+i+ " " + j + " ] " + matrix[i][j]);
+				Global.getPref().log("[ "+i+ " " + j + " ] " + matrix[i][j]);
 	}
 	
 	/**
@@ -140,7 +161,7 @@
 							m[row][i] = f1 * m[col][i] + m[row][i];
 						}
 					} catch (Exception e) {
-						Vm.debug("Still Here!!!");
+						Global.getPref().log("Still Here!!!");
 					}
 				}
 			}
@@ -181,7 +202,7 @@
 		double dd = 0;
 
 		if (det == 0) {
-			Vm.debug("Determinant Equals 0, Not Invertible.");
+			Global.getPref().log("Determinant Equals 0, Not Invertible.");
 		} else {
 			dd = 1 / det;
 		}

Modified: trunk/src/CacheWolf/MyComparer.java
===================================================================
--- trunk/src/CacheWolf/MyComparer.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/MyComparer.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,5 +1,31 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.util.*;
+import ewe.util.Comparer;
+import ewe.util.Vector;
 
 /**
 *	This class handles the sorting for most of the sorting tasks. If a cache is 

Modified: trunk/src/CacheWolf/MyEditor.java
===================================================================
--- trunk/src/CacheWolf/MyEditor.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/MyEditor.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.fx.Color;
@@ -2,3 +27,9 @@
 import ewe.fx.Insets;
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.Control;
+import ewe.ui.Editor;
+import ewe.ui.Gui;
+import ewe.ui.SoftKeyBar;
+import ewe.ui.mButton;
 

Modified: trunk/src/CacheWolf/MyLocale.java
===================================================================
--- trunk/src/CacheWolf/MyLocale.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/MyLocale.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 /*
  *  CacheWolf - Local settings class
@@ -8,9 +33,16 @@
 import ewe.fx.Rect;
 import ewe.io.File;
 import ewe.io.FileBase;
-import ewe.sys.*;
+import ewe.io.FileReader;
+import ewe.io.IOException;
+import ewe.io.TreeConfigFile;
+import ewe.io.TreeConfigNode;
+import ewe.sys.Convert;
 import ewe.sys.Double;
+import ewe.sys.LocalResource;
+import ewe.sys.Locale;
 import ewe.sys.Long;
+import ewe.sys.Vm;
 import ewe.ui.SplittablePanel;
 import ewe.ui.Window;
 import ewe.ui.WindowConstants;
@@ -73,7 +105,6 @@
 		if (language_.equalsIgnoreCase("SV")) country="SWE"; 
 		int tmp = Locale.createID(language_, country, 0); // in ewe-vm v1.49 this call is enough to set the locale correctly and this works even with not supported languages like FR (french), e.g. it works even if tmp == -1, call new Locale() instead of new Locale(tmp) then.
 		tmp = (tmp >= 1024 ? tmp-1024 : tmp); // ewe-vm v1.49 some times returns the correct value + 1024
-		// Vm.debug("spec-lang: " + tmp);
 		if (tmp > -1)	l = new Locale(tmp);
 		else 			l = Locale.createFor("EN", "", 0 /*Locale.FORCE_CREATION*/); // forcing the requiered language doesn't work, because Locale.numberformat and so on cannot determine the requested format then. BTW: if French is system language new Locale() works even in ewe-vm v1.49
 		resourcelanguage = language_;
@@ -107,21 +138,15 @@
 			if (!(new FileBugfix(getLocaleFileName(resourcelanguage)).exists())) {
 				setLocale(standardLanguage);
 				initErrors += "Your system language is not supported by cachewolf - using English\n You can choose a different language in the preferences\n";
-				/*       //uncomment this code to print a list of all supported languge (Locales), remark: this differs from vm to vm _and_ from OS to OS
-  					 Vm.debug("gew?hlte Sprache: " + resourcelanguage, 0, 0);
-					 int [] all = Locale.getAllIDs(0);
-					 Locale ltmp = new Locale(); 
-					 for (int i = 0; i<all.length; i++){
-						 ltmp.set(all[i]);
-						 String lg = ltmp.getString(Locale.LANGUAGE_SHORT,0,0);
-						 Vm.debug(i + "sprache: " + lg + " (" + ltmp.getString(Locale.LANGUAGE, 0, 0) + ", " + ltmp.getString(Locale.LANGUAGE_ENGLISH, 0, 0) + ") land: " + ltmp.getString(Locale.COUNTRY, 0, 0));
-					 }
-				 */
 			}
 		}
 		lr = null;
 		if (new FileBugfix(getLocaleFileName(resourcelanguage)).exists() ) {
-			ewe.io.TreeConfigFile tcf = ewe.io.TreeConfigFile.getConfigFile(getLocaleFileName(resourcelanguage));
+
+			// ewe.io.TreeConfigFile.getConfigFile(getLocaleFileName(resourcelanguage));
+			// above replaced for to change resourcefile to have UTF-8 Codec
+			TreeConfigFile tcf = getConfigFile(getLocaleFileName(resourcelanguage));
+						
 			if (tcf != null) {			 
 				lr = tcf.getLocalResourceObject(new Locale() {
 					public String getString(int what,int forValue,int options) {
@@ -132,9 +157,7 @@
 			}
 		}
 		if (lr == null) {
-		//	Vm.debug("lr==null 1");
 			initErrors += "Language file " + getLocaleFileName(resourcelanguage) + " couldn't be loaded - using hard coded messages";
-		//	Vm.debug("lr==null 2");
 			lr = new LocalResource(){
 				public Object get(int id,Object data){return data;}
 				public Object get(String id,Object data){return data;}
@@ -359,7 +382,49 @@
 			return new File (programmDirectory,basename).toString();
 		}
 	}
-
-
-}
-
+	//===================================================================
+	static TreeConfigFile getConfigFile(String path)
+	//===================================================================
+	{
+		try {
+		ewe.io.TreeConfigFile tcf = new TreeConfigFile();
+		tcf.configFileName = path;
+		TreeConfigNode root = (TreeConfigNode) tcf.getRoot();
+		FileReader r = null;
+		r = new FileReader(path);
+		r.codec=new ewe.io.JavaUtf8Codec();
+		r.read(); // should skip the UTF-8 BOM first 3 Bytes, but doesn't
+		TreeConfigNode tcn = root;
+		while(true){
+			String got = r.readLine();
+			if (got == null) break;
+			got = got.trim();
+			if (got.startsWith(";")) { continue;}
+			if (got.startsWith("{..}")){
+				if (tcn == root) break;
+				else tcn = (TreeConfigNode)tcn.getParent();
+				continue;
+			}
+			if (got.startsWith("{")){
+				int idx = got.indexOf('}');
+				if (idx == -1) idx = got.length();
+				TreeConfigNode nn = new TreeConfigNode(got.substring(1,idx));
+				tcn.addChild(nn);
+				tcn = nn;
+				continue;
+			}
+			int eq = got.indexOf('=');
+			if (eq != -1){
+				String key=got.substring(0,eq).trim();
+				String value=STRreplace.replace(got.substring(eq+1).trim(),"\\n","\n");
+				if (value.endsWith("+")) { value=value.substring(0, value.length()-1)+' '; }
+				tcn.getProperties().add(key,value);
+			}
+		}
+		r.close();
+		return tcf;
+		} catch (IOException e) {
+			return null;
+		}		
+	}
+}
\ No newline at end of file

Modified: trunk/src/CacheWolf/MyScrollBarPanel.java
===================================================================
--- trunk/src/CacheWolf/MyScrollBarPanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/MyScrollBarPanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.sys.Vm;

Modified: trunk/src/CacheWolf/NewProfileForm.java
===================================================================
--- trunk/src/CacheWolf/NewProfileForm.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/NewProfileForm.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.FileBugfix;
@@ -2,3 +27,10 @@
 import ewe.io.File;
-import ewe.ui.*;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.IKeys;
+import ewe.ui.MessageBox;
+import ewe.ui.TextMessage;
+import ewe.ui.mButton;
+import ewe.ui.mInput;
 

Modified: trunk/src/CacheWolf/NewProfileWizard.java
===================================================================
--- trunk/src/CacheWolf/NewProfileWizard.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/NewProfileWizard.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.navi.TransformCoordinates;

Modified: trunk/src/CacheWolf/NotesScreen.java
===================================================================
--- trunk/src/CacheWolf/NotesScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/NotesScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,42 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.ui.*;
-import ewe.fx.*;
-import ewe.sys.*;
+import ewe.fx.Dimension;
+import ewe.fx.mImage;
+import ewe.sys.Time;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.MessageBox;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.mButton;
+import ewe.ui.mTextPad;
 
 /**
 *	This class displays a form to show and edit notes for a cache.

Modified: trunk/src/CacheWolf/OC.java
===================================================================
--- trunk/src/CacheWolf/OC.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/OC.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 public final class OC {

Modified: trunk/src/CacheWolf/ParseLatLon.java
===================================================================
--- trunk/src/CacheWolf/ParseLatLon.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ParseLatLon.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,31 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.sys.*;
+import ewe.sys.Convert;
 
 /**
 *	This class parses a string representation of longitude and latitude.

Modified: trunk/src/CacheWolf/Parser.java
===================================================================
--- trunk/src/CacheWolf/Parser.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Parser.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,16 +1,42 @@
-/* A parser that parses the following grammar:
-  EBNF Meta-Symbols:
-    {xx}        xx can occur any number of times incl 0
-    [xx]        xx or empty
-    |           or
-    "x"         x is terminal symbol
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
 
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
+/* 
+A parser that parses the following grammar:
+EBNF Meta-Symbols:
+  {xx}        xx can occur any number of times incl 0
+  [xx]        xx or empty
+  |           or
+  "x"         x is terminal symbol
+
 command -> if |
-           simplecommand
+         simplecommand
 
 simplecommand -> "stop" | "st" |
 		   assign
-           stringexp |
+         stringexp |
 
 if -> "IF" stringexpr compop stringexpr "THEN" simplecommand { ";" simplecommand } "ENDIF"          // Nested IF's not allowed
 
@@ -29,24 +55,24 @@
 factor -> expfactor { "^" expfactor }
 
 expfactor -> ident |
-          number |
-          "(" stringexpr ")" |
-          function "(" stringexpr { "," stringexpr }")"
+        number |
+        "(" stringexpr ")" |
+        function "(" stringexpr { "," stringexpr }")"
 
 function -> "sin" | "cos" | "tan" | "asin" | "acos" | "atan" | "goto" | "project" | "show"  | "crosstotal" |
-            "rot13" | "len" | "mid"
+          "rot13" | "len" | "mid"
 
 ident -> valid identifier
 number -> valid number
 
 
 */
-
 package CacheWolf;
 
 import CacheWolf.navi.Metrics;
 import CacheWolf.navi.Navigate;
 import CacheWolf.navi.TransformCoordinates;
+
 import com.stevesoft.ewe_pat.Regex;
 
 import ewe.sys.Convert;
@@ -54,7 +80,6 @@
 import ewe.util.Iterator;
 import ewe.util.Vector;
 
-
 /**
 *	The wolf language parser. New version - January 2007
 *
@@ -308,7 +333,6 @@
 	private void getToken() throws Exception {
 		if(scanpos < tokenStack.size()){
 			thisToken = (TokenObj)tokenStack.get(scanpos);
-			//Vm.debug(thisToken.token);
 			scanpos++;
 		} else err(MyLocale.getMsg(1704,"Unexpected end of source"));
 	}
@@ -1197,7 +1221,6 @@
 		try{
 			parseCommand();
 		}catch(Exception ex){
-			//Vm.debug(ex.toString());
 		}
 	}
 

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Preferences.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.imp.SpiderGC;
@@ -181,7 +206,7 @@
 	/** Timer for logging GPS data */
 	public String logGPSTimer = "5";
 	/** The default font size */
-	public int fontSize = 11;
+	public int fontSize; 
 	// These settings govern where the menu and the tabs are displayed and whether the statusbas is shown
 	/** True if the menu is to be displayed at the top of the screen */
 	public boolean menuAtTop=true;
@@ -404,7 +429,6 @@
 	 * Method that gets called when a new element has been identified in pref.xml
 	 */
 	public void startElement(String name, AttributeList atts){
-		//Vm.debug("name = "+name);
 		lastName=name;
 		String tmp;
 		if(name.equals("browser")) {
@@ -912,9 +936,9 @@
 	public String getHomeDir() {
 		String test;
 		test = Vm.getenv("HOMEDRIVE", ""); // returns in java-vm on win xp: c:\<dokumente und Einstellungen>\<username>\<application data>
-		log("Vm.getenv(HOMEDRIVE: " + test); // this works also in win32.exe (ewe-vm on win xp)
+		log("[Preferences:getHomeDir]" + test); // this works also in win32.exe (ewe-vm on win xp)
 		test += Vm.getenv("HOMEPATH", ""); // returns in java-vm on win xp: c:\<dokumente und Einstellungen>\<username>\<application data>
-		log("Vm.getenv(HOMEPATH: " + test); // this works also in win32.exe (ewe-vm on win xp)
+		log("[Preferences:getHomeDir]" + test); // this works also in win32.exe (ewe-vm on win xp)
 		if (test.length() == 0)	test = Vm.getenv("HOME", ""); // This should return on *nix system the home dir
 		if (test.length() == 0)	test = "/";
 		return test;
@@ -1073,7 +1097,6 @@
 				//Stream strout = null;
 				//strout = logFile.toWritableStream(true);
 				logFile.print(text+NEWLINE);
-				//Vm.debug(text); Not needed - put <debug value="true"> into pref.xml
 			}catch(Exception ex){
 				Vm.debug("Error writing to log file!");
 			}finally{

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.imp.SpiderGC;
@@ -3,9 +28,29 @@
 import CacheWolf.navi.Metrics;
 import CacheWolf.utils.FileBugfix;
-import ewe.ui.*;
-import ewe.io.*;
-import ewe.fx.*;
-import ewe.filechooser.*;
-import ewe.sys.*;
+import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
+import ewe.fx.Dimension;
+import ewe.fx.Font;
+import ewe.fx.Insets;
+import ewe.io.FileBase;
+import ewe.sys.Convert;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.ControlEvent;
+import ewe.ui.Editor;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.Frame;
+import ewe.ui.Gui;
+import ewe.ui.IKeys;
+import ewe.ui.UIConstants;
+import ewe.ui.mApp;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mChoice;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
+import ewe.ui.mTabbedPanel;
 
 /**
@@ -295,10 +340,7 @@
 				this.close(0);
 			}
 			if (ev.target == applyB){
-				//if (pref.currProfile == 0){
-					//pref.curCentrePt.set(btnCentre.getText());
-					pref.setBaseDir(DataDir.getText());
-				//}
+				pref.setBaseDir(DataDir.getText());
 				pref.fontSize = Convert.toInt(fontSize.getText());
 				if (pref.fontSize<6) pref.fontSize=11;
 				pref.logsPerPage=Common.parseInt(inpLogsPerPage.getText());
@@ -318,12 +360,10 @@
 				pref.gcMemberId=inpGcMemberID.getText().trim();
 				MyLocale.saveLanguage(MyLocale.language=inpLanguage.getText().toUpperCase().trim());
 				pref.browser = Browser.getText();
-				//Vm.debug(myPreferences.browser);
 				pref.myproxy = Proxy.getText();
 				pref.myproxyport = ProxyPort.getText();
 				pref.proxyActive=chkProxyActive.getState();
 				HttpConnection.setProxy(pref.myproxy, Common.parseInt(pref.myproxyport), pref.proxyActive); // TODO generate an error message if proxy port is not a number
-				//myPreferences.nLogs = Convert.parseInt(nLogs.getText());
 				pref.autoReloadLastProfile=chkAutoLoad.getState();
 				pref.isPremium=chkPM.getState();
 				pref.setCurrentCentreFromGPSPosition=chkSetCurrentCentreFromGPSPosition.getState();

Modified: trunk/src/CacheWolf/Profile.java
===================================================================
--- trunk/src/CacheWolf/Profile.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Profile.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.navi.Area;
@@ -170,12 +195,12 @@
 			File index=new File(dataDir+"index.xml");
 			index.rename("index.bak");
 		} catch (Exception ex) {
-			pref.log("Error deleting backup or renaming index.xml");
+			pref.log("[Profile:saveIndex]Error deleting backup or renaming index.xml");
 		}
 		try{
 			detfile = new PrintWriter(new BufferedWriter(new FileWriter(new FileBugfix(dataDir + "index.xml").getAbsolutePath())));
 		} catch (Exception e) {
-			Vm.debug("Problem creating index file "+e.toString()+"\nFilename="+dataDir + "index.xml");
+			pref.log("Problem creating index.xml " + dataDir,e);
 			return;
 		}
 		CWPoint savedCentre=centre;
@@ -226,7 +251,6 @@
 					if ((i%updFrequ)==0) h.changed();
 				}
 				ch = cacheDB.get(i);
-				// //Vm.debug("Saving: " + ch.CacheName);
 				if (ch.getWayPoint().length() > 0) {
 					detfile.print(ch.toXML());
 				}
@@ -236,7 +260,7 @@
 			buildReferences(); //TODO Why is this needed here?
 			if(showprogress) pbf.exit(0);
 		}catch(Exception e){
-			Vm.debug("Problem writing to index file "+e.toString());
+			pref.log("Problem writing to index file ",e);
 			detfile.close();
 			if(showprogress) pbf.exit(0);
 		}
@@ -310,7 +334,7 @@
 					int start=text.indexOf("value = \"")+9;
 					indexXmlVersion  = Integer.valueOf(text.substring(start,text.indexOf("\"",start))).intValue();
 					if (indexXmlVersion > CURRENTFILEFORMAT) {
-						Global.getPref().log("unsupported file format");
+						Global.getPref().log("[Profile:readIndex]unsupported file format");
 						clearProfile();
 						return;
 					}
@@ -356,10 +380,6 @@
 					} else
 						setFilterRose(temp);
 					setFilterType(ex.findNext());
-					//Need this to stay "downward" compatible. New type introduced
-					//if(filterType.length()<=17) filterType = filterType + "1";
-					//Vm.debug("fil len: " +filterType.length());
-					//This is handled by "normaliseFilters" which is called at the end.
 					setFilterVar(ex.findNext());
 					setFilterDist(ex.findNext());
 					setFilterDiff(ex.findNext());
@@ -381,10 +401,6 @@
 					ex.setSource(text.substring(text.indexOf("<FILTERDATA")));
 					setFilterRose(ex.findNext());
 					setFilterType(ex.findNext());
-					//Need this to stay "downward" compatible. New type introduced
-					//if(filterType.length()<=17) filterType = filterType + "1";
-					//Vm.debug("fil len: " +filterType.length());
-					//This is handled by "normaliseFilters" which is called at the end.
 					setFilterVar(ex.findNext());
 					setFilterDist(ex.findNext());
 					setFilterDiff(ex.findNext());
@@ -426,10 +442,6 @@
 				}
 			}
 			in.close();
-			//ewe.sys.Time endT=new ewe.sys.Time();
-			//Vm.debug("Time="+((((endT.hour*60+endT.minute)*60+endT.second)*1000+endT.millis)-(((startT.hour*60+startT.minute)*60+startT.second)*1000+startT.millis)));
-			//Vm.debug("Start:"+startT.format("H:mm:ss.SSS"));
-			//Vm.debug("End  :"+endT.format("H:mm:ss.SSS"));
 			// Build references between caches and addi wpts
 			if (infoBox!=null) {
 				infoBox.setInfo(MyLocale.getMsg(5004,"Building references..."));
@@ -439,12 +451,10 @@
 				saveIndex(Global.getPref(), true);
 			}
 		} catch (FileNotFoundException e) {
-			Global.getPref().log("index.xml not found in directory "+dataDir); // Normal when profile is opened for first time
-			//e.printStackTrace();
+			Global.getPref().log("index.xml not found in directory "+dataDir,e);
 		} catch (IOException e){
 			Global.getPref().log("Problem reading index.xml in dir: "+dataDir,e,true);
 		}
-		// TODO Brauchen wir das noch?
 		this.getCurrentFilter().normaliseFilters();
 		resetUnsavedChanges();
 	}

Modified: trunk/src/CacheWolf/ProfileDataForm.java
===================================================================
--- trunk/src/CacheWolf/ProfileDataForm.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ProfileDataForm.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,31 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.navi.TransformCoordinates;
-import ewe.fx.Insets;
 import ewe.ui.CellConstants;
 import ewe.ui.CellPanel;
 import ewe.ui.ControlEvent;

Modified: trunk/src/CacheWolf/ProfilesForm.java
===================================================================
--- trunk/src/CacheWolf/ProfilesForm.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ProfilesForm.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,9 +1,47 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.FileBugfix;
-import ewe.ui.*;
-import ewe.io.*;
-import ewe.fx.*;
+import ewe.fx.Graphics;
+import ewe.fx.Insets;
+import ewe.fx.Rect;
+import ewe.io.File;
+import ewe.io.FileBase;
+import ewe.ui.CellConstants;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.Gui;
+import ewe.ui.IKeys;
+import ewe.ui.ScrollablePanel;
+import ewe.ui.mButton;
+import ewe.ui.mLabel;
+import ewe.ui.mList;
 
 /**
 *	This form displays the list of profiles for a user to choose from,

Modified: trunk/src/CacheWolf/RadarPanel.java
===================================================================
--- trunk/src/CacheWolf/RadarPanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/RadarPanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,43 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.ui.*;
-import ewe.fx.*;
-import ewe.graphics.*;
+import ewe.fx.Color;
+import ewe.fx.Dimension;
+import ewe.fx.Font;
+import ewe.fx.FontMetrics;
+import ewe.fx.Graphics;
+import ewe.fx.Image;
+import ewe.fx.Rect;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.mButton;
 
 /**
 *	The radar panel. Displays the caches around a centre point.<br>
@@ -55,11 +91,7 @@
 		pref = p;
 		cacheDB = db;
 		height = (pref.myAppHeight)*6/5; // add 10% each at top/bottom 
-		//height = (int)height * 2;
-		////Vm.debug("Height: " + Convert.toString(height));
-		////Vm.debug("App Height: " + Convert.toString(pref.myAppHeight));
 		width = (pref.myAppWidth)*6/5;
-		//width = (int)width * 2;
 	}
 	
 	// Call this after the centre has changed to re-center the radar panel
@@ -173,7 +205,6 @@
 		Image img = new Image(width, height);
 		Graphics g = new Graphics(img);
 		g.setColor(Color.Black);
-		//Vm.debug(Convert.toString(height));
 		g.fillRect(0,0,width, height);
 		
 		
@@ -197,7 +228,6 @@
 		}
 		for(int i = 1; i <= steps; i++){
 			radius = (radstep * i)*2;
-			//Vm.debug("Draw: " + Convert.toString(scale));
 			g.drawEllipse(centerX-radius/2,centerY-radius/2, radius,radius);
 		}
 		g.drawLine(centerX,0,centerX,height);

Modified: trunk/src/CacheWolf/RadarPanelImage.java
===================================================================
--- trunk/src/CacheWolf/RadarPanelImage.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/RadarPanelImage.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,32 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.graphics.*;
-import ewe.fx.*;
+import ewe.fx.Image;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
 
 /**
 * The ImagePanelImage extends AniImage by a fileName.

Modified: trunk/src/CacheWolf/Rebuild.java
===================================================================
--- trunk/src/CacheWolf/Rebuild.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Rebuild.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.FileBugfix;
@@ -40,7 +65,6 @@
 			}
 		}
 		cacheDB.clear();
-		Global.getPref().log("Start Rebuild!");
 		pbf.setTask(h, MyLocale.getMsg(209, "Rebuilding index"));
 		if (count > 0) {
 			int nProcessed = 0;

Modified: trunk/src/CacheWolf/Reducer.java
===================================================================
--- trunk/src/CacheWolf/Reducer.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Reducer.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,5 +1,30 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.util.*;
+import ewe.util.mString;
 
 /**
 *	Class to reduce a string to its main components,
@@ -19,19 +44,17 @@
 	
 	public static String convert(String origStr, boolean trun, int len){
 		String[] parts = mString.split(origStr, ' ');
-		String dummy = new String();
-		String finalStr = new String();
+		String dummy;
+		String finalStr="";
 		for(int i = 0; i < parts.length; i++){
 			if(parts[i].length() != 3){
 				dummy = removeVow(parts[i]);
 				finalStr = finalStr + dummy;
 			}
-		}//for
-		//Vm.debug(Convert.toString(trun));
+		}
 		if(trun == true){
 			finalStr = finalStr + "                                         ";
 			finalStr = finalStr.substring(0,len);
-			//Vm.debug(finalStr);
 		}
 		return finalStr;
 	}

Modified: trunk/src/CacheWolf/STRreplace.java
===================================================================
--- trunk/src/CacheWolf/STRreplace.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/STRreplace.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 public class STRreplace{

Modified: trunk/src/CacheWolf/SafeXML.java
===================================================================
--- trunk/src/CacheWolf/SafeXML.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/SafeXML.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**

Modified: trunk/src/CacheWolf/SearchBox.java
===================================================================
--- trunk/src/CacheWolf/SearchBox.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/SearchBox.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.ui.CellConstants;

Modified: trunk/src/CacheWolf/SearchCache.java
===================================================================
--- trunk/src/CacheWolf/SearchCache.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/SearchCache.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**

Modified: trunk/src/CacheWolf/ShowCacheInBrowser.java
===================================================================
--- trunk/src/CacheWolf/ShowCacheInBrowser.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/ShowCacheInBrowser.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,5 +1,33 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
+import CacheWolf.utils.CWWrapper;
+import HTML.Template;
+
 import com.stevesoft.ewe_pat.Regex;
 
 import ewe.io.AsciiCodec;
@@ -11,9 +39,8 @@
 import ewe.sys.Vm;
 import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
-import ewe.util.*;
-import CacheWolf.utils.CWWrapper;
-import HTML.Template;
+import ewe.util.Hashtable;
+import ewe.util.Vector;
 
 
 public class ShowCacheInBrowser {
@@ -105,9 +132,7 @@
 					if (!chD.is_available()) tpl.setParam("UNAVAILABLE","1");
 					if (!chD.getCacheDetails(true).Hints.equals("null"))tpl.setParam("HINT",Common.rot13(chD.getCacheDetails(true).Hints));
 				}catch(Exception e){
-					Vm.debug("Problem getting Parameter, Cache: " + chD.getWayPoint());
-					Global.getPref().log("Problem getting parameter "+e.toString()+", Cache: " + chD.getWayPoint());
-					e.printStackTrace();
+					Global.getPref().log("Problem getting parameter , Cache: " + chD.getWayPoint(),e,true);
 				}
 			}
 			PrintWriter detfile;
@@ -127,8 +152,7 @@
 			}
 
 		} catch(Exception e) {
-			e.printStackTrace();
-			Global.getPref().log("Error in ShowCache "+e.toString());
+			Global.getPref().log("Error in ShowCache ",e,true);
 		} finally {
 			Vm.showWait(false);
 		}

Modified: trunk/src/CacheWolf/SolverPanel.java
===================================================================
--- trunk/src/CacheWolf/SolverPanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/SolverPanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 
@@ -8,7 +33,6 @@
 import ewe.ui.CellPanel;
 import ewe.ui.ControlConstants;
 import ewe.ui.ControlEvent;
-import ewe.ui.DataChangeEvent;
 import ewe.ui.Event;
 import ewe.ui.FormBase;
 import ewe.ui.Gui;

Modified: trunk/src/CacheWolf/StatusBar.java
===================================================================
--- trunk/src/CacheWolf/StatusBar.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/StatusBar.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.fx.Color;

Modified: trunk/src/CacheWolf/TableColumnChooser.java
===================================================================
--- trunk/src/CacheWolf/TableColumnChooser.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TableColumnChooser.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,8 +1,48 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.fx.*;
-import ewe.ui.*;
-import ewe.util.*;
+import ewe.fx.Color;
+import ewe.fx.IconAndText;
+import ewe.fx.Point;
+import ewe.fx.mImage;
+import ewe.ui.CellPanel;
+import ewe.ui.Control;
+import ewe.ui.ControlEvent;
+import ewe.ui.DragContext;
+import ewe.ui.Event;
+import ewe.ui.Gui;
+import ewe.ui.ListEvent;
+import ewe.ui.ScrollablePanel;
+import ewe.ui.mButton;
+import ewe.ui.mLabel;
+import ewe.ui.mList;
+import ewe.util.StringTokenizer;
+import ewe.util.SubString;
+import ewe.util.Vector;
 
 public class TableColumnChooser extends CellPanel {
 

Modified: trunk/src/CacheWolf/TableForm.java
===================================================================
--- trunk/src/CacheWolf/TableForm.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TableForm.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.ui.CellConstants;

Modified: trunk/src/CacheWolf/TablePanel.java
===================================================================
--- trunk/src/CacheWolf/TablePanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TablePanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,8 +1,34 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.ui.*;
-import ewe.util.*;
-import ewe.fx.*;
+import ewe.fx.Dimension;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.util.Vector;
 
 /**
 *	Class to display the cache database in a table.

Modified: trunk/src/CacheWolf/Test.java
===================================================================
--- trunk/src/CacheWolf/Test.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Test.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,13 +1,38 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
+import CacheWolf.navi.TransformCoordinates;
 import ewe.io.File;
 import ewe.io.IOException;
 import ewe.io.RandomAccessFile;
-import ewe.sys.*;
-
-import java.lang.Math;
-
-import CacheWolf.navi.TransformCoordinates;
+import ewe.sys.Convert;
+import ewe.sys.Time;
+import ewe.sys.Vm;
+import ewe.sys.mThread;
  
 
 public class Test extends mThread{
@@ -21,12 +46,7 @@
 	}
 	void testAll(){
 		testPerformance();
-/*		testRegex();
-		if (allPassed) 
-			Vm.debug("SUCCESS: All tests passed"); 
-		else 
-			Vm.debug("FAILURE: At least one test failed"); 
-*/	}
+	}
 	void testPerformance(){
 		Time start, end;
 		int i;
@@ -90,8 +110,7 @@
 			File dfile = new File(fileName);
 			dfile.delete();
 		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
+			Global.getPref().log("",e,true);
 		}
 		printResult("Filewrite 10 Bytes", start, end, i);
 		
@@ -102,7 +121,7 @@
 		long time;
 		time = end.getTime() - start.getTime();
 		
-		Vm.debug(VM + " " +  Convert.toString(time) + " msec " + Convert.toString(count) + " * " + what);
+		Global.getPref().log(VM + " " +  Convert.toString(time) + " msec " + Convert.toString(count) + " * " + what);
 	}
 	
 	void testPassedRegex(String pattern, String expectedResult, int format) {
@@ -111,7 +130,7 @@
 
 		if (expectedResult.equals(res)) return; 
 
-		Vm.debug("Failed test Regex: "+pattern+" Expected="+expectedResult+" Actual="+res); 
+		Global.getPref().log("Failed test Regex: "+pattern+" Expected="+expectedResult+" Actual="+res); 
 		allPassed=false; 
 	}
 	

Modified: trunk/src/CacheWolf/TokenObj.java
===================================================================
--- trunk/src/CacheWolf/TokenObj.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TokenObj.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 

Modified: trunk/src/CacheWolf/Tokenizer.java
===================================================================
--- trunk/src/CacheWolf/Tokenizer.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Tokenizer.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,32 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 
-import ewe.util.*;
+import ewe.util.Vector;
 
 /**
 *	Class to tokenise (break up) the code into single tokens, so the
@@ -102,7 +127,6 @@
 	
 	/** Add the previously started token to the token stack */
 	private void emitToken(int tt){
-//		ewe.sys.Vm.debug(currentStream);
 		thisToken.token = currentStream;
 		thisToken.tt=tt;
 		TokenStack.add(thisToken);

Modified: trunk/src/CacheWolf/Travelbug.java
===================================================================
--- trunk/src/CacheWolf/Travelbug.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Travelbug.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 /**
  * This contains the basic information of a GC travelbug.

Modified: trunk/src/CacheWolf/TravelbugJourney.java
===================================================================
--- trunk/src/CacheWolf/TravelbugJourney.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TravelbugJourney.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**
@@ -8,7 +33,8 @@
  * @author salzkammergut
  */
 import ewe.fx.Image;
-import ewe.sys.*;
+import ewe.sys.Convert;
+import ewe.sys.Time;
 
 public class TravelbugJourney  {
 	/** 

Modified: trunk/src/CacheWolf/TravelbugJourneyList.java
===================================================================
--- trunk/src/CacheWolf/TravelbugJourneyList.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TravelbugJourneyList.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**
@@ -7,9 +32,11 @@
 import ewe.io.File;
 import ewe.io.FileWriter;
 import ewe.io.PrintWriter;
-import ewe.util.*;
-import ewesoft.xml.*;
-import ewesoft.xml.sax.*;
+import ewe.util.Comparer;
+import ewe.util.Utils;
+import ewe.util.Vector;
+import ewesoft.xml.MinML;
+import ewesoft.xml.sax.AttributeList;
 
 public class TravelbugJourneyList extends MinML {
 
@@ -120,7 +147,6 @@
 	 * Method that gets called when a new element has been identified in travelbugs.xml
 	 */
 	public void startElement(String name, AttributeList atts){
-		//Vm.debug("name = "+name);
 		lastName=name;
 		if (name.equals("tbj")) {
 			tbJ=new TravelbugJourney(
@@ -166,7 +192,7 @@
 			File travelbugs=new File(baseDir+"travelbugs.xml");
 			travelbugs.rename("travelbugs.bak");
 		} catch (Exception ex) {
-			Global.getPref().log("Error deleting backup or renaming travelbugs.xml");
+			Global.getPref().log("[TravelbugJourneyList:saveTravelbugsFile]Error deleting backup or renaming travelbugs.xml",ex);
 		}
 		String datei = baseDir + "travelbugs.xml";
 		try{

Modified: trunk/src/CacheWolf/TravelbugJourneyScreen.java
===================================================================
--- trunk/src/CacheWolf/TravelbugJourneyScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TravelbugJourneyScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 /**
@@ -13,11 +38,45 @@
 
 import CacheWolf.imp.SpiderGC;
 import CacheWolf.utils.CWWrapper;
+import ewe.fx.Color;
+import ewe.fx.Dimension;
+import ewe.fx.FontMetrics;
+import ewe.fx.IImage;
+import ewe.fx.IconAndText;
+import ewe.fx.Image;
+import ewe.fx.Point;
+import ewe.fx.Rect;
+import ewe.fx.mImage;
 import ewe.sys.Convert;
 import ewe.sys.Time;
 import ewe.sys.Vm;
-import ewe.ui.*;
-import ewe.fx.*;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.Control;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.DataChangeEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormEvent;
+import ewe.ui.Gui;
+import ewe.ui.HtmlDisplay;
+import ewe.ui.IKeys;
+import ewe.ui.Menu;
+import ewe.ui.MenuItem;
+import ewe.ui.MultiPanelEvent;
+import ewe.ui.PanelSplitter;
+import ewe.ui.PenEvent;
+import ewe.ui.ScrollablePanel;
+import ewe.ui.SplittablePanel;
+import ewe.ui.TableCellAttributes;
+import ewe.ui.TableControl;
+import ewe.ui.TableModel;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
+import ewe.ui.mTabbedPanel;
 
 public class TravelbugJourneyScreen extends Form  {
 	
@@ -575,7 +634,7 @@
 						s = "http://www.geocaching.com/track/details.aspx?id="+tbj.getTb().getGuid();
 
 					CWWrapper.exec(Global.getPref().browser, s);
-					Global.getPref().log("Executing: \""+Global.getPref().browser+"\" \""+s+"\"");
+					Global.getPref().log("Executed: \""+Global.getPref().browser+"\" \""+s+"\"");
 				} catch (Exception ioex) {
 					Global.getPref().log("Ignored Exception", ioex, true);
 				}

Modified: trunk/src/CacheWolf/TravelbugList.java
===================================================================
--- trunk/src/CacheWolf/TravelbugList.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TravelbugList.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 /**
  * A list of GC travelbugs
@@ -3,8 +28,8 @@
  * @author salzkammergut
  */
+import ewe.io.StringReader;
 import ewe.util.Vector;
-import ewe.io.*;
-import ewesoft.xml.*;
-import ewesoft.xml.sax.*;
+import ewesoft.xml.MinML;
+import ewesoft.xml.sax.AttributeList;
 
 public class TravelbugList extends MinML{

Modified: trunk/src/CacheWolf/TravelbugPickup.java
===================================================================
--- trunk/src/CacheWolf/TravelbugPickup.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TravelbugPickup.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.ui.InputBox;

Modified: trunk/src/CacheWolf/TravelbugScreen.java
===================================================================
--- trunk/src/CacheWolf/TravelbugScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/TravelbugScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,40 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.ListEvent;
+import ewe.ui.MenuEvent;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.ScrollablePanel;
+import ewe.ui.SimpleList;
+import ewe.ui.mButton;
 
 /**
  * Choose a travelbug to pick up or drop

Modified: trunk/src/CacheWolf/UrlFetcher.java
===================================================================
--- trunk/src/CacheWolf/UrlFetcher.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/UrlFetcher.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.io.AsciiCodec;

Modified: trunk/src/CacheWolf/Version.java
===================================================================
--- trunk/src/CacheWolf/Version.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/Version.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,11 +1,37 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
 
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import com.stevesoft.ewe_pat.Regex;
-import ewe.io.*;
-import ewe.util.*;
-import ewe.sys.*;
 
+import ewe.io.IOException;
+import ewe.sys.Convert;
+import ewe.sys.Vm;
+import ewe.util.Properties;
+
 /**
  * Class to hold and handle version information of the cachewolf project
  * language localisation string at at number 7000

Modified: trunk/src/CacheWolf/exp/ASCExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/ASCExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/ASCExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,5 +1,32 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
-import CacheWolf.*;
+import CacheWolf.CacheHolder;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
 
 /**
 *	Class to export cache database to an ASCII (CSV!) file.

Modified: trunk/src/CacheWolf/exp/DistanceComparer.java
===================================================================
--- trunk/src/CacheWolf/exp/DistanceComparer.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/DistanceComparer.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
 import CacheWolf.CWPoint;

Modified: trunk/src/CacheWolf/exp/ExploristExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/ExploristExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/ExploristExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,41 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
-import CacheWolf.*;
-import ewe.sys.*;
+import CacheWolf.CWPoint;
+import CacheWolf.CacheDB;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheHolderDetail;
+import CacheWolf.CacheTerrDiff;
+import CacheWolf.CacheType;
+import CacheWolf.Common;
+import CacheWolf.InfoBox;
+import CacheWolf.MyLocale;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
 import ewe.filechooser.FileChooser;
 import ewe.filechooser.FileChooserBase;
 import ewe.io.BufferedReader;
@@ -10,12 +44,13 @@
 import ewe.io.FileNotFoundException;
 import ewe.io.FileReader;
 import ewe.io.FileWriter;
+import ewe.io.IOException;
 import ewe.io.LineNumberReader;
 import ewe.io.PrintWriter;
+import ewe.sys.Handle;
 import ewe.ui.FormBase;
 import ewe.ui.ProgressBarForm;
-import ewe.util.*;
-import ewe.io.IOException;
+import ewe.util.StringTokenizer;
 
 /**
  * @author Kalle
@@ -160,7 +195,7 @@
 			outp.close();
 			pbf.exit(0);
 		} catch (IOException ioE) {
-			Vm.debug("Error opening " + outFile.getName());
+			pref.log("Error opening " + outFile.getName(),ioE);
 		}
 		// try
 	}

Modified: trunk/src/CacheWolf/exp/Exporter.java
===================================================================
--- trunk/src/CacheWolf/exp/Exporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/Exporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,18 +1,50 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
-import CacheWolf.*;
-import ewe.sys.*;
+import CacheWolf.CWPoint;
+import CacheWolf.CacheDB;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheSize;
+import CacheWolf.CacheType;
+import CacheWolf.Global;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
 import ewe.filechooser.FileChooser;
 import ewe.filechooser.FileChooserBase;
 import ewe.io.BufferedWriter;
 import ewe.io.File;
 import ewe.io.FileWriter;
+import ewe.io.IOException;
 import ewe.io.PrintWriter;
+import ewe.sys.Handle;
 import ewe.ui.FormBase;
+import ewe.ui.MessageBox;
 import ewe.ui.ProgressBarForm;
-import ewe.ui.*;
-import ewe.util.*;
-import ewe.io.IOException;
+import ewe.util.Hashtable;
 
 /**
  * @author Kalle
@@ -149,7 +181,7 @@
 				new MessageBox("Export Error", incompleteWaypoints+" incomplete waypoints have not been exported. See log for details.", FormBase.OKB).execute();
 			}
 		} catch (IOException ioE){
-			Vm.debug("Error opening " + outFile.getName());
+			pref.log("Error opening " + outFile.getName(),ioE);
 		}
 		//try
 	}

Modified: trunk/src/CacheWolf/exp/GarminMap.java
===================================================================
--- trunk/src/CacheWolf/exp/GarminMap.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/GarminMap.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
 import CacheWolf.CacheHolder;

Modified: trunk/src/CacheWolf/exp/GpxExportNg.java
===================================================================
--- trunk/src/CacheWolf/exp/GpxExportNg.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/GpxExportNg.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
 import CacheWolf.Attribute;

Modified: trunk/src/CacheWolf/exp/HTMLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/HTMLExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/HTMLExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,14 +1,59 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
+import CacheWolf.CacheDB;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheHolderDetail;
+import CacheWolf.Common;
+import CacheWolf.DataMover;
+import CacheWolf.Global;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
+import HTML.Template;
+
 import com.stevesoft.ewe_pat.Regex;
 
-import CacheWolf.*;
-import ewe.util.*;
-import ewe.sys.*;
-import ewe.io.*;
-import ewe.ui.*;
-import ewe.filechooser.*;
-import HTML.*;
+import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
+import ewe.io.AsciiCodec;
+import ewe.io.BufferedWriter;
+import ewe.io.File;
+import ewe.io.FileBase;
+import ewe.io.FileWriter;
+import ewe.io.IOException;
+import ewe.io.PrintWriter;
+import ewe.sys.Convert;
+import ewe.sys.Handle;
+import ewe.ui.FormBase;
+import ewe.ui.MessageBox;
+import ewe.ui.ProgressBarForm;
+import ewe.util.Comparer;
+import ewe.util.Hashtable;
+import ewe.util.Vector;
 
 /**
 *	Class to export cache information to individual HTML files.<br>
@@ -116,7 +161,7 @@
 								if (DataMover.copy(profile.dataDir + logImgFile,targetDir + logImgFile))
 									logImg.add(logImgParams);
 								else {
-									pref.log("Error at "+ch.getWayPoint());
+									pref.log("[HTMLExporter:DataMover]"+logImgFile+" "+ch.getWayPoint());
 									exportErrors++;
 								}
 							}
@@ -132,7 +177,7 @@
 								if (DataMover.copy(profile.dataDir + usrImgFile,targetDir + usrImgFile))
 									usrImg.add(usrImgParams);
 								else {
-									pref.log("Error at "+ch.getWayPoint());
+									pref.log("[HTMLExporter:DataMover]"+usrImgFile+" "+ch.getWayPoint());
 									exportErrors++;
 								}
 							}
@@ -152,7 +197,7 @@
 								if (DataMover.copy(profile.dataDir + mapImgFile,targetDir + mapImgFile))
 									mapImg.add(mapImgParams);
 								else {
-									pref.log("Error at "+ch.getWayPoint());
+									pref.log("[HTMLExporter:DataMover]"+mapImgFile+" "+ch.getWayPoint());
 									exportErrors++;
 								}
 								mapImgParams = new Hashtable();
@@ -162,7 +207,7 @@
 								if (DataMover.copy(profile.dataDir + mapImgFile,targetDir + mapImgFile))
 									mapImg.add(mapImgParams);
 								else {
-									pref.log("Error at "+ch.getWayPoint());
+									pref.log("[HTMLExporter:DataMover]"+mapImgFile+" "+ch.getWayPoint());
 									exportErrors++;
 								}
 								page_tpl.setParam("mapImg", mapImg);
@@ -175,7 +220,7 @@
 							page_tpl.setParam("logImg", ""); // ???
 							page_tpl.setParam("userImg", ""); // ???
 							page_tpl.setParam("mapImg", ""); // ???
-							pref.log("Error at "+ch.getWayPoint());
+							pref.log("[HTMLExporter:DoIt]Error "+ch.getWayPoint());
 							exportErrors++;
 						}
 
@@ -183,13 +228,12 @@
 						pagefile.print(page_tpl.output());
 						pagefile.close();
 					} catch (IllegalArgumentException e) {
-						pref.log("Error at "+ch.getWayPoint());
+						pref.log("[HTMLExporter:DoIt]"+ch.getWayPoint()+" is incomplete reason: ",e,true);
 						exportErrors++;
 						ch.setIncomplete(true);
-						pref.log("HTMLExport: "+ch.getWayPoint()+" is incomplete reason: ",e,Global.getPref().debug);
 					} catch(Exception e){
 						exportErrors++;
-						pref.log("HTMLExport: error wehen exporting "+ch.getWayPoint()+" reason: ",e,Global.getPref().debug);
+						pref.log("[HTMLExporter:DoIt]"+ch.getWayPoint(),e,true);
 					}
 				}//if is black, filtered
 			}
@@ -198,13 +242,13 @@
 			for (int j=0; j<logIcons.size(); j++) {
 				icon=(String) logIcons.elementAt(j);
 				if (!DataMover.copy(FileBase.getProgramDirectory() + "/"+icon,targetDir + icon)) {
-					pref.log("Error copying logIcons");
+					pref.log("[HTMLExporter:DataMover]"+icon,null);
 					exportErrors++;
 				}
 
 			}
 			if (!DataMover.copy(FileBase.getProgramDirectory() + "/recommendedlog.gif",targetDir + "recommendedlog.gif")) {
-				pref.log("Error copying recommendedlog.gif");
+				pref.log("[HTMLExporter:DataMover]recommendedlog.gif",null);
 				exportErrors++;	
 			}
 
@@ -226,8 +270,7 @@
 				// sort by distance
 				sortAndPrintIndex(tpl, cache_index,targetDir + "/index_dist.html", "DISTANCE", 10.0);
 			}catch(Exception e){
-				Vm.debug("Problem writing HTML files\n");
-				e.printStackTrace();
+				pref.log("[HTMLExporter:writeIndexFiles]Problem writing HTML files",e,true);
 			}//try
 
 		}//if
@@ -248,8 +291,7 @@
 			detfile.print(tmpl.output());
 			detfile.close();
 		} catch (IOException e) {
-			Vm.debug("Problem writing HTML files\n");
-			e.printStackTrace();
+			pref.log("[HTMLExporter:sortAndPrintIndex]Problem writing HTML file:"+file,e,true);
 		}
 	}
 
@@ -268,8 +310,7 @@
 			detfile.print(tmpl.output());
 			detfile.close();
 		} catch (IOException e) {
-			Vm.debug("Problem writing HTML files\n");
-			e.printStackTrace();
+			pref.log("[HTMLExporter:writeIndexFile]Problem writing HTML file:"+file,e,true);
 		}
 	}
 
@@ -287,8 +328,7 @@
 			detfile.print(tmpl.output());
 			detfile.close();
 		} catch (IOException e) {
-			Vm.debug("Problem writing HTML files\n");
-			e.printStackTrace();
+			pref.log("[HTMLExporter:writeIndexFile]Problem writing HTML file:"+file,e,true);
 		}
 
 	}

Modified: trunk/src/CacheWolf/exp/KMLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/KMLExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/KMLExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
 import CacheWolf.CWPoint;
@@ -17,7 +42,6 @@
 import ewe.io.InputStream;
 import ewe.io.PrintWriter;
 import ewe.sys.Handle;
-import ewe.sys.Vm;
 import ewe.ui.ProgressBarForm;
 import ewe.util.Hashtable;
 import ewe.util.Iterator;
@@ -150,7 +174,7 @@
 			outp.close();
 			pbf.exit(0);
 		} catch (IOException ioE){
-			Vm.debug("Error opening " + outFile.getName());
+			pref.log("Error opening " + outFile.getName(),ioE);
 		}
 		//try
 
@@ -252,11 +276,9 @@
 			}
 
 			} catch (ZipException e) {
-				Vm.debug("Problem copying Icon");
-				e.printStackTrace();
+				pref.log("Problem copying Icon",e,true);
 			} catch (IOException e) {
-				Vm.debug("Problem copying Icon");
-				e.printStackTrace();
+				pref.log("Problem copying Icon",e,true);
 			}
 	}
 

Modified: trunk/src/CacheWolf/exp/LocExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/LocExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/LocExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,5 +1,34 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
-import CacheWolf.*;
+import CacheWolf.CWPoint;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheHolderDetail;
+import CacheWolf.Common;
+import CacheWolf.Global;
 import ewe.io.File;
 import ewe.io.FileBase;
 
@@ -49,7 +78,7 @@
 		else {
 			try {
 				strBuf.append(wptName.substring(wptName.length()-Global.getPref().garminMaxLen));
-			} catch (Exception ex){ pref.log("Invalid value for garmin.MaxWaypointLength"); }
+			} catch (Exception ex){ pref.log("[LocExporter:record]Invalid value for garmin.MaxWaypointLength",ex); }
 		}
 		strBuf.append("\"><![CDATA[");
 		strBuf.append(simplifyString(ch.getCacheName()));

Modified: trunk/src/CacheWolf/exp/MSARCSVExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/MSARCSVExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/MSARCSVExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,35 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
-import CacheWolf.*;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheSize;
+import CacheWolf.CacheType;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
 
 /**
  * Class to export the cache database (index) to an CSV File which can bei easy

Modified: trunk/src/CacheWolf/exp/OVLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/OVLExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/OVLExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,35 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
-import CacheWolf.*;
+import CacheWolf.CacheHolder;
+import CacheWolf.Common;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
 import CacheWolf.navi.TransformCoordinates;
-import ewe.sys.*;
+import ewe.sys.Convert;
 
 /**
 *	Class to export the cache database (index) to an ascii overlay file for
@@ -68,71 +96,4 @@
 		return str.toString();
 	}
 
-
-/*	public void doIt(){
-		CacheHolder holder;
-		ParseLatLon pll;
-		int symCounter = 1;
-		FileChooser fc = new FileChooser(FileChooser.SAVE, profile.dataDir);
-		fc.setTitle("Select target file:");
-		if(fc.execute() != FileChooser.IDCANCEL){
-			File saveTo = fc.getChosenFile();
-			try{
-				PrintWriter outp =  new PrintWriter(new BufferedWriter(new FileWriter(saveTo)));
-				//symbols section, loop through database
-				//a circle and text per cache is created
-				for(int i = 0; i<cacheDB.size(); i++){
-					holder=(CacheHolder)cacheDB.get(i);
-					if(holder.is_black == false && holder.is_filtered == false){
-						pll = new ParseLatLon(holder.LatLon,".");
-						pll.parse();
-						//the circle!
-						outp.print("[Symbol "+Convert.toString(symCounter)+"]\r\n");
-						outp.print("Typ=6\r\n");
-						outp.print("Width=15\r\n");
-						outp.print("Height=15\r\n");
-						outp.print("Col=1\r\n");
-						outp.print("Zoom=1\r\n");
-						outp.print("Size=2\r\n");
-						outp.print("Area=2\r\n");
-						outp.print("XKoord="+pll.getLonDeg()+"\r\n");
-						outp.print("YKoord="+pll.getLatDeg()+"\r\n");
-						symCounter++;
-						//the text
-						outp.print("[Symbol "+Convert.toString(symCounter)+"]\r\n");
-						outp.print("Typ=2\r\n");
-						outp.print("Col=1\r\n");
-						outp.print("Zoom=1\r\n");
-						outp.print("Size=2\r\n");
-						outp.print("Area=2\r\n");
-						outp.print("Font=3\r\n");
-						outp.print("Dir=1\r\n");
-						outp.print("XKoord="+Convert.toString(pll.lon2+0.002).replace(',', '.')+"\r\n");
-						outp.print("YKoord="+Convert.toString(pll.lat2+0.001).replace(',', '.')+"\r\n");
-						outp.print("Text="+holder.wayPoint+"\r\n");
-						symCounter++;
-					}//if holder...
-				}//for ... i < cacheDB ...
-				// overlay section
-				outp.print("[Overlay]\r\n");
-				outp.print("Symbols="+Convert.toString(symCounter-1)+"\r\n");
-				// maplage section
-				outp.print("[MapLage]\r\n");
-				outp.print("MapName=Gesamtes Bundesgebiet (D1000)\r\n");
-				outp.print("DimmFc=100\r\n");
-				outp.print("ZoomFc=100\r\n");
-				outp.print("CenterLat="+myPreferences.curCentrePt.getLatDeg(CWPoint.CW)+".00\r\n");
-				outp.print("CenterLong="+myPreferences.curCentrePt.getLonDeg(CWPoint.CW)+".00\r\n");
-				outp.print("RefColor=255\r\n");
-				outp.print("RefRad=58\r\n");
-				outp.print("RefLine=6\r\n");
-				outp.print("RefOn=0\r\n");
-				outp.print("\r\n");
-
-				outp.close();
-			}catch(Exception e){
-				Vm.debug("Error writing to OVL file! "+e.toString());
-			}
-		} // if execute
-	}
-*/}
+}

Modified: trunk/src/CacheWolf/exp/OziExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/OziExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/OziExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,36 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheSize;
+import CacheWolf.CacheType;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
 import ewe.io.File;
 import ewe.io.FileBase;
-import CacheWolf.*;
 
 /**
 *	Class to export the cache database (index) to an OziExplorer File

Modified: trunk/src/CacheWolf/exp/SpoilerPOIExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/SpoilerPOIExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/SpoilerPOIExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,9 +1,39 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheImages;
+import CacheWolf.Common;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
+import CacheWolf.SafeXML;
+import CacheWolf.utils.FileBugfix;
+import CacheWolf.utils.URLUTF8Encoder;
 import ewe.sys.Time;
 import ewe.ui.FormBase;
-import CacheWolf.*;
-import CacheWolf.utils.FileBugfix;
-import CacheWolf.utils.URLUTF8Encoder;
 
 /** 
  * 

Modified: trunk/src/CacheWolf/exp/SpoilerPOIExporterScreen.java
===================================================================
--- trunk/src/CacheWolf/exp/SpoilerPOIExporterScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/SpoilerPOIExporterScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,40 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
 import CacheWolf.MyLocale;
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.CheckBoxGroup;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.IKeys;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
 
 public class SpoilerPOIExporterScreen extends Form {
 	mButton cancelB, okB;

Modified: trunk/src/CacheWolf/exp/TPLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/TPLExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/TPLExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -22,25 +22,36 @@
     along with this program; if not, write to the Free Software
     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
     */
-
 package CacheWolf.exp;
 
 import CacheWolf.CacheDB;
 import CacheWolf.CacheHolder;
-import CacheWolf.Global;
 import CacheWolf.InfoBox;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
 import HTML.Template;
+
+import com.stevesoft.ewe_pat.Regex;
+
 import ewe.filechooser.FileChooser;
 import ewe.filechooser.FileChooserBase;
-import ewe.io.*;
-import ewe.sys.*;
-import ewe.ui.*;
-import ewe.util.*;
+import ewe.io.AsciiCodec;
+import ewe.io.BufferedWriter;
+import ewe.io.File;
+import ewe.io.FileWriter;
+import ewe.io.IOException;
+import ewe.io.JavaUtf8Codec;
+import ewe.io.PrintWriter;
+import ewe.io.TextCodec;
+import ewe.ui.FormBase;
+import ewe.ui.MessageBox;
+import ewe.ui.ProgressBarForm;
+import ewe.util.ByteArray;
+import ewe.util.CharArray;
+import ewe.util.Enumeration;
+import ewe.util.Hashtable;
+import ewe.util.Vector;
 
-import com.stevesoft.ewe_pat.*;
-
 /**
  * @author Kalle
  * class to export cachedata using a template
@@ -262,9 +273,7 @@
 								detfile.close();
 							}
 						}catch(Exception e){
-							Vm.debug("Problem getting Parameter, Cache: " + ch.getWayPoint());
-							e.printStackTrace();
-							Global.getPref().log("Exception in TplExporter = Problem getting Parameter, Cache: " + ch.getWayPoint(), e, true);
+							pref.log("Exception in TplExporter = Problem getting Parameter, Cache: " + ch.getWayPoint(), e, true);
 						}
 					}
 				}
@@ -279,16 +288,9 @@
 				detfile.close();
 			}
 		} catch (Exception e) {
-			e.printStackTrace();
-			Global.getPref().log("Exception in TplExporter", e, true);
+			pref.log("Exception in TplExporter", e, true);
 		} catch (OutOfMemoryError e) {
-			// Global.getPref().log("OutOfMemeory in TplExporter", e, true);
-			// Vm.gc(); // this doesn't help :-(
-			// System.runFinalization();
-			// Vm.gc(); // this doesn't help :-( - I don't know why :-(
-			// Vm.debug("n: "+Vm.countObjects(true));
 			(new MessageBox("Error", "Not enough memory available to load all cache data (incl. description and logs)\nexport aborted\nFilter caches to minimise memory needed for TPL-Export\nWe recommend to restart CacheWolf now", FormBase.OKB)).execute();
-			// Vm.debug("n: "+Vm.countObjects(true));
 		}
 		pbf.exit(0);
 	}

Modified: trunk/src/CacheWolf/exp/TomTomExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/TomTomExporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/TomTomExporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,13 +1,54 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
-import CacheWolf.*;
-import ewe.ui.*;
-import ewe.util.*;
-import ewe.util.zip.*;
+import CacheWolf.CWPoint;
+import CacheWolf.CacheDB;
+import CacheWolf.CacheHolder;
+import CacheWolf.CacheSize;
+import CacheWolf.CacheType;
+import CacheWolf.Common;
+import CacheWolf.Global;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
 import ewe.filechooser.FileChooser;
 import ewe.filechooser.FileChooserBase;
-import ewe.io.*;
-import ewe.sys.*;
+import ewe.io.File;
+import ewe.io.FileBase;
+import ewe.io.FileOutputStream;
+import ewe.io.IOException;
+import ewe.io.InputStream;
+import ewe.io.RandomAccessFile;
+import ewe.sys.Handle;
+import ewe.ui.FormBase;
+import ewe.ui.ProgressBarForm;
+import ewe.util.ByteArray;
+import ewe.util.zip.ZipEntry;
+import ewe.util.zip.ZipException;
+import ewe.util.zip.ZipFile;
 
 public class TomTomExporter {
 	public final static int TT_ASC = 0;
@@ -119,8 +160,7 @@
 			}//for wayType
 			progressForm.exit(0);
 		} catch (IOException e){
-			Vm.debug("Problem creating file! " + fileName);
-			e.printStackTrace();
+			pref.log("Problem creating file! " + fileName,e,true);
 		}//try
 	}
 	
@@ -161,8 +201,7 @@
 			copyIcon(0, fileName.substring(0,fileName.indexOf(".")),"");
 			pbf.exit(0);
 		}catch (Exception e){
-			Vm.debug("Problem writing to file! " + fileName);
-			e.printStackTrace();
+			pref.log("Problem writing to file! " + fileName,e,true);
 		}//try
 	}
 	
@@ -188,8 +227,7 @@
 			outp.writeBytes(CacheSize.cw2ExportString(ch.getCacheSize()));
 			outp.writeBytes("\"\r\n");
 		} catch (IOException e) {
-			Vm.debug("Error writing to file");
-			e.printStackTrace();
+			pref.log("Error writing to file",e,true);
 		}
 		return;
 	}
@@ -227,8 +265,7 @@
 			d = 0;
 			outp.writeByte((byte)d);
 		} catch (IOException e) {
-			Vm.debug("Error writing to file");
-			e.printStackTrace();
+			pref.log("Error writing to file",e,true);
 		}
 
 		return;
@@ -244,8 +281,7 @@
 			outp.writeByte(buf.data[1]);
 			outp.writeByte(buf.data[0]);
 		} catch (IOException e) {
-			Vm.debug("Error writing to file");
-			e.printStackTrace();
+			pref.log("Error writing to file",e,true);
 		}
 
 		return;
@@ -277,11 +313,9 @@
 		    fos.close();
 		    fis.close();
 		} catch (ZipException e) {
-			Vm.debug("Problem copying Icon " + "GC-" + typeName + ".bmp" );
-			e.printStackTrace();
+			pref.log("Problem copying Icon " + "GC-" + typeName + ".bmp" ,e,true);
 		} catch (IOException e) {
-			Vm.debug("Problem copying Icon " + "GC-" + typeName + ".bmp" );
-			e.printStackTrace();
+			pref.log("Problem copying Icon " + "GC-" + typeName + ".bmp" ,e,true);
 		}
 	}
 	

Modified: trunk/src/CacheWolf/exp/TomTomExporterScreen.java
===================================================================
--- trunk/src/CacheWolf/exp/TomTomExporterScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/exp/TomTomExporterScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,43 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.exp;
 
 import CacheWolf.MyLocale;
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.CheckBoxGroup;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.IKeys;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
 
 public class TomTomExporterScreen extends Form {
 	mButton cancelB, okB;

Modified: trunk/src/CacheWolf/imp/FieldnotesImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.imp;
 
 import CacheWolf.CacheDB;
@@ -57,7 +82,6 @@
 			profile.saveIndex(pref, Profile.NO_SHOW_PROGRESS_BAR);
 			Vm.showWait(false);
 		} catch (Exception e) {
-			// Vm.debug(e.toString());
 			Vm.showWait(false);
 		}
 	}

Modified: trunk/src/CacheWolf/imp/GCVoteImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GCVoteImporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/imp/GCVoteImporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,28 +1,48 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.imp;
 
-import ewe.data.Property;
-import ewe.data.PropertyList;
-import ewe.io.BufferedReader;
+import CacheWolf.CacheDB;
+import CacheWolf.CacheHolder;
+import CacheWolf.Common;
+import CacheWolf.HttpConnection;
+import CacheWolf.MyLocale;
+import CacheWolf.Preferences;
+import CacheWolf.Profile;
+import CacheWolf.imp.SpiderGC.SpiderProperties;
 import ewe.io.IOException;
-import ewe.io.InputStreamReader;
 import ewe.io.JavaUtf8Codec;
+import ewe.io.Reader;
+import ewe.io.StringReader;
 import ewe.net.Socket;
 import ewe.sys.Handle;
 import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
 import ewe.ui.ProgressBarForm;
 import ewe.util.CharArray;
-import CacheWolf.CacheDB;
-import CacheWolf.CacheHolder;
-import CacheWolf.Common;
-import CacheWolf.Global;
-import CacheWolf.HttpConnection;
-import CacheWolf.MyLocale;
-import CacheWolf.Preferences;
-import CacheWolf.Profile;
-import CacheWolf.imp.SpiderGC.SpiderProperties;
-import CacheWolf.utils.CWWrapper;
-import ewe.io.*;
 import ewesoft.xml.MinML;
 import ewesoft.xml.sax.AttributeList;
 
@@ -43,8 +63,8 @@
 	/**
 	*	Constructor initalizing profile and cacheDB
 	*/
-	public GCVoteImporter(Preferences prf, Profile profile, boolean bypass){
-		this.profile=profile;
+	public GCVoteImporter(Preferences prf, Profile _profile, boolean bypass){
+		this.profile=_profile;
 		this.cacheDB = profile.cacheDB;
 		pref = prf;
 		if (p == null) {
@@ -87,21 +107,21 @@
 			GCVURL += "userName="+GCVUser+"&password="+GCVPassword+"&waypoints="+GCVWaypoints;
 
 			try {
-				if (pref.debug) pref.log("[GCVote]:Requesting ratings");
+				pref.log("[GCVote]:Requesting ratings");
 
 				// request web page http://gcvote.de/getVotes.php
 				GCVResults = getResponse(GCVURL);
 				if (GCVResults.equals("")) {
 					(new MessageBox(MyLocale.getMsg(0,"Error"), MyLocale.getMsg(0,"Error loading GCVote page.%0aPlease check your internet connection."), FormBase.OKB)).execute();
-					if (pref.debug) pref.log("[GCVote]:Could not fetch: getVotes.php page");
+					pref.log("[GCVote]:Could not fetch: getVotes.php page",null);
 				} else {
 					// parse response for votes
-					if (pref.debug) pref.log("[GCVote]:GCVotes = "+GCVResults);
+					pref.log("[GCVote]:GCVotes = "+GCVResults);
 					Reader r = new StringReader(GCVResults);
 					parse(r);
 				}
 			} catch (Exception ex) {
-				ex.printStackTrace();
+				pref.log("[GCVote:DoIt]",ex,true);
 			}
 		}
 		pbf.exit(0);
@@ -118,8 +138,7 @@
 			waypoint = atts.getValue("waypoint");
 			voteAvg = Common.parseDouble(atts.getValue("voteAvg")) * 10.0;
 			voteCnt = Common.parseInt(atts.getValue("voteCnt"));
-			if (pref.debug) pref.log("[GCVote]:Waypoint = " + waypoint + " - " + voteAvg + "(" + voteCnt + " votes)" );
-
+			pref.log("[GCVote:startElement]:Waypoint = " + waypoint + " - " + voteAvg + "(" + voteCnt + " votes)" );
 			CacheHolder cb = cacheDB.get(waypoint);
 			cb.setNumRecommended( 100*voteCnt + (int)(voteAvg + 0.5));
 		}

Modified: trunk/src/CacheWolf/imp/GPXImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GPXImporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/imp/GPXImporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.imp;
 
 import CacheWolf.CacheDB;
@@ -8,11 +33,9 @@
 import CacheWolf.Common;
 import CacheWolf.Extractor;
 import CacheWolf.Filter;
-import CacheWolf.Global;
 import CacheWolf.InfoBox;
 import CacheWolf.Log;
 import CacheWolf.MyLocale;
-import CacheWolf.ParseLatLon;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
 import CacheWolf.STRreplace;
@@ -76,30 +99,7 @@
 		inBug = false;
 		doitHow = DOIT_ASK;
 	}
-/*	skg: This Constructor is not referenced, therefore commented out 
-	public GPXImporter(Vector DB, String[] f,String d, Preferences p)
-	{
-		pref = p;
-		cacheDB = DB;
-		saveDir = pref.mydatadir;
-		for (int i=0;i<f.length;i++){
-			files.add(d + "/" + f[i]);
-		}
-		
-		//msgA = msgArea;
-		inWpt = false;
-		inCache = false;
-		inLogs = false;
-		inBug =false;
-		strData = new String();
-		//index db for faster search
-		CacheHolder ch;
-		for(int i = 0; i<cacheDB.size();i++){
-			ch = (CacheHolder)cacheDB.get(i);
-			DBindex.put((String)ch.wayPoint, new Integer(i));
-		}//for
-	}
-*/	
+
 	public void doIt(int how){
 		doitHow = how;
 		Filter flt = new Filter();
@@ -125,7 +125,6 @@
 				doitHow = DOIT_NOSPOILER;
 			}
 			
-			//Vm.debug("State of: " + doSpider);
 			Vm.showWait(true);
 			for (int i=0; i<files.size();i++){
 				//Test for zip.file
@@ -167,7 +166,7 @@
 			}
 				Vm.showWait(false);
 			}catch(Exception e){
-				e.printStackTrace();
+				pref.log("[GPXExporter:DoIt]",e,true);
 				Vm.showWait(false);
 			}
 		if(wasFiltered){
@@ -265,7 +264,7 @@
 		}
 		if (debugGPX){
 			for (int i = 0; i < atts.getLength(); i++) {
-				Vm.debug("Type: " + atts.getType(i) + " Name: " + atts.getName(i)+ " Value: "+atts.getValue(i));
+				pref.log("[GPXExporter:startElement]Type: " + atts.getType(i) + " Name: " + atts.getName(i)+ " Value: "+atts.getValue(i),null);
 			}
 		}	
 		if (name.equals("groundspeak:attribute")) {
@@ -278,7 +277,6 @@
 	
 	public void endElement(String name){
 		strData=strBuf.toString();
-		//Vm.debug("Ende: " + name);
 		if(infB.isClosed) return;
 		// logs
 		if (inLogs){
@@ -336,10 +334,9 @@
 							text = ex.findNext();
 							int num = 0;
 							while(ex.endOfSearch() == false && spiderOK){
-								//Vm.debug("Replacing: " + text);
 								if (num >= holder.getCacheDetails(false).images.size())break;
 								imgName = holder.getCacheDetails(false).images.get(num).getTitle();
-								holder.getCacheDetails(false).LongDescription = replace(holder.getCacheDetails(false).LongDescription, text, "[[Image: " + imgName + "]]");
+								holder.getCacheDetails(false).LongDescription = STRreplace.replace(holder.getCacheDetails(false).LongDescription, text, "[[Image: " + imgName + "]]");
 								num++;
 								text = ex.findNext();
 							}
@@ -385,7 +382,7 @@
 			    gpxDate.parse(strData.substring(0,19),"yyyy-MM-dd'T'HH:mm:ss");
 			} catch (IllegalArgumentException e) {
 			    gpxDate.setTime(0);
-			    Global.getPref().log("Error parsing date: '"+strData+"'. Ignoring.");
+			    pref.log("[GPXImporter:endElement]Error parsing Element time: '"+strData+"'. Ignoring.");
 			}
 			return;
 		}
@@ -409,13 +406,11 @@
 			//msgA.setText("import " + strData);
 			return;
 		}
-		//Vm.debug("Check: " + inWpt + " / " + fromOC);
 
 		// fill name with contents of <desc>, in case of gc.com the name is
 		// later replaced by the contents of <groundspeak:name> which is shorter
 		if (name.equals("desc")&& inWpt ) {
 			holder.setCacheName(strData);
-			//Vm.debug("CacheName: " + strData);
 			//msgA.setText("import " + strData);
 			return;
 		}
@@ -516,7 +511,7 @@
 	}
 	public void characters(char[] ch,int start,int length){
 		strBuf.append(ch,start,length);
-		if (debugGPX) Vm.debug("Char: " + strBuf.toString());
+		if (debugGPX) pref.log("Char: " + strBuf.toString(),null);
 	}
 	
 	public static String TCSizetoText(String size){
@@ -528,27 +523,6 @@
 
 		return "None";
 	}
-
-	/**
-	* Method to iterate through cache database and look for waypoint.
-	* Returns value >= 0 if waypoint is found, else -1
-	*/
-	/*
-	private int searchWpt(Vector db, String wpt){
-		if(wpt.length()>0){
-			wpt = wpt.toUpperCase();
-			CacheHolder ch = new CacheHolder();
-			//Search through complete database
-			for(int i = 0;i < db.size();i++){
-				ch = (CacheHolder)db.get(i);
-				if(ch.wayPoint.indexOf(wpt) >=0 ){
-					return i;
-				}
-			} // for
-		} // if
-		return -1;
-	}
-	*/
 	
 	private void spiderImagesUsingSpider(){
 		String addr;
@@ -562,38 +536,16 @@
 		}
 		else {
 			addr = "http://www.geocaching.com/seek/cache_details.aspx?wp=" + holder.getWayPoint() ;
-			//Vm.debug(addr + "|");
-			cacheText = SpiderGC.fetch(addr);
+			cacheText = SpiderGC.fetch(addr,false);
 			imgSpider.getImages(cacheText, holder.getCacheDetails(false));
 			try {
 				imgSpider.getAttributes(cacheText, holder.getCacheDetails(false));
 			} catch (Exception e) {
-				if (Global.getPref().debug) Global.getPref().log("unable to fetch attrivbutes for"+holder.getWayPoint(), e);
+				pref.log("unable to fetch attrivbutes for"+holder.getWayPoint(), e);
 			}
 		}
 	}
 	
-	public static String replace(String source, String pattern, String replace){
-		if (source!=null)
-		{
-			final int len = pattern.length();
-			StringBuffer sb = new StringBuffer();
-			int found = -1;
-			int start = 0;
-		
-			while( (found = source.indexOf(pattern, start) ) != -1) {
-			    sb.append(source.substring(start, found));
-			    sb.append(replace);
-			    start = found + len;
-			}
-		
-			sb.append(source.substring(start));
-		
-			return sb.toString();
-		}
-		else return "";
-	}
-	
 	public int getHow() {
 		return doitHow;
 	}

Modified: trunk/src/CacheWolf/imp/KMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/KMLImporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/imp/KMLImporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,11 +1,39 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.imp;
 
-import ewesoft.xml.*;
-import ewe.util.*;
-import ewesoft.xml.sax.*;
-import ewe.io.*;
-import ewe.sys.*;
 import CacheWolf.CWPoint;
+import ewe.io.FileReader;
+import ewe.io.Reader;
+import ewe.sys.Convert;
+import ewe.sys.Vm;
+import ewe.util.StringTokenizer;
+import ewe.util.Vector;
+import ewesoft.xml.MinML;
+import ewesoft.xml.sax.AttributeList;
 
 /**
  * Class to import coordinates from a KML file generated from
@@ -39,7 +67,6 @@
 			r.close();
 			Vm.showWait(false);
 		}catch(Exception e){
-			//Vm.debug(e.toString());
 			Vm.showWait(false);
 		}
 	}
@@ -79,10 +106,7 @@
 		
 		while(exBlock.hasMoreTokens()){
 			test = exBlock.nextToken();
-			//Vm.debug("==> " + test + " <==");
 			numbers = new StringTokenizer(test, ",");
-			//Vm.debug(numbers.nextToken());
-			//Vm.debug(numbers.nextToken());
 			lon = numbers.nextToken();
 			lat = numbers.nextToken();
 			point = new CWPoint(Convert.parseDouble(lat),Convert.parseDouble(lon));

Modified: trunk/src/CacheWolf/imp/LOCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/LOCXMLImporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/imp/LOCXMLImporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,29 +1,28 @@
-/*
-CacheWolf is a software for PocketPC, Win and Linux that 
-enables paperless caching. 
-It supports the sites geocaching.com and opencaching.de
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
 
-Copyright (C) 2006  CacheWolf development team
-See http://developer.berlios.de/projects/cachewolf/
-for more information.
-Contact: 	bilbowolf at users.berlios.de
-			kalli at users.berlios.de
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
- */
-
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.imp;
 
 
@@ -35,8 +34,9 @@
 import CacheWolf.Common;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
+import ewe.io.FileReader;
+import ewe.io.Reader;
 import ewe.sys.Vm;
-import ewe.io.*;
 import ewesoft.xml.MinML;
 import ewesoft.xml.sax.AttributeList;
 
@@ -73,7 +73,6 @@
 			profile.saveIndex(pref, Profile.NO_SHOW_PROGRESS_BAR);
 			Vm.showWait(false);
 		} catch (Exception e) {
-			// Vm.debug(e.toString());
 			Vm.showWait(false);
 		}
 	}
@@ -81,8 +80,7 @@
 	public void startElement(String name, AttributeList atts) {
 		if (debugXML) {
 			for (int i = 0; i < atts.getLength(); i++) {
-				Vm.debug(" Name: " + atts.getName(i) + " Value: "
-						+ atts.getValue(i));
+				pref.log(" Name: " + atts.getName(i) + " Value: " + atts.getValue(i),null);
 			}
 		}
 		strData = "";
@@ -91,8 +89,7 @@
 			return;
 		}
 		if (name.equals("coord")) {
-			holder.pos.set(Common.parseDouble(atts.getValue("lat")), Common
-					.parseDouble(atts.getValue("lon")));
+			holder.pos.set(Common.parseDouble(atts.getValue("lat")), Common.parseDouble(atts.getValue("lon")));
 			holder.setLatLon(holder.pos.toString());
 			return;
 		}
@@ -130,7 +127,7 @@
 		String chars = new String(ch, start, length);
 		strData += chars;
 		if (debugXML)
-			Vm.debug(strData);
+			pref.log(strData,null);
 	}
 
 	private CacheHolder getHolder(String wpt) {

Modified: trunk/src/CacheWolf/imp/OCXMLImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/imp/OCXMLImporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,30 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.imp;
 
-
 import CacheWolf.CWPoint;
 import CacheWolf.CacheDB;
 import CacheWolf.CacheHolder;
@@ -17,22 +41,34 @@
 import CacheWolf.Profile;
 import CacheWolf.SafeXML;
 import CacheWolf.UrlFetcher;
-
 import CacheWolf.navi.TransformCoordinates;
 import CacheWolf.utils.FileBugfix;
 
 import com.stevesoft.ewe_pat.Regex;
 
-import ewesoft.xml.*;
-import ewesoft.xml.sax.*;
-import ewe.io.*;
-import ewe.sys.*;
+import ewe.io.BufferedReader;
+import ewe.io.File;
+import ewe.io.FileOutputStream;
+import ewe.io.IO;
+import ewe.io.IOException;
+import ewe.io.InputStreamReader;
+import ewe.net.MalformedURLException;
+import ewe.net.URL;
+import ewe.sys.Convert;
+import ewe.sys.Double;
+import ewe.sys.Time;
+import ewe.sys.Vm;
 import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
-import ewe.util.*;
-import ewe.util.zip.*;
-import ewe.net.*;
-import ewe.sys.Double;
+import ewe.util.ByteArray;
+import ewe.util.CharArray;
+import ewe.util.Enumeration;
+import ewe.util.Hashtable;
+import ewe.util.zip.ZipEntry;
+import ewe.util.zip.ZipException;
+import ewe.util.zip.ZipFile;
+import ewesoft.xml.MinML;
+import ewesoft.xml.sax.AttributeList;
 
 /**
  *	Class to import Data from opencaching.
@@ -291,14 +327,12 @@
 		}catch (IllegalArgumentException e) {
 			finalMessage = MyLocale.getMsg(1621,"Error parsing update file\n this is likely a bug in " + hostname + "\nplease try again later\n, state:")+" "+state+", waypoint: "+ holder.getWayPoint();
 			success = false;
-			Vm.debug("Parse error: " + state + " " + holder.getWayPoint());
-			e.printStackTrace();
+			pref.log("Parse error: " + state + " " + holder.getWayPoint(),e,true);
 		}catch (Exception e){ // here should be used the correct exception
 			if (holder != null)	finalMessage = MyLocale.getMsg(1615,"Error parsing update file, state:")+" "+state+", waypoint: "+ holder.getWayPoint();
 			else finalMessage = MyLocale.getMsg(1615,"Error parsing update file, state:")+" "+state+", waypoint: <unkown>";
 			success = false;
-			//Vm.debug("Parse error: " + state + " Exception:" + e.toString()+"   "+holder.getOcCacheID());
-			e.printStackTrace();
+			pref.log("",e,true);
 		} finally {
 			if (tmpFile != null) tmpFile.delete();
 		}
@@ -317,7 +351,7 @@
 	public void startElement(String name, AttributeList atts){
 		if (debugGPX){
 			for (int i = 0; i < atts.getLength(); i++) {
-				Vm.debug(" Name: " + atts.getName(i)+ " Value: "+atts.getValue(i));
+				pref.log(" Name: " + atts.getName(i)+ " Value: "+atts.getValue(i));
 			}
 		}
 		strData ="";
@@ -326,8 +360,8 @@
 			Time lastSync = new Time();
 			try {
 				lastSync.parse(atts.getValue("date"),"yyyy-MM-dd HH:mm:ss");
-			}catch (IllegalArgumentException e){ // TODO Fehler werfen
-				Vm.debug(e.toString());
+			}catch (IllegalArgumentException e){
+				pref.log("",e,true);
 			}
 			// reduce time at 1 second to avoid sync problems
 			lastSync.setTime(lastSync.getTime() - 1000);
@@ -371,7 +405,7 @@
 	public void characters(char[] ch2,int start,int length){
 		String chars = new String(ch2,start,length);
 		strData += chars;
-		if (debugGPX) Vm.debug(strData);
+		if (debugGPX) pref.log(strData,null);
 	}
 
 	private void startCache(String name, AttributeList atts){
@@ -671,14 +705,12 @@
 						ErrMessage = new String (MyLocale.getMsg(1618,"Ignoring error in cache: ")+ n + " ("+wp+"): ignoring IOException: "+e.getMessage()+ " while downloading picture:"+fileName+" from URL:"+fetchURL);
 				}
 				inf.addWarning("\n"+ErrMessage);
-				//(new MessageBox(MyLocale.getMsg(144, "Warning"), ErrMessage, MessageBox.OKB)).exec();
-				pref.log(ErrMessage);
-				e.printStackTrace();
+				pref.log(ErrMessage,e,true);
 			}
 		} catch (MalformedURLException e) {
 			String ErrMessage = new String (MyLocale.getMsg(1618,"Ignoring error in cache: ") + holder.getWayPoint() + ": ignoring MalformedUrlException: " + e.getMessage()+ " while downloading from URL:" + fetchURL);
 			inf.addWarning("\n"+ErrMessage);
-			pref.log(ErrMessage);
+			pref.log(ErrMessage,e);
 		}
 
 	}
@@ -748,16 +780,8 @@
 
 	private String fetch(String addr, String fileName ) throws IOException
 	{
-		//Vm.debug("Redirect: " + redirect);
 		CharArray realurl = new CharArray();
 		ByteArray daten = UrlFetcher.fetchByteArray(addr, realurl);
-		// String address = realurl.toString();
-		// if (holder != null) fileName = holder.getWayPoint() + "_" + Common.ClearForFileName(address.substring(address.lastIndexOf("/")+1));
-		// else fileName = Common.ClearForFileName(address.substring(address.lastIndexOf("/")+1));
-
-		//save file
-		//Vm.debug("Save: " + myPref.mydatadir + fileName);
-		//Vm.debug("Daten: " + daten.length);
 		FileOutputStream outp =  new FileOutputStream(profile.dataDir + fileName);
 		outp.write(daten.toBytes());
 		outp.close();

Modified: trunk/src/CacheWolf/imp/OCXMLImporterScreen.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporterScreen.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/imp/OCXMLImporterScreen.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,28 @@
-/**
- *
- */
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.imp;
 
 import CacheWolf.CacheType;
@@ -11,7 +33,17 @@
 import CacheWolf.Preferences;
 import CacheWolf.imp.SpiderGC.SpiderProperties;
 import ewe.sys.Convert;
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.IKeys;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mChoice;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
 
 /**
  * @author pfeffer

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,4 +1,5 @@
-/*
+    /*
+    GNU General Public License
     CacheWolf is a software for PocketPC, Win and Linux that
     enables paperless caching.
     It supports the sites geocaching.com and opencaching.de
@@ -7,11 +8,11 @@
     See http://developer.berlios.de/projects/cachewolf/
     for more information.
     Contact: 	bilbowolf at users.berlios.de
-		kalli at users.berlios.de
+    			kalli at users.berlios.de
 
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
-    the Free Software Foundation version 2 of the License.
+    the Free Software Foundation; version 2 of the License.
 
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
@@ -22,7 +23,6 @@
     along with this program; if not, write to the Free Software
     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
     */
-
 package CacheWolf.imp;
 import CacheWolf.CWPoint;
 import CacheWolf.CacheDB;
@@ -339,6 +339,7 @@
 		getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, true);
 		int spiderErrors=0;
 		if (infB.isClosed) { Vm.showWait(false); return; } // or ask for download of intermediate result 
+		
 		for (int i = 0; i < cachesToLoad.size(); i++) {
 			String wpt = (String)cachesToLoad.get(i);
 			boolean is_found = wpt.indexOf("found")!=-1;
@@ -526,7 +527,6 @@
 					if (Global.mainTab.statBar!=null) Global.mainTab.statBar.updateDisplay("GC pages: "+page_number+" Caches added to CW: "+num_added);
 				}
 				else {
-					// Vm.debug("no Caches found");
 				}
 			}			
 		}
@@ -963,7 +963,7 @@
 		localInfB.exec();
 		try{
 			String doc = p.getProp("waypoint") + wayPoint;
-			completeWebPage = fetch(doc);
+			completeWebPage = fetch(doc,false);
 			pref.log("Fetched " + wayPoint);
 		}catch(Exception ex){
 			localInfB.close(0);
@@ -1010,7 +1010,7 @@
 		localInfB.exec();
 		try{
 			//Access the page once to get a viewstate
-			loginPage = fetch(loginPageUrl);   //http://www.geocaching.com/login/Default.aspx
+			loginPage = fetch(loginPageUrl,true);   //http://www.geocaching.com/login/Default.aspx
 			pref.log("[login]:Fetched login page "+loginPageUrl);
 			if (loginPage.equals("")) {
 				localInfB.close(0);
@@ -1199,7 +1199,7 @@
 		}
 		url = url + cacheTypeRestriction;
 		try{
-			htmlListPage = fetch(url);
+			htmlListPage = fetch(url,false);
 			pref.log("[getFirstListPage] Got first page "+url);
 		}catch(Exception ex){
 			pref.log("[getFirstListPage] Error fetching first list page "+url,ex,true);
@@ -1584,7 +1584,7 @@
 				ret = SPIDER_OK; // initialize value;
 				try{
 					String doc = p.getProp("getPageByName") + ch.getWayPoint() +((fetchAllLogs||ch.is_found())?p.getProp("fetchAllLogs"):"");
-					completeWebPage = fetch(doc);
+					completeWebPage = fetch(doc,false);
 					pref.log("Fetched: " + ch.getWayPoint());
 					if	( completeWebPage.equals("")) {
 						pref.log("Could not fetch " + ch.getWayPoint(),null);
@@ -2030,7 +2030,7 @@
 				Travelbug tb=new Travelbug(bug);
 				try{
 					infB.setInfo(oldInfoBox+MyLocale.getMsg(5514,"\nGetting bug: ")+SafeXML.cleanback(bug));
-					bugDetails = fetch(link);
+					bugDetails = fetch(link,false);
 					pref.log("[getBugs] Fetched TB details: "+bug);
 					Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
 					tb.setMission(exDetails.findNext());
@@ -2041,8 +2041,6 @@
 					pref.log("[getBugs] Could not fetch bug details",ex);
 				}
 			}
-			//Vm.debug("B: " + bug);
-			//Vm.debug("End? " + exBug.endOfSearch());
 		}
 		infB.setInfo(oldInfoBox);
 	}
@@ -2090,7 +2088,6 @@
 		Extractor exImgSrc = new Extractor(tst, "http://", "\"", 0, true);
 		while(exImgBlock.endOfSearch() == false){
 			imgUrl = exImgSrc.findNext();
-			//Vm.debug("Img Url: " +imgUrl);
 			if(imgUrl.length()>0){
 				// Optimize: img.groundspeak.com -> img.geocaching.com (for better caching purposes)
 				imgUrl = CacheImages.optimizeLink("http://" + imgUrl);
@@ -2152,7 +2149,6 @@
 		while(!exImgSrc.endOfSearch()){
 			imgUrl = exImgSrc.findNext();
 			imgComment = exImgComment.findNext();
-			//Vm.debug("Img Url: " +imgUrl);
 			if(imgUrl.length()>0){
 				imgUrl = "http://" + imgUrl;
 				try{
@@ -2418,7 +2414,7 @@
 	*	it will be a gc.com address. This method is used to obtain
 	*	the result of a search for caches screen.
 	*/
-	public static String fetch(String address) {
+	public static String fetch(String address, boolean withResponseHeaders) {
 		CharArray c_data;
 		try{
 			HttpConnection conn;
@@ -2443,7 +2439,9 @@
 			c_data = conn.readText(sock, codec);
 			sock.close();
 			pref.log("[fetch]:Read data ok "+address);
-			return getResponseHeaders(conn)+ c_data.toString();
+			if (withResponseHeaders)
+				return getResponseHeaders(conn)+c_data.toString();
+			else return c_data.toString();
 		}catch(IOException ioex){
 			pref.log("IOException in fetch", ioex);
 		}finally{
@@ -2537,7 +2535,7 @@
 		String bugList;
 		try{
 			//infB.setInfo(oldInfoBox+"\nGetting bug: "+bug);
-			bugList = fetch(p.getProp("getBugByName")+STRreplace.replace(SafeXML.clean(name)," ","+"));
+			bugList = fetch(p.getProp("getBugByName")+STRreplace.replace(SafeXML.clean(name)," ","+"),false);
 			pref.log("[getBugId] Fetched bugId: "+name);
 		}catch(Exception ex){
 			pref.log("[getBugId] Could not fetch bug list"+name,ex);
@@ -2571,9 +2569,9 @@
 		try{
 			//infB.setInfo(oldInfoBox+"\nGetting bug: "+bug);
 			if (guid.length()>10)
-				bugDetails = fetch(p.getProp("getBugByGuid")+guid);
+				bugDetails = fetch(p.getProp("getBugByGuid")+guid,false);
 			else
-				bugDetails = fetch(p.getProp("getBugById")+guid);
+				bugDetails = fetch(p.getProp("getBugById")+guid,false);
 			pref.log("[getBugMissionByGuid] Fetched TB detailsById: "+guid);
 		}catch(Exception ex){
 			pref.log("[getBugMissionByGuid] Could not fetch TB details "+guid,ex);
@@ -2600,7 +2598,7 @@
 	public String getBugMissionByTrackNr(String trackNr) {
 		String bugDetails;
 		try{
-			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr);
+			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr,false);
 			pref.log("[getBugMissionByTrackNr] Fetched bug detailsByTrackNr: "+trackNr);
 		}catch(Exception ex){
 			pref.log("[getBugMissionByTrackNr] getBugByTrackNr "+trackNr,ex);
@@ -2629,7 +2627,7 @@
 		String bugDetails;
 		String trackNr = TB.getTrackingNo();
 		try{
-			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr);
+			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr,false);
 			pref.log("[getBugMissionAndNameByTrackNr] Fetched TB getBugByTrackNr: "+trackNr);
 		}catch(Exception ex){
 			pref.log("[getBugMissionAndNameByTrackNr] Could not fetch bug details: "+trackNr,ex);

Modified: trunk/src/CacheWolf/myInteractivePanel.java
===================================================================
--- trunk/src/CacheWolf/myInteractivePanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/myInteractivePanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,8 +1,47 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
-import ewe.graphics.*;
-import ewe.ui.*;
-import ewe.sys.*;
-import ewe.fx.*;
+import ewe.fx.Color;
+import ewe.fx.Font;
+import ewe.fx.FontMetrics;
+import ewe.fx.Graphics;
+import ewe.fx.IconAndText;
+import ewe.fx.Image;
+import ewe.fx.Point;
+import ewe.fx.Rect;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.graphics.ImageDragContext;
+import ewe.graphics.InteractivePanel;
+import ewe.sys.Vm;
+import ewe.ui.Control;
+import ewe.ui.DragContext;
+import ewe.ui.Gui;
+import ewe.ui.PenEvent;
+import ewe.ui.mList;
 
 /**
 *	This class allows handling of a user click on a cache
@@ -113,7 +152,6 @@
 			 icnDrag.addColumn(CacheType.getTypeImage(ch.getType()));
 			 icnDrag.addColumn(ch.getWayPoint());
 			 dc.dragData=dc.startImageDrag(icnDrag,new Point(8,8),this);
-			 //if (dc instanceof ImageDragContext) Vm.debug(">>>>Is Image drag");
 			 canScroll=false;
 		}
 	 }

Modified: trunk/src/CacheWolf/myTableControl.java
===================================================================
--- trunk/src/CacheWolf/myTableControl.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/myTableControl.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import CacheWolf.utils.CWWrapper;
@@ -2,7 +27,25 @@
 import CacheWolf.utils.FileBugfix;
-import ewe.sys.*;
-import ewe.ui.*;
-import ewe.fx.*;
+import ewe.fx.IconAndText;
+import ewe.fx.Point;
+import ewe.fx.Rect;
 import ewe.io.FileBase;
 import ewe.io.IOException;
+import ewe.sys.Handle;
+import ewe.sys.Locale;
+import ewe.sys.Vm;
+import ewe.ui.Control;
+import ewe.ui.DragContext;
+import ewe.ui.Event;
+import ewe.ui.FormBase;
+import ewe.ui.Gui;
+import ewe.ui.IKeys;
+import ewe.ui.KeyEvent;
+import ewe.ui.Menu;
+import ewe.ui.MenuItem;
+import ewe.ui.MessageBox;
+import ewe.ui.PenEvent;
+import ewe.ui.ProgressBarForm;
+import ewe.ui.TableControl;
+import ewe.ui.TableEvent;
+import ewe.ui.mList;
 
@@ -257,7 +300,7 @@
 
 		if (selectedItem == miCenter){
 			if (tbp.getSelectedCache() < 0) {
-				Global.getPref().log("popupMenuEvent: getSelectedCache() < 0");
+				Global.getPref().log("[myTableControl:popupMenuEvent] getSelectedCache() < 0");
 				return;
 			}
 			CacheHolder thisCache = cacheDB.get(tbp.getSelectedCache());
@@ -409,7 +452,6 @@
 			 row=p.y;
 			 CacheHolder ch=cacheDB.get(p.y);
 			 wayPoint=ch.getWayPoint();
-			 //Vm.debug("Waypoint : "+ch.wayPoint);
 			 imgDrag=new IconAndText();
 			 imgDrag.addColumn(CacheType.getTypeImage(ch.getType()));
 			 imgDrag.addColumn(ch.getWayPoint());
@@ -419,7 +461,6 @@
 
 	 public void stopDragging(DragContext dc) {
 		 if (wayPoint!=null && !dc.cancelled) {
-			 //Vm.debug("Stop  Dragging"+dc.curPoint.x+"/"+dc.curPoint.y);
 			 dc.stopImageDrag(true);
 			 Point p = Gui.getPosInParent(this,getWindow());
 			 p.x += dc.curPoint.x;
@@ -432,7 +473,6 @@
 		    	 }
 		     }
 		     Global.mainTab.tbP.selectRow(row);
-			 //Vm.debug("Control "+c.toString()+"/"+c.text);
 		 }else super.stopDragging(dc);
 	 }
 

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/myTableModel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf;
 
 import ewe.fx.Color;
@@ -554,7 +579,7 @@
 				retval = true;
 			}
 		} catch (NullPointerException npex) {
-			Global.getPref().log("NPE in myTableModel.Penpressed");
+			Global.getPref().log("[myTableModel:Penpressed]",npex,true);
 			Vm.showWait(false);
 		}
 		return retval;

Modified: trunk/src/CacheWolf/navi/Area.java
===================================================================
--- trunk/src/CacheWolf/navi/Area.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/Area.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,5 +1,29 @@
+/*
+GNU General Public License
+CacheWolf is a software for PocketPC, Win and Linux that
+enables paperless caching.
+It supports the sites geocaching.com and opencaching.de
+
+Copyright (C) 2006  CacheWolf development team
+See http://developer.berlios.de/projects/cachewolf/
+for more information.
+Contact: 	bilbowolf at users.berlios.de
+			kalli at users.berlios.de
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; version 2 of the License.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+*/
 package CacheWolf.navi;
-
 import CacheWolf.CWPoint;
 
 public class Area {
@@ -98,7 +122,6 @@
 		 for (i=0; i<br.length(); i++ ) {
 			 if (ul.charAt(i) != br.charAt(i)) break;
 		 }
-		 //ewe.sys.Vm.debug(ul+"\n"+br+"\n i:"+i);
 		 return ul.substring(0, i);
 	 }
 	 

Modified: trunk/src/CacheWolf/navi/AreaList.java
===================================================================
--- trunk/src/CacheWolf/navi/AreaList.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/AreaList.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 

Modified: trunk/src/CacheWolf/navi/CWGPSPoint.java
===================================================================
--- trunk/src/CacheWolf/navi/CWGPSPoint.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/CWGPSPoint.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,25 +1,46 @@
-/*
- * Created on 02.04.2005
- *
- * TODO To change the template for this generated file go to
- * Window - Preferences - Java - Code Style - Code Templates
- */
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
-//import com.stevesoft.ewe_pat.Regex;
 
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+
 import CacheWolf.CWPoint;
 import CacheWolf.Common;
 import CacheWolf.Extractor;
 import CacheWolf.Global;
-import ewe.sys.*;
-import ewe.io.*;
+import ewe.io.FileWriter;
+import ewe.io.IOException;
+import ewe.sys.Convert;
+import ewe.sys.Time;
+import ewe.sys.TimerProc;
+import ewe.sys.Vm;
 
-// Stuff needed by CWGPSPoint::examineGpsd():
-import org.json.JSONObject;
-import org.json.JSONArray;
-import org.json.JSONException;
 
-
 /**
  * @author Kalle
  * Class for decoding NMEA sentences
@@ -134,7 +155,7 @@
 		try {
 			logFile = new FileWriter(logFileName);
 		} catch (IOException e) {
-			Vm.debug("Error creating LogFile " + logFileName);
+			Global.getPref().log("Error creating LogFile " + logFileName,e,true);
 			return -1;
 		}
 		// start timer
@@ -191,23 +212,13 @@
 			String currToken;
 			end = 0;
 			lastStrExamined = NMEA;
-			//Vm.debug(NMEA);
-/*			if (writeLog && (logFlag & LOGRAW) > 0){
-				try {
-					logFile.write(NMEA);
-					writeLog = false;
-				} catch (IOException e) {}
-			}
-*/			while(true){
+			while(true){
 				start = NMEA.indexOf("$GP", end);
 				if (start == -1) break;
 				end = NMEA.indexOf("*", start);
 				if ((end == -1)||(end+3 > NMEA.length())) break;
 
-
-				//Vm.debug(NMEA.substring(start,end+3));
 				if ((end - start) < 15 || !checkSumOK(NMEA.substring(start,end+3))){
-					//Vm.debug("checksum wrong");
 					continue;
 				}
 				// Write log after finding valid NMEA sequence
@@ -223,7 +234,6 @@
 				Extractor ex = new Extractor ("," + NMEA.substring(start,end), ",",",",0,true);
 				currToken = ex.findNext();
 				if (currToken.equals("$GPGGA")){
-					//Vm.debug("In $GPGGA");
 					i = 0;
 					while(ex.endOfSearch() != true){
 						boolean latlonerror = false; // indicate that some error occured in the data -> in this case frace fix to non-fixed in order to avoid invalid coordinates when a fix is indicated to the higher level API
@@ -278,7 +288,7 @@
 						case 1: try { this.Bear =Common.parseDouble(currToken); interpreted = true; } catch (NumberFormatException e) {
 							Global.getPref().log("Ignored Exception", e, true);
 						}
-						if (this.Bear > 360) Vm.debug("Error bear VTG");
+						if (this.Bear > 360) Global.getPref().log("Error bear VTG",null);
 						break;
 						case 7: try { this.Speed = Common.parseDouble(currToken); interpreted = true; } catch (NumberFormatException e) {
 							Global.getPref().log("Ignored Exception", e, true);
@@ -289,7 +299,6 @@
 				} // if
 
 				if (currToken.equals("$GPRMC")){
-					//Vm.debug("In $GPRMC");
 					i = 0;
 					String status = "V";
 					boolean latlonerror = false;
@@ -301,8 +310,6 @@
 							continue; // sometimes there are 2 colons directly one after the other like ",," (e.g. loox)
 						}
 						if (currToken.length() == 0) continue;
-						//Vm.debug("zz: " + i);
-						//Vm.debug(currToken);
 						switch (i){
 						case 1: this.Time = currToken; interpreted = true; break;
 						case 2: status = currToken;
@@ -310,11 +317,9 @@
 						else this.Fix = 0;
 						interpreted = true;
 						break;
-						case 3: 	//Vm.debug("Here--->");
+						case 3:
 							try {latDeg = currToken.substring(0,2); interpreted = true;} catch (IndexOutOfBoundsException e) {latlonerror = true;}
-							//Vm.debug(":" + latDeg);
 							try {latMin = currToken.substring(2,currToken.length()); interpreted = true;} catch (IndexOutOfBoundsException e) {latlonerror = true;}
-							//Vm.debug(":" + latMin);
 							break;
 						case 4: latNS = currToken; interpreted = true;
 						break;
@@ -361,7 +366,6 @@
 				} // if
 
 				if (currToken.equals("$GPGSV")){
-					//Vm.debug("In $$GPGSV");
 					i = 0;
 					while(ex.endOfSearch() != true){
 						currToken = ex.findNext();
@@ -373,11 +377,9 @@
 					} // while
 				} // if
 
-				//Vm.debug("End of examine");
 			} //while
 		} catch (Exception e) {
 			Global.getPref().log("Exception in examine in CWGPSPoint", e, true);
-			e.printStackTrace();
 		}
 
 		if	(logWritten)
@@ -551,7 +553,6 @@
 		for (int i= startPos; i<endPos;i++){
 			checkSum ^= nmea.charAt(i);
 		}
-		//Vm.debug(nmea.substring(3,6)+" Checksum: " + nmea.substring(endPos+1) + " Calculated: " + Convert.intToHexString(checkSum));
 		try { return (checkSum == Byte.parseByte(nmea.substring(endPos+1),16));
 		} catch (IndexOutOfBoundsException e) {
 			return false;
@@ -563,17 +564,17 @@
 
 
 	public void printAll(){
-		Vm.debug("Latitude:     " + this.getLatDeg(TransformCoordinates.DD));
-		Vm.debug("Longitude:    " + this.getLonDeg(TransformCoordinates.DD));
-		Vm.debug("Speed:        " + this.Speed);
-		Vm.debug("Bearing:      " + this.Bear);
-		Vm.debug("Time:         " + this.Time);
-		Vm.debug("Fix:          " + this.Fix);
-		Vm.debug("Sats:         " + this.numSat);
-		Vm.debug("Sats in view: " + this.numSatsInView);
-		Vm.debug("HDOP:         " + this.HDOP);
-		Vm.debug("Alt:          " + this.Alt);
-		Vm.debug("----------------");
+		Global.getPref().log("Latitude:     " + this.getLatDeg(TransformCoordinates.DD));
+		Global.getPref().log("Longitude:    " + this.getLonDeg(TransformCoordinates.DD));
+		Global.getPref().log("Speed:        " + this.Speed);
+		Global.getPref().log("Bearing:      " + this.Bear);
+		Global.getPref().log("Time:         " + this.Time);
+		Global.getPref().log("Fix:          " + this.Fix);
+		Global.getPref().log("Sats:         " + this.numSat);
+		Global.getPref().log("Sats in view: " + this.numSatsInView);
+		Global.getPref().log("HDOP:         " + this.HDOP);
+		Global.getPref().log("Alt:          " + this.Alt);
+		Global.getPref().log("----------------");
 	}
 }
 

Modified: trunk/src/CacheWolf/navi/Ellipsoid.java
===================================================================
--- trunk/src/CacheWolf/navi/Ellipsoid.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/Ellipsoid.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 public class Ellipsoid {

Modified: trunk/src/CacheWolf/navi/GeodeticCalculator.java
===================================================================
--- trunk/src/CacheWolf/navi/GeodeticCalculator.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/GeodeticCalculator.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,30 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
+package CacheWolf.navi;
+
 /* Geodesy by Mike Gavaghan
  * 
  * http://www.gavaghan.org/blog/free-source-code/geodesy-library-vincentys-formula/
@@ -6,8 +33,6 @@
  * project.  It comes with no warranty.
  */
 //package org.gavaghan.geodesy;
-package CacheWolf.navi;
-
 /**
  * <p>
  * Implementation of Thaddeus Vincenty's algorithms to solve the direct and inverse

Modified: trunk/src/CacheWolf/navi/GkProjection.java
===================================================================
--- trunk/src/CacheWolf/navi/GkProjection.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/GkProjection.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;

Modified: trunk/src/CacheWolf/navi/GotoPanel.java
===================================================================
--- trunk/src/CacheWolf/navi/GotoPanel.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/GotoPanel.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -5,21 +30,42 @@
 import CacheWolf.CacheHolder;
 import CacheWolf.CacheType;
 import CacheWolf.CoordsScreen;
-import CacheWolf.InputScreen;
 import CacheWolf.DetailsPanel;
 import CacheWolf.Global;
+import CacheWolf.InputScreen;
 import CacheWolf.MainTab;
 import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
-import ewe.ui.*;
-import ewe.fx.*;
+import ewe.fx.Brush;
+import ewe.fx.Color;
+import ewe.fx.Dimension;
+import ewe.fx.Font;
+import ewe.fx.FontMetrics;
+import ewe.fx.Graphics;
+import ewe.fx.Pen;
+import ewe.fx.Rect;
 import ewe.graphics.AniImage;
-//import ewe.io.IOException;
-//import ewe.io.SerialPort;
-//import ewe.io.SerialPortOptions;
-import ewe.sys.*;
+import ewe.sys.Convert;
 import ewe.sys.Double;
+import ewe.sys.Vm;
+import ewe.sys.VmConstants;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.FormBase;
+import ewe.ui.Gui;
+import ewe.ui.ImageControl;
+import ewe.ui.Menu;
+import ewe.ui.MenuEvent;
+import ewe.ui.MenuItem;
+import ewe.ui.MessageBox;
+import ewe.ui.Window;
+import ewe.ui.WindowConstants;
+import ewe.ui.mButton;
+import ewe.ui.mLabel;
 
 /**
  *	Class to create the panel which handles the connection to the GPS-device<br>
@@ -147,34 +193,6 @@
 		this.addLast(btnMap = new mButton(MyLocale.getMsg(1506,"Map")+" "),CellConstants.HSTRETCH, CellConstants.VFILL|CellConstants.RIGHT).setTag(SPAN,new Dimension(2,1));
 		this.addLast(roseP,CellConstants.DONTSTRETCH, CellConstants.DONTFILL|CellConstants.WEST).setTag(SPAN,new Dimension(2,1));
 		btnMap.backGround=GREEN;
-		// for debuging
-		/*		CWGPSPoint myGPS;
-		myGPS = new CWGPSPoint();
-		String ex = new String();
-		boolean test = false;
-		try { FileReader f = new FileReader("c:\\kw\\20060928_1051.log");
-		ex = f.readAll();
-		test = myGPS.examine(ex);
-		f.close();
-		} catch (IOException e ) {
-			Vm.debug(e.toString());
-		}
-		test = myGPS.examine("$GPGLL,5226.8935,N,01338.5327,E,084635.00,A,D*6E");
-		test = myGPS.examine("$GPGSA,A,3,10,28,26,29,09,,,,,,,,04.1,02.6,03.2*0F");
-		test = myGPS.examine("$GPGSV,4,1,13,08,40,072,28,10,29,201,47,27,15,079,29,28,62,102,44*7E");
-		test = myGPS.examine("$GPGSV,4,2,13,29,72,289,38,26,63,296,41,09,12,259,35,18,14,324,*79");
-		test = myGPS.examine("$GPGSV,4,3,13,19,09,025,,17,06,138,,21,06,300,,37,29,171,40*7A");
-		test = myGPS.examine("$GPGSV,4,4,13,39,29,166,38*40");
-		 */
-
-		//while (true){
-		//		int notinterpreted = 0;
-		//		if (myGPS.examine("@??????H @??????H???@??????HH?????????????????????H")) { notinterpreted = 0;} else notinterpreted++;
-		//		if (notinterpreted > 5) myGPS.noInterpretableData();
-		//		// myGPS.noInterpretableData();
-
-
-		//		}
 	}
 
 	public void resizeTo(int pWidth, int pHeight){
@@ -244,11 +262,9 @@
 		Double bearMov = new Double();
 		Double speed = new Double();
 		Double sunAzimut = new Double();
-		//Vm.debug("ticked: before");
 		compassRose.setGpsStatus(fix, myNavigation.gpsPos.getSats(), myNavigation.gpsPos.getSatsInView(), myNavigation.gpsPos.getHDOP());
 		if ((fix > 0) && (myNavigation.gpsPos.getSats()>= 0)) {
 			// display values only, if signal good
-			//Vm.debug("currTrack.add: nachher");
 			lblPosition.setText(myNavigation.gpsPos.toString(CoordsScreen.getLocalSystem(currFormatSel)));
 			speed.set(myNavigation.gpsPos.getSpeed());
 			sunAzimut.set(myNavigation.skyOrientationDir.lonDec);

Modified: trunk/src/CacheWolf/navi/LambertProjection.java
===================================================================
--- trunk/src/CacheWolf/navi/LambertProjection.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/LambertProjection.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -48,8 +73,6 @@
 			double t2 = java.lang.Math.tan(java.lang.Math.PI/4 - secondSandardParallel/ 2) / java.lang.Math.pow((1.0 - (e * java.lang.Math.sin(secondSandardParallel))) / (1.0 + (e * java.lang.Math.sin(secondSandardParallel))), e/2);
 			n = (java.lang.Math.log(m1) - java.lang.Math.log(m2)) / (java.lang.Math.log(t1) - java.lang.Math.log(t2));
 		}
-		// double nsin = java.lang.Math.sin(centralLat); // nsin and n should be equal
-		// Vm.debug("n-log: " + n+ " n-sin phi: " + nsin);
 		F0 = m1 / (n * java.lang.Math.pow(t1, n)) * scale_; // pow(t2???, n)
 		Rb = ellip.a * F0 * java.lang.Math.pow(t0, n);
 	}
@@ -78,13 +101,10 @@
 		double northing = Rb - R * java.lang.Math.cos(gamma); // + @False_Northing
 		if (pp == null) pp = new ProjectedPoint(this);
 		pp.setRaw(northing, easting);
-		//Vm.debug("project erg: "+ret.toString(0, "", " ", AUSTRIAN_LAMBERT));
-		//Vm.debug("project: ll: " + unproject(TransformCoordinates.BESSEL).toString(CWPoint.DD));
 		return pp;
 	}
 
 	public CWPoint unproject(ProjectedPoint pp) {
-		//Vm.debug("unproject: "+pp.toString(0, "", " ", AUSTRIAN_LAMBERT));
 
 		double ns = Rb - pp.northing;
 		double es = pp.easting;
@@ -102,7 +122,6 @@
 		} while (iterate);
 
 		CWPoint ret = new CWPoint(phi1 * 180 / java.lang.Math.PI, lambda * 180 / java.lang.Math.PI);
-		//Vm.debug("unproject: ret: " + ret.toString(CWPoint.DD));
 		return ret;
 	}
 

Modified: trunk/src/CacheWolf/navi/MapImage.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImage.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MapImage.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,38 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
-import ewe.fx.*;
-import ewe.graphics.*;
+import ewe.fx.Color;
+import ewe.fx.Dimension;
+import ewe.fx.Image;
+import ewe.fx.ImageDecodingException;
+import ewe.fx.ImageNotFoundException;
+import ewe.fx.Point;
+import ewe.fx.UnsupportedImageFormatException;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
 import ewe.io.FileInputStream;
 import ewe.io.IOException;
 /** 

Modified: trunk/src/CacheWolf/navi/MapImporter.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImporter.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MapImporter.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,13 +1,30 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
-import ewe.util.*;
-import ewe.io.*;
-import ewe.filechooser.*;
-import ewe.sys.*;
-import ewe.ui.*;
-import ewe.graphics.*;
-import ewe.fx.*;
-
 import CacheWolf.CWPoint;
 import CacheWolf.Common;
 import CacheWolf.CoordsScreen;
@@ -15,6 +32,41 @@
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
+import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
+import ewe.fx.Color;
+import ewe.fx.Graphics;
+import ewe.fx.Image;
+import ewe.fx.ImageInfo;
+import ewe.fx.PixelBuffer;
+import ewe.fx.Point;
+import ewe.fx.mImage;
+import ewe.graphics.AniImage;
+import ewe.graphics.InteractivePanel;
+import ewe.io.File;
+import ewe.io.FileBase;
+import ewe.io.FileInputStream;
+import ewe.io.FileNotFoundException;
+import ewe.io.FileOutputStream;
+import ewe.io.FileReader;
+import ewe.io.IOException;
+import ewe.io.InputStream;
+import ewe.io.OutputStream;
+import ewe.sys.Convert;
+import ewe.sys.Vm;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.MessageBox;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.mButton;
+import ewe.ui.mLabel;
+import ewe.util.ByteArray;
+import ewe.util.Vector;
+import ewe.util.mString;
 
 /**
  *	This class is for importing and manually georeferencing maps
@@ -70,11 +122,10 @@
 		try {
 			wfl.loadwfl(mapsPath, thisMap);
 		}catch(FileNotFoundException ex){
-			//	Vm.debug("Cannot load world file!");
 		}catch (IOException ex) { // is thrown if lat/lon out of range
 			MessageBox tmpMB=new MessageBox(MyLocale.getMsg(312, "Error"), ex.getMessage(), FormBase.OKB);
 			tmpMB.execute();
-			Vm.debug("Cannot load world file!");
+			pref.log("Cannot load world file!",ex);
 		}
 		mapInteractivePanel pane = new mapInteractivePanel(this);
 		scp = new CacheWolf.MyScrollBarPanel(pane);
@@ -157,8 +208,6 @@
 			currfile = files[i];
 			inf.setInfo(MyLocale.getMsg(4110,"Loading: ")+ "\n" + currfile + "\n("+(num-i)+"/"+num+")");
 			//Copy the file
-			//Vm.debug("Copy: " + inDir.getFullPath() + "/" +files[i]);
-			//Vm.debug("to: " + mapsPath + files[i]);
 			curInFullPath = inDir.getFullPath() + "/" +currfile;
 			curOutFullPath = mapsPath + currfile;
 			boolean imageerror = false;
@@ -200,7 +249,6 @@
 				GCPoint gcp3 = new GCPoint();
 				GCPoint gcp4 = new GCPoint();
 				GCPoint gcpG = new GCPoint();
-				//Vm.debug("Found file: " + inDir.getFullPath() + "/" + rawFileName + ".map");
 				try {
 					inMap = new FileReader(inDir.getFullPath() + "/" + rawFileName + ".map");
 					while((line = inMap.readLine()) != null){
@@ -290,7 +338,6 @@
 							}
 							 */
 							wfl.evalGCP(GCPs, imageWidth, imageHeight);
-							//Vm.debug("Saving .map file to: " + mapsPath + "/" + rawFileName + ".wfl");
 							wfl.saveWFL(mapsPath, rawFileName);
 							GCPs.clear();
 						} // if
@@ -361,7 +408,6 @@
 	 *	Event handler to catch clicks on the map
 	 */
 	public void imageClicked(AniImage which, Point pos){
-		//Vm.debug("X = " +pos.x + " Y = " + pos.y);
 		Image img = new Image(31, 31);
 		Graphics g = new Graphics(img);
 		g.setColor(new Color(0,0,0));

Modified: trunk/src/CacheWolf/navi/MapInfoObject.java
===================================================================
--- trunk/src/CacheWolf/navi/MapInfoObject.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MapInfoObject.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -7,14 +32,13 @@
 import CacheWolf.utils.FileBugfix;
 import ewe.fx.Point;
 import ewe.io.BufferedWriter;
+import ewe.io.File;
 import ewe.io.FileInputStream;
 import ewe.io.FileWriter;
-import ewe.io.File;
 import ewe.io.IOException;
 import ewe.io.InputStreamReader;
 import ewe.io.PrintWriter;
-import ewe.sys.*;
-import java.lang.Math;
+import ewe.sys.Convert;
 
 
 /**
@@ -257,8 +281,6 @@
 		coordTrans = epsg_code;
 		buttomright = calcLatLon(imageWidth, imageHeight);
 		doCalculations();
-		//Vm.debug("A B C" + affine[0] + " " + affine[2] + " " + affine[4]);
-		//Vm.debug("D E F" + affine[1] + " " + affine[3] + " " + affine[5]);
 	}
 
 	/**
@@ -376,7 +398,6 @@
 		double mapy = transLatY * b0 + transLonY * b1;
 		coords.x = (int)Math.round(mapx);
 		coords.y = (int)Math.round(mapy);
-		//Vm.debug("mapX=mapx2: "+mapx+"="+mapx2+"; mapy=mapy2: "+mapy+"="+mapy2);
 		return coords;
 	}
 

Modified: trunk/src/CacheWolf/navi/MapLoader.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoader.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MapLoader.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -8,14 +33,25 @@
 import CacheWolf.MyLocale;
 import CacheWolf.STRreplace;
 import CacheWolf.utils.FileBugfix;
-import ewe.ui.*;
-import ewe.io.*;
-import ewe.fx.*;
-import ewe.util.*;
-import ewe.sys.*;
+import ewe.fx.Point;
+import ewe.io.File;
+import ewe.io.FileBase;
+import ewe.io.FileInputStream;
+import ewe.io.FileOutputStream;
+import ewe.io.IOException;
+import ewe.net.Socket;
+import ewe.sys.Convert;
 import ewe.sys.Double;
-import ewe.net.*;
-import java.lang.Math;
+import ewe.sys.Time;
+import ewe.sys.Vm;
+import ewe.ui.FormBase;
+import ewe.ui.MessageBox;
+import ewe.util.ByteArray;
+import ewe.util.Properties;
+import ewe.util.StandardComparer;
+import ewe.util.Utils;
+import ewe.util.Vector;
+import ewe.util.mString;
 
 
 /**
@@ -284,7 +320,6 @@
 				String quelle = connImg.getRedirectTo();
 				boolean redirrected = false;
 				while (i < 5 && (quelle != null || (forceredirect && !redirrected))) { // this is necessary because expedia sometimes doesn't directly anser with the redirect to the map-image, but give a page in between. Solved the problem by retrying see also: http://www.geoclub.de/viewtopic.php?p=305071#305071
-					//Vm.debug("Redirect: " + i + connImg.getRedirectTo());
 					if (quelle != null) {
 						redirrected = true;
 						sockImg.close();
@@ -308,12 +343,9 @@
 				fos.close();
 				sockImg.close();
 			}
-			//Vm.debug("done");
 		}catch(IOException e){
 			throw new IOException(MyLocale.getMsg(4810, "Error while downloading or saving map:\n") + e.getMessage());
 		}
-//		(new MessageBox("Error", "Error saving calibration file:\n"+e.getMessage(), MessageBox.OKB)).exec();
-
 	}
 }
 
@@ -540,8 +572,6 @@
 		ret[TOPRIGHT_INDEX].shift(ret[TOPLEFT_INDEX].getNorthing() - ret[BUTTOMRIGHT_INDEX].getNorthing(), 0); // was: new GkPoint(ret[BUTTOMRIGHT_INDEX].getEasting(region), ret[TOPLEFT_INDEX].northing, ret[TOPLEFT_INDEX].stripewidth, ret[TOPLEFT_INDEX].lengthOfStripe0);
 		ret[BUTTOMLEFT_INDEX] = ret[BUTTOMRIGHT_INDEX].cloneIt();
 		ret[BUTTOMLEFT_INDEX].shift(ret[TOPLEFT_INDEX].getEasting() - ret[BUTTOMRIGHT_INDEX].getEasting(), 1); // was: new GkPoint(ret[TOPLEFT_INDEX].getEasting(region), ret[BUTTOMRIGHT_INDEX].northing, ret[TOPLEFT_INDEX].stripewidth, ret[TOPLEFT_INDEX].lengthOfStripe0);
-		//Vm.debug("rot left direkt: " + TransformCoordinates.GkToWgs84(ret[TOPLEFT_INDEX], region).getBearing(TransformCoordinates.GkToWgs84(ret[BUTTOMLEFT_INDEX], region)));
-		//Vm.debug("rot right direkt: " + TransformCoordinates.GkToWgs84(ret[TOPRIGHT_INDEX], region).getBearing(TransformCoordinates.GkToWgs84(ret[BUTTOMRIGHT_INDEX], region)));
 		//ret[2] = TransformCoordinates.wgs84ToGermanGk(topright, coordinateReferenceSystem[crs]);
 		//ret[3] = TransformCoordinates.wgs84ToGermanGk(buttomleft, coordinateReferenceSystem[crs]);
 		return ret;
@@ -666,8 +696,6 @@
 			gk[BUTTOMLEFT_INDEX].shift(metersperpixalhorizontal / 2, 1);
 			gk[BUTTOMLEFT_INDEX].shift(metersperpixalvertical / 2, 0);
 
-			//Vm.debug("\n" + maparea.topleft.toString(CWPoint.LAT_LON));
-			//Vm.debug(TransformCoordinates.germanGkToWgs84(TransformCoordinates.wgs84ToGermanGk(maparea.topleft)).toString(CWPoint.LAT_LON));
 			topleft.set(gk[TOPLEFT_INDEX].getNorthing(), gk[TOPLEFT_INDEX].getEasting());
 			buttomright.set(gk[BUTTOMRIGHT_INDEX].getNorthing(), gk[BUTTOMRIGHT_INDEX].getEasting());
 			topright.set(gk[TOPRIGHT_INDEX].getNorthing(), gk[TOPRIGHT_INDEX].getEasting());
@@ -688,14 +716,6 @@
 
 		MapInfoObject ret = new MapInfoObject();
 		ret.evalGCP(georef, pixelsize.x, pixelsize.y, coordinateReferenceSystem[getCrs(maparea.getCenter())]);
-		//Vm.debug("\n nach kal");
-		//Vm.debug("fehler tl: " + ret.calcLatLon(0, 0).getDistance(maparea.topleft)*1000);
-		//Vm.debug("fehler tl: " + ret.calcLatLon(0, 0).getBearing(maparea.topleft));
-		//Vm.debug("fehler br: " + ret.calcLatLon(pixelsize.x, pixelsize.y).getDistance(maparea.buttomright)*1000);
-		//Vm.debug("fehler br: " + ret.calcLatLon(pixelsize.x, pixelsize.y).getBearing(maparea.buttomright));
-		//Vm.debug(ret.calcLatLon(pixelsize.x, pixelsize.y).toString(CWPoint.LAT_LON));
-		//Vm.debug(ret.calcLatLon(pixelsize.x, 0).toString(CWPoint.LAT_LON));
-		//Vm.debug(ret.calcLatLon(0, pixelsize.y).toString(CWPoint.LAT_LON));
 		return ret;
 	}
 }

Modified: trunk/src/CacheWolf/navi/MapLoaderGui.java
===================================================================
--- trunk/src/CacheWolf/navi/MapLoaderGui.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MapLoaderGui.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -12,7 +37,26 @@
 import ewe.io.FileBase;
 import ewe.sys.Convert;
 import ewe.sys.Vm;
-import ewe.ui.*;
+import ewe.ui.CellConstants;
+import ewe.ui.CellPanel;
+import ewe.ui.CheckBoxGroup;
+import ewe.ui.ControlConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.DataChangeEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.FormBase;
+import ewe.ui.IKeys;
+import ewe.ui.MessageArea;
+import ewe.ui.MessageBox;
+import ewe.ui.UIConstants;
+import ewe.ui.mButton;
+import ewe.ui.mCheckBox;
+import ewe.ui.mChoice;
+import ewe.ui.mComboBox;
+import ewe.ui.mInput;
+import ewe.ui.mLabel;
+import ewe.ui.mTabbedPanel;
 
 /**
  * @author pfeffer

Modified: trunk/src/CacheWolf/navi/MapSymbol.java
===================================================================
--- trunk/src/CacheWolf/navi/MapSymbol.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MapSymbol.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,32 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
-import ewe.fx.*;
+import ewe.fx.Image;
 
 public class MapSymbol extends MapImage {
 	Object mapObject;

Modified: trunk/src/CacheWolf/navi/MapsList.java
===================================================================
--- trunk/src/CacheWolf/navi/MapsList.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MapsList.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+/*
+GNU General Public License
+CacheWolf is a software for PocketPC, Win and Linux that
+enables paperless caching.
+It supports the sites geocaching.com and opencaching.de
+
+Copyright (C) 2006  CacheWolf development team
+See http://developer.berlios.de/projects/cachewolf/
+for more information.
+Contact: 	bilbowolf at users.berlios.de
+			kalli at users.berlios.de
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; version 2 of the License.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+*/
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -6,6 +31,8 @@
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
 import CacheWolf.utils.FileBugfix;
+import ewe.fx.Point;
+import ewe.fx.Rect;
 import ewe.io.File;
 import ewe.io.FileBase;
 import ewe.io.IOException;
@@ -14,7 +41,6 @@
 import ewe.ui.MessageBox;
 import ewe.util.Comparer;
 import ewe.util.Vector;
-import ewe.fx.*;
 /**
  * class to handle a list of maps
  * it loads the list, finds the best map for a given location,
@@ -45,8 +71,6 @@
 		files = new FileBugfix(mapsPath+"/"+dirs.get(0));
 		for (int j = 0; j < dirs.size(); j++) {
 			files.set(null, mapsPath+"/"+dirs.get(j));
-			//ewe.sys.Vm.debug("mapd-Dirs:"+files);
-
 			//add subdirectories
 			if (!dirs.get(j).equals(".")) {
 				dirstmp = files.list(null, FileBase.LIST_DIRECTORIES_ONLY | File.LIST_DONT_SORT | File.LIST_IGNORE_DIRECTORY_STATUS); // the options "File.LIST_DONT_SORT | File.LIST_IGNORE_DIRECTORY_STATUS" make it run about twice as fast in sun-vm. The option File.LIST_IGNORE_DIRECTORY_STATUS influences only the sorting (dirs first)
@@ -67,7 +91,6 @@
 						tempMIO = new MapListEntry(mapsPath+"/", rawFileName);
 					else tempMIO = new MapListEntry(mapsPath+"/"+dirs.get(j)+"/", rawFileName);
 					if (tempMIO.sortEntryBBox != null) add(tempMIO);
-					//ewe.sys.Vm.debug(tempMIO.getEasyFindString() + tempMIO.mapName);
 				}catch(Exception ex){ // TODO exception ist, glaub ich evtl ?berfl?ssig
 					if (f == null) (f=new MessageBox(MyLocale.getMsg(144, "Warning"), MyLocale.getMsg(4700, "Ignoring error while \n reading calibration file \n")+ex.toString(), FormBase.OKB)).exec();
 				} /* catch(ArithmeticException ex){ // affine contain not allowed values
@@ -177,7 +200,6 @@
 							minDistLon = java.lang.Math.abs(ll.lonDec - mi.center.lonDec)/mi.sizeKm;
 							bestMap = mi;
 							//foundkw = i;
-							// Vm.debug("better"+ i);
 						}
 					}
 				}
@@ -188,7 +210,6 @@
 			ewe.sys.Vm.showWait(false);
 		}
 		if (bestMap == null) return null;
-		//Vm.debug("getBestMap: guess: " + guess + ", bestmap: " + foundkw + ", durchl?ufe: "+ testdkw);
 		return new MapInfoObject(bestMap); // return a copy of the MapInfoObject so that zooming won't change the MapInfoObject in the list
 	}
 	/*
@@ -271,7 +292,6 @@
 	     
 		if (!searchfor.startsWith(((MapListEntry)this.get(llimit)).sortEntryBBox)) 
 			llimit = llimitorig; // if the found mapListEntry doesn't contain the searchfor, then there is no map containing it.
-		// Vm.debug("quickfind: testskw: " + testskw + ", searched for: " + searchfor);
 		return llimit;
 	}
 
@@ -410,7 +430,6 @@
 					minDistLat = java.lang.Math.abs(ll.latDec - mi.center.latDec)/mi.sizeKm;
 					minDistLon = java.lang.Math.abs(ll.lonDec - mi.center.lonDec)/mi.sizeKm;
 					bestMap = mi;
-					// Vm.debug("better"+ i);
 				}
 			}
 		}
@@ -537,24 +556,15 @@
 		path = new String(pathi);
 		sortEntryBBox = null;
 		map = null;
-		/*
-		try {map = new MapInfoObject(path, filename); } catch (Exception e) {
-		}
-
-		ewe.sys.Vm.debug("centerID: "+map.getCenterID());
-		ewe.sys.Vm.debug("PxID: "+map.getPxSizeID());
-		ewe.sys.Vm.debug("scaleID: "+map.getScaleID()+"scale: "+map.scale);
-		*/
 		try {
 			if (filenamei.startsWith("FF1")) sortEntryBBox = filenamei.substring(0, filenamei.indexOf("E-"));
 		} catch (IndexOutOfBoundsException ex) {
-			// Global.getPref().log("Ignored Exception", ex, true);
+			Global.getPref().log("[MapsList:MapListEntry]", ex, true);
 		}
 		if (sortEntryBBox == null ) { //|| sortEntryScaleCenterPx.length() < 16) {
 			try {
 				map = new MapInfoObject(path, filename);
 				sortEntryBBox = "FF1"+map.getEasyFindString();
-				ewe.sys.Vm.debug(sortEntryBBox + ": "+filename);
 				if (rename == 0) { // never asked before
 					if ( (new MessageBox(MyLocale.getMsg(4702,"Optimisation"), MyLocale.getMsg(4703,"Cachewolf can make loading maps much faster by adding a identification mark to the filename. Do you want me to do this now?\n It can take several minutes"),
 							FormBase.YESB | FormBase.NOB)).execute() == FormBase.IDYES)
@@ -576,11 +586,11 @@
 					if (f != null) {
 						to = sortEntryBBox+"E-"+filename+Common.getFilenameExtension(f);
 						if (!new File(f).rename(to)) {
-							Global.getPref().log("MapListEntry (String pathi, String filenamei): Failed to rename: "+path+filename+": "+f+".wfl to: "+to);
+							Global.getPref().log("MapListEntry (String pathi, String filenamei): Failed to rename: "+path+filename+": "+f+".wfl to: "+to,null);
 							(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4705,"Failed to rename:\n")+f+".wfl"+MyLocale.getMsg(4706,"\nto:\n")+to, FormBase.OKB)).exec();
 						}
 					} else {
-						Global.getPref().log("MapListEntry (String pathi, String filenamei): Could not find image assiciated to: "+path+filename+".wfl");
+						Global.getPref().log("MapListEntry (String pathi, String filenamei): Could not find image assiciated to: "+path+filename+".wfl",null);
 						(new MessageBox(MyLocale.getMsg(321,"Error"), MyLocale.getMsg(4709,"Could not find image assiciated to:\n")+path+filename+".wfl", FormBase.OKB)).exec();
 					}
 					filename = sortEntryBBox+"E-"+filename;

Modified: trunk/src/CacheWolf/navi/Metrics.java
===================================================================
--- trunk/src/CacheWolf/navi/Metrics.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/Metrics.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,28 @@
-/**
- * 
- */
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.Global;
@@ -72,7 +94,7 @@
 	    		stdValue = value / FCT_MILE2FOOT;
 	    		break;
 	    	default:
-	    		Global.getPref().log("Cannot convert unit"+getUnit(sourceUnit));
+	    		Global.getPref().log("Cannot convert unit"+getUnit(sourceUnit),null);
 	    		throw new UnsupportedOperationException("Cannot convert unit"+getUnit(sourceUnit));
 	    	}
 	    	
@@ -99,7 +121,7 @@
 	    		result = stdValue * FCT_MILE2FOOT;
 	    		break;
 	    	default:
-	    		Global.getPref().log("Cannot convert unit"+getUnit(targetUnit));
+	    		Global.getPref().log("Cannot convert unit"+getUnit(targetUnit),null);
 	    		throw new UnsupportedOperationException("Cannot convert unit"+getUnit(targetUnit));
 	    	}
 	    }	

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -249,7 +274,6 @@
 		Vm.showWait(this, true);
 		inf.exec();
 		inf.waitUntilPainted(100);
-		// if (pref.debug) pref.log(MyLocale.getMsg(4203, "Loading list of maps..."));
 		resetCenterOfMap();
 		boolean saveGpsIgnoreStatus = dontUpdatePos;
 		dontUpdatePos = true;
@@ -674,7 +698,6 @@
 										} // this happens if a position jump occured
 								}}}}}}} // close all IFs
 		Vm.gc(); // call garbage collection
-		//Vm.debug("Overlayrearanged"+TrackOverlays.toString());
 	}
 
 	public void ShowLastAddedPoint(Track tr) {
@@ -803,7 +826,6 @@
 		if (currentMap == null) return null;
 		Point coords = currentMap.calcMapXY(ll);
 		Point mapPos = getMapPositionOnScreen();
-		//		Vm.debug("getXYinMap, posCiLat: "+posCircleLat+"poscLOn: "+ posCircleLon+"gotoLat: "+ lat + "gotoLon: "+ lon+" mapPosX: "+mapPos.x+"mapposY"+mapPos.y);
 		return new Point(coords.x + mapPos.x, coords.y + mapPos.y);
 	}
 
@@ -980,7 +1002,7 @@
 	public void updatePosition(CWPoint where){
 		if (dontUpdatePos || loadingMapList) return; // avoid multi-threading problems
 		loadBestMap(where);
-		if (width==0 || height==0) { Vm.debug("no window shown"); return; } // why is this called with these values
+		if (width==0 || height==0) { pref.log("[MovingMap:updatePosition]no window shown"); return; } // why is this called with these values
 		updateOnlyPosition(where, true);
 		Point mapPos = getMapPositionOnScreen();
 		boolean screenNotCompletlyCovered = (mmp.mapImage == null)
@@ -1332,7 +1354,6 @@
 			r.width = blackArea.x + offsetX;
 			r.height = whiteArea.height;
 			rectangles.add(r);
-			// if (pref.debug) {pref.log("add whitearea : "+SRect(r));}
 		}
 		if (blackArea.y > whiteArea.y) {
 			Rect r= new Rect ();
@@ -1341,7 +1362,6 @@
 			r.width = whiteArea.width;
 			r.height = blackArea.y + offsetY;
 			rectangles.add(r);
-			// if (pref.debug) {pref.log("add whitearea : "+SRect(r));}
 		}
 		if ((blackArea.y + blackArea.height) <  whiteArea.y + whiteArea.height) {
 			Rect r= new Rect ();
@@ -1350,7 +1370,6 @@
 			r.width = whiteArea.width;
 			r.height = (whiteArea.y + whiteArea.height) - r.y;
 			rectangles.add(r);
-			// if (pref.debug) {pref.log("add whitearea : "+SRect(r));}
 		}
 		if ((blackArea.x + blackArea.width)<  whiteArea.x + whiteArea.width) {
 			Rect r= new Rect ();
@@ -1359,7 +1378,6 @@
 			r.width = (whiteArea.x + whiteArea.width) - r.x;
 			r.height = whiteArea.height;
 			rectangles.add(r);
-			// if (pref.debug) {pref.log("add whitearea : "+SRect(r));}
 		}
 	}
 
@@ -1677,7 +1695,7 @@
 				dontUpdatePos = saveIgnoreStatus;
 			} catch (IllegalArgumentException e) { 
 				// thrown by new AniImage() in ewe-vm if file not found;
-				pref.log("IllegalArgumentException");
+				pref.log("[MovingMap:setMap]IllegalArgumentException",e,true);
 				if (mmp.mapImage != null) {
 					mmp.removeImage(mmp.mapImage);
 					mmp.mapImage.free();
@@ -1689,7 +1707,7 @@
 				(new MessageBox(MyLocale.getMsg(4207, "Error"), MyLocale.getMsg(4218, "Could not load map: \n")+ newmap.getImageFilename(), FormBase.OKB)).execute();
 				dontUpdatePos = saveIgnoreStatus;
 			} catch (OutOfMemoryError e) {
-				pref.log("OutOfMemoryError");
+				pref.log("[MovingMap:setMap]OutOfMemoryError",e,true);
 				if (mmp.mapImage != null) {
 					mmp.removeImage(mmp.mapImage);
 					mmp.mapImage.free();
@@ -1704,7 +1722,7 @@
 						FormBase.OKB)).execute();
 				dontUpdatePos = saveIgnoreStatus;
 			}catch (SystemResourceException e) {
-				pref.log("SystemResourceException");
+				pref.log("[MovingMap:setMap]SystemResourceException",e,true);
 				if (mmp.mapImage != null) {
 					mmp.removeImage(mmp.mapImage);
 					mmp.mapImage.free();
@@ -1919,14 +1937,6 @@
 		dontUpdatePos = savegpsstatus;
 	}
 
-	/*	public void gotFocus(int how) {
-		super.gotFocus(how);
-		Dimension ws = getSize(null);
-		onWindowResize(ws.width, ws.height);
-		Vm.debug(ws.width + " h: "+ws.height);
-		this.setPreferredSize(width, height)
-	}
-	 */
 	public void onEvent(Event ev){
 		if(ev instanceof FormEvent && (ev.type == FormEvent.CLOSED )){
 			running = false;
@@ -2254,7 +2264,6 @@
 		else gpspos = null;
 		ListBox l = new ListBox(mm.maps, gpspos, mm.getGotoPos(), mm.currentMap);
 		if(l.execute() == FormBase.IDOK){
-//			Vm.debug("Trying map: " + l.selectedMap.fileName);
 			mm.autoSelectMap = false;
 			if (l.selectedMap.isInBound(mm.posCircle.where) || l.selectedMap.getImageFilename().length()==0) {
 				mm.setMap(l.selectedMap, mm.posCircle.where);
@@ -2522,7 +2531,6 @@
 			if (it != ""){
 				it = it.substring(0,it.indexOf(':'));
 				mapNum = Convert.toInt(it);
-				//	Vm.debug("Kartennummer: " + mapNum);
 				try {
 				selectedMap = ((MapListEntry)maps.get(mapNum)).getMap();
 				selected = true;

Modified: trunk/src/CacheWolf/navi/MovingMapCache.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMapCache.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/MovingMapCache.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import ewe.fx.Dimension;

Modified: trunk/src/CacheWolf/navi/Navigate.java
===================================================================
--- trunk/src/CacheWolf/navi/Navigate.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/Navigate.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,38 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
  
+import net.ax86.GPS;
+import net.ax86.GPSException;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
 import CacheWolf.CWPoint;
+import CacheWolf.CacheHolder;
 import CacheWolf.Global;
 import CacheWolf.MyLocale;
 import CacheWolf.Preferences;
@@ -10,20 +42,11 @@
 import ewe.io.SerialPortOptions;
 import ewe.net.Socket;
 import ewe.sys.mThread;
-import ewe.sys.Vm;
 import ewe.ui.FormBase;
 import ewe.ui.MessageBox;
 import ewe.util.mString;
-import CacheWolf.CacheHolder;
-import CacheWolf.navi.MovingMap;
 
-// Stuff needed by the GpsdThread class:
-import net.ax86.GPS;
-import net.ax86.GPSException;
-import org.json.JSONObject;
-import org.json.JSONException;
 
-
 /**
  * Non-Gui Class to handle all things regarding navigation
  * (GPS, Sun direction etc.)
@@ -202,7 +225,6 @@
 	public void ticked() {
 		int fix = gpsPos.getFix();
 		if (fix > 0 && (gpsPos.getSats()>= 0)) {
-			//Vm.debug("currTrack.add: before");
 			if (curTrack == null) curTrack = new Track(trackColor);
 			try {
 				curTrack.add(gpsPos);
@@ -215,7 +237,6 @@
 				SkyOrientation.getSunAzimut(gpsPos.Time, gpsPos.Date, gpsPos.latDec, gpsPos.lonDec);
 				double jd = SkyOrientation.utc2juliandate(gpsPos.Time, gpsPos.Date);
 				skyOrientationDir = SkyOrientation.getLuminaryDir(luminary, jd, gpsPos);
-				// ewe.sys.Vm.debug("neu: "+ skyOrientationDir.lonDec+ "jd: " + jd);
 			} catch (NumberFormatException e) { // irgendeine Info zu Berechnung des Sonnenaziumt fehlt (insbesondere Datum und Uhrzeit sind nicht unbedingt gleichzeitig verf?gbar wenn es einen Fix gibt)
 				skyOrientationDir.set(-361, -361); // any value out of range (bigger than 360) will prevent drawArrows from drawing it
 			}
@@ -328,14 +349,6 @@
 			if (noData > 5) {
 				myGPS.noDataError();
 			}
-
-/*
-			Vm.debug( "------------------" );
-			Vm.debug( "noData        : " + noData );
-			Vm.debug( "notInterpreted: " + notInterpreted );
-			Vm.debug( "gotValidData  : " + gotValidData );
-*/
-			//myGPS.printAll();
 		} // while
 
 		myGPS.noData();
@@ -384,7 +397,6 @@
 			if (gpsdSocket != null)	{
 				gpsResult = getGpsdData("ADPQTV\r\n");
 				if (gpsResult!=null) {
-					//Vm.debug("P -> " + gpsResult);
 					noData = 0;
 					if (myGPS.examineOldGpsd(gpsResult))
 						notinterpreted = 0;
@@ -469,7 +481,6 @@
 		while (run){
 			try {
 				sleep(1000);
-				//Vm.debug("Loop? " + noData);
 				noData++;
 				if (noData > 5) { myGPS.noDataError(); }
 			} catch (InterruptedException e) {
@@ -477,7 +488,6 @@
 			}
 			if (comSp != null)	{
 				comLength = comSp.nonBlockingRead(comBuff, 0 ,comBuff.length);
-				//Vm.debug("Length: " + comBuff.length);
 				if (comLength > 0)	{
 					noData = 0;
 					String str = mString.fromAscii(comBuff, 0, comLength);
@@ -486,7 +496,6 @@
 							tcpConn.write(comBuff, 0, comLength);
 						} catch (IOException e) { tcpForward = false; }
 					}
-					//Vm.debug(str);
 					if (myGPS.examine(str)) notinterpreted = 0; else notinterpreted++;
 					if (notinterpreted > 22) myGPS.noInterpretableData();
 				}

Modified: trunk/src/CacheWolf/navi/ProjectedPoint.java
===================================================================
--- trunk/src/CacheWolf/navi/ProjectedPoint.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/ProjectedPoint.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;

Modified: trunk/src/CacheWolf/navi/Projection.java
===================================================================
--- trunk/src/CacheWolf/navi/Projection.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/Projection.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;

Modified: trunk/src/CacheWolf/navi/SelectMap.java
===================================================================
--- trunk/src/CacheWolf/navi/SelectMap.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/SelectMap.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.Global;
@@ -4,8 +29,18 @@
 import CacheWolf.InfoBox;
 import CacheWolf.MyLocale;
 import CacheWolf.utils.FileBugfix;
-import ewe.io.*;
-import ewe.ui.*;
+import ewe.io.File;
+import ewe.io.FileBase;
+import ewe.ui.CellConstants;
+import ewe.ui.ControlEvent;
+import ewe.ui.Event;
+import ewe.ui.Form;
+import ewe.ui.ListEvent;
+import ewe.ui.MenuEvent;
+import ewe.ui.ScrollBarPanel;
+import ewe.ui.mButton;
+import ewe.ui.mLabel;
+import ewe.ui.mList;
 
 /**
 *	This class displays a user interface to select maps that should be or are already calibrated
@@ -51,7 +86,7 @@
 				}
 			}
 		}catch(Exception ex){
-			//Vm.debug("Problem retrieveing map files");
+			Global.getPref().log("Problem retrieveing map files",ex);
 		}
 		inf.close(0);
 	}

Modified: trunk/src/CacheWolf/navi/SkyOrientation.java
===================================================================
--- trunk/src/CacheWolf/navi/SkyOrientation.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/SkyOrientation.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -170,14 +195,7 @@
 			if (azimutNenner<0) azimut +=180.;
 			// null = Sueden auf Null = Norden umrechnen
 			azimut +=180.;
-			if (azimut >360.) azimut -=360.;
-			//ewe.sys.Vm.debug("sunAzimut1: " + azimut);
-			//ewe.sys.Vm.debug("sun Elevation: " +getSunAzimut2 (utc, datum, lat, lon).latDec);
-			//CWPoint MoonDir = getMoonDir(jd, new CWPoint(lat, lon));
-			//ewe.sys.Vm.debug("Moon Elevation: " + MoonDir.latDec + "Moon Azimut: " + MoonDir.lonDec);
-			//CWPoint OrionDir = getAlnilamDir(jd, new CWPoint(lat, lon));
-			//ewe.sys.Vm.debug("Alnilam (Orion) Elevation: " + OrionDir.latDec + "Alnilam (Orion) Azimut: " + OrionDir.lonDec );
-			
+			if (azimut >360.) azimut -=360.;			
 			return azimut;
 		} catch (IndexOutOfBoundsException e) {
 			// wird von substring geworfen wenn datum / utc nicht genug Ziffern haben

Modified: trunk/src/CacheWolf/navi/Track.java
===================================================================
--- trunk/src/CacheWolf/navi/Track.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/Track.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,6 +1,31 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
-import ewe.fx.*;
+import ewe.fx.Color;
 
 public class Track {
 	public Color trackColor;

Modified: trunk/src/CacheWolf/navi/TrackOverlay.java
===================================================================
--- trunk/src/CacheWolf/navi/TrackOverlay.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/TrackOverlay.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,30 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
-//import java.awt.image.BufferedImage;
-
 import ewe.fx.Color;
 import ewe.fx.Graphics;
 import ewe.fx.IImage;
@@ -116,21 +139,10 @@
 	 */
 	public boolean paintPoint(Color f, TrackPoint where){
 		if (where.latDec < bottomRight.latDec || where.latDec > topLeft.latDec || where.lonDec < topLeft.lonDec || where.lonDec > bottomRight.lonDec) return false;
-		//ewe.sys.Vm.debug("showlastaddedpoint, lat: "+lat+"   lon: "+lon);
 		Point p = trans.calcMapXY(where);
 		int x = p.x - pixelShift.x;
 		int y = p.y - pixelShift.y;
-		//draw.drawLine(x, y, x, y);
-		//ewe.sys.Vm.debug("showlastaddedpoint, x: "+x+"   y: "+y+"loc.x: "+location.x+"  loc.y:"+location.y);
 		draw.fillRect(x-1, y-1, 3, 3);
-		//drawMask.fillRect(x-1, y-1, 3, 3);
-		/*	if (image.bufferedImage != null) { // funktioniert gut, allerdings nur in der java-VM wenn ewe.fx.Image.bufferedImage als public definiert
-			int yd;
-			for  (int xd=-1; xd<=1; xd++) {
-				for (yd=-1; yd<=1; yd++) {
-					((BufferedImage)image.bufferedImage).setRGB(x+xd, y+yd, -65536);
-				}
-			} */
 		if (imageChangesDontShow) {
 			try {addPixelIfNeccessary(x, y, f); }
 			catch (IndexOutOfBoundsException e) // thrown when there are more than pixels stored than possible

Modified: trunk/src/CacheWolf/navi/TrackPoint.java
===================================================================
--- trunk/src/CacheWolf/navi/TrackPoint.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/TrackPoint.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 /**

Modified: trunk/src/CacheWolf/navi/TransformCoordinates.java
===================================================================
--- trunk/src/CacheWolf/navi/TransformCoordinates.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/TransformCoordinates.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;
@@ -3,7 +28,5 @@
 import CacheWolf.Matrix;
 
-import java.lang.Math;
 
-
 /**
  * Class to transform coordinates and shift datums
@@ -326,7 +349,6 @@
 		XyzCoordinates xyztarget = transform(xyzWgs, transparams.inverted);
 		CWPoint tll = xyz2Latlon(xyztarget, transparams.ellip);
 		ProjectedPoint ret = new ProjectedPoint(tll, epsg_localsystem, false, isLocalsystem);
-		//Vm.debug("wgs84: " + wgs84.latDec + " lon: " + wgs84.lonDec + ", Projected: " + ret.toString());
 		return ret;
 	}
 

Modified: trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java
===================================================================
--- trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/TransformCoordinatesProperties.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
 import CacheWolf.CWPoint;

Modified: trunk/src/CacheWolf/navi/UTMProjection.java
===================================================================
--- trunk/src/CacheWolf/navi/UTMProjection.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/UTMProjection.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,32 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi;
 
+import CacheWolf.CWPoint;
 import ewe.sys.Convert;
-import CacheWolf.CWPoint;
 
 
 public final class UTMProjection extends Projection {

Modified: trunk/src/CacheWolf/navi/touchControls/AniImageGrayScaled.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/AniImageGrayScaled.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/touchControls/AniImageGrayScaled.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi.touchControls;
 
 import ewe.fx.Graphics;

Modified: trunk/src/CacheWolf/navi/touchControls/ICommandListener.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/ICommandListener.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/touchControls/ICommandListener.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,71 +1,61 @@
-package CacheWolf.navi.touchControls;
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
 
-public interface ICommandListener {
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
 
-	public static final String SELECT_MAP = "selectMap";
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
 
-	public static final String CHANGE_MAP_DIR = "changeMapDir";
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
 
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
+package CacheWolf.navi.touchControls;
+public interface ICommandListener {
+	public static final String SELECT_MAP = "selectMap";
+	public static final String CHANGE_MAP_DIR = "changeMapDir";
 	public static final String MOVE_TO_GPS = "moveToGps";
-
 	public static final String MOVE_TO_DEST = "moveToDest";
-
 	public static final String MOVE_TO_CENTER = "moveToCenter";
-
 	public static final String ALL_CACHES_RES = "allCachesRes";
-
 	public static final String MORE_OVERVIEW = "moreOverview";
-
 	public static final String MORE_DETAILS = "moreDetails";
-
 	public static final String KEEP_MAN_RESOLUTION = "keepManResolution";
-
 	public static final String HIGHEST_RES = "highestResolution";
-
 	public static final String HIGHEST_RES_GPS_DEST = "highestResGpsDest";
-
 	public static final String SHOW_MAP = "showMap";
-
 	public static final String HIDE_MAP = "hideMap";
-
 	public static final String SHOW_MENU = "menu";
-
 	public static final String HIDE_MENU = "hide_menu";
-	
 	public static final String SHOW_CACHES = "show_caches";
-
 	public static final String HIDE_CACHES = "hide_caches";
-
 	public static final String ZOOMIN = "zoomin";
-
 	public static final String ZOOMOUT = "zoomout";
-	
 	public static final String ZOOM_1_TO_1 = "1to1";
-
 	public static final String MAP_MOVED = "map_moved";
-	
 	public static final String POS_UPDATED = "pos_updated";
-	
 	public static final String GOTO_UPDATED = "goto_updated";
-
 	public static final String CLOSE = "close";
-
 	public static final String FILL_MAP = "fillMap";
-	
 	public static final String NO_FILL_MAP = "nofillMap";
-
 	public static final String CONTEXT_GOTO = "context_goto";
-
 	public static final String CONTEXT_NEW_WAY_POINT = "context_nwp";
-
 	public static final String CONTEXT_OPEN_CACHE_DESC = "context_ocDesc";
-
 	public static final String CONTEXT_OPEN_CACHE_DETAIL =  "context_ocDetail";
-
 	public static final String CONTEXT_GOTO_CACHE = "context_goto_cache";
-
 	public static final String CONTEXT_TOUR = "context_tour";
-
 	public boolean handleCommand(String command);
-
 }

Modified: trunk/src/CacheWolf/navi/touchControls/ImageWithText.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/ImageWithText.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/touchControls/ImageWithText.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi.touchControls;
 
 import CacheWolf.navi.touchControls.MovingMapControlItemText.TextOptions;
@@ -12,23 +37,14 @@
 import ewe.ui.MainWindow;
 
 public class ImageWithText extends AniImage {
-
 	String[] text = null;
-
 	final Font imageFont;
-
 	private FontMetrics fm;
-
 	private int textHeight;
-
 	private int textWidth = 0;
-
 	private int startlineWidth = 0;
-
 	private int xProperties = 0;
-
 	private TextOptions tOptions;;
-
 	public ImageWithText(Image imageSrc, TextOptions tOptions) {
 		super(imageSrc);
 		imageFont = new Font("Helvetica", Font.BOLD, tOptions.getFontSize());

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi.touchControls;
 
 import CacheWolf.Global;
@@ -5,7 +30,6 @@
 import CacheWolf.navi.touchControls.MovingMapControls.Role;
 import ewe.fx.Image;
 import ewe.graphics.AniImage;
-import ewe.sys.Vm;
 import ewe.util.Enumeration;
 import ewe.util.Hashtable;
 import ewe.util.mString;
@@ -93,8 +117,7 @@
 				image.setPixels(imagePixels, 0, 0, 0, imageW, imageH, 0);
 
 			} else
-				Vm.debug("icon " + iconSrc + " is bigger than " + source
-						+ "! Icon not loaded");
+				Global.getPref().log("icon " + iconSrc + " is bigger than " + source+ "! Icon not loaded",null);
 
 		}
 
@@ -183,7 +206,7 @@
 
 			Boolean thisElement = (Boolean) roles.get(nextKey);
 			if (!overallRoles.containsKey(nextKey)) {
-				Vm.debug("Lookup role " + nextKey + " not possible");
+				Global.getPref().log("Lookup role " + nextKey + " not possible",null);
 				return false;
 			}
 

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi.touchControls;
 
 

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi.touchControls;
 
 

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi.touchControls;
 
 import CacheWolf.Global;
@@ -2,6 +27,4 @@
 import CacheWolf.MyLocale;
-import CacheWolf.Preferences;
 import CacheWolf.navi.touchControls.MovingMapControlItemText.TextOptions;
 import CacheWolf.navi.touchControls.MovingMapControls.Role;
-import ewe.fx.Dimension;
 import ewe.io.File;
@@ -143,7 +166,7 @@
 				try {
 					fontsize = Integer.parseInt(fontsizeString);
 				} catch (Exception e) {
-					Vm.debug("fontsize not an int " + fontsizeString);
+					Global.getPref().log("fontsize not an int " + fontsizeString,e);
 				}
 			}
 		}
@@ -191,16 +214,16 @@
 			}
 
 			if (xpos < 0) {
-				Vm.debug("the x position of the button has to be set! "
+				Global.getPref().log("the x position of the button has to be set! "
 						+ "use attribute '" + BUTTON_ATTR_FROM_LEFT + "' or '"
-						+ BUTTON_ATTR_FROM_RIGHT + "'");
+						+ BUTTON_ATTR_FROM_RIGHT + "'",null);
 				xpos = 0;
 			}
 
 			if (ypos < 0) {
-				Vm.debug("the y position of the button has to be set! "
+				Global.getPref().log("the y position of the button has to be set! "
 						+ "use attribute '" + BUTTON_ATTR_FROM_TOP + "' or '"
-						+ BUTTON_ATTR_FROM_BOTTOM + "'");
+						+ BUTTON_ATTR_FROM_BOTTOM + "'",null);
 				ypos = 0;
 			}
 
@@ -217,13 +240,13 @@
 			String alignText = attributes.getValue(BUTTON_ATTR_ALIGNTEXT);
 			String context = attributes.getValue(BUTTON_ATTR_CONTEXT);
 			if (visibility == null) {
-				Vm.debug("read MovingMap settings: " + BUTTON_ATTR_VISIBILITY
-						+ " not set!");
+				Global.getPref().log("read MovingMap settings: " + BUTTON_ATTR_VISIBILITY
+						+ " not set!",null);
 				return;
 			}
 			if (action == null) {
-				Vm.debug("read MovingMap settings: " + BUTTON_ATTR_ACTION
-						+ " not set!");
+				Global.getPref().log("read MovingMap settings: " + BUTTON_ATTR_ACTION
+						+ " not set!",null);
 				return;
 			}
 			int alphavalue = getIntFromFile(attributes, BUTTON_ATTR_ALPHA, -1);
@@ -232,7 +255,7 @@
 
 			if (imageLocation == null) {
 				// something not set
-				Vm.debug("Image for '" + localeDefault + "' not found");
+				Global.getPref().log("Image for '" + localeDefault + "' not found",null);
 				return;
 			}
 			else {
@@ -280,7 +303,7 @@
 			try {
 				defaultValue = Integer.parseInt(entry);
 			} catch (Exception e) {
-				Vm.debug("Can not read int for filed " + field + ": " + entry);
+				Global.getPref().log("Can not read int for filed " + field + ": " + entry,e);
 			}
 		}
 		return defaultValue;

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.navi.touchControls;
 
 import CacheWolf.Global;
@@ -15,33 +40,19 @@
  */
 
 public class MovingMapControls implements ICommandListener {
-
 	private static final String ROLE_ZOOM_MANUALLY = "zoom_manually";
-
 	private static final String ROLE_FILL_WHITE = "fill_white";
-
 	private static final String ROLE_SHOW_CACHES = "show_caches";
-
 	private static final String ROLE_SHOW_MAP = "show_map";
-
 	public static final String ROLE_MENU = "menu";
-	
 	public static final String ROLE_DONE = "done";
-
 	public static final String ROLE_WORKING = "working";
-
 	Vector buttons = null;
-	
 	Vector visibleImages = null;
-
 	private boolean vga;
-
 	private MovingMap movingMap;
-
 	private int lastTime = Vm.getTimeStamp();
-
 	private Hashtable roles = new Hashtable();
-
 	public MovingMapControls(MovingMap movingMap) {
 		if (movingMap == null) {
 			throw new IllegalArgumentException("moving map not set");
@@ -58,8 +69,7 @@
 		buttons = movingMapControlSettings.getMenuItems();
 		
 		checkStatesofRole(Global.getPref());
-		
-		
+				
 		visibleImages = new Vector();
 
 		roles.put(ROLE_WORKING, new Role());

Modified: trunk/src/CacheWolf/utils/CWWrapper.java
===================================================================
--- trunk/src/CacheWolf/utils/CWWrapper.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/utils/CWWrapper.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.utils;
 
 import ewe.sys.Vm;
@@ -53,7 +78,6 @@
 				}
 			}
 		}
-		// CacheWolf.Global.getPref().log(arg);
 		return Vm.exec(cmd, arg, 0, wait);
 	}
 

Modified: trunk/src/CacheWolf/utils/FileBugfix.java
===================================================================
--- trunk/src/CacheWolf/utils/FileBugfix.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/utils/FileBugfix.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,10 +1,33 @@
-/**
- * 
- */
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.utils;
 
 import CacheWolf.STRreplace;
-import ewe.io.*;
+import ewe.io.File;
+import ewe.io.FileBase;
 import ewe.util.FileComparer;
 import ewe.util.mString;
 /**

Modified: trunk/src/CacheWolf/utils/MessageBoxFixed.java
===================================================================
--- trunk/src/CacheWolf/utils/MessageBoxFixed.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/utils/MessageBoxFixed.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,7 +1,30 @@
-/* $Id$ */
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
 
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.utils;
-
+/* $Id$ */
 import ewe.sys.mThread;
 import ewe.ui.MessageBox;
 /**
@@ -40,7 +63,6 @@
 		done = false;
 		while (!done) {
 			try { mThread.sleep(100); } catch (InterruptedException e) {
-		//		Vm.debug("interrupted"); // never reached, even if interrupted is explicitly called
 			}
 		}
 		return ret;

Modified: trunk/src/CacheWolf/utils/MutableInteger.java
===================================================================
--- trunk/src/CacheWolf/utils/MutableInteger.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/utils/MutableInteger.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,28 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
 package CacheWolf.utils;
 
 /**

Modified: trunk/src/CacheWolf/utils/URLUTF8Encoder.java
===================================================================
--- trunk/src/CacheWolf/utils/URLUTF8Encoder.java	2010-09-13 12:43:58 UTC (rev 2782)
+++ trunk/src/CacheWolf/utils/URLUTF8Encoder.java	2010-09-17 11:28:11 UTC (rev 2783)
@@ -1,3 +1,29 @@
+    /*
+    GNU General Public License
+    CacheWolf is a software for PocketPC, Win and Linux that
+    enables paperless caching.
+    It supports the sites geocaching.com and opencaching.de
+
+    Copyright (C) 2006  CacheWolf development team
+    See http://developer.berlios.de/projects/cachewolf/
+    for more information.
+    Contact: 	bilbowolf at users.berlios.de
+    			kalli at users.berlios.de
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; version 2 of the License.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+    */
+package CacheWolf.utils;
 /**
  * Provides a method to encode any string into a URL-safe
  * form.
@@ -25,7 +51,6 @@
  *
  * [1] http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
  */
-package CacheWolf.utils;
 public class URLUTF8Encoder
 {
 



From araber95 at mail.berlios.de  Fri Sep 17 08:12:02 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Fri, 17 Sep 2010 08:12:02 PM +0200
Subject: [Cachewolf-svn] r2784 - trunk/res_noewe/languages
Message-ID: <20100917181202.1B2E648105A@sheep.berlios.de>

Author: araber95
Date: 2010-09-17 20:12:01 +0200 (Fri, 17 Sep 2010)
New Revision: 2784

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
Log:
applying last software changes to language files

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-17 11:28:11 UTC (rev 2783)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-17 18:12:01 UTC (rev 2784)
@@ -93,15 +93,15 @@
 161=Zeige Blacklist
 162=Kalibrierte herunterladen
 170=Datenverzeichnis w??hlen
-171=Profil existiert nicht:%20
+171=Profil existiert nicht:+
 172=Kann das Kartenverzeichnis nicht erstellen:
 173=GPSBabel:
 174=Kurznamen
 175=Import
-176=Erster Start %0a Bitte legen Sie das Datenverzeichnis fest %0a und ein neues Profil an %0a%0a Nur f??r Experten: %0a Konnte Einstellungsdatei nicht lesen:
+176=Erster Start \n Bitte legen Sie das Datenverzeichnis fest \n und ein neues Profil an \n\n Nur f??r Experten: \n Konnte Einstellungsdatei nicht lesen:
 177=--frei geworden--
 178=Versionspr??fung
-179=Sie haben die%0aaktuelle Version.
+179=Sie haben die\naktuelle Version.
 180=Caches hierher
 181=ziehen
 182=Neue Liste
@@ -117,7 +117,7 @@
 192=??nderungen speichern
 193=Addis hinzuf??gen
 195=Derzeitiges Zentrum
-196=Gesamte # Caches (GC&OC)%0aGesamt # sichtbar%0aGesamt # gefunden
+196=Gesamte # Caches (GC&OC)\nGesamt # sichtbar\nGesamt # gefunden
 197=Cachetour anzeigen/verbergen
 198=Cachetour
 199=Zu Cachetour hinzuf??gen
@@ -131,8 +131,8 @@
 207=**frei/nicht benutzt / veraltet**
 208=Index neu erstellen
 209=Wiederaufbau Index
-210=Caches gel??scht:%20
-211=Caches hinzugef??gt:%20
+210=Caches gel??scht:+
+211=Caches hinzugef??gt:+
 212=Alle .xml Dateien (und Bilder) l??schen, die nicht in index.xml sind
 213=Verwaiste .xml Dateien l??schen
 214=Neuer Wegpunkt
@@ -145,7 +145,7 @@
 221=Filter ??berschreiben?
 222=Der Filter existiert schon. ??berschreiben?
 223=Filter l??schen?
-224=%20- Den gespeicherten Filter l??schen?
+224=+- Den gespeicherten Filter l??schen?
 225=Auch in Logs
 226=Das Profil kann nicht gel??scht werden.
 227=Das aktive Profil kann nicht gel??scht werden.
@@ -176,7 +176,7 @@
 272=CacheWolf Version:
 273=Filter ein/aus
 274=AutoSort aus
-275=Der Wegpunkt existiert schon!%0aDen Wegpunkt vor dem Verlassen der Details bitte umbenennen!
+275=Der Wegpunkt existiert schon!\nDen Wegpunkt vor dem Verlassen der Details bitte umbenennen!
 299=Regul??rer Ausdruck
 300=Type:
 301=Gr????e:
@@ -237,9 +237,9 @@
 588=L??ngeneinheiten
 589=Metrisch (km)
 590=Imperial (Meilen)
-591=Leer f??r Sprache des Betriebssystems%0aoder 2 Zeichen f??r andere Sprache , z.B. DE, EN
+591=Leer f??r Sprache des Betriebssystems\noder 2 Zeichen f??r andere Sprache , z.B. DE, EN
 592=Sprache (braucht Neustart)
-593=Password ist hier optional.%0aNur eingeben wenn es in pref.xml%0agespeichert werden soll.
+593=Password ist hier optional.\nNur eingeben wenn es in pref.xml\ngespeichert werden soll.
 594=Passwt
 595=Liste
 596=Name
@@ -391,8 +391,8 @@
 1026=Bewertung
 1027=OC-Idx
 1028=) l??schen?
-1029=Es gibt angew??hlte aber nicht sichtbare Wegpunkte.%0a(Caches:%20
-1030=, zus??tzliche Wegpunkte:%20
+1029=Es gibt angew??hlte aber nicht sichtbare Wegpunkte.\n(Caches:+
+1030=, zus??tzliche Wegpunkte:+
 1031=Diese auch l??schen?
 1032=Pfad zum Browser:
 1033=ist falsch!
@@ -477,8 +477,8 @@
 1507=Koordinaten ung??ltig:
 1508=Breite
 1509=L??nge
-1510=Keine Daten vom GPS%0aVerbindung zum seriellen Port geschlossen
-1511=Kann Daten vom GPS nicht interpretieren%0a M??gliche Gr??nde:%0afalscher Port,%0afalsche Baudrate,%0akein NMEA-Protokoll%0aVerbindung zum seriellen Port geschlossen%0aLetzter String:
+1510=Keine Daten vom GPS\nVerbindung zum seriellen Port geschlossen
+1511=Kann Daten vom GPS nicht interpretieren\n M??gliche Gr??nde:\nfalscher Port,\nfalsche Baudrate,\nkein NMEA-Protokoll\nVerbindung zum seriellen Port geschlossen\nLetzter String:
 1512=Wegpunkt
 1513=Kann Karte nicht ohne g??ltige Koordinaten anzeigen - Bitte Koordinaten als Ziel, Zentrum oder im gew??hlten Cache eingeben oder GPS starten
 1514=Kann Entfernungen nicht neuberechnen, weil keine GPS-Position gesetzt ist (kein GPS-Empfang ist/war)
@@ -499,14 +499,14 @@
 1614=Fehler beim Entpacken der Update-Datei
 1615=Fehler beim Interpretieren der Update-Datei, Status:
 1616=Fehler: Konnte Update-Datei von opencaching.de nicht laden
-1617=Ignoriere Fehler in html-Cache-Beschreibung: "<img" ohne "src=" in cache%20
-1618=Ignoriere Fehler in Cache:%20
-1619=: konnte Bild von folgender URL nicht laden:%20
-1620=laden eingebundener Bilder:%20
-1621=Fehler beim Interpretieren%0a der Update-Datei,%0aDies ist vermutlich ein Fehler bei Opencaching.de%0aSp??ter erneut versuchen%0a Status:
+1617=Ignoriere Fehler in html-Cache-Beschreibung: "<img" ohne "src=" in cache+
+1618=Ignoriere Fehler in Cache:+
+1619=: konnte Bild von folgender URL nicht laden:+
+1620=laden eingebundener Bilder:+
+1621=Fehler beim Interpretieren\n der Update-Datei,\nDies ist vermutlich ein Fehler bei Opencaching.de\nSp??ter erneut versuchen\n Status:
 1622=Gefundene Caches nicht laden
 1623=Importiere h??chstens
-1624=%20Cache (leer=alle)
+1624=+Cache (leer=alle)
 1625=TBs laden
 1626=Speichere bis zu x Logs:
 1627=Alle Caches
@@ -527,7 +527,7 @@
 1710=Kann leere Zeichenkette nicht z??hlen
 1711=Ersatzzeichenketten m??ssen gleiche L??nge haben
 1712=Unzul??ssige Koordinate:
-1713=Falsches Koordinatenformat. Erlaubt sind cw / dd / dmm / dms /%20
+1713=Falsches Koordinatenformat. Erlaubt sind cw / dd / dmm / dms /+
 1714=Goto: Wegpunkt existiert nicht:
 1715=instr: Startposition nicht in Zeichenkette
 1716=mid: Ganzzahliger Parameter erwartet
@@ -559,7 +559,7 @@
 1744=Kreuzpeilung mit identischen Peilungswinkeln nicht m??glich
 1800=Georeferenzierte Karten herunterladen
 1801=Kacheln herunterladen
-1802=Laden georeferenzierter Karten%0a W??hle Onlinedienst:
+1802=Laden georeferenzierter Karten\n W??hle Onlinedienst:
 1803=f??r
 1804=alle
 1805=selektierte
@@ -784,7 +784,7 @@
 2679=keine Verpflegungsm??glichkeit
 2680=Verpflegungsm??glichkeit nahebei
 3000=Schlie??en
-4000=Geladene Caches:%20
+4000=Geladene Caches:+
 4001=GPX-Dateien von Opencaching enthalten keine Informationen zu Bildern, sie werden nicht heruntergeladen. Am besten Caches von Opencaching holen per Men?? /Anwendung/Import/von Opencaching
 4100=Verzeichnis w??hlen:
 4101=Karten
@@ -798,34 +798,34 @@
 4109=Lade Karten...
 4110=Lade
 4111=Koordinaten m??ssen in dem Format N XX XX,XXX E XXX XX,XXX eingegeben werden
-4112=E/A-Fehler beim Kopieren von:%20
-4113=%20nach:%20
-4114=%20Fehler:%20
-4115=Fehler: Kann Bild nicht dekodieren:%20
-4116=%20-%20Bild nicht kopiert
-4117=Fehler beim Importieren der .map-Datei:%20
+4112=E/A-Fehler beim Kopieren von:+
+4113=+nach:+
+4114=+Fehler:+
+4115=Fehler: Kann Bild nicht dekodieren:+
+4116=+-+Bild nicht kopiert
+4117=Fehler beim Importieren der .map-Datei:+
 4118=E/A-Fehler beim Lesen oder Schreiben der Kalibrierungsdatei
-4119=Keine Kalibrierungsdatei gefunden f??r:%20
+4119=Keine Kalibrierungsdatei gefunden f??r:+
 4120=Fertig.
 4200=Kartenverzeichnis w??hlen
 4201=Information
 4203=Lade Kartenliste...
-4204=Es steht keine kalibrierte Karte zur Verf??gung %0a Bitte w??hlen Sie einen Ma??stab,%0a in dem der Track und die markierten Caches angezeigt werden sollen. %0a Sie k??nnen Karten herunterladen im Hauptmen??: Anwendung/Karten/kalibrierte herunterladen
-4206=Entf:%20
+4204=Es steht keine kalibrierte Karte zur Verf??gung \n Bitte w??hlen Sie einen Ma??stab,\n in dem der Track und die markierten Caches angezeigt werden sollen. \n Sie k??nnen Karten herunterladen im Hauptmen??: Anwendung/Karten/kalibrierte herunterladen
+4206=Entf:+
 4207=Fehler
-4208=Programmfehler: %0a nichterlaubter mapChangeModus:%20
-4210=Die mitwandernde Karte kann nicht ohne Karte gestartet werden. %0a Bitte w??hlen Sie eine %0a (evtl. eine leere)
-4211=Keine%20
+4208=Programmfehler: \n nichterlaubter mapChangeModus:+
+4210=Die mitwandernde Karte kann nicht ohne Karte gestartet werden. \n Bitte w??hlen Sie eine \n (evtl. eine leere)
+4211=Keine+
 4212=??bersichtlichere
 4213=detailliertere
-4214=%20Karte verf??gbar
+4214=+Karte verf??gbar
 4215=Keine Caches mit H??ckchen ausgew??hlt
 4216=Lade Karte...
 4217=Konnte zu folgender Datei geh??rendes Bild nicht finden:
 4218=Konnte folgende Karte nicht laden:
-4219=Nicht genug (RAM)-Speicher frei, %0a um folgende Karte zu laden:
-4220=Sie k??nnen versuchen, %0a alle Programme zu schlie??en %0a und CacheWolf neuzustarten
-4221=Nicht gen??gend Ressourcen verf??gbar:%20
+4219=Nicht genug (RAM)-Speicher frei, \n um folgende Karte zu laden:
+4220=Sie k??nnen versuchen, \n alle Programme zu schlie??en \n und CacheWolf neuzustarten
+4221=Nicht gen??gend Ressourcen verf??gbar:+
 4222=Fehler: (RAM) Speicher voll
 4230=Setze Ziel hier$z
 4231=Setze Ziel hier
@@ -872,7 +872,7 @@
 4275=--- Andere Karten ---
 4276=Abbrechen
 4277=Ausw??hlen
-4278=Kann folgende .wfl-Datei nicht laden:%20
+4278=Kann folgende .wfl-Datei nicht laden:+
 4279=Setze Ziel auf
 4280=Kleine Kacheln
 4281=Mittler Kacheln
@@ -884,41 +884,41 @@
 4294=Vergr??ssern
 4295=Mittelpunkt
 4296=Detaillierung
-4300=Leer 1 Punkt =%20
-4301=%20meter
-4302=Breite/L??nge au??erhalb des zul??ssigen Bereiches beim Lesen von%20
-4303=Zu wenig Zeilen in Datei%20
+4300=Leer 1 Punkt =+
+4301=+meter
+4302=Breite/L??nge au??erhalb des zul??ssigen Bereiches beim Lesen von+
+4303=Zu wenig Zeilen in Datei+
 4304=Zu wenig Punkte, um die Karte zu kalibrieren
-4305=Ung??ltige Transformationsparameter%0a (Matrix kann nicht invertiert werden)%0a in der Datei
+4305=Ung??ltige Transformationsparameter\n (Matrix kann nicht invertiert werden)\n in der Datei
 4306=Karte ist nicht georeferenziert
 4400=Warnung
 4401=Ignoriere Fehler: Konnte Daten nicht an Host weiterleiten:
 4402=F??r einen neuen Versuch, stoppe und starte GPS neu
 4403=Fehler
-4404=Konnte keine Verbindung zum GPS-Empf??nger %0a herstellen. Fehler beim ??ffnen des seriellen Ports
-4405=M??gliche Gr??nde:%0a Falscher Port %0a Ein anderes Programm blockiert den Anschluss %0a gilt nur auf Loox-Ger??ten: ge??ffneter Infrarot-Port blockiert das GPS
+4404=Konnte keine Verbindung zum GPS-Empf??nger \n herstellen. Fehler beim ??ffnen des seriellen Ports
+4405=M??gliche Gr??nde:\n Falscher Port \n Ein anderes Programm blockiert den Anschluss \n gilt nur auf Loox-Ger??ten: ge??ffneter Infrarot-Port blockiert das GPS
 4406=Kopieren Sie java_ewe.dll in das Verzeichnis des CacheWolf-Programms
-4407=Die vorgefundenen Dateien entsprechen nicht dem aktuellen Format.%0aDaher werden sie nun in das aktuelle Format konvertiert. Abh??ngig von der Gr????e des Profils und dem verwendeten Rechner kann das einige Minuten dauern. Wir bitten um Geduld.
+4407=Die vorgefundenen Dateien entsprechen nicht dem aktuellen Format.\nDaher werden sie nun in das aktuelle Format konvertiert. Abh??ngig von der Gr????e des Profils und dem verwendeten Rechner kann das einige Minuten dauern. Wir bitten um Geduld.
 4408=Konnte keine Verbindung zum GPSD herstellen:
-4409=M??gliche Gr??nde:%0a Adresse/Port falsch%0a GPSD l??uft dort nicht
+4409=M??gliche Gr??nde:\n Adresse/Port falsch\n GPSD l??uft dort nicht
 4500=Alle:
 4501=Sehe:
 4502=Fund:
 4600=Nicht alle Caches k??nnen angezeigt werden. Inkompatibler Blacklist-Status.
-4700=Ignoriere Fehler beim%0aLaden der Kalibrierungsdatei
+4700=Ignoriere Fehler beim\nLaden der Kalibrierungsdatei
 4701=Suche nach bester Karte
 4702=Optimierung
-4703=Cachewolf kann das Laden von Karten beschleunigen, indem eine Markierung zum Dateinamen hinzugef??gt wird. Soll dies jetzt getan werden?%0aEs kann einige Minuten dauern.
+4703=Cachewolf kann das Laden von Karten beschleunigen, indem eine Markierung zum Dateinamen hinzugef??gt wird. Soll dies jetzt getan werden?\nEs kann einige Minuten dauern.
 4704=Umbenennen der Datei:
 4705=Fehler beim Umbenennen:
 4706=anach:
-4707=E/A-Fehler beim Lesen von:%20
-4708=Fehler beim Lesen von:%20
+4707=E/A-Fehler beim Lesen von:+
+4708=Fehler beim Lesen von:+
 4709=Konnte Kartenbild zu folgender Kalibrierungsdatei nicht finden:
 4800=Lade Onlinekartendienste
-4801=Ignoriere Fehler beim %0a Lesen der Web Map Service Definitionsdatei
-4802=Lade kalibriertes (georeferenziertes) %0a Kartenbild %0a '
-4803=' %0a Lade Kachel %0a Reihe
+4801=Ignoriere Fehler beim \n Lesen der Web Map Service Definitionsdatei
+4802=Lade kalibriertes (georeferenziertes) \n Kartenbild \n '
+4803=' \n Lade Kachel \n Reihe
 4804=Spalte
 4805=Kachel
 4806=: Ignoriere Fehler:
@@ -926,7 +926,7 @@
 4808=Bild: Type:
 4809=ist kein Bild, Anfang des Inhalts:
 4810=Fehler beim Laden oder Speichern der Karte:
-4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a Diese Methode muss ??berladen werden um sie zu nutzen
+4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):\n Diese Methode muss ??berladen werden um sie zu nutzen
 4812=WebMapService: Eigenschaft >Name:< fehlt in Datei:
 4813=WebMapService: Eigenschaft >MainUrl:< fehlt in Datei:
 4814=WebMapService: CoordinateReferenceSystemCacheWolf nicht angegeben
@@ -939,7 +939,7 @@
 4821=WebMapService: Eigenschaft >ImageFileExtension:< fehlt in Datei:
 4822=Bereich:
 4823=wird vom Dienst:
-4824=%20nicht abgedeckt, Dienstbereich:
+4824=+nicht abgedeckt, Dienstbereich:
 4825=Ma??stab
 4826=wird von diesem Kartendienst nicht unterst??tzt, unterst??tzter Ma??stabsbereich:
 4827=(gemessen vertikal in Metern pro Pixel)
@@ -947,20 +947,20 @@
 4829=getUrlForBoundingBox: Punkt:
 4830=Kein passender Gau??-Kr??ger-Streifen in der EPSG-Codeliste in der .wms-Datei
 4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst??tzt:
-4900=%20ist keine deutsche Gau??-Kr??ger-Koordinate
-4920=EPSG-Code%20
-4921=%20nicht unterst??tzt
-4922=EPSG code fehlt in:%20
-4923=fromWgs84: EPSG code%20
-4924=ToWgs84: EPSG code%20
+4900=+ist keine deutsche Gau??-Kr??ger-Koordinate
+4920=EPSG-Code+
+4921=+nicht unterst??tzt
+4922=EPSG code fehlt in:+
+4923=fromWgs84: EPSG code+
+4924=ToWgs84: EPSG code+
 5000=Lade Cacheliste
-5001=Hilfswegpunkte k??nnnen nicht direkt gespidert werden.%0aBitte zus??tzlich den Vater anhaken.
+5001=Hilfswegpunkte k??nnnen nicht direkt gespidert werden.\nBitte zus??tzlich den Vater anhaken.
 5002=: Diese Funktion steht gegenw??rtig nur f??r geocaching.com und opencaching.{cz,de,org.uk,pl} zur Verf??gung.
 5003=Optionen
 5004=Erstelle Beziehungen f??r zus??tzliche Wegpunkte...
 5497=Fehler: Ein Tag in spider.def fehlt
 5498=Login nicht m??glich. Fehler beim Laden der Seite nach Login.
-5499=Fehler beim Laden der Login Seite.%0aBitte ??berpr??fen Sie Ihre Internetverbindung.
+5499=Fehler beim Laden der Login Seite.\nBitte ??berpr??fen Sie Ihre Internetverbindung.
 5500=Fehler
 5501=Login nicht m??glich. Falscher Name oder Passwort?
 5502=Lade erste Seite ...
@@ -972,17 +972,17 @@
 5508=Einloggen ...
 5509=Zentrumskoordinaten nicht gesetzt
 5510=Import Optionen
-5511=Gefunden%20
-5512=%20%0aneue / zu aktualisierende Caches
-5513=Laden von:%20
-5514=Travelbug:%20
-5515=Fehler beim Laden des Caches.%0aBitte ??berpr??fen Sie Ihre Internetverbindung und ob als Sprache bei GC.com English ausgew??hlt ist.%0aNoch einmal versuchen?
-5516=%20Cachebeschreibungen%0akonnten nicht geladen werden.
+5511=Gefunden+
+5512=+\nneue / zu aktualisierende Caches
+5513=Laden von:+
+5514=Travelbug:+
+5515=Fehler beim Laden des Caches.\nBitte ??berpr??fen Sie Ihre Internetverbindung und ob als Sprache bei GC.com English ausgew??hlt ist.\nNoch einmal versuchen?
+5516=+Cachebeschreibungen\nkonnten nicht geladen werden.
 5517=Aktualisierungen importieren?
-5518=%20Caches in der Datenbank sollten aktualisiert werden. Jetzt aktualisieren?
+5518=+Caches in der Datenbank sollten aktualisiert werden. Jetzt aktualisieren?
 5519=Information
-5520=Nur das eingestellte Maximum an Caches wurde geladen.%0aWiederholen sie das Spidern sp??ter um weitere Caches zu laden.%0aEs wurden keine vorhandenen Caches aktualisiert.
-5521=Seite%20
+5520=Nur das eingestellte Maximum an Caches wurde geladen.\nWiederholen sie das Spidern sp??ter um weitere Caches zu laden.\nEs wurden keine vorhandenen Caches aktualisiert.
+5521=Seite+
 5522=Pr??fen auf ??ltere XML-Dateien ( ohne <CACHE... /> ) ?
 6000=Guid
 6001=Name
@@ -1003,7 +1003,7 @@
 6019=Tracking Nummer
 6020=Travelbug nicht gefunden.
 6021=Mehr als einen Travelbug gefunden. Bitte den Namen genauer angeben.
-6022=: Aktueller Cache:%20
+6022=: Aktueller Cache:+
 6025=Name:
 6026=Tracking #:
 6027=Id/Guid:
@@ -1038,17 +1038,17 @@
 6124=Kassiopeia Gamma
 6125=Deneb im Schwan
 6126=Mimosa im Kreuz des S??dens
-7000=Freigegeben:%20
-7001=Kandidat f??r Freigabe:%20
-7002=In Entwicklung, stabil:%20
-7003=In Entwicklung, neuste:%20
+7000=Freigegeben:+
+7001=Kandidat f??r Freigabe:+
+7002=In Entwicklung, stabil:+
+7003=In Entwicklung, neuste:+
 7010=aktuell
 7011=Update verf??gbar
 7012=nicht verf??gbar
 7013=Fehler
 7020=Empfohlener Versionstyp
 7021=Dieser Versiontyp
-7022=Dies ist:%20
+7022=Dies ist:+
 7023=Fehler beim Laden der aktuellen Versionsinformationen
 7100=Einstellungen serieller Port
 7101=Ports auflisten
@@ -1058,11 +1058,11 @@
 7105=GPS-Daten weiterleiten an Host
 7106=Alle Daten vom GPS-Empf??nger werden an den eingetragenen Host an TCP-Port 23 weitergeleitet. Mit dem Programm HW Virtual Serial Port kann damit ein virtueller COM-Port eingerichtet werden
 7107=Position alle X Sekunden speichern (NMEA-LOG)
-7108=Fehler: Konnte folgenden seriellen Port nicht ??ffnen:%20
+7108=Fehler: Konnte folgenden seriellen Port nicht ??ffnen:+
 7109=Fehler beim Ermitteln der verf??gbaren seriellen Ports
 7110=GPS nicht gefunden
-7111=Versuche%20
-7112=mit%20
+7111=Versuche+
+7112=mit+
 7113=- einige Daten empfangen
 7114=GPS-Port gefunden
 7115=- nicht als GPS-Daten erkannt

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-17 11:28:11 UTC (rev 2783)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-17 18:12:01 UTC (rev 2784)
@@ -93,15 +93,15 @@
 161=Show Blacklist
 162=Download calibrated
 170=Select data directory
-171=Profile does not exist:%20
+171=Profile does not exist:+
 172=Error: cannot create maps directory:
 173=GPSBabel:
 174=Short Names
 175=Import
-176=First start %0a Please choose a data directory %0a and create a new profile %0a%0a For experts only: %0a Could not read preferences file:
+176=First start \n Please choose a data directory \n and create a new profile \n\n For experts only: \n Could not read preferences file:
 177=-- not used any more--
 178=Version Check
-179=You are at%0athe current version.
+179=You are at\nthe current version.
 180=Drag caches
 181=here
 182=New list
@@ -117,7 +117,7 @@
 192=Save changes
 193=add Addis
 195=Current Centre
-196=Total # of caches (GC&OC)%0aTotal # visible%0aTotal # found
+196=Total # of caches (GC&OC)\nTotal # visible\nTotal # found
 197=Show/Hide cachetour
 198=Cachetour
 199=Add to cachetour
@@ -131,8 +131,8 @@
 207=** unused **
 208=Rebuild index
 209=Rebuilding index
-210=Caches deleted:%20
-211=Caches added:%20
+210=Caches deleted:+
+211=Caches added:+
 212=Delete all .xml files not in index.xml and associated pictures
 213=Deleting orphans
 214=New Waypoint
@@ -145,7 +145,7 @@
 221=Overwrite filter?
 222=This filter already exists. Overwrite it?
 223=Delete filter?
-224=%20- Delete the saved filter?
+224=+- Delete the saved filter?
 225=Also in logs
 226=Profile cannot be deleted.
 227=active profile cannot be deleted.
@@ -176,7 +176,7 @@
 272=CacheWolf version:
 273=filter on/off
 274=no autosort
-275=Waypoint already exists!%0aPlease rename waypoint before leaving the details!
+275=Waypoint already exists!\nPlease rename waypoint before leaving the details!
 299=Regular expression
 300=Type:
 301=Size:
@@ -237,9 +237,9 @@
 588=Length Units
 589=Metric (km)
 590=Imperial (mi.)
-591=Leave empty for default language or%0aadd 2 character language, e.g. DE, EN
+591=Leave empty for default language or\nadd 2 character language, e.g. DE, EN
 592=Language (needs restart)
-593=Password is optional here.%0aEnter only if you want to store it in pref.xml
+593=Password is optional here.\nEnter only if you want to store it in pref.xml
 594=Passwd
 595=List
 596=Name
@@ -391,8 +391,8 @@
 1026=#Rec
 1027=OC-Idx
 1028=)?
-1029=There are waypoints that are ticked but invisible.%0a(Main caches:%20
-1030=, additional Waypoints:%20
+1029=There are waypoints that are ticked but invisible.\n(Main caches:+
+1030=, additional Waypoints:+
 1031=Delete them, too?
 1032=Path to browser:
 1033=is incorrect!
@@ -477,12 +477,12 @@
 1507=Coordinates are out of range:
 1508=latitude
 1509=longitude
-1510=No data from GPS%0aConnection to serial port closed
-1511=Cannot interpret data from GPS%0a possible reasons:%0a wrong Port,%0a wrong Baudrate,%0a not NMEA-Protocol%0aConnection to serial port closed%0aLast String tried to interprete:
+1510=No data from GPS\nConnection to serial port closed
+1511=Cannot interpret data from GPS\n possible reasons:\n wrong Port,\n wrong Baudrate,\n not NMEA-Protocol\nConnection to serial port closed\nLast String tried to interprete:
 1512=Waypoint
 1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination as center or in selected cache, or start GPS
 1514=Cannot recalculate distances, because the GPS position is not set
-1600=%20Download
+1600=+Download
 1601=max. Distance:
 1602=Download images
 1603=Download maps
@@ -499,14 +499,14 @@
 1614=Error while unzipping udpate file
 1615=Error parsing update file, state:
 1616=Error: could not download udpate file from opencaching.de
-1617=Ignoring error in html-Cache-Description: "<img" without "src=" in cache%20
-1618=Ignoring error in Cache:%20
-1619=: could not download image from URL:%20
-1620=downloading embedded images:%20
-1621=Error while interpreting data%0a from Opencaching.de,%0aThis is most probaly a bug at Opencaching.de%0aRetry later%0a Status:
+1617=Ignoring error in html-Cache-Description: "<img" without "src=" in cache+
+1618=Ignoring error in Cache:+
+1619=: could not download image from URL:+
+1620=downloading embedded images:+
+1621=Error while interpreting data\n from Opencaching.de,\nThis is most probaly a bug at Opencaching.de\nRetry later\n Status:
 1622=Exclude found caches
 1623=Import upto:
-1624=%20caches (empty=all)
+1624=+caches (empty=all)
 1625=Download TBs
 1626=Max. save logs:
 1627=All caches
@@ -527,7 +527,7 @@
 1710=Cannot count empty string
 1711=Replacement characters strings must be of equal length
 1712=Invalid coordinate:
-1713=Invalid coordinate format. Allowed are cw / dd / dmm / dms /%20
+1713=Invalid coordinate format. Allowed are cw / dd / dmm / dms /+
 1714=Goto: Waypoint does not exist:
 1715=instr: Start position not in string
 1716=mid: Integer argument expected
@@ -559,7 +559,7 @@
 1744=pinpointing with identical bearing angles not possible
 1800=Download georeferenced maps
 1801=Download tiles
-1802=Download georeferenced maps%0a Select online service:
+1802=Download georeferenced maps\n Select online service:
 1803=for
 1804=all
 1805=ticked
@@ -784,7 +784,7 @@
 2679=no Food nearby
 2680=Food nearby
 3000=Close
-4000=Loaded caches:%20
+4000=Loaded caches:+
 4001=GPX files from opencaching don't contain information of images, they cannot be loaded. Best you get caches from opencaching by menu /Application/Import/Download from Opencaching
 4100=choose directory:
 4101=Maps
@@ -798,34 +798,34 @@
 4109=Loading maps...
 4110=loading
 4111=Coordinates must be entered in the format N XX XX.XXX E XXX XX.XXX
-4112=IO-Error while copying image from:%20
-4113=to:%20
-4114=%20error:%20
-4115=Error: could not decode image:%20
-4116=%20-%20image not copied
-4117=Error while importing .map-file:%20
+4112=IO-Error while copying image from:+
+4113=to:+
+4114=+error:+
+4115=Error: could not decode image:+
+4116=+-+image not copied
+4117=Error while importing .map-file:+
 4118=IO-Error while reading or writing calibration file
-4119=No calibration file found for:%20
+4119=No calibration file found for:+
 4120=done.
 4200=Choose map directory
 4201=Information
 4203=Loading list of maps...
-4204=No georeferenced map available %0a Please choose a scale %0a to show the track and the caches. %0a You can get one by the menu: Application/Maps/download calibrated
-4206=Dist:%20
+4204=No georeferenced map available \n Please choose a scale \n to show the track and the caches. \n You can get one by the menu: Application/Maps/download calibrated
+4206=Dist:+
 4207=Error
-4208=Bug: %0aillegal mapChangeModus:%20
-4210=Moving map cannot run without a map - please select one. %0a You can select an empty map
-4211=No%20
+4208=Bug: \nillegal mapChangeModus:+
+4210=Moving map cannot run without a map - please select one. \n You can select an empty map
+4211=No+
 4212=less
 4213=more
-4214=%20detailed map available
+4214=+detailed map available
 4215=No caches selected by a tick
 4216=Loading map...
 4217=Could not find image associated with:
 4218=Could not load map:
 4219=Not enough memory to load map:
-4220=You can try to close %0a all prgrams and %0a restart CacheWolf
-4221=Not enough ressources to load map:%20
+4220=You can try to close \n all prgrams and \n restart CacheWolf
+4221=Not enough ressources to load map:+
 4222=Out of memory error
 4230=Goto here$g
 4231=Goto here
@@ -884,41 +884,41 @@
 4294=zoom
 4295=center
 4296=detailing
-4300=empty 1 Pixel =%20
-4301=%20meters
-4302=Lat/Lon out of range while reading%20
-4303=not enough lines in file%20
+4300=empty 1 Pixel =+
+4301=+meters
+4302=Lat/Lon out of range while reading+
+4303=not enough lines in file+
 4304=not enough points to calibrate the map
-4305=Not allowed values in affine%0a (matrix cannot be inverted)%0a in file
+4305=Not allowed values in affine\n (matrix cannot be inverted)\n in file
 4306=map not calibrated
 4400=Warning
-4401=Ignoring error:%0a could not forward GPS data to host:
+4401=Ignoring error:\n could not forward GPS data to host:
 4402=stop and start GPS to retry
 4403=Error
-4404=Could not connect to GPS-receiver.%0a Error while opening serial Port
-4405=possible reasons:\n Another (GPS-)program is blocking the port%0awrong port%0aOn Loox: active infra-red port is blocking GPS"
+4404=Could not connect to GPS-receiver.\n Error while opening serial Port
+4405=possible reasons:\n Another (GPS-)program is blocking the port\nwrong port\nOn Loox: active infra-red port is blocking GPS"
 4406=Please copy jave_ewe.dll into the directory of the cachewolf program
-4407=The profile files are not in the current format.%0aTherefore they are now converted to the current format. Depending of the size of the profile and the computer involved this may take some minutes. Please bear with us until the conversion is done.
+4407=The profile files are not in the current format.\nTherefore they are now converted to the current format. Depending of the size of the profile and the computer involved this may take some minutes. Please bear with us until the conversion is done.
 4408=Could not connect to GPSD:
-4409=possible reasons:%0aGPSD host is not reachable or GPSD is not running there
+4409=possible reasons:\nGPSD host is not reachable or GPSD is not running there
 4500=Tot:
 4501=Vis:
 4502=Fnd:
 4600=Some cache(s) cannot be shown because of wrong blacklist status
-4700=Ignoring error while%0areading calibration file
+4700=Ignoring error while\nreading calibration file
 4701=Searching for best map
 4702=Optimisation
-4703=Cachewolf can make loading maps much faster by adding an identification mark to the filename. Do you want me to do this now?%0aIt can take several minutes.
+4703=Cachewolf can make loading maps much faster by adding an identification mark to the filename. Do you want me to do this now?\nIt can take several minutes.
 4704=Renaming file:
 4705=Failed to rename:
-4706=to:%0an
+4706=to:\nn
 4707=I/O-Error while reading:
 4708=Error while reading:
 4709=Could not find image assiciated to:
 4800=Loading online map services
-4801=Ignoring error while %0a reading web map service definition file
-4802=Downloading calibrated (georeferenced) %0a map image %0a '
-4803=' %0a Downloading tile %0a row
+4801=Ignoring error while \n reading web map service definition file
+4802=Downloading calibrated (georeferenced) \n map image \n '
+4803=' \n Downloading tile \n row
 4804=column
 4805=Tile
 4806=: Ignoring error:
@@ -926,7 +926,7 @@
 4808=downloadImage: content-type:
 4809=is not an image, begin of content:
 4810=Error while downloading or saving map:
-4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
+4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):\n This method must be overloaded in order to be able to use it
 4812=WebMapService: property >Name:< missing in file:
 4813=WebMapService: property >MainUrl:< missing in file:
 4814=WebMapService: no CoordinateReferenceSystemCacheWolf given
@@ -947,20 +947,20 @@
 4829=getUrlForBoundingBox: Point:
 4830=No matching Gau??-Kr??ger-Stripe in the EPSG-code list in the .wms
 4831=getMapInfoObject: Coordinate system not supported by Cachewolf:
-4900=%20is not a german Gauss-Krueger coordinate
-4920=EPSG code%20
-4921=%20not supported
-4922=EPSG code missing in:%20
-4923=fromWgs84: EPSG code%20
-4924=ToWgs84: EPSG code%20
+4900=+is not a german Gauss-Krueger coordinate
+4920=EPSG code+
+4921=+not supported
+4922=EPSG code missing in:+
+4923=fromWgs84: EPSG code+
+4924=ToWgs84: EPSG code+
 5000=Load Cachelist
-5001=Can't spider additional waypoint directly.%0aPlease check main cache.
+5001=Can't spider additional waypoint directly.\nPlease check main cache.
 5002=: At the moment, this function is only available for geocaching.com and opencaching.{cz,de,org.uk,pl}.
 5003=Options
 5004=Building references for additional waypoints...
 5497=Error missing tag in spider.def
 5498=Login failed. Error loading page after login.
-5499=Error loading login page.%0aPlease check your internet connection.
+5499=Error loading login page.\nPlease check your internet connection.
 5500=Error
 5501=Login failed! Wrong account or password?
 5502=Fetching first page...
@@ -972,17 +972,17 @@
 5508=Logging in...
 5509=Coordinates for centre must be set
 5510=Spider Options
-5511=Found%20
-5512=%20new/update caches
-5513=Loading:%20
-5514=Getting bug:%20
-5515=Failed to load cache.%0aPlease check your internet connection.%0aRetry?
-5516=%20cache descriptions%0acould not be loaded.
+5511=Found+
+5512=+new/update caches
+5513=Loading:+
+5514=Getting bug:+
+5515=Failed to load cache.\nPlease check your internet connection.\nRetry?
+5516=+cache descriptions\ncould not be loaded.
 5517=Spider updates?
-5518=%20caches in database need an update. Update now?
+5518=+caches in database need an update. Update now?
 5519=Information
-5520=Only the given maximum of caches were loaded.%0aRepeat spidering later to load more caches.%0aNo already existing caches were updated.
-5521=Page%20
+5520=Only the given maximum of caches were loaded.\nRepeat spidering later to load more caches.\nNo already existing caches were updated.
+5521=Page+
 5522=Check for older xml-Files ( without <CACHE... /> )?
 6000=Guid
 6001=Name
@@ -1003,7 +1003,7 @@
 6019=Tracking number
 6020=Travelbug not found.
 6021=More than one travelbug found. Specify name more precisely.
-6022=: Current cache:%20
+6022=: Current cache:+
 6025=Name:
 6026=Tracking #:
 6027=Id/Guid:
@@ -1039,16 +1039,16 @@
 6125=Deneb in Cygnus
 6126=Mimosa in Southern Cross
 7000=Release:*
-7001=Release candidate:%20
-7002=in development, stable:%20
-7003=in development, newest:%20
+7001=Release candidate:+
+7002=in development, stable:+
+7003=in development, newest:+
 7010=up-to-date
 7011=Update available
 7012=not available
 7013=error
 7020=recommended version type
 7021=type of this version
-7022=this is:%20
+7022=this is:+
 7023=Error downloading current version information
 7100=Serial Port Options
 7101=Update Ports$u
@@ -1056,13 +1056,13 @@
 7103=Scan$u
 7104=Test$t
 7105=Forward GPS data to host
-7106=All data from GPS will be sent to TCP-port 23%0a and can be redirected there to a serial port%0a by
+7106=All data from GPS will be sent to TCP-port 23\n and can be redirected there to a serial port\n by
 7107=Interval in sec for logging
-7108=Error: Failed to open serial port:%20
+7108=Error: Failed to open serial port:+
 7109=Error: Could not get list of available serial ports
 7110=GPS not found
-7111=Trying%20
-7112=at%20
+7111=Trying+
+7112=at+
 7113=- got some data
 7114=GPS Port found
 7115=- No GPS data tag found

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-17 11:28:11 UTC (rev 2783)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-17 18:12:01 UTC (rev 2784)
@@ -93,7 +93,7 @@
 161=Montre liste noire
 162=T??l??charger calibr??e
 170=Choisir dossier de base pour les profiles
-171=Profile n'existe pas:%20
+171=Profile n'existe pas:+
 172=Ne peut pas cr??er dossier pour des cartes:
 173=GPSBabel:
 174=Abr??viation
@@ -101,7 +101,7 @@
 176=--frei geworden--
 177=--frei geworden--
 178=Verification de la version
-179=Vous avez la%0aversion actuelle.
+179=Vous avez la\nversion actuelle.
 180=Tirer caches
 181=ici
 182=Nouvelle liste
@@ -117,7 +117,7 @@
 192=Enregistrer modifications
 193=Ajouter waypoints additionelles
 195=Centre actuel
-196=# Caches en tout (GC&OC)%0a# visible%0a# trouv??es
+196=# Caches en tout (GC&OC)\n# visible\n# trouv??es
 197=Afficher/dissimuler tour de cache
 198=Tour de cache
 199=Ajouter au tour de cache
@@ -131,8 +131,8 @@
 207=** liberte **
 208=R??cr??er index
 209=R??cr??er index
-210=Caches supprim??s:%20
-211=Caches ajout??:%20
+210=Caches supprim??s:+
+211=Caches ajout??:+
 212=Effacer toutes les fichier .xml (et images) qui ne sont pas en index.xml
 213=Effacer les fichier .xml orpheline
 214=Nouveau waypoint
@@ -145,7 +145,7 @@
 221=??craser filtre?
 222=Ce filtre existe d??j??. ??craser-le?
 223=Effacer filtre?
-224=%20- Effacer ce filtre enregistr???
+224=+- Effacer ce filtre enregistr???
 225=Aussi dans logs
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -176,7 +176,7 @@
 272=[CacheWolf version:]
 273=[filter on/off]
 274=aucun tri automatique
-275=Le waypoint existe djj??!%0aLe waypoint le renommer avant de quitter les d??tails s'il vous pla??t!
+275=Le waypoint existe djj??!\nLe waypoint le renommer avant de quitter les d??tails s'il vous pla??t!
 299=Expression rationnelle
 300=Type:
 301=Gabarit:
@@ -237,9 +237,9 @@
 588=Syst??me de mesure
 589=M??trique (km)
 590=Imp??rial (milles)
-591=Vide pour langue de syst??me d'exploitation%0aou deux aract??res pour autre langure, p.ex. DE, EN
+591=Vide pour langue de syst??me d'exploitation\nou deux aract??res pour autre langure, p.ex. DE, EN
 592=Langue (faut redemarrer)
-593=Le mot de passe est optionel ici.%0aL'entrer seulement s'il doit enregistrer en fichier pref.xml
+593=Le mot de passe est optionel ici.\nL'entrer seulement s'il doit enregistrer en fichier pref.xml
 594=Mot de passe
 595=Liste
 596=Nom
@@ -391,8 +391,8 @@
 1026=#Rec
 1027=OC-Idx
 1028=) ?
-1029=Il y a des waypoints coch??e mais pas visible.%0a(Caches:%20
-1030=, waypoints additionel:%20
+1029=Il y a des waypoints coch??e mais pas visible.\n(Caches:+
+1030=, waypoints additionel:+
 1031=Effacer ceux-ci aussi?
 1032=Chemin au navigateur:
 1033=n'est pas correct!
@@ -477,12 +477,12 @@
 1507=Coordonn??es pas valides:
 1508=Latitude
 1509=Longitude
-1510=Pas de donn??es par le GPS%0aFermer connexion avec port seriel.
-1511=Ne peut pas interpr??ter les donn??es du GPS%0aCauses possibles:%0aMauvais Port,%0amauvais baud,%0apas de protocole NMEA%0aConnexion ferm??e%0aDerni??re cha??ne de lettres:
+1510=Pas de donn??es par le GPS\nFermer connexion avec port seriel.
+1511=Ne peut pas interpr??ter les donn??es du GPS\nCauses possibles:\nMauvais Port,\nmauvais baud,\npas de protocole NMEA\nConnexion ferm??e\nDerni??re cha??ne de lettres:
 1512=Waypoint
 1513=Ne peut pas afficher carte sans coordonn??es valides - Merci d'entrer coordonn??es comme destination, centre ou dans le cache choisi et d??marrer GPS
 1514=Impossible de recalculer les distances, parce que la position GPS n'est pas d??fini
-1600=%20T??l??chargement
+1600=+T??l??chargement
 1601=max. Distance:
 1602=T??l??charger images
 1603=T??l??charger cartes
@@ -499,14 +499,14 @@
 1614=Erreur en decompactant le fichier mise ?? jour
 1615=Erreur en decompactant le fichier mise ?? jour. Statut:
 1616=Erreur: N'a pas pu t??l??charger le fichier mise ?? jour d'opencaching.de
-1617=Ignore erreur en fichier HTML codage de la cache: "<img" sans "src=" en cache%20
-1618=Ignore erreur en cache:%20
-1619=: n'a pas pu t??l??charger l'image d'URL suivante:%20
-1620=t??l??chargement d'image integr??e:%20
-1621=Erreur d'interpretation du fichier mise ?? jour.%0aC'est probablement un erreur d'opencaching.de%0aEssayez encore une fois plus tard.%0a Statut:
+1617=Ignore erreur en fichier HTML codage de la cache: "<img" sans "src=" en cache+
+1618=Ignore erreur en cache:+
+1619=: n'a pas pu t??l??charger l'image d'URL suivante:+
+1620=t??l??chargement d'image integr??e:+
+1621=Erreur d'interpretation du fichier mise ?? jour.\nC'est probablement un erreur d'opencaching.de\nEssayez encore une fois plus tard.\n Statut:
 1622=Pas t??l??charger caches trouv??es
 1623=Max Quantit??:
-1624=%20 caches
+1624=+ caches
 1625=Importe TBs
 1626=Max Activit??:
 1627=Tous les caches
@@ -527,7 +527,7 @@
 1710=Ne peut pas compter cha??ne de caract??res vide
 1711=Cha??nes de caract??res de remplacement doivent avoir la m??me longuer
 1712=Coordonn??e invalide:
-1713=Format de coordonn??es pas valide. Faut avoir cw / dd / dmm / dms /%20
+1713=Format de coordonn??es pas valide. Faut avoir cw / dd / dmm / dms /+
 1714=Goto: Waypoint n'existe pas:
 1715=instr: Position de d??part pas en cha??ne de caract??re
 1716=mid: Attendu param??tre en nombre entier
@@ -559,7 +559,7 @@
 1744=rep??rage avec des angles identiques portant pas possible
 1800=T??l??charger des cartes g??o-r??f??renc??e
 1801=T??l??charger pages
-1802=T??l??chargement des cartes g??o-r??f??renc??e%0aChoissisez service en ligne:
+1802=T??l??chargement des cartes g??o-r??f??renc??e\nChoissisez service en ligne:
 1803=pour
 1804=toutes
 1805=coch??es
@@ -798,34 +798,34 @@
 4109=Chargeant Cartes...
 4110=Chargeant
 4111=Les coordonn??es doivent ??tre en format N XX XX,XXX E XXX XX,XXX
-4112=Erreur E/S en copyant:%20
-4113=%20??:%20
-4114=%20Erreur:%20
-4115=Erreur: Ne peut pas d??coder image:%20
-4116=%20-%20Image pas copi??e
-4117=Erreur en important fichier .map:%20
+4112=Erreur E/S en copyant:+
+4113=+??:+
+4114=+Erreur:+
+4115=Erreur: Ne peut pas d??coder image:+
+4116=+-+Image pas copi??e
+4117=Erreur en important fichier .map:+
 4118=Erreur E/S en lisant ou ??crivant le fichier de calibrage
-4119=Pas trouv?? de fichier de calibrage pour:%20
+4119=Pas trouv?? de fichier de calibrage pour:+
 4120=Fini.
 4200=Choisir dossier de cartes
 4201=Information
 4203=Chargeant liste des cartes...
-4204=Carte calib??e pas disponible %0a Choisissez une ??chelle%0a dans laquelle le track et les cartes seront affich??s. %0a T??l??chargez cartes avec le menu: Application/Cartes/T??lecharger cartes calibr??es
-4206=Dist:%20
+4204=Carte calib??e pas disponible \n Choisissez une ??chelle\n dans laquelle le track et les cartes seront affich??s. \n T??l??chargez cartes avec le menu: Application/Cartes/T??lecharger cartes calibr??es
+4206=Dist:+
 4207=Erreur
-4208=Bogue informatique: %0a mapChangeModus pas valide:%20
-4210=La carte se d??placeant ne peut pas demarrer sans carte. %0a Choisissez-en une %0a (vide eventuellement)
-4211=Pas de carte%20
+4208=Bogue informatique: \n mapChangeModus pas valide:+
+4210=La carte se d??placeant ne peut pas demarrer sans carte. \n Choisissez-en une \n (vide eventuellement)
+4211=Pas de carte+
 4212=plus claire et plus
 4213=d??taill??e
-4214=%20disponible
+4214=+disponible
 4215=Pas de caches coch??es
 4216=Chargeant carte...
 4217=N'a pas pu trouv?? fichier pour cette image:
 4218=N'a pas pu charg?? carte:
-4219=Pas assez de m??moire %0a pour charger carte:
-4220=Vous pourriez fermer les logiciels %0a et redemarrer CacheWolf
-4221=Pas assez de ressources disponibles:%20
+4219=Pas assez de m??moire \n pour charger carte:
+4220=Vous pourriez fermer les logiciels \n et redemarrer CacheWolf
+4221=Pas assez de ressources disponibles:+
 4222=Erreur: M??moire (RAM) plein
 4230=Mets dest. ici$z
 4231=Mets dest. ici
@@ -884,41 +884,41 @@
 4294=zoom
 4295=center
 4296=detailing
-4300=1 pixel vide =%20
-4301=%20metre
-4302=Latitude/Longitude hors de l'??tendue valide en chargeant%20
-4303=Trop peu de lignes en fichier%20
+4300=1 pixel vide =+
+4301=+metre
+4302=Latitude/Longitude hors de l'??tendue valide en chargeant+
+4303=Trop peu de lignes en fichier+
 4304=Trop peu de points pour calibrer la carte
-4305=Param??tres de transformation pas valides%0a (Ne peut pas inverser matrice)%0a dans le fichier
+4305=Param??tres de transformation pas valides\n (Ne peut pas inverser matrice)\n dans le fichier
 4306=Carte n'est pas g??o-r??f??renc??e
 4400=Avertissement
 4401=Ignore erreur: N'a pas pu transmettre donn??es au h??te:
 4402=Pour un nouveau essai red??marrez GPS
 4403=Erreur
-4404=N'a pas pu ??tablir une connexion avec le r??cepteur GPS. %0a Erreur en ouvrant le port seriel
-4405=Causes possibles:%0a Port faux %0a Un autre logiciel bloque le port %0a Seulement pour les appareils Loox: port infrarouge ouverts bloque GPS
+4404=N'a pas pu ??tablir une connexion avec le r??cepteur GPS. \n Erreur en ouvrant le port seriel
+4405=Causes possibles:\n Port faux \n Un autre logiciel bloque le port \n Seulement pour les appareils Loox: port infrarouge ouverts bloque GPS
 4406=Copiez java_ewe.dll dans le dossier CacheWolf
-4407=Les fichiers de profil ne sont pas dans le format actuel.%0aPar cons??quent, ils sont maintenant convertis au format actuel. En fonction de la taille de l'image et l'ordinateur associ?? cette mai prendre quelques minutes. S'il vous pla??t garder avec nous jusqu'?? la conversion est effectu??e.
+4407=Les fichiers de profil ne sont pas dans le format actuel.\nPar cons??quent, ils sont maintenant convertis au format actuel. En fonction de la taille de l'image et l'ordinateur associ?? cette mai prendre quelques minutes. S'il vous pla??t garder avec nous jusqu'?? la conversion est effectu??e.
 4408=Impossible de se connecter ?? la GPSD:
-4409=possible raisons:%0aGPSD h??te n'est pas accessible ou GPSD s'ex??cute pas l??
+4409=possible raisons:\nGPSD h??te n'est pas accessible ou GPSD s'ex??cute pas l??
 4500=Tout:
 4501=Aff:
 4502=Trv:
 4600=Ne peut pas afficher toutes les caches. Incompatible statut de liste noire.
-4700=Ignore erreur chargeant%0ale fichier de calibration
+4700=Ignore erreur chargeant\nle fichier de calibration
 4701=Cherche la meilleur carte
 4702=Optimisation
-4703=Cachewolf peut accelerer le chargement des cartes en ajoutant un marquage%0a Faire ???maintenant?%0a?? peut mettre quelques minutes.
+4703=Cachewolf peut accelerer le chargement des cartes en ajoutant un marquage\n Faire ???maintenant?\n?? peut mettre quelques minutes.
 4704=Renommer fichier:
 4705=Erreur en renommant:
 4706=pr??s:
-4707=Erreur E/S en lisant:%20
-4708=Erreur en lisant:%20
+4707=Erreur E/S en lisant:+
+4708=Erreur en lisant:+
 4709=N'a pas pu trouver image de carte pour ce fichier de calibration:
 4800=Charge services de cartes en lingne
-4801=Ignore erreur en %0a lisant le fichier de d??finition Web Map Service
-4802=Chargeant image de carte calibr??e et g??o-r??f??renc??e %0a '
-4803=' %0a Chargeant page %0a Ligne
+4801=Ignore erreur en \n lisant le fichier de d??finition Web Map Service
+4802=Chargeant image de carte calibr??e et g??o-r??f??renc??e \n '
+4803=' \n Chargeant page \n Ligne
 4804=Colonne
 4805=Page
 4806=: Ignore erreur:
@@ -926,7 +926,7 @@
 4808=downloadImage: content-type:
 4809=n'est pas une image, debut du contenu:
 4810=Erreur en chargeant ou enr??gstrant carte:
-4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):%0a This method must be overloaded in order to be able to use it
+4811=OnlineMapService: getMapInfoObjectInternal(Area maparea, Point pixelsize):\n This method must be overloaded in order to be able to use it
 4812=WebMapService: Propri??t?? >Name:< manque en fichier:
 4813=WebMapService: Propri??t?? >MainUrl:< manque en fichier:
 4814=WebMapService: CoordinateReferenceSystemCacheWolf pas indiqu??
@@ -947,20 +947,20 @@
 4829=getUrlForBoundingBox: Point:
 4830=Pas de bande Gau??-Kr??ger dans la liste de codes EPSG dans le fichier .wms
 4831=getMapInfoObject: Syst??me de coordonn??es n'est pas soutenue par CacheWolf:
-4900=%20n'est pas une coordonn??e allemande Gau??-Kr??ger
-4920=Code EPSG%20
-4921=%20pas soutenu
-4922=Code EPSG manque en:%20
-4923=fromWgs84: code EPSG%20
-4924=ToWgs84: code EPSG%20
+4900=+n'est pas une coordonn??e allemande Gau??-Kr??ger
+4920=Code EPSG+
+4921=+pas soutenu
+4922=Code EPSG manque en:+
+4923=fromWgs84: code EPSG+
+4924=ToWgs84: code EPSG+
 5000=Chargeant liste de caches
-5001=Ne peut pas spider waypoints suppletif.%0aCochez le parent, svp..
+5001=Ne peut pas spider waypoints suppletif.\nCochez le parent, svp..
 5002=: Cette fonction n'est disponible que pour geocaching.com et opencaching.{cz,de,org.uk,pl} momentan??ment.
 5003=Options
 5004=Cr??ant r??f??rences pour les waypoints additionelles...
 5497=Erreur: Une balise manque en spider.def
 5498=Login pas possible. Erreur en chargeant la page suivante.
-5499=Erreur en chargeant la page Login.%0aMerci de v??rifier votre connexion internet.
+5499=Erreur en chargeant la page Login.\nMerci de v??rifier votre connexion internet.
 5500=Erreur.
 5501=Login pas possible. Nom ou mot de passe fautif?
 5502=Chargeant premi??re page ...
@@ -972,17 +972,17 @@
 5508=Connecter ...
 5509=Coordonn??es de centre pas mis
 5510=Options spider
-5511=Trouv??e%20
-5512=%20nouveau/mettre ?? jour Caches
-5513=Chargeant:%20
-5514=Travel Bug:%20
-5515=Erreur en chargeant la cache.%0aMerci de v??rifier votre connexion internet et si vous avez language englais chez gc.com..%0aContinuer d'essayer?
-5516=%20descriptions cache%0ane pouvait pas ??tre charg??.
+5511=Trouv??e+
+5512=+nouveau/mettre ?? jour Caches
+5513=Chargeant:+
+5514=Travel Bug:+
+5515=Erreur en chargeant la cache.\nMerci de v??rifier votre connexion internet et si vous avez language englais chez gc.com..\nContinuer d'essayer?
+5516=+descriptions cache\nne pouvait pas ??tre charg??.
 5517=Spider mises ?? jour?
-5518=%20caches en base de donn??es ont besoin d'une mise ?? jour. Mettre ?? jour maintenant?
+5518=+caches en base de donn??es ont besoin d'une mise ?? jour. Mettre ?? jour maintenant?
 5519=Information
-5520=Seulement le maximum compte tenu des caches ont ??t?? charg??s.%0aR??p??tez spidering plus tard ?? la charge des caches plus.%0aNo caches d??j?? existants ont ??t?? mis ?? jour.
-5521=Page%20
+5520=Seulement le maximum compte tenu des caches ont ??t?? charg??s.\nR??p??tez spidering plus tard ?? la charge des caches plus.\nNo caches d??j?? existants ont ??t?? mis ?? jour.
+5521=Page+
 5522=V??rifier les plus ??g??s fichiers XML (sans <CACHE... />)?
 6000=Guid
 6001=Nom
@@ -1003,7 +1003,7 @@
 6019=Numero de track
 6020=Pas trouv?? Travel Bug.
 6021=Trouv?? plus d'un Travel Bug. Indiquez le nom plus pr??cis??ment.
-6022=: Cache actuelle:%20
+6022=: Cache actuelle:+
 6025=Nom:
 6026=# track:
 6027=Id/Guid:
@@ -1038,17 +1038,17 @@
 6124=Kassiopeia Gamma
 6125=Deneb im Schwan
 6126=Mimosa im Kreuz des S??dens
-7000=Valid??:%20
-7001=Candidat pour validation:%20
-7002=En developpement, stable:%20
-7003=En developpement, le plus r??cent:%20
+7000=Valid??:+
+7001=Candidat pour validation:+
+7002=En developpement, stable:+
+7003=En developpement, le plus r??cent:+
 7010=d??j?? actuel
 7011=Update disponible
 7012=pas disponible
 7013=Erreur
 7020=Type de version recommand??
 7021=Ce type de version
-7022=ceci est:%20
+7022=ceci est:+
 7023=Erreur en t??l??chargeant les informations de version
 7100=Port s??rie Options
 7101=Mise ?? jour des ports$u
@@ -1056,13 +1056,13 @@
 7103=Scan$u
 7104=Test$t
 7105=Suivant les donn??es GPS pour accueillir
-7106=Toutes les donn??es du GPS sera envoy?? ?? TCP-Port 23%0a et peut ??tre redirig?? l?? ?? un port s??rie 0a??ar
+7106=Toutes les donn??es du GPS sera envoy?? ?? TCP-Port 23\n et peut ??tre redirig?? l?? ?? un port s??rie 0a??ar
 7107=intervalle en secondes pour l'exploitation foresti??re
-7108=Erreur: Impossible d'ouvrir le port s??rie: %20
+7108=Erreur: Impossible d'ouvrir le port s??rie: +
 7109=Erreur: Impossible d'obtenir la liste des ports s??rie disponibles
 7110=GPS introuvable
-7111=Trying%20
-7112=at%20
+7111=Trying+
+7112=at+
 7113=- obtenu quelques donn??es
 7114=GPS Port trouv??
 7115=- Pas d'??tiquette de donn??es GPS trouv??

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-17 11:28:11 UTC (rev 2783)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-17 18:12:01 UTC (rev 2784)
@@ -93,15 +93,15 @@
 161=Toon Blacklist
 162=Gekalibreerde kaarten downloaden.
 170=Selecteer basis map voor cache data.
-171=Profiel bestaat niet:%20
-172=Fout: kan kaarten map niet maken:%0a.
+171=Profiel bestaat niet:+
+172=Fout: kan kaarten map niet maken:\n.
 173=GPSBabel:
 174=Verkorte namen
 175=Importeren
 176=Nieuwe versie
-177=Nieuwe versie%0abeschikbaar.
+177=Nieuwe versie\nbeschikbaar.
 178=Versie controle
-179=Je hebt de%0anieuwste versie.
+179=Je hebt de\nnieuwste versie.
 180=Verplaats caches
 181=Hier
 182=Nieuwe lijst
@@ -117,7 +117,7 @@
 192=Wijzigingen opslaan
 193=Additionele Waypoints toevoegen
 195=Huidige middelpunt
-196=Totaal aantal # caches (GC&OC)%0aTotaal # zichtbaar%0aTotaal # gevonden.
+196=Totaal aantal # caches (GC&OC)\nTotaal # zichtbaar\nTotaal # gevonden.
 197=Toon/verberg cache tour.
 198=Cache tour
 199=Aan cache tour toevoegen.
@@ -131,8 +131,8 @@
 207=[** unused **]
 208=[Rebuild index]
 209=[Rebuilding index]
-210=Caches geschrapt:%20}
-211=Caches toegevoegd:%20
+210=Caches geschrapt:+}
+211=Caches toegevoegd:+
 212=[Delete all .xml files not in index.xml and associated pictures]
 213=[Deleting orphans]
 214=Nieuwe Waypoint
@@ -145,7 +145,7 @@
 221=Overschrijf filter?
 222=De filter exiteerd al. Overschrijven?
 223=Filter verwijderen?
-224=%20- Deze filter verwijderen?
+224=+- Deze filter verwijderen?
 225=Ook in logs
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -176,7 +176,7 @@
 272=[CacheWolf version:]
 273=[filter on/off]
 274=geen Autosort
-275=Het waypoint bestaat al!%0aHet waypoint kunt hernoemen voor het verlaten van de details!
+275=Het waypoint bestaat al!\nHet waypoint kunt hernoemen voor het verlaten van de details!
 299=Reguliere expressie
 300=Type:
 301=Grote:
@@ -237,9 +237,9 @@
 588=Lengte-eenheden
 589=Metrisch (km)
 590=Imperial (Meilen)
-591=Laat leeg voor standaard taal of%0avoeg 2 karakters toe voor taal, bv. DE,EN,NL
+591=Laat leeg voor standaard taal of\nvoeg 2 karakters toe voor taal, bv. DE,EN,NL
 592=Taal(herstart noodzakelijk)
-593=Password is optioneel.%0aAlleen gebruiken als je het wil opslaan in pref.xml.
+593=Password is optioneel.\nAlleen gebruiken als je het wil opslaan in pref.xml.
 594=Password
 595=Lijst
 596=Naam
@@ -391,8 +391,8 @@
 1026=#Rec
 1027=OC-Idx
 1028=) verwijderen?
-1029=Er zijn verwinkte maar niet zichtbare Waypoints.%0a(Caches:%20
-1030=, additionele Waypoints:%20
+1029=Er zijn verwinkte maar niet zichtbare Waypoints.\n(Caches:+
+1030=, additionele Waypoints:+
 1031=Deeze ook verwijdern?
 1032=Path to browser:
 1033=is incorrect!
@@ -477,12 +477,12 @@
 1507=Co??rdinaten ongeldig:
 1508=breedtegraad
 1509=lengtegraad
-1510=Geen data van GPS%0aConnectie naar seri??le port gesloten
-1511=Kan niet interpreteren van gegevens van GPS%0a mogelijke redenen:%0a verkeerde Port,%0a verkeerde Baudrate,%0a niet NMEA-protocol%0aConnection op de seri??? poort gesloten%0aLast String probeerde te interpreteren:
+1510=Geen data van GPS\nConnectie naar seri??le port gesloten
+1511=Kan niet interpreteren van gegevens van GPS\n mogelijke redenen:\n verkeerde Port,\n verkeerde Baudrate,\n niet NMEA-protocol\nConnection op de seri??? poort gesloten\nLast String probeerde te interpreteren:
 1512=Wegpunt
 1513=Kan moving map niet draaien zonder geldige co??rdinaten. Geef Centrums- of Doelco??rdinaten of start het GPS AUB.
 1514=Kan afstanden niet opnieuw berekenen doordat er geen GPS positie gegeven is (geen receptie is/was)
-1600=%20Download
+1600=+Download
 1601=max. Afstand:
 1602=Download afbeeldingen
 1603=Download kaarten
@@ -499,14 +499,14 @@
 1614=Fout bij het unzippen van update file.
 1615=Fout bij het interpreteren van update file, status:
 1616=Fout: Kan de update file niet downloaden van Opencaching.de.
-1617=Negeert fout in html-cache-beschrijving:"<img" without "src=" in cache%20
-1618=Negeert fout in cache:%20
-1619=: kon de afbeelding van URL niet downloaden:%20
-1620=download bijgesloten afbeeldingen:%20
-1621=Fout tijdens interpreteren data%0a van Opencaching.de,%0aDit is vermoedelijk een fout bij Opencaching.de%0aprobeer later nogmaals%0aStatus:
+1617=Negeert fout in html-cache-beschrijving:"<img" without "src=" in cache+
+1618=Negeert fout in cache:+
+1619=: kon de afbeelding van URL niet downloaden:+
+1620=download bijgesloten afbeeldingen:+
+1621=Fout tijdens interpreteren data\n van Opencaching.de,\nDit is vermoedelijk een fout bij Opencaching.de\nprobeer later nogmaals\nStatus:
 1622=niet in staat om te laden caches gevonden
 1623=Max Aantal:
-1624=%20 caches
+1624=+ caches
 1625=Import TBs:
 1626=Max Logs:
 1627=Alle caches
@@ -527,7 +527,7 @@
 1710=Kan de lege string niet tellen.
 1711=Gekopieerde karakter strings moeten van dezelfde lengte zijn.
 1712=Ongeldige co??rdinaten:
-1713=Ongeldig co??rdinaat formaat. Toegestaan zijn cw / dd / dmm / dms /%20
+1713=Ongeldig co??rdinaat formaat. Toegestaan zijn cw / dd / dmm / dms /+
 1714=Ga naar: Waypoint bestaat niet:
 1715=Instr: Start co??rdinaat niet in string.
 1716=Mid: Geheel getal verwacht.
@@ -559,7 +559,7 @@
 1744=Pinpointing met identieke dragende hoeken niet mogelijk
 1800=Downloaden GEO gerelateerde kaarten.
 1801=Downloaden tegels
-1802=Laden geogerefereerd kaarten%0aKies online service:
+1802=Laden geogerefereerd kaarten\nKies online service:
 1803=voor
 1804=all
 1805=aangekruist
@@ -798,34 +798,34 @@
 4109=bezig kaarten te laden..
 4110=Bezig met laden
 4111=Co??rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
-4112=IO-Fout tijdens het kopi??ren van beeld:%20
-4113=%20voor:%20
-4114=%20Fout:%20
-4115=Fout: kan niet decoderen afbeelding:%20
-4116=%20-%20 afbeelding niet gekopieerd
-4117=Fout bij importeren .map Bestand:%20
+4112=IO-Fout tijdens het kopi??ren van beeld:+
+4113=+voor:+
+4114=+Fout:+
+4115=Fout: kan niet decoderen afbeelding:+
+4116=+-+ afbeelding niet gekopieerd
+4117=Fout bij importeren .map Bestand:+
 4118=I/O-fout tijdens het lezen of schrijven van de kalibratie-bestand
-4119=Geen kalibratie bestand gevonden voor:%20
+4119=Geen kalibratie bestand gevonden voor:+
 4120=Gedaan.
 4200=Kies kaarten map
 4201=Informatie
 4203=Laden kaart lijst ...
-4204=Het is niet gekalibreerd kaart.  %0a Selecteer een schaal,%0a waarbij het spoor en de geselecteerde caches worden weergegeven. %0a U kunt de kaarten downloaden vanuit het hoofdmenu: application / kaarten gekalibreerd / download
-4206=Dist: %20
+4204=Het is niet gekalibreerd kaart.  \n Selecteer een schaal,\n waarbij het spoor en de geselecteerde caches worden weergegeven. \n U kunt de kaarten downloaden vanuit het hoofdmenu: application / kaarten gekalibreerd / download
+4206=Dist: +
 4207=Fout
-4208=Programma fout:%0a niet toegestaan mapChangeModus:%20
-4210=De "mitwandernde kaart" kan niet zonder een kaart. %0a Selecteer een %0a (Eventueel een lege)
-4211=Geen%20
+4208=Programma fout:\n niet toegestaan mapChangeModus:+
+4210=De "mitwandernde kaart" kan niet zonder een kaart. \n Selecteer een \n (Eventueel een lege)
+4211=Geen+
 4212=duidelijker
 4213=gedetailleerde
-4214=%20Kaart beschikbaar
+4214=+Kaart beschikbaar
 4215=Geen caches geselecteerd met vinkje
 4216=Laden kaart ...
 4217=Geen bestand, behorende tot de volgende afbeelding is niet gevonden:
 4218=Kan niet laden de volgende kaart:
 4219=Niet genoeg geheugen in kaart te laden:
-4220=U kunt proberen om alle prgrams%0a%0a sluiten en opnieuw op te starten CacheWolf
-4221=Niet genoeg ressources te laden kaart: %20
+4220=U kunt proberen om alle prgrams\n\n sluiten en opnieuw op te starten CacheWolf
+4221=Niet genoeg ressources te laden kaart: +
 4222=Out of memory error
 4230=Ga hier$g
 4230=Ga hier
@@ -884,41 +884,41 @@
 4294=Vergroten
 4295=Centrum
 4296=Detaillering
-4300=leeg 1 pixel=%20
-4301=%20 meter
-4302=Lat / Lon buiten bereik tijdens het lezen %20
-4303=niet genoeg lijnen in dossier %20
+4300=leeg 1 pixel=+
+4301=+ meter
+4302=Lat / Lon buiten bereik tijdens het lezen +
+4303=niet genoeg lijnen in dossier +
 4304=niet genoeg punten voor het ijken van de kaart
-4305=Niet toegelaten waarden in affiene%0a (matrix kan niet worden omgekeerd)%0a in bestand
+4305=Niet toegelaten waarden in affiene\n (matrix kan niet worden omgekeerd)\n in bestand
 4306=kaart niet gekalibreerd
 4400=Waarschuwing
-4401=Negeren fout:%0a kon niet naar voren GPS-gegevens met host:
+4401=Negeren fout:\n kon niet naar voren GPS-gegevens met host:
 4402=stop GPS en start het opnieuw proberen
 4403=Fout
-4404=Kon niet verbinden met GPS-ontvanger.%0a Fout tijdens het openen van seri??? poort
-4405=possible redenen: \n ander (GPS-) programma is het blokkeren van de poort%0awrong poort%0aOn Loox: actief infra-rood poort wordt geblokkeerd door GPS "
+4404=Kon niet verbinden met GPS-ontvanger.\n Fout tijdens het openen van seri??? poort
+4405=possible redenen: \n ander (GPS-) programma is het blokkeren van de poort\nwrong poort\nOn Loox: actief infra-rood poort wordt geblokkeerd door GPS "
 4406=Kopieer jave_ewe.dll in de directory van het programma cachewolf
-4407=Het profiel bestanden worden niet in de huidige indeling.%0aTherefore ze nu omgezet naar de huidige indeling. Afhankelijk van de grootte van het profiel en de computer voor dit kan enkele minuten duren. Houd er rekening met ons tot de conversie is gedaan.
+4407=Het profiel bestanden worden niet in de huidige indeling.\nTherefore ze nu omgezet naar de huidige indeling. Afhankelijk van de grootte van het profiel en de computer voor dit kan enkele minuten duren. Houd er rekening met ons tot de conversie is gedaan.
 4408=Kan geen verbinding maken RAPV:
-4409=possible redenen:%0aGPSD host niet bereikbaar is of RAPV is niet actief zijn
+4409=possible redenen:\nGPSD host niet bereikbaar is of RAPV is niet actief zijn
 4500=Tot:
 4501=Vis:
 4502=Fnd:
 4600=Sommige caches kunnen niet worden getoond door verkeerde blacklist status.
-4700=negeren fout tijdens%0alezing de kalibratie bestand
+4700=negeren fout tijdens\nlezing de kalibratie bestand
 4701=Zoeken naar beste kaart
 4702=Optimalisatie
-4703=Cachewolf kan laden kaarten veel sneller door toevoegen van een identificatiemerk op de bestandsnaam. Wil je dat ik om dit te doen nu?%0aIt kan enkele minuten duren.
+4703=Cachewolf kan laden kaarten veel sneller door toevoegen van een identificatiemerk op de bestandsnaam. Wil je dat ik om dit te doen nu?\nIt kan enkele minuten duren.
 4704=hernoemen bestand:
 4705=mislukt hernoemen:
-4706=to:%0an
+4706=to:\nn
 4707=I/O-fout tijdens het lezen:
 4708=Fout tijdens het lezen:
 4709=Kan niet vinden afbeelding assiciated naar:
 4800=Laden kaart online diensten
-4801=negeren fout tijdens het lezen van%0a Web Map Service definitie bestand
-4802=Downloaden gekalibreerd (geografische referenties)%0a kaartbeeld %0a '
-4803='%0a laden tegel%0a rij
+4801=negeren fout tijdens het lezen van\n Web Map Service definitie bestand
+4802=Downloaden gekalibreerd (geografische referenties)\n kaartbeeld \n '
+4803='\n laden tegel\n rij
 4804=kolom
 4805=Tile
 4806=: negeren fout:
@@ -926,7 +926,7 @@
 4808=downloadImage: content-type:
 4809=is niet een beeld, een begin van de inhoud:
 4810=Fout tijdens het downloaden of opslaan kaart:
-4811=OnlineMapService: getMapInfoObjectInternal (Area maparea, punt pixelsize):%0a Deze methode moet worden overbelast met het oog op in staat zijn om het te gebruiken
+4811=OnlineMapService: getMapInfoObjectInternal (Area maparea, punt pixelsize):\n Deze methode moet worden overbelast met het oog op in staat zijn om het te gebruiken
 4812=WebMapService: pand> Naam: <ontbreekt in bestand:
 4813=WebMapService: pand> MainUrl: <ontbreekt in bestand:
 4814=WebMapService: geen CoordinateReferenceSystemCacheWolf gegeven
@@ -947,14 +947,14 @@
 4829=getUrlForBoundingBox: Point:
 4830=Geen overeenkomende Gau??f-Kr??cger-streep in de EPSG-code lijst in het. WMS
 4831=getMapInfoObject: Co??rdinaat systeem niet ondersteund door Cachewolf:
-4900=%20 is niet een Duitse Gauss-Krueger te co??rdineren
-4920=EPSG code %20
-4921=%20 niet ondersteund
-4922=EPSG code ontbreekt in: %20
-4923=fromWgs84: EPSG code %20
-4924=ToWgs84: EPSG code %20
+4900=+ is niet een Duitse Gauss-Krueger te co??rdineren
+4920=EPSG code +
+4921=+ niet ondersteund
+4922=EPSG code ontbreekt in: +
+4923=fromWgs84: EPSG code +
+4924=ToWgs84: EPSG code +
 5000=Laad cache lijst
-5001=Kan niet extra waypoint laaden.%0aGelieve te laaden hoofd Waypoint.
+5001=Kan niet extra waypoint laaden.\nGelieve te laaden hoofd Waypoint.
 5002=Op het ogenblik is deze functie slechts toepasselijk voor geocaching.com en opencaching.{cz,de,org.uk,pl}.
 5003=Opties
 5004=Bouw de verwijzingen voor extra waypoints
@@ -972,17 +972,17 @@
 5508=Bezig met inloggen...
 5509=Co??rdinaten voor middelpunt moeten worden ingegeven.
 5510=Spider options
-5511=Gevonden%20
-5512=%20niew/update caches
-5513=Bezig met laden:%20
+5511=Gevonden+
+5512=+niew/update caches
+5513=Bezig met laden:+
 5514=Travelbug
-5515=Failed to load-cache.%0aPlease Controleer je internetverbinding.%0aRetry?
-5516=%20cache beschrijvingen%0acould niet worden geladen.
+5515=Failed to load-cache.\nPlease Controleer je internetverbinding.\nRetry?
+5516=+cache beschrijvingen\ncould niet worden geladen.
 5517=Spider updates?
-5518=%20caches in de database moet een update. Update nu?
+5518=+caches in de database moet een update. Update nu?
 5519=Informatie
-5520=Alleen de gegeven maximum van caches waren geladen.%0aRepeat spideren later meer caches te laden.%0aNo reeds bestaande caches zijn bijgewerkt.
-5521=Page%20
+5520=Alleen de gegeven maximum van caches waren geladen.\nRepeat spideren later meer caches te laden.\nNo reeds bestaande caches zijn bijgewerkt.
+5521=Page+
 5522=Controleer voor oudere xml-bestanden (zonder <CACHE... />)?
 6000=Guid
 6001=Naam
@@ -1003,7 +1003,7 @@
 6019=Tracking nummer
 6020=Travelbug niet gevonden
 6021=Meer dan ????n Travelbug gevonden. Specificeer de namen duidelijker.
-6022=:Huidige cache:%20
+6022=:Huidige cache:+
 6025=Naam:
 6026=Tracking #:
 6027=Id/Guid:
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb in Cygnus
 6126=Mimosa in Zuiderkruis
-7000=Vrijgeven:%20
-7001=Vrijgeven kandidaat:%20
-7002=in ontwikkeling, stabiel:%20
-7003=in ontwikkeling, de nieuwste:%20
+7000=Vrijgeven:+
+7001=Vrijgeven kandidaat:+
+7002=in ontwikkeling, stabiel:+
+7003=in ontwikkeling, de nieuwste:+
 7010=al actueel
 7011=Update beschikbaar
 7012=niet beschikbaar
 7013=fout
 7020=aanbevolen versie type
 7021=type van deze versie
-7022=Dit is:%20
+7022=Dit is:+
 7023=Fout bij het downloaden van de huidige versie informatie
 7100=Serial Port Opties
 7101=Update Poorten$u
@@ -1056,13 +1056,13 @@
 7103=Scannen$u
 7104=Proef$t
 7105=Voorwaarts GPS-gegevens te hosten
-7106=Alle gegevens van GPS wordt verstuurd naar TCP-poort 23%0a en kan er worden doorgestuurd naar een seri??le poort%0a door
+7106=Alle gegevens van GPS wordt verstuurd naar TCP-poort 23\n en kan er worden doorgestuurd naar een seri??le poort\n door
 7107=Interval in seconden voor houtkap
-7108=Fout: failed to open seri??le poort:%20
+7108=Fout: failed to open seri??le poort:+
 7109=Fout: Kon geen lijst van beschikbare seri??le poorten
 7110=GPS niet gevonden
-7111=Proberen%20
-7112=op%20
+7111=Proberen+
+7112=op+
 7113=- ik heb bepaalde gegevens
 7114=GPS Poort gevonden
 7115=- Geen GPS-gegevens tag gevonden

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-17 11:28:11 UTC (rev 2783)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-17 18:12:01 UTC (rev 2784)
@@ -93,15 +93,15 @@
 161=Pokaz czarna liste
 162=Sciagnij skalibrowane
 170=Wybierz folder z danymi
-171=Profil nie istnieje:%20
+171=Profil nie istnieje:+
 172=Blad: nie mozna utworzyc katalogu map:
 173=GPSBabel:
 174=Krotkie nazwy
 175=Importuj
-176=Pierwsze uruchomienie %0a Prosze wybrac katalog z danymi %0a i stworzyc swoj profil %0a%0a Dla zaawansowanych: %0a Blad odczytu pliku wlasciwosci:
+176=Pierwsze uruchomienie \n Prosze wybrac katalog z danymi \n i stworzyc swoj profil \n\n Dla zaawansowanych: \n Blad odczytu pliku wlasciwosci:
 177=-- chwilowo nieuzywane--
 178=Sprawdz wersje
-179=Jestes na%0atej wersji.
+179=Jestes na\ntej wersji.
 180=Wez skrzynki
 181=tutaj
 182=Nowa lista
@@ -117,7 +117,7 @@
 192=Zapisz zmiany
 193=Dodaj Addis
 195=Aktualny srodek
-196=Wszystkich # skrzynek (GC&OC)%0aWszystkich # widocznych%0aWszystkich # znalezionych
+196=Wszystkich # skrzynek (GC&OC)\nWszystkich # widocznych\nWszystkich # znalezionych
 197=Pokaz/ukryj cachewycieczke
 198=PlanujTrase
 199=Dodaj do cachewycieczki
@@ -131,8 +131,8 @@
 207=** free/unused/depreciated **
 208=Przebuduj index
 209=Trwa przebudowywanie index
-210=Skrzynki skresla sie:%20
-211=Skrzynki brzmieniu:%20
+210=Skrzynki skresla sie:+
+211=Skrzynki brzmieniu:+
 212=Usun wszystkie pliki .xml, ktore nie sa w index.xml i zalaczone obrazy
 213=Usuwanie sierot
 214=Nowy WaypointUsunacUsunac
@@ -145,7 +145,7 @@
 221=Nadpisac filtr?
 222=Taki filtr juz istnieje. Nadpisac?
 223=Usunac filtr?
-224=%20- Usunac zapisany filtr?
+224=+- Usunac zapisany filtr?
 225=Takze w logach
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -176,7 +176,7 @@
 272=Wersja CacheWolf-a:
 273=[filter on/off]
 274=nie Autosortowanie
-275=waypoint juz istnieje!%0a punkt trasy przed wyjazdem szczeg??ly prosze zmienic!
+275=waypoint juz istnieje!\n punkt trasy przed wyjazdem szczeg??ly prosze zmienic!
 299=Wyrazenie regularne (zwykle)
 300=Typ:
 301=Rozmiar:
@@ -204,7 +204,7 @@
 323=Fehler beim Schreiben der Datei
 324=- sprobowac ponownie?
 325=Za malo punktow odniesienia, mapa nie skalibrowana.
-326=Nie ma dostepnej skalibrowanej mapy. %0a Prosze wybrac inna skale by wyswietlic trase i skrzynki.
+326=Nie ma dostepnej skalibrowanej mapy. \n Prosze wybrac inna skale by wyswietlic trase i skrzynki.
 327=Informacje
 328=Data znalezienia
 329=Ukryta
@@ -237,9 +237,9 @@
 588=System jednostek
 589=Metryczny (km)
 590=Milowy (mi.)
-591=Pozostaw puste dla jezyka domyslnego lub%0adodaj 2 literowy jezyk, e.g. DE, EN, PL
+591=Pozostaw puste dla jezyka domyslnego lub\ndodaj 2 literowy jezyk, e.g. DE, EN, PL
 592=Jezyk (wymagany restart)
-593=Haslo jest opcjonalne.%0aWpisz tylko jesli chcesz zachowac je w pref.xml
+593=Haslo jest opcjonalne.\nWpisz tylko jesli chcesz zachowac je w pref.xml
 594=Passwd
 595=Lista
 596=Nazwa
@@ -391,8 +391,8 @@
 1026=#Rec
 1027=OC-Idx
 1028=)?
-1029=Uwaga. Sa waypointy zaznaczone ale niewidoczne.%0a(Glowne skrzynki:%20
-1030=, dodatkowe waypointy:%20
+1029=Uwaga. Sa waypointy zaznaczone ale niewidoczne.\n(Glowne skrzynki:+
+1030=, dodatkowe waypointy:+
 1031=Usunac je takze?
 1032=sciezka do przegladarki:
 1033=nieprawidlowa!
@@ -477,10 +477,10 @@
 1507=Wspolrzedne poza zasiegiem:
 1508=szerokosc
 1509=dlugosc
-1510=Brak danych z GPS%0aZamkniete polaczenie do portu
-1511=Bledne dane z GPS%0a mozliwe przyczyny:%0a zly Port,%0a zla predkosc portu (Baudrate),%0a protokol nie NMEA%0aPolaczenie z portem zerwane%0aOstatni wiersz probowany do interpretacji:
+1510=Brak danych z GPS\nZamkniete polaczenie do portu
+1511=Bledne dane z GPS\n mozliwe przyczyny:\n zly Port,\n zla predkosc portu (Baudrate),\n protokol nie NMEA\nPolaczenie z portem zerwane\nOstatni wiersz probowany do interpretacji:
 1512=Waypoint
-1513=Nie mozna poruszac mapy bez prawidlowych wspolrzednych.%0a Prosze Wprowadz Wspolrzedne srodka %0alub na wybrana skrzynke, lub pozycja GPS
+1513=Nie mozna poruszac mapy bez prawidlowych wspolrzednych.\n Prosze Wprowadz Wspolrzedne srodka \nlub na wybrana skrzynke, lub pozycja GPS
 1514=Nie mozna przeliczyc odleglosci, pozycja GPS nie ustawiona
 1600=Opencahing Download
 1601=max. Odleglosc:
@@ -496,17 +496,17 @@
 1611=Importowanie opisu skrzynki:
 1612=Importowanie Log:
 1613=Importowanie obrazow:
-1614=Blad podczas rozpakowywania %0apliku update'u
+1614=Blad podczas rozpakowywania \npliku update'u
 1615=Blad przeliczania pliku, stan:
 1616=Blad: nie moge sciagnac pliku z opencaching
-1617=Ignoruje Blad w html-skrzynka-opis: "<img" without "src=" dla skrzynki%20
-1618=Ignoruje Blad w skrzynce:%20
-1619=: nie moge pobrac obrazka z URL:%20
-1620=Sciagam osadzone grafiki:%20
-1621=Blad podczas interpretacji danych%0a Z Opencaching,%0aNajpopularniejszy blad w Opencaching%0aSprobuj pozniej%0a Status:
+1617=Ignoruje Blad w html-skrzynka-opis: "<img" without "src=" dla skrzynki+
+1618=Ignoruje Blad w skrzynce:+
+1619=: nie moge pobrac obrazka z URL:+
+1620=Sciagam osadzone grafiki:+
+1621=Blad podczas interpretacji danych\n Z Opencaching,\nNajpopularniejszy blad w Opencaching\nSprobuj pozniej\n Status:
 1622=Wyklucz znalezione skrzynki
 1623=Max. numer:
-1624=%20skrzynek
+1624=+skrzynek
 1625=Sciagnij TBs
 1626=Max. logow:
 1627=Wszystkie skrzynki
@@ -527,7 +527,7 @@
 1710=Nie moge liczyc pustego ciagu
 1711=Ciagi musza byc tej samej dlugosci
 1712=Zle wspolrzedne:
-1713=Zly format wspolrzednych. Dozwolone to cw / dd / dmm / dms /%20
+1713=Zly format wspolrzednych. Dozwolone to cw / dd / dmm / dms /+
 1714=GoTo: Waypoint nie istnieje:
 1715=instr: Pozycja poczatkowa nie w ciagu
 1716=mid: Oczekiwano wartosci calkowitej
@@ -559,7 +559,7 @@
 1744=precyzowanie z identycznym katem wplywu nie jest mozliwe
 1800=Sciagnij skalibrowane mapy
 1801=Sciagnij kawalki (?)
-1802=Sciagnij skalibrowane mapy%0a Wybierz serwis online:
+1802=Sciagnij skalibrowane mapy\n Wybierz serwis online:
 1803=dla
 1804=wszystkich
 1805=zaznaczonych
@@ -784,7 +784,7 @@
 2679=brak zywnosci w poblizu
 2680=Zywnosci w poblizu
 3000=Zamknij
-4000=Wczytaj skrzynki:%20
+4000=Wczytaj skrzynki:+
 4001=Pliki GPX z opencaching nie zawieraja informacji o obrazach, nie moga byc one wczytane. Najlepiej pobierz skrzynki z opencaching przez menu /Aplikacja/Importuj/Sciagnij Z Opencaching
 4100=Wybierz katalog:
 4101=Mapy
@@ -798,34 +798,34 @@
 4109=Wczytuje mapy...
 4110=wczytuje
 4111=Wspolrzedne musza byc wprowadzone w formacie N XX XX.XXX E XXX XX.XXX
-4112=IO-Blad podczas kopiowania obrazu z:%20
-4113=do:%20
-4114=%20Blad:%20
-4115=Blad: nie moge odczytac obrazu:%20
-4116=%20-%20obraz nie skopiowany
-4117=Blad podczas importowania pliku .map:%20
+4112=IO-Blad podczas kopiowania obrazu z:+
+4113=do:+
+4114=+Blad:+
+4115=Blad: nie moge odczytac obrazu:+
+4116=+-+obraz nie skopiowany
+4117=Blad podczas importowania pliku .map:+
 4118=IO-Blad podczas wczytywania lub nadpisywania pliku
-4119=Plik kalibracji nie znaleziony dla:%20
+4119=Plik kalibracji nie znaleziony dla:+
 4120=skonczone.
 4200=Wybierz katalog map
 4201=Informacja
 4203=Wczytuje liste map...
-4204=Brak skalibrowanej mapy %0a Prosze Wybierz skale %0a by pokazac trase i skrzynki. %0a Mozesz uzyskac jakas przez menu: Aplikacja/Mapy/sciagnij skalibrowane
-4206=Dist:%20
+4204=Brak skalibrowanej mapy \n Prosze Wybierz skale \n by pokazac trase i skrzynki. \n Mozesz uzyskac jakas przez menu: Aplikacja/Mapy/sciagnij skalibrowane
+4206=Dist:+
 4207=Blad
-4208=Bug: %0anieprawidlowy mapChangeModus:%20
-4210=Przesuwanie mapy nie moze dzialac bez mapy - Prosze wybrac jakas. %0a Mozesz wybrac pusta
-4211=Zadna%20
+4208=Bug: \nnieprawidlowy mapChangeModus:+
+4210=Przesuwanie mapy nie moze dzialac bez mapy - Prosze wybrac jakas. \n Mozesz wybrac pusta
+4211=Zadna+
 4212=mniej
 4213=bardziej
-4214=%20szczegolowa mapa dostepna
+4214=+szczegolowa mapa dostepna
 4215=Nie ma skrzynek wybraych
 4216=Wczytuje mape...
 4217=Nie moge znalezc obrazow polaczonych z:
 4218=Nie moge wczytac mapy:
 4219=Za malo pamieci do wczytania mapy:
-4220=Mozesz sprobowac zamknac %0a wszystkie programy %0a i zrestartowac CacheWolfa
-4221=Za malo zrodel do wczytania mapy:%20
+4220=Mozesz sprobowac zamknac \n wszystkie programy \n i zrestartowac CacheWolfa
+4221=Za malo zrodel do wczytania mapy:+
 4222=Za malo pamieci
 4230=Idz tu$g
 4231=Idz tu
@@ -884,31 +884,31 @@
 4294=zoom
 4295=center
 4296=detailing
-4300=Pusty 1 Pixel =%20
-4301=%20metrow
-4302=Lat/Lon poza obszarem podczas wczytywania%20
-4303=za malo lini w pliku%20
+4300=Pusty 1 Pixel =+
+4301=+metrow
+4302=Lat/Lon poza obszarem podczas wczytywania+
+4303=za malo lini w pliku+
 4304=za malo punktow do kalibracji mapy.
-4305=Nieprawidlowe wartosci afiniczne %0a (macierz nie moze byc odwrocona)%0a w pliku
+4305=Nieprawidlowe wartosci afiniczne \n (macierz nie moze byc odwrocona)\n w pliku
 4306=mapa nie skalibrowana
 4400=Uwaga
-4401=Ignoruje Blad:%0a nie moge podac danych GPS do hosta:
+4401=Ignoruje Blad:\n nie moge podac danych GPS do hosta:
 4402=zatrzymaj i uruchom GPS by sprobowac ponownie
 4403=Blad
-4404=Nie moge polaczyc z odbiornikiem GPS.%0a Blad otwarcia Portu szeregowego
-4405=mozliwe przyczyny:\n Inny (GPS-)program blokuje port%0azly port%0aLoox: aktywna podczerwien blokuje GPS"
+4404=Nie moge polaczyc z odbiornikiem GPS.\n Blad otwarcia Portu szeregowego
+4405=mozliwe przyczyny:\n Inny (GPS-)program blokuje port\nzly port\nLoox: aktywna podczerwien blokuje GPS"
 4406=Prosze kopiuj jave_ewe.dll do katalogu z programem
-4407=Pliki Profilu sa w nieaktualnym formacie.%0aZostaja na sile przekonwertowywane na aktualny format.%0a W zaleznosci od wielkosci profilu i mozliwosci komputera moze to chwile potrwac.%0a Prosze czekac??]
+4407=Pliki Profilu sa w nieaktualnym formacie.\nZostaja na sile przekonwertowywane na aktualny format.\n W zaleznosci od wielkosci profilu i mozliwosci komputera moze to chwile potrwac.\n Prosze czekac??]
 4408=Nie moge polaczyc z GPSD:
-4409=mozliwe przyczyny:%0aGPSD host nieosiagalny lub GPSD tu nie dziala
+4409=mozliwe przyczyny:\nGPSD host nieosiagalny lub GPSD tu nie dziala
 4500=Wsz:
 4501=Odw:
 4502=Zna:
 4600=Niektore skrzynki nie moga byc wyswietlone bo sa na blackliscie
-4700=Ignoruje blad podczas%0aodczytu pliku kalibracji
+4700=Ignoruje blad podczas\nodczytu pliku kalibracji
 4701=Szukam najlepszej mapy
 4702=Optymalizacja
-4703=Cachewolf moze wczytywac mapy duzo szybciej%0a dodajac znaczniki identyfikujace do nazwy pliku. %0a Zrobic to teraz?%0aTo moze zajac pare minut.
+4703=Cachewolf moze wczytywac mapy duzo szybciej\n dodajac znaczniki identyfikujace do nazwy pliku. \n Zrobic to teraz?\nTo moze zajac pare minut.
 4704=Ponownie nazywam plik:
 4705=Blad ponownego nazywania:
 4706=do:%0
@@ -916,9 +916,9 @@
 4708=Blad podczas odczytu:
 4709=Nie moge znalezc obrazka powiazanego z:
 4800=Wczytuje serwisy map online
-4801=Ignoruje blad podczas %0a wczytywania pliku definicji serwera mapy
-4802=Sciagam skalibrowany (z georeferencjami) %0a obraz mapy %0a '
-4803=' %0a Sciagam rzad
+4801=Ignoruje blad podczas \n wczytywania pliku definicji serwera mapy
+4802=Sciagam skalibrowany (z georeferencjami) \n obraz mapy \n '
+4803=' \n Sciagam rzad
 4804=kolumna
 4805=Pole
 4806=: Ignoruje blad:
@@ -926,7 +926,7 @@
 4808=downloadImage: content-type:
 4809=to nie obraz, poczatek struktury zawartosci:
 4810=Blad podczas sciagania lub zapisu mapy:
-4811=OnlineMapService: getMapInfoObjectInternal(Pole mapy, Point pixelsize):%0a This method must be overloaded in order to be able to use it
+4811=OnlineMapService: getMapInfoObjectInternal(Pole mapy, Point pixelsize):\n This method must be overloaded in order to be able to use it
 4812=WebMapService: dane >Nazwa:< brakuje w pliku:
 4813=WebMapService: dane >MainUrl:< brakuje w pliku:
 4814=WebMapService: CoordinateReferenceSystemCacheWolf nie ma zadnej wartosci
@@ -947,20 +947,20 @@
 4829=getUrlForBoundingBox: Point:
 4830=Nie pasujace Gau??-Kr??ger-Stripe w kodzie EPSG w pliku .wms
 4831=getMapInfoObject: Cachewolf nie wspiera takich wspolrzednych:
-4900=%20to nie sa koordynaty Gauss-Krueger
-4920=EPSG code%20
-4921=%20nie wspierane
-4922=EPSG code brakujacy w:%20
-4923=fromWgs84: EPSG code%20
-4924=ToWgs84: EPSG code%20
+4900=+to nie sa koordynaty Gauss-Krueger
+4920=EPSG code+
+4921=+nie wspierane
+4922=EPSG code brakujacy w:+
+4923=fromWgs84: EPSG code+
+4924=ToWgs84: EPSG code+
 5000=Wczytuje liste skrzynek
-5001=Nie moge powiazac spiderem waypointow bezposrednio.%0aProsze sprawdzic glowna skrzynke.
+5001=Nie moge powiazac spiderem waypointow bezposrednio.\nProsze sprawdzic glowna skrzynke.
 5002=: Na ten moment, ta funkcja jest dostepna tylko dla geocaching.com i opencaching.{cz,de,org.uk,pl}.
 5003=Opcje
 5004=Buduje powiazania z dodatkowymi waypointami...
 5497=Blad: Brakuje tagu w spider.def
 5498=Nieudane logowanie. Blad wczytania strony po zalogowaniu.
-5499=Blad wczytywania strony logowania.%0aProsze sprawdzic polaczenie z internetem.
+5499=Blad wczytywania strony logowania.\nProsze sprawdzic polaczenie z internetem.
 5500=Blad
 5501=Logowanie nieudane! Brak konta lub zle haslo?
 5502=Sciagam pierwsza strone...
@@ -972,17 +972,17 @@
 5508=Loguje...
 5509=Wspolrzedne dla srodka musza byc podane
 5510=Opcje Spidera
-5511=Znaleziona%20
-5512=%20nowy/aktualizacja skrzynki
-5513=Wczytuje:%20
-5514=Pobieram bugi:%20
-5515=Nie mozna zaladowac skrzynki.%0aProsze sprawdzic polaczenie z netem.%0aSprobowac ponownie?
-5516=%20Nie mozna zaladowac%0aopisu skrzynek.
+5511=Znaleziona+
+5512=+nowy/aktualizacja skrzynki
+5513=Wczytuje:+
+5514=Pobieram bugi:+
+5515=Nie mozna zaladowac skrzynki.\nProsze sprawdzic polaczenie z netem.\nSprobowac ponownie?
+5516=+Nie mozna zaladowac\nopisu skrzynek.
 5517=Spider updates?
-5518=%20Skrzynki w bazie wymagaja update'u.%0aZrobic to teraz?
+5518=+Skrzynki w bazie wymagaja update'u.\nZrobic to teraz?
 5519=Informacje
-5520=Tylko zadane maksimum zostalo wczytane.%0aPowtorz pozniej by znalezc inne skrzynki.%0aZadna z dotychczasowych skrzynek nie zostala updateowana.
-5521=Strona%20
+5520=Tylko zadane maksimum zostalo wczytane.\nPowtorz pozniej by znalezc inne skrzynki.\nZadna z dotychczasowych skrzynek nie zostala updateowana.
+5521=Strona+
 5522=Sprawdz starszych plik??w XML (bez <CACHE... />)?
 6000=Przewodnik
 6001=Nazwa
@@ -1003,7 +1003,7 @@
 6019=Tracking numer
 6020=Travelbug nie znaleziony.
 6021=Wiecej niz jeden travelbug Znaleziony. Sprecyzuj nazwe.
-6022=: aktualna cache:%20
+6022=: aktualna cache:+
 6025=Nazwa:
 6026=Tracking #:
 6027=Id/Guid:
@@ -1038,17 +1038,17 @@
 6124=Gamma Cassiopeia
 6125=Deneb w gwiazdozbiorze Labedzia
 6126=Mimosa w Krzyzu Poludnia
-7000=Wypuszczona:%20
-7001=kandydata wydania:%20
-7002=w opracowaniu, stabilna:%20
-7003=w opracowaniu, najnowsza:%20
+7000=Wypuszczona:+
+7001=kandydata wydania:+
+7002=w opracowaniu, stabilna:+
+7003=w opracowaniu, najnowsza:+
 7010=aktualny
 7011=Uptade dostepny
 7012=niedostepne
 7013=Blad
 7020=Typ rekomendowanej wersji
 7021=typ tej wersji
-7022=to jest:%20
+7022=to jest:+
 7023=Blad sciagania informacji aktualnej wersji
 7100=Opcje portu szeregowego
 7101=Update Ports$u
@@ -1056,13 +1056,13 @@
 7103=Scan$u
 7104=Test$t
 7105=Przekaz dane GPS do hosta
-7106=Wszystkie dane z GPS beda przeslane na port 23 TCP%0a i moga byc przekierowane na port szeregowy%0a przez
+7106=Wszystkie dane z GPS beda przeslane na port 23 TCP\n i moga byc przekierowane na port szeregowy\n przez
 7107=Przerwa w sekundach dla logowania
-7108=Blad: Nieudane otwarcie portu szeregowego:%20
+7108=Blad: Nieudane otwarcie portu szeregowego:+
 7109=Blad: Nie moge zyskac danych o portach szeregowych
 7110=GPS nie znaleziony
-7111=Probowanie%20
-7112=%20
+7111=Probowanie+
+7112=+
 7113=- sa jakies dane
 7114=GPS Port Znaleziony
 7115=- Nie znaleziono tagu danych GPS

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-17 11:28:11 UTC (rev 2783)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-17 18:12:01 UTC (rev 2784)
@@ -93,15 +93,15 @@
 161=Visa Blacklist
 162=Ladda kalibrerad
 170=V??lj databas
-171=profil finns inte: %20
+171=profil finns inte: +
 172=Fel: kan inte skapa kartor katalog:
 173=gpsbabel:
 174=korta namn
 175=Importera
-176=F??rsta start%0a V??lj en data 0a katalog??ch skapa en ny profil%0a%0a avancerat:%0a inte kunde l??sa inst??llningsfil:
+176=F??rsta start\n V??lj en data 0a katalog??ch skapa en ny profil\n\n avancerat:\n inte kunde l??sa inst??llningsfil:
 177=-- inte l??ngre anv??nds --
 178=versionkontroll
-179=Du ??r p??%0athe nuvarande version.
+179=Du ??r p??\nthe nuvarande version.
 180=Drag cachar
 181=h??r
 182=Ny lista
@@ -117,7 +117,7 @@
 192=Spara ??ndringar
 193=L??gg till Addis
 195=Nuvarande Centre
-196=totalt antal cachar (GC & OC)%0aTotal # synlig%0aTotal # hittades
+196=totalt antal cachar (GC & OC)\nTotal # synlig\nTotal # hittades
 197=Visa / D??lj cachetour
 198=Cachetour
 199=L??gg till cachetour
@@ -131,8 +131,8 @@
 207=** oanv??nda **
 208=Rebuild index
 209=Rebuilding index
-210=cachar utg??: %20
-211=Caches till: %20
+210=cachar utg??: +
+211=Caches till: +
 212=Ta bort alla. XML-filer inte index.xml och tillh??rande bilder
 213=bort f??r??ldral??sa
 214=Ny v??gpunkt
@@ -145,7 +145,7 @@
 221=Skriv ??ver filter?
 222=Det finns redan. ??ver den?
 223=Ta bort filter?
-224=%20 - radera sparade filter?
+224=+ - radera sparade filter?
 225=??ven i loggarna
 226=profil inte kan tas bort.
 227=aktiv profil kan inte raderas.
@@ -176,7 +176,7 @@
 272=CacheWolf version:
 273=filter on / off
 274=no autosort
-275=Waypoint finns redan!%0aPlease d??pa waypoint innan de l??mnar detaljer!
+275=Waypoint finns redan!\nPlease d??pa waypoint innan de l??mnar detaljer!
 299=Vanligt uttryck
 300=Typ:
 301=Storlek:
@@ -204,7 +204,7 @@
 323=Fehler beim Schreiben der Datei
 324=- f??rs??ka igen?
 325=Inte nog referenspunkter, karta inte kalibreras
-326=Ingen kalibreras karta tillg??nglig. %0a V??lj en skala att visa sp??r och cachar.
+326=Ingen kalibreras karta tillg??nglig. \n V??lj en skala att visa sp??r och cachar.
 327=Information
 328=Datum hittades
 329=Dold p??
@@ -237,9 +237,9 @@
 588=Enhet System
 589=Metric (km)
 590=Imperial (mi.)
-591=L??mna tom f??r standardspr??k eller%0aadd 2 tecken spr??k, t.ex. DE, EN
+591=L??mna tom f??r standardspr??k eller\nadd 2 tecken spr??k, t.ex. DE, EN
 592=Spr??k (behov omstart)
-593=L??senordet ??r frivillig h??r.%0aEnter bara om du vill lagra det i pref.xml
+593=L??senordet ??r frivillig h??r.\nEnter bara om du vill lagra det i pref.xml
 594=Passwd
 595=List
 596=Namn
@@ -391,8 +391,8 @@
 1026=# Rec
 1027=OC-Index
 1028=)?
-1029=Det finns waypoints som ??r markerade men osynligt.%0a (Main cachar: %20
-1030=, ytterligare Waypoints: %20
+1029=Det finns waypoints som ??r markerade men osynligt.\n (Main cachar: +
+1030=, ytterligare Waypoints: +
 1031=Ta bort dem ocks???
 1032=S??kv??g till webbl??sare:
 1033=??r felaktigt!
@@ -477,12 +477,12 @@
 1507=koordinater ??r utom r??ckh??ll:
 1508=latitud
 1509=longitud
-1510=Inga data fr??n GPS%0aConnection till serieport st??ngd
-1511=Kan inte tolka data fr??n GPS%0a m??jliga orsaker:%0a fel Port,%0a fel Baudrate,%0a inte NMEA-protokoll%0aConnection till serieport st??ngd String%0aLast f??rs??kt att tolka:
+1510=Inga data fr??n GPS\nConnection till serieport st??ngd
+1511=Kan inte tolka data fr??n GPS\n m??jliga orsaker:\n fel Port,\n fel Baudrate,\n inte NMEA-protokoll\nConnection till serieport st??ngd String\nLast f??rs??kt att tolka:
 1512=Waypoint
 1513=Kan inte b??rja r??ra karta utan giltig koordinater. V??nligen ange koordinater som destination som center eller i utvalda cache, eller starta GPS
 1514=Kan inte r??kna avst??nd, eftersom GPS-position ??r inte inst??lld
-1600=%20 H??mta
+1600=+ H??mta
 1601=max. Avst??nd:
 1602=Ladda ner bilder
 1603=H??mta kartor
@@ -499,14 +499,14 @@
 1614=Fel vid unzipping udpate fil
 1615=Fel vid analys uppdaterad fil, ange:
 1616=Fel: Kunde inte h??mta udpate fil fr??n opencaching.de
-1617=Ignorera fel i html-Cache-Beskrivning: "<img" utan "src =" i cache %20
-1618=Ignorera fel i Cache: %20
-1619=: kunde inte ladda ner bild fr??n URL: %20
-1620=h??mta inb??ddade bilder: %20
-1621=Fel vid tolkning av data%0a fr??n Opencaching.de, ??r%0aThis troligen ett fel p?? Opencaching.de%0aRetry senare%0a Status:
+1617=Ignorera fel i html-Cache-Beskrivning: "<img" utan "src =" i cache +
+1618=Ignorera fel i Cache: +
+1619=: kunde inte ladda ner bild fr??n URL: +
+1620=h??mta inb??ddade bilder: +
+1621=Fel vid tolkning av data\n fr??n Opencaching.de, ??r\nThis troligen ett fel p?? Opencaching.de\nRetry senare\n Status:
 1622=Uteslut hittade cachar
 1623=Importera upto:
-1624=%20 cachar (tom=alla)
+1624=+ cachar (tom=alla)
 1625=H??mta TBS
 1626=Max. spara loggar:
 1627=Alla cachar
@@ -527,7 +527,7 @@
 1710=Kan inte r??kna tom str??ng
 1711=Ers??ttning tecken str??ngar m??ste vara lika l??nga
 1712=Ogiltig samordna:
-1713=Ogiltigt samordna format. Till??tna ??r cw / dd / DMM / DMS / %20
+1713=Ogiltigt samordna format. Till??tna ??r cw / dd / DMM / DMS / +
 1714=G?? till: Waypoint finns inte:
 1715=Instr: Startposition inte i str??ng
 1716=MID: Integer argument v??ntat
@@ -559,7 +559,7 @@
 1744=utforskning med identiska med vinklarna inte ??r m??jligt
 1800=H??mta georefererade kartor
 1801=Ladda ner plattor
-1802=Ladda georefererade kartor%0a V??lj webbtj??nst:
+1802=Ladda georefererade kartor\n V??lj webbtj??nst:
 1803=f??r
 1804=alla
 1805=ikryssad
@@ -784,7 +784,7 @@
 2679=ingen mat i n??rheten
 2680=Food i n??rheten
 3000=St??ng
-4000=Loaded cachar:%20
+4000=Loaded cachar:+
 4001=GPX filer fr??n opencaching inte inneh??ller n??gon information av bilder, kan de inte laoded. B??st du cachar fr??n opencaching genom menyn / Application / Import / Download fr??n Opencaching
 4100=V??lj katalog:
 4101=Maps
@@ -798,34 +798,34 @@
 4109=Laddar kartor ...
 4110=laddning
 4111=Koordinater m??ste anges i formatet N XX XX.XXX E XXX XX.XXX
-4112=IO-Fel vid kopiering bild fr??n: %20
-4113=till: %20
-4114=%20 error: %20
-4115=Fel: Kunde inte avkoda bild: %20
-4116=%20 - %20 bild inte kopieras
-4117=Fel vid import. Map-fil: %20
+4112=IO-Fel vid kopiering bild fr??n: +
+4113=till: +
+4114=+ error: +
+4115=Fel: Kunde inte avkoda bild: +
+4116=+ - + bild inte kopieras
+4117=Fel vid import. Map-fil: +
 4118=IO-Fel vid l??sning eller skrivning kalibrering fil
-4119=Ingen kalibrering fil hittades f??r: %20
+4119=Ingen kalibrering fil hittades f??r: +
 4120=gjort.
 4200=V??lj karta katalog
 4201=Information
 4203=Lastspecifikationers av kartor ...
-4204=Ingen georefererade kartan tillg??nglig%0a V??lj en skala%0a att visa sp??ret och cachar. %0a Du kan f?? en av menyn: Application / Kartor / download kalibrerad
-4206=Dist: %20
+4204=Ingen georefererade kartan tillg??nglig\n V??lj en skala\n att visa sp??ret och cachar. \n Du kan f?? en av menyn: Application / Kartor / download kalibrerad
+4206=Dist: +
 4207=Fel
-4208=Bug:%0aillegal mapChangeModus: %20
-4210=Flytta kartan kan inte k??ras utan en karta - v??lj ett. %0a Du kan v??lja en tom karta
-4211=No %20
+4208=Bug:\nillegal mapChangeModus: +
+4210=Flytta kartan kan inte k??ras utan en karta - v??lj ett. \n Du kan v??lja en tom karta
+4211=No +
 4212=mindre
 4213=mer
-4214=%20 detaljerad karta finns
+4214=+ detaljerad karta finns
 4215=Ingen cachar ut av en f??sting
 4216=Laddar karta ...
 4217=Kunde inte hitta bilden i samband med:
 4218=Kunde inte l??sa kartan:
 4219=Inte tillr??ckligt med minne f??r att l??sa kartan:
-4220=Du kan prova att st??nga%0a alla prgrams och 0A??tarta CacheWolf
-4221=inte tillr??ckligt med resurser f??r att ladda kartan: %20
+4220=Du kan prova att st??nga\n alla prgrams och 0A??tarta CacheWolf
+4221=inte tillr??ckligt med resurser f??r att ladda kartan: +
 4222=Out of memory error
 4230=G?? hit$g
 4231=G?? hit
@@ -884,41 +884,41 @@
 4294=zoom
 4295=center
 4296=detailing
-4300=tom 1 pixel=%20
-4301=%20 meter
-4302=Lat / Lon r??ckh??ll n??r du l??ser %20
-4303=inte tillr??ckligt rader i filen %20
+4300=tom 1 pixel=+
+4301=+ meter
+4302=Lat / Lon r??ckh??ll n??r du l??ser +
+4303=inte tillr??ckligt rader i filen +
 4304=inte tillr??ckligt med po??ng f??r att kalibrera kartan
-4305=Ej till??tet v??rden i affine%0a (matris kan inte inverteras)%0a i filen
+4305=Ej till??tet v??rden i affine\n (matris kan inte inverteras)\n i filen
 4306=map inte kalibreras
 4400=Varning
-4401=Ignorera fel:%0a kunde inte fram emot GPS-data till host:
+4401=Ignorera fel:\n kunde inte fram emot GPS-data till host:
 4402=stop och GPS b??rja f??rs??ka igen
 4403=Fel
-4404=Kunde inte ansluta till GPS-mottagare.%0a Fel vid ??ppning serieport
-4405=possible sk??l: \ n Another (GPS-) program blockerar port%0awrong port%0aOn Loox: aktiv infrar??d port blockerar GPS "
+4404=Kunde inte ansluta till GPS-mottagare.\n Fel vid ??ppning serieport
+4405=possible sk??l: \ n Another (GPS-) program blockerar port\nwrong port\nOn Loox: aktiv infrar??d port blockerar GPS "
 4406=Kopiera jave_ewe.dll i katalogen av cachewolf program
-4407=Profilen filer ??r inte i det aktuella formatet.%0aTherefore de nu omvandlas till det aktuella formatet. Beroende av storleken p?? profilen och den dator som anv??nds h??r kan ta n??gra minuter. V??nligen ha med oss tills konverteringen ??r klar.
+4407=Profilen filer ??r inte i det aktuella formatet.\nTherefore de nu omvandlas till det aktuella formatet. Beroende av storleken p?? profilen och den dator som anv??nds h??r kan ta n??gra minuter. V??nligen ha med oss tills konverteringen ??r klar.
 4408=Kunde inte ansluta till GPSD:
-4409=possible sk??l:%0aGPSD v??rd ??r inte n??s eller GPSD ??r inte ig??ng det
+4409=possible sk??l:\nGPSD v??rd ??r inte n??s eller GPSD ??r inte ig??ng det
 4500=Tot:
 4501=Visa:
 4502=FND:
 4600=Vissa cache (s) inte kan uppfyllas p?? grund av fel svartlista status
-4700=Ignorera fel medan%0areading??alibrering fil 0a
+4700=Ignorera fel medan\nreading??alibrering fil 0a
 4701=S??ker efter b??sta karta
 4702=Optimering
-4703=Cachewolf kan g??ra lastning kartor mycket snabbare genom att l??gga till ett identifieringsm??rke p?? filnamnet. Vill du att jag ska g??ra det nu?%0aIt kan ta flera minuter.
+4703=Cachewolf kan g??ra lastning kartor mycket snabbare genom att l??gga till ett identifieringsm??rke p?? filnamnet. Vill du att jag ska g??ra det nu?\nIt kan ta flera minuter.
 4704=Renaming fil:
 4705=Kunde inte byta namn till
-4706=to:%0an
+4706=to:\nn
 4707=I / O-Fel vid l??sning:
 4708=Fel vid l??sning:
 4709=Kunde inte hitta bilden assiciated till:
 4800=Laddar online karttj??nster
-4801=Ignorera fel medan%0a l??sning Web Map Service definitionsfilen
-4802=H??mtar kalibrerad (georefererade)%0a kartbild%0a "
-4803='%0a Downloading kakel%0a rad
+4801=Ignorera fel medan\n l??sning Web Map Service definitionsfilen
+4802=H??mtar kalibrerad (georefererade)\n kartbild\n "
+4803='\n Downloading kakel\n rad
 4804=kolumn
 4805=Tile
 4806=: Ignorera fel:
@@ -926,7 +926,7 @@
 4808=downloadImage: Content-Type:
 4809=??r inte en bild, b??rjar av inneh??ll:
 4810=Fel vid nedladdning eller spara karta:
-4811=OnlineMapService: getMapInfoObjectInternal (omr??de maparea punkt pixelsize):%0a Denna metod m??ste belastas f??r att kunna anv??nda den
+4811=OnlineMapService: getMapInfoObjectInternal (omr??de maparea punkt pixelsize):\n Denna metod m??ste belastas f??r att kunna anv??nda den
 4812=WebMapService: egendom> Namn: <saknas i filen:
 4813=WebMapService: Objekt> MainUrl: <saknas i filen:
 4814=WebMapService: ingen CoordinateReferenceSystemCacheWolf ges
@@ -947,20 +947,20 @@
 4829=getUrlForBoundingBox: Point:
 4830=Inga matchande Gau??F-Kr??cger-rand i EPSG-kodlistan p??. WMS
 4831=getMapInfoObject: Koordinatsystem inte st??ds av Cachewolf:
-4900=%20 ??r inte en tysk Gauss-Krueger samordna
-4920=EPSG kod %20
-4921=%20 st??ds
-4922=EPSG kod saknas i: %20
-4923=fromWgs84: EPSG kod %20
-4924=ToWgs84: EPSG kod %20
+4900=+ ??r inte en tysk Gauss-Krueger samordna
+4920=EPSG kod +
+4921=+ st??ds
+4922=EPSG kod saknas i: +
+4923=fromWgs84: EPSG kod +
+4924=ToWgs84: EPSG kod +
 5000=Load Cachelist
-5001=Kan inte spindel ytterligare waypoint direkt.%0aPlease kolla viktigaste cache.
+5001=Kan inte spindel ytterligare waypoint direkt.\nPlease kolla viktigaste cache.
 5002=: F??r n??rvarande ??r denna funktion endast tillg??nglig f??r geocaching.com och opencaching. (CZ, DE, org.uk, pl).
 5003=Inst??llningar
 5004=Building referenser f??r ytterligare waypoints ...
 5497=Fel saknas tag i spider.def
 5498=Inloggning misslyckades. Fel vid laddning av sidan efter inloggning.
-5499=Fel vid inl??sning av inloggningssidan.%0aPlease kontrollera din Internetanslutning.
+5499=Fel vid inl??sning av inloggningssidan.\nPlease kontrollera din Internetanslutning.
 5500=Fel
 5501=Inloggning misslyckades! Fel konto eller l??senord?
 5502=H??mtar f??rsta sidan ...
@@ -972,17 +972,17 @@
 5508=Loggar in ..
 5509=Koordinater f??r centrum m??ste st??llas
 5510=Spider Options
-5511=Found %20
-5512=%20 nya/uppdatering cachar
-5513=Laddar: %20
-5514=Getting bug: %20
-5515=Kunde inte ladda cache.%0aPlease kontrollera din Internetanslutning.%0aRetry?
-5516=%20 cache beskrivningar%0acould inte laddas.
+5511=Found +
+5512=+ nya/uppdatering cachar
+5513=Laddar: +
+5514=Getting bug: +
+5515=Kunde inte ladda cache.\nPlease kontrollera din Internetanslutning.\nRetry?
+5516=+ cache beskrivningar\ncould inte laddas.
 5517=Spider uppdateringar?
-5518=%20 cachar i databasen beh??ver uppdateras. Uppdatera nu?
+5518=+ cachar i databasen beh??ver uppdateras. Uppdatera nu?
 5519=Information
-5520=Endast ges maximalt cachar lastades.%0aRepeat spidering senare att l??sa mer cachar.%0aNo redan existerande cachar har uppdaterats.
-5521=Sida %20
+5520=Endast ges maximalt cachar lastades.\nRepeat spidering senare att l??sa mer cachar.\nNo redan existerande cachar har uppdaterats.
+5521=Sida +
 5522=S??k ??ldre xml-filer (utan <CACHE... />)?
 6000=Guid
 6001=Namn
@@ -1003,7 +1003,7 @@
 6019=Sp??rningsnummer
 6020=Travelbug hittades inte.
 6021=Mer ??n en travelbug hittades. Ange namn mer exakt.
-6022=: Aktuella cache: %20
+6022=: Aktuella cache: +
 6025=Namn:
 6026=Sp??rningsnummer:
 6027=Id / GUID:
@@ -1039,16 +1039,16 @@
 6125=Deneb i Cygnus
 6126=Mimosa i Southern Cross
 7000=Release:*
-7001=Release Candidate:%20
-7002=i utveckling, stabil:%20
-7003=i utveckling, nyaste:%20
+7001=Release Candidate:+
+7002=i utveckling, stabil:+
+7003=i utveckling, nyaste:+
 7010=upp-till-datum
 7011=Uppdatering tillg??nglig
 7012=ej tillg??nglig
 7013=fel
 7020=rekommenderade versionen typ
 7021=typ av denna version
-7022=detta ???%20
+7022=detta ???+
 7023=nedladdning Fel nuvarande version information
 7100=Serial Port Options
 7101=Uppdatera Ports$u
@@ -1056,13 +1056,13 @@
 7103=Scan$u
 7104=Test$t
 7105=Forward GPS-data att vara v??rd
-7106=Alla data fr??n GPS kommer att skickas till TCP-port 23%0a och kan omf??rdelas det till en seriell port%0a av
+7106=Alla data fr??n GPS kommer att skickas till TCP-port 23\n och kan omf??rdelas det till en seriell port\n av
 7107=Intervall i sekunder f??r avverkning
-7108=Fel: Kunde inte ??ppna serieport: %20
+7108=Fel: Kunde inte ??ppna serieport: +
 7109=Fel: Kunde inte h??mta lista ??ver tillg??ngliga seriella portar
 7110=GPS hittades inte
-7111=Trying %20
-7112=at %20
+7111=Trying +
+7112=at +
 7113=- fick en del data
 7114=GPS Port hittades
 7115=- Ingen GPS data tag hittades



From araber95 at mail.berlios.de  Mon Sep 20 01:07:13 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 20 Sep 2010 01:07:13 PM +0200
Subject: [Cachewolf-svn] r2785 - in trunk: . res_noewe/languages
	src/CacheWolf src/CacheWolf/exp src/CacheWolf/imp src/CacheWolf/navi
Message-ID: <20100920110713.3D994480AC2@sheep.berlios.de>

Author: araber95
Date: 2010-09-20 13:07:12 +0200 (Mon, 20 Sep 2010)
New Revision: 2785

Modified:
   trunk/buildexe.bat
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/CacheHolderDetail.java
   trunk/src/CacheWolf/DataMover.java
   trunk/src/CacheWolf/GPSPortOptions.java
   trunk/src/CacheWolf/HttpConnection.java
   trunk/src/CacheWolf/ImagePanel.java
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MyLocale.java
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/Tokenizer.java
   trunk/src/CacheWolf/TravelbugJourneyScreen.java
   trunk/src/CacheWolf/exp/GpxExportNg.java
   trunk/src/CacheWolf/exp/TPLExporter.java
   trunk/src/CacheWolf/imp/GCVoteImporter.java
   trunk/src/CacheWolf/imp/SpiderGC.java
   trunk/src/CacheWolf/myTableModel.java
   trunk/src/CacheWolf/navi/CWGPSPoint.java
   trunk/src/CacheWolf/navi/MapImporter.java
   trunk/src/CacheWolf/navi/Navigate.java
Log:
1. doing what it means "ignored exeption" will be ignored.
2. Info for creating jar on windows with the buildexe.bat
3. more consistent Import Menu (only Text)

Modified: trunk/buildexe.bat
===================================================================
--- trunk/buildexe.bat	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/buildexe.bat	2010-09-20 11:07:12 UTC (rev 2785)
@@ -3,6 +3,6 @@
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pda.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-ppc2003.jnf
 java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-pc.jnf
-java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-jar.jnf
+rem works wrong packing of some png 's( can replace them manually) : java -cp lib/ewe.jar Ewe programs/Jewel.ewe -c cw-jar.jnf
 REM Dont change the order above because the PC version has to overwrite the PDA version of the EWE-file
 

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-20 11:07:12 UTC (rev 2785)
@@ -60,7 +60,7 @@
 128=?ber Template
 129=aus Datei
 130=von opencaching
-131=von GC um Zentrum
+131=von geocaching.com
 132=nach Explorist
 133=Suche alle
 134=Gew?hlter Cache

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-20 11:07:12 UTC (rev 2785)
@@ -60,7 +60,7 @@
 128=via Template
 129=from file
 130=from opencaching
-131=from GC around the center
+131=from geocaching.com
 132=to Explorist
 133=Search all
 134=Selected Cache

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-20 11:07:12 UTC (rev 2785)
@@ -60,7 +60,7 @@
 128=par Template
 129=de Fichier
 130=de opencaching
-131=de GC autour du centre
+131=de geocaching.com
 132=vers Explorist
 133=Cherche toutes
 134=Cache choisi

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-20 11:07:12 UTC (rev 2785)
@@ -60,7 +60,7 @@
 128=Via sjabloon
 129=van Bestand
 130=van opencaching
-131=van GC rond het centrum
+131=van geocaching.com
 132=Naar Explorist
 133=Allen zoeken
 134=Gekozen Cache

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-20 11:07:12 UTC (rev 2785)
@@ -60,7 +60,7 @@
 128=Przez szablon
 129=z pliku
 130=z Opencaching
-131=z GC wok?l centrum
+131=z geocaching.com
 132=Explorist
 133=Szukaj wszystkich
 134=Zaznaczony Cache

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-20 11:07:12 UTC (rev 2785)
@@ -60,7 +60,7 @@
 128=via Mall
 129=fr?n fil
 130=fr?n opencaching
-131=fr?n GC runt centrum
+131=fr?n geocaching.com
 132=till eXplorist
 133=S?k alla
 134=Valda Cache

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -217,7 +217,7 @@
 				        } catch (IllegalArgumentException ex) {
 				        	setHard(CacheTerrDiff.CW_DT_ERROR);
 				        	setIncomplete(true);
-				        	if (Global.getPref().debug) Global.getPref().log(wayPoint, ex, true);
+				        	Global.getPref().log(wayPoint, ex, true);
 				        }
 			        }
 			        start = xmlString.indexOf('"', end + 1);
@@ -230,7 +230,7 @@
 					    } catch (IllegalArgumentException ex) {
 					    	setTerrain(CacheTerrDiff.CW_DT_ERROR);
 					    	setIncomplete(true);
-					    	if (Global.getPref().debug) Global.getPref().log(wayPoint, ex, true);
+					    	Global.getPref().log(wayPoint, ex, true);
 				        }
 				    }
 			        // The next item was 'dirty' but this is no longer used.
@@ -248,7 +248,7 @@
 				        } catch (IllegalArgumentException ex) {
 				        	setCacheSize(CacheSize.CW_SIZE_ERROR);
 				        	setIncomplete(true);
-				        	if (Global.getPref().debug) Global.getPref().log(wayPoint, ex, true);
+				        	Global.getPref().log(wayPoint, ex, true);
 				        }
 			        }
 			        start = xmlString.indexOf('"', end + 1);
@@ -429,7 +429,7 @@
 			    setHasSolver(!details.getSolver().equals(""));
 				}
 	        } catch (Exception ex) {
-	        	Global.getPref().log("Ignored Exception in CacheHolder()", ex, true);
+	        	// Global.getPref().log("Ignored Exception in CacheHolder()", ex, true);
 	        }
         }
 	

Modified: trunk/src/CacheWolf/CacheHolderDetail.java
===================================================================
--- trunk/src/CacheWolf/CacheHolderDetail.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/CacheHolderDetail.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -559,7 +559,7 @@
 				}
 				success = true;
 			} catch (Exception e) {
-				Global.getPref().log("Error renaming waypoint details", e, Global.getPref().debug);
+				Global.getPref().log("Error renaming waypoint details", e, true);
 				//TODO: any chance of a roll back?
 				//TODO: should we ignore a file not found?
 			}

Modified: trunk/src/CacheWolf/DataMover.java
===================================================================
--- trunk/src/CacheWolf/DataMover.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/DataMover.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -328,7 +328,7 @@
 			fis.close();
 		}
 		catch (Exception ex){
-			Global.getPref().log("Filecopy failed: "+sFileSrc+"=>"+sFileDst,ex,Global.getPref().debug);
+			Global.getPref().log("Filecopy failed: "+sFileSrc+"=>"+sFileDst,ex,true);
 			return false;
 		}
 		return true;

Modified: trunk/src/CacheWolf/GPSPortOptions.java
===================================================================
--- trunk/src/CacheWolf/GPSPortOptions.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/GPSPortOptions.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -85,7 +85,7 @@
 			try {
 				sleep(200);
 			} catch (InterruptedException e) {
-				Global.getPref().log("Ignored exception", e, true);
+				// Global.getPref().log("Ignored exception", e, true);
 			}
 			if (comSp != null)	{  
 				comLength = comSp.nonBlockingRead(comBuff, 0 ,comBuff.length);
@@ -112,7 +112,7 @@
 			ret = comSp.close(); //compSp == null can happen if a exception occured 
 			try { ewe.sys.mThread.sleep(500); // wait in order to give the system time to close the serial port
 			} catch (InterruptedException e) {
-				Global.getPref().log("Ignored exception", e, true);
+				// Global.getPref().log("Ignored exception", e, true);
 			}
 		}
 		else ret = true;
@@ -164,7 +164,7 @@
 			try {
 				sleep(1000);
 			} catch (InterruptedException e) {
-				Global.getPref().log("Ignored Exception", e, true);
+				// Global.getPref().log("Ignored Exception", e, true);
 			}
 
 			if( gpsObj == null ) {
@@ -195,7 +195,7 @@
 				}
 			} catch( Exception e ) {
 				// We will just ignore this JSON object:
-				Global.getPref().log("Ignored Exception", e, true);
+				// Global.getPref().log("Ignored Exception", e, true);
 			}
 		} // while
 	}
@@ -238,7 +238,7 @@
 			try {
 				sleep(900);
 			} catch (InterruptedException e) {
-				Global.getPref().log("Ignored Exception", e, true);
+				// Global.getPref().log("Ignored Exception", e, true);
 			}
 			if (gpsdSocket != null)	{
 				gpsResult = getGpsdData("ADPQTV\r\n");
@@ -261,7 +261,7 @@
 		try {
 			sleep(100);
 		} catch (InterruptedException e) {
-			Global.getPref().log("Ignored exception", e, true);
+			// Global.getPref().log("Ignored exception", e, true);
 		}
 		try {
 			rcvLength = gpsdSocket.read(rcvBuff);
@@ -563,7 +563,7 @@
 				if (gpsPort.nonBlockingRead().indexOf("$GP", 0) >= 0) gpsfound = true;
 			}
 			try {ewe.sys.mThread.sleep(200); } catch (InterruptedException e) {
-				Global.getPref().log("Ignored exception", e, true);
+				// Global.getPref().log("Ignored exception", e, true);
 			}
 		}
 		gpsPort.stop();

Modified: trunk/src/CacheWolf/HttpConnection.java
===================================================================
--- trunk/src/CacheWolf/HttpConnection.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/HttpConnection.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -228,7 +228,7 @@
 			ByteArray got = td.encodeText(Vm.getStringChars(s),0,s.length(),true,null);
 			setPostData(got.toBytes());
 		}catch(IOException e){
-			Global.getPref().log("Ignored exception", e, true);
+			// Global.getPref().log("Ignored exception", e, true);
 		}
 	}
 	else if (data instanceof InputStream) bytesToPost = new StreamAdapter((InputStream)data);

Modified: trunk/src/CacheWolf/ImagePanel.java
===================================================================
--- trunk/src/CacheWolf/ImagePanel.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/ImagePanel.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -287,7 +287,7 @@
 							f.delete();
 							removeImage(which);
 						} catch(Exception e) {
-							Global.getPref().log("Ignored Exception", e, true);
+							// Global.getPref().log("Ignored Exception", e, true);
 						};
 				}
 			}

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/MainMenu.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -503,7 +503,7 @@
 				}catch(IOException ioex){
 					Vm.showWait(false);
 					(new MessageBox("Error", "Garmin export unsuccessful", FormBase.OKB)).execute();
-					pref.log("Error exporting to Garmin",ioex,pref.debug);
+					pref.log("Error exporting to Garmin",ioex,true);
 				};
 				ProgressBarForm.clear();
 				Vm.showWait(false);

Modified: trunk/src/CacheWolf/MyLocale.java
===================================================================
--- trunk/src/CacheWolf/MyLocale.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/MyLocale.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -84,19 +84,6 @@
 	 */
 	private static void setLocale(String language_) {
 		String country ="";
-		/*
-		int[] all=ewe.sys.Locale.getAllIDs(0);
-		Locale ll = new Locale(true);
-		Global.getPref().debug=true;
-		for (int i = 0; i<all.length; i++){
-			ll.set(all[i]);
-			String lg = ll.getString(13,0,0);
-			if (!language_.equalsIgnoreCase(lg)) continue;
-			country = ll.getString(23,0,0);
-			// Global.getPref().log(lg+"-"+country);
-			if (!country.equals("")) break;
-		}
-		 */
 		if (language_.equalsIgnoreCase("DE")) country="DEU"; 
 		if (language_.equalsIgnoreCase("FR")) country="FRA"; 
 		if (language_.equalsIgnoreCase("EN")) country="USA"; 

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/Preferences.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -1101,7 +1101,7 @@
 				Vm.debug("Error writing to log file!");
 			}finally{
 				if (logFile != null) try {logFile.close(); } catch (IOException ioe) {
-					log("Ignored Exception", ioe, true);
+					// log("Ignored Exception", ioe, true);
 				}
 			}
 		}

Modified: trunk/src/CacheWolf/Tokenizer.java
===================================================================
--- trunk/src/CacheWolf/Tokenizer.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/Tokenizer.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -276,7 +276,7 @@
 				else err(MyLocale.getMsg(1732,"Invalid character")); 
 			}
 		} catch (Exception e) {
-			Global.getPref().log("Ignored Exception", e, true);
+			// Global.getPref().log("Ignored Exception", e, true);
 		}
 	}
 }

Modified: trunk/src/CacheWolf/TravelbugJourneyScreen.java
===================================================================
--- trunk/src/CacheWolf/TravelbugJourneyScreen.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/TravelbugJourneyScreen.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -636,7 +636,7 @@
 					CWWrapper.exec(Global.getPref().browser, s);
 					Global.getPref().log("Executed: \""+Global.getPref().browser+"\" \""+s+"\"");
 				} catch (Exception ioex) {
-					Global.getPref().log("Ignored Exception", ioex, true);
+					// Global.getPref().log("Ignored Exception", ioex, true);
 				}
 			}
 		}

Modified: trunk/src/CacheWolf/exp/GpxExportNg.java
===================================================================
--- trunk/src/CacheWolf/exp/GpxExportNg.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/exp/GpxExportNg.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -315,7 +315,7 @@
 				try {
 					poiZip = new ZipFile(bitmapFileName);
 				} catch (IOException e) {
-					Global.getPref().log("GPX Export: warning GarminPOI.zip not found", e, Global.getPref().debug);
+					Global.getPref().log("GPX Export: warning GarminPOI.zip not found", e, true);
 					exportErrors++;
 				}
 
@@ -401,7 +401,7 @@
 				pbf.exit(0);
 
 			} catch (Exception e) {
-				Global.getPref().log("GPX Export: unknown cause for ", e, Global.getPref().debug);
+				Global.getPref().log("GPX Export: unknown cause for ", e, true);
 				exportErrors++;
 				pbf.exit(0);
 			}
@@ -489,7 +489,7 @@
 				outp.close();
 			} catch (Exception ex) {
 				exportErrors++;
-				Global.getPref().log("GPX Export: unable to write output to " + file.toString(), ex, Global.getPref().debug);
+				Global.getPref().log("GPX Export: unable to write output to " + file.toString(), ex, true);
 				new MessageBox("Export Error", "unable to write output to "	+ file.toString(), FormBase.OKB).execute();
 				return;
 			}
@@ -529,7 +529,7 @@
 						}
 					}
 				} catch (Exception ex) {
-					Global.getPref().log("GPX Export error :", ex, Global.getPref().debug);
+					Global.getPref().log("GPX Export error :", ex, true);
 				}
 				file.delete();
 			}
@@ -568,11 +568,11 @@
 		} catch (IllegalArgumentException e) {
 			exportErrors++;
 			ch.setIncomplete(true);
-			Global.getPref().log("GPX Export: " + ch.getWayPoint() + " set to incomplete ",	e, Global.getPref().debug);
+			Global.getPref().log("GPX Export: " + ch.getWayPoint() + " set to incomplete ",	e, true);
 			return "";
 		} catch (Exception e) {
 			exportErrors++;
-			Global.getPref().log("GPX Export: " + ch.getWayPoint() + " caused ", e,	Global.getPref().debug);
+			Global.getPref().log("GPX Export: " + ch.getWayPoint() + " caused ", e,	true);
 			return "";
 		}
 
@@ -936,10 +936,10 @@
 			fos.close();
 			fis.close();
 		} catch (ZipException e) {
-			Global.getPref().log("failed to copy icon " + type + ".bmp", e,Global.getPref().debug);
+			Global.getPref().log("failed to copy icon " + type + ".bmp", e, true);
 			return false;
 		} catch (IOException e) {
-			Global.getPref().log("failed to copy icon " + type + ".bmp", e,Global.getPref().debug);
+			Global.getPref().log("failed to copy icon " + type + ".bmp", e, true);
 			return false;
 		}
 		return true;
@@ -968,7 +968,7 @@
 		try {
 			return Vm.exec(command);
 		} catch (IOException e) {
-			Global.getPref().log("error excuting "+command, e, Global.getPref().debug);
+			Global.getPref().log("error excuting "+command, e, true);
 			exportErrors++;
 			return null;
 		}

Modified: trunk/src/CacheWolf/exp/TPLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/TPLExporter.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/exp/TPLExporter.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -273,7 +273,7 @@
 								detfile.close();
 							}
 						}catch(Exception e){
-							pref.log("Exception in TplExporter = Problem getting Parameter, Cache: " + ch.getWayPoint(), e, true);
+							pref.log("[TplExporter:doIt]" + ch.getWayPoint(), e, true);
 						}
 					}
 				}
@@ -288,7 +288,7 @@
 				detfile.close();
 			}
 		} catch (Exception e) {
-			pref.log("Exception in TplExporter", e, true);
+			pref.log("[TplExporter:doIt]", e, true);
 		} catch (OutOfMemoryError e) {
 			(new MessageBox("Error", "Not enough memory available to load all cache data (incl. description and logs)\nexport aborted\nFilter caches to minimise memory needed for TPL-Export\nWe recommend to restart CacheWolf now", FormBase.OKB)).execute();
 		}

Modified: trunk/src/CacheWolf/imp/GCVoteImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GCVoteImporter.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/imp/GCVoteImporter.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -158,13 +158,13 @@
 			conn.setRequestorProperty("User-Agent", "Mozilla/5.0 (compatible; Cachewolf; GCVoteImporter)");
 			conn.setRequestorProperty("Connection", "close");
 			conn.documentIsEncoded = true;
-			if (pref.debug) pref.log("[GCVote]:Connecting "+address);
+			pref.log("[GCVote]:Connecting "+address);
 			Socket sock = conn.connect();
-			if (pref.debug) pref.log("[GCVote]:Connect ok! "+address);
+			pref.log("[GCVote]:Connect ok! "+address);
 			JavaUtf8Codec codec = new JavaUtf8Codec();
 			c_data = conn.readText(sock, codec);
 			sock.close();
-			if (pref.debug) pref.log("[GCVote]:Read data ok "+address);
+			pref.log("[GCVote]:Read data ok "+address);
 			return c_data.toString();
 		}catch(IOException ioex){
 			pref.log("IOException in fetch", ioex);

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -468,6 +468,8 @@
 		double len = middle.getDistance(rm) * 2.0;
 		page_number++;
 		String listPage=getMapListPage(middle, north, west, south, east);
+		int i = listPage.indexOf("\"count\":");
+		pref.log(""+north+" "+west+" "+south+" "+east+" "+listPage.substring(i, i+12)+" len="+len);
 		if ((listPage.indexOf("\"count\": 501")>-1) || (listPage.indexOf("\"count\": 0")>-1 && len > 30)) {
 			double northsouthmiddle = (north+south)/2.0;
 			double westeastmiddle = (west+east)/2.0;
@@ -2482,7 +2484,7 @@
 				return getResponseHeaders(conn)+c_data.toString();
 			else return c_data.toString();
 		} catch (Exception e) {
-			pref.log("[fetch_post] Ignored Exception", e, true);
+			// pref.log("[fetch_post] Ignored Exception", e, true);
 		}
 		return "";
 	}

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/myTableModel.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -270,8 +270,7 @@
 	 * @see ewe.ui.TableModel#getCellAttributes(int, int, boolean,
 	 * ewe.ui.TableCellAttributes)
 	 */
-	public TableCellAttributes getCellAttributes(int row, int col,
-			boolean isSelected, TableCellAttributes ta) {
+	public TableCellAttributes getCellAttributes(int row, int col, boolean isSelected, TableCellAttributes ta) {
 		ta = super.getCellAttributes(row, col, isSelected, ta);
 		ta.alignment = CellConstants.LEFT;
 		ta.anchor = CellConstants.LEFT;
@@ -283,8 +282,7 @@
 		if (row >= 0) {
 			if (row == 0 || row != lastRow) {
 				try {
-					// Now find out if the line should be painted in an other
-					// color.
+					// Now find out if the line should be painted in an other color.
 					// Selected lines are not considered, so far
 					CacheHolder ch = cacheDB.get(row);
 					if (ch.is_owned())
@@ -323,12 +321,7 @@
 					lastColorFG.set(ta.foreground);
 					lastRow = row;
 				} catch (Exception e) {
-					if (Global.getPref().debug)
-						Global
-								.getPref()
-								.log(
-										"Ignored Exception in myTableModel.TableCellAttributes()",
-										e, true);
+					// Global.getPref().log("[myTableModel:getCellAttributes]Ignored",e, true);
 				}
 				;
 			} else {
@@ -522,10 +515,7 @@
 							lastSyncWorker.parse(ch.getLastSync(),
 									"yyyyMMddHHmmss");
 						} catch (IllegalArgumentException e) {
-							Global.getPref().log(
-									"Could not parse 'lastSyncDate': "
-											+ ch.getLastSync()
-											+ ". Reset to empty.", e);
+							Global.getPref().log("Could not parse 'lastSyncDate': "	+ ch.getLastSync() + ". Reset to empty.", e);
 							ch.setLastSync("");
 						}
 						return lastSyncWorker.format("yyyy-MM-dd HH:mm");
@@ -535,10 +525,7 @@
 				} // Switch
 			} // if
 		} catch (Exception e) {
-			if (Global.getPref().debug)
-				Global.getPref().log(
-						"Ignored Exception in myTableModel.getCellData()", e,
-						true);
+			// Global.getPref().log("[myTableModel:getCellData]Ignored", e,true);
 			return null;
 		}
 		return null;

Modified: trunk/src/CacheWolf/navi/CWGPSPoint.java
===================================================================
--- trunk/src/CacheWolf/navi/CWGPSPoint.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/navi/CWGPSPoint.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -227,7 +227,7 @@
 						logFile.write(NMEA.substring(start,end+3)+"\n");
 						logWritten = true;
 					} catch (IOException e) {
-						Global.getPref().log("Ignored Exception", e, true);
+						// Global.getPref().log("Ignored Exception", e, true);
 					}
 				}
 
@@ -267,10 +267,10 @@
 							}
 						case 7: this.numSat = Convert.toInt(currToken); interpreted = true; break;
 						case 8: try {this.HDOP = Common.parseDouble(currToken); interpreted = true; } catch (NumberFormatException e) {
-							Global.getPref().log("Ignored Exception", e, true);
+							// Global.getPref().log("Ignored Exception", e, true);
 						} break;
 						case 9: try {this.Alt = Common.parseDouble(currToken); interpreted = true; } catch (NumberFormatException e) {
-							Global.getPref().log("Ignored Exception", e, true);
+							// Global.getPref().log("Ignored Exception", e, true);
 						} break;
 						} // switch
 					} // while
@@ -286,12 +286,12 @@
 						if (currToken.length()==0) continue;
 						switch (i){
 						case 1: try { this.Bear =Common.parseDouble(currToken); interpreted = true; } catch (NumberFormatException e) {
-							Global.getPref().log("Ignored Exception", e, true);
+							// Global.getPref().log("Ignored Exception", e, true);
 						}
 						if (this.Bear > 360) Global.getPref().log("Error bear VTG",null);
 						break;
 						case 7: try { this.Speed = Common.parseDouble(currToken); interpreted = true; } catch (NumberFormatException e) {
-							Global.getPref().log("Ignored Exception", e, true);
+							// Global.getPref().log("Ignored Exception", e, true);
 						}
 						break;
 						} // switch
@@ -324,10 +324,10 @@
 						case 4: latNS = currToken; interpreted = true;
 						break;
 						case 5: try {lonDeg = currToken.substring(0,3); interpreted = true;} catch (IndexOutOfBoundsException e) {
-							Global.getPref().log("Ignored Exception", e, true);
+							// Global.getPref().log("Ignored Exception", e, true);
 						}
 						try {lonMin = currToken.substring(3,currToken.length()); interpreted = true;} catch (IndexOutOfBoundsException e) {
-							Global.getPref().log("Ignored Exception", e, true);
+							// Global.getPref().log("Ignored Exception", e, true);
 						}
 						break;
 						case 6: lonEW = currToken;
@@ -336,21 +336,21 @@
 						case 7: if (status.equals("A")){
 							try {this.Speed = Common.parseDouble(currToken)*1.854;
 							interpreted = true; } catch (NumberFormatException e) {
-								Global.getPref().log("Ignored Exception", e, true);
+								//Global.getPref().log("Ignored Exception", e, true);
 							}
 						}
 						break;
 						case 8: if (status.equals("A") && currToken.length()> 0){
 							try {this.Bear = Common.parseDouble(currToken);
 							interpreted = true; } catch (NumberFormatException e) {
-								Global.getPref().log("Ignored Exception", e, true);
+								// Global.getPref().log("Ignored Exception", e, true);
 							}
 						}
 						break;
 						case 9: if (status.equals("A") && currToken.length()> 0){
 							try {this.Date = currToken;
 							interpreted = true; } catch (NumberFormatException e) {
-								Global.getPref().log("Ignored Exception", e, true);
+								// Global.getPref().log("Ignored Exception", e, true);
 							}
 						}
 						break;

Modified: trunk/src/CacheWolf/navi/MapImporter.java
===================================================================
--- trunk/src/CacheWolf/navi/MapImporter.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/navi/MapImporter.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -237,7 +237,7 @@
 					if (in != null) in.close();
 					if (out  != null) out.close(); 
 				} catch (Throwable e) {
-					Global.getPref().log("Ignored Exception", e, true);
+					// Global.getPref().log("Ignored Exception", e, true);
 				}
 			}
 			//Check for a .map file

Modified: trunk/src/CacheWolf/navi/Navigate.java
===================================================================
--- trunk/src/CacheWolf/navi/Navigate.java	2010-09-17 18:12:01 UTC (rev 2784)
+++ trunk/src/CacheWolf/navi/Navigate.java	2010-09-20 11:07:12 UTC (rev 2785)
@@ -320,12 +320,12 @@
 					} else if( respClass.equals( "POLL" ) ) {
 						gotValidData = myGPS.examineGpsd(response);
 					} else if( respClass.equals( "ERROR" ) ) {
-						Global.getPref().log( "Ignored gpsd error: " + response.getString( "message" ) );
+						// Global.getPref().log( "Ignored gpsd error: " + response.getString( "message" ) );
 					}
 				} catch( Exception e ) {
 					// Something bad happened, will just ignore this JSON
 					// object:
-					Global.getPref().log("Ignored Exception", e, true);
+					// Ignored Exception", e, true);
 					gotValidData = false;
 				}
 
@@ -342,7 +342,7 @@
 			try {
 				sleep(1000);
 			} catch (InterruptedException e) {
-				Global.getPref().log("Ignored Exception", e, true);
+				// Global.getPref().log("Ignored Exception", e, true);
 			}
 
 			noData++;
@@ -392,7 +392,7 @@
 				noData++;
 				if (noData > 5) { myGPS.noDataError(); }
 			} catch (InterruptedException e) {
-				Global.getPref().log("Ignored Exception", e, true);
+				// Global.getPref().log("Ignored Exception", e, true);
 			}
 			if (gpsdSocket != null)	{
 				gpsResult = getGpsdData("ADPQTV\r\n");
@@ -422,7 +422,7 @@
 		try {
 			sleep(100);
 		} catch (InterruptedException e) {
-			Global.getPref().log("Ignored exception", e, true);
+			// Global.getPref().log("Ignored exception", e, true);
 		}
 		try {
 			rcvLength = gpsdSocket.read(rcvBuff);
@@ -484,7 +484,7 @@
 				noData++;
 				if (noData > 5) { myGPS.noDataError(); }
 			} catch (InterruptedException e) {
-				Global.getPref().log("Ignored Exception", e, true);
+				// Global.getPref().log("Ignored Exception", e, true);
 			}
 			if (comSp != null)	{
 				comLength = comSp.nonBlockingRead(comBuff, 0 ,comBuff.length);
@@ -532,7 +532,7 @@
 		while (run) {
 			try { sleep (calldelay);} catch (InterruptedException e) {	}
 			try { ticked.ticked();} catch (Exception e) {
-				Global.getPref().log("Navigate.UpdateThread.run(): Ignored Exception. There should not be an Exception, so please report it in the cachewolf forum at www.geoclub.de", e, true);
+				// Global.getPref().log("Navigate.UpdateThread.run(): Ignored Exception. There should not be an Exception, so please report it in the cachewolf forum at www.geoclub.de", e, true);
 			}
 		}
 	}



From araber95 at mail.berlios.de  Mon Sep 20 04:48:51 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 20 Sep 2010 04:48:51 PM +0200
Subject: [Cachewolf-svn] r2786 - trunk/src/CacheWolf/navi
Message-ID: <20100920144851.9E9B4480F2D@sheep.berlios.de>

Author: araber95
Date: 2010-09-20 16:48:51 +0200 (Mon, 20 Sep 2010)
New Revision: 2786

Modified:
   trunk/src/CacheWolf/navi/MovingMap.java
Log:
1. MM klick on cache does context menu
2. MM tooltip for cache (different infos)

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2010-09-20 11:07:12 UTC (rev 2785)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2010-09-20 14:48:51 UTC (rev 2786)
@@ -28,6 +28,9 @@
 import CacheWolf.CWPoint;
 import CacheWolf.CacheDB;
 import CacheWolf.CacheHolder;
+import CacheWolf.CacheSize;
+import CacheWolf.CacheTerrDiff;
+import CacheWolf.Common;
 import CacheWolf.Global;
 import CacheWolf.GuiImageBroker;
 import CacheWolf.InfoBox;
@@ -73,6 +76,7 @@
 import ewe.ui.MenuItem;
 import ewe.ui.MessageBox;
 import ewe.ui.PenEvent;
+import ewe.ui.ToolTip;
 import ewe.ui.WindowConstants;
 import ewe.ui.WindowEvent;
 import ewe.ui.mButton;
@@ -2115,6 +2119,7 @@
 	int lastZoomWidth , lastZoomHeight;
 	
 	boolean ignoreNextDrag=false;
+	boolean onlyIfCache=false;
 	
 	public MovingMapPanel(MovingMap f){
 		this.mm = f;
@@ -2176,6 +2181,11 @@
 					// but not on PC (Java) , therefor it is here
 					penHeld(new Point (ev.x, ev.y));
 				}
+				else {
+					// do it even on left klick
+					onlyIfCache=true;
+					penHeld(new Point (ev.x, ev.y));
+				}
 			}
 		}
 		else {
@@ -2296,18 +2306,21 @@
 		ignoreNextDrag=true;
 		if (!mm.zoomingMode) {
 			kontextMenu = new Menu();
-			kontextMenu.addItem(gotoMenuItem);
-			kontextMenu.addItem(newWayPointMenuItem);
+			if (!onlyIfCache) {
+				kontextMenu.addItem(gotoMenuItem);
+				kontextMenu.addItem(newWayPointMenuItem);
+			}
 			AniImage clickedOnImage = images.findHotImage(p);
 			if (clickedOnImage != null && clickedOnImage instanceof MapSymbol) {
 				if ( ((MapSymbol)clickedOnImage).mapObject instanceof CacheHolder) {
 					clickedCache = (CacheHolder)( ((MapSymbol)clickedOnImage).mapObject);
+					// clickedCache == null can happen if clicked on the goto-symbol
 					if (clickedCache != null) {
-						openCacheDescMenuItem = new MenuItem(MyLocale.getMsg(201, "Open Desctiption")+" '"+(clickedCache.getCacheName().length()>0 ? clickedCache.getCacheName() : clickedCache.getWayPoint())+"'$o"); // clickedCache == null can happen if clicked on the goto-symbol
+						openCacheDescMenuItem = new MenuItem(MyLocale.getMsg(201, "Open Desctiption")+" '"+(clickedCache.getCacheName().length()>0 ? clickedCache.getCacheName() : clickedCache.getWayPoint())+"'$o");
 						kontextMenu.addItem(openCacheDescMenuItem);
-						openCacheDetailMenuItem = new MenuItem(MyLocale.getMsg(200, "Open Details")+" '"+(clickedCache.getCacheName().length()>0 ? clickedCache.getCacheName() : clickedCache.getWayPoint())+"'$o"); // clickedCache == null can happen if clicked on the goto-symbol
+						openCacheDetailMenuItem = new MenuItem(MyLocale.getMsg(200, "Open Details")+" '"+(clickedCache.getCacheName().length()>0 ? clickedCache.getCacheName() : clickedCache.getWayPoint())+"'$e");
 						kontextMenu.addItem(openCacheDetailMenuItem);
-						gotoCacheMenuItem = new MenuItem(MyLocale.getMsg(4279, "Goto")+ " '"+(clickedCache.getCacheName().length()>0 ? clickedCache.getCacheName() : clickedCache.getWayPoint())+"'$g"); // clickedCache == null can happen if clicked on the goto-symbol
+						gotoCacheMenuItem = new MenuItem(MyLocale.getMsg(4279, "Goto")+ " '"+(clickedCache.getCacheName().length()>0 ? clickedCache.getCacheName() : clickedCache.getWayPoint())+"'$g"); 
 						kontextMenu.addItem(gotoCacheMenuItem);
 						if (Global.mainForm.cacheListVisible) {
 							addCachetoListMenuItem = new MenuItem(MyLocale.getMsg(199,"Add to cachetour"));
@@ -2329,9 +2342,36 @@
 				}
 			}
 			*/
-			kontextMenu.exec(this, new Point(p.x, p.y), this);
+			onlyIfCache=false;
+			if (kontextMenu.items.size()>0) {
+				kontextMenu.exec(this, new Point(p.x, p.y), this);
+			}
+			else kontextMenu=null;
 		}
 	}
+	
+	public boolean imageMovedOn(AniImage which) {
+		if (which instanceof MapSymbol) {
+			if ( ((MapSymbol)which).mapObject instanceof CacheHolder) {
+				CacheHolder ch = (CacheHolder) ((MapSymbol) which).mapObject;
+				this.toolTip=ch.getWayPoint()+"\n"
+							+ ch.cacheName+"\n"
+							+ "Difficulty: "+CacheTerrDiff.longDT(ch.getHard())+"\n"
+							+ "Terrain: "+CacheTerrDiff.longDT(ch.getTerrain())+"\n"
+							+ "Size: "+CacheSize.cw2ExportString(ch.getCacheSize())+"\n"
+							+ "Hint: "+Common.rot13(ch.getCacheDetails(false).Hints);
+			}
+		}
+		return true;
+	}
+	public boolean imageMovedOff(AniImage which) {
+		if (which instanceof MapSymbol) {
+			if ( ((MapSymbol)which).mapObject instanceof CacheHolder) {
+				this.toolTip=null;
+			}
+		}
+		return true;
+	}
 
 	public void onEvent(Event ev){
 		// nothing selected in kontext



From araber95 at mail.berlios.de  Mon Sep 20 05:47:23 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 20 Sep 2010 05:47:23 PM +0200
Subject: [Cachewolf-svn] r2787 - trunk/src/CacheWolf/imp
Message-ID: <20100920154723.955FD480F2D@sheep.berlios.de>

Author: araber95
Date: 2010-09-20 17:47:23 +0200 (Mon, 20 Sep 2010)
New Revision: 2787

Modified:
   trunk/src/CacheWolf/imp/FieldnotesImporter.java
Log:
improved reading fieldnotes.

Modified: trunk/src/CacheWolf/imp/FieldnotesImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-20 14:48:51 UTC (rev 2786)
+++ trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-20 15:47:23 UTC (rev 2787)
@@ -69,13 +69,13 @@
 					r.codec=new JavaUtf8Codec();
 				}
 				else if (e.getMessage().equals("ASCII")){
-					r.codec=new AsciiCodec();
+					r.codec=new NoCodec(true);
 				}
 				else {
 					Vm.showWait(false);
 					return;
 				}
-			}		
+			}
 			parse(r.readAll());
 			r.close();
 			// save Index
@@ -148,16 +148,16 @@
 private boolean checked=false;
 
 //===================================================================
-public NoCodec(int options)
+public NoCodec(boolean _checked)
 //===================================================================
 {
-	flags = options;
+	checked=_checked; flags=0;
 }
 //===================================================================
 public NoCodec()
 //===================================================================
 {
-	this(0);
+	checked=false; flags=0;
 }
 //===================================================================
 public ByteArray encodeText(char [] text, int start, int length, boolean endOfData, ByteArray dest) throws IOException
@@ -219,7 +219,7 @@
 public Object getCopy()
 //===================================================================
 {
-	return new NoCodec(flags);
+	return new NoCodec(false);
 }
 //##################################################################
 }



From araber95 at mail.berlios.de  Mon Sep 20 11:37:25 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 20 Sep 2010 11:37:25 PM +0200
Subject: [Cachewolf-svn] r2788 - trunk/src/CacheWolf/navi
Message-ID: <20100920213725.D3DD4480F2D@sheep.berlios.de>

Author: araber95
Date: 2010-09-20 23:37:25 +0200 (Mon, 20 Sep 2010)
New Revision: 2788

Modified:
   trunk/src/CacheWolf/navi/MovingMap.java
Log:
put information into context menu, cause pda has no tooltip here.

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2010-09-20 15:47:23 UTC (rev 2787)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2010-09-20 21:37:25 UTC (rev 2788)
@@ -2309,6 +2309,7 @@
 			if (!onlyIfCache) {
 				kontextMenu.addItem(gotoMenuItem);
 				kontextMenu.addItem(newWayPointMenuItem);
+				kontextMenu.addItem(new MenuItem("-"));
 			}
 			AniImage clickedOnImage = images.findHotImage(p);
 			if (clickedOnImage != null && clickedOnImage instanceof MapSymbol) {
@@ -2326,6 +2327,12 @@
 							addCachetoListMenuItem = new MenuItem(MyLocale.getMsg(199,"Add to cachetour"));
 							kontextMenu.addItem(addCachetoListMenuItem);
 						}
+						kontextMenu.addItem(new MenuItem("-"));
+						kontextMenu.addItem(new MenuItem(clickedCache.getWayPoint()+" Info:"));
+						kontextMenu.addItem(new MenuItem("Difficulty: "+CacheTerrDiff.longDT(clickedCache.getHard())));
+						kontextMenu.addItem(new MenuItem("Terrain: "+CacheTerrDiff.longDT(clickedCache.getTerrain())));
+						kontextMenu.addItem(new MenuItem("Size: "+CacheSize.cw2ExportString(clickedCache.getCacheSize())));
+						kontextMenu.addItem(new MenuItem("Hint: "+Common.rot13(clickedCache.getCacheDetails(false).Hints)));
 					}
 				}
 			}



From araber95 at mail.berlios.de  Thu Sep 23 10:14:16 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Thu, 23 Sep 2010 10:14:16 PM +0200
Subject: [Cachewolf-svn] r2789 - in trunk: res_noewe/languages
	res_noewe/templates src/CacheWolf src/CacheWolf/exp
	src/CacheWolf/imp
Message-ID: <20100923201416.95A5B480FA0@sheep.berlios.de>

Author: araber95
Date: 2010-09-23 22:14:16 +0200 (Thu, 23 Sep 2010)
New Revision: 2789

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/res_noewe/templates/MyFieldNotes.tpl
   trunk/res_noewe/templates/Short documentation for the export via templates.htm
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/TablePanel.java
   trunk/src/CacheWolf/exp/TPLExporter.java
   trunk/src/CacheWolf/imp/FieldnotesImporter.java
   trunk/src/CacheWolf/myTableModel.java
Log:
1. too many + in language files and some unreadable chars
2. template sorted output is possible
3. changed MyFieldNotes.tpl to correct sorting
4. VOTE and ALIAS as new tpl Variables

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-23 20:14:16 UTC (rev 2789)
@@ -145,7 +145,7 @@
 221=Filter ??berschreiben?
 222=Der Filter existiert schon. ??berschreiben?
 223=Filter l??schen?
-224=+- Den gespeicherten Filter l??schen?
+224= - Den gespeicherten Filter l??schen?
 225=Auch in Logs
 226=Das Profil kann nicht gel??scht werden.
 227=Das aktive Profil kann nicht gel??scht werden.
@@ -506,7 +506,7 @@
 1621=Fehler beim Interpretieren\n der Update-Datei,\nDies ist vermutlich ein Fehler bei Opencaching.de\nSp??ter erneut versuchen\n Status:
 1622=Gefundene Caches nicht laden
 1623=Importiere h??chstens
-1624=+Cache (leer=alle)
+1624= Cache (leer=alle)
 1625=TBs laden
 1626=Speichere bis zu x Logs:
 1627=Alle Caches
@@ -552,8 +552,8 @@
 1737=Speichern
 1738=Speichern als
 1739=Winkel muss im Bereich [0;2*PI] sein
-1740=Kreuzpeilungswinkel m??ssen im Bereich [0;360] sein
-1741=Kreuzpeilungswinkel m??ssen im Bereich [0;2*PI] sein
+1740=Kreuzpeilungswinkel m??ssen im Bereich [0;360] sein
+1741=Kreuzpeilungswinkel m??ssen im Bereich [0;2*PI] sein
 1742=Abstand der Punkte in der Kreuzpeilung ist zu klein
 1743=Kreuzpeilung nicht m??glich. Bitte Entwickler auf geoclub.de informieren!
 1744=Kreuzpeilung mit identischen Peilungswinkeln nicht m??glich
@@ -799,10 +799,10 @@
 4110=Lade
 4111=Koordinaten m??ssen in dem Format N XX XX,XXX E XXX XX,XXX eingegeben werden
 4112=E/A-Fehler beim Kopieren von:+
-4113=+nach:+
-4114=+Fehler:+
+4113= nach:+
+4114= Fehler:+
 4115=Fehler: Kann Bild nicht dekodieren:+
-4116=+-+Bild nicht kopiert
+4116= - Bild nicht kopiert
 4117=Fehler beim Importieren der .map-Datei:+
 4118=E/A-Fehler beim Lesen oder Schreiben der Kalibrierungsdatei
 4119=Keine Kalibrierungsdatei gefunden f??r:+
@@ -818,7 +818,7 @@
 4211=Keine+
 4212=??bersichtlichere
 4213=detailliertere
-4214=+Karte verf??gbar
+4214= Karte verf??gbar
 4215=Keine Caches mit H??ckchen ausgew??hlt
 4216=Lade Karte...
 4217=Konnte zu folgender Datei geh??rendes Bild nicht finden:
@@ -885,7 +885,7 @@
 4295=Mittelpunkt
 4296=Detaillierung
 4300=Leer 1 Punkt =+
-4301=+meter
+4301= meter
 4302=Breite/L??nge au??erhalb des zul??ssigen Bereiches beim Lesen von+
 4303=Zu wenig Zeilen in Datei+
 4304=Zu wenig Punkte, um die Karte zu kalibrieren
@@ -939,7 +939,7 @@
 4821=WebMapService: Eigenschaft >ImageFileExtension:< fehlt in Datei:
 4822=Bereich:
 4823=wird vom Dienst:
-4824=+nicht abgedeckt, Dienstbereich:
+4824= nicht abgedeckt, Dienstbereich:
 4825=Ma??stab
 4826=wird von diesem Kartendienst nicht unterst??tzt, unterst??tzter Ma??stabsbereich:
 4827=(gemessen vertikal in Metern pro Pixel)
@@ -947,9 +947,9 @@
 4829=getUrlForBoundingBox: Punkt:
 4830=Kein passender Gau??-Kr??ger-Streifen in der EPSG-Codeliste in der .wms-Datei
 4831=getMapInfoObject: Koordinatensystem wird von Cachewolf nicht unterst??tzt:
-4900=+ist keine deutsche Gau??-Kr??ger-Koordinate
+4900= ist keine deutsche Gau??-Kr??ger-Koordinate
 4920=EPSG-Code+
-4921=+nicht unterst??tzt
+4921= nicht unterst??tzt
 4922=EPSG code fehlt in:+
 4923=fromWgs84: EPSG code+
 4924=ToWgs84: EPSG code+
@@ -973,13 +973,13 @@
 5509=Zentrumskoordinaten nicht gesetzt
 5510=Import Optionen
 5511=Gefunden+
-5512=+\nneue / zu aktualisierende Caches
+5512= \nneue / zu aktualisierende Caches
 5513=Laden von:+
 5514=Travelbug:+
 5515=Fehler beim Laden des Caches.\nBitte ??berpr??fen Sie Ihre Internetverbindung und ob als Sprache bei GC.com English ausgew??hlt ist.\nNoch einmal versuchen?
-5516=+Cachebeschreibungen\nkonnten nicht geladen werden.
+5516= Cachebeschreibungen\nkonnten nicht geladen werden.
 5517=Aktualisierungen importieren?
-5518=+Caches in der Datenbank sollten aktualisiert werden. Jetzt aktualisieren?
+5518= Caches in der Datenbank sollten aktualisiert werden. Jetzt aktualisieren?
 5519=Information
 5520=Nur das eingestellte Maximum an Caches wurde geladen.\nWiederholen sie das Spidern sp??ter um weitere Caches zu laden.\nEs wurden keine vorhandenen Caches aktualisiert.
 5521=Seite+

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-23 20:14:16 UTC (rev 2789)
@@ -145,7 +145,7 @@
 221=Overwrite filter?
 222=This filter already exists. Overwrite it?
 223=Delete filter?
-224=+- Delete the saved filter?
+224= - Delete the saved filter?
 225=Also in logs
 226=Profile cannot be deleted.
 227=active profile cannot be deleted.
@@ -482,7 +482,7 @@
 1512=Waypoint
 1513=Cannot start moving map without valid coordinates. Please enter coordinates as destination as center or in selected cache, or start GPS
 1514=Cannot recalculate distances, because the GPS position is not set
-1600=+Download
+1600= Download
 1601=max. Distance:
 1602=Download images
 1603=Download maps
@@ -506,7 +506,7 @@
 1621=Error while interpreting data\n from Opencaching.de,\nThis is most probaly a bug at Opencaching.de\nRetry later\n Status:
 1622=Exclude found caches
 1623=Import upto:
-1624=+caches (empty=all)
+1624= caches (empty=all)
 1625=Download TBs
 1626=Max. save logs:
 1627=All caches
@@ -800,9 +800,9 @@
 4111=Coordinates must be entered in the format N XX XX.XXX E XXX XX.XXX
 4112=IO-Error while copying image from:+
 4113=to:+
-4114=+error:+
+4114= error:+
 4115=Error: could not decode image:+
-4116=+-+image not copied
+4116= - image not copied
 4117=Error while importing .map-file:+
 4118=IO-Error while reading or writing calibration file
 4119=No calibration file found for:+
@@ -818,7 +818,7 @@
 4211=No+
 4212=less
 4213=more
-4214=+detailed map available
+4214= detailed map available
 4215=No caches selected by a tick
 4216=Loading map...
 4217=Could not find image associated with:
@@ -885,7 +885,7 @@
 4295=center
 4296=detailing
 4300=empty 1 Pixel =+
-4301=+meters
+4301= meters
 4302=Lat/Lon out of range while reading+
 4303=not enough lines in file+
 4304=not enough points to calibrate the map
@@ -947,9 +947,9 @@
 4829=getUrlForBoundingBox: Point:
 4830=No matching Gau??-Kr??ger-Stripe in the EPSG-code list in the .wms
 4831=getMapInfoObject: Coordinate system not supported by Cachewolf:
-4900=+is not a german Gauss-Krueger coordinate
+4900= is not a german Gauss-Krueger coordinate
 4920=EPSG code+
-4921=+not supported
+4921= not supported
 4922=EPSG code missing in:+
 4923=fromWgs84: EPSG code+
 4924=ToWgs84: EPSG code+
@@ -973,13 +973,13 @@
 5509=Coordinates for centre must be set
 5510=Spider Options
 5511=Found+
-5512=+new/update caches
+5512= new/update caches
 5513=Loading:+
 5514=Getting bug:+
 5515=Failed to load cache.\nPlease check your internet connection.\nRetry?
-5516=+cache descriptions\ncould not be loaded.
+5516= cache descriptions\ncould not be loaded.
 5517=Spider updates?
-5518=+caches in database need an update. Update now?
+5518= caches in database need an update. Update now?
 5519=Information
 5520=Only the given maximum of caches were loaded.\nRepeat spidering later to load more caches.\nNo already existing caches were updated.
 5521=Page+

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-23 20:14:16 UTC (rev 2789)
@@ -145,7 +145,7 @@
 221=??craser filtre?
 222=Ce filtre existe d??j??. ??craser-le?
 223=Effacer filtre?
-224=+- Effacer ce filtre enregistr???
+224= - Effacer ce filtre enregistr???
 225=Aussi dans logs
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -482,7 +482,7 @@
 1512=Waypoint
 1513=Ne peut pas afficher carte sans coordonn??es valides - Merci d'entrer coordonn??es comme destination, centre ou dans le cache choisi et d??marrer GPS
 1514=Impossible de recalculer les distances, parce que la position GPS n'est pas d??fini
-1600=+T??l??chargement
+1600= T??l??chargement
 1601=max. Distance:
 1602=T??l??charger images
 1603=T??l??charger cartes
@@ -506,7 +506,7 @@
 1621=Erreur d'interpretation du fichier mise ?? jour.\nC'est probablement un erreur d'opencaching.de\nEssayez encore une fois plus tard.\n Statut:
 1622=Pas t??l??charger caches trouv??es
 1623=Max Quantit??:
-1624=+ caches
+1624=  caches
 1625=Importe TBs
 1626=Max Activit??:
 1627=Tous les caches
@@ -799,10 +799,10 @@
 4110=Chargeant
 4111=Les coordonn??es doivent ??tre en format N XX XX,XXX E XXX XX,XXX
 4112=Erreur E/S en copyant:+
-4113=+??:+
-4114=+Erreur:+
+4113= ??:+
+4114= Erreur:+
 4115=Erreur: Ne peut pas d??coder image:+
-4116=+-+Image pas copi??e
+4116= - Image pas copi??e
 4117=Erreur en important fichier .map:+
 4118=Erreur E/S en lisant ou ??crivant le fichier de calibrage
 4119=Pas trouv?? de fichier de calibrage pour:+
@@ -818,7 +818,7 @@
 4211=Pas de carte+
 4212=plus claire et plus
 4213=d??taill??e
-4214=+disponible
+4214= disponible
 4215=Pas de caches coch??es
 4216=Chargeant carte...
 4217=N'a pas pu trouv?? fichier pour cette image:
@@ -885,7 +885,7 @@
 4295=center
 4296=detailing
 4300=1 pixel vide =+
-4301=+metre
+4301= metre
 4302=Latitude/Longitude hors de l'??tendue valide en chargeant+
 4303=Trop peu de lignes en fichier+
 4304=Trop peu de points pour calibrer la carte
@@ -908,7 +908,7 @@
 4700=Ignore erreur chargeant\nle fichier de calibration
 4701=Cherche la meilleur carte
 4702=Optimisation
-4703=Cachewolf peut accelerer le chargement des cartes en ajoutant un marquage\n Faire ???maintenant?\n?? peut mettre quelques minutes.
+4703=Cachewolf peut accelerer le chargement des cartes en ajoutant un marquage\n Faire maintenant?\n?? peut mettre quelques minutes.
 4704=Renommer fichier:
 4705=Erreur en renommant:
 4706=pr??s:
@@ -922,7 +922,7 @@
 4804=Colonne
 4805=Page
 4806=: Ignore erreur:
-4807=loadTo: Chargement de la carte ??chou??: Pas re???http-redirect
+4807=loadTo: Chargement de la carte ??chou??: Pas re http-redirect
 4808=downloadImage: content-type:
 4809=n'est pas une image, debut du contenu:
 4810=Erreur en chargeant ou enr??gstrant carte:
@@ -947,9 +947,9 @@
 4829=getUrlForBoundingBox: Point:
 4830=Pas de bande Gau??-Kr??ger dans la liste de codes EPSG dans le fichier .wms
 4831=getMapInfoObject: Syst??me de coordonn??es n'est pas soutenue par CacheWolf:
-4900=+n'est pas une coordonn??e allemande Gau??-Kr??ger
+4900= n'est pas une coordonn??e allemande Gau??-Kr??ger
 4920=Code EPSG+
-4921=+pas soutenu
+4921= pas soutenu
 4922=Code EPSG manque en:+
 4923=fromWgs84: code EPSG+
 4924=ToWgs84: code EPSG+
@@ -973,13 +973,13 @@
 5509=Coordonn??es de centre pas mis
 5510=Options spider
 5511=Trouv??e+
-5512=+nouveau/mettre ?? jour Caches
+5512= nouveau/mettre ?? jour Caches
 5513=Chargeant:+
 5514=Travel Bug:+
 5515=Erreur en chargeant la cache.\nMerci de v??rifier votre connexion internet et si vous avez language englais chez gc.com..\nContinuer d'essayer?
-5516=+descriptions cache\nne pouvait pas ??tre charg??.
+5516= descriptions cache\nne pouvait pas ??tre charg??.
 5517=Spider mises ?? jour?
-5518=+caches en base de donn??es ont besoin d'une mise ?? jour. Mettre ?? jour maintenant?
+5518= caches en base de donn??es ont besoin d'une mise ?? jour. Mettre ?? jour maintenant?
 5519=Information
 5520=Seulement le maximum compte tenu des caches ont ??t?? charg??s.\nR??p??tez spidering plus tard ?? la charge des caches plus.\nNo caches d??j?? existants ont ??t?? mis ?? jour.
 5521=Page+
@@ -1066,13 +1066,13 @@
 7113=- obtenu quelques donn??es
 7114=GPS Port trouv??
 7115=- Pas d'??tiquette de donn??es GPS trouv??
-7116=- Pas de donn??es re???s
+7116=- Pas de donn??es re s
 7117=Afficher les donn??es du port s??rie directement:
 7118=Stop
 7119=Stop
 7120=ANNUL??
-7121=Recevoir GPS ?? partir de l'h??te gpsd
-7122=GPS donn??es seront re???s par un serveur gpsd, et non ?? partir d'un port s??rie
+7121=Recevoir GPS ?? partir de l'hte gpsd
+7122=GPS donn??es seront re s par un serveur gpsd, et non ?? partir d'un port s??rie
 7200=Usage: CacheWolf [-c <chemin vers pref.xml>] [-debug]
 7300=Street/POI
 7301=Ville

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-23 20:14:16 UTC (rev 2789)
@@ -145,7 +145,7 @@
 221=Overschrijf filter?
 222=De filter exiteerd al. Overschrijven?
 223=Filter verwijderen?
-224=+- Deze filter verwijderen?
+224= - Deze filter verwijderen?
 225=Ook in logs
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -462,7 +462,7 @@
 1408=Voet
 1409=Yards
 1410=mijl
-1411=Voer een geldige co??rdinaten.
+1411=Voer een geldige coordinaten.
 1412=Co??rdinaten ongeldig. Toch doen?
 1413=Verwijderen
 1414=Zoeken
@@ -482,7 +482,7 @@
 1512=Wegpunt
 1513=Kan moving map niet draaien zonder geldige co??rdinaten. Geef Centrums- of Doelco??rdinaten of start het GPS AUB.
 1514=Kan afstanden niet opnieuw berekenen doordat er geen GPS positie gegeven is (geen receptie is/was)
-1600=+Download
+1600= Download
 1601=max. Afstand:
 1602=Download afbeeldingen
 1603=Download kaarten
@@ -506,7 +506,7 @@
 1621=Fout tijdens interpreteren data\n van Opencaching.de,\nDit is vermoedelijk een fout bij Opencaching.de\nprobeer later nogmaals\nStatus:
 1622=niet in staat om te laden caches gevonden
 1623=Max Aantal:
-1624=+ caches
+1624=  caches
 1625=Import TBs:
 1626=Max Logs:
 1627=Alle caches
@@ -799,10 +799,10 @@
 4110=Bezig met laden
 4111=Co??rdinaten moeten in dit formaat worden ingegeven N XX XX.XXX E XXX XX.XXX.
 4112=IO-Fout tijdens het kopi??ren van beeld:+
-4113=+voor:+
-4114=+Fout:+
+4113= voor:+
+4114= Fout:+
 4115=Fout: kan niet decoderen afbeelding:+
-4116=+-+ afbeelding niet gekopieerd
+4116= -  afbeelding niet gekopieerd
 4117=Fout bij importeren .map Bestand:+
 4118=I/O-fout tijdens het lezen of schrijven van de kalibratie-bestand
 4119=Geen kalibratie bestand gevonden voor:+
@@ -818,7 +818,7 @@
 4211=Geen+
 4212=duidelijker
 4213=gedetailleerde
-4214=+Kaart beschikbaar
+4214= Kaart beschikbaar
 4215=Geen caches geselecteerd met vinkje
 4216=Laden kaart ...
 4217=Geen bestand, behorende tot de volgende afbeelding is niet gevonden:
@@ -885,7 +885,7 @@
 4295=Centrum
 4296=Detaillering
 4300=leeg 1 pixel=+
-4301=+ meter
+4301=  meter
 4302=Lat / Lon buiten bereik tijdens het lezen +
 4303=niet genoeg lijnen in dossier +
 4304=niet genoeg punten voor het ijken van de kaart
@@ -930,7 +930,7 @@
 4812=WebMapService: pand> Naam: <ontbreekt in bestand:
 4813=WebMapService: pand> MainUrl: <ontbreekt in bestand:
 4814=WebMapService: geen CoordinateReferenceSystemCacheWolf gegeven
-4815=Co??rdinaat referentie systeem niet ondersteund door CacheWolf:
+4815=Coordinaat referentie systeem niet ondersteund door CacheWolf:
 4816=WebMapService: onroerend goed > CoordinateReferenceSystemUrlPart: <ontbreekt in bestand:
 4817=Aantal strings in CoordinateReferenceSystemUrlPart (
 4818=) moet overeenkomen met het aantal codes in CoordinateReferenceSystemCacheWolf (
@@ -943,13 +943,13 @@
 4825=schaal
 4826=niet ondersteund door online kaart service, ondersteund schaal range:
 4827=(gemeten in meters per pixel verticaal)
-4828=Co??rdinaat systeem niet ondersteund door Cachewolf:
+4828=Coordinaat systeem niet ondersteund door Cachewolf:
 4829=getUrlForBoundingBox: Point:
 4830=Geen overeenkomende Gau??f-Kr??cger-streep in de EPSG-code lijst in het. WMS
-4831=getMapInfoObject: Co??rdinaat systeem niet ondersteund door Cachewolf:
-4900=+ is niet een Duitse Gauss-Krueger te co??rdineren
+4831=getMapInfoObject: Coordinaat systeem niet ondersteund door Cachewolf:
+4900=  is niet een Duitse Gauss-Krueger te coordineren
 4920=EPSG code +
-4921=+ niet ondersteund
+4921=  niet ondersteund
 4922=EPSG code ontbreekt in: +
 4923=fromWgs84: EPSG code +
 4924=ToWgs84: EPSG code +
@@ -973,13 +973,13 @@
 5509=Co??rdinaten voor middelpunt moeten worden ingegeven.
 5510=Spider options
 5511=Gevonden+
-5512=+niew/update caches
+5512= niew/update caches
 5513=Bezig met laden:+
 5514=Travelbug
 5515=Failed to load-cache.\nPlease Controleer je internetverbinding.\nRetry?
-5516=+cache beschrijvingen\ncould niet worden geladen.
+5516= cache beschrijvingen\ncould niet worden geladen.
 5517=Spider updates?
-5518=+caches in de database moet een update. Update nu?
+5518= caches in de database moet een update. Update nu?
 5519=Informatie
 5520=Alleen de gegeven maximum van caches waren geladen.\nRepeat spideren later meer caches te laden.\nNo reeds bestaande caches zijn bijgewerkt.
 5521=Page+

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-23 20:14:16 UTC (rev 2789)
@@ -145,7 +145,7 @@
 221=Nadpisac filtr?
 222=Taki filtr juz istnieje. Nadpisac?
 223=Usunac filtr?
-224=+- Usunac zapisany filtr?
+224= - Usunac zapisany filtr?
 225=Takze w logach
 226=[Profile cannot be deleted.]
 227=[active Profile cannot be deleted.]
@@ -506,7 +506,7 @@
 1621=Blad podczas interpretacji danych\n Z Opencaching,\nNajpopularniejszy blad w Opencaching\nSprobuj pozniej\n Status:
 1622=Wyklucz znalezione skrzynki
 1623=Max. numer:
-1624=+skrzynek
+1624= skrzynek
 1625=Sciagnij TBs
 1626=Max. logow:
 1627=Wszystkie skrzynki
@@ -800,9 +800,9 @@
 4111=Wspolrzedne musza byc wprowadzone w formacie N XX XX.XXX E XXX XX.XXX
 4112=IO-Blad podczas kopiowania obrazu z:+
 4113=do:+
-4114=+Blad:+
+4114= Blad:+
 4115=Blad: nie moge odczytac obrazu:+
-4116=+-+obraz nie skopiowany
+4116= - obraz nie skopiowany
 4117=Blad podczas importowania pliku .map:+
 4118=IO-Blad podczas wczytywania lub nadpisywania pliku
 4119=Plik kalibracji nie znaleziony dla:+
@@ -818,7 +818,7 @@
 4211=Zadna+
 4212=mniej
 4213=bardziej
-4214=+szczegolowa mapa dostepna
+4214= szczegolowa mapa dostepna
 4215=Nie ma skrzynek wybraych
 4216=Wczytuje mape...
 4217=Nie moge znalezc obrazow polaczonych z:
@@ -885,7 +885,7 @@
 4295=center
 4296=detailing
 4300=Pusty 1 Pixel =+
-4301=+metrow
+4301= metrow
 4302=Lat/Lon poza obszarem podczas wczytywania+
 4303=za malo lini w pliku+
 4304=za malo punktow do kalibracji mapy.
@@ -898,7 +898,7 @@
 4404=Nie moge polaczyc z odbiornikiem GPS.\n Blad otwarcia Portu szeregowego
 4405=mozliwe przyczyny:\n Inny (GPS-)program blokuje port\nzly port\nLoox: aktywna podczerwien blokuje GPS"
 4406=Prosze kopiuj jave_ewe.dll do katalogu z programem
-4407=Pliki Profilu sa w nieaktualnym formacie.\nZostaja na sile przekonwertowywane na aktualny format.\n W zaleznosci od wielkosci profilu i mozliwosci komputera moze to chwile potrwac.\n Prosze czekac??]
+4407=Pliki Profilu sa w nieaktualnym formacie.\nZostaja na sile przekonwertowywane na aktualny format.\n W zaleznosci od wielkosci profilu i mozliwosci komputera moze to chwile potrwac.\n Prosze czekac
 4408=Nie moge polaczyc z GPSD:
 4409=mozliwe przyczyny:\nGPSD host nieosiagalny lub GPSD tu nie dziala
 4500=Wsz:
@@ -947,9 +947,9 @@
 4829=getUrlForBoundingBox: Point:
 4830=Nie pasujace Gau??-Kr??ger-Stripe w kodzie EPSG w pliku .wms
 4831=getMapInfoObject: Cachewolf nie wspiera takich wspolrzednych:
-4900=+to nie sa koordynaty Gauss-Krueger
+4900= to nie sa koordynaty Gauss-Krueger
 4920=EPSG code+
-4921=+nie wspierane
+4921= nie wspierane
 4922=EPSG code brakujacy w:+
 4923=fromWgs84: EPSG code+
 4924=ToWgs84: EPSG code+
@@ -973,13 +973,13 @@
 5509=Wspolrzedne dla srodka musza byc podane
 5510=Opcje Spidera
 5511=Znaleziona+
-5512=+nowy/aktualizacja skrzynki
+5512= nowy/aktualizacja skrzynki
 5513=Wczytuje:+
 5514=Pobieram bugi:+
 5515=Nie mozna zaladowac skrzynki.\nProsze sprawdzic polaczenie z netem.\nSprobowac ponownie?
-5516=+Nie mozna zaladowac\nopisu skrzynek.
+5516= Nie mozna zaladowac\nopisu skrzynek.
 5517=Spider updates?
-5518=+Skrzynki w bazie wymagaja update'u.\nZrobic to teraz?
+5518= Skrzynki w bazie wymagaja update'u.\nZrobic to teraz?
 5519=Informacje
 5520=Tylko zadane maksimum zostalo wczytane.\nPowtorz pozniej by znalezc inne skrzynki.\nZadna z dotychczasowych skrzynek nie zostala updateowana.
 5521=Strona+

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-23 20:14:16 UTC (rev 2789)
@@ -145,7 +145,7 @@
 221=Skriv ??ver filter?
 222=Det finns redan. ??ver den?
 223=Ta bort filter?
-224=+ - radera sparade filter?
+224=  - radera sparade filter?
 225=??ven i loggarna
 226=profil inte kan tas bort.
 227=aktiv profil kan inte raderas.
@@ -482,7 +482,7 @@
 1512=Waypoint
 1513=Kan inte b??rja r??ra karta utan giltig koordinater. V??nligen ange koordinater som destination som center eller i utvalda cache, eller starta GPS
 1514=Kan inte r??kna avst??nd, eftersom GPS-position ??r inte inst??lld
-1600=+ H??mta
+1600=  H??mta
 1601=max. Avst??nd:
 1602=Ladda ner bilder
 1603=H??mta kartor
@@ -506,7 +506,7 @@
 1621=Fel vid tolkning av data\n fr??n Opencaching.de, ??r\nThis troligen ett fel p?? Opencaching.de\nRetry senare\n Status:
 1622=Uteslut hittade cachar
 1623=Importera upto:
-1624=+ cachar (tom=alla)
+1624=  cachar (tom=alla)
 1625=H??mta TBS
 1626=Max. spara loggar:
 1627=Alla cachar
@@ -800,9 +800,9 @@
 4111=Koordinater m??ste anges i formatet N XX XX.XXX E XXX XX.XXX
 4112=IO-Fel vid kopiering bild fr??n: +
 4113=till: +
-4114=+ error: +
+4114=  error: +
 4115=Fel: Kunde inte avkoda bild: +
-4116=+ - + bild inte kopieras
+4116=  -   bild inte kopieras
 4117=Fel vid import. Map-fil: +
 4118=IO-Fel vid l??sning eller skrivning kalibrering fil
 4119=Ingen kalibrering fil hittades f??r: +
@@ -818,7 +818,7 @@
 4211=No +
 4212=mindre
 4213=mer
-4214=+ detaljerad karta finns
+4214=  detaljerad karta finns
 4215=Ingen cachar ut av en f??sting
 4216=Laddar karta ...
 4217=Kunde inte hitta bilden i samband med:
@@ -885,7 +885,7 @@
 4295=center
 4296=detailing
 4300=tom 1 pixel=+
-4301=+ meter
+4301=  meter
 4302=Lat / Lon r??ckh??ll n??r du l??ser +
 4303=inte tillr??ckligt rader i filen +
 4304=inte tillr??ckligt med po??ng f??r att kalibrera kartan
@@ -947,9 +947,9 @@
 4829=getUrlForBoundingBox: Point:
 4830=Inga matchande Gau??F-Kr??cger-rand i EPSG-kodlistan p??. WMS
 4831=getMapInfoObject: Koordinatsystem inte st??ds av Cachewolf:
-4900=+ ??r inte en tysk Gauss-Krueger samordna
+4900=  ??r inte en tysk Gauss-Krueger samordna
 4920=EPSG kod +
-4921=+ st??ds
+4921=  st??ds
 4922=EPSG kod saknas i: +
 4923=fromWgs84: EPSG kod +
 4924=ToWgs84: EPSG kod +
@@ -973,13 +973,13 @@
 5509=Koordinater f??r centrum m??ste st??llas
 5510=Spider Options
 5511=Found +
-5512=+ nya/uppdatering cachar
+5512=  nya/uppdatering cachar
 5513=Laddar: +
 5514=Getting bug: +
 5515=Kunde inte ladda cache.\nPlease kontrollera din Internetanslutning.\nRetry?
-5516=+ cache beskrivningar\ncould inte laddas.
+5516=  cache beskrivningar\ncould inte laddas.
 5517=Spider uppdateringar?
-5518=+ cachar i databasen beh??ver uppdateras. Uppdatera nu?
+5518=  cachar i databasen beh??ver uppdateras. Uppdatera nu?
 5519=Information
 5520=Endast ges maximalt cachar lastades.\nRepeat spidering senare att l??sa mer cachar.\nNo redan existerande cachar har uppdaterats.
 5521=Sida +
@@ -1048,7 +1048,7 @@
 7013=fel
 7020=rekommenderade versionen typ
 7021=typ av denna version
-7022=detta ???+
+7022=detta +
 7023=nedladdning Fel nuvarande version information
 7100=Serial Port Options
 7101=Uppdatera Ports$u

Modified: trunk/res_noewe/templates/MyFieldNotes.tpl
===================================================================
--- trunk/res_noewe/templates/MyFieldNotes.tpl	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/res_noewe/templates/MyFieldNotes.tpl	2010-09-23 20:14:16 UTC (rev 2789)
@@ -3,18 +3,21 @@
 <tmpl_par name="charset" value="UTF8">
 <tmpl_par name="newline" value="CRLF">
 <tmpl_par name="badchars" value="\"">
+<tmpl_par name="sortedBy" value="9">
+<#-- for having only the relevant caches in Memory we have the new tmpl_par takeOnlyWp -->
+<tmpl_par name="takeOnlyWp" value="main">
 <tmpl_loop cache_index>
 <tmpl_unless MAINWP>
 <tmpl_if STATUS>
 <tmpl_if STATUS_DATE>
 <tmpl_var name=WAYPOINT>,<tmpl_var name=STATUS_DATE>T<tmpl_var name=STATUS_TIME>Z,<tmpl_var name=GC_LOGTYPE>,"#<tmpl_var __COUNTER__> <tmpl_var name=STATUS><br>
 <tmpl_var name=NOTES>
-DfdC sagt hierSetzeDeinenAlias
+DfdC sagt <tmpl_var name=ALIAS>
 "<br>
 </tmpl_else>
 <tmpl_var name=WAYPOINT>,<tmpl_var name=NOW_DATE>T<tmpl_var name=NOW_TIME>Z,<tmpl_var name=GC_LOGTYPE>,"#<tmpl_var __COUNTER__> <tmpl_var name=NOW_DATE> <tmpl_var name=NOW_TIME> <tmpl_var name=STATUS><br>
 <tmpl_var name=NOTES>
-DfdC sagt hierSetzeDeinenAlias
+DfdC sagt <tmpl_var name=ALIAS>
 "<br>
 </tmpl_if>
 </tmpl_if>

Modified: trunk/res_noewe/templates/Short documentation for the export via templates.htm
===================================================================
--- trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/res_noewe/templates/Short documentation for the export via templates.htm	2010-09-23 20:14:16 UTC (rev 2789)
@@ -214,9 +214,9 @@
 <span class=SpellE>outputfile</span> value=?yes? or one file per cache
 value=?no? (use a dummy / not existing name for Out par)<br>
 &lt;<span class=SpellE>tmpl_par</span> name=&quot;<span class=SpellE>formatModifier</span>&quot;
-value=&quot;0&quot;&gt;<span style='mso-tab-count:2'>????????????????? </span><span
-style='mso-tab-count:1'>??????????? </span>0 is xml as <span class=SpellE>gpx</span>
-generation before, 1 is html for local use 2 is html for export use<br>
+value=&quot;0&quot;&gt;<span style='mso-tab-count:3'>???????????????????????????? </span>0
+is xml as <span class=SpellE>gpx</span> generation before, 1 is html for local
+use 2 is html for export use<br>
 &lt;<span class=SpellE>tmpl_par</span> name=&quot;<span class=SpellE>takeOnlyWp</span>&quot;
 value=&quot;all&quot;&gt;<span style='mso-tab-count:3'>????????????????????????????? </span>process
 only this <span class=SpellE>Cachetypegroups</span> value is either ?main? or ?<span
@@ -234,12 +234,15 @@
 value=&quot;value&quot;&gt;<span style='mso-tab-count:2'>???????????????????? </span>sets
 a <span class=SpellE>tmpl_var</span> with the name <span class=SpellE>Konstante</span>
 (<span class=SpellE>Konstante</span> is placeholder) (!<span class=SpellE>dont</span>
-use umlauts in value)<o:p></o:p></span></p>
+use umlauts in value)<br>
+&lt;<span class=SpellE>tmpl_par</span> name=&quot;<span class=SpellE>sortedBy</span>&quot;
+value=&quot;-1&quot;&gt;<span style='mso-tab-count:3'>??????????????????????????????????? </span>sets
+a <span class=SpellE>tmpl_var</span> with the name <span class=SpellE>sortedBy</span>:
+values are 1..19. (5=Waypoint,6=Name,9=Status,10=Distance? see myComparer.java)<o:p></o:p></span></p>
 
-<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
-mso-outline-level:1'><u><span lang=EN-GB style='font-size:10.0pt;font-family:
-Arial;mso-ansi-language:EN-GB'>Output section</span></u><span lang=EN-GB
-style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
+<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><u><span
+lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>Output
+section</span></u><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>Anything
@@ -261,8 +264,10 @@
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>PROGDIR<span
 style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????????????? </span>:
 <span class=SpellE>FileBase.getProgramDirectory</span>()<br>
-PROFILDIR<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????? </span>:
-<br>
+PROFILDIR<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????? </span>:<span
+style='mso-tab-count:6'>????????????????????????????????????????????????????????????????????? </span><span
+style='mso-tab-count:2'>??????????????????????? </span>: <br>
+ALIAS<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:<br>
 TYPE<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 &lt;type&gt; Type of cache, e.g. Regular, Multi<br>
 TYPENO<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????????? </span>:
@@ -283,8 +288,7 @@
 mso-ansi-language:EN-GB'>MAINWP<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????????? </span>:
 ?? if is <span class=SpellE>Mainwaypoint</span>, <span class=SpellE>Mainwaypoint</span>
 if is <span class=SpellE>Addi</span> Waypoint<br>
-MAINWPNAME<span style='mso-tab-count:1'> </span><span style='mso-tab-count:
-7'>????????????????????????????????????????????????????????????????????????????????? </span>:
+MAINWPNAME<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????? </span>:
 ?? if is <span class=SpellE>Mainwaypoint</span>, <span class=SpellE>Mainwaypoint</span>
 name if is <span class=SpellE>Addi</span> Waypoint<br>
 </span><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:
@@ -331,7 +335,8 @@
 class=SpellE>xx.yyyy</span>? &gt; Longitude in decimal format, e.g. 008.58132<br>
 STATUS<span style='mso-tab-count:8'>???????????????????????????????????????????????????????????????????????????????????????????? </span>:<span
 style='mso-spacerun:yes'>? </span>means found<br>
-GC_LOGTYPE<span style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????? </span>:
+GC_LOGTYPE<span style='mso-tab-count:4'>???????????????????????????????????? </span><span
+style='mso-tab-count:4'>?????????????????????????????????????????????? </span>:
 the English Status texts (for <span class=SpellE>gpx</span> ? export)<br>
 STATUS_DATE<span style='mso-tab-count:8'>?????????????????????????????????????????????????????????????????????????????????? </span>:
 Get the date part of the status <br>
@@ -352,7 +357,8 @@
 class=SpellE>hinten</span> und <span class=SpellE>wenn</span> <span
 class=SpellE>das</span> <span class=SpellE>nicht</span> <span class=SpellE>reicht</span>
 <span class=SpellE>durch</span> <span class=SpellE>Weglassen</span> von<span
-style='mso-spacerun:yes'>???? </span><span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+style='mso-spacerun:yes'>???? </span><span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????????? </span><span
+style='mso-tab-count:5'>?????????????????????????????????????????????????????????? </span>:
 <span class=SpellE>Kleinbuchstaben</span> von <span class=SpellE>hinten</span>
 auf <span class=SpellE>eine</span> in den <span class=SpellE>Einstellungen</span>
 <span class=SpellE>vorgegebene</span> <span class=SpellE>L?nge</span> <span
@@ -389,8 +395,7 @@
 NOTES<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 User Notes&nbsp;&nbsp; (<span class=SpellE>badchars</span> are removed, see
 below)<br>
-HINTS<span style='mso-tab-count:5'>????????????????????????????????????????????????? </span><span
-style='mso-tab-count:4'>?????????????????????????????????????????????? </span>:
+HINTS<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 Encrypted hints&nbsp;&nbsp; (<span class=SpellE>badchars</span> are removed,
 see below)<br>
 DECRYPTEDHINTS<span style='mso-tab-count:7'>???????????????????????????????????????????????????????????????????????????? </span>:
@@ -405,9 +410,10 @@
 <span class=SpellE>Staat</span> <br>
 STATE<span style='mso-tab-count:9'>??????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 <span class=SpellE>Bundesland</span><br>
-HTML<span style='mso-tab-count:5'>????????????????????????????????????????????????? </span><span
-style='mso-tab-count:4'>?????????????????????????????????????????????? </span>:
-TRUE / FALSE if description is html<br style='mso-special-character:line-break'>
+HTML<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+TRUE / FALSE if description is html<br>
+VOTE<span style='mso-tab-count:9'>???????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+<span class=SpellE>gcvote</span> / OC<br style='mso-special-character:line-break'>
 <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
 <![endif]><o:p></o:p></span></p>
 
@@ -420,8 +426,7 @@
 path an <span class=SpellE>imagename</span> of the attribute<br>
 IMAGE<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 <span class=SpellE>imagename</span> of the attribute<br>
-INFO<span style='mso-tab-count:2'>??????????????? </span><span
-style='mso-tab-count:7'>????????????????????????????????????????????????????????????????????????????????? </span>:
+INFO<span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 description of the attribute from language <span class=SpellE>config</span><br>
 GCINFO<span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 description of the attribute as from gc.com<br>
@@ -473,10 +478,9 @@
 LAT<span style='mso-tab-count:9'>??????????????????????????????????????????????????????????????????????????????????????????????????? </span><span
 class=GramE>:</span><br>
 LON<span style='mso-tab-count:9'>?????????????????????????????????????????????????????????????????????????????????????????????????? </span>:<br>
-IMG<span style='mso-tab-count:6'>???????????????????????????????????????????????????????????????? </span><span
-style='mso-tab-count:3'>?????????????????????????????????? </span>: Name des <span
-class=SpellE>Addi</span> Icons <span class=SpellE>png</span> (resources <span
-class=SpellE>oder</span> <span class=SpellE>exporticons</span>)<br>
+IMG<span style='mso-tab-count:9'>??????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
+Name des <span class=SpellE>Addi</span> Icons <span class=SpellE>png</span>
+(resources <span class=SpellE>oder</span> <span class=SpellE>exporticons</span>)<br>
 ICON<span style='mso-tab-count:9'>????????????????????????????????????????????????????????????????????????????????????????????????? </span>:
 &lt;type&gt; as number string (see <span class=SpellE>CacheType.java</span> <span
 class=SpellE>e.g</span> : ?,50=Parking ?.)<br>
@@ -499,7 +503,7 @@
 mso-outline-level:1'><span class=SpellE><span class=GramE><span lang=EN-GB
 style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>cacheImg</span></span></span><span
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'><span
-style='mso-tab-count:8'>??????????????????????????????????????????????????????????????????????????????????????????? </span>:
+style='mso-tab-count:1'>????????? </span><span style='mso-tab-count:7'>????????????????????????????????????????????????????????????????????????????????? </span>:
 the &lt;<span class=SpellE>tmpl_loop</span> <span class=SpellE>cacheImg</span>&gt;<br>
 FILENAME<span style='mso-tab-count:8'>????????????????????????????????????????????????????????????????????????????????????????? </span>:
 the filename in the profile directory<br>
@@ -546,8 +550,9 @@
 class=SpellE>tmpl_var</span> name=LAT&gt;;&lt;<span class=SpellE>tmpl_var</span>
 name=LON&gt;;&quot;&lt;<span class=SpellE>tmpl_var</span>
 name=TYPE&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
-name=SIZE&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span> name=WAYPOINT&gt;&quot;;&quot;&lt;<span
-class=SpellE>tmpl_var</span> name=DATE&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
+name=SIZE&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
+name=WAYPOINT&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
+name=DATE&gt;&quot;;&quot;&lt;<span class=SpellE>tmpl_var</span>
 name=URL&gt;&quot;&lt;<span class=SpellE>br</span> /&gt;<br>
 &lt;/<span class=SpellE>tmpl_loop</span>&gt;<br style='mso-special-character:
 line-break'>
@@ -573,8 +578,8 @@
 &lt;TMPL_VAR name=&quot;<span class=SpellE>var_name</span>&quot;
 default=&quot;my value&quot;&gt;<br>
 If <span class=SpellE>var_name</span> is set using <span class=SpellE>setParam</span>
-(or <span class=SpellE>setParams</span>), then it's value will be whatever it
-was set to<span class=GramE>,<span style='mso-spacerun:yes'>? </span>else</span></span><span
+(or <span class=SpellE>setParams</span>), then it's value will be whatever it was
+set to<span class=GramE>,<span style='mso-spacerun:yes'>? </span>else</span></span><span
 lang=EN-GB style='mso-ansi-language:EN-GB'> </span><span lang=EN-GB
 style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>it will be
 &quot;my value&quot; (without the quotes).<o:p></o:p></span></p>
@@ -586,8 +591,8 @@
 </span><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp; </span><span
 class=GramE><span lang=EN-GB style='font-size:10.0pt;font-family:Arial;
 mso-ansi-language:EN-GB'>none</span></span><span lang=EN-GB style='font-size:
-10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>:&nbsp;&nbsp; String unchanged
-(this is the default if escape is not specified)<br>
+10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>:&nbsp;&nbsp; String
+unchanged (this is the default if escape is not specified)<br>
 </span><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp; </span><span
 lang=EN-GB style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>html:&nbsp;&nbsp;
 Encode special characters: &amp; &gt; &lt; &quot;.&nbsp; They are changed to
@@ -707,8 +712,8 @@
 style='mso-spacerun:yes'>? </span>you</span></span><span lang=EN-GB
 style='mso-ansi-language:EN-GB'> </span><span lang=EN-GB style='font-size:10.0pt;
 font-family:Arial;mso-ansi-language:EN-GB'>place &lt;<span class=SpellE>tmpl_var</span>&gt;s.<b
-style='mso-bidi-font-weight:normal'> The only loop used by the template exporter
-is '<span class=SpellE>cache_index</span>', see example above. </b></span><span
+style='mso-bidi-font-weight:normal'> The only loop used by the template
+exporter is '<span class=SpellE>cache_index</span>', see example above. </b></span><span
 lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 
 <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
@@ -746,8 +751,8 @@
 if both __FIRST__ and __LAST__ are false<br>
 __COUNTER__<span style='mso-tab-count:1'> </span></span><span lang=EN-GB
 style='mso-ansi-language:EN-GB'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB
-style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>Which iteration
-is currently on. Starts at 1<br style='mso-special-character:line-break'>
+style='font-size:10.0pt;font-family:Arial;mso-ansi-language:EN-GB'>Which
+iteration is currently on. Starts at 1<br style='mso-special-character:line-break'>
 <![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
 <![endif]></span><span lang=EN-GB style='mso-ansi-language:EN-GB'><o:p></o:p></span></p>
 

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-09-23 20:14:16 UTC (rev 2789)
@@ -609,6 +609,7 @@
 		CacheHolderDetail det = this.getCacheDetails(false);
 		varParams.put("PROGDIR", FileBase.getProgramDirectory());
 		varParams.put("PROFILDIR", Global.getProfile().dataDir);
+		varParams.put("ALIAS", Global.getPref().myAlias);
 		varParams.put("TYPE", CacheType.type2TypeTag(type)); //<type>
 		varParams.put("TYPENO",""+type);
 		varParams.put("SYM", CacheType.type2SymTag(type)); //<sym>
@@ -688,6 +689,7 @@
 		varParams.put("AVAILABLE", available ? "TRUE" : "FALSE");
 		varParams.put("ARCHIVED", archived ? "TRUE" : "FALSE");
 		varParams.put("HTML", html ? "TRUE" : "FALSE");
+		varParams.put("VOTE", getRecommended());
 		//() ? TRUE : FALSE
 		if (det == null){
 			varParams.put("URL", "");
@@ -1875,6 +1877,22 @@
 	public int getNumRecommended() {
     	return numRecommended;
     }
+	public String getRecommended() {
+		if (!isCacheWpt())
+			return "";
+		if ( isOC() ) {
+		  return Convert.formatInt(numRecommended);
+		} else {
+		  int gcVote = numRecommended;
+		  if ( gcVote < 100 ) {
+		    return MyLocale.formatDouble((double)gcVote/10.0, "0.0"); 
+		  } else {
+		    int votes = gcVote / 100;
+		    gcVote = gcVote - 100 * votes;
+		    return MyLocale.formatDouble((double)gcVote/10.0, "0.0") + " (" + Convert.formatInt(votes) + ")";
+		  }
+		}
+	}
 
 	public void setNumRecommended(int numRecommended) {
 		Global.getProfile().notifyUnsavedChanges(numRecommended != this.numRecommended);		

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/src/CacheWolf/MainTab.java	2010-09-23 20:14:16 UTC (rev 2789)
@@ -50,7 +50,7 @@
 public class MainTab extends mTabbedPanel {
 	DescriptionPanel descP= new DescriptionPanel();
 	HintLogPanel hintLP = new HintLogPanel();
-	TablePanel tbP;
+	public TablePanel tbP;
 	CacheDB cacheDB;
 	public DetailsPanel detP = new DetailsPanel();
 	CalcPanel calcP;

Modified: trunk/src/CacheWolf/TablePanel.java
===================================================================
--- trunk/src/CacheWolf/TablePanel.java	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/src/CacheWolf/TablePanel.java	2010-09-23 20:14:16 UTC (rev 2789)
@@ -37,7 +37,7 @@
 public class TablePanel extends CellPanel{
 	
 	myTableControl tc;
-	myTableModel myMod;
+	public myTableModel myMod;
 	Preferences pref;
 	Profile profile;
 	CacheDB cacheDB;

Modified: trunk/src/CacheWolf/exp/TPLExporter.java
===================================================================
--- trunk/src/CacheWolf/exp/TPLExporter.java	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/src/CacheWolf/exp/TPLExporter.java	2010-09-23 20:14:16 UTC (rev 2789)
@@ -26,6 +26,7 @@
 
 import CacheWolf.CacheDB;
 import CacheWolf.CacheHolder;
+import CacheWolf.Global;
 import CacheWolf.InfoBox;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
@@ -68,6 +69,7 @@
 	int noOfLogs=-1; // means all
 	boolean single = true;
 	int formatModifier = 0;
+	int sortedBy = -1;
 	boolean getAddiWp = true;
 	boolean getMainWp = true;
 	boolean copyCacheImages = false;
@@ -141,6 +143,9 @@
 					getMainWp=false;
 				}
 			}
+			else if (param.equals("sortedBy")) {
+				sortedBy=Integer.valueOf(value).intValue();
+			}
 			else if (param.equals("CopyCacheImages")) {
 				if (value.equals("yes")) copyCacheImages=true;
 			}
@@ -237,6 +242,10 @@
 			File saveTo = fc.getChosenFile();
 			pref.setExportPath(expName, saveTo.getPath());
 
+			if (myFilter.sortedBy!=-1) {
+				Global.mainTab.tbP.myMod.sortTable(myFilter.sortedBy, true);
+			}
+			
 			Regex dec = new Regex("[,.]",myFilter.decSep);
 			if (myFilter.badChars != null) rex = new Regex("["+myFilter.badChars+"]","");
 			

Modified: trunk/src/CacheWolf/imp/FieldnotesImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/src/CacheWolf/imp/FieldnotesImporter.java	2010-09-23 20:14:16 UTC (rev 2789)
@@ -29,7 +29,6 @@
 import CacheWolf.CacheHolder;
 import CacheWolf.Preferences;
 import CacheWolf.Profile;
-import ewe.io.AsciiCodec;
 import ewe.io.FileReader;
 import ewe.io.IOException;
 import ewe.io.JavaUtf8Codec;

Modified: trunk/src/CacheWolf/myTableModel.java
===================================================================
--- trunk/src/CacheWolf/myTableModel.java	2010-09-20 21:37:25 UTC (rev 2788)
+++ trunk/src/CacheWolf/myTableModel.java	2010-09-23 20:14:16 UTC (rev 2789)
@@ -276,9 +276,8 @@
 		ta.anchor = CellConstants.LEFT;
 		// The default color of a line is white
 		lineColorBG.set(COLOR_WHITE);
-		// Determination of colors is only done for first column. Other columns
-		// take same
-		// color.
+		// Determination of colors is only done for first column.
+		// Other columns take same color.
 		if (row >= 0) {
 			if (row == 0 || row != lastRow) {
 				try {
@@ -321,7 +320,7 @@
 					lastColorFG.set(ta.foreground);
 					lastRow = row;
 				} catch (Exception e) {
-					// Global.getPref().log("[myTableModel:getCellAttributes]Ignored",e, true);
+					Global.getPref().log("[myTableModel:getCellAttributes]Ignored row="+row+" lastRow="+lastRow,e, true);
 				}
 				;
 			} else {
@@ -388,8 +387,7 @@
 					return new IconAndText(imgSortUp, colName[colMap[col]], fm);
 					// return "^ "+colName[colMap[col]];
 				} else {
-					return new IconAndText(imgSortDown, colName[colMap[col]],
-							fm);
+					return new IconAndText(imgSortDown, colName[colMap[col]], fm);
 					// return "v "+colName[colMap[col]];
 				}
 			} else {
@@ -465,24 +463,11 @@
 					if (ch.isAddiWpt()) {
 						return "";
 					} else {
-						return sizePics[CacheSize.guiSizeImageId(ch
-								.getCacheSize())];
+						return sizePics[CacheSize.guiSizeImageId(ch.getCacheSize())];
 					}
 				case 13: // OC number of recommendations
-					if (!ch.isCacheWpt())
-						return null;
-					if ( ch.isOC() ) {
-					  return Convert.formatInt(ch.getNumRecommended());
-					} else {
-					  int gcVote = ch.getNumRecommended();
-					  if ( gcVote < 100 ) {
-					    return MyLocale.formatDouble((double)gcVote/10.0, "0.0"); 
-					  } else {
-					    int votes = gcVote / 100;
-					    gcVote = gcVote - 100 * votes;
-					    return MyLocale.formatDouble((double)gcVote/10.0, "0.0") + " (" + Convert.formatInt(votes) + ")";
-            } 
-          }
+					 return ch.getRecommended();
+          
 				case 14: // OC rating
 					if (ch.isOC())
 						return Convert.formatInt(ch.recommendationScore);
@@ -589,14 +574,13 @@
 			CacheHolder ch = null;
 			if ((a != null) && (a.y >= 0) && (a.y < cacheDB.size()))
 				ch = cacheDB.get(a.y);
-			cacheDB.sort(new MyComparer(cacheDB, sortedBy, numRows),
-					!sortAscending);
-			updateRows(); // = cacheDB.rebuild(sortedVector of ch,
-							// invisibleVector of ch)
+			cacheDB.sort(new MyComparer(cacheDB, sortedBy, numRows),!sortAscending);
+			updateRows();
+			// = cacheDB.rebuild(sortedVector of ch,
+			// invisibleVector of ch)
 			// select previously selected Cache again
 			if (ch != null) {
-				int rownum = Global.getProfile()
-						.getCacheIndex(ch.getWayPoint());
+				int rownum = Global.getProfile().getCacheIndex(ch.getWayPoint());
 				if (rownum >= 0)
 					tcControl.cursorTo(rownum, 0, true);
 			}



From araber95 at mail.berlios.de  Sat Sep 25 01:41:19 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 25 Sep 2010 01:41:19 PM +0200
Subject: [Cachewolf-svn] r2790 - trunk/src/CacheWolf
Message-ID: <20100925114119.4353E480FCF@sheep.berlios.de>

Author: araber95
Date: 2010-09-25 13:41:19 +0200 (Sat, 25 Sep 2010)
New Revision: 2790

Modified:
   trunk/src/CacheWolf/MainMenu.java
Log:
1. correct text number for update ticked caches
2. added names for Magellan and Lowrance finds

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2010-09-23 20:14:16 UTC (rev 2789)
+++ trunk/src/CacheWolf/MainMenu.java	2010-09-25 11:41:19 UTC (rev 2790)
@@ -399,7 +399,7 @@
 			if(mev.selectedItem == loadcaches){
 				String dir = pref.getImporterPath("LocGpxImporter");
 				FileChooser fc = new FileChooser(FileChooserBase.OPEN|FileChooserBase.MULTI_SELECT, dir);
-				fc.addMask("*.gpx,*.zip,*.loc,fieldnotes.txt,geocache_visits.txt");
+				fc.addMask("*.gpx,*.zip,*.loc,fieldnotes.txt,geocache_visits.txt,FieldNotes.log,newlogs.txt");
 				fc.setTitle(MyLocale.getMsg(909,"Select file(s)"));
 				if(fc.execute() != FormBase.IDCANCEL){
 					dir = fc.getChosenDirectory().toString();
@@ -419,7 +419,7 @@
 					int how = GPXImporter.DOIT_ASK;
 					for (int i = 0; i < files.length; i++){
 						String file = dir + "/" + files[i];
-						if (file.endsWith("txt")){
+						if (file.endsWith("txt")||file.endsWith("log")){
 							FieldnotesImporter fn=new FieldnotesImporter(pref, profile, file);
 							fn.doIt();
 						}
@@ -427,7 +427,7 @@
 							LOCXMLImporter loc = new LOCXMLImporter(pref, profile, file);
 							loc.doIt();
 						}
-						else {
+						else { //gpx + zip
 							GPXImporter gpx = new GPXImporter(pref, profile, file);
 							gpx.doIt(how);
 							how = gpx.getHow();
@@ -846,7 +846,7 @@
 		CacheDB cacheDB=profile.cacheDB;
 		CacheHolder ch;
 
-		OCXMLImporterScreen options = new OCXMLImporterScreen(MyLocale.getMsg(130,"Download from opencaching"), OCXMLImporterScreen.IMAGES| OCXMLImporterScreen.TRAVELBUGS| OCXMLImporterScreen.MAXLOGS| OCXMLImporterScreen.ALL);
+		OCXMLImporterScreen options = new OCXMLImporterScreen(MyLocale.getMsg(1014,"updateSelectedCaches"), OCXMLImporterScreen.IMAGES| OCXMLImporterScreen.TRAVELBUGS| OCXMLImporterScreen.MAXLOGS| OCXMLImporterScreen.ALL);
 		if (options.execute() == FormBase.IDCANCEL) {	return; }
 
 		SpiderGC spider = new SpiderGC(pref, profile, false);



From araber95 at mail.berlios.de  Sat Sep 25 02:07:29 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 25 Sep 2010 02:07:29 PM +0200
Subject: [Cachewolf-svn] r2791 - trunk/src/CacheWolf/imp
Message-ID: <20100925120729.16642480FCF@sheep.berlios.de>

Author: araber95
Date: 2010-09-25 14:07:28 +0200 (Sat, 25 Sep 2010)
New Revision: 2791

Modified:
   trunk/src/CacheWolf/imp/GPXImporter.java
Log:
for checking the close of gpx input file.

Modified: trunk/src/CacheWolf/imp/GPXImporter.java
===================================================================
--- trunk/src/CacheWolf/imp/GPXImporter.java	2010-09-25 11:41:19 UTC (rev 2790)
+++ trunk/src/CacheWolf/imp/GPXImporter.java	2010-09-25 12:07:28 UTC (rev 2791)
@@ -41,6 +41,7 @@
 import CacheWolf.STRreplace;
 import CacheWolf.SafeXML;
 import CacheWolf.Travelbug;
+import ewe.io.FileInputStream;
 import ewe.sys.Time;
 import ewe.sys.Vm;
 import ewe.ui.FormBase;
@@ -151,13 +152,19 @@
 					}
 				}
 				else {
-					r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(file));
+					FileInputStream rFIS = new ewe.io.FileInputStream(file);
+					r = new ewe.io.InputStreamReader(rFIS);
 					infB = new InfoBox("Info",(MyLocale.getMsg(4000,"Loaded caches: ") + zaehlerGel));
 					infB.show();
-					if (r.read() != 65279)
-						r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(file));
+					if (r.read() != 65279) {
+						r.close();
+						rFIS.close();
+						rFIS = new ewe.io.FileInputStream(file);
+						r = new ewe.io.InputStreamReader(rFIS);
+					}
 					parse(r);
 					r.close();
+					rFIS.close();
 					infB.close(0);
 				}
 				// save Index 



From araber95 at mail.berlios.de  Sat Sep 25 03:17:10 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 25 Sep 2010 03:17:10 PM +0200
Subject: [Cachewolf-svn] r2792 - trunk/src/CacheWolf/imp
Message-ID: <20100925131710.63BF2480FCF@sheep.berlios.de>

Author: araber95
Date: 2010-09-25 15:17:10 +0200 (Sat, 25 Sep 2010)
New Revision: 2792

Modified:
   trunk/src/CacheWolf/imp/OCXMLImporterScreen.java
Log:
remove double selection line for webcam

Modified: trunk/src/CacheWolf/imp/OCXMLImporterScreen.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporterScreen.java	2010-09-25 12:07:28 UTC (rev 2791)
+++ trunk/src/CacheWolf/imp/OCXMLImporterScreen.java	2010-09-25 13:17:10 UTC (rev 2792)
@@ -111,7 +111,6 @@
 					MyLocale.getMsg(13,"CITO"),
 					MyLocale.getMsg(18,"Earth"),
 					MyLocale.getMsg(15,"WhereIGo"),
-					MyLocale.getMsg(11,"Webcam"),
 				},0), CellConstants.STRETCH, (CellConstants.FILL|CellConstants.WEST));
 		}
 



From araber95 at mail.berlios.de  Sat Sep 25 07:24:16 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 25 Sep 2010 07:24:16 PM +0200
Subject: [Cachewolf-svn] r2793 - in trunk/src/CacheWolf/navi: . touchControls
Message-ID: <20100925172416.815DF480FCF@sheep.berlios.de>

Author: araber95
Date: 2010-09-25 19:24:16 +0200 (Sat, 25 Sep 2010)
New Revision: 2793

Modified:
   trunk/src/CacheWolf/navi/MovingMap.java
   trunk/src/CacheWolf/navi/touchControls/ICommandListener.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
   trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java
Log:
changing command compare from string to int for little speedup

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2010-09-25 13:17:10 UTC (rev 2792)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2010-09-25 17:24:16 UTC (rev 2793)
@@ -1956,20 +1956,18 @@
 		super.onEvent(ev);
 	}
 
-	public boolean handleCommand(String actionCommand) {
-		// handle closing event
-		if (CLOSE.equals(actionCommand)) {
-			
+	public boolean handleCommand(int actionCommand) {
+		if (CLOSE == actionCommand) {			
 			WindowEvent tmp = new WindowEvent();
 			tmp.type = WindowEvent.CLOSE;
 			postEvent(tmp);
 			return true;
 		} 
-		if (SELECT_MAP.equals(actionCommand)) {
+		if (SELECT_MAP == actionCommand) {
 			mmp.chooseMap();
 			return true;
 		}
-		if (CHANGE_MAP_DIR.equals(actionCommand)) {
+		if (CHANGE_MAP_DIR == actionCommand) {
 			FileChooser fc = new FileChooser(FileChooserBase.DIRECTORY_SELECT, Global.getPref().getCustomMapsPath());
 			fc.addMask("*.wfl");
 			fc.setTitle(MyLocale.getMsg(4200,"Select map directory:"));
@@ -1980,104 +1978,91 @@
 			}
 			return true;
 		}
-
-		
-		if (FILL_MAP.equals(actionCommand)) {
+		if (FILL_MAP == actionCommand) {
 			setFillWhiteArea(true);
 			updatePosition (posCircle.where);
 			mmp.repaint();
 			return true;
 		}
-		
-		if (NO_FILL_MAP.equals(actionCommand)) {
+		if (NO_FILL_MAP == actionCommand) {
 			setFillWhiteArea(false);
 			updatePosition (posCircle.where);
 			mmp.repaint();
 			return true;
 		}
-		
-		
-		if (SHOW_CACHES.equals(actionCommand)) {
+		if (SHOW_CACHES == actionCommand) {
 			setShowCachesOnMap(true);
 			forceMapLoad=true;
 			updatePosition (posCircle.where);
 			mmp.repaint();
 			return true;
 		}
-		if (HIDE_CACHES.equals(actionCommand)) {
+		if (HIDE_CACHES == actionCommand) {
 			setShowCachesOnMap(false);
 			forceMapLoad=true;
 			updatePosition (posCircle.where);
 			mmp.repaint();
 			return true;
 		}
-		
-		if (HIDE_MAP.equals(actionCommand)) {
+		if (HIDE_MAP == actionCommand) {
 			hideMap();
 			return true;
 		}
-		
-		if (SHOW_MAP.equals(actionCommand)) {
+		if (SHOW_MAP == actionCommand) {
 			showMap();
 			return true;
 		}
-		// map change modus
-		if (HIGHEST_RES_GPS_DEST.equals(actionCommand)) {
+		if (HIGHEST_RES_GPS_DEST == actionCommand) {
 			setResModus(MovingMap.HIGHEST_RESOLUTION_GPS_DEST);
 			return true;
 		}
-		if (HIGHEST_RES.equals(actionCommand)) {
+		if (HIGHEST_RES == actionCommand) {
 			setResModus(MovingMap.HIGHEST_RESOLUTION);
 			return true;
 		}
-		
-		if (KEEP_MAN_RESOLUTION.equals(actionCommand)) {
+		if (KEEP_MAN_RESOLUTION == actionCommand) {
 			setResModus(MovingMap.NORMAL_KEEP_RESOLUTION);
 			return true;
 		}
-		
-		if (MORE_DETAILS.equals(actionCommand)) {
+		if (MORE_DETAILS == actionCommand) {
 			loadMoreDetailedMap(false);
 			return true;
 		}
-		if (MORE_OVERVIEW.equals(actionCommand)) {
+		if (MORE_OVERVIEW == actionCommand) {
 			loadMoreDetailedMap(true);
 			return true;
 		}
-		if (ALL_CACHES_RES.equals(actionCommand)) {
+		if (ALL_CACHES_RES == actionCommand) {
 			loadMapForAllCaches();
 			return true;
 		}
-
-		if (MOVE_TO_CENTER.equals(actionCommand)) {
+		if (MOVE_TO_CENTER == actionCommand) {
 			setCenterOfScreen(Global.getPref().getCurCentrePt(), true);
 			return true;
 		}
-		if (MOVE_TO_DEST.equals(actionCommand)) {
+		if (MOVE_TO_DEST == actionCommand) {
 			if (gotoPos!=null) {
 				setCenterOfScreen(gotoPos.where, true);
 			}
 			return true;
 		}
-		if (MOVE_TO_GPS.equals(actionCommand)) {
+		if (MOVE_TO_GPS == actionCommand) {
 			myNavigation.startGps(pref.logGPS, Convert.toInt(pref.logGPSTimer));
 			SnapToGps();
 			return true;
 		}
-		
-		if (ZOOM_1_TO_1.equals(actionCommand)) {
+		if (ZOOM_1_TO_1 == actionCommand) {
 			zoom1to1();
 			return true;
 		}
-		if (ZOOMIN.equals(actionCommand)) {
+		if (ZOOMIN == actionCommand) {
 			zoomin();
 			return true;
 		}
-		if (ZOOMOUT.equals(actionCommand)) {
+		if (ZOOMOUT == actionCommand) {
 			zoomout();
 			return true;
 		}
-		
 		return controlsLayer.handleCommand(actionCommand);
 	}
 

Modified: trunk/src/CacheWolf/navi/touchControls/ICommandListener.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/ICommandListener.java	2010-09-25 13:17:10 UTC (rev 2792)
+++ trunk/src/CacheWolf/navi/touchControls/ICommandListener.java	2010-09-25 17:24:16 UTC (rev 2793)
@@ -24,38 +24,39 @@
     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
     */
 package CacheWolf.navi.touchControls;
-public interface ICommandListener {
-	public static final String SELECT_MAP = "selectMap";
-	public static final String CHANGE_MAP_DIR = "changeMapDir";
-	public static final String MOVE_TO_GPS = "moveToGps";
-	public static final String MOVE_TO_DEST = "moveToDest";
-	public static final String MOVE_TO_CENTER = "moveToCenter";
-	public static final String ALL_CACHES_RES = "allCachesRes";
-	public static final String MORE_OVERVIEW = "moreOverview";
-	public static final String MORE_DETAILS = "moreDetails";
-	public static final String KEEP_MAN_RESOLUTION = "keepManResolution";
-	public static final String HIGHEST_RES = "highestResolution";
-	public static final String HIGHEST_RES_GPS_DEST = "highestResGpsDest";
-	public static final String SHOW_MAP = "showMap";
-	public static final String HIDE_MAP = "hideMap";
-	public static final String SHOW_MENU = "menu";
-	public static final String HIDE_MENU = "hide_menu";
-	public static final String SHOW_CACHES = "show_caches";
-	public static final String HIDE_CACHES = "hide_caches";
-	public static final String ZOOMIN = "zoomin";
-	public static final String ZOOMOUT = "zoomout";
-	public static final String ZOOM_1_TO_1 = "1to1";
-	public static final String MAP_MOVED = "map_moved";
-	public static final String POS_UPDATED = "pos_updated";
-	public static final String GOTO_UPDATED = "goto_updated";
-	public static final String CLOSE = "close";
-	public static final String FILL_MAP = "fillMap";
-	public static final String NO_FILL_MAP = "nofillMap";
-	public static final String CONTEXT_GOTO = "context_goto";
-	public static final String CONTEXT_NEW_WAY_POINT = "context_nwp";
-	public static final String CONTEXT_OPEN_CACHE_DESC = "context_ocDesc";
-	public static final String CONTEXT_OPEN_CACHE_DETAIL =  "context_ocDetail";
-	public static final String CONTEXT_GOTO_CACHE = "context_goto_cache";
-	public static final String CONTEXT_TOUR = "context_tour";
-	public boolean handleCommand(String command);
+public interface ICommandListener {	
+	public static final int SELECT_MAP = 0;//"selectMap";
+	public static final int CHANGE_MAP_DIR = 1;//"changeMapDir";
+	public static final int MOVE_TO_GPS = 2;//"moveToGps";
+	public static final int MOVE_TO_DEST = 3;//"moveToDest";
+	public static final int MOVE_TO_CENTER = 4;//"moveToCenter";
+	public static final int ALL_CACHES_RES = 5;//"allCachesRes";
+	public static final int MORE_OVERVIEW = 6;//"moreOverview";
+	public static final int MORE_DETAILS = 7;//"moreDetails";
+	public static final int KEEP_MAN_RESOLUTION = 8;//"keepManResolution";
+	public static final int changeStateOfRole = 9;//"changeStateOfRole";
+	public static final int HIGHEST_RES = 10;//"highestResolution";
+	public static final int HIGHEST_RES_GPS_DEST = 11;//"highestResGpsDest";
+	public static final int SHOW_MAP = 12;//"showMap";
+	public static final int HIDE_MAP = 13;//"hideMap";
+	public static final int SHOW_MENU = 14;//"menu";
+	public static final int HIDE_MENU = 15;//"hide_menu";
+	public static final int SHOW_CACHES = 16;//"show_caches";
+	public static final int HIDE_CACHES = 17;//"hide_caches";
+	public static final int ZOOMIN = 18;//"zoomin";
+	public static final int ZOOMOUT = 19;//"zoomout";
+	public static final int ZOOM_1_TO_1 = 20;//"1to1";
+	public static final int MAP_MOVED = 21;//"map_moved";
+	public static final int POS_UPDATED = 22;//"pos_updated";
+	public static final int GOTO_UPDATED = 23;//"goto_updated";
+	public static final int CLOSE = 24;//"close";
+	public static final int FILL_MAP = 25;//"fillMap";
+	public static final int NO_FILL_MAP = 26;//"nofillMap";
+	public static final int CONTEXT_GOTO = 27;//"context_goto";
+	public static final int CONTEXT_NEW_WAY_POINT = 28;//"context_nwp";
+	public static final int CONTEXT_OPEN_CACHE_DESC = 29;//"context_ocDesc";
+	public static final int CONTEXT_OPEN_CACHE_DETAIL =  30;//"context_ocDetail";
+	public static final int CONTEXT_GOTO_CACHE = 31;//"context_goto_cache";
+	public static final int CONTEXT_TOUR = 32;//"context_tour";
+	public boolean handleCommand(int command);
 }

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java	2010-09-25 13:17:10 UTC (rev 2792)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItem.java	2010-09-25 17:24:16 UTC (rev 2793)
@@ -149,8 +149,8 @@
 
 	public abstract void setText(String text);
 
-	public String getActionCommand() {
-		return null;
+	public int getActionCommand() {
+		return -1;
 	}
 
 	public String getContext() {

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java	2010-09-25 13:17:10 UTC (rev 2792)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemButton.java	2010-09-25 17:24:16 UTC (rev 2793)
@@ -32,10 +32,10 @@
 
 public class MovingMapControlItemButton extends MovingMapControlItem {
 
-	private String command;
+	private int command;
 	private AniImageGrayScaled aniImage;
 	
-	public MovingMapControlItemButton(String source,String iconSrc, String actionCommand,
+	public MovingMapControlItemButton(String source,String iconSrc, int actionCommand,
 			int alpha) {
 		Image image = MovingMapControlItem.createImage(source, iconSrc, alpha);
 		aniImage = new AniImageGrayScaled(image);
@@ -45,7 +45,7 @@
 		xProperties|=IS_ICON_WITH_COMMAND;
 	}
 
-	public String getActionCommand() {
+	public int getActionCommand() {
 		return command;
 	}
 

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java	2010-09-25 13:17:10 UTC (rev 2792)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlItemText.java	2010-09-25 17:24:16 UTC (rev 2793)
@@ -33,21 +33,17 @@
 public class MovingMapControlItemText extends MovingMapControlItem {
 
 	private ImageWithText aniImage;
-	private String command;
+	private int command;
 	private String context;
 
 	public MovingMapControlItemText(final String iconText, String imageSource,String iconSource,
-			int alpha, String actionCommand, String context, String alignText,TextOptions tOptions) {
+			int alpha, int actionCommand, String context, String alignText,TextOptions tOptions) {
 
-		Image image = MovingMapControlItem.createImage(imageSource, iconSource, alpha);
-		
+		Image image = MovingMapControlItem.createImage(imageSource, iconSource, alpha);		
 		aniImage = new ImageWithText(image,tOptions);
-
 		aniImage.setText(iconText);
 		aniImage.freeSource();
-
-		aniImage.properties |= mImage.AlwaysOnTop;
-
+		aniImage.properties |= mImage.AlwaysOnTop;		
 		if (context != null) {
 			this.context = context;
 			xProperties |= IS_ICON_WITH_TEXT;
@@ -57,14 +53,12 @@
 		}
 		if (alignText != null) {
 			alignText = alignText.toUpperCase();
-
 			if (alignText.startsWith("T")) {
 				xProperties |= ICON_TEXT_TOP;
 			} else if (alignText.startsWith("B")) {
 				xProperties |= ICON_TEXT_BOTTOM;
 			} else
 				xProperties |= ICON_TEXT_VERTICAL_CENTER;
-
 			if (alignText.endsWith("L")) {
 				xProperties |= ICON_TEXT_LEFT;
 			} else if (alignText.endsWith("R")) {
@@ -75,59 +69,44 @@
 			xProperties |= ICON_TEXT_VERTICAL_CENTER;
 			xProperties |= ICON_TEXT_HORIZONTAL_CENTER;
 		}
-		if (actionCommand != null) {
+		if (actionCommand != -1) {
 			command = actionCommand;
 			xProperties |= IS_ICON_WITH_COMMAND;
 		}
-
 		aniImage.setProperties(xProperties);
 	}
-
 	public void setText(String iconText) {
 		aniImage.setText(iconText);
 	}
-
 	public int getWidth() {
 		return aniImage.getWidth();
-
 	}
-
 	public int getHeight() {
-
 		return aniImage.getHeight();
 	}
-
 	public AniImage getImage() {
-
 		return aniImage;
 	}
-
-	public String getCommand() {
+	public int getCommand() {
 		return command;
 	}
-
 	public String getContext() {
 		return context;
 	}
-
 	public void setAdditionalProperty(int prop) {
 		aniImage.setStartlineWitdth(prop);
 	}
-
-	public String getActionCommand() {
+	public int getActionCommand() {
 		return command;
 	}
 	
-	public static class TextOptions{
-		
-		
+	public static class TextOptions{		
 		private final int fontSize;
 		private final int textFromLeft;
 		private final int textFromRight;
 		private final int textFromTop;
 		private final int textFromBottom;
-		public TextOptions(int fontSize, int textFromLeft, int textFromRight,
-				int textFromTop, int textFromBottom) {
+		public TextOptions(int fontSize, int textFromLeft, int textFromRight, int textFromTop, int textFromBottom) {
 			super();
 			this.fontSize = fontSize;
 			this.textFromLeft = textFromLeft;
@@ -135,27 +114,21 @@
 			this.textFromTop = textFromTop;
 			this.textFromBottom = textFromBottom;
 		}
-		
-		
 		public int getFontSize() {
 			return fontSize;
-		}
-		
+		}		
 		public int getTextFromLeft() {
 			return textFromLeft;
-		}
-		
+		}		
 		public int getTextFromRight() {
 			return textFromRight;
-		}
-		
+		}		
 		public int getTextFromTop() {
 			return textFromTop;
-		}
-		
+		}		
 		public int getTextFromBottom() {
 			return textFromBottom;
-		}
-		
+		}		
 	}
+
 }

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-09-25 13:17:10 UTC (rev 2792)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControlSettings.java	2010-09-25 17:24:16 UTC (rev 2793)
@@ -39,20 +39,16 @@
 import ewesoft.xml.sax.AttributeList;
 import ewesoft.xml.sax.SAXException;
 
-public class MovingMapControlSettings extends MinML {
+public class MovingMapControlSettings extends MinML  implements ICommandListener {
 
 	public static final String CONFIG_FILE_NAME = "movingMapControls.xml";
-	
 	public static final String CONFIG_FILE_NAME_OVERWRITE = "my_movingMapControls.xml";
-
-	public static String CONFIG_RELATIVE_PATH = "mmc/"; 
-	
+	public static String CONFIG_RELATIVE_PATH = "mmc/";
 	public static final String SETTINGS = "settings";
 	/**
 	 * the size of the font on the icons
 	 */
 	public static final String SETTINGS_ATTR_FONTSIZE = "fontsize";
-
 	public static final String ROLE = "role";
 	/**
 	 * name of the role [String]
@@ -67,7 +63,6 @@
 	 * [String|String|...]
 	 */
 	public static final String ROLE_ATTR_DISABLE = "disable";
-
 	public static final String BUTTON = "button";
 	/**
 	 * position of the left upper corner of the button from the left screen border [int (pixel)]
@@ -113,19 +108,12 @@
 	 * the file path and name of the icon which can be displayed on the button
 	 */
 	public static final String BUTTON_ATTR_ICON = "icon";
-
 	public static final String BUTTON_ATTR_ICON_OFFSET_X = "iconX";
-
 	public static final String BUTTON_ATTR_ICON_OFFSET_Y = "iconY";
-
 	public static final String BUTTON_ATTR_TEXT_OFFSET_L = "textOffsetLeft";
-
 	public static final String BUTTON_ATTR_TEXT_OFFSET_R = "textOffsetRight";
-
 	public static final String BUTTON_ATTR_TEXT_OFFSET_T = "textOffsetTop";
-
 	public static final String BUTTON_ATTR_TEXT_OFFSET_B = "textOffsetBottom";
-
 	/**
 	 * the action command. Defines what is to do if the button is clicked
 	 */
@@ -146,20 +134,15 @@
 	 * used as default
 	 */
 	public static final String BUTTON_ATTR_ALIGNTEXT = "alignText";
-
 	Vector menuItems = new Vector(10);
 	private Hashtable roles;
 	private int fontsize;
-
 	public MovingMapControlSettings(boolean vga, Hashtable roles) {
 		double fontscale = vga ? 1.5 : 1;
 		this.fontsize = (int) (Global.getPref().fontSize * fontscale);
 		this.roles = roles;
 	}
-
-	public void startElement(String name, AttributeList attributes)
-			throws SAXException {
-
+	public void startElement(String name, AttributeList attributes) throws SAXException {
 		if (name.equals(SETTINGS)) {
 			String fontsizeString = attributes.getValue(SETTINGS_ATTR_FONTSIZE);
 			if (fontsizeString != null) {
@@ -190,7 +173,6 @@
 		}
 
 		if (name.equals(BUTTON)) {
-
 			int xProperties = 0;
 			String fromLeft = attributes.getValue(BUTTON_ATTR_FROM_LEFT);
 			String fromRight = attributes.getValue(BUTTON_ATTR_FROM_RIGHT);
@@ -230,7 +212,7 @@
 			String changeState = attributes.getValue(BUTTON_ATTR_CHANGE_STAE_OF);
 
 			String visibility = attributes.getValue(BUTTON_ATTR_VISIBILITY);
-			String action = attributes.getValue(BUTTON_ATTR_ACTION);
+			int action = getCommand(attributes.getValue(BUTTON_ATTR_ACTION));
 			String localeDefault = attributes.getValue(BUTTON_ATTR_LOCALE_DEFAULT);
 			String imageLocation = attributes.getValue(BUTTON_ATTR_LOCATION);
 			String iconLocation = attributes.getValue(BUTTON_ATTR_ICON);
@@ -244,9 +226,8 @@
 						+ " not set!",null);
 				return;
 			}
-			if (action == null) {
-				Global.getPref().log("read MovingMap settings: " + BUTTON_ATTR_ACTION
-						+ " not set!",null);
+			if (action == -2) {
+				Global.getPref().log("read MovingMap settings: " + BUTTON_ATTR_ACTION + " not set!",null);
 				return;
 			}
 			int alphavalue = getIntFromFile(attributes, BUTTON_ATTR_ALPHA, -1);
@@ -277,8 +258,7 @@
 				button = new MovingMapControlItemText(MyLocale.getMsg(localIDValue, localeDefault),
 						imageLocation, iconLocation, alphavalue, action, context, alignText, tOptions);
 			} else {
-				button = new MovingMapControlItemButton(
-						imageLocation, iconLocation, action, alphavalue);
+				button = new MovingMapControlItemButton(imageLocation, iconLocation, action, alphavalue);
 			}
 
 			// add extra role to all icons
@@ -296,6 +276,44 @@
 
 	}
 
+	private int getCommand(String value) {
+		if (value == null ) return -2;
+		else if (value.equals("selectMap")) return SELECT_MAP;
+		else if (value.equals("changeMapDir")) return CHANGE_MAP_DIR;
+		else if (value.equals("moveToGps")) return MOVE_TO_GPS;
+		else if (value.equals("moveToDest")) return MOVE_TO_DEST;
+		else if (value.equals("moveToCenter")) return MOVE_TO_CENTER;
+		else if (value.equals("allCachesRes")) return ALL_CACHES_RES;
+		else if (value.equals("moreOverview")) return MORE_OVERVIEW;
+		else if (value.equals("moreDetails")) return MORE_DETAILS;
+		else if (value.equals("keepManResolution")) return KEEP_MAN_RESOLUTION;
+		else if (value.equals("changeStateOfRole")) return changeStateOfRole;
+		else if (value.equals("highestResolution")) return HIGHEST_RES;
+		else if (value.equals("highestResGpsDest")) return HIGHEST_RES_GPS_DEST;
+		else if (value.equals("showMap")) return SHOW_MAP;
+		else if (value.equals("hideMap")) return HIDE_MAP;
+		else if (value.equals("menu")) return SHOW_MENU;
+		else if (value.equals("hide_menu")) return HIDE_MENU;
+		else if (value.equals("show_caches")) return SHOW_CACHES;
+		else if (value.equals("hide_caches")) return HIDE_CACHES;
+		else if (value.equals("zoomin")) return ZOOMIN;
+		else if (value.equals("zoomout")) return ZOOMOUT;
+		else if (value.equals("1to1")) return ZOOM_1_TO_1;
+		else if (value.equals("map_moved")) return MAP_MOVED;
+		else if (value.equals("pos_updated")) return POS_UPDATED;
+		else if (value.equals("goto_updated")) return GOTO_UPDATED;
+		else if (value.equals("close")) return CLOSE;
+		else if (value.equals("fillMap")) return FILL_MAP;
+		else if (value.equals("nofillMap")) return NO_FILL_MAP;
+		else if (value.equals("context_goto")) return CONTEXT_GOTO;
+		else if (value.equals("context_nwp")) return CONTEXT_NEW_WAY_POINT;
+		else if (value.equals("context_ocDesc")) return CONTEXT_OPEN_CACHE_DESC;
+		else if (value.equals("context_ocDetail")) return CONTEXT_OPEN_CACHE_DETAIL;
+		else if (value.equals("context_goto_cache")) return CONTEXT_GOTO_CACHE;
+		else if (value.equals("context_tour")) return CONTEXT_TOUR;
+		else return -1;
+	}
+
 	private int getIntFromFile(AttributeList attributes, String field,
 			int defaultValue) {
 		String entry = attributes.getValue(field);
@@ -337,8 +355,7 @@
 		
 		
 		try {
-			ewe.io.Reader r = new ewe.io.InputStreamReader(
-					new ewe.io.FileInputStream(file));
+			ewe.io.Reader r = new ewe.io.InputStreamReader(new ewe.io.FileInputStream(file));
 			parse(r);
 			r.close();
 		} catch (Exception e) {
@@ -358,4 +375,8 @@
 	public Vector getMenuItems() {
 		return menuItems;
 	}
+	public boolean handleCommand(int command) {
+		// dummy
+		return false;
+	}
 }

Modified: trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java
===================================================================
--- trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java	2010-09-25 13:17:10 UTC (rev 2792)
+++ trunk/src/CacheWolf/navi/touchControls/MovingMapControls.java	2010-09-25 17:24:16 UTC (rev 2793)
@@ -62,8 +62,7 @@
 		this.movingMap = movingMap;
 		Dimension di = new Dimension();
 		movingMap.getDisplayedSize(di);
-		MovingMapControlSettings movingMapControlSettings = new MovingMapControlSettings(
-				vga, roles);
+		MovingMapControlSettings movingMapControlSettings = new MovingMapControlSettings(vga, roles);
 
 		movingMapControlSettings.readFile();
 		buttons = movingMapControlSettings.getMenuItems();
@@ -332,8 +331,8 @@
 			AniImage ani = item.getImage();
 			if (which == ani) {
 
-				String command = item.getActionCommand();
-				if ("changeStateOfRole".equals(command)) {
+				int command = item.getActionCommand();
+				if (changeStateOfRole == command) {
 					boolean val = changeRoleState(item.getRoleToChange());
 					if (val) {
 						changeRoleState(ROLE_MENU, false);
@@ -355,8 +354,8 @@
 		return true;
 	}
 
-	public boolean handleCommand(String actionCommand) {
-		if (CLOSE.equals(actionCommand)) {
+	public boolean handleCommand(int actionCommand) {
+		if (CLOSE == actionCommand) {
 			return changeRoleState(ROLE_MENU, false);
 		}
 		return false;



From araber95 at mail.berlios.de  Sat Sep 25 07:26:01 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Sat, 25 Sep 2010 07:26:01 PM +0200
Subject: [Cachewolf-svn] r2794 - trunk/src/CacheWolf
Message-ID: <20100925172601.7C614480FCF@sheep.berlios.de>

Author: araber95
Date: 2010-09-25 19:26:01 +0200 (Sat, 25 Sep 2010)
New Revision: 2794

Modified:
   trunk/src/CacheWolf/Attribute.java
   trunk/src/CacheWolf/CacheHolder.java
   trunk/src/CacheWolf/Common.java
Log:
some conversions string to int without throwing exception.

Modified: trunk/src/CacheWolf/Attribute.java
===================================================================
--- trunk/src/CacheWolf/Attribute.java	2010-09-25 17:24:16 UTC (rev 2793)
+++ trunk/src/CacheWolf/Attribute.java	2010-09-25 17:26:01 UTC (rev 2794)
@@ -60,7 +60,7 @@
 	// for OC Constructor
     private void OCAttNo2attNo(int attIdOC) {
     	for (int i=0; i<maxAttRef; i++) {
-    		if (attIdOC == Integer.parseInt(attRef[i][OC_ID])) {
+    		if (attIdOC == Common.parseInt(attRef[i][OC_ID])) {
 				_Id=i;
 				_Inc=1;
 				_ImageName=attRef[i][PIC_NAME]+"-yes.gif";
@@ -73,7 +73,7 @@
     // for GC Constructor gpx-Import
     private void GCAttNo2attNo(int attIdGC, String Yes1No0 ) {
     	for (int i=0; i<maxAttRef; i++) {
-    		if (attIdGC == Integer.parseInt(attRef[i][GC_ID])) {
+    		if (attIdGC == Common.parseInt(attRef[i][GC_ID])) {
 				_Id=i;
     			_Inc=Yes1No0.equals("1") ? 1 : 0;
 				_ImageName=attRef[i][PIC_NAME]+(_Inc==0 ? "-no.gif" : "-yes.gif");
@@ -100,7 +100,7 @@
     public static long[] getIdBit(int id) {
     	long [] bit = new long[2];
     	if (id>-1 && id<maxAttRef) {
-        	int b = Integer.parseInt(attRef[id][BIT_NR]);
+        	int b = Common.parseInt(attRef[id][BIT_NR]);
     		bit[0] = b>63 ? 0l : (1L << b);
     		bit[1] = b>63 ? (1L << b-64) : 0;
     	}
@@ -316,9 +316,9 @@
     		return MyLocale.getMsg(2500,"error attribute");
     	}
 		if (cw_Inc==0)
-			return MyLocale.getMsg(Integer.parseInt(attRef[cw_Id][MSG_NR])-1,"");
+			return MyLocale.getMsg(Common.parseInt(attRef[cw_Id][MSG_NR])-1,"");
 		else
-			return MyLocale.getMsg(Integer.parseInt(attRef[cw_Id][MSG_NR]),"");
+			return MyLocale.getMsg(Common.parseInt(attRef[cw_Id][MSG_NR]),"");
 	}
     private static mImage[] yesImages=new mImage[maxAttRef];
 	private static mImage[] noImages=new mImage[maxAttRef];

Modified: trunk/src/CacheWolf/CacheHolder.java
===================================================================
--- trunk/src/CacheWolf/CacheHolder.java	2010-09-25 17:24:16 UTC (rev 2793)
+++ trunk/src/CacheWolf/CacheHolder.java	2010-09-25 17:26:01 UTC (rev 2794)
@@ -1161,7 +1161,7 @@
 	public String getCWLogText(String s) {
 		for (int i = 0; i < _logType.length; i++) {
 			if ((s).equals(_logType[i][GC_MSG])) {
-				return MyLocale.getMsg(Integer.parseInt(_logType[i][MSG_NR]),"");
+				return MyLocale.getMsg(Common.parseInt(_logType[i][MSG_NR]),"");
 			}			
 		}
 		return "";
@@ -1258,7 +1258,7 @@
 			{"355", "Attended"},
 			{"361", "Webcam Photo Taken"},
 			{"319", "Didn't find it"},
-			{"314", "Write note"}, 
+			{"314", "Write note"}, // at change do change IDX_WRITENOTE = 5;
 			{"315", "Needs Archived"},
 			{"316", "Needs Maintenance"},
 			{"317", "Search"}, 
@@ -1276,7 +1276,7 @@
 	public final static String[] GetGuiLogTypes() {
 		String[] ret = new String[_logType.length];
 		for (int i = 0; i < _logType.length; i++) {
-			ret[i]=MyLocale.getMsg(Integer.parseInt(_logType[i][MSG_NR]),"");
+			ret[i]=MyLocale.getMsg(Common.parseInt(_logType[i][MSG_NR]),"");
 		}
 		return ret;
 	}
@@ -1298,7 +1298,7 @@
 		else {
 			String CacheStatus=getCacheStatus();  
 			for (int i = 1; i < _logType.length; i++) {
-				if (CacheStatus.endsWith(MyLocale.getMsg(Integer.parseInt(_logType[i][MSG_NR]),""))) {
+				if (CacheStatus.endsWith(MyLocale.getMsg(Common.parseInt(_logType[i][MSG_NR]),""))) {
 					gcLogType=_logType[i][GC_MSG];
 					break;
 				}

Modified: trunk/src/CacheWolf/Common.java
===================================================================
--- trunk/src/CacheWolf/Common.java	2010-09-25 17:24:16 UTC (rev 2793)
+++ trunk/src/CacheWolf/Common.java	2010-09-25 17:26:01 UTC (rev 2794)
@@ -57,6 +57,12 @@
 			return java.lang.Double.parseDouble(value.replace(notDigSep,digSep));
 	}
 	
+	/**
+	 * throws no exception if the string could not be converted to int.
+	 * returns 0 in that case
+	 * @param String value
+	 * @return int java.lang.Integer.parseInt(value)
+	 */
 	public static int parseInt(String value){
 		try {
 			return java.lang.Integer.parseInt(value);



From araber95 at mail.berlios.de  Mon Sep 27 12:02:03 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 27 Sep 2010 12:02:03 PM +0200
Subject: [Cachewolf-svn] r2795 - in trunk/src/CacheWolf: . imp navi
Message-ID: <20100927100203.C05F848103A@sheep.berlios.de>

Author: araber95
Date: 2010-09-27 12:02:03 +0200 (Mon, 27 Sep 2010)
New Revision: 2795

Modified:
   trunk/src/CacheWolf/MainMenu.java
   trunk/src/CacheWolf/MainTab.java
   trunk/src/CacheWolf/Preferences.java
   trunk/src/CacheWolf/PreferencesScreen.java
   trunk/src/CacheWolf/imp/OCXMLImporterScreen.java
   trunk/src/CacheWolf/imp/SpiderGC.java
   trunk/src/CacheWolf/navi/MovingMap.java
   trunk/src/CacheWolf/navi/Navigate.java
Log:
import of track or route gpx with quick or detailed import of caches and showing the track on map. (Sorry for the unwanted reformatting of the sourcefile)

Modified: trunk/src/CacheWolf/MainMenu.java
===================================================================
--- trunk/src/CacheWolf/MainMenu.java	2010-09-25 17:26:01 UTC (rev 2794)
+++ trunk/src/CacheWolf/MainMenu.java	2010-09-27 10:02:03 UTC (rev 2795)
@@ -405,18 +405,7 @@
 					dir = fc.getChosenDirectory().toString();
 					pref.setImporterPath("LocGpxImporter", dir);
 					String files[] = fc.getAllChosen();
-					/*
 					int how = GPXImporter.DOIT_ASK;
-					if (files.length > 0){
-							InfoBox iB = new InfoBox("Spider?", "Spider Images?", InfoBox.CHECKBOX);
-							iB.execute();
-							boolean doSpider = iB.mCB_state;
-							if (doSpider) how = GPXImporter.DOIT_WITHSPOILER;
-							else how = GPXImporter.DOIT_NOSPOILER;
-					}
-					 */
-
-					int how = GPXImporter.DOIT_ASK;
 					for (int i = 0; i < files.length; i++){
 						String file = dir + "/" + files[i];
 						if (file.endsWith("txt")||file.endsWith("log")){

Modified: trunk/src/CacheWolf/MainTab.java
===================================================================
--- trunk/src/CacheWolf/MainTab.java	2010-09-25 17:26:01 UTC (rev 2794)
+++ trunk/src/CacheWolf/MainTab.java	2010-09-27 10:02:03 UTC (rev 2795)
@@ -66,7 +66,7 @@
 	MainMenu mnuMain;
 	public StatusBar statBar;
 	public MovingMap mm;
-	Navigate nav;
+	public Navigate nav;
 	public String mainCache="";
 	int oldCard=0;
 	boolean cacheDirty=false;

Modified: trunk/src/CacheWolf/Preferences.java
===================================================================
--- trunk/src/CacheWolf/Preferences.java	2010-09-25 17:26:01 UTC (rev 2794)
+++ trunk/src/CacheWolf/Preferences.java	2010-09-27 10:02:03 UTC (rev 2795)
@@ -25,7 +25,6 @@
     */
 package CacheWolf;
 
-import CacheWolf.imp.SpiderGC;
 import CacheWolf.navi.Metrics;
 import CacheWolf.navi.TransformCoordinates;
 import CacheWolf.utils.FileBugfix;
@@ -445,7 +444,6 @@
 			myAlias = SafeXML.cleanback(atts.getValue("name"));
 			tmp = SafeXML.cleanback(atts.getValue("password"));
 			if (tmp != null) password=tmp;
-			SpiderGC.passwort=password;
 		}
 		else if(name.equals("alias2")) myAlias2 = SafeXML.cleanback(atts.getValue("name"));
 		else if(name.equals("gcmemberid")) {

Modified: trunk/src/CacheWolf/PreferencesScreen.java
===================================================================
--- trunk/src/CacheWolf/PreferencesScreen.java	2010-09-25 17:26:01 UTC (rev 2794)
+++ trunk/src/CacheWolf/PreferencesScreen.java	2010-09-27 10:02:03 UTC (rev 2795)
@@ -25,7 +25,6 @@
     */
 package CacheWolf;
 
-import CacheWolf.imp.SpiderGC;
 import CacheWolf.navi.Metrics;
 import CacheWolf.utils.FileBugfix;
 import ewe.filechooser.FileChooser;
@@ -356,7 +355,7 @@
 				mApp.mainApp.font = newGuiFont;
 				
 				pref.myAlias = Alias.getText().trim();
-				SpiderGC.passwort=pref.password= inpPassword.getText().trim();
+				pref.password= inpPassword.getText().trim();
 				pref.gcMemberId=inpGcMemberID.getText().trim();
 				MyLocale.saveLanguage(MyLocale.language=inpLanguage.getText().toUpperCase().trim());
 				pref.browser = Browser.getText();

Modified: trunk/src/CacheWolf/imp/OCXMLImporterScreen.java
===================================================================
--- trunk/src/CacheWolf/imp/OCXMLImporterScreen.java	2010-09-25 17:26:01 UTC (rev 2794)
+++ trunk/src/CacheWolf/imp/OCXMLImporterScreen.java	2010-09-27 10:02:03 UTC (rev 2795)
@@ -32,6 +32,8 @@
 import CacheWolf.OC;
 import CacheWolf.Preferences;
 import CacheWolf.imp.SpiderGC.SpiderProperties;
+import ewe.filechooser.FileChooser;
+import ewe.filechooser.FileChooserBase;
 import ewe.sys.Convert;
 import ewe.ui.CellConstants;
 import ewe.ui.ControlEvent;
@@ -63,6 +65,7 @@
 	mInput maxLogsInput;
 	mCheckBox imagesCheckBox, /*mapsCheckBox, */ missingCheckBox, foundCheckBox, travelbugsCheckBox;
 	ewe.ui.mChoice domains;
+	String fileName;
 
 	mLabel distLbl;
 	mLabel maxNumberLbl;
@@ -81,6 +84,7 @@
 	public static final int MINDIST = 1024;
 	public static final int DIRECTION = 2048;
 	public static final int MAXUPDATE = 4096;
+	public static final int FILENAME = 8192; // track or route gpx
 
 
 	public OCXMLImporterScreen(String title, int options) {
@@ -205,6 +209,22 @@
 			this.addLast(missingCheckBox, CellConstants.DONTSTRETCH, CellConstants.DONTFILL|CellConstants.WEST);
 		}
 
+		if ((options & FILENAME) > 0) {
+			String dir = pref.getImporterPath("LocGpxImporter");
+			FileChooser fc = new FileChooser(FileChooserBase.OPEN, dir);
+			fc.addMask("*.gpx");
+			fc.setTitle(MyLocale.getMsg(909,"Select file(s)"));
+			if(fc.execute() != FormBase.IDCANCEL){
+				dir = fc.getChosenDirectory().toString();
+				pref.setImporterPath("LocGpxImporter", dir);
+				//String files[] = fc.getAllChosen();
+				fileName=fc.file;
+			}
+			else {
+				fileName="";
+			}
+		}
+
 		cancelB = new mButton(MyLocale.getMsg(1604,"Cancel"));
 		cancelB.setHotKey(0, IKeys.ESCAPE);
 		this.addNext(cancelB,CellConstants.DONTSTRETCH, (CellConstants.DONTFILL|CellConstants.WEST));

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-25 17:26:01 UTC (rev 2794)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-27 10:02:03 UTC (rev 2795)
@@ -1,29 +1,30 @@
-    /*
-    GNU General Public License
-    CacheWolf is a software for PocketPC, Win and Linux that
-    enables paperless caching.
-    It supports the sites geocaching.com and opencaching.de
+/*
+GNU General Public License
+CacheWolf is a software for PocketPC, Win and Linux that
+enables paperless caching.
+It supports the sites geocaching.com and opencaching.de
 
-    Copyright (C) 2006  CacheWolf development team
-    See http://developer.berlios.de/projects/cachewolf/
-    for more information.
-    Contact: 	bilbowolf at users.berlios.de
-    			kalli at users.berlios.de
+Copyright (C) 2006  CacheWolf development team
+See http://developer.berlios.de/projects/cachewolf/
+for more information.
+Contact: 	bilbowolf at users.berlios.de
+			kalli at users.berlios.de
 
-    This program is free software; you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation; version 2 of the License.
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; version 2 of the License.
 
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
 
-    You should have received a copy of the GNU General Public License
-    along with this program; if not, write to the Free Software
-    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
-    */
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+ */
 package CacheWolf.imp;
+
 import CacheWolf.CWPoint;
 import CacheWolf.CacheDB;
 import CacheWolf.CacheHolder;
@@ -49,6 +50,10 @@
 import CacheWolf.Travelbug;
 import CacheWolf.navi.Area;
 import CacheWolf.navi.Metrics;
+import CacheWolf.navi.MovingMap;
+import CacheWolf.navi.Navigate;
+import CacheWolf.navi.Track;
+import CacheWolf.navi.TrackPoint;
 import CacheWolf.navi.TransformCoordinates;
 
 import com.stevesoft.ewe_pat.Regex;
@@ -60,6 +65,7 @@
 import ewe.io.FileInputStream;
 import ewe.io.FileOutputStream;
 import ewe.io.IOException;
+import ewe.io.InputStreamReader;
 import ewe.io.JavaUtf8Codec;
 import ewe.net.Socket;
 import ewe.net.URL;
@@ -77,20 +83,23 @@
 import ewe.util.Utils;
 import ewe.util.Vector;
 import ewe.util.mString;
+import ewesoft.xml.MinML;
+import ewesoft.xml.sax.AttributeList;
 
 /**
-*	Class to spider caches from gc.com
-*/
-public class SpiderGC{
+ * Class to spider caches from gc.com
+ */
+public class SpiderGC {
 
 	/**
 	 * The maximum number of logs that will be stored
 	 */
-	public static String passwort = ""; // Can be pre-set from preferences
-	public static boolean loggedIn = false;
+	private static boolean loggedIn = false;
 
 	// Return values for spider action
-	/** Ignoring a premium member cache when spidering from a non premium account */
+	/**
+	 * Ignoring a premium member cache when spidering from a non premium account
+	 */
 	public static int SPIDER_IGNORE_PREMIUM = -2;
 	/** Canceling spider process */
 	public static int SPIDER_CANCEL = -1;
@@ -98,7 +107,7 @@
 	public static int SPIDER_ERROR = 0;
 	/** Cache was spidered without problems */
 	public static int SPIDER_OK = 1;
-	/** no probs, but exmpl found und not want this*/
+	/** no probs, but exmpl found und not want this */
 	public static int SPIDER_IGNORE = 2;
 
 	private static int ERR_LOGIN = -10;
@@ -111,10 +120,11 @@
 	private static double maxDistance = 0;
 	private static String direction = "";
 	private static String[] directions;
+
 	private CacheDB cacheDB;
 	private Vector cachesToLoad = new Vector();
 	private InfoBox infB;
-	private static SpiderProperties p=null;
+	private static SpiderProperties p = null;
 	// following filled at doit
 	private CWPoint origin;
 	private boolean doNotgetFound;
@@ -123,14 +133,15 @@
 	private String htmlListPage;
 	private int maxUpdate;
 	private boolean maxNumberAbort;
-	private byte restrictedCacheType=0;
+	private byte restrictedCacheType = 0;
+	private String fileName = "";
 
 	private static String propFirstPage;
 	private static String propFirstPage2;
 	private static String propFirstPageFinds;
 	private static String gotoNextPage = "ctl00$ContentBody$pgrTop$ctl08";
-	private static String gotoNextBlock = "ctl00$ContentBody$pgrTop$ctl06"; // change to the block (10pages) of the wanted page
-	private static String gotoPage = "ctl00$ContentBody$pgrTop$lbGoToPage_"; // add pagenumber 
+	private static String gotoNextBlock = "ctl00$ContentBody$pgrTop$ctl06";  // change to the block (10pages) of the wanted page
+	private static String gotoPage = "ctl00$ContentBody$pgrTop$lbGoToPage_"; // add pagenumber
 	private static String propMaxDistance;
 	private static String propShowOnlyFound;
 	private static Regex RexPropListBlock;
@@ -147,7 +158,7 @@
 	private static Regex RexPropType;
 	private static Regex RexPropSize;
 	private static Regex RexPropDandT;
-	private static Regex RexPropOwn;	
+	private static Regex RexPropOwn;
 	private static Regex RexLogBlock;
 	private static Extractor exSingleLog;
 	private static Extractor exIcon;
@@ -160,84 +171,93 @@
 	private static String icon_camera;
 	private static String icon_attended;
 	private static Regex RexCacheType;
-	
-	private int numFoundUpdates=0;
-	private int numArchivedUpdates=0;
-	private int numAvailableUpdates=0;
-	private int numLogUpdates=0;
-	private int numPrivate=0;
-	private int page_number=1;
-	private int num_added=0;
 
-	public SpiderGC(Preferences prf, Profile profile, boolean bypass){
-		this.profile=profile;
+	private int numFoundUpdates = 0;
+	private int numArchivedUpdates = 0;
+	private int numAvailableUpdates = 0;
+	private int numLogUpdates = 0;
+	private int numPrivate = 0;
+	private int page_number = 1;
+	private int num_added = 0;
+
+	public SpiderGC(Preferences prf, Profile profile, boolean bypass) {
+		this.profile = profile;
 		this.cacheDB = profile.cacheDB;
 		pref = prf;
-		if (p == null) {p=new SpiderProperties();}
+		if (p == null) {
+			p = new SpiderProperties();
+		}
 		initialiseProperties();
 	}
 
 	/**
-	*	Method to start the spider for a search around the centre coordinates
-	*/
-	public void doIt(){
+	 * Method to start the spider for a search around the centre coordinates
+	 */
+	public void doIt() {
 		doIt(false);
 	}
 
-	public void doIt(boolean _spiderAllFinds){
+	public void doIt(boolean _spiderAllFinds) {
 		cachesToLoad.clear();
-		spiderAllFinds=_spiderAllFinds;
+		spiderAllFinds = _spiderAllFinds;
 		origin = pref.getCurCentrePt(); // No need to copy curCentrePt as it is only read and not written
-		if ( !spiderAllFinds && !origin.isValid()) {
+		if (!spiderAllFinds && !origin.isValid()) {
 			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5509,"Coordinates for centre must be set"), FormBase.OKB)).execute();
 			return;
 		}
-		
+
 		// Reset states for all caches when spidering (http://tinyurl.com/dzjh7p)
-		for(int i = 0; i<cacheDB.size();i++){
+		for (int i = 0; i < cacheDB.size(); i++) {
 			CacheHolder ch = cacheDB.get(i);
-			if (ch.mainCache == null) ch.initStates(false);
+			if (ch.mainCache == null)
+				ch.initStates(false);
 		}
-		
+
 		if (doDownloadGui(0)) {
 
 			Vm.showWait(true);
-			infB = new InfoBox("Status", MyLocale.getMsg(5502,"Fetching first page..."));
+			infB = new InfoBox("Status", MyLocale.getMsg(5502, "Fetching first page..."));
 			infB.exec();
-			
-			pref.log("ListPages Properties : "+Preferences.NEWLINE
-					+ "minDistance: " + minDistance+Preferences.NEWLINE
-					+ "maxDistance: " + maxDistance+Preferences.NEWLINE
-					+ "directions: " + direction+Preferences.NEWLINE
-					+ "maxNew: " + pref.maxSpiderNumber +Preferences.NEWLINE
-					+ "maxUpdate: " + maxUpdate+Preferences.NEWLINE
-					+ "with Founds       : " + (doNotgetFound ? "no" : "yes")+Preferences.NEWLINE
-					+ "alias is premium m: " + (!pref.isPremium ? "no" : "yes")+Preferences.NEWLINE
-					+ "Update if new Logs: " + (!pref.checkLog ? "no" : "yes")+Preferences.NEWLINE
-					,null);
-			
-			
+
+			pref.log("ListPages Properties : " + Preferences.NEWLINE
+					+ "minDistance: " + minDistance + Preferences.NEWLINE
+					+ "maxDistance: " + maxDistance + Preferences.NEWLINE
+					+ "directions: " + direction + Preferences.NEWLINE
+					+ "maxNew: " + pref.maxSpiderNumber + Preferences.NEWLINE
+					+ "maxUpdate: " + maxUpdate + Preferences.NEWLINE
+					+ "with Founds       : " + (doNotgetFound ? "no" : "yes")
+					+ Preferences.NEWLINE + "alias is premium m: "
+					+ (!pref.isPremium ? "no" : "yes") + Preferences.NEWLINE
+					+ "Update if new Logs: " + (!pref.checkLog ? "no" : "yes")
+					+ Preferences.NEWLINE, null);
+
 			Hashtable cachesToUpdate = new Hashtable(cacheDB.size());
-			
-			cachesToUpdate=fillDownloadLists(pref.maxSpiderNumber , maxUpdate, maxDistance, minDistance, directions, cachesToUpdate);
-			if (cachesToUpdate == null) {cachesToUpdate = new Hashtable();};
-			if (!infB.isClosed){
-				infB.setInfo(MyLocale.getMsg(5511,"Found ") + cachesToLoad.size() + MyLocale.getMsg(5512," caches"));
+
+			cachesToUpdate = fillDownloadLists(pref.maxSpiderNumber, maxUpdate,
+					maxDistance, minDistance, directions, cachesToUpdate);
+			if (cachesToUpdate == null) {
+				cachesToUpdate = new Hashtable();
 			}
+			;
+			if (!infB.isClosed) {
+				infB.setInfo(MyLocale.getMsg(5511, "Found ")
+						+ cachesToLoad.size()
+						+ MyLocale.getMsg(5512, " caches"));
+			}
 			// continue to update index to changed cache.xml things (size,terrain,difficulty,...?) 
 
-			//=======
+			// =======
 			// Now ready to spider each cache in the lists
-			//=======
+			// =======
 
-			if ( cachesToUpdate.size() > 0 ) {
+			if (cachesToUpdate.size() > 0) {
 				switch (pref.spiderUpdates) {
 				case Preferences.NO:
 					cachesToUpdate.clear();
 					break;
 				case Preferences.ASK:
 					MessageBox mBox = new MessageBox(MyLocale.getMsg(5517,"Spider Updates?"), cachesToUpdate.size() + MyLocale.getMsg(5518," caches in database need an update. Update now?") , FormBase.IDYES |FormBase.IDNO);
-					if (mBox.execute() != FormBase.IDOK){
+					if (mBox.execute() != FormBase.IDOK) {
 						cachesToUpdate.clear();
 					}
 					break;
@@ -247,389 +267,513 @@
 			int spiderErrors = 0;
 			int totalCachesToLoad = cachesToLoad.size() + cachesToUpdate.size();
 			boolean loadAllLogs = (pref.maxLogsToSpider > 5) || spiderAllFinds;
-			pref.log("Download properties : "+Preferences.NEWLINE
-					+ "maxLogs: " + (loadAllLogs ? "completepage " : "shortpage") + "nr.:" + pref.maxLogsToSpider+Preferences.NEWLINE
-					+ "with pictures     : " + (!pref.downloadPics ? "no" : "yes")+Preferences.NEWLINE
-					+ "with tb           : " + (!pref.downloadTBs ? "no" : "yes")+Preferences.NEWLINE
-					,null);
+			pref.log("Download properties : " + Preferences.NEWLINE
+					+ "maxLogs: "
+					+ (loadAllLogs ? "completepage " : "shortpage") + "nr.:"
+					+ pref.maxLogsToSpider + Preferences.NEWLINE
+					+ "with pictures     : "
+					+ (!pref.downloadPics ? "no" : "yes") + Preferences.NEWLINE
+					+ "with tb           : "
+					+ (!pref.downloadTBs ? "no" : "yes") + Preferences.NEWLINE,
+					null);
 
-			if (Global.mainTab.statBar!=null) Global.mainTab.statBar.updateDisplay("");
+			if (Global.mainTab.statBar != null)
+				Global.mainTab.statBar.updateDisplay("");
 
 			if (!infB.isClosed) {
-				spiderErrors=downloadCaches(cachesToLoad, spiderErrors, totalCachesToLoad, loadAllLogs);
-				spiderErrors=updateCaches(cachesToUpdate, spiderErrors, totalCachesToLoad, loadAllLogs);
+				spiderErrors = downloadCaches(cachesToLoad, spiderErrors,
+						totalCachesToLoad, loadAllLogs);
+				spiderErrors = updateCaches(cachesToUpdate, spiderErrors,
+						totalCachesToLoad, loadAllLogs);
 			}
 
-			if ( spiderErrors > 0) {
-				new MessageBox(MyLocale.getMsg(5500,"Error"),spiderErrors + MyLocale.getMsg(5516," cache descriptions%0acould not be loaded."),FormBase.DEFOKB).execute();
+			if (spiderErrors > 0) {
+				new MessageBox(MyLocale.getMsg(5500, "Error"),
+						spiderErrors + MyLocale.getMsg(5516," cache descriptions%0acould not be loaded."),
+						FormBase.DEFOKB).execute();
 			}
-			if ( maxNumberAbort ) {
-				new MessageBox(MyLocale.getMsg(5519,"Information"),MyLocale.getMsg(5520,"Only the given maximum of caches were loaded.%0aRepeat spidering later to load more caches.%0aNo already existing caches were updated."),FormBase.DEFOKB).execute();
+			if (maxNumberAbort) {
+				new MessageBox(MyLocale.getMsg(5519, "Information"),
+						MyLocale.getMsg(5520,"Only the given maximum of caches were loaded.%0aRepeat spidering later to load more caches.%0aNo already existing caches were updated."),
+						FormBase.DEFOKB).execute();
 			}
 			Global.getProfile().restoreFilter();
-			Global.getProfile().saveIndex(Global.getPref(),true);
+			Global.getProfile().saveIndex(Global.getPref(), true);
 
-			if (!infB.isClosed) {infB.close(0);}			
-			Vm.showWait(false);			
+			if (!infB.isClosed) {
+				infB.close(0);
+			}
+			Vm.showWait(false);
 		}
 	} // End of DoIt
-	
+
 	public void doItAlongARoute() {
 		Area sq;
+		Vector points = null;
+		Navigate nav=Global.mainTab.nav;
+		MovingMap mm=Global.mainTab.mm;
 
+		if (!doDownloadGui(1))
+			return;
+
 		CWPoint startPos = pref.getCurCentrePt();
-		if (!startPos.isValid()) {
-			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5509,"Coordinates for centre must be set"), FormBase.OKB)).execute();
+		if (!fileName.equals("")) {
+			RouteImporter ri = new RouteImporter(fileName);
+			points = ri.doIt();			
+			if (points.size() > 0) {
+				if (nav!=null) {
+					if (mm==null) {
+						Global.mainTab.mm = new MovingMap(nav, profile.cacheDB);
+						mm=Global.mainTab.mm;
+						nav.setMovingMap(Global.mainTab.mm);
+					}
+					if (nav.curTrack == null) {
+						nav.curTrack=new Track(nav.trackColor);
+						mm.addTrack(nav.curTrack);
+					}
+					for (int i = 0; i < points.size(); i++) {
+						try {
+							nav.curTrack.add((TrackPoint) points.get(i));
+						} catch (IndexOutOfBoundsException e) { // track full -> create a new one
+							nav.curTrack=new Track(nav.trackColor);
+							nav.curTrack.add((TrackPoint) points.get(i));
+							if (mm != null) mm.addTrack(nav.curTrack);
+						}
+
+					}
+				}
+				TrackPoint tp = (TrackPoint) points.get(0);
+				startPos = new CWPoint(tp.latDec, tp.lonDec);
+			} else
+				startPos = null;
+		}
+
+		if (startPos != null && !startPos.isValid()) {
+			(new MessageBox(MyLocale.getMsg(5500, "Error"),
+					MyLocale.getMsg(5509, "Coordinates for centre must be set"), FormBase.OKB))
+					.execute();
 			return; //
 		}
-		if (!doDownloadGui(1)) return;
 
 		Vm.showWait(true);
 		infB = new InfoBox("Status", MyLocale.getMsg(5502,"Fetching first page..."));
 		infB.exec();
 
 		if (!loggedIn || pref.forceLogin) {
-			if(login() != FormBase.IDOK) return;
+			if (login() != FormBase.IDOK)
+				return;
 		}
 
-		// Reset states for all caches when spidering (http://tinyurl.com/dzjh7p)
-		for(int i = 0; i<cacheDB.size();i++){
+		// Reset states for all caches when spidering
+		// (http://tinyurl.com/dzjh7p)
+		for (int i = 0; i < cacheDB.size(); i++) {
 			CacheHolder ch = cacheDB.get(i);
-			if (ch.mainCache == null) ch.initStates(false);
+			if (ch.mainCache == null)
+				ch.initStates(false);
 		}
 
-		double lateralDistance=maxDistance; // Seitenabstand in km
-		if ( pref.metricSystem == Metrics.IMPERIAL ) {
-			lateralDistance = Metrics.convertUnit(maxDistance, Metrics.MILES, Metrics.KILOMETER);
-		}			
+		double lateralDistance = maxDistance; // Seitenabstand in km
+		if (pref.metricSystem == Metrics.IMPERIAL) {
+			lateralDistance = Metrics.convertUnit(maxDistance, Metrics.MILES,
+					Metrics.KILOMETER);
+		}
 		cachesToLoad.clear();
-		origin=startPos;
-		// Hashtable cachesToUpdate = new Hashtable(); //dummy , won't update
-		CacheHolder nextCache=null;
-		int n;
-		while ((n=nextRoutePoint(startPos, lateralDistance)) > -1) {
-			// spider around startPos			
-			// cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);			
-			sq=getSquare(origin, lateralDistance);
-			getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, true);
 
-			nextCache=cacheDB.get(n);
-			double degrees = startPos.getBearing(nextCache.pos);
-			double distanceToNextCache=startPos.getDistance(nextCache.pos);
-			double anzCheckPoints=distanceToNextCache / lateralDistance;
-			for (int i = 1; i < anzCheckPoints; i++) {
-				CWPoint nextCheckPoint = startPos.project(degrees, lateralDistance);
-				startPos=nextCheckPoint;
-				// spider around nextCheckPoint
-				origin=nextCheckPoint;
-				// cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
-				sq=getSquare(origin, lateralDistance);
-				getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, true);
-				// pref.log("next CP = "+nextCheckPoint.toString(),null);
-				if (infB.isClosed) { break; }
+		origin = startPos;
+		CWPoint nextPos = startPos;
+		int pointsIndex = 1;
+		while (nextPos != null) {
+			if (fileName.equals("")) {
+				nextPos = nextRoutePoint(startPos, lateralDistance);
+			} else {
+				double tmpDistance = 0;
+				while (tmpDistance < lateralDistance
+						&& pointsIndex < points.size()) {
+					TrackPoint tp = (TrackPoint) points.get(pointsIndex);
+					nextPos = new CWPoint(tp.latDec, tp.lonDec);
+					tmpDistance = nextPos.getDistance(startPos);
+					pointsIndex++;
+				}
+				if (pointsIndex == points.size())
+					nextPos = null;
 			}
-			startPos=nextCache.pos;
-			// pref.log("next WP = "+nextCache.getWayPoint()+" : "+CWPoint.getDirection(degrees),null);
-			if (infB.isClosed) { break; }
+			if (nextPos != null) {
+				sq = getSquare(startPos, lateralDistance);
+				getCaches(sq.topleft.latDec, sq.topleft.lonDec,
+						sq.buttomright.latDec, sq.buttomright.lonDec, false);
+				// pref.log("next WP = " + startPos.toString(), null);
+
+				double degrees = startPos.getBearing(nextPos);
+				double distanceToNextCache = startPos.getDistance(nextPos);
+				double anzCheckPoints = distanceToNextCache / lateralDistance;
+				for (int i = 1; i < anzCheckPoints; i++) {
+					CWPoint nextCheckPoint = startPos.project(degrees,
+							lateralDistance);
+					startPos = nextCheckPoint;
+					origin = nextCheckPoint;
+					sq = getSquare(origin, lateralDistance);
+					getCaches(sq.topleft.latDec, sq.topleft.lonDec,
+							sq.buttomright.latDec, sq.buttomright.lonDec, false);
+					// pref.log("next CP = " + origin.toString(), null);
+					if (infB.isClosed) {
+						break;
+					}
+				}
+				startPos = nextPos;
+			}
+			if (infB.isClosed) {
+				break;
+			}
 		}
-		// spider around startpos (means endpos)
-		origin=startPos;
-		// cachesToUpdate=fillDownloadLists(Integer.MAX_VALUE, 0, lateralDistance, 0.0, directions, cachesToUpdate);
-		sq=getSquare(origin, lateralDistance);
-		getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, true);
-		int spiderErrors=0;
-		if (infB.isClosed) { Vm.showWait(false); return; } // or ask for download of intermediate result 
+		sq = getSquare(startPos, lateralDistance);
+		getCaches(sq.topleft.latDec, sq.topleft.lonDec, sq.buttomright.latDec,
+				sq.buttomright.lonDec, false);
+		// pref.log("last WP = " + startPos.toString(), null);
+		if (infB.isClosed) {
+			Vm.showWait(false);
+			return;
+		} // or ask for download of intermediate result
 		
-		for (int i = 0; i < cachesToLoad.size(); i++) {
-			String wpt = (String)cachesToLoad.get(i);
-			boolean is_found = wpt.indexOf("found")!=-1;
-			if (is_found) wpt=wpt.substring(0,wpt.indexOf("found"));
-			int j = cacheDB.getIndex(wpt);
-			if (j!=-1) cacheDB.removeElementAt(j);			
+		int spiderErrors = 0;
+		if (new MessageBox("Question",
+				"Update caches with all details?",
+				MessageBox.YESB | MessageBox.NOB).execute() == MessageBox.IDYES) {
+
+			for (int i = 0; i < cachesToLoad.size(); i++) {
+				String wpt = (String) cachesToLoad.get(i);
+				boolean is_found = wpt.indexOf("found") != -1;
+				if (is_found)
+					wpt = wpt.substring(0, wpt.indexOf("found"));
+				int j = cacheDB.getIndex(wpt);
+				if (j != -1)
+					cacheDB.removeElementAt(j);
+			}
+			spiderErrors = downloadCaches(cachesToLoad, spiderErrors, cachesToLoad.size(), true);
+
 		}
-		spiderErrors=downloadCaches(cachesToLoad, spiderErrors, cachesToLoad.size(), true);
+		else {
+		}
 
 		infB.close(0);
 		Vm.showWait(false);
-		if ( spiderErrors > 0) {
-			new MessageBox(MyLocale.getMsg(5500,"Error"),spiderErrors + MyLocale.getMsg(5516," cache descriptions%0acould not be loaded."),FormBase.DEFOKB).execute();
+		if (spiderErrors > 0) {
+			new MessageBox(MyLocale.getMsg(5500, "Error"),
+					spiderErrors + MyLocale.getMsg(5516," cache descriptions%0acould not be loaded."),
+					FormBase.DEFOKB).execute();
 		}
-		if ( maxNumberAbort ) {
-			new MessageBox(MyLocale.getMsg(5519,"Information"),MyLocale.getMsg(5520,"Only the given maximum of caches were loaded.%0aRepeat spidering later to load more caches.%0aNo already existing caches were updated."),FormBase.DEFOKB).execute();
+		if (maxNumberAbort) {
+			new MessageBox(
+					MyLocale.getMsg(5519,"Information"),
+					MyLocale.getMsg(5520,"Only the given maximum of caches were loaded.\nRepeat spidering later to load more caches.\nNo already existing caches were updated."),
+					FormBase.DEFOKB).execute();
 		}
 		Global.getProfile().restoreFilter();
-		Global.getProfile().saveIndex(Global.getPref(),true);
+		Global.getProfile().saveIndex(Global.getPref(), true);
 	}
-	
-	
-	private int nextRoutePoint(CWPoint startPos, double lateralDistance) {
+
+	private CWPoint nextRoutePoint(CWPoint startPos, double lateralDistance) {
 		// get next Destination
 		double nextDistance = 0;
-		int index=-1;
-		CacheHolder nextCache=null;
-		CacheHolder ch=null;
+		int index = -1;
+		CacheHolder nextCache = null;
+		CacheHolder ch = null;
 		for (int i = 0; i < cacheDB.size(); i++) {
-			ch=cacheDB.get(i);
+			ch = cacheDB.get(i);
 			if (ch.is_Checked && ch.pos.isValid()) {
 				CWPoint tmpPos = ch.pos;
-				double tmpDistance=tmpPos.getDistance(startPos);
-				if (nextDistance==0) {
+				double tmpDistance = tmpPos.getDistance(startPos);
+				if (nextDistance == 0) {
 					// Startwert
-					index=i;
-					nextDistance=tmpDistance;
-					nextCache=ch;
-					nextCache.is_Checked=false;
-				}
-				else {
+					index = i;
+					nextDistance = tmpDistance;
+					nextCache = ch;
+					nextCache.is_Checked = false;
+				} else {
 					if (tmpDistance > lateralDistance) {
 						if (tmpDistance < nextDistance) {
-							index=i;
-							nextDistance=tmpDistance;
-							nextCache=ch;
-							nextCache.is_Checked=false;
+							index = i;
+							nextDistance = tmpDistance;
+							nextCache = ch;
+							nextCache.is_Checked = false;
 						}
+					} else {
+						ch.is_Checked = false;
 					}
-					else {
-						ch.is_Checked=false;
-					}
 				}
 			}
 		}
-		return index;
+		if (index > -1) {
+			return cacheDB.get(index).pos;
+		} else
+			return null;
 	}
 
-	private Area getSquare(CWPoint centre, double halfSideLengthKm) {		
+	private Area getSquare(CWPoint centre, double halfSideLengthKm) {
 		int north = 0;
 		int east = 1;
 		int south = 2;
 		int west = 3;
-		double halfSideLength=halfSideLengthKm * 1000.0; // in meters
+		double halfSideLength = halfSideLengthKm * 1000.0; // in meters
 		Area ret = new Area();
-		ret.topleft.latDec=centre.latDec;
-		ret.topleft.lonDec=centre.lonDec;
+		ret.topleft.latDec = centre.latDec;
+		ret.topleft.lonDec = centre.lonDec;
 		ret.topleft.shift(halfSideLength, north);
 		ret.topleft.shift(halfSideLength, west);
 
-		ret.buttomright.latDec=centre.latDec;
-		ret.buttomright.lonDec=centre.lonDec;
+		ret.buttomright.latDec = centre.latDec;
+		ret.buttomright.lonDec = centre.lonDec;
 		ret.buttomright.shift(halfSideLength, south);
 		ret.buttomright.shift(halfSideLength, east);
-		
+
 		return ret;
 	}
-	
+
 	public void doItQuickFillFromMapList() {
 
 		CWPoint origin = pref.getCurCentrePt();
 		if (!origin.isValid()) {
-			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5509,"Coordinates for centre must be set"), FormBase.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(5500, "Error"),
+					MyLocale.getMsg(5509, "Coordinates for centre must be set"),
+					FormBase.OKB)).execute();
 			return; //
 		}
-		if (!doDownloadGui(2)) return;
+		if (!doDownloadGui(2))
+			return;
 
 		Vm.showWait(true);
-		infB = new InfoBox("Status", MyLocale.getMsg(1609,"getting the caches."));
+		infB = new InfoBox("Status", MyLocale.getMsg(1609, "getting the caches."));
 		infB.exec();
 
-		// Reset states for all caches when spidering (http://tinyurl.com/dzjh7p)
-		for(int i = 0; i<cacheDB.size();i++){
+		// Reset states for all caches when spidering
+		// (http://tinyurl.com/dzjh7p)
+		for (int i = 0; i < cacheDB.size(); i++) {
 			CacheHolder ch = cacheDB.get(i);
-			if (ch.mainCache == null) ch.initStates(false);
+			if (ch.mainCache == null)
+				ch.initStates(false);
 		}
 
-		double halfSideLength=maxDistance; // halbe Seitenl?nge eines Quadrats ums Zentrum in km
-		if ( pref.metricSystem == Metrics.IMPERIAL ) {
-			halfSideLength = Metrics.convertUnit(maxDistance, Metrics.MILES, Metrics.KILOMETER);
+		double halfSideLength = maxDistance; // halbe Seitenl?nge eines Quadrats ums Zentrum in km
+		if (pref.metricSystem == Metrics.IMPERIAL) {
+			halfSideLength = Metrics.convertUnit(maxDistance, Metrics.MILES,
+					Metrics.KILOMETER);
 		}
 
 		if (!loggedIn || pref.forceLogin) {
-			if(login() != FormBase.IDOK) return;
+			if (login() != FormBase.IDOK)
+				return;
 		}
 
 		page_number = 0;
 		num_added = 0;
-		
-		Area sq=getSquare(origin, halfSideLength);
-		getCaches(sq.topleft.latDec,sq.topleft.lonDec,sq.buttomright.latDec,sq.buttomright.lonDec, false);
-				
-		if (!infB.isClosed) infB.close(0);
+
+		Area sq = getSquare(origin, halfSideLength);
+		getCaches(sq.topleft.latDec, sq.topleft.lonDec, sq.buttomright.latDec,
+				sq.buttomright.lonDec, false);
+
+		if (!infB.isClosed)
+			infB.close(0);
 		Vm.showWait(false);
 
 		Global.getProfile().restoreFilter();
-		Global.getProfile().saveIndex(Global.getPref(),true);
-				
+		Global.getProfile().saveIndex(Global.getPref(), true);
+
 	}
-	
-	private void getCaches(double north, double west, double south, double east, boolean setCachesToLoad) {
-		if (infB.isClosed) return;
-		double lm = (north+south)/2.0;
-		CWPoint middle = new CWPoint(lm,(west+east)/2.0);
+
+	private void getCaches(double north, double west, double south,
+			double east, boolean setCachesToLoad) {
+		if (infB.isClosed)
+			return;
+		double lm = (north + south) / 2.0;
+		CWPoint middle = new CWPoint(lm, (west + east) / 2.0);
 		CWPoint rm = new CWPoint(lm, east);
 		double len = middle.getDistance(rm) * 2.0;
 		page_number++;
-		String listPage=getMapListPage(middle, north, west, south, east);
+		String listPage = getMapListPage(middle, north, west, south, east);
 		int i = listPage.indexOf("\"count\":");
-		pref.log(""+north+" "+west+" "+south+" "+east+" "+listPage.substring(i, i+12)+" len="+len);
-		if ((listPage.indexOf("\"count\": 501")>-1) || (listPage.indexOf("\"count\": 0")>-1 && len > 30)) {
-			double northsouthmiddle = (north+south)/2.0;
-			double westeastmiddle = (west+east)/2.0;
-			getCaches(north, west, northsouthmiddle, westeastmiddle, setCachesToLoad);
-			getCaches(north, westeastmiddle, northsouthmiddle, east, setCachesToLoad);
-			getCaches(northsouthmiddle, west, south, westeastmiddle, setCachesToLoad);
-			getCaches(northsouthmiddle, westeastmiddle, south, east, setCachesToLoad);		
-		}
-		else {
+		pref.log("" + north + " " + west + " " + south + " " + east + " "
+				+ listPage.substring(i, i + 12) + " len=" + len);
+		if ((listPage.indexOf("\"count\": 501") > -1)
+				|| (listPage.indexOf("\"count\": 0") > -1 && len > 30)) {
+			double northsouthmiddle = (north + south) / 2.0;
+			double westeastmiddle = (west + east) / 2.0;
+			getCaches(north, west, northsouthmiddle, westeastmiddle,
+					setCachesToLoad);
+			getCaches(north, westeastmiddle, northsouthmiddle, east,
+					setCachesToLoad);
+			getCaches(northsouthmiddle, west, south, westeastmiddle,
+					setCachesToLoad);
+			getCaches(northsouthmiddle, westeastmiddle, south, east,
+					setCachesToLoad);
+		} else {
 			addCaches(listPage, setCachesToLoad);
 		}
 	}
-	
+
 	private void addCaches(String listPage, boolean setCachesToLoad) {
 		String[] caches = mString.split(listPage, '{');
 		for (int i = 0; i < caches.length; i++) {
-			if (infB.isClosed) return;
-			String elements[] = mString.split(caches[i],',');
-			String e1[]= mString.split(elements[0],' '); //.indexOf("\"lat\": ");
-			if ( e1[0].indexOf("lat") > -1) {
-				boolean found=mString.split(elements[5],' ')[1].equals("true");
-				if (found && doNotgetFound) continue;
-				byte cacheType=CacheType.gcSpider2CwType(mString.split(elements[4],' ')[1]);
-				if (restrictedCacheType != CacheType.CW_TYPE_ERROR ) {
-					if (restrictedCacheType!=cacheType) continue;
+			if (infB.isClosed)
+				return;
+			String elements[] = mString.split(caches[i], ',');
+			String e1[] = mString.split(elements[0], ' '); // .indexOf("\"lat\": ");
+			if (e1[0].indexOf("lat") > -1) {
+				boolean found = mString.split(elements[5], ' ')[1]
+						.equals("true");
+				if (found && doNotgetFound)
+					continue;
+				byte cacheType = CacheType.gcSpider2CwType(mString.split(
+						elements[4], ' ')[1]);
+				if (restrictedCacheType != CacheType.CW_TYPE_ERROR) {
+					if (restrictedCacheType != cacheType)
+						continue;
 				}
-				String lat=e1[1];
-				String lon=mString.split(elements[2],' ')[1];
-				String wp=mString.split(elements[3],'\"')[3];
-				String own=mString.split(elements[6],' ')[1];
-				String available=mString.split(elements[7],' ')[1];
-				String cacheName=mString.split(elements[8],'\"')[3];;
-				CacheHolder ch=cacheDB.get(wp);
-				if (ch==null) {
+				String lat = e1[1];
+				String lon = mString.split(elements[2], ' ')[1];
+				String wp = mString.split(elements[3], '\"')[3];
+				String own = mString.split(elements[6], ' ')[1];
+				String available = mString.split(elements[7], ' ')[1];
+				String cacheName = mString.split(elements[8], '\"')[3];
+				;
+				CacheHolder ch = cacheDB.get(wp);
+				if (ch == null) {
 					ch = new CacheHolder();
 					ch.setWayPoint(wp);
-					ch.setLatLon(lat+" "+lon);
+					ch.setLatLon(lat + " " + lon);
 					ch.setType(cacheType);
 					if (own.equals("true")) {
 						ch.setOwned(true);
-					}
-					else {
+					} else {
 						if (found) {
 							ch.setFound(true);
 							ch.setCacheStatus(ch.getFoundText());
 						}
 					}
-					ch.setAvailable(available.equals("true")? true : false);
+					ch.setAvailable(available.equals("true") ? true : false);
 					ch.setCacheName(cacheName);
 					num_added++;
-					cacheDB.add(ch); 
+					cacheDB.add(ch);
 					if (setCachesToLoad) {
-						cachesToLoad.add(wp+"found");}
-					else {
+						cachesToLoad.add(wp + "found");
+					} else {
 						ch.save();
 					}
-					if (Global.mainTab.statBar!=null) Global.mainTab.statBar.updateDisplay("GC pages: "+page_number+" Caches added to CW: "+num_added);
+					if (Global.mainTab.statBar != null)
+						Global.mainTab.statBar.updateDisplay("GC pages: "
+								+ page_number + " Caches added to CW: "
+								+ num_added);
+				} else {
 				}
-				else {
-				}
-			}			
+			}
 		}
 	}
-	
-	private boolean doDownloadGui(int menu){
 
+	private boolean doDownloadGui(int menu) {
+
 		OCXMLImporterScreen options;
-		if (menu==0 && spiderAllFinds) {
-			options = new OCXMLImporterScreen(MyLocale.getMsg(217,"Spider all finds from geocaching.com"),
-					OCXMLImporterScreen.ISGC|
-					OCXMLImporterScreen.MAXNUMBER|
-					OCXMLImporterScreen.MAXUPDATE|
-					OCXMLImporterScreen.IMAGES|
-					OCXMLImporterScreen.TRAVELBUGS|
-					OCXMLImporterScreen.MAXLOGS
-					);
-			// setting defaults for input 
+		if (menu == 0 && spiderAllFinds) {
+			options = new OCXMLImporterScreen(MyLocale.getMsg(217,
+					"Spider all finds from geocaching.com"),
+					OCXMLImporterScreen.ISGC | OCXMLImporterScreen.MAXNUMBER
+							| OCXMLImporterScreen.MAXUPDATE
+							| OCXMLImporterScreen.IMAGES
+							| OCXMLImporterScreen.TRAVELBUGS
+							| OCXMLImporterScreen.MAXLOGS);
+			// setting defaults for input
 			options.maxNumberUpdates.setText("0");
 			// doing the input
-			if (options.execute() == FormBase.IDCANCEL) {return false; }
+			if (options.execute() == FormBase.IDCANCEL) {
+				return false;
+			}
 			// setting default values for options not used (if necessary)
 			maxDistance = 1.0;
 			minDistance = 0.0;
-			direction="";
-		} else if (menu==0) {
-			options = new OCXMLImporterScreen(MyLocale.getMsg(131,"Download from geocaching.com"),
-					OCXMLImporterScreen.ISGC|
-					OCXMLImporterScreen.MAXNUMBER|
-					OCXMLImporterScreen.MAXUPDATE|
-					OCXMLImporterScreen.MINDIST|
-					OCXMLImporterScreen.DIST|
-					OCXMLImporterScreen.DIRECTION|
-					OCXMLImporterScreen.INCLUDEFOUND|
-					OCXMLImporterScreen.IMAGES|
-					OCXMLImporterScreen.TRAVELBUGS|
-					OCXMLImporterScreen.MAXLOGS|
-					OCXMLImporterScreen.TYPE);
-			// setting defaults for input 
-			if (pref.spiderUpdates == Preferences.NO) {options.maxNumberUpdates.setText("0");}
+			direction = "";
+		} else if (menu == 0) {
+			options = new OCXMLImporterScreen(MyLocale.getMsg(131,
+					"Download from geocaching.com"), OCXMLImporterScreen.ISGC
+					| OCXMLImporterScreen.MAXNUMBER
+					| OCXMLImporterScreen.MAXUPDATE
+					| OCXMLImporterScreen.MINDIST | OCXMLImporterScreen.DIST
+					| OCXMLImporterScreen.DIRECTION
+					| OCXMLImporterScreen.INCLUDEFOUND
+					| OCXMLImporterScreen.IMAGES
+					| OCXMLImporterScreen.TRAVELBUGS
+					| OCXMLImporterScreen.MAXLOGS | OCXMLImporterScreen.TYPE);
+			// setting defaults for input
+			if (pref.spiderUpdates == Preferences.NO) {
+				options.maxNumberUpdates.setText("0");
+			}
 			// doing the input
-			if (options.execute() == FormBase.IDCANCEL) {return false; }
+			if (options.execute() == FormBase.IDCANCEL) {
+				return false;
+			}
 			// setting default values for options not used (if necessary)
 
 			String minDist = options.minDistanceInput.getText();
-			if (minDist.length() == 0) minDist="0";
+			if (minDist.length() == 0)
+				minDist = "0";
 			minDistance = Common.parseDouble(minDist);
-			profile.setMinDistGC(Double.toString(minDistance).replace(',', '.'));
+			profile
+					.setMinDistGC(Double.toString(minDistance)
+							.replace(',', '.'));
 
-			direction=options.directionInput.getText().toUpperCase();
-			direction=direction.replace(' ',','); // separator blank to ,
-			direction=direction.replace(';',','); // separator ; to ,
+			direction = options.directionInput.getText().toUpperCase();
+			direction = direction.replace(' ', ','); // separator blank to ,
+			direction = direction.replace(';', ','); // separator ; to ,
 			profile.setDirectionGC(direction);
-			direction=direction.replace('O', 'E'); // synonym for East
-			direction=direction.replace('Z', 'S'); // synonym for South
-			direction=direction.replace('P', 'S'); // synonym for South
+			direction = direction.replace('O', 'E'); // synonym for East
+			direction = direction.replace('Z', 'S'); // synonym for South
+			direction = direction.replace('P', 'S'); // synonym for South
 
 			doNotgetFound = options.foundCheckBox.getState();
 
-		}
-		else if (menu == 1) { // menu = 1 input values for get Caches along a route
-			options = new OCXMLImporterScreen(MyLocale.getMsg(137,"Download along a Route from geocaching.com"),
-					OCXMLImporterScreen.ISGC|
-					OCXMLImporterScreen.DIST|
-					OCXMLImporterScreen.INCLUDEFOUND|
-					OCXMLImporterScreen.TRAVELBUGS|
-					OCXMLImporterScreen.IMAGES|
-					OCXMLImporterScreen.MAXLOGS|
-					OCXMLImporterScreen.TYPE);
-			// setting defaults for input 
+		} else if (menu == 1) { // menu = 1 input values for get Caches along a
+								// route
+			options = new OCXMLImporterScreen(MyLocale.getMsg(137,
+					"Download along a Route from geocaching.com"),
+					OCXMLImporterScreen.ISGC | OCXMLImporterScreen.DIST
+							| OCXMLImporterScreen.INCLUDEFOUND
+							| OCXMLImporterScreen.TRAVELBUGS
+							| OCXMLImporterScreen.IMAGES
+							| OCXMLImporterScreen.MAXLOGS
+							| OCXMLImporterScreen.FILENAME
+							| OCXMLImporterScreen.TYPE);
+			// setting defaults for input
 			// doing the input
-			if (options.execute() == FormBase.IDCANCEL) {return false; }
+			if (options.execute() == FormBase.IDCANCEL) {
+				return false;
+			}
 			// setting default values for options not used (if necessary)
 			minDistance = 0.0;
 			doNotgetFound = options.foundCheckBox.getState();
-			direction="";
-			maxUpdate=0;
-		}
-		else { // if (menu == 2) {
-			options = new OCXMLImporterScreen(MyLocale.getMsg(138,"Qick Import"),
-					OCXMLImporterScreen.ISGC|
-					OCXMLImporterScreen.DIST|
-					OCXMLImporterScreen.INCLUDEFOUND|
-					OCXMLImporterScreen.TYPE);
-			// setting defaults for input 
-			// doing the input
-			if (options.execute() == FormBase.IDCANCEL) {return false; }
+			direction = "";
+			maxUpdate = 0;
+			fileName = options.fileName;
+		} else { // if (menu == 2) {
+			options = new OCXMLImporterScreen(MyLocale.getMsg(138,
+					"Qick Import"), OCXMLImporterScreen.ISGC
+					| OCXMLImporterScreen.DIST
+					| OCXMLImporterScreen.INCLUDEFOUND
+					| OCXMLImporterScreen.TYPE);
+			// setting defaults for input doing the input
+			if (options.execute() == FormBase.IDCANCEL) {
+				return false;
+			}
 			doNotgetFound = options.foundCheckBox.getState();
 		}
 
-		if (menu==0) {
-			
+		if (menu == 0) {
+
 			// handling input of common options
 
 			int maxNew = -1;
 			String maxNumberString = options.maxNumberInput.getText();
-			if (maxNumberString.length()!= 0) {
+			if (maxNumberString.length() != 0) {
 				maxNew = Common.parseInt(maxNumberString);
 			}
 			// if (maxNew == 0) return false;
-			if(maxNew == -1) maxNew=Integer.MAX_VALUE;
+			if (maxNew == -1)
+				maxNew = Integer.MAX_VALUE;
 			if (maxNew != pref.maxSpiderNumber) {
 				pref.maxSpiderNumber = maxNew;
 				pref.savePreferences();
@@ -637,196 +781,232 @@
 
 			maxUpdate = -1;
 			String maxUpdateString = options.maxNumberUpdates.getText();
-			if (maxUpdateString.length()!= 0) {
+			if (maxUpdateString.length() != 0) {
 				maxUpdate = Common.parseInt(maxUpdateString);
 			}
-			if(maxUpdate == -1) maxUpdate=Integer.MAX_VALUE;
+			if (maxUpdate == -1)
+				maxUpdate = Integer.MAX_VALUE;
 			// TODO maxUpdate in preferences ?
 
 		}
-		
+
 		// options for all
 
-		if (options.maxDistanceInput != null){
+		if (options.maxDistanceInput != null) {
 			String maxDist = options.maxDistanceInput.getText();
-			if (maxDist.length() ==  0) return false;
+			if (maxDist.length() == 0)
+				return false;
 			maxDistance = Common.parseDouble(maxDist);
-			if (maxDistance ==  0) return false;
-			if (maxDistance<0.5) maxDistance=0.5; // zur Sicherheit mindenstens 500 meter Umkreis
+			if (maxDistance == 0)
+				return false;
+			if (maxDistance < 0.5)
+				maxDistance = 0.5; // zur Sicherheit mindenstens 500 meter Umkreis
 			profile.setDistGC(Double.toString(maxDistance));
 		}
 
-		directions=mString.split(direction, ',');
+		directions = mString.split(direction, ',');
 		// works even if TYPE not in options
 		cacheTypeRestriction = options.getCacheTypeRestriction(p);
 		restrictedCacheType = options.getRestrictedCacheType(p);
-		
+
 		options.close(0);
-		
+
 		return true;
 
 	}
 
-	private Hashtable fillDownloadLists(int maxNew, int maxUpdate, double toDistance, double fromDistance, String[] directions, Hashtable cExpectedForUpdate) {
+	private Hashtable fillDownloadLists(int maxNew, int maxUpdate,
+			double toDistance, double fromDistance, String[] directions,
+			Hashtable cExpectedForUpdate) {
 		if (!loggedIn || pref.forceLogin) {
-			if(login() != FormBase.IDOK) return null;
+			if (login() != FormBase.IDOK)
+				return null;
 		}
-		
+
 		int numFinds;
-		int startPage=1;
-		// get pagenumber of page with fromDistance , to skip reading of pages < fromDistance 
-		if (fromDistance>0) {
+		int startPage = 1;
+		// get pagenumber of page with fromDistance , to skip reading of pages < fromDistance
+		if (fromDistance > 0) {
 			// distance in miles for URL
 			int fromDistanceInMiles = (int) java.lang.Math.ceil(fromDistance);
-			if ( pref.metricSystem != Metrics.IMPERIAL ) {
-				fromDistanceInMiles =(int) java.lang.Math.ceil(Metrics.convertUnit(fromDistance, Metrics.KILOMETER, Metrics.MILES));
+			if (pref.metricSystem != Metrics.IMPERIAL) {
+				fromDistanceInMiles = (int) java.lang.Math.ceil(Metrics
+						.convertUnit(fromDistance, Metrics.KILOMETER,
+								Metrics.MILES));
 			}
 			// - a mile to be save to get a page with fromDistance
-			getFirstListPage(java.lang.Math.max(fromDistanceInMiles-1, 1));		
-			numFinds=getNumFound(htmlListPage); // Number of caches from gc Listpage
+			getFirstListPage(java.lang.Math.max(fromDistanceInMiles - 1, 1));
+			numFinds = getNumFound(htmlListPage); // Number of caches from gc Listpage
 			// calc the number of the startpage
-			startPage = (int) java.lang.Math.ceil(numFinds / 20);			
+			startPage = (int) java.lang.Math.ceil(numFinds / 20);
 		}
-		
-		//max distance in miles for URL, so we can get more than 80km
+
+		// max distance in miles for URL, so we can get more than 80km
 		int toDistanceInMiles = (int) java.lang.Math.ceil(toDistance);
-		if ( pref.metricSystem != Metrics.IMPERIAL ) {
-			toDistanceInMiles = (int) java.lang.Math.ceil(Metrics.convertUnit(toDistance, Metrics.KILOMETER, Metrics.MILES));
+		if (pref.metricSystem != Metrics.IMPERIAL) {
+			toDistanceInMiles = (int) java.lang.Math.ceil(Metrics.convertUnit(
+					toDistance, Metrics.KILOMETER, Metrics.MILES));
 		}
 		// add a mile to be save from different distance calculations in CW and at GC
 		toDistanceInMiles++;
-		getFirstListPage(toDistanceInMiles);		
-		numFinds=getNumFound(htmlListPage); // Number of caches from gc first Listpage
+		getFirstListPage(toDistanceInMiles);
+		numFinds = getNumFound(htmlListPage); // Number of caches from gc first Listpage
 
-		if (fromDistance>0) {
+		if (fromDistance > 0) {
 			// skip (most of) the pages with distance < fromDistance
 			for (int i = 0; i < (startPage / 10); i++) {
-				getAListPage(toDistanceInMiles,gotoNextBlock);			
+				getAListPage(toDistanceInMiles, gotoNextBlock);
 			}
-			if (startPage>1) getAListPage(toDistanceInMiles,gotoPage+startPage);			
+			if (startPage > 1)
+				getAListPage(toDistanceInMiles, gotoPage + startPage);
 		}
-		
-		int numFoundInDB=0; // Number of GC-founds already in this profile
+
+		int numFoundInDB = 0; // Number of GC-founds already in this profile
 		if (spiderAllFinds) {
-			numFoundInDB=getFoundInDB();
-			pref.log((spiderAllFinds ? "all Finds (DB/GC)"+ numFoundInDB+"/"+numFinds : "new and update Caches")+Preferences.NEWLINE,null);
-			maxNew=java.lang.Math.min(numFinds-numFoundInDB,maxNew);
-			if (maxUpdate == 0 && maxNew == 0) { Vm.showWait(false); infB.close(0); return null; }
+			numFoundInDB = getFoundInDB();
+			pref.log((spiderAllFinds ? "all Finds (DB/GC)" + numFoundInDB + "/"
+					+ numFinds : "new and update Caches")
+					+ Preferences.NEWLINE, null);
+			maxNew = java.lang.Math.min(numFinds - numFoundInDB, maxNew);
+			if (maxUpdate == 0 && maxNew == 0) {
+				Vm.showWait(false);
+				infB.close(0);
+				return null;
+			}
 		}
 
-		if (maxUpdate>0) {
-			double distanceInKm=toDistance;
-			if ( pref.metricSystem == Metrics.IMPERIAL ) {
-				distanceInKm = Metrics.convertUnit(toDistance, Metrics.MILES, Metrics.KILOMETER);
+		if (maxUpdate > 0) {
+			double distanceInKm = toDistance;
+			if (pref.metricSystem == Metrics.IMPERIAL) {
+				distanceInKm = Metrics.convertUnit(toDistance, Metrics.MILES,
+						Metrics.KILOMETER);
 			}
-			// expecting all are changed (archived caches remain always) 
-			for(int i = 0; i<cacheDB.size();i++){
+			// expecting all are changed (archived caches remain always)
+			for (int i = 0; i < cacheDB.size(); i++) {
 				CacheHolder ch = cacheDB.get(i);
 				if (spiderAllFinds) {
-					if ( (ch.getWayPoint().substring(0,2).equalsIgnoreCase("GC"))
-							&& !ch.is_black() ) {
+					if ((ch.getWayPoint().substring(0, 2)
+							.equalsIgnoreCase("GC"))
+							&& !ch.is_black()) {
 						cExpectedForUpdate.put(ch.getWayPoint(), ch);
 					}
 				} else {
-					if ( (!ch.is_archived())
+					if ((!ch.is_archived())
 							&& (ch.kilom <= distanceInKm)
-							&& !(doNotgetFound && (ch.is_found() || ch.is_owned()))
-							&& (ch.getWayPoint().substring(0,2).equalsIgnoreCase("GC"))
-							&& ( (restrictedCacheType == CacheType.CW_TYPE_ERROR) || (ch.getType() == restrictedCacheType) )
-							&& !ch.is_black() ) {
+							&& !(doNotgetFound && (ch.is_found() || ch
+									.is_owned()))
+							&& (ch.getWayPoint().substring(0, 2)
+									.equalsIgnoreCase("GC"))
+							&& ((restrictedCacheType == CacheType.CW_TYPE_ERROR) || (ch
+									.getType() == restrictedCacheType))
+							&& !ch.is_black()) {
 						cExpectedForUpdate.put(ch.getWayPoint(), ch);
 					}
 				}
 			}
 		}
-		int startSize=cExpectedForUpdate.size(); //for save reasons
+		int startSize = cExpectedForUpdate.size(); // for save reasons
 
 		Hashtable cFoundForUpdate = new Hashtable(cacheDB.size()); // for don't loose the already done work
 		page_number = 1;
 		int found_on_page = 0;
 		try {
-			//Loop pages till maximum distance has been found or no more caches are in the list
-			while(toDistance > 0){
+			// Loop pages till maximum distance has been found or no more caches are in the list
+			while (toDistance > 0) {
 				RexPropListBlock.search(htmlListPage);
 				String tableOfHtmlListPage;
 				if (RexPropListBlock.didMatch()) {
 					tableOfHtmlListPage = RexPropListBlock.stringMatched(1);
-				}
-				else {
-					pref.log("check listBlockRex in spider.def"+Preferences.NEWLINE+htmlListPage);
+				} else {
+					pref.log("check listBlockRex in spider.def" + Preferences.NEWLINE + htmlListPage);
 					tableOfHtmlListPage = "";
 				}
 				RexPropLine.search(tableOfHtmlListPage);
-				while (toDistance > 0){
+				while (toDistance > 0) {
 					if (!RexPropLine.didMatch()) {
-						if (page_number==1 && found_on_page==0) pref.log("check lineRex in spider.def");
+						if (page_number == 1 && found_on_page == 0)
+							pref.log("check lineRex in spider.def");
 						break;
 					}
 					found_on_page++;
-					if (Global.mainTab.statBar!=null) Global.mainTab.statBar.updateDisplay("working "+page_number+" / "+found_on_page);
-					String CacheDescriptionGC=RexPropLine.stringMatched(1);
-					double gotDistance=getDistGC(CacheDescriptionGC);
-					String chWaypoint=getWP(CacheDescriptionGC);
-					if(gotDistance <= toDistance){
-						CacheHolder ch=cacheDB.get(chWaypoint);
-						if(ch == null){ // not in DB
-							if ( gotDistance >= fromDistance &&
-									 directionOK(directions,getDirection(CacheDescriptionGC))  &&
-									 doPMCache(CacheDescriptionGC) &&
-									 cachesToLoad.size() < maxNew){
-								if (CacheDescriptionGC.indexOf(propFound)!=-1) chWaypoint=chWaypoint+"found";
+					if (Global.mainTab.statBar != null)
+						Global.mainTab.statBar.updateDisplay("working "
+								+ page_number + " / " + found_on_page);
+					String CacheDescriptionGC = RexPropLine.stringMatched(1);
+					double gotDistance = getDistGC(CacheDescriptionGC);
+					String chWaypoint = getWP(CacheDescriptionGC);
+					if (gotDistance <= toDistance) {
+						CacheHolder ch = cacheDB.get(chWaypoint);
+						if (ch == null) { // not in DB
+							if (gotDistance >= fromDistance
+									&& directionOK(directions,
+											getDirection(CacheDescriptionGC))
+									&& doPMCache(CacheDescriptionGC)
+									&& cachesToLoad.size() < maxNew) {
+								if (CacheDescriptionGC.indexOf(propFound) != -1)
+									chWaypoint = chWaypoint + "found";
 								if (!cachesToLoad.contains(chWaypoint)) {
 									cachesToLoad.add(chWaypoint);
 								}
+							} else {
+								// pref.log("no load of (Premium Cache/other direction/short Distance ?) " + chWaypoint);
+								cExpectedForUpdate.remove(chWaypoint);
 							}
-							else {
-								// pref.log("no load of (Premium Cache/other direction/short Distance ?) " + chWaypoint);
-								cExpectedForUpdate.remove( chWaypoint );
-								}
-						}
-						else {
-							if (maxUpdate>0) { // regardless of fromDistance
+						} else {
+							if (maxUpdate > 0) { // regardless of fromDistance
 								if (!ch.is_black()) {
-									if (doPMCache(CacheDescriptionGC) && updateExists(ch,CacheDescriptionGC)) {
-										if (cFoundForUpdate.size()<maxUpdate) {
-											cFoundForUpdate.put(chWaypoint, ch); }
-										else cExpectedForUpdate.remove( chWaypoint );
-									}
-									else cExpectedForUpdate.remove( chWaypoint );
-								}
-								else cExpectedForUpdate.remove( chWaypoint );
+									if (doPMCache(CacheDescriptionGC)
+											&& updateExists(ch,
+													CacheDescriptionGC)) {
+										if (cFoundForUpdate.size() < maxUpdate) {
+											cFoundForUpdate.put(chWaypoint, ch);
+										} else
+											cExpectedForUpdate
+													.remove(chWaypoint);
+									} else
+										cExpectedForUpdate.remove(chWaypoint);
+								} else
+									cExpectedForUpdate.remove(chWaypoint);
 							}
 						}
-						if(cachesToLoad.size() >= maxNew) {
-							if(cFoundForUpdate.size() >= maxUpdate) {
-								toDistance=0;
+						if (cachesToLoad.size() >= maxNew) {
+							if (cFoundForUpdate.size() >= maxUpdate) {
+								toDistance = 0;
 								cExpectedForUpdate.clear();
 							} else {
-								if ( cExpectedForUpdate.size() <= cFoundForUpdate.size() ) {
-									toDistance=0;
+								if (cExpectedForUpdate.size() <= cFoundForUpdate
+										.size()) {
+									toDistance = 0;
 								}
 							}
 						}
-					} else toDistance = 0; // finish listing
+					} else
+						toDistance = 0; // finish listing
 					// get next row of table (next Cache Description) of this htmlListPage
-					RexPropLine.searchFrom(tableOfHtmlListPage, RexPropLine.matchedTo());
+					RexPropLine.searchFrom(tableOfHtmlListPage, RexPropLine
+							.matchedTo());
 					if (infB.isClosed) {
-						toDistance=0; break; }
+						toDistance = 0;
+						break;
+					}
 				} // next Cache
-				 infB.setInfo(MyLocale.getMsg(5511,"Found ")+
-						 cachesToLoad.size()+" / "+
-						 cFoundForUpdate.size()+
-						 MyLocale.getMsg(5512," caches"));
-				if(found_on_page < 20) {
+				infB.setInfo(MyLocale.getMsg(5511, "Found ")
+						+ cachesToLoad.size() + " / " + cFoundForUpdate.size()
+						+ MyLocale.getMsg(5512, " caches"));
+				if (found_on_page < 20) {
 					if (spiderAllFinds) {
 						// check all pages ( seen a gc-account with found_on_page less 20 and not on end )
-						if (((page_number-1)*20+found_on_page) >= numFinds) {
+						if (((page_number - 1) * 20 + found_on_page) >= numFinds) {
 							toDistance = 0;
 						}
-					}
-					else toDistance = 0; // last page (has less than 20 entries!?) to check reached
+					} else
+						toDistance = 0; // last page (has less than 20 entries!?) to check reached
 				}
-				if(toDistance > 0){getAListPage(toDistanceInMiles, gotoNextPage); page_number++; found_on_page = 0;}
+				if (toDistance > 0) {
+					getAListPage(toDistanceInMiles, gotoNextPage);
+					page_number++;
+					found_on_page = 0;
+				}
 			} // loop pages
 		} // try
 		catch (Exception ex) {
@@ -834,7 +1014,6 @@
 			infB.close(0);
 			Vm.showWait(false);
 		}
-
 		pref.log("Checked " + page_number + " pages"+Preferences.NEWLINE+
 				"with " + ((page_number-1)*20+found_on_page) + " caches"+Preferences.NEWLINE+
 				"Found " + cachesToLoad.size() + " new caches"+Preferences.NEWLINE+
@@ -849,83 +1028,108 @@
 			"Found " + numArchivedUpdates + " caches with changed archived status."+Preferences.NEWLINE,null);
 		}
 
-		if (cExpectedForUpdate.size() == startSize) cExpectedForUpdate.clear(); // there must be something wrong
-		if (cExpectedForUpdate.size() == 0 || cExpectedForUpdate.size() > maxUpdate)
-			cExpectedForUpdate=cFoundForUpdate;
+		if (cExpectedForUpdate.size() == startSize)
+			cExpectedForUpdate.clear(); // there must be something wrong
+		if (cExpectedForUpdate.size() == 0
+				|| cExpectedForUpdate.size() > maxUpdate)
+			cExpectedForUpdate = cFoundForUpdate;
 		return cExpectedForUpdate;
-		
+
 	}
 
-	private int downloadCaches(Vector cachesToLoad, int spiderErrors, int totalCachesToLoad, boolean loadAllLogs) {
-		for(int i = 0; i<cachesToLoad.size(); i++){
-			if (infB.isClosed) break;
-			String wpt = (String)cachesToLoad.get(i);
-			boolean is_found = wpt.indexOf("found")!=-1;
-			if (is_found) wpt=wpt.substring(0,wpt.indexOf("found"));
+	private int downloadCaches(Vector cachesToLoad, int spiderErrors,
+			int totalCachesToLoad, boolean loadAllLogs) {
+		for (int i = 0; i < cachesToLoad.size(); i++) {
+			if (infB.isClosed)
+				break;
+			String wpt = (String) cachesToLoad.get(i);
+			boolean is_found = wpt.indexOf("found") != -1;
+			if (is_found)
+				wpt = wpt.substring(0, wpt.indexOf("found"));
 			// Get only caches not already available in the DB
-			if(cacheDB.getIndex(wpt) == -1){
-				infB.setInfo(MyLocale.getMsg(5513,"Loading: ") + wpt +" (" + (i+1) + " / " + totalCachesToLoad + ")");
+			if (cacheDB.getIndex(wpt) == -1) {
+				infB.setInfo(MyLocale.getMsg(5513, "Loading: ") + wpt + " ("
+						+ (i + 1) + " / " + totalCachesToLoad + ")");
 				CacheHolder holder = new CacheHolder();
 				holder.setWayPoint(wpt);
-				int test = getCacheByWaypointName(holder,false,pref.downloadPics,pref.downloadTBs,doNotgetFound,loadAllLogs||is_found);
+				int test = getCacheByWaypointName(holder, false,
+						pref.downloadPics, pref.downloadTBs, doNotgetFound,
+						loadAllLogs || is_found);
 				if (test == SPIDER_CANCEL) {
 					infB.close(0);
 					break;
 				} else if (test == SPIDER_ERROR) {
 					spiderErrors++;
-				} else if (test == SPIDER_OK){
+				} else if (test == SPIDER_OK) {
 					cacheDB.add(holder);
 					holder.save();
-				} // For test == SPIDER_IGNORE_PREMIUM and SPIDER_IGNORE there is nothing to do
+				} // For test == SPIDER_IGNORE_PREMIUM and SPIDER_IGNORE there
+					// is nothing to do
 			}
 		}
 		return spiderErrors;
 	}
-	private int updateCaches(Hashtable cachesToUpdate, int spiderErrors, int totalCachesToLoad, boolean loadAllLogs) {
+
+	private int updateCaches(Hashtable cachesToUpdate, int spiderErrors,
+			int totalCachesToLoad, boolean loadAllLogs) {
 		int j = 1;
-		for (Enumeration e = cachesToUpdate.elements() ; e.hasMoreElements() ; j++) {
-			if (infB.isClosed) break;
-			CacheHolder ch = (CacheHolder)e.nextElement();
-			infB.setInfo(MyLocale.getMsg(5513,"Loading: ") + ch.getWayPoint() +" (" + (cachesToLoad.size()+j) + " / " + totalCachesToLoad + ")");
-			int test = spiderSingle(cacheDB.getIndex(ch), infB,false,loadAllLogs);
+		for (Enumeration e = cachesToUpdate.elements(); e.hasMoreElements(); j++) {
+			if (infB.isClosed)
+				break;
+			CacheHolder ch = (CacheHolder) e.nextElement();
+			infB.setInfo(MyLocale.getMsg(5513, "Loading: ") + ch.getWayPoint()
+					+ " (" + (cachesToLoad.size() + j) + " / "
+					+ totalCachesToLoad + ")");
+			int test = spiderSingle(cacheDB.getIndex(ch), infB, false,
+					loadAllLogs);
 			if (test == SPIDER_CANCEL) {
 				break;
 			} else if (test == SPIDER_ERROR) {
 				spiderErrors++;
-				pref.log("[updateCaches] could not spider "+ch.getWayPoint(),null);
+				pref.log("[updateCaches] could not spider " + ch.getWayPoint(), null);
 			} else {
-				//profile.hasUnsavedChanges=true;
+				// profile.hasUnsavedChanges=true;
 			}
 		}
 		return spiderErrors;
 	}
+
 	/**
-	 * Method to spider a single cache.
-	 * It assumes a login has already been performed!
-	 * @return 1 if spider was successful, -1 if spider was cancelled by closing the infobox, 0 error, but continue with next cache
+	 * Method to spider a single cache. It assumes a login has already been
+	 * performed!
+	 * 
+	 * @return 1 if spider was successful, -1 if spider was cancelled by closing
+	 *         the infobox, 0 error, but continue with next cache
 	 */
-	public int spiderSingle(int number, InfoBox pInfB, boolean forceLogin, boolean loadAllLogs){
-		int ret=-1;
+	public int spiderSingle(int number, InfoBox pInfB, boolean forceLogin,
+			boolean loadAllLogs) {
+		int ret = -1;
 		this.infB = pInfB;
 		CacheHolder ch = new CacheHolder(); // cacheDB.get(number);
 		ch.setWayPoint(cacheDB.get(number).getWayPoint());
-		if (ch.isAddiWpt()) return -1;  // No point re-spidering an addi waypoint, comes with parent
+		if (ch.isAddiWpt())
+			return -1; // No point re-spidering an addi waypoint, comes with
+						// parent
 
 		// check if we need to login
-		if (!loggedIn || forceLogin){
-			if (this.login()!=FormBase.IDOK) return -1;
+		if (!loggedIn || forceLogin) {
+			if (this.login() != FormBase.IDOK)
+				return -1;
 			// loggedIn is already set by this.login()
 		}
-		try{
+		try {
 			// Read the cache data from GC.COM and compare to old data
-			ret=getCacheByWaypointName(ch,true,pref.downloadPics,pref.downloadTBs,false,loadAllLogs);
+			ret = getCacheByWaypointName(ch, true, pref.downloadPics,
+					pref.downloadTBs, false, loadAllLogs);
 			// Save the spidered data
 			if (ret == SPIDER_OK) {
 				CacheHolder cacheInDB = cacheDB.get(number);
 				cacheInDB.initStates(false);
-				if (cacheInDB.is_found() && !ch.is_found() && ! loadAllLogs) {
-					// If the number of logs to spider is 5 or less, then the "not found" information
-					// of the spidered cache is not credible. In this case it should not overwrite
+				if (cacheInDB.is_found() && !ch.is_found() && !loadAllLogs) {
+					// If the number of logs to spider is 5 or less, then the
+					// "not found" information
+					// of the spidered cache is not credible. In this case it
+					// should not overwrite
 					// the "found" state of an existing cache.
 					ch.setFound(true);
 				}
@@ -933,43 +1137,49 @@
 				ch.setNumRecommended(cacheInDB.getNumRecommended());
 				if (pref.downloadPics) {
 					// delete obsolete images when we have current set
-					CacheImages.cleanupOldImages(cacheInDB.getCacheDetails(true).images, ch.getCacheDetails(false).images);
+					CacheImages.cleanupOldImages(cacheInDB
+							.getCacheDetails(true).images, ch
+							.getCacheDetails(false).images);
 				} else {
 					// preserve images if not downloaded
-					ch.getCacheDetails(false).images = cacheInDB.getCacheDetails(true).images;
+					ch.getCacheDetails(false).images = cacheInDB
+							.getCacheDetails(true).images;
 				}
 				cacheInDB.update(ch);
 				cacheInDB.save();
 			}
-		}catch(Exception ex){
-			pref.log("[spiderSingle] Error spidering " + ch.getWayPoint() + " in spiderSingle",ex);
+		} catch (Exception ex) {
+			pref.log("[spiderSingle] Error spidering " + ch.getWayPoint() + " in spiderSingle", ex);
 		}
 		return ret;
 	} // spiderSingle
 
 	/**
 	 * Fetch the coordinates of a waypoint from GC
-	 * @param wayPoint the name of the waypoint
+	 * 
+	 * @param wayPoint
+	 *            the name of the waypoint
 	 * @return the cache coordinates
 	 */
 	public String getCacheCoordinates(String wayPoint) {
 		String completeWebPage;
-		// Check whether spider definitions could be loaded, if not issue appropriate message and terminate
+		// Check whether spider definitions could be loaded, if not issue
+		// appropriate message and terminate
 		// Try to login. If login fails, issue appropriate message and terminate
 		if (!loggedIn || pref.forceLogin) {
-			if (login()!=FormBase.IDOK) {
+			if (login() != FormBase.IDOK) {
 				return "";
 			}
 		}
 		InfoBox localInfB = new InfoBox("Info", "Loading", InfoBox.PROGRESS_WITH_WARNINGS);
 		localInfB.exec();
-		try{
+		try {
 			String doc = p.getProp("waypoint") + wayPoint;
-			completeWebPage = fetch(doc,false);
+			completeWebPage = fetch(doc, false);
 			pref.log("Fetched " + wayPoint);
-		}catch(Exception ex){
+		} catch (Exception ex) {
 			localInfB.close(0);
-			pref.log("[getCacheCoordinates] Could not fetch " + wayPoint,ex);
+			pref.log("[getCacheCoordinates] Could not fetch " + wayPoint, ex);
 			return "";
 		}
 		localInfB.close(0);
@@ -981,160 +1191,195 @@
 	} // getCacheCoordinates
 
 	/**
-	 * Method to login the user to gc.com
-	 * It will request a password and use the alias defined in preferences
-	 * If the login page cannot be fetched, the password is cleared.
-	 * If the login fails, an appropriate message is displayed.
+	 * Method to login the user to gc.com It will request a password and use the
+	 * alias defined in preferences If the login page cannot be fetched, the
+	 * password is cleared. If the login fails, an appropriate message is
+	 * displayed.
 	 */
-	private int login(){
+	private int login() {
+		String passwort = pref.password;
 		loggedIn = false;
-		String loginPage,loginPageUrl,loginSuccess,nextPage;
+		String loginPage, loginPageUrl, loginSuccess, nextPage;
 		try {
-			loginPageUrl=p.getProp("loginPage");
-			loginSuccess=p.getProp("loginSuccess");
-			nextPage=p.getProp("nextPage");
+			loginPageUrl = p.getProp("loginPage");
+			loginSuccess = p.getProp("loginSuccess");
+			nextPage = p.getProp("nextPage");
 		} catch (Exception ex) { // Tag not found in spider.def
 			return ERR_LOGIN;
 		}
-		//Get password
-		InfoBox localInfB = new InfoBox(MyLocale.getMsg(5506,"Password"), MyLocale.getMsg(5505,"Enter Password"), InfoBox.INPUT);
-		localInfB.feedback.setText(passwort); // Remember the PWD for next time
-		localInfB.feedback.isPassword=true;
-		int code=FormBase.IDOK;
+		// Get password
+		InfoBox localInfB = new InfoBox(MyLocale.getMsg(5506, "Password"),
+				MyLocale.getMsg(5505, "Enter Password"), InfoBox.INPUT);
+		localInfB.feedback.setText(passwort);
+		localInfB.feedback.isPassword = true;
+		int code = FormBase.IDOK;
 		if (passwort.equals("")) {
 			code = localInfB.execute();
 			passwort = localInfB.getInput();
 		}
 		localInfB.close(0);
-		if(code != FormBase.IDOK) return code;
+		if (code != FormBase.IDOK)
+			return code;
 		// Now start the login proper
-		localInfB = new InfoBox(MyLocale.getMsg(5507,"Status"), MyLocale.getMsg(5508,"Logging in..."));
+		localInfB = new InfoBox(MyLocale.getMsg(5507, "Status"), MyLocale.getMsg(5508, "Logging in..."));
 		localInfB.exec();
-		try{
-			//Access the page once to get a viewstate
-			loginPage = fetch(loginPageUrl,true);   //http://www.geocaching.com/login/Default.aspx
-			pref.log("[login]:Fetched login page "+loginPageUrl);
+		try {
+			// Access the page once to get a viewstate
+			loginPage = fetch(loginPageUrl, true); // http://www.geocaching.com/login/Default.aspx
+			pref.log("[login]:Fetched login page " + loginPageUrl);
 			if (loginPage.equals("")) {
 				localInfB.close(0);
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5499,"Error loading login page.%0aPlease check your internet connection."), FormBase.OKB)).execute();
-				pref.log("[login]:Could not fetch: gc.com login page "+loginPageUrl,null);
+				(new MessageBox(MyLocale.getMsg(5500, "Error"),
+						MyLocale.getMsg(5499,"Error loading login page.%0aPlease check your internet connection."),
+						FormBase.OKB)).execute();
+				pref.log("[login]:Could not fetch: gc.com login page " + loginPageUrl, null);
 				return ERR_LOGIN;
 			}
-		} catch(Exception ex){
+		} catch (Exception ex) {
 			localInfB.close(0);
-			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5499,"Error loading login page.%0aPlease check your internet connection."), FormBase.OKB)).execute();
-			pref.log("[login]:Could not fetch: gc.com login page",ex);
+			(new MessageBox(MyLocale.getMsg(5500, "Error"),
+					MyLocale.getMsg(5499, "Error loading login page.%0aPlease check your internet connection."),
+					FormBase.OKB)).execute();
+			pref.log("[login]:Could not fetch: gc.com login page", ex);
 			return ERR_LOGIN;
 		}
 		if (!localInfB.isClosed) { // If user has not aborted, we continue
 			Regex rexCookieID = new Regex("(?i)Set-Cookie: userid=(.*?);.*");
-			Regex rexViewstate = new Regex("id=\"__VIEWSTATE\" value=\"(.*?)\" />");
-			// Regex rexViewstate1 = new Regex("id=\"__VIEWSTATE1\" value=\"(.*?)\" />");
-			// Regex rexEventvalidation = new Regex("id=\"__EVENTVALIDATION\" value=\"(.*?)\" />");
-			Regex rexCookieSession = new Regex("(?i)Set-Cookie: ASP.NET_SessionId=(.*?);.*");
-			String viewstate="";
+			Regex rexViewstate = new Regex(
+					"id=\"__VIEWSTATE\" value=\"(.*?)\" />");
+			// Regex rexViewstate1 = new
+			// Regex("id=\"__VIEWSTATE1\" value=\"(.*?)\" />");
+			// Regex rexEventvalidation = new
+			// Regex("id=\"__EVENTVALIDATION\" value=\"(.*?)\" />");
+			Regex rexCookieSession = new Regex(
+					"(?i)Set-Cookie: ASP.NET_SessionId=(.*?);.*");
+			String viewstate = "";
 			rexViewstate.search(loginPage);
-			if(rexViewstate.didMatch()){
+			if (rexViewstate.didMatch()) {
 				viewstate = rexViewstate.stringMatched(1);
 			} else {
-				pref.log("[login]:rexViewstate not found before login",null);
+				pref.log("[login]:rexViewstate not found before login", null);
 			}
 
-			if(loginPage.indexOf(loginSuccess) > 0)
-				pref.log("[login]:Already logged in"+pref.myAlias);
+			if (loginPage.indexOf(loginSuccess) > 0)
+				pref.log("[login]:Already logged in" + pref.myAlias);
 			else {
 				/*
-				rexEventvalidation.search(loginPage);
-				if(rexEventvalidation.didMatch()){
-					// eventvalidation = rexEventvalidation.stringMatched(1);
-				} else
-					pref.log("[login]:rexEventvalidation not found before login",null);
-				//Ok now login!
+				 * rexEventvalidation.search(loginPage);
+				 * if(rexEventvalidation.didMatch()){ // eventvalidation =
+				 * rexEventvalidation.stringMatched(1); } else
+				 * pref.log("[login]:rexEventvalidation not found before login"
+				 * ,null); //Ok now login!
 				 */
-				try{
-					StringBuffer sb=new StringBuffer(1000);
-					sb.append(URL.encodeURL("__VIEWSTATE",false));	sb.append("="); sb.append(URL.encodeURL(viewstate,false));
-					sb.append("&ctl00%24ContentBody%24"); sb.append(URL.encodeURL("myUsername",false));
-					sb.append("="); sb.append(encodeUTF8URL(Utils.encodeJavaUtf8String(pref.myAlias)));
-					sb.append("&ctl00%24ContentBody%24"); sb.append(URL.encodeURL("myPassword",false));
-					sb.append("="); sb.append(encodeUTF8URL(Utils.encodeJavaUtf8String(passwort)));
-					sb.append("&ctl00%24ContentBody%24"); sb.append(URL.encodeURL("cookie",false));
-					sb.append("="); sb.append(URL.encodeURL("on",false));
-					sb.append("&ctl00%24ContentBody%24"); sb.append(URL.encodeURL("Button1",false));
-					sb.append("="); sb.append(URL.encodeURL("Login",false));
-//					sb.append("&"); sb.append(URL.encodeURL("__EVENTVALIDATION",false));
-//					sb.append("="); sb.append(URL.encodeURL(eventvalidation,false));
-					loginPage = fetch_post(loginPageUrl, sb.toString(), nextPage, true);  // /login/default.aspx
-					if(loginPage.indexOf(loginSuccess) > 0)
-						pref.log("Login successful: "+pref.myAlias);
+				try {
+					StringBuffer sb = new StringBuffer(1000);
+					sb.append(URL.encodeURL("__VIEWSTATE", false));
+					sb.append("=");
+					sb.append(URL.encodeURL(viewstate, false));
+					sb.append("&ctl00%24ContentBody%24");
+					sb.append(URL.encodeURL("myUsername", false));
+					sb.append("=");
+					sb.append(encodeUTF8URL(Utils
+							.encodeJavaUtf8String(pref.myAlias)));
+					sb.append("&ctl00%24ContentBody%24");
+					sb.append(URL.encodeURL("myPassword", false));
+					sb.append("=");
+					sb.append(encodeUTF8URL(Utils
+							.encodeJavaUtf8String(passwort)));
+					sb.append("&ctl00%24ContentBody%24");
+					sb.append(URL.encodeURL("cookie", false));
+					sb.append("=");
+					sb.append(URL.encodeURL("on", false));
+					sb.append("&ctl00%24ContentBody%24");
+					sb.append(URL.encodeURL("Button1", false));
+					sb.append("=");
+					sb.append(URL.encodeURL("Login", false));
+					// sb.append("&");
+					// sb.append(URL.encodeURL("__EVENTVALIDATION",false));
+					// sb.append("=");
+					// sb.append(URL.encodeURL(eventvalidation,false));
+					loginPage = fetch_post(loginPageUrl, sb.toString(),
+							nextPage, true); // /login/default.aspx
+					if (loginPage.indexOf(loginSuccess) > 0)
+						pref.log("Login successful: " + pref.myAlias);
 					else {
-						pref.log("Login failed. Wrong Account or Password? "+pref.myAlias,null);
-						pref.log("[login.LoginUrl]:"+sb.toString(),null);
-						pref.log("[login.Answer]:"+loginPage,null);
+						pref.log("Login failed. Wrong Account or Password? " + pref.myAlias, null);
+						pref.log("[login.LoginUrl]:" + sb.toString(), null);
+						pref.log("[login.Answer]:" + loginPage, null);
 						localInfB.close(0);
-						(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed! Wrong account or password?"), FormBase.OKB)).execute();
+						(new MessageBox(MyLocale.getMsg(5500, "Error"),
+								MyLocale.getMsg(5501,"Login failed! Wrong account or password?"),
+								FormBase.OKB)).execute();
 						return ERR_LOGIN;
 					}
-				}catch(Exception ex){
+				} catch (Exception ex) {
 					pref.log("[login]:Login failed with exception.", ex);
 					localInfB.close(0);
-					(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5501,"Login failed. Error loading page after login."), FormBase.OKB)).execute();
+					(new MessageBox(MyLocale.getMsg(5500, "Error"),
+							MyLocale.getMsg(5501,"Login failed. Error loading page after login."),
+							FormBase.OKB)).execute();
 					return ERR_LOGIN;
 				}
 			}
 
 			rexViewstate.search(loginPage);
 			if (!rexViewstate.didMatch()) {
-				pref.log("[login]:check rexViewstate in SpiderGC.java --> not found after login"+Preferences.NEWLINE+loginPage,null);
+				pref.log("[login]:check rexViewstate in SpiderGC.java --> not found after login"
+						+ Preferences.NEWLINE + loginPage, null);
 			}
 			viewstate = rexViewstate.stringMatched(1);
-			
+
 			rexCookieID.search(loginPage);
 			if (!rexCookieID.didMatch()) {
-				pref.log("[login]:check rexCookieID in SpiderGC.java --> CookieID not found. Using old one."+Preferences.NEWLINE+loginPage,null);
+				pref.log("[login]:check rexCookieID in SpiderGC.java --> CookieID not found. Using old one."
+						 + Preferences.NEWLINE + loginPage, null);
 			} else
 				cookieID = rexCookieID.stringMatched(1);
 			rexCookieSession.search(loginPage);
 			if (!rexCookieSession.didMatch()) {
-				pref.log("[login]:check rexCookieSession in SpiderGC.java --> CookieSession not found. Using old one."+Preferences.NEWLINE+loginPage);
+				pref.log("[login]:check rexCookieSession in SpiderGC.java --> CookieSession not found. Using old one."
+						+ Preferences.NEWLINE + loginPage);
 			} else
 				cookieSession = rexCookieSession.stringMatched(1);
 
 			/*
-			String viewstate1;
-			rexViewstate1.search(loginPage);
-			if(rexViewstate1.didMatch()){
-				viewstate1 = rexViewstate1.stringMatched(1);
-			} else {
-				viewstate1 = "";
-				pref.log("[login]:check rexViewstate1 in SpiderGC.java --> not found after login"+Preferences.NEWLINE+loginPage);
-			}
-			*/
-						
+			 * String viewstate1; rexViewstate1.search(loginPage);
+			 * if(rexViewstate1.didMatch()){ viewstate1 =
+			 * rexViewstate1.stringMatched(1); } else { viewstate1 = "";
+			 * pref.log(
+			 * "[login]:check rexViewstate1 in SpiderGC.java --> not found after login"
+			 * +Preferences.NEWLINE+loginPage); }
+			 */
+
 			/*
-			rexEventvalidation.search(htmlPage);
-			if(rexEventvalidation.didMatch()){
-				eventvalidation = rexEventvalidation.stringMatched(1);
-			} else {
-				eventvalidation = "";
-			}
-			*/
+			 * rexEventvalidation.search(htmlPage);
+			 * if(rexEventvalidation.didMatch()){ eventvalidation =
+			 * rexEventvalidation.stringMatched(1); } else { eventvalidation =
+			 * ""; }
+			 */
 
 			String strEnglishPage = "ctl00$uxLocaleList$uxLocaleList$ctl01$uxLocaleItem";
-			String postStr = URL.encodeURL("__EVENTTARGET",false) +"="+ URL.encodeURL(strEnglishPage,false)
-		    + "&" + URL.encodeURL("__EVENTARGUMENT",false) +"="+ URL.encodeURL("",false)
-//		    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) +"=2"
-		    + "&" + URL.encodeURL("__VIEWSTATE",false) +"="+ URL.encodeURL(viewstate,false);
-//		    + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+ URL.encodeURL(viewstate1,false);
-//		    + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+ URL.encodeURL(eventvalidation,false);
-			try{
+			String postStr = URL.encodeURL("__EVENTTARGET", false) + "="
+					+ URL.encodeURL(strEnglishPage, false) + "&"
+					+ URL.encodeURL("__EVENTARGUMENT", false) + "="
+					+ URL.encodeURL("", false)
+					// + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false)
+					// +"=2"
+					+ "&" + URL.encodeURL("__VIEWSTATE", false) + "="
+					+ URL.encodeURL(viewstate, false);
+			// + "&" + URL.encodeURL("__VIEWSTATE1",false) +"="+
+			// URL.encodeURL(viewstate1,false);
+			// + "&" + URL.encodeURL("__EVENTVALIDATION",false) +"="+
+			// URL.encodeURL(eventvalidation,false);
+			try {
 				loginPage = fetch_post(loginPageUrl, postStr, nextPage, true);
 				pref.log("Switched to English");
-			}catch(Exception ex){
-				pref.log("Error switching to English: check/n" + loginPageUrl + "/n" + postStr + "/n" + nextPage + "/n",ex);
+			} catch (Exception ex) {
+				pref.log("Error switching to English: check/n" + loginPageUrl
+						+ "/n" + postStr + "/n" + nextPage + "/n", ex);
 			}
 		}
-		boolean loginAborted=localInfB.isClosed;
+		boolean loginAborted = localInfB.isClosed;
 		localInfB.close(0);
 		if (loginAborted)
 			return FormBase.IDCANCEL;
@@ -1143,25 +1388,26 @@
 			return FormBase.IDOK;
 		}
 	}
+
 	/*
 	 *
 	 */
 	private void initialiseProperties() {
 		try {
-			propFirstPage=p.getProp("firstPage");
-			propFirstPage2=p.getProp("firstPage2");
-			propFirstPageFinds=p.getProp("firstPageFinds");
-			propMaxDistance=p.getProp("maxDistance");
-			propShowOnlyFound=p.getProp("showOnlyFound");
+			propFirstPage = p.getProp("firstPage");
+			propFirstPage2 = p.getProp("firstPage2");
+			propFirstPageFinds = p.getProp("firstPageFinds");
+			propMaxDistance = p.getProp("maxDistance");
+			propShowOnlyFound = p.getProp("showOnlyFound");
 			RexPropListBlock = new Regex(p.getProp("listBlockRex"));
 			RexPropLine = new Regex(p.getProp("lineRex"));
 			RexNumFinds = new Regex("Total Records: <b>(.*?)</b>");
 			RexPropLogDate = new Regex(p.getProp("logDateRex"));
-			propAvailable=p.getProp("availableRex");
-			propArchived=p.getProp("archivedRex");
-			propFound=p.getProp("found");		
-			propPM=p.getProp("PMRex");
-			RexPropDirection=new Regex(p.getProp("directionRex"));
+			propAvailable = p.getProp("availableRex");
+			propArchived = p.getProp("archivedRex");
+			propFound = p.getProp("found");
+			propPM = p.getProp("PMRex");
+			RexPropDirection = new Regex(p.getProp("directionRex"));
 			RexPropDistance = new Regex(p.getProp("distRex"));
 			RexPropWaypoint = new Regex(p.getProp("waypointRex"));
 			RexPropType = new Regex(p.getProp("TypeRex"));
@@ -1169,19 +1415,19 @@
 			RexPropDandT = new Regex(p.getProp("DandTRex"));
 			RexPropOwn = new Regex(p.getProp("own"));
 			RexLogBlock = new Regex(p.getProp("blockRex"));
-			exSingleLog = new Extractor("",p.getProp("singleLogExStart"), p.getProp("singleLogExEnd"), 0, false); 
-			exIcon = new Extractor("",p.getProp("iconExStart"), p.getProp("iconExEnd"), 0, true);
-			exNameTemp = new Extractor("",p.getProp("nameTempExStart"), p.getProp("nameTempExEnd"), 0 , true);
-			exName = new Extractor("", p.getProp("nameExStart"), p.getProp("nameExEnd"), 0 , true);
-			exDate = new Extractor("",p.getProp("dateExStart"), p.getProp("dateExEnd"), 0 , true);
+			exSingleLog = new Extractor("", p.getProp("singleLogExStart"), p.getProp("singleLogExEnd"), 0, false);
+			exIcon = new Extractor("", p.getProp("iconExStart"), p.getProp("iconExEnd"), 0, true);
+			exNameTemp = new Extractor("", p.getProp("nameTempExStart"), p.getProp("nameTempExEnd"), 0, true);
+			exName = new Extractor("", p.getProp("nameExStart"), p.getProp("nameExEnd"), 0, true);
+			exDate = new Extractor("", p.getProp("dateExStart"), p.getProp("dateExEnd"), 0, true);
 			exLog = new Extractor("", p.getProp("logExStart"), p.getProp("logExEnd"), 0, true);
 			exLogId = new Extractor("", p.getProp("logIdExStart"), p.getProp("logIdExEnd"), 0, true);
-			icon_smile=p.getProp("icon_smile");
-			icon_camera=p.getProp("icon_camera");
-			icon_attended=p.getProp("icon_attended");
+			icon_smile = p.getProp("icon_smile");
+			icon_camera = p.getProp("icon_camera");
+			icon_attended = p.getProp("icon_attended");
 			RexCacheType = new Regex(p.getProp("cacheTypeRex"));
-		}catch(Exception ex){
-			pref.log("Error fetching Properties.",ex);
+		} catch (Exception ex) {
+			pref.log("Error fetching Properties.", ex);
 		}
 	}
 
@@ -1189,299 +1435,381 @@
 	 *
 	 */
 	private void getFirstListPage(int distance) {
-		//Get first page
+		// Get first page
 
 		String url;
 		if (spiderAllFinds) {
-			url = propFirstPageFinds + encodeUTF8URL(Utils.encodeJavaUtf8String(pref.myAlias));
+			url = propFirstPageFinds
+					+ encodeUTF8URL(Utils.encodeJavaUtf8String(pref.myAlias));
 		} else {
-			url = propFirstPage + origin.getLatDeg(TransformCoordinates.DD) + propFirstPage2 + origin.getLonDeg(TransformCoordinates.DD)
-		                              + propMaxDistance + Integer.toString(distance);
-			if(doNotgetFound) url = url + propShowOnlyFound;
+			url = propFirstPage + origin.getLatDeg(TransformCoordinates.DD)
+					+ propFirstPage2
+					+ origin.getLonDeg(TransformCoordinates.DD)
+					+ propMaxDistance + Integer.toString(distance);
+			if (doNotgetFound)
+				url = url + propShowOnlyFound;
 		}
 		url = url + cacheTypeRestriction;
-		try{
-			htmlListPage = fetch(url,false);
-			pref.log("[getFirstListPage] Got first page "+url);
-		}catch(Exception ex){
-			pref.log("[getFirstListPage] Error fetching first list page "+url,ex,true);
+		try {
+			htmlListPage = fetch(url, false);
+			pref.log("[getFirstListPage] Got first page " + url);
+		} catch (Exception ex) {
+			pref.log("[getFirstListPage] Error fetching first list page " + url, ex, true);
 			Vm.showWait(false);
 			infB.close(0);
-			(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5503,"Error fetching first list page."), FormBase.OKB)).execute();
+			(new MessageBox(MyLocale.getMsg(5500, "Error"), 
+					MyLocale.getMsg(5503, "Error fetching first list page."),
+					FormBase.OKB)).execute();
 			return;
 		}
 	}
 
 	/**
-	 * in: ...
-	 * out: page_number,htmlPage
+	 * in: ... out: page_number,htmlPage
 	 */
 	private void getAListPage(int distance, String whatPage) {
 		String postStr;
 		if (spiderAllFinds) {
 			postStr = propFirstPage;
 		} else {
-			postStr = propFirstPage + origin.getLatDeg(TransformCoordinates.DD) + propFirstPage2 + origin.getLonDeg(TransformCoordinates.DD)
-					                             + propMaxDistance + Integer.toString(distance);
-			if(doNotgetFound) postStr = postStr + propShowOnlyFound;
+			postStr = propFirstPage + origin.getLatDeg(TransformCoordinates.DD)
+					+ propFirstPage2
+					+ origin.getLonDeg(TransformCoordinates.DD)
+					+ propMaxDistance + Integer.toString(distance);
+			if (doNotgetFound)
+				postStr = postStr + propShowOnlyFound;
 		}
 		postStr = postStr + cacheTypeRestriction;
-		
+
 		Regex rexViewstate = new Regex("id=\"__VIEWSTATE\" value=\"(.*?)\" />");
 		String viewstate;
 		rexViewstate.search(htmlListPage);
-		if(rexViewstate.didMatch()){
+		if (rexViewstate.didMatch()) {
 			viewstate = rexViewstate.stringMatched(1);
 		} else {
 			viewstate = "";
-			pref.log("[getAListPage] check rexViewstate in SpiderGC.java"+Preferences.NEWLINE+htmlListPage);
+			pref.log("[getAListPage] check rexViewstate in SpiderGC.java"
+					+ Preferences.NEWLINE + htmlListPage);
 		}
-		
-		Regex rexViewstate1 = new Regex("id=\"__VIEWSTATE1\" value=\"(.*?)\" />");
+
+		Regex rexViewstate1 = new Regex(
+				"id=\"__VIEWSTATE1\" value=\"(.*?)\" />");
 		String viewstate1;
 		rexViewstate1.search(htmlListPage);
-		if(rexViewstate1.didMatch()){
+		if (rexViewstate1.didMatch()) {
 			viewstate1 = rexViewstate1.stringMatched(1);
 		} else {
 			viewstate1 = "";
-			pref.log("[getAListPage] check rexViewstate1 in SpiderGC.java"+Preferences.NEWLINE+htmlListPage);
+			pref.log("[getAListPage] check rexViewstate1 in SpiderGC.java"
+					+ Preferences.NEWLINE + htmlListPage);
 		}
 
 		/*
-		rexEventvalidation.search(htmlPage);
-		if(rexEventvalidation.didMatch()){
-			eventvalidation = rexEventvalidation.stringMatched(1);
-		} else {
-			eventvalidation = "";
-		}
-		*/
+		 * rexEventvalidation.search(htmlPage);
+		 * if(rexEventvalidation.didMatch()){ eventvalidation =
+		 * rexEventvalidation.stringMatched(1); } else { eventvalidation = ""; }
+		 */
 
-		String url = URL.encodeURL("__EVENTTARGET",false) + "=" + URL.encodeURL(whatPage,false)
-	    + "&" + URL.encodeURL("__EVENTARGUMENT",false) + "=" + URL.encodeURL("",false)
-	    + "&" + URL.encodeURL("__VIEWSTATEFIELDCOUNT",false) + "=2"
-	    + "&" + URL.encodeURL("__VIEWSTATE",false) + "=" + URL.encodeURL(viewstate,false)
-	    + "&" + URL.encodeURL("__VIEWSTATE1",false) + "=" + URL.encodeURL(viewstate1,false);
-//	    + "&" + URL.encodeURL("__EVENTVALIDATION",false) + "=" + URL.encodeURL(eventvalidation,false);
-		try{
-			htmlListPage = fetch_post(postStr, url, p.getProp("nextListPage"), true);
-			pref.log("[getAListPage] Got list page: "+URL.encodeURL(whatPage,false));
-		}catch(Exception ex){
-			pref.log("[getAListPage] Error getting a list page"+url,ex);
+		String url = URL.encodeURL("__EVENTTARGET", false) + "="
+				+ URL.encodeURL(whatPage, false) + "&"
+				+ URL.encodeURL("__EVENTARGUMENT", false) + "="
+				+ URL.encodeURL("", false) + "&"
+				+ URL.encodeURL("__VIEWSTATEFIELDCOUNT", false) + "=2" + "&"
+				+ URL.encodeURL("__VIEWSTATE", false) + "="
+				+ URL.encodeURL(viewstate, false) + "&"
+				+ URL.encodeURL("__VIEWSTATE1", false) + "="
+				+ URL.encodeURL(viewstate1, false);
+		// + "&" + URL.encodeURL("__EVENTVALIDATION",false) + "=" +
+		// URL.encodeURL(eventvalidation,false);
+		try {
+			htmlListPage = fetch_post(postStr, url, p.getProp("nextListPage"),
+					true);
+			pref.log("[getAListPage] Got list page: "
+					+ URL.encodeURL(whatPage, false));
+		} catch (Exception ex) {
+			pref.log("[getAListPage] Error getting a list page" + url, ex);
 		}
 	}
+
 	/* */
-	private String getMapListPage(CWPoint middle, double north, double west, double south, double east) {
+	private String getMapListPage(CWPoint middle, double north, double west,
+			double south, double east) {
 
-		String url="http://www.geocaching.com/map/default.aspx"+
-			"?lat="+middle.getLatDeg(TransformCoordinates.DD)+
-			"&lng="+middle.getLonDeg(TransformCoordinates.DD);
-				
-		String strLeft=MyLocale.formatDouble(west, "00.00000").replace(',','.');
-		String strUp=MyLocale.formatDouble(north, "00.00000").replace(',','.');
-		String strRight=MyLocale.formatDouble(east, "00.00000").replace(',','.');
-		String strDown=MyLocale.formatDouble(south, "00.00000").replace(',','.');
+		String url = "http://www.geocaching.com/map/default.aspx" + "?lat="
+				+ middle.getLatDeg(TransformCoordinates.DD) + "&lng="
+				+ middle.getLonDeg(TransformCoordinates.DD);
 
+		String strLeft = MyLocale.formatDouble(west, "00.00000").replace(',',
+				'.');
+		String strUp = MyLocale.formatDouble(north, "00.00000").replace(',',
+				'.');
+		String strRight = MyLocale.formatDouble(east, "00.00000").replace(',',
+				'.');
+		String strDown = MyLocale.formatDouble(south, "00.00000").replace(',',
+				'.');
+
 		String eo_cb_param1 = "eo_cb_param=%7B%22c%22%3A%201%2C%20%22m%22%3A%20%22%22%2C%20%22d%22%3A%20%22";
-		String eo_cb_param2 = strUp+"|"+strDown+"|"+strRight+"|"+strLeft+"%22%7D";
+		String eo_cb_param2 = strUp + "|" + strDown + "|" + strRight + "|"
+				+ strLeft + "%22%7D";
 		String ret;
-		String doc="";
-		try{
+		String doc = "";
+		try {
 
-			doc="eo_cb_id=ctl00_ContentBody_cbAjax" +
-			"&"+eo_cb_param1 + eo_cb_param2 +
-			"&__eo_obj_states="+
-			//"&__VIEWSTATE="+viewstate+
-			"&__VIEWSTATE=%2FwEPDwULLTEyOTYyNjYwNjkPZBYCZg9kFgZmD2QWAgIODxYCHgdWaXNpYmxlaGQCAQ9kFhICBQ8WAh4EVGV4dGRkAgkPFgIfAQUWWW91IGFyZSBub3QgbG9nZ2VkIGluLmQCCw8PFgQeC05hdmlnYXRlVXJsBZEBaHR0cDovL3d3dy5nZW9jYWNoaW5nLmNvbS9sb2dpbi9kZWZhdWx0LmFzcHg%2FUkVTRVQ9WSZyZWRpcj1odHRwJTNhJTJmJTJmd3d3Lmdlb2NhY2hpbmcuY29tJTJmbWFwJTJmZGVmYXVsdC5hc3B4JTNmbGF0JTNkNDYuNjE1OTclMjZsbmclM2QxMy44NDg3Mx8BBQZMb2cgaW5kZAIPD2QWAgIBDw8WAh8BZGRkAhEPZBYCAgEPD2QPZAUMRFFJQkFBQUFBQUE9ZAIfDxYCHwBnZAInDw8WBB8CBQwvcmV2aWV3cy9ncHMfAQULR1BTIFJldmlld3NkZAIrD2QWAgIBDw8WAh8BBZcCPGlmcmFtZSBzcmM9Imh0dHA6Ly9iYW5tYW41Lmdyb3VuZHNwZWFrLmNvbS9iYW5tYW41L2FkLmFzcHg%2FWm9uZUlEPTkmVGFzaz1HZXQmU2l0ZUlEPTEmWD0nMzdlYWVjMTQzODVjNDc1Y2JiZjFhODk0YTgzOTNiMGMnIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjI0MCIgTWFyZ2lud2lkdGg9IjAiIE1hcmdpbmhlaWdodD0iMCIgSHNwYWNlPSIwIiBWc3BhY2U9IjAiIEZyYW1lYm9yZGVyPSIwIiBTY3JvbGxpbmc9Im5vIiBzdHlsZT0id2lkdGg6MTIwcHg7SGVpZ2h0OjI0MHB4OyI%2BPC9pZnJhbWU%2BZGQCLQ9kFgJmD2QWAmYPFgIeC18hSXRlbUNvdW50AgYWDAIBD2QWAgIBDw8WCB4PQ29tbWFuZE
 FyZ3VtZW50BQVlbi1VUx4LQ29tbWFuZE5hbWUFDVNldFRlbXBMb2NhbGUfAQUHRW5nbGlzaB4QQ2F1c2VzVmFsaWRhdGlvbmhkZAICD2QWAgIBDw8WCB8EBQVkZS1ERR8FBQ1TZXRUZW1wTG9jYWxlHwEFB0RldXRzY2gfBmhkZAIDD2QWAgIBDw8WCB8EBQVmci1GUh8FBQ1TZXRUZW1wTG9jYWxlHwEFCUZyYW7Dp2Fpcx8GaGRkAgQPZBYCAgEPDxYIHwQFBXB0LVBUHwUFDVNldFRlbXBMb2NhbGUfAQUKUG9ydHVndcOqcx8GaGRkAgUPZBYCAgEPDxYIHwQFBWNzLUNaHwUFDVNldFRlbXBMb2NhbGUfAQUJxIxlxaF0aW5hHwZoZGQCBg9kFgICAQ8PFggfBAUFc3YtU0UfBQUNU2V0VGVtcExvY2FsZR8BBQdTdmVuc2thHwZoZGQCAw8WAh8BBSxTZXJ2ZXI6IFdFQjA4OyBCdWlsZDogVEZTLlJlbGVhc2VfMjAxMDA4MzAuMWRkkWJYA8UHbJ38zIk7cJhELr1nbU4%3D"+
-			"&eo_version=5.0.51.2"+
-			"&=on&=&=&=2&=3&=4&=5&=1858&=6&=8&=11&=137&=13&=453&=3653&=on&=" +
-			"&__EVENTVALIDATION="+
-			"&__EVENTTARGET="+
-			"&__EVENTARGUMENT=";
+			doc = "eo_cb_id=ctl00_ContentBody_cbAjax"
+					+ "&"
+					+ eo_cb_param1
+					+ eo_cb_param2
+					+ "&__eo_obj_states="
+					+
+					// "&__VIEWSTATE="+viewstate+
+					"&__VIEWSTATE=%2FwEPDwULLTEyOTYyNjYwNjkPZBYCZg9kFgZmD2QWAgIODxYCHgdWaXNpYmxlaGQCAQ9kFhICBQ8WAh4EVGV4dGRkAgkPFgIfAQUWWW91IGFyZSBub3QgbG9nZ2VkIGluLmQCCw8PFgQeC05hdmlnYXRlVXJsBZEBaHR0cDovL3d3dy5nZW9jYWNoaW5nLmNvbS9sb2dpbi9kZWZhdWx0LmFzcHg%2FUkVTRVQ9WSZyZWRpcj1odHRwJTNhJTJmJTJmd3d3Lmdlb2NhY2hpbmcuY29tJTJmbWFwJTJmZGVmYXVsdC5hc3B4JTNmbGF0JTNkNDYuNjE1OTclMjZsbmclM2QxMy44NDg3Mx8BBQZMb2cgaW5kZAIPD2QWAgIBDw8WAh8BZGRkAhEPZBYCAgEPD2QPZAUMRFFJQkFBQUFBQUE9ZAIfDxYCHwBnZAInDw8WBB8CBQwvcmV2aWV3cy9ncHMfAQULR1BTIFJldmlld3NkZAIrD2QWAgIBDw8WAh8BBZcCPGlmcmFtZSBzcmM9Imh0dHA6Ly9iYW5tYW41Lmdyb3VuZHNwZWFrLmNvbS9iYW5tYW41L2FkLmFzcHg%2FWm9uZUlEPTkmVGFzaz1HZXQmU2l0ZUlEPTEmWD0nMzdlYWVjMTQzODVjNDc1Y2JiZjFhODk0YTgzOTNiMGMnIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjI0MCIgTWFyZ2lud2lkdGg9IjAiIE1hcmdpbmhlaWdodD0iMCIgSHNwYWNlPSIwIiBWc3BhY2U9IjAiIEZyYW1lYm9yZGVyPSIwIiBTY3JvbGxpbmc9Im5vIiBzdHlsZT0id2lkdGg6MTIwcHg7SGVpZ2h0OjI0MHB4OyI%2BPC9pZnJhbWU%2BZGQCLQ9kFgJmD2QWAmYPFgIeC18hSXRlbUNvdW50AgYWDAIBD2QWAgIBDw8WCB4PQ29tbWFu
 ZEFyZ3VtZW50BQVlbi1VUx4LQ29tbWFuZE5hbWUFDVNldFRlbXBMb2NhbGUfAQUHRW5nbGlzaB4QQ2F1c2VzVmFsaWRhdGlvbmhkZAICD2QWAgIBDw8WCB8EBQVkZS1ERR8FBQ1TZXRUZW1wTG9jYWxlHwEFB0RldXRzY2gfBmhkZAIDD2QWAgIBDw8WCB8EBQVmci1GUh8FBQ1TZXRUZW1wTG9jYWxlHwEFCUZyYW7Dp2Fpcx8GaGRkAgQPZBYCAgEPDxYIHwQFBXB0LVBUHwUFDVNldFRlbXBMb2NhbGUfAQUKUG9ydHVndcOqcx8GaGRkAgUPZBYCAgEPDxYIHwQFBWNzLUNaHwUFDVNldFRlbXBMb2NhbGUfAQUJxIxlxaF0aW5hHwZoZGQCBg9kFgICAQ8PFggfBAUFc3YtU0UfBQUNU2V0VGVtcExvY2FsZR8BBQdTdmVuc2thHwZoZGQCAw8WAh8BBSxTZXJ2ZXI6IFdFQjA4OyBCdWlsZDogVEZTLlJlbGVhc2VfMjAxMDA4MzAuMWRkkWJYA8UHbJ38zIk7cJhELr1nbU4%3D"
+					+ "&eo_version=5.0.51.2"
+					+ "&=on&=&=&=2&=3&=4&=5&=1858&=6&=8&=11&=137&=13&=453&=3653&=on&="
+					+ "&__EVENTVALIDATION=" + "&__EVENTTARGET="
+					+ "&__EVENTARGUMENT=";
 
 			ret = fetch_post(url, doc, "/map/default.aspx", false);
 			pref.log("[getAListPage] Got map Cachepage: ");
-		}catch(Exception ex){
-			ret="";
-			pref.log("[getAListPage] Error getting map Cachepage"+url+doc,ex);
+		} catch (Exception ex) {
+			ret = "";
+			pref.log("[getAListPage] Error getting map Cachepage" + url + doc, ex);
 		}
 		return ret;
 	}
-	 /* */
 
+	/* */
+
 	/**
 	 * check if new Update exists
-	 * @param ch CacheHolder
-	 * @param CacheDescription A previously fetched cachepage
+	 * 
+	 * @param ch
+	 *            CacheHolder
+	 * @param CacheDescription
+	 *            A previously fetched cachepage
 	 * @return true if new Update exists else false
 	 */
 	private boolean updateExists(CacheHolder ch, String CacheDescription) {
 		boolean ret = false;
 		boolean save = false;
-		boolean is_archived_GC=false;
-		boolean is_found_GC=false;
+		boolean is_archived_GC = false;
+		boolean is_found_GC = false;
 		CacheHolderDetail chd = ch.getCacheDetails(false);
 		if (spiderAllFinds) {
-			if(!ch.is_found()) { ch.setFound(true); save=true; numFoundUpdates+=1; ret=true;}
-			is_archived_GC=CacheDescription.indexOf(propArchived) != -1;
-			if (is_archived_GC!=ch.is_archived()) { ch.setArchived(is_archived_GC); save=true; numArchivedUpdates+=1; ret=true;}
-		} else if (!doNotgetFound){ // there could be a found or own ...
-			is_found_GC=CacheDescription.indexOf(propFound)!=-1;
-			if (is_found_GC!=ch.is_found()) {ch.setFound(is_found_GC); save=true; ret=true;}
+			if (!ch.is_found()) {
+				ch.setFound(true);
+				save = true;
+				numFoundUpdates += 1;
+				ret = true;
+			}
+			is_archived_GC = CacheDescription.indexOf(propArchived) != -1;
+			if (is_archived_GC != ch.is_archived()) {
+				ch.setArchived(is_archived_GC);
+				save = true;
+				numArchivedUpdates += 1;
+				ret = true;
+			}
+		} else if (!doNotgetFound) { // there could be a found or own ...
+			is_found_GC = CacheDescription.indexOf(propFound) != -1;
+			if (is_found_GC != ch.is_found()) {
+				ch.setFound(is_found_GC);
+				save = true;
+				ret = true;
+			}
 		}
-		if (ch.is_found() && chd.OwnLogId.equals("")) {ret=true;} //missing ownLogID
-		boolean is_available_GC=!is_archived_GC && CacheDescription.indexOf(propAvailable) == -1;
+		if (ch.is_found() && chd.OwnLogId.equals("")) {
+			ret = true;
+		} // missing ownLogID
+		boolean is_available_GC = !is_archived_GC
+				&& CacheDescription.indexOf(propAvailable) == -1;
 		if (is_available_GC != ch.is_available()) {
-			ch.setAvailable(is_available_GC); save=true; numAvailableUpdates+=1; ret=true;}
-		if (typeChanged(ch,CacheDescription)) { save=true; ret=true;}
-		if (sizeChanged(ch,CacheDescription)) { save=true; ret=true;}
-		if (difficultyOrTerrainChanged(ch,CacheDescription)) {save=true; ret=true;}
-		if (newFoundExists(ch,CacheDescription)) {
-			numLogUpdates++; ret=true;
-			}
-		if (save) ch.save();
+			ch.setAvailable(is_available_GC);
+			save = true;
+			numAvailableUpdates += 1;
+			ret = true;
+		}
+		if (typeChanged(ch, CacheDescription)) {
+			save = true;
+			ret = true;
+		}
+		if (sizeChanged(ch, CacheDescription)) {
+			save = true;
+			ret = true;
+		}
+		if (difficultyOrTerrainChanged(ch, CacheDescription)) {
+			save = true;
+			ret = true;
+		}
+		if (newFoundExists(ch, CacheDescription)) {
+			numLogUpdates++;
+			ret = true;
+		}
+		if (save)
+			ch.save();
 		return ret;
 	}
+
 	/**
 	 * Get num found
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return numFound
 	 */
 	private int getNumFound(String doc) {
 		RexNumFinds.search(doc);
 		if (RexNumFinds.didMatch()) {
-			 return Common.parseInt(RexNumFinds.stringMatched(1));}
-		else {
-			pref.log("check RexNumFinds in SpiderGC.java / initialiseProperties"+Preferences.NEWLINE+doc);
+			return Common.parseInt(RexNumFinds.stringMatched(1));
+		} else {
+			pref.log("check RexNumFinds in SpiderGC.java / initialiseProperties" 
+					+ Preferences.NEWLINE + doc);
 			return 0;
 		}
 	}
+
 	private int getFoundInDB() {
 		CacheHolder ch;
 		int counter = 0;
-		for(int i = 0; i<cacheDB.size();i++){
+		for (int i = 0; i < cacheDB.size(); i++) {
 			ch = cacheDB.get(i);
-			if(ch.is_found()) {
-				if(ch.getWayPoint().startsWith("GC") ) counter++;
+			if (ch.is_found()) {
+				if (ch.getWayPoint().startsWith("GC"))
+					counter++;
 			}
 		}
 		return counter;
 	}
+
 	/**
 	 * Get the Distance to the centre
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return Distance
 	 */
 	private double getDistGC(String doc) throws Exception {
-		if(doc.indexOf("Here") >= 0) {
-			return(0);
-		}
-		else {
+		if (doc.indexOf("Here") >= 0) {
+			return (0);
+		} else {
 			RexPropDistance.search(doc);
 			if (!RexPropDistance.didMatch()) {
-				pref.log("check distRex in spider.def"+Preferences.NEWLINE+doc);
+				pref.log("check distRex in spider.def" 
+						+ Preferences.NEWLINE + doc);
 				return 0;
 			}
-			if(MyLocale.getDigSeparator().equals(",")) return Convert.toDouble(RexPropDistance.stringMatched(1).replace('.',','));
+			if (MyLocale.getDigSeparator().equals(","))
+				return Convert.toDouble(RexPropDistance.stringMatched(1)
+						.replace('.', ','));
 			return Convert.toDouble(RexPropDistance.stringMatched(1));
 		}
 	}
+
 	/**
 	 * Get the waypoint name
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return Name of waypoint to add to list
 	 */
 	private String getWP(String doc) throws Exception {
 		RexPropWaypoint.search(doc);
 		if (!RexPropWaypoint.didMatch()) {
-			pref.log("check waypointRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check waypointRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return "???";
 		}
-		return "GC"+RexPropWaypoint.stringMatched(1);
+		return "GC" + RexPropWaypoint.stringMatched(1);
 	}
 
 	/**
 	 * check for Premium Member Cache
 	 */
 	private boolean doPMCache(String toCheck) {
-		if (pref.isPremium) return true;
+		if (pref.isPremium)
+			return true;
 		if (toCheck.indexOf(propPM) <= 0) {
 			return true;
+		} else {
+			numPrivate = numPrivate + 1;
+			return false;
 		}
-		else {
-			numPrivate=numPrivate+1;
-			return false;			
-		}
 	}
+
 	/*
 	 * check for changed Cachetype
 	 */
-	private boolean typeChanged(CacheHolder ch, String toCheck){
+	private boolean typeChanged(CacheHolder ch, String toCheck) {
 		RexPropType.search(toCheck);
-		if(RexPropType.didMatch()) {
-			String stmp=RexPropType.stringMatched(1);
-			if (Common.parseInt(stmp) == 0){
-				if (stmp.equalsIgnoreCase("EarthCache")) stmp="137";
+		if (RexPropType.didMatch()) {
+			String stmp = RexPropType.stringMatched(1);
+			if (Common.parseInt(stmp) == 0) {
+				if (stmp.equalsIgnoreCase("EarthCache"))
+					stmp = "137";
 			}
-			if(ch.getType() == CacheType.gcSpider2CwType(stmp))
+			if (ch.getType() == CacheType.gcSpider2CwType(stmp))
 				return false;
-				else {
-					ch.setType(CacheType.gcSpider2CwType(stmp));
-					return true;
-				}
+			else {
+				ch.setType(CacheType.gcSpider2CwType(stmp));
+				return true;
+			}
 		}
-		pref.log("check TypeRex in spider.def"+Preferences.NEWLINE+toCheck);
+		pref.log("check TypeRex in spider.def" + Preferences.NEWLINE + toCheck);
 		return false;
 	}
+
 	/*
 	 * check for changed CacheSize
 	 */
 	private boolean sizeChanged(CacheHolder ch, String toCheck) {
 		RexPropSize.search(toCheck);
-		if(RexPropSize.didMatch()){
-			String stmp=RexPropSize.stringMatched(1);
-			if(ch.getCacheSize() == CacheSize.gcSpiderString2Cw(stmp))
+		if (RexPropSize.didMatch()) {
+			String stmp = RexPropSize.stringMatched(1);
+			if (ch.getCacheSize() == CacheSize.gcSpiderString2Cw(stmp))
 				return false;
-				else {
-					ch.setCacheSize(CacheSize.gcSpiderString2Cw(stmp));
-					return true;
-				}
+			else {
+				ch.setCacheSize(CacheSize.gcSpiderString2Cw(stmp));
+				return true;
+			}
 		}
-		pref.log("check SizeRex in spider.def"+Preferences.NEWLINE+toCheck);
+		pref.log("check SizeRex in spider.def" + Preferences.NEWLINE + toCheck);
 		return false;
 	}
+
 	/*
 	 * check for changed Difficulty or Terrain
 	 */
 	private boolean difficultyOrTerrainChanged(CacheHolder ch, String toCheck) {
 		boolean ret = false;
-		RexPropDandT.search(toCheck);	
-		if(RexPropDandT.didMatch()){
-			String stmp=RexPropDandT.stringMatched(1);
-			if(!(ch.getHard() == CacheTerrDiff.v1Converter(stmp))) {
+		RexPropDandT.search(toCheck);
+		if (RexPropDandT.didMatch()) {
+			String stmp = RexPropDandT.stringMatched(1);
+			if (!(ch.getHard() == CacheTerrDiff.v1Converter(stmp))) {
 				ch.setHard(CacheTerrDiff.v1Converter(stmp));
-				ret=true;
+				ret = true;
 			}
-			stmp=RexPropDandT.stringMatched(2);
-			if(!(ch.getTerrain() == CacheTerrDiff.v1Converter(stmp))) {
+			stmp = RexPropDandT.stringMatched(2);
+			if (!(ch.getTerrain() == CacheTerrDiff.v1Converter(stmp))) {
 				ch.setTerrain(CacheTerrDiff.v1Converter(stmp));
-				ret=true;
+				ret = true;
 			}
+		} else {
+			pref.log("check DandTRex in spider.def" 
+					+ Preferences.NEWLINE + toCheck);
 		}
-		else {
-			pref.log("check DandTRex in spider.def"+Preferences.NEWLINE+toCheck);
-		}
 		return ret;
 	}
-	
+
 	/**
 	 * Get the direction
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return direction String
 	 */
 	private String getDirection(String doc) throws Exception {
 		RexPropDirection.search(doc);
 		if (!RexPropDirection.didMatch()) {
-			pref.log("check directionRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check directionRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return "";
 		}
 		return RexPropDirection.stringMatched(1);
@@ -1491,14 +1819,15 @@
 	 * if cache lies in the desired direction
 	 */
 	private boolean directionOK(String[] directions, String gotDirection) {
-		if (directions.length == 0) return true; // nothing means all
+		if (directions.length == 0)
+			return true; // nothing means all
 		for (int i = 0; i < directions.length; i++) {
 			if (directions[i].equals(gotDirection)) {
 				return true;
 			}
-			int j=directions[i].indexOf("*");
-			if (j>0){
-				if (gotDirection.indexOf(directions[i].substring(0, 1))>-1) {
+			int j = directions[i].indexOf("*");
+			if (j > 0) {
+				if (gotDirection.indexOf(directions[i].substring(0, 1)) > -1) {
 					return true;
 				}
 			}
@@ -1508,88 +1837,108 @@
 
 	/*
 	 * @param CacheHolder ch
+	 * 
 	 * @param String cacheDescGC
+	 * 
 	 * @return boolean newLogExists
 	 */
 	private boolean newFoundExists(CacheHolder ch, String cacheDescrition) {
-		if(!pref.checkLog) return false;
+		if (!pref.checkLog)
+			return false;
 		Time lastLogCW = new Time();
 		Log lastLog = ch.getCacheDetails(true).CacheLogs.getLog(0);
-		if (lastLog == null) return true;
-		String slastLogCW=lastLog.getDate();
-		if (slastLogCW.equals("")) return true; // or check cacheDescGC also no log?
-		lastLogCW.parse(slastLogCW,"yyyy-MM-dd");
+		if (lastLog == null)
+			return true;
+		String slastLogCW = lastLog.getDate();
+		if (slastLogCW.equals(""))
+			return true; // or check cacheDescGC also no log?
+		lastLogCW.parse(slastLogCW, "yyyy-MM-dd");
 
 		Time lastLogGC = new Time(); // is current time
-		lastLogGC.hour=0;
-		lastLogGC.minute=0;
-		lastLogGC.second=0;
-		lastLogGC.millis=0;
+		lastLogGC.hour = 0;
+		lastLogGC.minute = 0;
+		lastLogGC.second = 0;
+		lastLogGC.millis = 0;
 		String[] SDate;
-		String stmp="";
+		String stmp = "";
 		RexPropLogDate.search(cacheDescrition);
 		if (RexPropLogDate.didMatch()) {
-			stmp=RexPropLogDate.stringMatched(1);
-		}
-		else {
-			pref.log("check logDateRex in spider.def"+Preferences.NEWLINE+cacheDescrition);
+			stmp = RexPropLogDate.stringMatched(1);
+		} else {
+			pref.log("check logDateRex in spider.def" 
+					+ Preferences.NEWLINE + cacheDescrition);
 			return false;
 		}
-		if (stmp.indexOf("day")>0) {
-			lastLogGC.setTime(lastLogGC.getTime()-691200000L); // simplyfied (update if not newer than last week)
-		}
-		else if (stmp.equals("")) {
+		if (stmp.indexOf("day") > 0) {
+			lastLogGC.setTime(lastLogGC.getTime() - 691200000L); // simplyfied
+																	// (update
+																	// if not
+																	// newer
+																	// than last
+																	// week)
+		} else if (stmp.equals("")) {
 			return false; // no log yet
-		}
-		else {
-			final String monthNames[] = { "January", "February", "March", "April", "May",
-					"June", "July", "August", "September", "October", "November",
-					"December" };
-			SDate=mString.split(stmp,' ');
-			lastLogGC.day=Common.parseInt(SDate[0]);
+		} else {
+			final String monthNames[] = { "January", "February", "March",
+					"April", "May", "June", "July", "August", "September",
+					"October", "November", "December" };
+			SDate = mString.split(stmp, ' ');
+			lastLogGC.day = Common.parseInt(SDate[0]);
 			for (int m = 0; m < 12; m++) {
 				if (monthNames[m].startsWith(SDate[1])) {
-					lastLogGC.month=m+1;
-					m=12;
+					lastLogGC.month = m + 1;
+					m = 12;
 				}
 			}
-			lastLogGC.year=2000+Common.parseInt(SDate[2].substring(0,2));
+			lastLogGC.year = 2000 + Common.parseInt(SDate[2].substring(0, 2));
 		}
 		boolean ret = lastLogCW.compareTo(lastLogGC) < 0;
 		return ret;
 	}
 
 	/**
-	 * Read a complete cachepage from geocaching.com including all logs. This is used both when
-	 * updating already existing caches (via spiderSingle) and when spidering around a centre. It
-	 * is also used when reading a GPX file and fetching the images.
-	 *
+	 * Read a complete cachepage from geocaching.com including all logs. This is
+	 * used both when updating already existing caches (via spiderSingle) and
+	 * when spidering around a centre. It is also used when reading a GPX file
+	 * and fetching the images.
+	 * 
 	 * This is the workhorse function of the spider.
-	 *
-	 * @param CacheHolderDetail chD The element wayPoint must be set to the name of a waypoint
-	 * @param boolean isUpdate True if an existing cache is being updated, false if it is a new cache
+	 * 
+	 * @param CacheHolderDetail
+	 *            chD The element wayPoint must be set to the name of a waypoint
+	 * @param boolean isUpdate True if an existing cache is being updated, false
+	 *        if it is a new cache
 	 * @param boolean fetchImages True if the pictures are to be fetched
 	 * @param boolean fetchTBs True if the TBs are to be fetched
-	 * @param boolean doNotGetFound True if the cache is not to be spidered if it has already been found
-	 * @param boolean fetchAllLogs True if all logs are to be fetched (by adding option '&logs=y' to command line).
-	 *     This is normally false when spidering from GPXImport as the logs are part of the GPX file, and true otherwise
-	 * @return -1 if the infoBox was closed (cancel spidering), 0 if there was an error (continue with next cache), 1 if everything ok
+	 * @param boolean doNotGetFound True if the cache is not to be spidered if
+	 *        it has already been found
+	 * @param boolean fetchAllLogs True if all logs are to be fetched (by adding
+	 *        option '&logs=y' to command line). This is normally false when
+	 *        spidering from GPXImport as the logs are part of the GPX file, and
+	 *        true otherwise
+	 * @return -1 if the infoBox was closed (cancel spidering), 0 if there was
+	 *         an error (continue with next cache), 1 if everything ok
 	 */
-	private int getCacheByWaypointName(CacheHolder ch, boolean isUpdate, boolean fetchImages, boolean fetchTBs, boolean doNotGetFound, boolean fetchAllLogs) {
+	private int getCacheByWaypointName(CacheHolder ch, boolean isUpdate,
+			boolean fetchImages, boolean fetchTBs, boolean doNotGetFound,
+			boolean fetchAllLogs) {
 		int ret = SPIDER_OK; // initialize value;
 		while (true) { // retry even if failure
 			pref.log(""); // new line for more overview
 			String completeWebPage;
-			int spiderTrys=0;
-			int MAX_SPIDER_TRYS=3;
-			while (spiderTrys++<MAX_SPIDER_TRYS) {
+			int spiderTrys = 0;
+			int MAX_SPIDER_TRYS = 3;
+			while (spiderTrys++ < MAX_SPIDER_TRYS) {
 				ret = SPIDER_OK; // initialize value;
-				try{
-					String doc = p.getProp("getPageByName") + ch.getWayPoint() +((fetchAllLogs||ch.is_found())?p.getProp("fetchAllLogs"):"");
-					completeWebPage = fetch(doc,false);
+				try {
+					String doc = p.getProp("getPageByName")
+							+ ch.getWayPoint()
+							+ ((fetchAllLogs || ch.is_found()) ? p
+									.getProp("fetchAllLogs") : "");
+					completeWebPage = fetch(doc, false);
 					pref.log("Fetched: " + ch.getWayPoint());
-					if	( completeWebPage.equals("")) {
-						pref.log("Could not fetch " + ch.getWayPoint(),null);
+					if (completeWebPage.equals("")) {
+						pref.log("Could not fetch " + ch.getWayPoint(), null);
 						if (!infB.isClosed) {
 							continue;
 						} else {
@@ -1597,8 +1946,8 @@
 							return SPIDER_CANCEL;
 						}
 					}
-				}catch(Exception ex){
-					pref.log("Could not fetch " + ch.getWayPoint(),ex);
+				} catch (Exception ex) {
+					pref.log("Could not fetch " + ch.getWayPoint(), ex);
 					if (!infB.isClosed) {
 						continue;
 					} else {
@@ -1606,23 +1955,26 @@
 						return SPIDER_CANCEL;
 					}
 				}
-				// Only analyse the cache data and fetch pictures if user has not closed the progress window
+				// Only analyse the cache data and fetch pictures if user has
+				// not closed the progress window
 				if (!infB.isClosed) {
-					try{
+					try {
 						ch.initStates(!isUpdate);
 
-						//first check if coordinates are available to prevent deleting existing coordinates
+						// first check if coordinates are available to prevent
+						// deleting existing coordinates
 						String latLon = getLatLon(completeWebPage);
 						if (latLon.equals("???")) {
-							if (completeWebPage.indexOf(p.getProp("premiumCachepage"))>0) {
+							if (completeWebPage.indexOf(p
+									.getProp("premiumCachepage")) > 0) {
 								// Premium cache spidered by non premium member
-								pref.log("Ignoring premium member cache: "+ch.getWayPoint());
+								pref.log("Ignoring premium member cache: " + ch.getWayPoint());
 								spiderTrys = MAX_SPIDER_TRYS;
 								ret = SPIDER_IGNORE_PREMIUM;
 								continue;
 							} else {
 								if (spiderTrys == MAX_SPIDER_TRYS)
-									pref.log(">>>> Failed to spider Cache. Retry."+completeWebPage,null);
+									pref.log(">>>> Failed to spider Cache. Retry." + completeWebPage, null);
 								ret = SPIDER_ERROR;
 								continue; // Restart the spider
 							}
@@ -1630,20 +1982,24 @@
 
 						ch.setHTML(true);
 						ch.setIncomplete(true);
-						// Save size of logs to be able to check whether any new logs were added
+						// Save size of logs to be able to check whether any new
+						// logs were added
 						// int logsz = chD.CacheLogs.size();
-						//chD.CacheLogs.clear();
+						// chD.CacheLogs.clear();
 						ch.addiWpts.clear();
 						ch.getCacheDetails(false).images.clear();
 
-						ch.setAvailable(!(completeWebPage.indexOf(p.getProp("cacheUnavailable")) >= 0));
-						ch.setArchived(completeWebPage.indexOf(p.getProp("cacheArchived")) >= 0);
-						//==========
+						ch.setAvailable(!(completeWebPage.indexOf(p
+								.getProp("cacheUnavailable")) >= 0));
+						ch.setArchived(completeWebPage.indexOf(p
+								.getProp("cacheArchived")) >= 0);
+						// ==========
 						// Logs first (for check early for break)
-						//==========
+						// ==========
 						getLogs(completeWebPage, ch.getCacheDetails(false));
 						pref.log("Got logs");
-						// If the switch is set to not store found caches and we found the cache => return
+						// If the switch is set to not store found caches and we
+						// found the cache => return
 						if (ch.is_found() && doNotGetFound) {
 							if (infB.isClosed) {
 								return SPIDER_CANCEL;
@@ -1651,27 +2007,33 @@
 								return SPIDER_IGNORE;
 							}
 						}
-						//==========
+						// ==========
 						// General Cache Data
-						//==========
+						// ==========
 						ch.setLatLon(latLon);
 						pref.log("LatLon: " + ch.getLatLon());
-						
-						String longDesc=getLongDesc(completeWebPage);
+
+						String longDesc = getLongDesc(completeWebPage);
 						ch.getCacheDetails(false).setLongDescription(longDesc);
 						pref.log("Got description");
 
-						ch.setCacheName(SafeXML.cleanback(getName(completeWebPage)));
+						ch.setCacheName(SafeXML
+								.cleanback(getName(completeWebPage)));
 						pref.log("Name: " + ch.getCacheName());
 
 						String location = getLocation(completeWebPage);
 						if (location.length() != 0) {
 							int countryStart = location.indexOf(",");
 							if (countryStart > -1) {
-								ch.getCacheDetails(false).Country = SafeXML.cleanback(location.substring(countryStart + 1).trim());
-								ch.getCacheDetails(false).State = SafeXML.cleanback(location.substring(0, countryStart).trim());
+								ch.getCacheDetails(false).Country = SafeXML
+										.cleanback(location.substring(
+												countryStart + 1).trim());
+								ch.getCacheDetails(false).State = SafeXML
+										.cleanback(location.substring(0,
+												countryStart).trim());
 							} else {
-								ch.getCacheDetails(false).Country = location.trim();
+								ch.getCacheDetails(false).Country = location
+										.trim();
 								ch.getCacheDetails(false).State = "";
 							}
 							pref.log("Got location (country/state)");
@@ -1681,142 +2043,174 @@
 							pref.log("No location (country/state) found");
 						}
 
-						ch.setCacheOwner(SafeXML.cleanback(getOwner(completeWebPage)).trim());
-						if(ch.getCacheOwner().equals(pref.myAlias) || (pref.myAlias2.length()>0 && ch.getCacheOwner().equals(pref.myAlias2))) ch.setOwned(true);
-						pref.log("Owner: " + ch.getCacheOwner() +"; is_owned = "+ch.is_owned()+";  alias1,2 = ["+pref.myAlias+"|"+pref.myAlias2+"]");
+						ch.setCacheOwner(SafeXML.cleanback(
+								getOwner(completeWebPage)).trim());
+						if (ch.getCacheOwner().equals(pref.myAlias)
+								|| (pref.myAlias2.length() > 0 && ch
+										.getCacheOwner().equals(pref.myAlias2)))
+							ch.setOwned(true);
+						pref.log("Owner: " + ch.getCacheOwner()
+								+ "; is_owned = " + ch.is_owned()
+								+ ";  alias1,2 = [" + pref.myAlias + "|"
+								+ pref.myAlias2 + "]");
 
-						ch.setDateHidden(DateFormat.MDY2YMD(getDateHidden(completeWebPage)));
+						ch.setDateHidden(DateFormat
+								.MDY2YMD(getDateHidden(completeWebPage)));
 						pref.log("Hidden: " + ch.getDateHidden());
 
-						ch.getCacheDetails(false).setHints(getHints(completeWebPage));
+						ch.getCacheDetails(false).setHints(
+								getHints(completeWebPage));
 						pref.log("Hints: " + ch.getCacheDetails(false).Hints);
 
-						ch.setCacheSize(CacheSize.gcSpiderString2Cw(getSize(completeWebPage)));
+						ch.setCacheSize(CacheSize
+								.gcSpiderString2Cw(getSize(completeWebPage)));
 						pref.log("Size: " + ch.getCacheSize());
 
-						ch.setHard(CacheTerrDiff.v1Converter(getDiff(completeWebPage)));
+						ch.setHard(CacheTerrDiff
+								.v1Converter(getDiff(completeWebPage)));
 						pref.log("Hard: " + ch.getHard());
 
-						ch.setTerrain(CacheTerrDiff.v1Converter(getTerr(completeWebPage)));
+						ch.setTerrain(CacheTerrDiff
+								.v1Converter(getTerr(completeWebPage)));
 						pref.log("Terr: " + ch.getTerrain());
 
 						ch.setType(getType(completeWebPage));
 						pref.log("Type: " + ch.getType());
-						//==========
+						// ==========
 						// Bugs
-						//==========
-						if (fetchTBs) getBugs(ch.getCacheDetails(false),completeWebPage);
-						ch.setHas_bugs(ch.getCacheDetails(false).Travelbugs.size()>0);
+						// ==========
+						if (fetchTBs)
+							getBugs(ch.getCacheDetails(false), completeWebPage);
+						ch.setHas_bugs(ch.getCacheDetails(false).Travelbugs
+								.size() > 0);
 						pref.log("Got TBs");
-						//==========
+						// ==========
 						// Images
-						//==========
-						if(fetchImages){
-							getImages(completeWebPage, ch.getCacheDetails(false));
+						// ==========
+						if (fetchImages) {
+							getImages(completeWebPage, ch
+									.getCacheDetails(false));
 							pref.log("Got images");
 						}
-						//==========
+						// ==========
 						// Addi waypoints
-						//==========
-						getAddWaypoints(completeWebPage, ch.getWayPoint(), ch.is_found());
+						// ==========
+						getAddWaypoints(completeWebPage, ch.getWayPoint(), ch
+								.is_found());
 						pref.log("Got additional waypoints");
-						//==========
+						// ==========
 						// Attributes
-						//==========
-						getAttributes(completeWebPage, ch.getCacheDetails(false));
+						// ==========
+						getAttributes(completeWebPage, ch
+								.getCacheDetails(false));
 						pref.log("Got attributes");
-						//==========
+						// ==========
 						// Last sync date
-						//==========
+						// ==========
 						ch.setLastSync((new Time()).format("yyyyMMddHHmmss"));
 						ch.setIncomplete(false);
-						pref.log("ready " + ch.getWayPoint() + " : "+ ch.getLastSync());
+						pref.log("ready " + ch.getWayPoint() + " : " + ch.getLastSync());
 						break;
-					}catch(Exception ex){
-						pref.log("[getCacheByWaypointName: ]Error reading cache: "+ch.getWayPoint(),ex);
+					} catch (Exception ex) {
+						pref.log("[getCacheByWaypointName: ]Error reading cache: " + ch.getWayPoint(), ex);
 					}
 				} else {
 					break;
 				}
 			} // spiderTrys
-			if ( ( spiderTrys >= MAX_SPIDER_TRYS ) && ( ret == SPIDER_OK ) ) {
-				pref.log(">>> Failed to spider cache. Number of retrys exhausted.",null);
-				int decision = (new MessageBox(MyLocale.getMsg(5500,"Error"),MyLocale.getMsg(5515,"Failed to load cache.%0aPleas check your internet connection.%0aRetry?"),FormBase.DEFOKB|FormBase.NOB|FormBase.CANCELB)).execute();
-				if ( decision == FormBase.IDOK ) {
+			if ((spiderTrys >= MAX_SPIDER_TRYS) && (ret == SPIDER_OK)) {
+				pref.log(">>> Failed to spider cache. Number of retrys exhausted.", null);
+				int decision = (new MessageBox(MyLocale.getMsg(5500, "Error"),
+						MyLocale.getMsg(5515,"Failed to load cache.%0aPleas check your internet connection.%0aRetry?"),
+						FormBase.DEFOKB | FormBase.NOB | FormBase.CANCELB))
+						.execute();
+				if (decision == FormBase.IDOK) {
 					continue; // retry even if failure
-				} else if ( decision == FormBase.IDNO ){
+				} else if (decision == FormBase.IDNO) {
 					ret = SPIDER_ERROR;
 				} else {
 					ret = SPIDER_CANCEL;
 				}
 			}
 			break;
-		}//while(true) // retry even if failure
-		if (infB.isClosed) {// If the infoBox was closed before getting here, we return -1
+		}// while(true) // retry even if failure
+		if (infB.isClosed) {// If the infoBox was closed before getting here, we
+							// return -1
 			return SPIDER_CANCEL;
 		}
 		return ret;
 	} // getCacheByWaypointName
 
-
 	/**
 	 * Get the coordinates of the cache
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return Cache coordinates
 	 */
-	private String getLatLon(String doc) throws Exception{
+	private String getLatLon(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("latLonRex"));
 		inRex.search(doc);
 		if (!inRex.didMatch()) {
-			pref.log("check latLonRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check latLonRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return "???";
 		}
 		return inRex.stringMatched(1);
 	}
 
-	boolean shortDescRex_not_yet_found=true;
+	boolean shortDescRex_not_yet_found = true;
+
 	/**
 	 * Get the long description
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return the long description
 	 */
-	private String getLongDesc(String doc) throws Exception{
+	private String getLongDesc(String doc) throws Exception {
 		String res = "";
 		Regex shortDescRex = new Regex(p.getProp("shortDescRex"));
 		Regex longDescRex = new Regex(p.getProp("longDescRex"));
 		shortDescRex.search(doc);
 		if (!shortDescRex.didMatch()) {
-			if (shortDescRex_not_yet_found) pref.log("no shortDesc or check shortDescRex in spider.def"+Preferences.NEWLINE+doc);
-		}
-		else {
+			if (shortDescRex_not_yet_found)
+				pref.log("no shortDesc or check shortDescRex in spider.def"
+						+ Preferences.NEWLINE + doc);
+		} else {
 			res = shortDescRex.stringMatched(1);
-			shortDescRex_not_yet_found=false;
+			shortDescRex_not_yet_found = false;
 		}
 		res += "<br>";
 		longDescRex.search(doc);
 		if (!longDescRex.didMatch()) {
-			pref.log("check longDescRex in spider.def"+Preferences.NEWLINE+doc);
-		}
-		else {
+			pref.log("check longDescRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
+		} else {
 			res += longDescRex.stringMatched(1);
 		}
 		int spanEnd = res.lastIndexOf("</span>");
 		if (spanEnd >= 0) {
 			res = res.substring(0, spanEnd);
 		}
-		return SafeXML.cleanback(res); // since internal viewer doesn't show html-entities that are now in cacheDescription
+		return SafeXML.cleanback(res); // since internal viewer doesn't show
+										// html-entities that are now in
+										// cacheDescription
 	}
 
 	/**
 	 * Get the cache location (country and state)
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return the location (country and state) of the cache
 	 */
-	private String getLocation(String doc) throws Exception{
+	private String getLocation(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("cacheLocationRex"));
 		inRex.search(doc);
 		if (!inRex.didMatch()) {
-			pref.log("check cacheLocationRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check cacheLocationRex in spider.def"
+					+ Preferences.NEWLINE + doc);
 			return "";
 		}
 		return inRex.stringMatched(1);
@@ -1824,14 +2218,17 @@
 
 	/**
 	 * Get the cache name
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return the name of the cache
 	 */
-	private String getName(String doc) throws Exception{
+	private String getName(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("cacheNameRex"));
 		inRex.search(doc);
 		if (!inRex.didMatch()) {
-			pref.log("check cacheNameRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check cacheNameRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return "???";
 		}
 		return inRex.stringMatched(1);
@@ -1839,14 +2236,17 @@
 
 	/**
 	 * Get the cache owner
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return the cache owner
 	 */
-	private String getOwner(String doc) throws Exception{
+	private String getOwner(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("cacheOwnerRex"));
 		inRex.search(doc);
 		if (!inRex.didMatch()) {
-			pref.log("check cacheOwnerRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check cacheOwnerRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return "???";
 		}
 		return inRex.stringMatched(1);
@@ -1854,14 +2254,17 @@
 
 	/**
 	 * Get the date when the cache was hidden
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return Hidden date
 	 */
-	private String getDateHidden(String doc) throws Exception{
+	private String getDateHidden(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("dateHiddenRex"));
 		inRex.search(doc);
 		if (!inRex.didMatch()) {
-			pref.log("check dateHiddenRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check dateHiddenRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return "???";
 		}
 		return inRex.stringMatched(1);
@@ -1869,14 +2272,17 @@
 
 	/**
 	 * Get the hints
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return Cachehints
 	 */
-	private String getHints(String doc) throws Exception{
+	private String getHints(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("hintsRex"));
 		inRex.search(doc);
 		if (!inRex.didMatch()) {
-			pref.log("check hintsRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check hintsRex in spider.def"
+					+ Preferences.NEWLINE + doc);
 			return "";
 		}
 		return inRex.stringMatched(1);
@@ -1884,70 +2290,90 @@
 
 	/**
 	 * Get the cache size
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return Cache size
 	 */
-	private String getSize(String doc) throws Exception{
+	private String getSize(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("sizeRex"));
 		inRex.search(doc);
-		if(inRex.didMatch()) return inRex.stringMatched(1);
+		if (inRex.didMatch())
+			return inRex.stringMatched(1);
 		else {
-			pref.log("check sizeRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check sizeRex in spider.def"
+					+ Preferences.NEWLINE + doc);
 			return "None";
 		}
 	}
 
 	/**
 	 * Get the Difficulty
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return The cache difficulty
 	 */
-	private String getDiff(String doc) throws Exception{
+	private String getDiff(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("difficultyRex"));
 		inRex.search(doc);
-		if(inRex.didMatch()) return inRex.stringMatched(1);
+		if (inRex.didMatch())
+			return inRex.stringMatched(1);
 		else {
-			pref.log("check difficultyRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check difficultyRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return "-1";
 		}
 	}
 
 	/**
 	 * Get the terrain rating
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return Terrain rating
 	 */
-	private String getTerr(String doc) throws Exception{
+	private String getTerr(String doc) throws Exception {
 		Regex inRex = new Regex(p.getProp("terrainRex"));
 		inRex.search(doc);
-		if(inRex.didMatch()) return inRex.stringMatched(1);
+		if (inRex.didMatch())
+			return inRex.stringMatched(1);
 		else {
-			pref.log("check terrainRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check terrainRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return "-1";
 		}
 	}
 
 	/**
 	 * Get the waypoint type
-	 * @param doc A previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
 	 * @return the waypoint type (Tradi, Multi, etc.)
 	 */
-	private byte getType(String doc){
+	private byte getType(String doc) {
 		RexCacheType.search(doc);
-		if(RexCacheType.didMatch()) return CacheType.gcSpider2CwType(RexCacheType.stringMatched(1));
+		if (RexCacheType.didMatch())
+			return CacheType.gcSpider2CwType(RexCacheType.stringMatched(1));
 		else {
-			pref.log("check cacheTypeRex in spider.def"+Preferences.NEWLINE+doc);
+			pref.log("check cacheTypeRex in spider.def" 
+					+ Preferences.NEWLINE + doc);
 			return 0;
 		}
 	}
 
 	/**
 	 * Get the logs
-	 * @param doc A previously fetched cachepage
-	 * @param chD Cache Details
+	 * 
+	 * @param doc
+	 *            A previously fetched cachepage
+	 * @param chD
+	 *            Cache Details
 	 * @return A HTML string containing the logs
 	 */
-	private void getLogs(String completeWebPage, CacheHolderDetail chD) throws Exception {
+	private void getLogs(String completeWebPage, CacheHolderDetail chD)
+			throws Exception {
 		String icon = "";
 		String name = "";
 		String logText = "";
@@ -1956,7 +2382,8 @@
 		LogList reslts = chD.CacheLogs;
 		RexLogBlock.search(completeWebPage);
 		if (!RexLogBlock.didMatch()) {
-			pref.log("check blockRex in spider.def"+Preferences.NEWLINE+completeWebPage);			
+			pref.log("check blockRex in spider.def" 
+					+ Preferences.NEWLINE + completeWebPage);
 		}
 		String LogBlock = RexLogBlock.stringMatched(1);
 		exSingleLog.setSource(LogBlock);
@@ -1967,30 +2394,37 @@
 		exDate.setSource(singleLog);
 		exLog.setSource(singleLog);
 		exLogId.setSource(singleLog);
-		int nLogs=0;
+		int nLogs = 0;
 		boolean foundown = false;
-		while(!exSingleLog.endOfSearch()){
-			//pref.log(singleLog);
+		while (!exSingleLog.endOfSearch()) {
+			// pref.log(singleLog);
 			nLogs++;
 			icon = exIcon.findNext();
 			name = exName.findNext();
 			logText = exLog.findNext();
 			logId = exLogId.findNext();
-			String d=DateFormat.logdate2YMD(exDate.findNext());
-			//pref.log(Integer.toString(nLogs)+":"+icon+"|logger:"+name+"|id:"+logId+"|"+d);
+			String d = DateFormat.logdate2YMD(exDate.findNext());
+			// pref.log(Integer.toString(nLogs)+":"+icon+"|logger:"+name+"|id:"+logId+"|"+d);
 			// if this log says this Cache is found by me
-			if((icon.equals(icon_smile) || icon.equals(icon_camera) || icon.equals(icon_attended)) &&
-				(name.equalsIgnoreCase(SafeXML.clean(pref.myAlias)) || 
-				(pref.myAlias2.length()>0 && name.equalsIgnoreCase(SafeXML.clean(pref.myAlias2)))) )  {
+			if ((icon.equals(icon_smile) || icon.equals(icon_camera) || icon
+					.equals(icon_attended))
+					&& (name.equalsIgnoreCase(SafeXML.clean(pref.myAlias)) || (pref.myAlias2
+							.length() > 0 && name.equalsIgnoreCase(SafeXML
+							.clean(pref.myAlias2))))) {
 				chD.getParent().setFound(true);
 				chD.getParent().setCacheStatus(d);
 				chD.OwnLogId = logId;
-				chD.OwnLog = new Log(icon,d,name,logText);
-				foundown=true;
-				//pref.log("own log detected!");
+				chD.OwnLog = new Log(icon, d, name, logText);
+				foundown = true;
+				// pref.log("own log detected!");
 			}
-			if (nLogs<=pref.maxLogsToSpider) {reslts.add(new Log(icon,d,name,logText));}
-			else {if (foundown){break;}}
+			if (nLogs <= pref.maxLogsToSpider) {
+				reslts.add(new Log(icon, d, name, logText));
+			} else {
+				if (foundown) {
+					break;
+				}
+			}
 			singleLog = exSingleLog.findNext();
 			exIcon.setSource(singleLog);
 			exNameTemp.setSource(singleLog);
@@ -1999,48 +2433,69 @@
 			exLog.setSource(singleLog);
 			exLogId.setSource(singleLog);
 		}
-		if (nLogs>pref.maxLogsToSpider) {
+		if (nLogs > pref.maxLogsToSpider) {
 			reslts.add(Log.maxLog());
-			//pref.log("MAXLOGS reached ("+pref.maxLogsToSpider+")");
-		} 
-		//pref.log(nLogs+" checked!");
+			// pref.log("MAXLOGS reached ("+pref.maxLogsToSpider+")");
+		}
+		// pref.log(nLogs+" checked!");
 		// return reslts;
 	}
 
 	/**
 	 * Read the travelbug names from a previously fetched Cache page and then
 	 * read the travelbug purpose for each travelbug
-	 * @param doc The previously fetched cachepage
+	 * 
+	 * @param doc
+	 *            The previously fetched cachepage
 	 * @return A HTML formatted string with bug names and there purpose
 	 */
-	public void getBugs(CacheHolderDetail chD, String doc) throws Exception{
-		Extractor exBlock = new Extractor(doc,p.getProp("blockExStart"),p.getProp("blockExEnd") ,0,Extractor.EXCLUDESTARTEND);
+	public void getBugs(CacheHolderDetail chD, String doc) throws Exception {
+		Extractor exBlock = new Extractor(doc, 
+				p.getProp("blockExStart"), 
+				p.getProp("blockExEnd"), 
+				0, Extractor.EXCLUDESTARTEND);
 		String bugBlock = exBlock.findNext();
-		Extractor exBug = new Extractor(bugBlock,p.getProp("bugExStart"),p.getProp("bugExEnd"),0,Extractor.EXCLUDESTARTEND);
-		String link,bug,linkPlusBug,bugDetails;
-		String oldInfoBox=infB.getInfo();
+		Extractor exBug = new Extractor(bugBlock, 
+				p.getProp("bugExStart"), 
+				p.getProp("bugExEnd"), 
+				0, Extractor.EXCLUDESTARTEND);
+		String link, bug, linkPlusBug, bugDetails;
+		String oldInfoBox = infB.getInfo();
 		chD.Travelbugs.clear();
-		while(!exBug.endOfSearch()){
-			if (infB.isClosed) break; // Allow user to cancel by closing progress form
-			linkPlusBug= exBug.findNext();
-			int idx=linkPlusBug.indexOf(p.getProp("bugLinkEnd"));
-			if (idx<0) break; // No link/bug pair found
-			link=linkPlusBug.substring(0,idx);
-			Extractor exBugName = new Extractor(linkPlusBug,p.getProp("bugNameExStart"),p.getProp("bugNameExEnd"),0,Extractor.EXCLUDESTARTEND);
-			bug=exBugName.findNext();
-			if(bug.length()>0) { // Found a bug, get its details
-				Travelbug tb=new Travelbug(bug);
-				try{
-					infB.setInfo(oldInfoBox+MyLocale.getMsg(5514,"\nGetting bug: ")+SafeXML.cleanback(bug));
-					bugDetails = fetch(link,false);
-					pref.log("[getBugs] Fetched TB details: "+bug);
-					Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
+		while (!exBug.endOfSearch()) {
+			if (infB.isClosed)
+				break; // Allow user to cancel by closing progress form
+			linkPlusBug = exBug.findNext();
+			int idx = linkPlusBug.indexOf(p.getProp("bugLinkEnd"));
+			if (idx < 0)
+				break; // No link/bug pair found
+			link = linkPlusBug.substring(0, idx);
+			Extractor exBugName = new Extractor(linkPlusBug, 
+					p.getProp("bugNameExStart"), 
+					p.getProp("bugNameExEnd"), 
+					0, Extractor.EXCLUDESTARTEND);
+			bug = exBugName.findNext();
+			if (bug.length() > 0) { // Found a bug, get its details
+				Travelbug tb = new Travelbug(bug);
+				try {
+					infB.setInfo(oldInfoBox
+							+ MyLocale.getMsg(5514, "\nGetting bug: ")
+							+ SafeXML.cleanback(bug));
+					bugDetails = fetch(link, false);
+					pref.log("[getBugs] Fetched TB details: " + bug);
+					Extractor exDetails = new Extractor(bugDetails, p
+							.getProp("bugDetailsStart"), p
+							.getProp("bugDetailsEnd"),
+							0, Extractor.EXCLUDESTARTEND);
 					tb.setMission(exDetails.findNext());
-					Extractor exGuid = new Extractor(bugDetails,"action=\"details.aspx?guid=","\" id=\"aspnetForm",0,Extractor.EXCLUDESTARTEND); // TODO Replace with spider.def see also further down
+					Extractor exGuid = new Extractor(bugDetails,
+							"action=\"details.aspx?guid=",
+							"\" id=\"aspnetForm",
+							0, Extractor.EXCLUDESTARTEND);
 					tb.setGuid(exGuid.findNext());
 					chD.Travelbugs.add(tb);
-				}catch(Exception ex){
-					pref.log("[getBugs] Could not fetch bug details",ex);
+				} catch (Exception ex) {
+					pref.log("[getBugs] Could not fetch bug details", ex);
 				}
 			}
 		}
@@ -2051,77 +2506,96 @@
 	 * Get the images for a previously fetched cache page. Images are extracted
 	 * from two areas: The long description and the pictures section (including
 	 * the spoiler)
-	 * @param doc The previously fetched cachepage
-	 * @param chD The Cachedetails
+	 * 
+	 * @param doc
+	 *            The previously fetched cachepage
+	 * @param chD
+	 *            The Cachedetails
 	 */
-	public void getImages(String doc, CacheHolderDetail chD){
+	public void getImages(String doc, CacheHolderDetail chD) {
 		int imgCounter = 0;
 		int spiderCounter = 0;
 		String fileName, imgName, imgType, imgUrl, imgComment;
-		Vector spideredUrls=new Vector(15);
-		ImageInfo imageInfo=null;
-		Extractor exImgBlock,exImgComment;
+		Vector spideredUrls = new Vector(15);
+		ImageInfo imageInfo = null;
+		Extractor exImgBlock, exImgComment;
 		int idxUrl; // Index of already spidered Url in list of spideredUrls
-		CacheImages lastImages=null;
+		CacheImages lastImages = null;
 
 		// First: Get current image object of waypoint before spidering images.
-		CacheHolder oldCh = Global.getProfile().cacheDB.get(chD.getParent().getWayPoint());
+		CacheHolder oldCh = Global.getProfile().cacheDB.get(chD.getParent()
+				.getWayPoint());
 		if (oldCh != null) {
 			lastImages = oldCh.getCacheDetails(false).images;
 		}
 
-		//========
-		//In the long description
-		//========
+		// ========
+		// In the long description
+		// ========
 		String longDesc = "";
 		try {
-			if (chD.getParent().getWayPoint().startsWith("TC")) longDesc = doc;
+			if (chD.getParent().getWayPoint().startsWith("TC"))
+				longDesc = doc;
 			else
 				longDesc = getLongDesc(doc);
 			longDesc = STRreplace.replace(longDesc, "<img", "<IMG");
 			longDesc = STRreplace.replace(longDesc, "src=", "SRC=");
 			longDesc = STRreplace.replace(longDesc, "'", "\"");
-			exImgBlock = new Extractor(longDesc,p.getProp("imgBlockExStart"),p.getProp("imgBlockExEnd"), 0, false);
-		} catch (Exception ex) {//Missing property in spider.def
+			exImgBlock = new Extractor(longDesc, 
+					p.getProp("imgBlockExStart"),
+					p.getProp("imgBlockExEnd"), 
+					0, false);
+		} catch (Exception ex) {// Missing property in spider.def
 			return;
 		}
 		String tst;
 		tst = exImgBlock.findNext();
 		Extractor exImgSrc = new Extractor(tst, "http://", "\"", 0, true);
-		while(exImgBlock.endOfSearch() == false){
+		while (exImgBlock.endOfSearch() == false) {
 			imgUrl = exImgSrc.findNext();
-			if(imgUrl.length()>0){
-				// Optimize: img.groundspeak.com -> img.geocaching.com (for better caching purposes)
+			if (imgUrl.length() > 0) {
+				// Optimize: img.groundspeak.com -> img.geocaching.com (for
+				// better caching purposes)
 				imgUrl = CacheImages.optimizeLink("http://" + imgUrl);
-				try{
-					imgType = (imgUrl.substring(imgUrl.lastIndexOf('.')).toLowerCase()+"    ").substring(0,4).trim();
+				try {
+					imgType = (imgUrl.substring(imgUrl.lastIndexOf('.'))
+							.toLowerCase() + "    ").substring(0, 4).trim();
 					// imgType is now max 4 chars, starting with .
-					if(imgType.startsWith(".png") || imgType.startsWith(".jpg") || imgType.startsWith(".gif")){
-						// Check whether image was already spidered for this cache
-						idxUrl=spideredUrls.find(imgUrl);
-						imgName = chD.getParent().getWayPoint() + "_" + Convert.toString(imgCounter);
+					if (imgType.startsWith(".png")
+							|| imgType.startsWith(".jpg")
+							|| imgType.startsWith(".gif")) {
+						// Check whether image was already spidered for this
+						// cache
+						idxUrl = spideredUrls.find(imgUrl);
+						imgName = chD.getParent().getWayPoint() + "_"
+								+ Convert.toString(imgCounter);
 						imageInfo = null;
-						if (idxUrl<0) { // New image
-							fileName = chD.getParent().getWayPoint().toLowerCase() + "_" + Convert.toString(spiderCounter);
+						if (idxUrl < 0) { // New image
+							fileName = chD.getParent().getWayPoint()
+									.toLowerCase()
+									+ "_" + Convert.toString(spiderCounter);
 							if (lastImages != null) {
-								imageInfo = lastImages.needsSpidering(imgUrl, fileName+imgType);
+								imageInfo = lastImages.needsSpidering(imgUrl,
+										fileName + imgType);
 							}
 							if (imageInfo == null) {
 								imageInfo = new ImageInfo();
-								pref.log("[getImages] Loading image: " + imgUrl+" as "+fileName+imgType);
-								spiderImage(imgUrl, fileName+imgType);
-								imageInfo.setFilename(fileName+imgType);
+								pref.log("[getImages] Loading image: " + imgUrl + " as " + fileName + imgType);
+								spiderImage(imgUrl, fileName + imgType);
+								imageInfo.setFilename(fileName + imgType);
 								imageInfo.setURL(imgUrl);
 							} else {
-								pref.log("[getImages] Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
+								pref.log("[getImages] Already exising image: " + imgUrl + " as " + imageInfo.getFilename());
 							}
 							spideredUrls.add(imgUrl);
 							spiderCounter++;
 						} else { // Image already spidered as wayPoint_'idxUrl'
-							fileName = chD.getParent().getWayPoint().toLowerCase() + "_" + Convert.toString(idxUrl);
-							pref.log("[getImages] Already loaded image: " + imgUrl+" as "+fileName+imgType);
+							fileName = chD.getParent().getWayPoint()
+									.toLowerCase()
+									+ "_" + Convert.toString(idxUrl);
+							pref.log("[getImages] Already loaded image: " + imgUrl + " as " + fileName + imgType);
 							imageInfo = new ImageInfo();
-							imageInfo.setFilename(fileName+imgType);
+							imageInfo.setFilename(fileName + imgType);
 							imageInfo.setURL(imgUrl);
 						}
 						imageInfo.setTitle(imgName);
@@ -2130,101 +2604,123 @@
 						chD.images.add(imageInfo);
 					}
 				} catch (IndexOutOfBoundsException e) {
-					pref.log("[getImages] Problem loading image. imgURL:"+imgUrl,e);
+					pref.log("[getImages] Problem loading image. imgURL:" + imgUrl, e);
 				}
-				}
+			}
 			exImgSrc.setSource(exImgBlock.findNext());
 		}
-		//========
-		//In the image span
-		//========
-		Extractor spanBlock,exImgName;
+		// ========
+		// In the image span
+		// ========
+		Extractor spanBlock, exImgName;
 		try {
-			spanBlock = new Extractor(doc,p.getProp("imgSpanExStart"),p.getProp("imgSpanExEnd"), 0 , true);
+			spanBlock = new Extractor(doc, p.getProp("imgSpanExStart"), 
+					p.getProp("imgSpanExEnd"), 0, true);
 			tst = spanBlock.findNext();
-			exImgName = new Extractor(tst,p.getProp("imgNameExStart"),p.getProp("imgNameExEnd"), 0 , true);
-			exImgSrc = new Extractor(tst,p.getProp("imgSrcExStart"),p.getProp("imgSrcExEnd"), 0, true);
-			exImgComment = new Extractor(tst,p.getProp("imgCommentExStart"),p.getProp("imgCommentExEnd"), 0, true);
+			exImgName = new Extractor(tst, p.getProp("imgNameExStart"), 
+					p.getProp("imgNameExEnd"), 0, true);
+			exImgSrc = new Extractor(tst, p.getProp("imgSrcExStart"), 
+					p.getProp("imgSrcExEnd"), 0, true);
+			exImgComment = new Extractor(tst, p.getProp("imgCommentExStart"), 
+					p.getProp("imgCommentExEnd"), 0, true);
 		} catch (Exception ex) {
 			return;
 		}
-		while(!exImgSrc.endOfSearch()){
+		while (!exImgSrc.endOfSearch()) {
 			imgUrl = exImgSrc.findNext();
 			imgComment = exImgComment.findNext();
-			if(imgUrl.length()>0){
+			if (imgUrl.length() > 0) {
 				imgUrl = "http://" + imgUrl;
-				try{
-					imgType = (imgUrl.substring(imgUrl.lastIndexOf('.')).toLowerCase()+"    ").substring(0,4).trim();
+				try {
+					imgType = (imgUrl.substring(imgUrl.lastIndexOf('.'))
+							.toLowerCase() + "    ").substring(0, 4).trim();
 					// imgType is now max 4 chars, starting with .
-					if(imgType.startsWith(".png") || imgType.startsWith(".jpg") || imgType.startsWith(".gif")){
-						// Check whether image was already spidered for this cache
-						idxUrl=spideredUrls.find(imgUrl);
-						imgName = chD.getParent().getWayPoint() + "_" + Convert.toString(imgCounter);
+					if (imgType.startsWith(".png")
+							|| imgType.startsWith(".jpg")
+							|| imgType.startsWith(".gif")) {
+						// Check whether image was already spidered for this
+						// cache
+						idxUrl = spideredUrls.find(imgUrl);
+						imgName = chD.getParent().getWayPoint() + "_"
+								+ Convert.toString(imgCounter);
 						imageInfo = null;
-						if (idxUrl<0) { // New image
-							fileName = chD.getParent().getWayPoint().toLowerCase() + "_" + Convert.toString(spiderCounter);
+						if (idxUrl < 0) { // New image
+							fileName = chD.getParent().getWayPoint()
+									.toLowerCase()
+									+ "_" + Convert.toString(spiderCounter);
 							if (lastImages != null) {
-								imageInfo = lastImages.needsSpidering(imgUrl, fileName+imgType);
+								imageInfo = lastImages.needsSpidering(imgUrl,
+										fileName + imgType);
 							}
 							if (imageInfo == null) {
 								imageInfo = new ImageInfo();
-								pref.log("[getImages] Loading image: " + imgUrl+" as "+fileName+imgType);
-								spiderImage(imgUrl, fileName+imgType);
-								imageInfo.setFilename(fileName+imgType);
+								pref.log("[getImages] Loading image: " + imgUrl + " as " + fileName + imgType);
+								spiderImage(imgUrl, fileName + imgType);
+								imageInfo.setFilename(fileName + imgType);
 								imageInfo.setURL(imgUrl);
 							} else {
-								pref.log("[getImages] Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
+								pref.log("[getImages] Already exising image: " + imgUrl + " as " + imageInfo.getFilename());
 							}
 							spideredUrls.add(imgUrl);
 							spiderCounter++;
 						} else { // Image already spidered as wayPoint_'idxUrl'
 							fileName = chD.getParent().getWayPoint().toLowerCase() + "_" + Convert.toString(idxUrl);
-							pref.log("[getImages] Already loaded image: " + imgUrl+" as "+fileName+imgType);
+							pref.log("[getImages] Already loaded image: " + imgUrl + " as " + fileName + imgType);
 							imageInfo = new ImageInfo();
-							imageInfo.setFilename(fileName+imgType);
+							imageInfo.setFilename(fileName + imgType);
 							imageInfo.setURL(imgUrl);
 						}
 						imageInfo.setTitle(exImgName.findNext());
-						while (imgComment.startsWith("<br />")) imgComment=imgComment.substring(6);
-						while (imgComment.endsWith("<br />")) imgComment=imgComment.substring(0,imgComment.length()-6);
+						while (imgComment.startsWith("<br />"))
+							imgComment = imgComment.substring(6);
+						while (imgComment.endsWith("<br />"))
+							imgComment = imgComment.substring(0, imgComment.length() - 6);
 						imageInfo.setComment(imgComment);
 						chD.images.add(imageInfo);
 					}
 				} catch (IndexOutOfBoundsException e) {
-					pref.log("[getImages] IndexOutOfBoundsException in image span. imgURL:"+imgUrl,e);
+					pref.log("[getImages] IndexOutOfBoundsException in image span. imgURL:" + imgUrl, e);
 				}
 			}
 		}
-		//========
-		//Final sweep to check for images in hrefs
-		//========
+		// ========
+		// Final sweep to check for images in hrefs
+		// ========
 		Extractor exFinal = new Extractor(longDesc, "http://", "\"", 0, true);
-		while(!exFinal.endOfSearch()){
+		while (!exFinal.endOfSearch()) {
 			imgUrl = exFinal.findNext();
-			if(imgUrl.length()>0){
-				// Optimize: img.groundspeak.com -> img.geocaching.com (for better caching purposes)
+			if (imgUrl.length() > 0) {
+				// Optimize: img.groundspeak.com -> img.geocaching.com (for
+				// better caching purposes)
 				imgUrl = CacheImages.optimizeLink("http://" + imgUrl);
-				try{
-					imgType = (imgUrl.substring(imgUrl.lastIndexOf('.')).toLowerCase()+"    ").substring(0,4).trim();
-					// imgType is now max 4 chars, starting with . Delete characters in URL after the image extension
-					imgUrl=imgUrl.substring(0,imgUrl.lastIndexOf('.')+imgType.length());
-					if( imgType.startsWith(".jpg") || imgType.startsWith(".bmp") || imgType.startsWith(".png") || imgType.startsWith(".gif")){
-						// Check whether image was already spidered for this cache
-						idxUrl=spideredUrls.find(imgUrl);
-						if (idxUrl<0) { // New image
+				try {
+					imgType = (imgUrl.substring(imgUrl.lastIndexOf('.'))
+							.toLowerCase() + "    ").substring(0, 4).trim();
+					// imgType is now max 4 chars, starting with . Delete
+					// characters in URL after the image extension
+					imgUrl = imgUrl.substring(0, imgUrl.lastIndexOf('.')
+							+ imgType.length());
+					if (imgType.startsWith(".jpg")
+							|| imgType.startsWith(".bmp")
+							|| imgType.startsWith(".png")
+							|| imgType.startsWith(".gif")) {
+						// Check whether image was already spidered for this
+						// cache
+						idxUrl = spideredUrls.find(imgUrl);
+						if (idxUrl < 0) { // New image
 							imgName = chD.getParent().getWayPoint() + "_" + Convert.toString(imgCounter);
 							fileName = chD.getParent().getWayPoint().toLowerCase() + "_" + Convert.toString(spiderCounter);
 							if (lastImages != null) {
-								imageInfo = lastImages.needsSpidering(imgUrl, fileName+imgType);
+								imageInfo = lastImages.needsSpidering(imgUrl, fileName + imgType);
 							}
-							if (imageInfo==null) {
+							if (imageInfo == null) {
 								imageInfo = new ImageInfo();
-								pref.log("[getImages] Loading image: " + imgUrl+" as "+fileName+imgType);
-								spiderImage(imgUrl, fileName+imgType);
-								imageInfo.setFilename(fileName+imgType);
+								pref.log("[getImages] Loading image: " + imgUrl + " as " + fileName + imgType);
+								spiderImage(imgUrl, fileName + imgType);
+								imageInfo.setFilename(fileName + imgType);
 								imageInfo.setURL(imgUrl);
 							} else {
-								pref.log("[getImages] Already exising image: " + imgUrl+" as "+imageInfo.getFilename());
+								pref.log("[getImages] Already exising image: " + imgUrl + " as " + imageInfo.getFilename());
 							}
 							spideredUrls.add(imgUrl);
 							spiderCounter++;
@@ -2234,69 +2730,84 @@
 						}
 					}
 				} catch (IndexOutOfBoundsException e) {
-					pref.log("[getImages] Problem loading image. imgURL:"+imgUrl,e);
+					pref.log("[getImages] Problem loading image. imgURL:" + imgUrl, e);
 				}
 			}
 		}
 	}
 
-
 	/**
 	 * Read an image from the server
-	 * @param imgUrl The Url of the image
-	 * @param target The bytes of the image
+	 * 
+	 * @param imgUrl
+	 *            The Url of the image
+	 * @param target
+	 *            The bytes of the image
 	 */
-	private void spiderImage(String imgUrl, String target){ // TODO implement a fetch(URL, filename) in HttpConnection and use that one
+	private void spiderImage(String imgUrl, String target) {
+		 // TODO implement a fetch(URL, filename) in HttpConnection and use that one
 		HttpConnection connImg;
 		Socket sockImg;
-		//InputStream is;
+		// InputStream is;
 		FileOutputStream fos;
-		//int bytes_read;
-		//byte[] buffer = new byte[9000];
+		// int bytes_read;
+		// byte[] buffer = new byte[9000];
 		ByteArray daten;
 		String datei = "";
 		datei = profile.dataDir + target;
 		connImg = new HttpConnection(imgUrl);
-		if (imgUrl.indexOf('%')>=0) connImg.documentIsEncoded=true;
+		if (imgUrl.indexOf('%') >= 0)
+			connImg.documentIsEncoded = true;
 		connImg.setRequestorProperty("Connection", "close");
-		//connImg.setRequestorProperty("User-Agent","Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.12) Gecko/20080201 Firefox/2.0.0.12");
-		//connImg.setRequestorProperty("Accept","text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5");
-		try{
+		// connImg.setRequestorProperty("User-Agent","Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.12) Gecko/20080201 Firefox/2.0.0.12");
+		// connImg.setRequestorProperty("Accept","text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5");
+		try {
 			pref.log("[spiderImage] Trying to fetch image from: " + imgUrl);
-			String redirect=null;
+			String redirect = null;
 			do {
 				sockImg = connImg.connect();
-				redirect=connImg.getRedirectTo();
-				if (redirect!=null) {
-					connImg=connImg.getRedirectedConnection(redirect);
-					pref.log("[spiderImage] Redirect to "+redirect);
+				redirect = connImg.getRedirectTo();
+				if (redirect != null) {
+					connImg = connImg.getRedirectedConnection(redirect);
+					pref.log("[spiderImage] Redirect to " + redirect);
 				}
-			} while(redirect!=null); // TODO this can end up in an endless loop if trying to load from a malicous site
+			} while (redirect != null); 
+			// TODO this can end up in an endless loop if trying to load from a malicous site
 			daten = connImg.readData(sockImg);
 			fos = new FileOutputStream(new File(datei));
 			fos.write(daten.toBytes());
 			fos.close();
 			sockImg.close();
 		} catch (UnknownHostException e) {
-			pref.log("[spiderImage] Host not there...",e);
-		} catch(IOException ioex){
-			pref.log("[spiderImage] File not found!",ioex);
-		} catch (Exception ex){
-			pref.log("[spiderImage] Some other problem while fetching image",ex);
+			pref.log("[spiderImage] Host not there...", e);
+		} catch (IOException ioex) {
+			pref.log("[spiderImage] File not found!", ioex);
+		} catch (Exception ex) {
+			pref.log("[spiderImage] Some other problem while fetching image", ex);
 		} finally {
-			//Continue with the spider
+			// Continue with the spider
 		}
 	}
 
 	/**
 	 * Read all additional waypoints from a previously fetched cachepage.
-	 * @param doc The previously fetched cachepage
-	 * @param wayPoint The name of the cache
-	 * @param is_found Found status of the cached (is inherited by the additional waypoints)
+	 * 
+	 * @param doc
+	 *            The previously fetched cachepage
+	 * @param wayPoint
+	 *            The name of the cache
+	 * @param is_found
+	 *            Found status of the cached (is inherited by the additional
+	 *            waypoints)
 	 */
-	boolean koords_not_yet_found = true; 
-	private void getAddWaypoints(String doc, String wayPoint, boolean is_found) throws Exception{
-		Extractor exWayBlock = new Extractor(doc,p.getProp("wayBlockExStart"),p.getProp("wayBlockExEnd"), 0, false);
+	boolean koords_not_yet_found = true;
+
+	private void getAddWaypoints(String doc, String wayPoint, boolean is_found)
+			throws Exception {
+		Extractor exWayBlock = new Extractor(doc, 
+				p.getProp("wayBlockExStart"),
+				p.getProp("wayBlockExEnd"), 
+				0, false);
 		String wayBlock = "";
 		String rowBlock = "";
 		wayBlock = exWayBlock.findNext();
@@ -2305,90 +2816,104 @@
 		Regex descRex = new Regex(p.getProp("descRex"));
 		Regex typeRex = new Regex(p.getProp("typeRex"));
 		int counter = 0;
-		if(!exWayBlock.endOfSearch() && wayBlock.indexOf("No additional waypoints to display.")<0){
-			Extractor exRowBlock = new Extractor(wayBlock,p.getProp("rowBlockExStart"),p.getProp("rowBlockExEnd"), 0, false);
+		if (!exWayBlock.endOfSearch()
+				&& wayBlock.indexOf("No additional waypoints to display.") < 0) {
+			Extractor exRowBlock = new Extractor(wayBlock, 
+					p.getProp("rowBlockExStart"), 
+					p.getProp("rowBlockExEnd"),
+					0, false);
 			rowBlock = exRowBlock.findNext();
 			rowBlock = exRowBlock.findNext();
-			while(!exRowBlock.endOfSearch()){
+			while (!exRowBlock.endOfSearch()) {
 				CacheHolder hd = null;
 
-/*
-				String[] AddiBlock=mString.split(rowBlock,'\n');
-				int linePrefix=8;
-				if(AddiBlock.length < linePrefix + 1) {
-					(new MessageBox(MyLocale.getMsg(5500,"Error"), "GC changed table output \nCW must be changed too!", FormBase.OKB)).execute();
-					break;
-				}				
-				String prefix=AddiBlock[linePrefix].trim();
-*/
+				/*
+				 * String[] AddiBlock=mString.split(rowBlock,'\n'); int
+				 * linePrefix=8; if(AddiBlock.length < linePrefix + 1) { (new
+				 * MessageBox(MyLocale.getMsg(5500,"Error"),
+				 * "GC changed table output \nCW must be changed too!",
+				 * FormBase.OKB)).execute(); break; } String
+				 * prefix=AddiBlock[linePrefix].trim();
+				 */
 
-//				Extractor exPrefix=new Extractor(AddiBlock[linePrefix].trim(),p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
+				// Extractor exPrefix=new
+				// Extractor(AddiBlock[linePrefix].trim(),p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
+				Extractor exPrefix = new Extractor(rowBlock, 
+						p.getProp("prefixExStart"),
+						p.getProp("prefixExEnd"), 
+						0, true);
+				String prefix = exPrefix.findNext();
 
-				Extractor exPrefix=new Extractor(rowBlock,p.getProp("prefixExStart"),p.getProp("prefixExEnd"),0,true);
-				String prefix=exPrefix.findNext();
-
 				String adWayPoint;
 				if (prefix.length() == 2)
-					adWayPoint=prefix+wayPoint.substring(2);
+					adWayPoint = prefix + wayPoint.substring(2);
 				else
-				    adWayPoint = MyLocale.formatLong(counter, "00") + wayPoint.substring(2);
+					adWayPoint = MyLocale.formatLong(counter, "00")
+							+ wayPoint.substring(2);
 				counter++;
-				int idx=profile.getCacheIndex(adWayPoint);
-				if (idx>=0) {
-					// Creating new CacheHolder, but accessing old cache.xml file
-					hd=new CacheHolder();
+				int idx = profile.getCacheIndex(adWayPoint);
+				if (idx >= 0) {
+					// Creating new CacheHolder, but accessing old cache.xml
+					// file
+					hd = new CacheHolder();
 					hd.setWayPoint(adWayPoint);
-					hd.getCacheDetails(true); // Accessing Details reads file if not yet done
+					hd.getCacheDetails(true); // Accessing Details reads file if
+												// not yet done
 				} else {
-					hd=new CacheHolder();
+					hd = new CacheHolder();
 					hd.setWayPoint(adWayPoint);
 				}
-				hd.initStates(idx<0);
+				hd.initStates(idx < 0);
 				nameRex.search(rowBlock);
 				if (nameRex.didMatch()) {
 					hd.setCacheName(nameRex.stringMatched(1));
+				} else {
+					pref.log("check nameRex in spider.def"
+							+ Preferences.NEWLINE + rowBlock);
 				}
-				else {
-					pref.log("check nameRex in spider.def"+Preferences.NEWLINE+rowBlock);			
-				}
 				koordRex.search(rowBlock);
 				typeRex.search(rowBlock);
-				if(koordRex.didMatch()) {
+				if (koordRex.didMatch()) {
 					hd.setLatLon(koordRex.stringMatched(1));
 					koords_not_yet_found = false;
+				} else {
+					if (koords_not_yet_found)
+						pref.log("check koordRex in spider.def"
+								+ Preferences.NEWLINE + rowBlock);
 				}
-				else {
-					if (koords_not_yet_found) pref.log("check koordRex in spider.def"+Preferences.NEWLINE+rowBlock);			
+				if (typeRex.didMatch()) {
+					hd.setType(CacheType.gpxType2CwType("Waypoint|"
+							+ typeRex.stringMatched(1)));
+				} else {
+					pref.log("check typeRex in spider.def"
+							+ Preferences.NEWLINE + rowBlock);
 				}
-				if(typeRex.didMatch()) {
-					hd.setType(CacheType.gpxType2CwType("Waypoint|"+typeRex.stringMatched(1)));
-				}
-				else {
-					pref.log("check typeRex in spider.def"+Preferences.NEWLINE+rowBlock);			
-				}
 				rowBlock = exRowBlock.findNext();
 				descRex.search(rowBlock);
 				if (descRex.didMatch()) {
-					hd.getCacheDetails(false).setLongDescription(descRex.stringMatched(1).trim());
+					hd.getCacheDetails(false).setLongDescription(
+							descRex.stringMatched(1).trim());
+				} else {
+					pref.log("check descRex in spider.def"
+							+ Preferences.NEWLINE + rowBlock);
 				}
-				else {
-					pref.log("check descRex in spider.def"+Preferences.NEWLINE+rowBlock);			
-				}
 				hd.setFound(is_found);
 				hd.setCacheSize(CacheSize.CW_SIZE_NOTCHOSEN);
 				hd.setHard(CacheTerrDiff.CW_DT_UNSET);
 				hd.setTerrain(CacheTerrDiff.CW_DT_UNSET);
-				if (idx<0){
+				if (idx < 0) {
 					cacheDB.add(hd);
 					hd.save();
-				}else {
-					CacheHolder cx=cacheDB.get(idx);
-					if (cx.is_Checked && // Only re-spider existing addi waypoints that are ticked
-				 	   cx.isVisible()) { // and are visible (i.e.  not filtered)
-					   cx.initStates(false);
-					   cx.update(hd);
-					   cx.is_Checked=true;
-					   cx.save();
+				} else {
+					CacheHolder cx = cacheDB.get(idx);
+					if (cx.is_Checked && // Only re-spider existing addi
+											// waypoints that are ticked
+							cx.isVisible()) { // and are visible (i.e. not
+												// filtered)
+						cx.initStates(false);
+						cx.update(hd);
+						cx.is_Checked = true;
+						cx.save();
 					}
 				}
 				rowBlock = exRowBlock.findNext();
@@ -2397,92 +2922,105 @@
 		}
 	}
 
-	public void getAttributes(String doc, CacheHolderDetail chD) throws Exception {
-		Extractor attBlock = new Extractor(doc,p.getProp("attBlockExStart"),p.getProp("attBlockExEnd"), 0 , true);
+	public void getAttributes(String doc, CacheHolderDetail chD)
+			throws Exception {
+		Extractor attBlock = new Extractor(doc, p.getProp("attBlockExStart"), 
+				p.getProp("attBlockExEnd"), 0, true);
 		String atts = attBlock.findNext();
-		Extractor attEx = new Extractor(atts,p.getProp("attExStart"),p.getProp("attExEnd"), 0 , true);
-		String attribute=attEx.findNext();
+		Extractor attEx = new Extractor(atts, p.getProp("attExStart"), 
+				p.getProp("attExEnd"), 0, true);
+		String attribute = attEx.findNext();
 		chD.attributes.clear();
 		while (!attEx.endOfSearch()) {
 			chD.attributes.add(attribute);
-			attribute=attEx.findNext();
+			attribute = attEx.findNext();
 		}
 		chD.getParent().setAttribsAsBits(chD.attributes.getAttribsAsBits());
 	}
 
-
 	/**
-	*	Performs an initial fetch to a given address. In this case
-	*	it will be a gc.com address. This method is used to obtain
-	*	the result of a search for caches screen.
-	*/
+	 * Performs an initial fetch to a given address. In this case it will be a
+	 * gc.com address. This method is used to obtain the result of a search for
+	 * caches screen.
+	 */
 	public static String fetch(String address, boolean withResponseHeaders) {
 		CharArray c_data;
-		try{
+		try {
 			HttpConnection conn;
-			if(pref.myproxy.length() > 0 && pref.proxyActive){
-				pref.log("[fetch]:Using proxy: " + pref.myproxy + " / " +pref.myproxyport);
+			if (pref.myproxy.length() > 0 && pref.proxyActive) {
+				pref.log("[fetch]:Using proxy: " + pref.myproxy + " / "
+						+ pref.myproxyport);
 			}
 			conn = new HttpConnection(address);
-			conn.setRequestorProperty("User-Agent", "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0");
-			if(cookieSession.length()>0){
-				conn.setRequestorProperty("Cookie", "ASP.NET_SessionId="+cookieSession +"; userid="+cookieID);
-				pref.log("[fetch]:Cookie Zeug: " + "Cookie: ASP.NET_SessionId="+cookieSession +"; userid="+cookieID);
+			conn.setRequestorProperty("User-Agent",
+					"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0");
+			if (cookieSession.length() > 0) {
+				conn.setRequestorProperty("Cookie", "ASP.NET_SessionId=" + cookieSession + "; userid=" + cookieID);
+				pref.log("[fetch]:Cookie Zeug: " + "Cookie: ASP.NET_SessionId="
+						+ cookieSession + "; userid=" + cookieID);
 			} else
-				pref.log("[fetch]:No Cookie found",null);
+				pref.log("[fetch]:No Cookie found", null);
 			conn.setRequestorProperty("Connection", "close");
 			conn.documentIsEncoded = true;
-			pref.log("[fetch]:Connecting "+address);
+			pref.log("[fetch]:Connecting " + address);
 			Socket sock = conn.connect();
-			pref.log("[fetch]:Connect ok! "+address);
+			pref.log("[fetch]:Connect ok! " + address);
 			// ByteArray daten = conn.readData(sock);
 			JavaUtf8Codec codec = new JavaUtf8Codec();
-			// c_data = codec.decodeText(daten.data, 0, daten.length, true, null);
+			// c_data = codec.decodeText(daten.data, 0, daten.length, true,
+			// null);
 			c_data = conn.readText(sock, codec);
 			sock.close();
-			pref.log("[fetch]:Read data ok "+address);
+			pref.log("[fetch]:Read data ok " + address);
 			if (withResponseHeaders)
-				return getResponseHeaders(conn)+c_data.toString();
-			else return c_data.toString();
-		}catch(IOException ioex){
+				return getResponseHeaders(conn) + c_data.toString();
+			else
+				return c_data.toString();
+		} catch (IOException ioex) {
 			pref.log("IOException in fetch", ioex);
-		}finally{
-			//continue
+		} finally {
+			// continue
 		}
 		return "";
 	}
 
 	/**
-	*	After a fetch to gc.com the next fetches have to use the post method.
-	*	This method does exactly that. Actually this method is generic in the sense
-	*	that it can be used to post to a URL using http post.
-	*/
-	private static String fetch_post(String address, String document, String path, boolean withResponseHeaders) {
+	 * After a fetch to gc.com the next fetches have to use the post method.
+	 * This method does exactly that. Actually this method is generic in the
+	 * sense that it can be used to post to a URL using http post.
+	 */
+	private static String fetch_post(String address, String document,
+			String path, boolean withResponseHeaders) {
 		HttpConnection conn;
 		try {
 			conn = new HttpConnection(address);
 			JavaUtf8Codec codec = new JavaUtf8Codec();
 			conn.documentIsEncoded = true;
-			conn.setRequestorProperty("User-Agent", "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0");
-			conn.setPostData(codec.encodeText(document.toCharArray(),0,document.length(),true,null));
+			conn.setRequestorProperty("User-Agent",
+					"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041107 Firefox/1.0");
+			conn.setPostData(codec.encodeText(document.toCharArray(), 0, document.length(), true, null));
 			conn.setRequestorProperty("Content-Type", "application/x-www-form-urlencoded");
-			if(cookieSession.length()>0){
-				conn.setRequestorProperty("Cookie", "ASP.NET_SessionId="+cookieSession+"; userid="+cookieID);
-				pref.log("[fetch_post] " + "Cookie: ASP.NET_SessionId="+cookieSession +"; userid="+cookieID);
+			if (cookieSession.length() > 0) {
+				conn.setRequestorProperty("Cookie", "ASP.NET_SessionId="
+						+ cookieSession + "; userid=" + cookieID);
+				pref.log("[fetch_post] " + "Cookie: ASP.NET_SessionId="
+						+ cookieSession + "; userid=" + cookieID);
 			} else {
-				pref.log("[fetch_post]:No Cookie found",null);
+				pref.log("[fetch_post]:No Cookie found", null);
 			}
 			conn.setRequestorProperty("Connection", "close");
 			Socket sock = conn.connect();
-			pref.log("[fetch_post]:Connect ok! "+address);
+			pref.log("[fetch_post]:Connect ok! " + address);
 			// ByteArray daten = conn.readData(sock);
 			CharArray c_data = conn.readText(sock, codec);
-			pref.log("[fetch_post]:Read data ok "+address);
-			// CharArray c_data = codec.decodeText(daten.data, 0, daten.length, true, null);
+			pref.log("[fetch_post]:Read data ok " + address);
+			// CharArray c_data = codec.decodeText(daten.data, 0, daten.length,
+			// true, null);
 			sock.close();
 			if (withResponseHeaders)
-				return getResponseHeaders(conn)+c_data.toString();
-			else return c_data.toString();
+				return getResponseHeaders(conn) + c_data.toString();
+			else
+				return c_data.toString();
 		} catch (Exception e) {
 			// pref.log("[fetch_post] Ignored Exception", e, true);
 		}
@@ -2496,9 +3034,10 @@
 			boolean gotany = false;
 
 			for (int i = 0; i < pl.size(); i++) {
-				Property currProp = (Property)pl.get(i);
+				Property currProp = (Property) pl.get(i);
 				if (currProp.value != null) {
-					sb.append(currProp.name).append(": ").append(currProp.value).append("\r\n");
+					sb.append(currProp.name).append(": ")
+							.append(currProp.value).append("\r\n");
 					gotany = true;
 				}
 			}
@@ -2509,20 +3048,23 @@
 	}
 
 	final static String hex = ewe.util.TextEncoder.hex;
+
 	public String encodeUTF8URL(byte[] what) {
 		int max = what.length;
-		char [] dest = new char[6*max]; // Assume each char is a UTF char and encoded into 6 chars
+		char[] dest = new char[6 * max]; // Assume each char is a UTF char and
+											// encoded into 6 chars
 		char d = 0;
-		for (int i = 0; i<max; i++){
+		for (int i = 0; i < max; i++) {
 			char c = (char) what[i];
-			if (c <= ' ' || c == '+' || c == '&' || c == '%' || c == '=' ||
-				   c == '|' || c == '{' || c == '}' || c>0x7f ){
-					dest[d++] = '%';
-					dest[d++] = hex.charAt((c >> 4) & 0xf);
-					dest[d++] = hex.charAt(c & 0xf);
-			} else dest[d++] = c;
+			if (c <= ' ' || c == '+' || c == '&' || c == '%' || c == '='
+					|| c == '|' || c == '{' || c == '}' || c > 0x7f) {
+				dest[d++] = '%';
+				dest[d++] = hex.charAt((c >> 4) & 0xf);
+				dest[d++] = hex.charAt(c & 0xf);
+			} else
+				dest[d++] = c;
 		}
-		return new String(dest,0,d);
+		return new String(dest, 0, d);
 	}
 
 	/**
@@ -2530,124 +3072,159 @@
 	 * sometimes several bugs with identical names but different IDs. Normally
 	 * the bug GUID is used which can be obtained from the cache page.<br>
 	 * Note that each bug has both an ID and a GUID.
-	 * @param name The name (or partial name) of a travelbug
+	 * 
+	 * @param name
+	 *            The name (or partial name) of a travelbug
 	 * @return the id of the bug
 	 */
-	public String getBugId (String name) {
+	public String getBugId(String name) {
 		String bugList;
-		try{
-			//infB.setInfo(oldInfoBox+"\nGetting bug: "+bug);
-			bugList = fetch(p.getProp("getBugByName")+STRreplace.replace(SafeXML.clean(name)," ","+"),false);
-			pref.log("[getBugId] Fetched bugId: "+name);
-		}catch(Exception ex){
-			pref.log("[getBugId] Could not fetch bug list"+name,ex);
-			bugList="";
+		try {
+			// infB.setInfo(oldInfoBox+"\nGetting bug: "+bug);
+			bugList = fetch(p.getProp("getBugByName")
+					+ STRreplace.replace(SafeXML.clean(name), " ", "+"), false);
+			pref.log("[getBugId] Fetched bugId: " + name);
+		} catch (Exception ex) {
+			pref.log("[getBugId] Could not fetch bug list" + name, ex);
+			bugList = "";
 		}
 		try {
-			if (bugList.equals("") || bugList.indexOf(p.getProp("bugNotFound"))>=0) {
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), FormBase.OKB)).execute();
+			if (bugList.equals("")
+					|| bugList.indexOf(p.getProp("bugNotFound")) >= 0) {
+				(new MessageBox(MyLocale.getMsg(5500, "Error"), 
+						MyLocale.getMsg(6020, "Travelbug not found."),
+						FormBase.OKB)).execute();
 				return "";
 			}
-			if (bugList.indexOf(p.getProp("bugTotalRecords"))<0) {
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6021,"More than one travelbug found. Specify name more precisely."), FormBase.OKB)).execute();
+			if (bugList.indexOf(p.getProp("bugTotalRecords")) < 0) {
+				(new MessageBox(MyLocale.getMsg(5500, "Error"),
+						MyLocale.getMsg(6021, "More than one travelbug found. Specify name more precisely."),
+						FormBase.OKB)).execute();
 				return "";
 			}
-			Extractor exGuid = new Extractor(bugList,p.getProp("bugGuidExStart"),p.getProp("bugGuidExEnd"),0,Extractor.EXCLUDESTARTEND); // TODO Replace with spider.def
+			Extractor exGuid = new Extractor(bugList, 
+					p.getProp("bugGuidExStart"), 
+					p.getProp("bugGuidExEnd"), 
+					0, Extractor.EXCLUDESTARTEND); 
+			// TODO Replace with spider.def
 			return exGuid.findNext();
 		} catch (Exception ex) {
-			pref.log("[getBugId] Error getting TB",ex);
+			pref.log("[getBugId] Error getting TB", ex);
 			return "";
 		}
 	}
 
 	/**
-	 * Fetch a bug's mission for a given GUID or ID. If the guid String is longer
-	 * than 10 characters it is assumed to be a GUID, otherwise it is an ID.
-	 * @param guid the guid or id of the travelbug
+	 * Fetch a bug's mission for a given GUID or ID. If the guid String is
+	 * longer than 10 characters it is assumed to be a GUID, otherwise it is an
+	 * ID.
+	 * 
+	 * @param guid
+	 *            the guid or id of the travelbug
 	 * @return The mission
 	 */
 	public String getBugMissionByGuid(String guid) {
 		String bugDetails;
-		try{
-			//infB.setInfo(oldInfoBox+"\nGetting bug: "+bug);
-			if (guid.length()>10)
-				bugDetails = fetch(p.getProp("getBugByGuid")+guid,false);
+		try {
+			// infB.setInfo(oldInfoBox+"\nGetting bug: "+bug);
+			if (guid.length() > 10)
+				bugDetails = fetch(p.getProp("getBugByGuid") + guid, false);
 			else
-				bugDetails = fetch(p.getProp("getBugById")+guid,false);
-			pref.log("[getBugMissionByGuid] Fetched TB detailsById: "+guid);
-		}catch(Exception ex){
-			pref.log("[getBugMissionByGuid] Could not fetch TB details "+guid,ex);
-			bugDetails="";
+				bugDetails = fetch(p.getProp("getBugById") + guid, false);
+			pref.log("[getBugMissionByGuid] Fetched TB detailsById: " + guid);
+		} catch (Exception ex) {
+			pref.log("[getBugMissionByGuid] Could not fetch TB details " + guid, ex);
+			bugDetails = "";
 		}
 		try {
-			if (bugDetails.indexOf(p.getProp("bugNotFound"))>=0) {
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), FormBase.OKB)).execute();
+			if (bugDetails.indexOf(p.getProp("bugNotFound")) >= 0) {
+				(new MessageBox(MyLocale.getMsg(5500, "Error"),
+						MyLocale.getMsg(6020, "Travelbug not found."),
+						FormBase.OKB)).execute();
 				return "";
 			}
-			Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
+			Extractor exDetails = new Extractor(bugDetails, 
+					p.getProp("bugDetailsStart"), 
+					p.getProp("bugDetailsEnd"),
+					0, Extractor.EXCLUDESTARTEND);
 			return exDetails.findNext();
 		} catch (Exception ex) {
-			pref.log("[getBugMissionByGuid] Error getting TB "+guid,ex);
+			pref.log("[getBugMissionByGuid] Error getting TB " + guid, ex);
 			return "";
 		}
 	}
 
 	/**
 	 * Fetch a bug's mission for a given tracking number
-	 * @param trackNr the tracking number of the travelbug
+	 * 
+	 * @param trackNr
+	 *            the tracking number of the travelbug
 	 * @return The mission
 	 */
 	public String getBugMissionByTrackNr(String trackNr) {
 		String bugDetails;
-		try{
-			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr,false);
-			pref.log("[getBugMissionByTrackNr] Fetched bug detailsByTrackNr: "+trackNr);
-		}catch(Exception ex){
-			pref.log("[getBugMissionByTrackNr] getBugByTrackNr "+trackNr,ex);
-			bugDetails="";
+		try {
+			bugDetails = fetch(p.getProp("getBugByTrackNr") + trackNr, false);
+			pref.log("[getBugMissionByTrackNr] Fetched bug detailsByTrackNr: " + trackNr);
+		} catch (Exception ex) {
+			pref.log("[getBugMissionByTrackNr] getBugByTrackNr " + trackNr, ex);
+			bugDetails = "";
 		}
 		try {
-			if (bugDetails.indexOf(p.getProp("bugNotFound"))>=0) {
-				pref.log("[getBugMissionByTrackNr], bugNotFound "+trackNr,null);
-//				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), MessageBox.OKB)).execute();
+			if (bugDetails.indexOf(p.getProp("bugNotFound")) >= 0) {
+				pref.log("[getBugMissionByTrackNr], bugNotFound " + trackNr, null);
+				// (new MessageBox(MyLocale.getMsg(5500,"Error"),
+				// MyLocale.getMsg(6020,"Travelbug not found."),
+				// MessageBox.OKB)).execute();
 				return "";
 			}
-			Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
+			Extractor exDetails = new Extractor(bugDetails, 
+					p.getProp("bugDetailsStart"), 
+					p.getProp("bugDetailsEnd"),
+					0, Extractor.EXCLUDESTARTEND);
 			return exDetails.findNext();
 		} catch (Exception ex) {
-			pref.log("[getBugMissionByTrackNr] TB Details, bugNotFound "+trackNr,ex);
+			pref.log("[getBugMissionByTrackNr] TB Details, bugNotFound " + trackNr, ex);
 			return "";
 		}
 	}
 
 	/**
 	 * Fetch a bug's mission and namefor a given tracking number
-	 * @param TB the travelbug
+	 * 
+	 * @param TB
+	 *            the travelbug
 	 * @return true if suceeded
 	 */
 	public boolean getBugMissionAndNameByTrackNr(Travelbug TB) {
 		String bugDetails;
 		String trackNr = TB.getTrackingNo();
-		try{
-			bugDetails = fetch(p.getProp("getBugByTrackNr")+trackNr,false);
-			pref.log("[getBugMissionAndNameByTrackNr] Fetched TB getBugByTrackNr: "+trackNr);
-		}catch(Exception ex){
-			pref.log("[getBugMissionAndNameByTrackNr] Could not fetch bug details: "+trackNr,ex);
-			bugDetails="";
+		try {
+			bugDetails = fetch(p.getProp("getBugByTrackNr") + trackNr, false);
+			pref.log("[getBugMissionAndNameByTrackNr] Fetched TB getBugByTrackNr: " + trackNr);
+		} catch (Exception ex) {
+			pref.log("[getBugMissionAndNameByTrackNr] Could not fetch bug details: " + trackNr, ex);
+			bugDetails = "";
 		}
 		try {
-			if (bugDetails.indexOf(p.getProp("bugNotFound"))>=0) {
-				pref.log("[getBugMissionAndNameByTrackNr], bugNotFound: "+trackNr,null);
-//				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(6020,"Travelbug not found."), MessageBox.OKB)).execute();
+			if (bugDetails.indexOf(p.getProp("bugNotFound")) >= 0) {
+				pref.log("[getBugMissionAndNameByTrackNr], bugNotFound: " + trackNr, null);
+				// (new MessageBox(MyLocale.getMsg(5500,"Error"),
+				// MyLocale.getMsg(6020,"Travelbug not found."),
+				// MessageBox.OKB)).execute();
 				return false;
 			}
-			Extractor exDetails = new Extractor(bugDetails,p.getProp("bugDetailsStart"),p.getProp("bugDetailsEnd"),0,Extractor.EXCLUDESTARTEND);
-			TB.setMission( exDetails.findNext() );
-			Extractor exName = new Extractor(bugDetails,p.getProp("bugNameStart"),p.getProp("bugNameEnd"),0,Extractor.EXCLUDESTARTEND);
-			TB.setName( exName.findNext() );
+			Extractor exDetails = new Extractor(bugDetails, 
+					p.getProp("bugDetailsStart"), p.getProp("bugDetailsEnd"), 0,
+					Extractor.EXCLUDESTARTEND);
+			TB.setMission(exDetails.findNext());
+			Extractor exName = new Extractor(bugDetails, 
+					p.getProp("bugNameStart"), p.getProp("bugNameEnd"), 0,
+					Extractor.EXCLUDESTARTEND);
+			TB.setName(exName.findNext());
 			return true;
 		} catch (Exception ex) {
-			pref.log("[getBugMissionAndNameByTrackNr] TB Details, bugNotFound: "+trackNr,ex);
+			pref.log("[getBugMissionAndNameByTrackNr] TB Details, bugNotFound: " + trackNr, ex);
 			return false;
 		}
 	}
@@ -2656,28 +3233,82 @@
 		SpiderProperties() {
 			super();
 			try {
-				load(new FileInputStream(FileBase.getProgramDirectory()+"/spider.def"));
+				load(new FileInputStream(FileBase.getProgramDirectory() + "/spider.def"));
 			} catch (Exception ex) {
-				pref.log("Failed to load spider.def from "+FileBase.getProgramDirectory(),ex);
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5504,"Could not load 'spider.def'"), FormBase.OKB)).execute();
+				pref.log("Failed to load spider.def from " + FileBase.getProgramDirectory(), ex);
+				(new MessageBox(MyLocale.getMsg(5500, "Error"), 
+						MyLocale.getMsg(5504, "Could not load 'spider.def'"),
+						FormBase.OKB)).execute();
 			}
 		}
 
 		/**
 		 * Gets an entry in spider.def by its key (tag)
-		 * @param key The key which is attributed to a specific entry
+		 * 
+		 * @param key
+		 *            The key which is attributed to a specific entry
 		 * @return The value for the key
-		 * @throws Exception When a key is requested which doesn't exist
+		 * @throws Exception
+		 *             When a key is requested which doesn't exist
 		 */
 		public String getProp(String key) throws Exception {
-			String s=super.getProperty(key);
+			String s = super.getProperty(key);
 			if (s == null) {
-				(new MessageBox(MyLocale.getMsg(5500,"Error"), MyLocale.getMsg(5497,"Error missing tag in spider.def") + ": "+key, FormBase.OKB)).execute();
-				pref.log("Missing tag in spider.def: "+key);
-				throw new Exception("Missing tag in spider.def: "+key);
+				(new MessageBox(MyLocale.getMsg(5500, "Error"),
+						MyLocale.getMsg(5497, "Error missing tag in spider.def")+ ": " + key,
+						FormBase.OKB)).execute();
+				pref.log("Missing tag in spider.def: " + key);
+				throw new Exception("Missing tag in spider.def: " + key);
 			}
 			return s;
 		}
 
 	}
+
+	class RouteImporter extends MinML {
+
+		String _fileName;
+		Vector _routePoints;
+
+		RouteImporter(String fileName) {
+			_fileName = fileName;
+			_routePoints = new Vector();
+		}
+
+		Vector doIt() {
+			FileInputStream rFIS = null;
+			InputStreamReader r = null;
+			try {
+				rFIS = new ewe.io.FileInputStream(_fileName);
+				r = new ewe.io.InputStreamReader(rFIS);
+				if (r.read() != 65279) {
+					r.close();
+					rFIS.close();
+					rFIS = new ewe.io.FileInputStream(_fileName);
+					r = new ewe.io.InputStreamReader(rFIS);
+				}
+				parse(r);
+				r.close();
+				rFIS.close();
+			} catch (Exception e) {
+			}
+			return _routePoints;
+		}
+
+		public void startElement(String name, AttributeList atts) {
+			if (name.equals("trkpt")|| name.equals("rtept")) {
+				double lat = Common.parseDouble(atts.getValue("lat"));
+				double lon = Common.parseDouble(atts.getValue("lon"));
+				TrackPoint tp = new TrackPoint(lat, lon);
+				if (tp.isValid())
+					_routePoints.add(tp);
+				return;
+			}
+		}
+
+		public void endElement(String name) {
+
+		}
+
+	}
 }

Modified: trunk/src/CacheWolf/navi/MovingMap.java
===================================================================
--- trunk/src/CacheWolf/navi/MovingMap.java	2010-09-25 17:26:01 UTC (rev 2794)
+++ trunk/src/CacheWolf/navi/MovingMap.java	2010-09-27 10:02:03 UTC (rev 2795)
@@ -76,7 +76,6 @@
 import ewe.ui.MenuItem;
 import ewe.ui.MessageBox;
 import ewe.ui.PenEvent;
-import ewe.ui.ToolTip;
 import ewe.ui.WindowConstants;
 import ewe.ui.WindowEvent;
 import ewe.ui.mButton;

Modified: trunk/src/CacheWolf/navi/Navigate.java
===================================================================
--- trunk/src/CacheWolf/navi/Navigate.java	2010-09-25 17:26:01 UTC (rev 2794)
+++ trunk/src/CacheWolf/navi/Navigate.java	2010-09-27 10:02:03 UTC (rev 2795)
@@ -60,7 +60,7 @@
 	public boolean destinationIsCache = false;
 	public CWGPSPoint gpsPos = new CWGPSPoint();
 	public Track curTrack = null;
-	Color trackColor = new Color(255,0,0); // red
+	public Color trackColor = new Color(255,0,0); // red
 	public CWPoint skyOrientationDir = new CWPoint();
 	public int luminary = SkyOrientation.SUN;
 



From araber95 at mail.berlios.de  Mon Sep 27 02:19:50 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 27 Sep 2010 02:19:50 PM +0200
Subject: [Cachewolf-svn] r2796 - in trunk: res_noewe/languages
	src/CacheWolf/imp
Message-ID: <20100927121950.70E7548103A@sheep.berlios.de>

Author: araber95
Date: 2010-09-27 14:19:50 +0200 (Mon, 27 Sep 2010)
New Revision: 2796

Modified:
   trunk/res_noewe/languages/DE.cfg
   trunk/res_noewe/languages/EN.cfg
   trunk/res_noewe/languages/FR.cfg
   trunk/res_noewe/languages/NL.cfg
   trunk/res_noewe/languages/PL.cfg
   trunk/res_noewe/languages/SV.cfg
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
adding the language texts for track/route import

Modified: trunk/res_noewe/languages/DE.cfg
===================================================================
--- trunk/res_noewe/languages/DE.cfg	2010-09-27 10:02:03 UTC (rev 2795)
+++ trunk/res_noewe/languages/DE.cfg	2010-09-27 12:19:50 UTC (rev 2796)
@@ -297,6 +297,9 @@
 648=Fehlersuch Modus (debug)
 649=Nutze eigene Symbole (nach Neustart)
 650=GC Mitgliedsnr.:
+651=Frage
+652=Alle Cachedetails laden?
+653=Auch Cache herunterladen?
 700=Filter setzen
 701=Entfernung
 702=Schwierigkeit
@@ -963,7 +966,7 @@
 5499=Fehler beim Laden der Login Seite.\nBitte ?berpr?fen Sie Ihre Internetverbindung.
 5500=Fehler
 5501=Login nicht m?glich. Falscher Name oder Passwort?
-5502=Lade erste Seite ...
+5502=Lade Seiten ...
 5503=Fehler beim Laden der ersten Seite.
 5504=Fehler beim Laden der Datei 'spider.def'
 5505=Passwort eingeben

Modified: trunk/res_noewe/languages/EN.cfg
===================================================================
--- trunk/res_noewe/languages/EN.cfg	2010-09-27 10:02:03 UTC (rev 2795)
+++ trunk/res_noewe/languages/EN.cfg	2010-09-27 12:19:50 UTC (rev 2796)
@@ -297,6 +297,9 @@
 648=Debug Mode
 649=use own symbols
 650=GC memberID:
+651=Question
+652=Update caches with all details?
+653=Download cache also?
 700=Set filter
 701=Distance
 702=Difficulty
@@ -963,7 +966,7 @@
 5499=Error loading login page.\nPlease check your internet connection.
 5500=Error
 5501=Login failed! Wrong account or password?
-5502=Fetching first page...
+5502=Fetching pages...
 5503=Error fetching first list page.
 5504=Could not load 'spider.def'
 5505=Enter Password

Modified: trunk/res_noewe/languages/FR.cfg
===================================================================
--- trunk/res_noewe/languages/FR.cfg	2010-09-27 10:02:03 UTC (rev 2795)
+++ trunk/res_noewe/languages/FR.cfg	2010-09-27 12:19:50 UTC (rev 2796)
@@ -288,15 +288,18 @@
 639=Update when spidering?
 640=Oui
 641=Non
-642=Question
-643=Cache details in:
+642 = Requ?te
+643 = d?tails cache dans:
 644=waypoint
 645=nom
 646=Centre actuel du GPS
-647=[cachegrouped sorting]
-648=[Debug Mode]
-649=[use own symbols]
-650=GC memberID:
+647 = cachegrouped de tri
+648 = Le mode de d?bogage
+649 = utiliser des symboles propres
+650 = GC Num?ro de membre:
+651=Question
+652 = Mise ? jour des caches avec tous les d?tails?
+653 = T?l?charger cache aussi?
 700=Cr?er filtre
 701=Distance
 702=Dificult?
@@ -963,7 +966,7 @@
 5499=Erreur en chargeant la page Login.\nMerci de v?rifier votre connexion internet.
 5500=Erreur.
 5501=Login pas possible. Nom ou mot de passe fautif?
-5502=Chargeant premi?re page ...
+5502 = Sites de t?l?chargement ...
 5503=Erreur en chargeant la premi?re page.
 5504=Erreur en chargeant le fichier 'spider.def'
 5505=Entrez mot de passe

Modified: trunk/res_noewe/languages/NL.cfg
===================================================================
--- trunk/res_noewe/languages/NL.cfg	2010-09-27 10:02:03 UTC (rev 2795)
+++ trunk/res_noewe/languages/NL.cfg	2010-09-27 12:19:50 UTC (rev 2796)
@@ -297,6 +297,9 @@
 648=Debug Mode
 649=Gebruik eigen symbolen
 650=GC memberID:
+651 = Vraag
+652 = Update caches met alle details?
+653 = download cache ook?
 700=Selecteer filter
 701=Afstand
 702=Moeilijkheidsgraad
@@ -963,7 +966,7 @@
 5499=Fout bij het laden van de login pagina.
 5500=Fout
 5501=Login mislukt! Verkeerde accountnaam of password
-5502=Ophalen eerste pagina.
+5502 = ophalen pagina's ...
 5503=Fout bij ophalen eerste pagina.
 5504=Kon 'spider.def' niet laden
 5505=Geef password in

Modified: trunk/res_noewe/languages/PL.cfg
===================================================================
--- trunk/res_noewe/languages/PL.cfg	2010-09-27 10:02:03 UTC (rev 2795)
+++ trunk/res_noewe/languages/PL.cfg	2010-09-27 12:19:50 UTC (rev 2796)
@@ -297,6 +297,9 @@
 648=[Debug Mode]
 649=[use own symbols]
 650=GC memberID:
+651 = Pytanie
+652 = Aktualizacja buforuje wszystkie szczeg??y?
+653 = cache Pobierz tak?e?
 700=Ustaw filtr
 701=Odleglosc
 702=Trudnosc
@@ -963,7 +966,7 @@
 5499=Blad wczytywania strony logowania.\nProsze sprawdzic polaczenie z internetem.
 5500=Blad
 5501=Logowanie nieudane! Brak konta lub zle haslo?
-5502=Sciagam pierwsza strone...
+5502 = Pobieranie stron ...
 5503=Blad pozyskiwania pierwszej strony.
 5504=Nie mozna wczytac 'spider.def'
 5505=Wprowadz Haslo

Modified: trunk/res_noewe/languages/SV.cfg
===================================================================
--- trunk/res_noewe/languages/SV.cfg	2010-09-27 10:02:03 UTC (rev 2795)
+++ trunk/res_noewe/languages/SV.cfg	2010-09-27 12:19:50 UTC (rev 2796)
@@ -297,6 +297,9 @@
 648=Fels?kningsl?ge
 649=anv?nda egna symboler
 650=GC memberID:
+651 = Fr?ga
+652 = Ladda alla cache detaljer?
+653 = Ladda ner cache ocks??
 700=St?ll in filter
 701=Avst?nd
 702=Sv?righetsgrad
@@ -963,7 +966,7 @@
 5499=Fel vid inl?sning av inloggningssidan.\nPlease kontrollera din Internetanslutning.
 5500=Fel
 5501=Inloggning misslyckades! Fel konto eller l?senord?
-5502=H?mtar f?rsta sidan ...
+5502 = H?mtar sidor ...
 5503=Fel n?r f?rsta lista sidan.
 5504=Kunde inte l?sa in "spider.def"
 5505=Ange l?senord

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-27 10:02:03 UTC (rev 2795)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-27 12:19:50 UTC (rev 2796)
@@ -348,6 +348,13 @@
 				startPos = null;
 		}
 
+		if (new MessageBox(MyLocale.getMsg(651, "Question"),
+				MyLocale.getMsg(653,"Do you want to get the Caches?"),
+				MessageBox.YESB | MessageBox.NOB).execute() == MessageBox.NOB) {
+			if (startPos != null) pref.setCurCentrePt(startPos);
+			return;
+		}
+
 		if (startPos != null && !startPos.isValid()) {
 			(new MessageBox(MyLocale.getMsg(5500, "Error"),
 					MyLocale.getMsg(5509, "Coordinates for centre must be set"), FormBase.OKB))
@@ -356,7 +363,7 @@
 		}
 
 		Vm.showWait(true);
-		infB = new InfoBox("Status", MyLocale.getMsg(5502,"Fetching first page..."));
+		infB = new InfoBox("Status", MyLocale.getMsg(5502,"Fetching pages..."));
 		infB.exec();
 
 		if (!loggedIn || pref.forceLogin) {
@@ -435,8 +442,8 @@
 		} // or ask for download of intermediate result
 		
 		int spiderErrors = 0;
-		if (new MessageBox("Question",
-				"Update caches with all details?",
+		if (new MessageBox(MyLocale.getMsg(651, "Question"),
+				MyLocale.getMsg(652,"Update caches with all details?"),
 				MessageBox.YESB | MessageBox.NOB).execute() == MessageBox.IDYES) {
 
 			for (int i = 0; i < cachesToLoad.size(); i++) {
@@ -462,8 +469,7 @@
 					FormBase.DEFOKB).execute();
 		}
 		if (maxNumberAbort) {
-			new MessageBox(
-					MyLocale.getMsg(5519,"Information"),
+			new MessageBox(MyLocale.getMsg(5519,"Information"),
 					MyLocale.getMsg(5520,"Only the given maximum of caches were loaded.\nRepeat spidering later to load more caches.\nNo already existing caches were updated."),
 					FormBase.DEFOKB).execute();
 		}



From araber95 at mail.berlios.de  Mon Sep 27 06:43:15 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 27 Sep 2010 06:43:15 PM +0200
Subject: [Cachewolf-svn] r2797 - trunk/src/CacheWolf/imp
Message-ID: <20100927164315.17332481073@sheep.berlios.de>

Author: araber95
Date: 2010-09-27 18:43:14 +0200 (Mon, 27 Sep 2010)
New Revision: 2797

Modified:
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
change for complete download to work

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-27 12:19:50 UTC (rev 2796)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-27 16:43:14 UTC (rev 2797)
@@ -348,9 +348,11 @@
 				startPos = null;
 		}
 
-		if (new MessageBox(MyLocale.getMsg(651, "Question"),
-				MyLocale.getMsg(653,"Do you want to get the Caches?"),
-				MessageBox.YESB | MessageBox.NOB).execute() == MessageBox.NOB) {
+		int answer = new MessageBox(MyLocale.getMsg(651, "Question"),
+				MyLocale.getMsg(652,"Update caches with all details?"),
+				MessageBox.YESB | MessageBox.NOB | MessageBox.CANCELB).execute();
+		boolean complete = answer == MessageBox.YESB;
+		if ( answer == MessageBox.CANCELB) {
 			if (startPos != null) pref.setCurCentrePt(startPos);
 			return;
 		}
@@ -407,7 +409,7 @@
 			if (nextPos != null) {
 				sq = getSquare(startPos, lateralDistance);
 				getCaches(sq.topleft.latDec, sq.topleft.lonDec,
-						sq.buttomright.latDec, sq.buttomright.lonDec, false);
+						sq.buttomright.latDec, sq.buttomright.lonDec, complete);
 				// pref.log("next WP = " + startPos.toString(), null);
 
 				double degrees = startPos.getBearing(nextPos);
@@ -420,7 +422,7 @@
 					origin = nextCheckPoint;
 					sq = getSquare(origin, lateralDistance);
 					getCaches(sq.topleft.latDec, sq.topleft.lonDec,
-							sq.buttomright.latDec, sq.buttomright.lonDec, false);
+							sq.buttomright.latDec, sq.buttomright.lonDec, complete);
 					// pref.log("next CP = " + origin.toString(), null);
 					if (infB.isClosed) {
 						break;
@@ -434,7 +436,7 @@
 		}
 		sq = getSquare(startPos, lateralDistance);
 		getCaches(sq.topleft.latDec, sq.topleft.lonDec, sq.buttomright.latDec,
-				sq.buttomright.lonDec, false);
+				sq.buttomright.lonDec, complete);
 		// pref.log("last WP = " + startPos.toString(), null);
 		if (infB.isClosed) {
 			Vm.showWait(false);
@@ -442,10 +444,7 @@
 		} // or ask for download of intermediate result
 		
 		int spiderErrors = 0;
-		if (new MessageBox(MyLocale.getMsg(651, "Question"),
-				MyLocale.getMsg(652,"Update caches with all details?"),
-				MessageBox.YESB | MessageBox.NOB).execute() == MessageBox.IDYES) {
-
+		if (complete) {
 			for (int i = 0; i < cachesToLoad.size(); i++) {
 				String wpt = (String) cachesToLoad.get(i);
 				boolean is_found = wpt.indexOf("found") != -1;



From araber95 at mail.berlios.de  Mon Sep 27 06:58:30 2010
From: araber95 at mail.berlios.de (araber95 at mail.berlios.de)
Date: Mon, 27 Sep 2010 06:58:30 PM +0200
Subject: [Cachewolf-svn] r2798 - trunk/src/CacheWolf/imp
Message-ID: <20100927165830.5A4AF481075@sheep.berlios.de>

Author: araber95
Date: 2010-09-27 18:58:30 +0200 (Mon, 27 Sep 2010)
New Revision: 2798

Modified:
   trunk/src/CacheWolf/imp/SpiderGC.java
Log:
Adding URL in quick import for possibility of open cache in browser online

Modified: trunk/src/CacheWolf/imp/SpiderGC.java
===================================================================
--- trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-27 16:43:14 UTC (rev 2797)
+++ trunk/src/CacheWolf/imp/SpiderGC.java	2010-09-27 16:58:30 UTC (rev 2798)
@@ -660,6 +660,7 @@
 					if (setCachesToLoad) {
 						cachesToLoad.add(wp + "found");
 					} else {
+						ch.getCacheDetails(false).URL="http://www.geocaching.com/seek/cache_details.aspx?wp="+wp;
 						ch.save();
 					}
 					if (Global.mainTab.statBar != null)



